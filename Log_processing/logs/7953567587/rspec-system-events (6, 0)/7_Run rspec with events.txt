2024-02-19T02:04:38.4522142Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-02-19T02:04:38.4523031Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-02-19T02:04:38.4551407Z shell: /usr/bin/bash -e {0}
2024-02-19T02:04:38.4551895Z env:
2024-02-19T02:04:38.4552244Z   POSTGRES_HOST: localhost
2024-02-19T02:04:38.4552628Z   DATABASE_HOST: localhost
2024-02-19T02:04:38.4553033Z   PG_USERNAME: postgres
2024-02-19T02:04:38.4553414Z   PG_PASSWORD: password
2024-02-19T02:04:38.4553792Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-02-19T02:04:38.4554293Z   POSTGRES_PORT: 5432
2024-02-19T02:04:38.4554644Z   PGHOST: localhost
2024-02-19T02:04:38.4554945Z   PGUSER: postgres
2024-02-19T02:04:38.4555366Z   RAILS_ENV: test
2024-02-19T02:04:38.4555726Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-02-19T02:04:38.4556224Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-02-19T02:04:38.4556637Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-02-19T02:04:38.4557049Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-02-19T02:04:38.4557679Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-02-19T02:04:38.4558296Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-02-19T02:04:38.4559005Z   EVENTS_READ: true
2024-02-19T02:04:38.4559304Z ##[endgroup]
2024-02-19T02:04:44.0361796Z W, [2024-02-19T02:04:44.035781 #2389]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-02-19T02:04:44.0364667Z W, [2024-02-19T02:04:44.035841 #2389]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-19T02:04:44.0366615Z W, [2024-02-19T02:04:44.035860 #2389]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-19T02:04:44.0370463Z W, [2024-02-19T02:04:44.035891 #2389]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-02-19T02:04:46.6792450Z W, [2024-02-19T02:04:46.678877 #2389]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-02-19T02:04:46.6795220Z W, [2024-02-19T02:04:46.678919 #2389]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-19T02:04:46.6798767Z W, [2024-02-19T02:04:46.678932 #2389]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-19T02:04:46.6803161Z W, [2024-02-19T02:04:46.678980 #2389]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-02-19T02:04:46.6856234Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/partners/children_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-02-19T02:04:55.0110329Z 
2024-02-19T02:04:55.0110969Z Randomized with seed 54601
2024-02-19T02:04:55.9303693Z 
2024-02-19T02:04:55.9304667Z /account_requests
2024-02-19T02:04:55.9305602Z   GET #new
2024-02-19T02:04:55.9823683Z     renders a successful response
2024-02-19T02:04:55.9824737Z   POST #create
2024-02-19T02:04:55.9825333Z     with invalid parameters
2024-02-19T02:04:56.0102953Z       does not create a new AccountRequest
2024-02-19T02:04:56.0268093Z       renders a successful response (i.e. to display the 'new' template)
2024-02-19T02:04:56.0269150Z     with valid parameters
2024-02-19T02:04:56.0425044Z       creates a new AccountRequest
2024-02-19T02:04:56.0564106Z       redirects to the created account_request confirmation
2024-02-19T02:04:56.0675837Z       delivers the confirmation email via default queue
2024-02-19T02:04:56.0676967Z   GET #received
2024-02-19T02:04:56.0677586Z     when given a valid token
2024-02-19T02:04:56.0822016Z       should render the received template
2024-02-19T02:04:56.0822971Z     when given a invalid token
2024-02-19T02:04:56.0878502Z       should render a error that says that is code provided is invalid
2024-02-19T02:04:56.0879459Z   GET #confirmation
2024-02-19T02:04:56.0880248Z     when given a valid token
2024-02-19T02:04:56.1010995Z       should render the confirmation template
2024-02-19T02:04:56.1011996Z     when given a invalid token
2024-02-19T02:04:56.1066414Z       should render a error that says that is code provided is invalid
2024-02-19T02:04:56.1067547Z     when given a token that has already been confirmed
2024-02-19T02:04:56.2909686Z       should render a error that says that is code provided is invalid
2024-02-19T02:04:56.2911085Z   GET #confirm
2024-02-19T02:04:56.2911834Z     when given a token that has already been confirmed
2024-02-19T02:04:56.4916990Z       should render a error that says that is code provided is invalid
2024-02-19T02:04:56.4917777Z     when given a invalid token
2024-02-19T02:04:56.4976987Z       should render a error that says that is code provided is invalid
2024-02-19T02:04:56.4977910Z     when given a valid token
2024-02-19T02:04:56.5164361Z       should the update confirmed_at on the account_request, queue confirmation email and render confirm template
2024-02-19T02:04:56.5165291Z 
2024-02-19T02:04:56.5165701Z Vendor
2024-02-19T02:04:56.5166827Z   when editing an existing vendor
2024-02-19T02:04:59.2778896Z     can update the contact info for a vendor as a user
2024-02-19T02:05:00.0201928Z     does not update a vendor with empty attributes
2024-02-19T02:05:00.0203209Z   When a user views the index page
2024-02-19T02:05:00.5057447Z     should have the vendor names in alphabetical order
2024-02-19T02:05:00.5058810Z   When vendor have purchases associated with them already
2024-02-19T02:05:01.1751654Z     can have a single vendor show semi-detailed stats about purchases
2024-02-19T02:05:01.7753956Z     can have existing vendors show in the #index with some summary stats
2024-02-19T02:05:01.7755006Z   when creating a new vendor
2024-02-19T02:05:02.5508993Z     can create a new vendor instance as a user
2024-02-19T02:05:03.2787804Z     cannot add a new vendor instance with empty attributes
2024-02-19T02:05:03.2788754Z 
2024-02-19T02:05:03.2788980Z /partners/children
2024-02-19T02:05:03.2789790Z   GET #index
2024-02-19T02:05:03.3739832Z     should render without any issues
2024-02-19T02:05:03.4207210Z     should export CSV
2024-02-19T02:05:03.4210716Z 
2024-02-19T02:05:03.4211145Z Dashboard
2024-02-19T02:05:03.4214294Z   With an existing essentials bank
2024-02-19T02:05:03.4215917Z     Inventory Totals
2024-02-19T02:05:03.4216629Z       Summary
2024-02-19T02:05:04.3567904Z         displays the on-hand totals
2024-02-19T02:05:04.3568505Z         when constrained to date range
2024-02-19T02:05:05.4690610Z           does not change
2024-02-19T02:05:05.4691614Z     Signage
2024-02-19T02:05:08.3509616Z       shows their organization name unless they have a logo set
2024-02-19T02:05:08.3510268Z     Purchases
2024-02-19T02:05:09.3087493Z       has a link to create a new purchase
2024-02-19T02:05:09.3089178Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-19T02:05:09.3090562Z         filtering to 'This Year'
2024-02-19T02:05:12.6521414Z           shows correct 0 Recent Purchase link(s)
2024-02-19T02:05:12.6523098Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 3 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-19T02:05:12.6524295Z         filtering to 'Last Month'
2024-02-19T02:05:14.1791058Z           shows correct 3 Recent Purchase link(s)
2024-02-19T02:05:14.1792791Z       given 1 Purchase on 2024-02-16  (unless 'All Time'), 0 during 2024-02-17..2024-02-17, and 1 on 2024-02-18
2024-02-19T02:05:14.1794010Z         filtering to 'Yesterday'
2024-02-19T02:05:17.5060307Z           shows correct 0 Recent Purchase link(s)
2024-02-19T02:05:17.5061854Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-19T02:05:17.5063254Z         filtering to 'This Month'
2024-02-19T02:05:18.8839253Z           shows correct 1 Recent Purchase link(s)
2024-02-19T02:05:18.8840912Z       given 1 Purchase on 2022-02-17  (unless 'All Time'), 1 during 2022-02-18..2023-10-19, and 1 on 2023-10-20
2024-02-19T02:05:18.8842116Z         filtering to '' (February 18, 2022 - October 19, 2023)
2024-02-19T02:05:20.2953907Z           shows correct 1 Recent Purchase link(s)
2024-02-19T02:05:20.2955736Z       given 1 Purchase on 2024-02-17  (unless 'All Time'), 4 during 2024-02-18..2024-02-18, and 1 on 2024-02-19
2024-02-19T02:05:20.2956660Z         filtering to 'Today'
2024-02-19T02:05:21.8125121Z           shows correct 3 Recent Purchase link(s)
2024-02-19T02:05:21.8126826Z       given 1 Purchase on 2024-02-11  (unless 'All Time'), 1 during 2024-02-12..2024-02-18, and 1 on 2024-02-19
2024-02-19T02:05:21.8128154Z         filtering to 'Last 7 Days'
2024-02-19T02:05:23.1931999Z           shows correct 1 Recent Purchase link(s)
2024-02-19T02:05:23.1933842Z       given 1 Purchase on 2024-01-19  (unless 'All Time'), 1 during 2024-01-20..2024-02-18, and 1 on 2024-02-19
2024-02-19T02:05:23.1935345Z         filtering to 'Last 30 Days'
2024-02-19T02:05:24.5761257Z           shows correct 1 Recent Purchase link(s)
2024-02-19T02:05:24.5764308Z     Product Drives
2024-02-19T02:05:25.1562099Z       has a widget for product drive summary data
2024-02-19T02:05:25.1564184Z       given 1 Product Drive Donation on 2024-02-16 (unless 'All Time'), 1 during 2024-02-17..2024-02-17, and 1 on 2024-02-18
2024-02-19T02:05:25.1565630Z         filtering to 'Yesterday'
2024-02-19T02:05:26.5763610Z           shows 1 Recent Donation link(s)
2024-02-19T02:05:27.9710225Z           shows the correct total money raised
2024-02-19T02:05:29.3653930Z           shows the correct total donations
2024-02-19T02:05:29.3655925Z       given 1 Product Drive Donation on 2024-02-11 (unless 'All Time'), 3 during 2024-02-12..2024-02-18, and 1 on 2024-02-19
2024-02-19T02:05:29.3657215Z         filtering to 'Last 7 Days'
2024-02-19T02:05:30.8196174Z           shows the correct total donations
2024-02-19T02:05:32.4503891Z           shows 3 Recent Donation link(s)
2024-02-19T02:05:33.9253982Z           shows the correct total money raised
2024-02-19T02:05:33.9255672Z       given 1 Product Drive Donation on 2024-01-19 (unless 'All Time'), 4 during 2024-01-20..2024-02-18, and 1 on 2024-02-19
2024-02-19T02:05:33.9257023Z         filtering to 'Last 30 Days'
2024-02-19T02:05:35.4510870Z           shows 3 Recent Donation link(s)
2024-02-19T02:05:36.9708460Z           shows the correct total donations
2024-02-19T02:05:38.4923221Z           shows the correct total money raised
2024-02-19T02:05:38.4924323Z       Product drive behaviour with Mixed Donation types
2024-02-19T02:05:39.2102175Z         only counts product drive donations for product drive
2024-02-19T02:05:39.9368970Z         only shows product drive donations as product drive donations
2024-02-19T02:05:40.6604332Z         only counts product drive money raised
2024-02-19T02:05:40.6605876Z       given 1 Product Drive Donation on 2024-02-17 (unless 'All Time'), 2 during 2024-02-18..2024-02-18, and 1 on 2024-02-19
2024-02-19T02:05:40.6607057Z         filtering to 'Today'
2024-02-19T02:05:42.1019147Z           shows the correct total money raised
2024-02-19T02:05:43.5203002Z           shows 2 Recent Donation link(s)
2024-02-19T02:05:45.1139911Z           shows the correct total donations
2024-02-19T02:05:45.1141862Z       given 1 Product Drive Donation on 2022-02-17 (unless 'All Time'), 4 during 2022-02-18..2023-10-10, and 1 on 2023-10-11
2024-02-19T02:05:45.1143322Z         filtering to '' (February 18, 2022 - October 10, 2023)
2024-02-19T02:05:46.6441034Z           shows the correct total donations
2024-02-19T02:05:48.1556358Z           shows the correct total money raised
2024-02-19T02:05:49.7198985Z           shows 3 Recent Donation link(s)
2024-02-19T02:05:49.7200795Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-19T02:05:49.7202146Z         filtering to 'This Year'
2024-02-19T02:05:51.1200058Z           shows the correct total donations
2024-02-19T02:05:52.5430146Z           shows the correct total money raised
2024-02-19T02:05:53.9437777Z           shows 1 Recent Donation link(s)
2024-02-19T02:05:53.9441141Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 0 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-19T02:05:53.9442417Z         filtering to 'Last Month'
2024-02-19T02:05:55.3091578Z           shows the correct total donations
2024-02-19T02:05:58.8413800Z           shows 0 Recent Donation link(s)
2024-02-19T02:06:00.1872851Z           shows the correct total money raised
2024-02-19T02:06:00.1874882Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 2 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-19T02:06:00.1876327Z         filtering to 'This Month'
2024-02-19T02:06:01.6312987Z           shows the correct total donations
2024-02-19T02:06:03.0678852Z           shows the correct total money raised
2024-02-19T02:06:04.4927870Z           shows 2 Recent Donation link(s)
2024-02-19T02:06:04.4930929Z     Donations
2024-02-19T02:06:05.4078844Z       has a link to create a new donation
2024-02-19T02:06:05.4080609Z       given 1 Donation on 2024-01-31 (only if a valid date), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-19T02:06:05.4081939Z         filtering to 'This Month'
2024-02-19T02:06:08.7737890Z           shows the correct total and 0 Recent Donation link(s)
2024-02-19T02:06:08.7739660Z       given 1 Donation on 2023-12-31 (only if a valid date), 3 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-19T02:06:08.7741133Z         filtering to 'Last Month'
2024-02-19T02:06:10.2476073Z           shows the correct total and 3 Recent Donation link(s)
2024-02-19T02:06:10.2478352Z       given 1 Donation on 2022-02-17 (only if a valid date), 2 during 2022-02-18..2024-02-04, and 1 on 2024-02-05
2024-02-19T02:06:10.2480043Z         filtering to '' (February 18, 2022 - February 4, 2024)
2024-02-19T02:06:11.7926014Z           shows the correct total and 2 Recent Donation link(s)
2024-02-19T02:06:11.7927750Z       given 1 Donation on 2024-02-16 (only if a valid date), 3 during 2024-02-17..2024-02-17, and 1 on 2024-02-18
2024-02-19T02:06:11.7929164Z         filtering to 'Yesterday'
2024-02-19T02:06:13.3900907Z           shows the correct total and 3 Recent Donation link(s)
2024-02-19T02:06:13.3902957Z       given 1 Donation on 2024-01-19 (only if a valid date), 4 during 2024-01-20..2024-02-18, and 1 on 2024-02-19
2024-02-19T02:06:13.3904207Z         filtering to 'Last 30 Days'
2024-02-19T02:06:14.9757490Z           shows the correct total and 3 Recent Donation link(s)
2024-02-19T02:06:14.9759869Z       given 1 Donation on 2024-02-11 (only if a valid date), 1 during 2024-02-12..2024-02-18, and 1 on 2024-02-19
2024-02-19T02:06:14.9761193Z         filtering to 'Last 7 Days'
2024-02-19T02:06:16.5536960Z           shows the correct total and 1 Recent Donation link(s)
2024-02-19T02:06:16.5538728Z       given 1 Donation on 2024-02-17 (only if a valid date), 1 during 2024-02-18..2024-02-18, and 1 on 2024-02-19
2024-02-19T02:06:16.5540049Z         filtering to 'Today'
2024-02-19T02:06:18.0294658Z           shows the correct total and 1 Recent Donation link(s)
2024-02-19T02:06:18.0296944Z       given 1 Donation on 2023-12-31 (only if a valid date), 4 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-19T02:06:18.0298230Z         filtering to 'This Year'
2024-02-19T02:06:19.7326311Z           shows the correct total and 3 Recent Donation link(s)
2024-02-19T02:06:19.7327370Z     Manufacturer Donations
2024-02-19T02:06:20.3505155Z       has a link to create a new donation
2024-02-19T02:06:20.3506984Z       given 1 Manufacturer donating on 2024-02-11  (unless 'All Time'), 3 during 2024-02-12..2024-02-18, and 1 on 2024-02-19
2024-02-19T02:06:20.3508405Z         filtering to 'Last 7 Days'
2024-02-19T02:06:22.0390414Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-02-19T02:06:22.0392367Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 7 during 2000-01-01..2024-02-18, and 1 on 2024-02-19
2024-02-19T02:06:22.0393421Z         filtering to 'All Time'
2024-02-19T02:06:24.2392264Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-02-19T02:06:24.2394546Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-19T02:06:24.2395848Z         filtering to 'This Year'
2024-02-19T02:06:25.9864720Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-02-19T02:06:25.9866722Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 9 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-19T02:06:25.9868154Z         filtering to 'This Month'
2024-02-19T02:06:28.1781292Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-19T02:06:28.1783178Z       given 1 Manufacturer donating on 2024-02-16  (unless 'All Time'), 9 during 2024-02-17..2024-02-17, and 1 on 2024-02-18
2024-02-19T02:06:28.1784530Z         filtering to 'Yesterday'
2024-02-19T02:06:31.0667073Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-19T02:06:31.0670095Z       given 1 Manufacturer donating on 2024-01-19  (unless 'All Time'), 3 during 2024-01-20..2024-02-18, and 1 on 2024-02-19
2024-02-19T02:06:31.0671557Z         filtering to 'Last 30 Days'
2024-02-19T02:06:32.7577730Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-02-19T02:06:32.7579740Z       given 1 Manufacturer donating on 2024-02-17  (unless 'All Time'), 2 during 2024-02-18..2024-02-18, and 1 on 2024-02-19
2024-02-19T02:06:32.7581120Z         filtering to 'Today'
2024-02-19T02:06:34.3824998Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-02-19T02:06:34.3826960Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 1 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-19T02:06:34.3827886Z         filtering to 'Last Month'
2024-02-19T02:06:35.8471253Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-02-19T02:06:35.8473339Z       given 1 Manufacturer donating on 2022-02-17  (unless 'All Time'), 6 during 2022-02-18..2023-10-09, and 1 on 2023-10-10
2024-02-19T02:06:35.8475176Z         filtering to '' (February 18, 2022 - October 9, 2023)
2024-02-19T02:06:37.6282701Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-02-19T02:06:37.6284034Z     Distributions
2024-02-19T02:06:38.5569248Z       has a link to create a new distribution
2024-02-19T02:06:38.5570747Z       given 1 Distribution on 2024-02-16  (unless 'All Time'), 3 during 2024-02-17..2024-02-17, and 1 on 2024-02-18
2024-02-19T02:06:38.5572321Z         filtering to 'Yesterday'
2024-02-19T02:06:40.1032795Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-19T02:06:40.1034796Z       given 1 Distribution on 2024-02-17  (unless 'All Time'), 1 during 2024-02-18..2024-02-18, and 1 on 2024-02-19
2024-02-19T02:06:40.1036342Z         filtering to 'Today'
2024-02-19T02:06:41.5175797Z           shows the correct total and 1 Recent Distribution link(s)
2024-02-19T02:06:41.5177852Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 2 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-19T02:06:41.5179217Z         filtering to 'This Month'
2024-02-19T02:06:42.9169004Z           shows the correct total and 2 Recent Distribution link(s)
2024-02-19T02:06:42.9170723Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 1 during 2000-01-01..2024-02-18, and 1 on 2024-02-19
2024-02-19T02:06:42.9171705Z         filtering to 'All Time'
2024-02-19T02:06:44.3079058Z           shows the correct total and 1 Recent Distribution link(s)
2024-02-19T02:06:44.3080867Z       given 1 Distribution on 2024-01-19  (unless 'All Time'), 3 during 2024-01-20..2024-02-18, and 1 on 2024-02-19
2024-02-19T02:06:44.3082358Z         filtering to 'Last 30 Days'
2024-02-19T02:06:45.7734480Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-19T02:06:45.7736506Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-19T02:06:45.7737865Z         filtering to 'This Year'
2024-02-19T02:06:49.1117793Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-19T02:06:49.1119336Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-19T02:06:49.1120209Z         filtering to 'Last Month'
2024-02-19T02:06:50.6894874Z           shows the correct total and 2 Recent Distribution link(s)
2024-02-19T02:06:50.6896322Z       given 1 Distribution on 2024-02-11  (unless 'All Time'), 4 during 2024-02-12..2024-02-18, and 1 on 2024-02-19
2024-02-19T02:06:50.6897245Z         filtering to 'Last 7 Days'
2024-02-19T02:06:52.1706593Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-19T02:06:52.1708396Z       given 1 Distribution on 2022-02-17  (unless 'All Time'), 4 during 2022-02-18..2024-01-16, and 1 on 2024-01-17
2024-02-19T02:06:52.1711562Z         filtering to '' (February 18, 2022 - January 16, 2024)
2024-02-19T02:06:53.6396898Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-19T02:06:53.6397840Z   With a new essentials bank
2024-02-19T02:07:21.6902536Z     displays the getting started guide until the steps are completed
2024-02-19T02:07:21.6903375Z 
2024-02-19T02:07:21.6903568Z DonationSites
2024-02-19T02:07:21.6904245Z   while signed in
2024-02-19T02:07:21.6905054Z     GET #index
2024-02-19T02:07:21.6905972Z       csv
2024-02-19T02:07:21.7097685Z         is expected to be successful
2024-02-19T02:07:21.7098544Z       html
2024-02-19T02:07:21.7434054Z         is expected to be successful
2024-02-19T02:07:21.7435497Z 
2024-02-19T02:07:21.7436037Z Admin::Organizations
2024-02-19T02:07:21.7437483Z   When logged in as a non-admin user
2024-02-19T02:07:21.7438672Z     POST #create
2024-02-19T02:07:21.7586805Z       redirects
2024-02-19T02:07:21.7587461Z     GET #edit
2024-02-19T02:07:21.7714205Z       redirects
2024-02-19T02:07:21.7714871Z     PUT #update
2024-02-19T02:07:21.7835971Z       redirects
2024-02-19T02:07:21.7836978Z     GET #new
2024-02-19T02:07:21.7959898Z       redirects
2024-02-19T02:07:21.7960450Z     GET #index
2024-02-19T02:07:21.8082619Z       redirects
2024-02-19T02:07:21.8083486Z   When logged in as a super admin
2024-02-19T02:07:21.8085867Z     GET #show
2024-02-19T02:07:22.0287157Z       returns http success
2024-02-19T02:07:22.0288004Z     PATCH #update
2024-02-19T02:07:22.0288569Z       with a valid update
2024-02-19T02:07:22.2204289Z         redirects to #index
2024-02-19T02:07:22.2205054Z       with an invalid update
2024-02-19T02:07:22.4473528Z         returns http success
2024-02-19T02:07:22.6612072Z         redirects to #edit with an error message
2024-02-19T02:07:22.6613215Z     GET #new
2024-02-19T02:07:22.7002954Z       returns http success
2024-02-19T02:07:22.7004277Z       when given a token that matches a account request that has already been processed
2024-02-19T02:07:22.9197019Z         should render new with a flash error message
2024-02-19T02:07:22.9198172Z       when given a valid account request token in the query parameters
2024-02-19T02:07:22.9834295Z         should render new with pre populate input fields from the account_request
2024-02-19T02:07:22.9835680Z     DELETE #destroy
2024-02-19T02:07:23.3600395Z       redirects
2024-02-19T02:07:23.3601301Z     GET #edit
2024-02-19T02:07:23.5732609Z       returns http success
2024-02-19T02:07:23.5733575Z     GET #index
2024-02-19T02:07:23.6046478Z       returns http success
2024-02-19T02:07:23.6047232Z     DELETE #destroy
2024-02-19T02:07:23.6048038Z       with a valid organization id
2024-02-19T02:07:24.1197909Z         redirects to #index
2024-02-19T02:07:24.1199114Z     POST #create
2024-02-19T02:07:24.1199815Z       with invalid params
2024-02-19T02:07:24.1660498Z         does not create an organization and renders #create with an error message
2024-02-19T02:07:24.1662134Z       with valid params
2024-02-19T02:07:24.4598600Z         creates an organization and redirects to #index
2024-02-19T02:07:24.4599760Z     PUT #update
2024-02-19T02:07:24.4798199Z       redirect
2024-02-19T02:07:24.4798729Z 
2024-02-19T02:07:24.4798994Z Kit management
2024-02-19T02:07:26.0608605Z   can allocate and deallocate quantity per storage location from kit index
2024-02-19T02:07:26.6458370Z   should not display inactive storage locations under allocations
2024-02-19T02:07:27.5562315Z   can create a new kit as a user with the proper quantity
2024-02-19T02:07:27.5564174Z   when there is not enough quantity of the items contained in the kit on-hand
2024-02-19T02:07:28.6709800Z     will not change quantity amounts when allocating
2024-02-19T02:07:28.6710440Z   when there is no kit quantity
2024-02-19T02:07:29.8012160Z     will not change quantity amounts when deallocating
2024-02-19T02:07:29.8012968Z 
2024-02-19T02:07:29.8013336Z /partners/profiles
2024-02-19T02:07:29.8014811Z   GET #show
2024-02-19T02:07:29.8633040Z     shows correct values for yes/no buttons
2024-02-19T02:07:29.9114330Z     displays the partner
2024-02-19T02:07:29.9115294Z   GET #edit
2024-02-19T02:07:30.0244919Z     does not have default radio button value when value is nil
2024-02-19T02:07:30.1170435Z     has "Yes" radio button value when value is true
2024-02-19T02:07:30.2055446Z     displays the partner
2024-02-19T02:07:30.2964435Z     has "No" radio button value when value is false
2024-02-19T02:07:30.2965294Z   PUT #update
2024-02-19T02:07:30.3552984Z     updates the partner and profile
2024-02-19T02:07:30.3553745Z     when updating an existing value to a blank value
2024-02-19T02:07:30.4093302Z       does store N/A in the database
2024-02-19T02:07:30.4608195Z       does not update other partner profile attributes to blank
2024-02-19T02:07:30.5112878Z       updates the partner profile attribute to a blank value
2024-02-19T02:07:30.5113892Z     with no social media
2024-02-19T02:07:30.6048993Z       shows an error
2024-02-19T02:07:30.6050156Z 
2024-02-19T02:07:30.6050439Z Purchases
2024-02-19T02:07:30.6052013Z   while signed in as a normal user
2024-02-19T02:07:30.6052884Z     When visiting the index page
2024-02-19T02:07:30.6054052Z       When filtering on the index page
2024-02-19T02:07:31.4131685Z         User can filter the #index by storage location
2024-02-19T02:07:32.2266229Z         User can filter the #index by vendor
2024-02-19T02:07:32.2266850Z         behaves like Date Range Picker
2024-02-19T02:07:32.2267943Z           when choosing 'Last Month'
2024-02-19T02:07:33.2105524Z             shows only 2 of the records
2024-02-19T02:07:33.2106919Z           when choosing 'All Time'
2024-02-19T02:07:34.1914901Z             shows all the records
2024-02-19T02:07:34.1916122Z           when choosing a date range that only includes the previous week
2024-02-19T02:07:35.1230819Z             shows only 1 record
2024-02-19T02:07:35.1231683Z       In the middle of the year
2024-02-19T02:07:35.8658667Z         User sees purchased date column
2024-02-19T02:07:36.6398854Z         User can click to the new purchase form
2024-02-19T02:07:37.3995656Z         User sees total purchases value
2024-02-19T02:07:37.3996615Z     When visiting an existing purchase
2024-02-19T02:07:37.8617012Z       does not allow deletion of a purchase
2024-02-19T02:07:37.8618089Z     When creating a new purchase
2024-02-19T02:07:38.3555640Z       should not display inactive storage locations in dropdown
2024-02-19T02:07:38.3556823Z       via barcode entry
2024-02-19T02:07:39.2592101Z         User scan same barcode 2 times
2024-02-19T02:07:40.4947603Z         a user can add items that do not yet have a barcode
2024-02-19T02:07:41.3063427Z         a user can add items via scanning them in by barcode
2024-02-19T02:07:41.3064247Z       Editing purchase
2024-02-19T02:07:41.8007926Z         A user can see purchased_from value
2024-02-19T02:07:42.4307253Z         A user can view another organizations purchase
2024-02-19T02:07:42.4308569Z       via manual entry
2024-02-19T02:07:43.4439283Z         Does not include inactive items in the line item fields
2024-02-19T02:07:44.4870898Z         User can create vendor from purchase
2024-02-19T02:07:45.5652997Z         User can create a purchase IN THE PAST
2024-02-19T02:07:46.4539938Z         User can create a purchase using dollars decimal amount
2024-02-19T02:07:47.6621191Z         multiple line items for the same item type are accepted and combined on the backend
2024-02-19T02:07:47.6622297Z         when creating a purchase incorrectly
2024-02-19T02:07:48.6515266Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-02-19T02:07:49.4660892Z           should display failure with error messages
2024-02-19T02:07:49.4661802Z   while signed in as an organization admin
2024-02-19T02:07:50.3355301Z     allows deletion of a purchase
2024-02-19T02:07:50.3355829Z 
2024-02-19T02:07:50.3358190Z Admin Organization Management
2024-02-19T02:07:50.3359204Z   While signed in as an Administrative User (super admin)
2024-02-19T02:07:51.4115130Z     filters by organizations by name in organizations index page
2024-02-19T02:07:53.3362276Z     creates a new organization
2024-02-19T02:07:54.6150752Z     can view organization details
2024-02-19T02:07:54.6151968Z   While signed in as an Administrative User with no organization (super admin no org)
2024-02-19T02:07:56.5274705Z     creates a new organization
2024-02-19T02:07:56.5276661Z 
2024-02-19T02:07:56.5276968Z Managing requests
2024-02-19T02:07:56.5278772Z   creating a new quantity request
2024-02-19T02:07:56.5279973Z     GIVEN a partner user is permitted to make a request
2024-02-19T02:07:56.5281334Z       Select Input Tests
2024-02-19T02:07:56.5282472Z         WHEN they reach the page
2024-02-19T02:07:57.4015486Z           should show the proper items in the select box
2024-02-19T02:07:57.4016409Z           WHEN they create a request inproperly
2024-02-19T02:07:58.5878585Z             should show the proper items in the select box
2024-02-19T02:07:58.5879511Z       WHEN they create a request properly
2024-02-19T02:07:58.5881069Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-02-19T02:08:00.8348346Z           AND the partner_user can view the details of the created request in a seperate page
2024-02-19T02:08:00.8349561Z       WHEN they create a request with only a comment
2024-02-19T02:08:01.7781024Z         should be created without any issue
2024-02-19T02:08:01.7781978Z       WHEN they create a request inproperly by not inputting anything
2024-02-19T02:08:02.7007712Z         should show an error message with the instructions
2024-02-19T02:08:02.7009058Z   creating a # individuals request
2024-02-19T02:08:02.7009954Z     GIVEN a partner user is permitted to make a request
2024-02-19T02:08:02.7011159Z       Select Input Tests
2024-02-19T02:08:02.7012297Z         WHEN they reach the page
2024-02-19T02:08:03.5602088Z           should show the proper items in the select box
2024-02-19T02:08:03.5602956Z           WHEN they create a request inproperly
2024-02-19T02:08:04.7346030Z             should show the proper items in the select box
2024-02-19T02:08:04.7347001Z       WHEN they create a request inproperly
2024-02-19T02:08:05.6426618Z         should show an error message with the instructions
2024-02-19T02:08:05.6427453Z       WHEN they create a request properly
2024-02-19T02:08:05.6428724Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-02-19T02:08:07.7397627Z           AND the partner_user can view the details of the created individuals request in a seperate page
2024-02-19T02:08:07.7398678Z 
2024-02-19T02:08:07.7398888Z Profiles
2024-02-19T02:08:07.7400364Z   POST #update
2024-02-19T02:08:07.7401499Z     successful save
2024-02-19T02:08:07.7849956Z       redirects to #show
2024-02-19T02:08:07.8283127Z       update partner
2024-02-19T02:08:07.8284313Z     when updating an existing value to a blank value
2024-02-19T02:08:07.8768553Z       should have blank values
2024-02-19T02:08:07.9251096Z       update partner
2024-02-19T02:08:07.9252056Z   GET #edit
2024-02-19T02:08:08.0191330Z     returns http success
2024-02-19T02:08:08.0192427Z 
2024-02-19T02:08:08.0192688Z StorageLocations
2024-02-19T02:08:08.0194237Z   While not signed in
2024-02-19T02:08:08.0260418Z     redirects the user to the sign-in page for CRUD actions
2024-02-19T02:08:08.0262913Z   While signed in
2024-02-19T02:08:08.0265286Z     GET #inventory
2024-02-19T02:08:08.0266345Z       when also including inactive items
2024-02-19T02:08:08.0946659Z         returns a collection that also includes items that have been deactivated
2024-02-19T02:08:08.0947832Z       when also including omitted items
2024-02-19T02:08:08.1458029Z         contains a collection of ducktyped entries that respond the same
2024-02-19T02:08:08.1982951Z         returns a collection that also includes all items, but with zeroed quantities
2024-02-19T02:08:08.1984115Z       without any overrides
2024-02-19T02:08:08.2516046Z         returns a collection that only includes items at the storage location
2024-02-19T02:08:08.2517160Z     PUT #reactivate
2024-02-19T02:08:08.2685221Z       undiscards
2024-02-19T02:08:08.2686036Z     POST #import_csv
2024-02-19T02:08:08.2686772Z       with a csv file
2024-02-19T02:08:08.2840366Z         redirects
2024-02-19T02:08:08.2987475Z         presents a flash notice message
2024-02-19T02:08:08.3038730Z         invokes .import_csv
2024-02-19T02:08:08.3039598Z       csv file with wrong headers
2024-02-19T02:08:08.3164570Z         redirects
2024-02-19T02:08:08.3286748Z         presents a flash error message
2024-02-19T02:08:08.3287723Z       without a csv file
2024-02-19T02:08:08.3403431Z         presents a flash error message
2024-02-19T02:08:08.3521048Z         redirects to :index
2024-02-19T02:08:08.3521902Z     GET #index
2024-02-19T02:08:08.3522833Z       csv
2024-02-19T02:08:08.4539118Z         includes headers followed by alphabetized item names
2024-02-19T02:08:08.4722140Z         succeeds
2024-02-19T02:08:08.4722744Z       html
2024-02-19T02:08:08.5083575Z         succeeds
2024-02-19T02:08:08.5084478Z         with inactive locations
2024-02-19T02:08:08.5448847Z           does not includes the inactive location
2024-02-19T02:08:08.5450042Z           with include_inactive_locations
2024-02-19T02:08:08.5825019Z             includes the inactive location
2024-02-19T02:08:08.5826136Z     PUT #deactivate
2024-02-19T02:08:08.6023984Z       discards
2024-02-19T02:08:08.6025371Z       with inventory
2024-02-19T02:08:08.6510965Z         does not discard
2024-02-19T02:08:08.6511883Z     Looking at a different organization
2024-02-19T02:08:08.8253041Z       redirects the user to the sign-in page for CRUD actions
2024-02-19T02:08:08.8253938Z     GET #edit
2024-02-19T02:08:09.0674699Z       returns http success
2024-02-19T02:08:09.0675618Z     GET #show
2024-02-19T02:08:09.0676187Z       html
2024-02-19T02:08:09.1377424Z         should return a correct response
2024-02-19T02:08:09.1378089Z         with version date set
2024-02-19T02:08:09.1378699Z           with no version found
2024-02-19T02:08:09.2262876Z             should show N/A
2024-02-19T02:08:09.2263676Z           with a version found
2024-02-19T02:08:09.3057615Z             should show the version specified
2024-02-19T02:08:09.3058686Z       csv
2024-02-19T02:08:09.3553437Z         should be successful
2024-02-19T02:08:09.3554143Z     GET #destroy
2024-02-19T02:08:09.3803198Z       redirects to #index
2024-02-19T02:08:09.3804194Z     GET #new
2024-02-19T02:08:09.4121341Z       returns http success
2024-02-19T02:08:09.4122248Z 
2024-02-19T02:08:09.4122632Z Audits
2024-02-19T02:08:09.4124081Z   while signed in as an organization admin
2024-02-19T02:08:09.4125269Z     GET #index
2024-02-19T02:08:09.4739804Z       is successful
2024-02-19T02:08:09.4740511Z     DELETE #destroy
2024-02-19T02:08:09.4741267Z       with valid params
2024-02-19T02:08:09.5150519Z         destroys the audit if the audit's status is `confirms`
2024-02-19T02:08:09.5530636Z         destroys the audit if the audit's status is `in_progress`
2024-02-19T02:08:09.5883982Z         can not destroy the audit if the audit's status is `finalized`
2024-02-19T02:08:09.5885045Z     GET #show
2024-02-19T02:08:09.6390937Z       is successful
2024-02-19T02:08:09.6391634Z     POST #create
2024-02-19T02:08:09.6392388Z       with invalid params
2024-02-19T02:08:09.6957793Z         re-renders the 'new' template with an error message when an invalid storage location is given
2024-02-19T02:08:09.7343677Z         re-renders the 'new' template
2024-02-19T02:08:09.7948580Z         assigns a newly created but unsaved audit as @audit
2024-02-19T02:08:09.7949459Z       with valid params
2024-02-19T02:08:09.8124223Z         assigns a newly created audit as @audit
2024-02-19T02:08:09.8502696Z         creates a new Audit
2024-02-19T02:08:09.8897286Z         creates a new Audit with status as `confirmed` if `confirm_audit` is passed as a param
2024-02-19T02:08:09.9269401Z         creates a new Audit with status as `in_progress` if `save_progress` is passed as a param
2024-02-19T02:08:09.9639007Z         redirects to the #show after created audit
2024-02-19T02:08:09.9639767Z     POST #finalize
2024-02-19T02:08:10.0302584Z       sets the finalize status and saves an event
2024-02-19T02:08:10.0303315Z     GET #new
2024-02-19T02:08:10.0677247Z       is successful
2024-02-19T02:08:10.0677848Z     GET #edit
2024-02-19T02:08:10.1260116Z       is successful if the status of audit is `in_progress`
2024-02-19T02:08:10.1884151Z       redirects to #index if the status of audit is not `in_progress`
2024-02-19T02:08:10.1884820Z 
2024-02-19T02:08:10.1884996Z User account management
2024-02-19T02:08:10.1886417Z   when in staging
2024-02-19T02:08:10.6484334Z     should not allow the user to change staging credentials
2024-02-19T02:08:11.1103441Z     should display staging warning
2024-02-19T02:08:11.1104146Z   when not in staging
2024-02-19T02:08:11.9968463Z     should change an user name
2024-02-19T02:08:12.8668105Z     should change the email
2024-02-19T02:08:13.6279800Z     should fail when the email is invalid
2024-02-19T02:08:13.6282214Z 
2024-02-19T02:08:13.6282485Z Organization management
2024-02-19T02:08:13.6283930Z   while signed in as a normal user
2024-02-19T02:08:14.0852744Z     cannot see 'Make user' button for admins
2024-02-19T02:08:14.5656905Z     can see summary details about the organization as a user
2024-02-19T02:08:14.5657477Z   while signed in as an organization admin
2024-02-19T02:08:15.0586387Z     can see 'Make user' button for admins
2024-02-19T02:08:16.0065556Z     can add a new user to an organization
2024-02-19T02:08:16.9657635Z     can re-activate a user in the organization
2024-02-19T02:08:17.9176094Z     can deactivate a user in the organization
2024-02-19T02:08:18.4143739Z     can re-invite a user to an organization after 7 days
2024-02-19T02:08:18.4144520Z     Viewing the organization
2024-02-19T02:08:18.9741643Z       can view organization details
2024-02-19T02:08:18.9742180Z     Editing the organization
2024-02-19T02:08:19.8259520Z       can set a default storage location on the organization
2024-02-19T02:08:20.7941127Z       can select if the org repackages essentials
2024-02-19T02:08:21.7845099Z       can select if the org distributes essentials monthly
2024-02-19T02:08:22.7652147Z       can disable if the org does NOT use single step invite and approve partner process
2024-02-19T02:08:23.7693462Z       can select if the org shows year-to-date values on the distribution printout
2024-02-19T02:08:24.7431107Z       can enable if the org uses single step invite and approve partner process
2024-02-19T02:08:25.6234889Z       can set a reminder and a deadline day
2024-02-19T02:08:26.8595995Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-02-19T02:08:28.3227398Z       can select and deselect Required Partner Fields
2024-02-19T02:08:29.1914936Z       can set the NDBN Member ID
2024-02-19T02:08:29.2875493Z W, [2024-02-18T18:08:29.287209 #2438]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-02-19T02:08:29.2877869Z W, [2024-02-18T18:08:29.287284 #2438]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-19T02:08:29.2882905Z W, [2024-02-18T18:08:29.287315 #2438]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-19T02:08:29.2886680Z W, [2024-02-18T18:08:29.287357 #2438]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-02-19T02:08:29.2888331Z 
2024-02-19T02:08:29.2888865Z Finished in 3 minutes 34.3 seconds (files took 8.1 seconds to load)
2024-02-19T02:08:29.2889927Z 239 examples, 0 failures
2024-02-19T02:08:29.2890329Z 
2024-02-19T02:08:29.2890559Z Randomized with seed 54601
2024-02-19T02:08:29.2890991Z 
2024-02-19T02:08:29.5947764Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3814 / 6395 LOC (59.64%) covered.
2024-02-19T02:08:30.1122714Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10639 LOC (0.36%) covered.
