2024-02-19T18:03:23.2517799Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-02-19T18:03:23.2518770Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-02-19T18:03:23.2546886Z shell: /usr/bin/bash -e {0}
2024-02-19T18:03:23.2547303Z env:
2024-02-19T18:03:23.2547621Z   POSTGRES_HOST: localhost
2024-02-19T18:03:23.2548035Z   DATABASE_HOST: localhost
2024-02-19T18:03:23.2548426Z   PG_USERNAME: postgres
2024-02-19T18:03:23.2548819Z   PG_PASSWORD: password
2024-02-19T18:03:23.2549280Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-02-19T18:03:23.2549703Z   POSTGRES_PORT: 5432
2024-02-19T18:03:23.2550022Z   PGHOST: localhost
2024-02-19T18:03:23.2550456Z   PGUSER: postgres
2024-02-19T18:03:23.2550787Z   RAILS_ENV: test
2024-02-19T18:03:23.2551147Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-02-19T18:03:23.2551670Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-02-19T18:03:23.2552050Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-02-19T18:03:23.2552512Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-02-19T18:03:23.2553167Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-02-19T18:03:23.2553772Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-02-19T18:03:23.2554451Z   EVENTS_READ: true
2024-02-19T18:03:23.2554788Z ##[endgroup]
2024-02-19T18:03:28.8371242Z W, [2024-02-19T18:03:28.836698 #2324]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-02-19T18:03:28.8373661Z W, [2024-02-19T18:03:28.836758 #2324]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-19T18:03:28.8376827Z W, [2024-02-19T18:03:28.836783 #2324]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-19T18:03:28.8383108Z W, [2024-02-19T18:03:28.836824 #2324]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-02-19T18:03:31.4836530Z W, [2024-02-19T18:03:31.483305 #2324]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-02-19T18:03:31.4838965Z W, [2024-02-19T18:03:31.483347 #2324]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-19T18:03:31.4841425Z W, [2024-02-19T18:03:31.483366 #2324]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-19T18:03:31.4843951Z W, [2024-02-19T18:03:31.483410 #2324]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-02-19T18:03:31.4894736Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/partners/children_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-02-19T18:03:39.8108205Z 
2024-02-19T18:03:39.8109105Z Randomized with seed 26137
2024-02-19T18:03:40.7637679Z 
2024-02-19T18:03:40.7638697Z Admin Organization Management
2024-02-19T18:03:40.7639700Z   While signed in as an Administrative User (super admin)
2024-02-19T18:03:42.8064681Z     can view organization details
2024-02-19T18:03:44.8101774Z     creates a new organization
2024-02-19T18:03:45.8904307Z     filters by organizations by name in organizations index page
2024-02-19T18:03:45.8905715Z   While signed in as an Administrative User with no organization (super admin no org)
2024-02-19T18:03:47.8071971Z     creates a new organization
2024-02-19T18:03:47.8072962Z 
2024-02-19T18:03:47.8073317Z Managing requests
2024-02-19T18:03:47.8074846Z   creating a individuals/family request
2024-02-19T18:03:47.8075955Z     GIVEN a partner user is permitted to make a request
2024-02-19T18:03:47.8077111Z       WHEN they create a request properly
2024-02-19T18:03:47.8078525Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-02-19T18:03:49.9930157Z           AND the partner_user can view the details of the created individuals request in a seperate page
2024-02-19T18:03:49.9932865Z       WHEN they create a request inproperly
2024-02-19T18:03:50.9329735Z         should show an error message with the instructions
2024-02-19T18:03:50.9330775Z   creating a request
2024-02-19T18:03:50.9332166Z     GIVEN a partner user is permitted to make a request
2024-02-19T18:03:50.9333776Z       WHEN they create a request inproperly by not inputting anything
2024-02-19T18:03:51.8601933Z         should show an error message with the instructions
2024-02-19T18:03:51.8602749Z       WHEN they create a request with only a comment
2024-02-19T18:03:52.7988229Z         should be created without any issue
2024-02-19T18:03:52.7989888Z       WHEN they create a request properly
2024-02-19T18:03:52.7991528Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-02-19T18:03:55.0458464Z           AND the partner_user can view the details of the created request in a seperate page
2024-02-19T18:03:55.0463754Z 
2024-02-19T18:03:55.0464225Z StorageLocations
2024-02-19T18:03:55.0465576Z   While signed in
2024-02-19T18:03:55.0467602Z     PUT #reactivate
2024-02-19T18:03:55.0765190Z       undiscards
2024-02-19T18:03:55.0765721Z     GET #inventory
2024-02-19T18:03:55.0766881Z       without any overrides
2024-02-19T18:03:55.1542929Z         returns a collection that only includes items at the storage location
2024-02-19T18:03:55.1544050Z       when also including inactive items
2024-02-19T18:03:55.2232238Z         returns a collection that also includes items that have been deactivated
2024-02-19T18:03:55.2233450Z       when also including omitted items
2024-02-19T18:03:55.2738513Z         contains a collection of ducktyped entries that respond the same
2024-02-19T18:03:55.3245207Z         returns a collection that also includes all items, but with zeroed quantities
2024-02-19T18:03:55.3246283Z     POST #import_csv
2024-02-19T18:03:55.3249753Z       csv file with wrong headers
2024-02-19T18:03:55.3393065Z         presents a flash error message
2024-02-19T18:03:55.3536862Z         redirects
2024-02-19T18:03:55.3537854Z       without a csv file
2024-02-19T18:03:55.3656922Z         presents a flash error message
2024-02-19T18:03:55.3777367Z         redirects to :index
2024-02-19T18:03:55.3778247Z       with a csv file
2024-02-19T18:03:55.3938865Z         redirects
2024-02-19T18:03:55.4087526Z         presents a flash notice message
2024-02-19T18:03:55.4140464Z         invokes .import_csv
2024-02-19T18:03:55.4141249Z     GET #destroy
2024-02-19T18:03:55.4499012Z       redirects to #index
2024-02-19T18:03:55.4500302Z     Looking at a different organization
2024-02-19T18:03:55.6221908Z       redirects the user to the sign-in page for CRUD actions
2024-02-19T18:03:55.6222886Z     GET #show
2024-02-19T18:03:55.6223377Z       html
2024-02-19T18:03:55.6986737Z         should return a correct response
2024-02-19T18:03:55.6987646Z         with version date set
2024-02-19T18:03:55.6988384Z           with a version found
2024-02-19T18:03:55.7776727Z             should show the version specified
2024-02-19T18:03:55.7777621Z           with no version found
2024-02-19T18:03:55.8567012Z             should show N/A
2024-02-19T18:03:55.8567925Z       csv
2024-02-19T18:03:55.9086496Z         should be successful
2024-02-19T18:03:55.9089483Z     GET #new
2024-02-19T18:03:56.1448418Z       returns http success
2024-02-19T18:03:56.1449489Z     PUT #deactivate
2024-02-19T18:03:56.1656643Z       discards
2024-02-19T18:03:56.1657186Z       with inventory
2024-02-19T18:03:56.2126431Z         does not discard
2024-02-19T18:03:56.2127043Z     GET #edit
2024-02-19T18:03:56.2462115Z       returns http success
2024-02-19T18:03:56.2463042Z     GET #index
2024-02-19T18:03:56.2464680Z       csv
2024-02-19T18:03:56.2650326Z         succeeds
2024-02-19T18:03:56.3616129Z         includes headers followed by alphabetized item names
2024-02-19T18:03:56.3617104Z       html
2024-02-19T18:03:56.3956127Z         succeeds
2024-02-19T18:03:56.3957008Z         with inactive locations
2024-02-19T18:03:56.4296328Z           does not includes the inactive location
2024-02-19T18:03:56.4297386Z           with include_inactive_locations
2024-02-19T18:03:56.4719427Z             includes the inactive location
2024-02-19T18:03:56.4720163Z   While not signed in
2024-02-19T18:03:56.4783698Z     redirects the user to the sign-in page for CRUD actions
2024-02-19T18:03:56.4784372Z 
2024-02-19T18:03:56.4784576Z DonationSites
2024-02-19T18:03:56.4785104Z   while signed in
2024-02-19T18:03:56.4785724Z     GET #index
2024-02-19T18:03:56.4786423Z       csv
2024-02-19T18:03:56.5007401Z         is expected to be successful
2024-02-19T18:03:56.5010312Z       html
2024-02-19T18:03:56.5344378Z         is expected to be successful
2024-02-19T18:03:56.5345579Z 
2024-02-19T18:03:56.5345848Z Purchases
2024-02-19T18:03:56.5347302Z   while signed in as a normal user
2024-02-19T18:03:56.5348451Z     When creating a new purchase
2024-02-19T18:03:57.0398356Z       should not display inactive storage locations in dropdown
2024-02-19T18:03:57.0399353Z       via barcode entry
2024-02-19T18:03:57.9509197Z         User scan same barcode 2 times
2024-02-19T18:03:58.6789734Z         a user can add items via scanning them in by barcode
2024-02-19T18:03:59.8900986Z         a user can add items that do not yet have a barcode
2024-02-19T18:03:59.8901942Z       via manual entry
2024-02-19T18:04:00.9049185Z         Does not include inactive items in the line item fields
2024-02-19T18:04:02.0189249Z         User can create a purchase IN THE PAST
2024-02-19T18:04:02.9290875Z         User can create a purchase using dollars decimal amount
2024-02-19T18:04:04.1213224Z         multiple line items for the same item type are accepted and combined on the backend
2024-02-19T18:04:05.1972137Z         User can create vendor from purchase
2024-02-19T18:04:05.1972973Z         when creating a purchase incorrectly
2024-02-19T18:04:06.0042123Z           should display failure with error messages
2024-02-19T18:04:07.1509134Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-02-19T18:04:07.1510333Z       Editing purchase
2024-02-19T18:04:07.6634666Z         A user can see purchased_from value
2024-02-19T18:04:08.2936235Z         A user can view another organizations purchase
2024-02-19T18:04:08.2938809Z     When visiting an existing purchase
2024-02-19T18:04:08.7546871Z       does not allow deletion of a purchase
2024-02-19T18:04:08.7547747Z     When visiting the index page
2024-02-19T18:04:08.7548500Z       In the middle of the year
2024-02-19T18:04:09.4768093Z         User sees purchased date column
2024-02-19T18:04:10.2618068Z         User can click to the new purchase form
2024-02-19T18:04:11.0180687Z         User sees total purchases value
2024-02-19T18:04:11.0181363Z       When filtering on the index page
2024-02-19T18:04:11.8362854Z         User can filter the #index by storage location
2024-02-19T18:04:12.6568872Z         User can filter the #index by vendor
2024-02-19T18:04:12.6569951Z         behaves like Date Range Picker
2024-02-19T18:04:12.6570933Z           when choosing a date range that only includes the previous week
2024-02-19T18:04:13.6075812Z             shows only 1 record
2024-02-19T18:04:13.6076870Z           when choosing 'Last Month'
2024-02-19T18:04:14.5711770Z             shows only 2 of the records
2024-02-19T18:04:14.5712893Z           when choosing 'All Time'
2024-02-19T18:04:15.5317472Z             shows all the records
2024-02-19T18:04:15.5319234Z   while signed in as an organization admin
2024-02-19T18:04:16.4001709Z     allows deletion of a purchase
2024-02-19T18:04:16.4002689Z 
2024-02-19T18:04:16.4003054Z Admin::Organizations
2024-02-19T18:04:16.4004595Z   When logged in as a non-admin user
2024-02-19T18:04:16.4005484Z     POST #create
2024-02-19T18:04:16.4176058Z       redirects
2024-02-19T18:04:16.4176757Z     GET #edit
2024-02-19T18:04:16.4303234Z       redirects
2024-02-19T18:04:16.4303808Z     GET #new
2024-02-19T18:04:16.4426007Z       redirects
2024-02-19T18:04:16.4426857Z     GET #index
2024-02-19T18:04:16.4546515Z       redirects
2024-02-19T18:04:16.4547210Z     PUT #update
2024-02-19T18:04:16.4669246Z       redirects
2024-02-19T18:04:16.4669884Z   When logged in as a super admin
2024-02-19T18:04:16.4671624Z     GET #new
2024-02-19T18:04:16.5032073Z       returns http success
2024-02-19T18:04:16.5033373Z       when given a token that matches a account request that has already been processed
2024-02-19T18:04:16.7274734Z         should render new with a flash error message
2024-02-19T18:04:16.7275692Z       when given a valid account request token in the query parameters
2024-02-19T18:04:16.7813587Z         should render new with pre populate input fields from the account_request
2024-02-19T18:04:16.7814696Z     GET #edit
2024-02-19T18:04:16.9980537Z       returns http success
2024-02-19T18:04:16.9981148Z     GET #show
2024-02-19T18:04:17.2064382Z       returns http success
2024-02-19T18:04:17.2065548Z     DELETE #destroy
2024-02-19T18:04:17.2066146Z       with a valid organization id
2024-02-19T18:04:17.7296845Z         redirects to #index
2024-02-19T18:04:17.7297565Z     PATCH #update
2024-02-19T18:04:17.7298342Z       with a valid update
2024-02-19T18:04:17.9135978Z         redirects to #index
2024-02-19T18:04:17.9136783Z       with an invalid update
2024-02-19T18:04:18.1284845Z         returns http success
2024-02-19T18:04:18.4776044Z         redirects to #edit with an error message
2024-02-19T18:04:18.4776744Z     POST #create
2024-02-19T18:04:18.4777656Z       with invalid params
2024-02-19T18:04:18.5327978Z         does not create an organization and renders #create with an error message
2024-02-19T18:04:18.5329103Z       with valid params
2024-02-19T18:04:18.7433522Z         creates an organization and redirects to #index
2024-02-19T18:04:18.7434418Z     GET #index
2024-02-19T18:04:18.7754655Z       returns http success
2024-02-19T18:04:18.7755375Z     PUT #update
2024-02-19T18:04:18.7956686Z       redirect
2024-02-19T18:04:18.7957998Z     DELETE #destroy
2024-02-19T18:04:19.1519558Z       redirects
2024-02-19T18:04:19.1520334Z 
2024-02-19T18:04:19.1520656Z Audits
2024-02-19T18:04:19.1521906Z   while signed in as an organization admin
2024-02-19T18:04:19.1523334Z     GET #edit
2024-02-19T18:04:19.2209862Z       is successful if the status of audit is `in_progress`
2024-02-19T18:04:19.2866577Z       redirects to #index if the status of audit is not `in_progress`
2024-02-19T18:04:19.2867494Z     GET #new
2024-02-19T18:04:19.3284445Z       is successful
2024-02-19T18:04:19.3284989Z     POST #finalize
2024-02-19T18:04:19.3990488Z       sets the finalize status and saves an event
2024-02-19T18:04:19.3991785Z     POST #create
2024-02-19T18:04:19.3992348Z       with valid params
2024-02-19T18:04:19.4401033Z         creates a new Audit
2024-02-19T18:04:19.4805823Z         assigns a newly created audit as @audit
2024-02-19T18:04:19.5208767Z         redirects to the #show after created audit
2024-02-19T18:04:19.5612920Z         creates a new Audit with status as `in_progress` if `save_progress` is passed as a param
2024-02-19T18:04:19.6016092Z         creates a new Audit with status as `confirmed` if `confirm_audit` is passed as a param
2024-02-19T18:04:19.6017290Z       with invalid params
2024-02-19T18:04:19.6421188Z         assigns a newly created but unsaved audit as @audit
2024-02-19T18:04:19.6822602Z         re-renders the 'new' template
2024-02-19T18:04:19.7376330Z         re-renders the 'new' template with an error message when an invalid storage location is given
2024-02-19T18:04:19.7377554Z     GET #index
2024-02-19T18:04:19.7914790Z       is successful
2024-02-19T18:04:19.7915477Z     DELETE #destroy
2024-02-19T18:04:19.7916301Z       with valid params
2024-02-19T18:04:19.8285008Z         destroys the audit if the audit's status is `confirms`
2024-02-19T18:04:19.8628127Z         can not destroy the audit if the audit's status is `finalized`
2024-02-19T18:04:19.8988984Z         destroys the audit if the audit's status is `in_progress`
2024-02-19T18:04:19.8989701Z     GET #show
2024-02-19T18:04:19.9487575Z       is successful
2024-02-19T18:04:19.9488349Z 
2024-02-19T18:04:19.9488898Z /partners/profiles
2024-02-19T18:04:19.9490110Z   GET #show
2024-02-19T18:04:20.0131201Z     displays the partner
2024-02-19T18:04:20.0667381Z     shows correct values for yes/no buttons
2024-02-19T18:04:20.0668445Z   PUT #update
2024-02-19T18:04:20.1241299Z     updates the partner and profile
2024-02-19T18:04:20.1242120Z     with no social media
2024-02-19T18:04:20.2364003Z       shows an error
2024-02-19T18:04:20.2365119Z     when updating an existing value to a blank value
2024-02-19T18:04:20.2900154Z       does store N/A in the database
2024-02-19T18:04:20.3423544Z       updates the partner profile attribute to a blank value
2024-02-19T18:04:20.3960693Z       does not update other partner profile attributes to blank
2024-02-19T18:04:20.3961661Z   GET #edit
2024-02-19T18:04:20.4823857Z     does not have default radio button value when value is nil
2024-02-19T18:04:20.5758700Z     has "No" radio button value when value is false
2024-02-19T18:04:20.6607726Z     displays the partner
2024-02-19T18:04:20.7482789Z     has "Yes" radio button value when value is true
2024-02-19T18:04:20.7483574Z 
2024-02-19T18:04:20.7483966Z Profiles
2024-02-19T18:04:20.7484719Z   GET #edit
2024-02-19T18:04:20.8432204Z     returns http success
2024-02-19T18:04:20.8433158Z   POST #update
2024-02-19T18:04:20.8433730Z     successful save
2024-02-19T18:04:20.8907902Z       update partner
2024-02-19T18:04:20.9331045Z       redirects to #show
2024-02-19T18:04:20.9332040Z     when updating an existing value to a blank value
2024-02-19T18:04:20.9775979Z       should have blank values
2024-02-19T18:04:21.0244529Z       update partner
2024-02-19T18:04:21.0245506Z 
2024-02-19T18:04:21.0245835Z /account_requests
2024-02-19T18:04:21.0247552Z   GET #received
2024-02-19T18:04:21.0248245Z     when given a valid token
2024-02-19T18:04:21.0468028Z       should render the received template
2024-02-19T18:04:21.0469025Z     when given a invalid token
2024-02-19T18:04:21.0535658Z       should render a error that says that is code provided is invalid
2024-02-19T18:04:21.0536746Z   POST #create
2024-02-19T18:04:21.0537279Z     with invalid parameters
2024-02-19T18:04:21.0754958Z       does not create a new AccountRequest
2024-02-19T18:04:21.0936765Z       renders a successful response (i.e. to display the 'new' template)
2024-02-19T18:04:21.0938037Z     with valid parameters
2024-02-19T18:04:21.1079212Z       redirects to the created account_request confirmation
2024-02-19T18:04:21.1205018Z       creates a new AccountRequest
2024-02-19T18:04:21.1324988Z       delivers the confirmation email via default queue
2024-02-19T18:04:21.1326354Z   GET #new
2024-02-19T18:04:21.1442875Z     renders a successful response
2024-02-19T18:04:21.1443655Z   GET #confirm
2024-02-19T18:04:21.1444566Z     when given a token that has already been confirmed
2024-02-19T18:04:21.3322766Z       should render a error that says that is code provided is invalid
2024-02-19T18:04:21.3323806Z     when given a valid token
2024-02-19T18:04:21.3511814Z       should the update confirmed_at on the account_request, queue confirmation email and render confirm template
2024-02-19T18:04:21.3512751Z     when given a invalid token
2024-02-19T18:04:21.3568489Z       should render a error that says that is code provided is invalid
2024-02-19T18:04:21.3569874Z   GET #confirmation
2024-02-19T18:04:21.3570670Z     when given a token that has already been confirmed
2024-02-19T18:04:21.5393320Z       should render a error that says that is code provided is invalid
2024-02-19T18:04:21.5394672Z     when given a invalid token
2024-02-19T18:04:21.5456170Z       should render a error that says that is code provided is invalid
2024-02-19T18:04:21.5457227Z     when given a valid token
2024-02-19T18:04:21.5595718Z       should render the confirmation template
2024-02-19T18:04:21.5596466Z 
2024-02-19T18:04:21.5596927Z User account management
2024-02-19T18:04:21.5598219Z   when not in staging
2024-02-19T18:04:22.4486348Z     should change the email
2024-02-19T18:04:23.3202714Z     should change an user name
2024-02-19T18:04:24.0919235Z     should fail when the email is invalid
2024-02-19T18:04:24.0920125Z   when in staging
2024-02-19T18:04:24.5640823Z     should not allow the user to change staging credentials
2024-02-19T18:04:25.0265634Z     should display staging warning
2024-02-19T18:04:25.0266386Z 
2024-02-19T18:04:25.0268305Z /partners/children
2024-02-19T18:04:25.0268890Z   GET #index
2024-02-19T18:04:25.1181793Z     should render without any issues
2024-02-19T18:04:25.1697622Z     should export CSV
2024-02-19T18:04:25.1701547Z 
2024-02-19T18:04:25.1701865Z Dashboard
2024-02-19T18:04:25.1703719Z   With an existing essentials bank
2024-02-19T18:04:25.1705250Z     Manufacturer Donations
2024-02-19T18:04:25.7708158Z       has a link to create a new donation
2024-02-19T18:04:25.7709885Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-19T18:04:25.7711232Z         filtering to 'This Year'
2024-02-19T18:04:27.4453954Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-02-19T18:04:27.4456030Z       given 1 Manufacturer donating on 2024-02-12  (unless 'All Time'), 6 during 2024-02-13..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:04:27.4457537Z         filtering to 'Last 7 Days'
2024-02-19T18:04:29.6282189Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-02-19T18:04:29.6284258Z       given 1 Manufacturer donating on 2022-02-18  (unless 'All Time'), 9 during 2022-02-19..2023-09-18, and 1 on 2023-09-19
2024-02-19T18:04:29.6285989Z         filtering to '' (February 19, 2022 - September 18, 2023)
2024-02-19T18:04:31.7919875Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-19T18:04:31.7921647Z       given 1 Manufacturer donating on 2024-01-20  (unless 'All Time'), 2 during 2024-01-21..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:04:31.7924945Z         filtering to 'Last 30 Days'
2024-02-19T18:04:33.3081900Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-02-19T18:04:33.3083903Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-19T18:04:33.3085871Z         filtering to 'This Month'
2024-02-19T18:04:34.8841386Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-02-19T18:04:34.8843588Z       given 1 Manufacturer donating on 2024-02-17  (unless 'All Time'), 1 during 2024-02-18..2024-02-18, and 1 on 2024-02-19
2024-02-19T18:04:34.8844969Z         filtering to 'Yesterday'
2024-02-19T18:04:36.5083846Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-02-19T18:04:36.5085500Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 9 during 2000-01-01..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:04:36.5086831Z         filtering to 'All Time'
2024-02-19T18:04:39.2416400Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-19T18:04:39.2418147Z       given 1 Manufacturer donating on 2024-02-18  (unless 'All Time'), 2 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:04:39.2419558Z         filtering to 'Today'
2024-02-19T18:04:40.8057615Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-02-19T18:04:40.8059810Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 9 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-19T18:04:40.8061134Z         filtering to 'Last Month'
2024-02-19T18:04:43.6953173Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-19T18:04:43.6954097Z     Inventory Totals
2024-02-19T18:04:43.6955177Z       Summary
2024-02-19T18:04:44.4306626Z         displays the on-hand totals
2024-02-19T18:04:44.4307413Z         when constrained to date range
2024-02-19T18:04:45.4979848Z           does not change
2024-02-19T18:04:45.4981151Z     Purchases
2024-02-19T18:04:46.4194265Z       has a link to create a new purchase
2024-02-19T18:04:46.4196218Z       given 1 Purchase on 2024-01-20  (unless 'All Time'), 4 during 2024-01-21..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:04:46.4197596Z         filtering to 'Last 30 Days'
2024-02-19T18:04:48.1260374Z           shows correct 3 Recent Purchase link(s)
2024-02-19T18:04:48.1262068Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-19T18:04:48.1263052Z         filtering to 'This Month'
2024-02-19T18:04:49.6413054Z           shows correct 3 Recent Purchase link(s)
2024-02-19T18:04:49.6415035Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-19T18:04:49.6416460Z         filtering to 'This Year'
2024-02-19T18:04:52.9751846Z           shows correct 0 Recent Purchase link(s)
2024-02-19T18:04:52.9753865Z       given 1 Purchase on 2022-02-18  (unless 'All Time'), 0 during 2022-02-19..2024-02-15, and 1 on 2024-02-16
2024-02-19T18:04:52.9755383Z         filtering to '' (February 19, 2022 - February 15, 2024)
2024-02-19T18:04:56.3821161Z           shows correct 0 Recent Purchase link(s)
2024-02-19T18:04:56.3822682Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 0 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-19T18:04:56.3824050Z         filtering to 'Last Month'
2024-02-19T18:04:59.7356193Z           shows correct 0 Recent Purchase link(s)
2024-02-19T18:04:59.7358069Z       given 1 Purchase on 2024-02-12  (unless 'All Time'), 4 during 2024-02-13..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:04:59.7359414Z         filtering to 'Last 7 Days'
2024-02-19T18:05:01.2719850Z           shows correct 3 Recent Purchase link(s)
2024-02-19T18:05:01.2721586Z       given 1 Purchase on 2024-02-18  (unless 'All Time'), 4 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:05:01.2722812Z         filtering to 'Today'
2024-02-19T18:05:02.7954292Z           shows correct 3 Recent Purchase link(s)
2024-02-19T18:05:02.7956093Z       given 1 Purchase on 2024-02-17  (unless 'All Time'), 3 during 2024-02-18..2024-02-18, and 1 on 2024-02-19
2024-02-19T18:05:02.7957996Z         filtering to 'Yesterday'
2024-02-19T18:05:04.2925201Z           shows correct 3 Recent Purchase link(s)
2024-02-19T18:05:04.2926290Z     Donations
2024-02-19T18:05:05.2272527Z       has a link to create a new donation
2024-02-19T18:05:05.2274298Z       given 1 Donation on 2022-02-18 (only if a valid date), 1 during 2022-02-19..2024-01-07, and 1 on 2024-01-08
2024-02-19T18:05:05.2275594Z         filtering to '' (February 19, 2022 - January 7, 2024)
2024-02-19T18:05:06.6695148Z           shows the correct total and 1 Recent Donation link(s)
2024-02-19T18:05:06.6696976Z       given 1 Donation on 2024-02-17 (only if a valid date), 2 during 2024-02-18..2024-02-18, and 1 on 2024-02-19
2024-02-19T18:05:06.6698273Z         filtering to 'Yesterday'
2024-02-19T18:05:08.1387327Z           shows the correct total and 2 Recent Donation link(s)
2024-02-19T18:05:08.1389193Z       given 1 Donation on 2024-02-12 (only if a valid date), 3 during 2024-02-13..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:05:08.1390456Z         filtering to 'Last 7 Days'
2024-02-19T18:05:09.6832287Z           shows the correct total and 3 Recent Donation link(s)
2024-02-19T18:05:09.6834117Z       given 1 Donation on 2023-12-31 (only if a valid date), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-19T18:05:09.6835573Z         filtering to 'This Year'
2024-02-19T18:05:13.1953110Z           shows the correct total and 0 Recent Donation link(s)
2024-02-19T18:05:13.1954891Z       given 1 Donation on 2023-12-31 (only if a valid date), 0 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-19T18:05:13.1955670Z         filtering to 'Last Month'
2024-02-19T18:05:16.5283567Z           shows the correct total and 0 Recent Donation link(s)
2024-02-19T18:05:16.5285374Z       given 1 Donation on 2024-01-31 (only if a valid date), 2 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-19T18:05:16.5286814Z         filtering to 'This Month'
2024-02-19T18:05:17.9634618Z           shows the correct total and 2 Recent Donation link(s)
2024-02-19T18:05:17.9636307Z       given 1 Donation on 2024-02-18 (only if a valid date), 0 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:05:17.9637299Z         filtering to 'Today'
2024-02-19T18:05:21.3056610Z           shows the correct total and 0 Recent Donation link(s)
2024-02-19T18:05:21.3058507Z       given 1 Donation on 2024-01-20 (only if a valid date), 4 during 2024-01-21..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:05:21.3060081Z         filtering to 'Last 30 Days'
2024-02-19T18:05:22.8743909Z           shows the correct total and 3 Recent Donation link(s)
2024-02-19T18:05:22.8744857Z     Distributions
2024-02-19T18:05:23.8052807Z       has a link to create a new distribution
2024-02-19T18:05:23.8054617Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-19T18:05:23.8056154Z         filtering to 'This Month'
2024-02-19T18:05:25.3090394Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-19T18:05:25.3092528Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 4 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-19T18:05:25.3093757Z         filtering to 'Last Month'
2024-02-19T18:05:26.8623464Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-19T18:05:26.8625428Z       given 1 Distribution on 2024-02-17  (unless 'All Time'), 0 during 2024-02-18..2024-02-18, and 1 on 2024-02-19
2024-02-19T18:05:26.8626766Z         filtering to 'Yesterday'
2024-02-19T18:05:30.2310858Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-19T18:05:30.2312730Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 0 during 2000-01-01..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:05:30.2313972Z         filtering to 'All Time'
2024-02-19T18:05:33.5622788Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-19T18:05:33.5624695Z       given 1 Distribution on 2024-01-20  (unless 'All Time'), 4 during 2024-01-21..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:05:33.5625936Z         filtering to 'Last 30 Days'
2024-02-19T18:05:35.0502655Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-19T18:05:35.0504644Z       given 1 Distribution on 2024-02-12  (unless 'All Time'), 0 during 2024-02-13..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:05:35.0505983Z         filtering to 'Last 7 Days'
2024-02-19T18:05:38.4291472Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-19T18:05:38.4293752Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-19T18:05:38.4295183Z         filtering to 'This Year'
2024-02-19T18:05:39.8302565Z           shows the correct total and 2 Recent Distribution link(s)
2024-02-19T18:05:39.8304238Z       given 1 Distribution on 2022-02-18  (unless 'All Time'), 3 during 2022-02-19..2023-12-31, and 1 on 2024-01-01
2024-02-19T18:05:39.8305297Z         filtering to '' (February 19, 2022 - December 31, 2023)
2024-02-19T18:05:41.2537492Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-19T18:05:41.2539587Z       given 1 Distribution on 2024-02-18  (unless 'All Time'), 3 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:05:41.2540878Z         filtering to 'Today'
2024-02-19T18:05:42.6801053Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-19T18:05:42.6802029Z     Product Drives
2024-02-19T18:05:43.2592574Z       has a widget for product drive summary data
2024-02-19T18:05:43.2594633Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 1 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-19T18:05:43.2596127Z         filtering to 'Last Month'
2024-02-19T18:05:44.6606537Z           shows the correct total money raised
2024-02-19T18:05:46.0694158Z           shows the correct total donations
2024-02-19T18:05:47.4529457Z           shows 1 Recent Donation link(s)
2024-02-19T18:05:47.4531346Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-19T18:05:47.4532746Z         filtering to 'This Year'
2024-02-19T18:05:48.9240229Z           shows the correct total money raised
2024-02-19T18:05:50.3996840Z           shows the correct total donations
2024-02-19T18:05:51.8901652Z           shows 3 Recent Donation link(s)
2024-02-19T18:05:51.8905928Z       given 1 Product Drive Donation on 2022-02-18 (unless 'All Time'), 2 during 2022-02-19..2023-09-08, and 1 on 2023-09-09
2024-02-19T18:05:51.8907729Z         filtering to '' (February 19, 2022 - September 8, 2023)
2024-02-19T18:05:53.3517747Z           shows 2 Recent Donation link(s)
2024-02-19T18:05:54.8029650Z           shows the correct total donations
2024-02-19T18:05:56.2845972Z           shows the correct total money raised
2024-02-19T18:05:56.2848054Z       given 1 Product Drive Donation on 2024-01-20 (unless 'All Time'), 3 during 2024-01-21..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:05:56.2849445Z         filtering to 'Last 30 Days'
2024-02-19T18:05:57.7612924Z           shows the correct total donations
2024-02-19T18:05:59.2437900Z           shows 3 Recent Donation link(s)
2024-02-19T18:06:00.7521975Z           shows the correct total money raised
2024-02-19T18:06:00.7523860Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-19T18:06:00.7525524Z         filtering to 'This Month'
2024-02-19T18:06:02.2667553Z           shows the correct total donations
2024-02-19T18:06:03.7838969Z           shows the correct total money raised
2024-02-19T18:06:05.3214259Z           shows 3 Recent Donation link(s)
2024-02-19T18:06:05.3215795Z       Product drive behaviour with Mixed Donation types
2024-02-19T18:06:06.0421158Z         only counts product drive donations for product drive
2024-02-19T18:06:06.7580244Z         only shows product drive donations as product drive donations
2024-02-19T18:06:07.4774527Z         only counts product drive money raised
2024-02-19T18:06:07.4776264Z       given 1 Product Drive Donation on 2024-02-12 (unless 'All Time'), 2 during 2024-02-13..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:06:07.4777308Z         filtering to 'Last 7 Days'
2024-02-19T18:06:08.9115908Z           shows the correct total money raised
2024-02-19T18:06:10.3672589Z           shows 2 Recent Donation link(s)
2024-02-19T18:06:11.7941304Z           shows the correct total donations
2024-02-19T18:06:11.7943397Z       given 1 Product Drive Donation on 2024-02-17 (unless 'All Time'), 3 during 2024-02-18..2024-02-18, and 1 on 2024-02-19
2024-02-19T18:06:11.7944550Z         filtering to 'Yesterday'
2024-02-19T18:06:13.2863151Z           shows the correct total donations
2024-02-19T18:06:14.7740966Z           shows 3 Recent Donation link(s)
2024-02-19T18:06:16.2778869Z           shows the correct total money raised
2024-02-19T18:06:16.2781114Z       given 1 Product Drive Donation on 2024-02-18 (unless 'All Time'), 2 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:06:16.2782521Z         filtering to 'Today'
2024-02-19T18:06:17.7171680Z           shows 2 Recent Donation link(s)
2024-02-19T18:06:19.1712410Z           shows the correct total money raised
2024-02-19T18:06:20.5947941Z           shows the correct total donations
2024-02-19T18:06:20.5948831Z     Signage
2024-02-19T18:06:23.4815141Z       shows their organization name unless they have a logo set
2024-02-19T18:06:23.4816300Z   With a new essentials bank
2024-02-19T18:06:51.4790380Z     displays the getting started guide until the steps are completed
2024-02-19T18:06:51.4792551Z 
2024-02-19T18:06:51.4792955Z Kit management
2024-02-19T18:06:52.9675221Z   can allocate and deallocate quantity per storage location from kit index
2024-02-19T18:06:53.5471086Z   should not display inactive storage locations under allocations
2024-02-19T18:06:54.4603179Z   can create a new kit as a user with the proper quantity
2024-02-19T18:06:54.4604786Z   when there is not enough quantity of the items contained in the kit on-hand
2024-02-19T18:06:55.5833114Z     will not change quantity amounts when allocating
2024-02-19T18:06:55.5834351Z   when there is no kit quantity
2024-02-19T18:06:56.7267078Z     will not change quantity amounts when deallocating
2024-02-19T18:06:56.7267965Z 
2024-02-19T18:06:56.7268270Z Organization management
2024-02-19T18:06:56.7269876Z   while signed in as an organization admin
2024-02-19T18:06:57.7069832Z     can deactivate a user in the organization
2024-02-19T18:06:58.2044033Z     can re-invite a user to an organization after 7 days
2024-02-19T18:06:59.1531053Z     can add a new user to an organization
2024-02-19T18:07:00.1184205Z     can re-activate a user in the organization
2024-02-19T18:07:00.6188800Z     can see 'Make user' button for admins
2024-02-19T18:07:00.6189448Z     Editing the organization
2024-02-19T18:07:01.6044705Z       can select if the org repackages essentials
2024-02-19T18:07:02.5925602Z       can select if the org distributes essentials monthly
2024-02-19T18:07:03.5695997Z       can enable if the org uses single step invite and approve partner process
2024-02-19T18:07:04.4033804Z       can set the NDBN Member ID
2024-02-19T18:07:05.2551200Z       can set a default storage location on the organization
2024-02-19T18:07:06.1231265Z       can set a reminder and a deadline day
2024-02-19T18:07:07.0909962Z       can disable if the org does NOT use single step invite and approve partner process
2024-02-19T18:07:08.5830554Z       can select and deselect Required Partner Fields
2024-02-19T18:07:09.7478215Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-02-19T18:07:10.7396569Z       can select if the org shows year-to-date values on the distribution printout
2024-02-19T18:07:10.7397194Z     Viewing the organization
2024-02-19T18:07:11.2948314Z       can view organization details
2024-02-19T18:07:11.2949066Z   while signed in as a normal user
2024-02-19T18:07:11.7546455Z     can see summary details about the organization as a user
2024-02-19T18:07:12.2257977Z     cannot see 'Make user' button for admins
2024-02-19T18:07:12.2261395Z 
2024-02-19T18:07:12.2261612Z Vendor
2024-02-19T18:07:12.2263669Z   when creating a new vendor
2024-02-19T18:07:12.9520835Z     cannot add a new vendor instance with empty attributes
2024-02-19T18:07:13.7366086Z     can create a new vendor instance as a user
2024-02-19T18:07:13.7367382Z   When vendor have purchases associated with them already
2024-02-19T18:07:14.3533526Z     can have a single vendor show semi-detailed stats about purchases
2024-02-19T18:07:14.9374218Z     can have existing vendors show in the #index with some summary stats
2024-02-19T18:07:14.9375125Z   when editing an existing vendor
2024-02-19T18:07:15.7091256Z     can update the contact info for a vendor as a user
2024-02-19T18:07:16.4959200Z     does not update a vendor with empty attributes
2024-02-19T18:07:16.4959995Z   When a user views the index page
2024-02-19T18:07:16.9811831Z     should have the vendor names in alphabetical order
2024-02-19T18:07:16.9997573Z W, [2024-02-19T10:07:16.999486 #2380]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-02-19T18:07:16.9998831Z W, [2024-02-19T10:07:16.999543 #2380]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-19T18:07:17.0001029Z W, [2024-02-19T10:07:16.999571 #2380]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-19T18:07:17.0002907Z W, [2024-02-19T10:07:16.999607 #2380]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-02-19T18:07:17.0003731Z 
2024-02-19T18:07:17.0004016Z Finished in 3 minutes 37.2 seconds (files took 8.09 seconds to load)
2024-02-19T18:07:17.0004572Z 235 examples, 0 failures
2024-02-19T18:07:17.0004792Z 
2024-02-19T18:07:17.0004921Z Randomized with seed 26137
2024-02-19T18:07:17.0005170Z 
2024-02-19T18:07:17.3007667Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3819 / 6404 LOC (59.63%) covered.
2024-02-19T18:07:17.8214639Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10655 LOC (0.36%) covered.
