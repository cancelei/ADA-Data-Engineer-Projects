2024-03-14T19:19:18.5556805Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-14T19:19:18.5557678Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-14T19:19:18.5581922Z shell: /usr/bin/bash -e {0}
2024-03-14T19:19:18.5582421Z env:
2024-03-14T19:19:18.5582765Z   POSTGRES_HOST: localhost
2024-03-14T19:19:18.5583170Z   DATABASE_HOST: localhost
2024-03-14T19:19:18.5583608Z   PG_USERNAME: postgres
2024-03-14T19:19:18.5583961Z   PG_PASSWORD: password
2024-03-14T19:19:18.5584345Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-14T19:19:18.5584816Z   POSTGRES_PORT: 5432
2024-03-14T19:19:18.5585189Z   PGHOST: localhost
2024-03-14T19:19:18.5585500Z   PGUSER: postgres
2024-03-14T19:19:18.5585922Z   RAILS_ENV: test
2024-03-14T19:19:18.5586306Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-14T19:19:18.5586812Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-14T19:19:18.5587235Z   KNAPSACK_PRO_CI_NODE_INDEX: 2
2024-03-14T19:19:18.5587645Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-14T19:19:18.5588292Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-14T19:19:18.5588917Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-14T19:19:18.5589619Z   EVENTS_READ: true
2024-03-14T19:19:18.5589943Z ##[endgroup]
2024-03-14T19:19:24.2024507Z W, [2024-03-14T19:19:24.202078 #2292]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-14T19:19:24.2026595Z W, [2024-03-14T19:19:24.202140 #2292]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-14T19:19:24.2028184Z W, [2024-03-14T19:19:24.202167 #2292]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-14T19:19:24.2031214Z W, [2024-03-14T19:19:24.202203 #2292]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-14T19:19:26.8714103Z W, [2024-03-14T19:19:26.871092 #2292]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-14T19:19:26.8716222Z W, [2024-03-14T19:19:26.871133 #2292]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-14T19:19:26.8717656Z W, [2024-03-14T19:19:26.871146 #2292]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-14T19:19:26.8719875Z W, [2024-03-14T19:19:26.871211 #2292]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-14T19:19:26.8771875Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-03-14T19:19:35.2401131Z 
2024-03-14T19:19:35.2401811Z Randomized with seed 50296
2024-03-14T19:19:36.1691362Z 
2024-03-14T19:19:36.1692264Z Vendor
2024-03-14T19:19:36.1693692Z   when editing an existing vendor
2024-03-14T19:19:37.6710878Z     can update the contact info for a vendor as a user
2024-03-14T19:19:38.4354177Z     does not update a vendor with empty attributes
2024-03-14T19:19:38.4355413Z   When vendor have purchases associated with them already
2024-03-14T19:19:39.0688801Z     can have existing vendors show in the #index with some summary stats
2024-03-14T19:19:39.6626697Z     can have a single vendor show semi-detailed stats about purchases
2024-03-14T19:19:39.6627805Z   When a user views the index page
2024-03-14T19:19:40.1269020Z     should have the vendor names in alphabetical order
2024-03-14T19:19:40.1269694Z   when creating a new vendor
2024-03-14T19:19:40.8598531Z     cannot add a new vendor instance with empty attributes
2024-03-14T19:19:41.6238821Z     can create a new vendor instance as a user
2024-03-14T19:19:41.6239496Z 
2024-03-14T19:19:41.6239703Z Profiles
2024-03-14T19:19:41.6241212Z   GET #edit
2024-03-14T19:19:41.7272389Z     returns http success
2024-03-14T19:19:41.7273139Z   POST #update
2024-03-14T19:19:41.7273819Z     when updating an existing value to a blank value
2024-03-14T19:19:41.7701520Z       should have blank values
2024-03-14T19:19:41.8221022Z       update partner
2024-03-14T19:19:41.8221764Z     successful save
2024-03-14T19:19:41.8653071Z       redirects to #show
2024-03-14T19:19:41.9090342Z       update partner
2024-03-14T19:19:41.9090999Z 
2024-03-14T19:19:41.9091430Z Admin Organization Management
2024-03-14T19:19:41.9092940Z   While signed in as an Administrative User (super admin)
2024-03-14T19:19:42.9735619Z     filters by organizations by name in organizations index page
2024-03-14T19:19:44.9643386Z     creates a new organization
2024-03-14T19:19:46.2302189Z     can view organization details
2024-03-14T19:19:46.2302993Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-14T19:19:48.0948335Z     creates a new organization
2024-03-14T19:19:48.0951792Z 
2024-03-14T19:19:48.0952259Z Dashboard
2024-03-14T19:19:48.0953620Z   With a new essentials bank
2024-03-14T19:20:16.1011937Z     displays the getting started guide until the steps are completed
2024-03-14T19:20:16.1013638Z   With an existing essentials bank
2024-03-14T19:20:16.1014735Z     Product Drives
2024-03-14T19:20:16.6897618Z       has a widget for product drive summary data
2024-03-14T19:20:16.6899650Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-14T19:20:16.6901023Z         filtering to 'This Year'
2024-03-14T19:20:20.0459016Z           shows 0 Recent Donation link(s)
2024-03-14T19:20:21.3605439Z           shows the correct total money raised
2024-03-14T19:20:22.6839489Z           shows the correct total donations
2024-03-14T19:20:22.6841155Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-14T19:20:22.6842296Z         filtering to 'Last Month'
2024-03-14T19:20:24.3466132Z           shows the correct total donations
2024-03-14T19:20:25.8589147Z           shows 3 Recent Donation link(s)
2024-03-14T19:20:27.3527456Z           shows the correct total money raised
2024-03-14T19:20:27.3529447Z       given 1 Product Drive Donation on 2024-02-29 (unless 'All Time'), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-14T19:20:27.3531211Z         filtering to 'This Month'
2024-03-14T19:20:28.7811045Z           shows 2 Recent Donation link(s)
2024-03-14T19:20:30.2077917Z           shows the correct total donations
2024-03-14T19:20:31.6314686Z           shows the correct total money raised
2024-03-14T19:20:31.6317090Z       given 1 Product Drive Donation on 2024-02-13 (unless 'All Time'), 4 during 2024-02-14..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:20:31.6318480Z         filtering to 'Last 30 Days'
2024-03-14T19:20:33.1470831Z           shows the correct total donations
2024-03-14T19:20:34.6321386Z           shows the correct total money raised
2024-03-14T19:20:36.1576629Z           shows 3 Recent Donation link(s)
2024-03-14T19:20:36.1578648Z       given 1 Product Drive Donation on 2022-03-13 (unless 'All Time'), 0 during 2022-03-14..2024-01-14, and 1 on 2024-01-15
2024-03-14T19:20:36.1580198Z         filtering to '' (March 14, 2022 - January 14, 2024)
2024-03-14T19:20:39.5378734Z           shows 0 Recent Donation link(s)
2024-03-14T19:20:40.8747933Z           shows the correct total donations
2024-03-14T19:20:42.2288195Z           shows the correct total money raised
2024-03-14T19:20:42.2289713Z       given 1 Product Drive Donation on 2024-03-07 (unless 'All Time'), 0 during 2024-03-08..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:20:42.2290794Z         filtering to 'Last 7 Days'
2024-03-14T19:20:43.5481065Z           shows the correct total money raised
2024-03-14T19:20:44.8880442Z           shows the correct total donations
2024-03-14T19:20:48.2422573Z           shows 0 Recent Donation link(s)
2024-03-14T19:20:48.2424447Z       given 1 Product Drive Donation on 2024-03-13 (unless 'All Time'), 2 during 2024-03-14..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:20:48.2425526Z         filtering to 'Today'
2024-03-14T19:20:49.8345502Z           shows the correct total donations
2024-03-14T19:20:51.2618275Z           shows the correct total money raised
2024-03-14T19:20:52.6987402Z           shows 2 Recent Donation link(s)
2024-03-14T19:20:52.6988597Z       Product drive behaviour with Mixed Donation types
2024-03-14T19:20:53.4037306Z         only shows product drive donations as product drive donations
2024-03-14T19:20:54.1030647Z         only counts product drive donations for product drive
2024-03-14T19:20:54.8145672Z         only counts product drive money raised
2024-03-14T19:20:54.8147662Z       given 1 Product Drive Donation on 2024-03-12 (unless 'All Time'), 0 during 2024-03-13..2024-03-13, and 1 on 2024-03-14
2024-03-14T19:20:54.8149057Z         filtering to 'Yesterday'
2024-03-14T19:20:56.1352594Z           shows the correct total donations
2024-03-14T19:20:57.4646168Z           shows the correct total money raised
2024-03-14T19:21:00.7872152Z           shows 0 Recent Donation link(s)
2024-03-14T19:21:00.7873095Z     Donations
2024-03-14T19:21:01.6962034Z       has a link to create a new donation
2024-03-14T19:21:01.6963528Z       given 1 Donation on 2024-03-07 (only if a valid date), 1 during 2024-03-08..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:21:01.6964831Z         filtering to 'Last 7 Days'
2024-03-14T19:21:03.0531973Z           shows the correct total and 1 Recent Donation link(s)
2024-03-14T19:21:03.0535832Z       given 1 Donation on 2024-02-13 (only if a valid date), 0 during 2024-02-14..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:21:03.0537244Z         filtering to 'Last 30 Days'
2024-03-14T19:21:06.3873237Z           shows the correct total and 0 Recent Donation link(s)
2024-03-14T19:21:06.3875308Z       given 1 Donation on 2024-03-12 (only if a valid date), 0 during 2024-03-13..2024-03-13, and 1 on 2024-03-14
2024-03-14T19:21:06.3876613Z         filtering to 'Yesterday'
2024-03-14T19:21:09.7164897Z           shows the correct total and 0 Recent Donation link(s)
2024-03-14T19:21:09.7166790Z       given 1 Donation on 2022-03-13 (only if a valid date), 4 during 2022-03-14..2023-11-08, and 1 on 2023-11-09
2024-03-14T19:21:09.7168223Z         filtering to '' (March 14, 2022 - November 8, 2023)
2024-03-14T19:21:11.2644516Z           shows the correct total and 3 Recent Donation link(s)
2024-03-14T19:21:11.2646690Z       given 1 Donation on 2024-03-13 (only if a valid date), 4 during 2024-03-14..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:21:11.2647649Z         filtering to 'Today'
2024-03-14T19:21:12.9455904Z           shows the correct total and 3 Recent Donation link(s)
2024-03-14T19:21:12.9457743Z       given 1 Donation on 2024-01-31 (only if a valid date), 2 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-14T19:21:12.9459035Z         filtering to 'Last Month'
2024-03-14T19:21:14.3860924Z           shows the correct total and 2 Recent Donation link(s)
2024-03-14T19:21:14.3862705Z       given 1 Donation on 2023-12-31 (only if a valid date), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-14T19:21:14.3864090Z         filtering to 'This Year'
2024-03-14T19:21:15.8012933Z           shows the correct total and 2 Recent Donation link(s)
2024-03-14T19:21:15.8014545Z       given 1 Donation on 2024-02-29 (only if a valid date), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-14T19:21:15.8015391Z         filtering to 'This Month'
2024-03-14T19:21:17.2311145Z           shows the correct total and 2 Recent Donation link(s)
2024-03-14T19:21:17.2312537Z     Purchases
2024-03-14T19:21:18.1151332Z       has a link to create a new purchase
2024-03-14T19:21:18.1152935Z       given 1 Purchase on 2024-02-13  (unless 'All Time'), 4 during 2024-02-14..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:21:18.1153978Z         filtering to 'Last 30 Days'
2024-03-14T19:21:19.5880748Z           shows correct 3 Recent Purchase link(s)
2024-03-14T19:21:19.5882477Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-14T19:21:19.5883920Z         filtering to 'Last Month'
2024-03-14T19:21:22.9166284Z           shows correct 0 Recent Purchase link(s)
2024-03-14T19:21:22.9168092Z       given 1 Purchase on 2022-03-13  (unless 'All Time'), 2 during 2022-03-14..2024-01-31, and 1 on 2024-02-01
2024-03-14T19:21:22.9169476Z         filtering to '' (March 14, 2022 - January 31, 2024)
2024-03-14T19:21:24.3365339Z           shows correct 2 Recent Purchase link(s)
2024-03-14T19:21:24.3367227Z       given 1 Purchase on 2024-03-07  (unless 'All Time'), 4 during 2024-03-08..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:21:24.3368484Z         filtering to 'Last 7 Days'
2024-03-14T19:21:25.8182598Z           shows correct 3 Recent Purchase link(s)
2024-03-14T19:21:25.8184200Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-14T19:21:25.8185417Z         filtering to 'This Year'
2024-03-14T19:21:27.2851139Z           shows correct 3 Recent Purchase link(s)
2024-03-14T19:21:27.2852809Z       given 1 Purchase on 2024-03-13  (unless 'All Time'), 1 during 2024-03-14..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:21:27.2853835Z         filtering to 'Today'
2024-03-14T19:21:28.8103022Z           shows correct 1 Recent Purchase link(s)
2024-03-14T19:21:28.8104956Z       given 1 Purchase on 2024-03-12  (unless 'All Time'), 4 during 2024-03-13..2024-03-13, and 1 on 2024-03-14
2024-03-14T19:21:28.8106218Z         filtering to 'Yesterday'
2024-03-14T19:21:30.3187834Z           shows correct 3 Recent Purchase link(s)
2024-03-14T19:21:30.3189497Z       given 1 Purchase on 2024-02-29  (unless 'All Time'), 0 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-14T19:21:30.3193427Z         filtering to 'This Month'
2024-03-14T19:21:33.6736279Z           shows correct 0 Recent Purchase link(s)
2024-03-14T19:21:33.6737100Z     Distributions
2024-03-14T19:21:34.5914744Z       has a link to create a new distribution
2024-03-14T19:21:34.5916480Z       given 1 Distribution on 2024-03-07  (unless 'All Time'), 3 during 2024-03-08..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:21:34.5917988Z         filtering to 'Last 7 Days'
2024-03-14T19:21:36.0049988Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-14T19:21:36.0052568Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-14T19:21:36.0053842Z         filtering to 'This Year'
2024-03-14T19:21:37.4587607Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-14T19:21:37.4589893Z       given 1 Distribution on 2024-03-12  (unless 'All Time'), 1 during 2024-03-13..2024-03-13, and 1 on 2024-03-14
2024-03-14T19:21:37.4591100Z         filtering to 'Yesterday'
2024-03-14T19:21:38.8139887Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-14T19:21:38.8141335Z       given 1 Distribution on 2022-03-13  (unless 'All Time'), 1 during 2022-03-14..2024-01-05, and 1 on 2024-01-06
2024-03-14T19:21:38.8142615Z         filtering to '' (March 14, 2022 - January 5, 2024)
2024-03-14T19:21:40.1870459Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-14T19:21:40.1872704Z       given 1 Distribution on 2024-02-29  (unless 'All Time'), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-14T19:21:40.1873989Z         filtering to 'This Month'
2024-03-14T19:21:41.6155326Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-14T19:21:41.6157252Z       given 1 Distribution on 2024-03-13  (unless 'All Time'), 2 during 2024-03-14..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:21:41.6158549Z         filtering to 'Today'
2024-03-14T19:21:43.1044789Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-14T19:21:43.1046620Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-14T19:21:43.1047814Z         filtering to 'Last Month'
2024-03-14T19:21:46.5378778Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-14T19:21:46.5380313Z       given 1 Distribution on 2024-02-13  (unless 'All Time'), 0 during 2024-02-14..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:21:46.5381109Z         filtering to 'Last 30 Days'
2024-03-14T19:21:49.9216737Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-14T19:21:49.9218473Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 2 during 2000-01-01..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:21:49.9219559Z         filtering to 'All Time'
2024-03-14T19:21:51.3230616Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-14T19:21:51.3232295Z     Inventory Totals
2024-03-14T19:21:51.3233032Z       Summary
2024-03-14T19:21:52.0547800Z         displays the on-hand totals
2024-03-14T19:21:52.0548630Z         when constrained to date range
2024-03-14T19:21:53.1073561Z           does not change
2024-03-14T19:21:53.1074349Z     Signage
2024-03-14T19:21:56.0066446Z       shows their organization name unless they have a logo set
2024-03-14T19:21:56.0067545Z     Manufacturer Donations
2024-03-14T19:21:56.5958546Z       has a link to create a new donation
2024-03-14T19:21:56.5960343Z       given 1 Manufacturer donating on 2022-03-13  (unless 'All Time'), 1 during 2022-03-14..2024-01-21, and 1 on 2024-01-22
2024-03-14T19:21:56.5961885Z         filtering to '' (March 14, 2022 - January 21, 2024)
2024-03-14T19:21:58.0415305Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-03-14T19:21:58.0417496Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 5 during 2000-01-01..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:21:58.0418789Z         filtering to 'All Time'
2024-03-14T19:22:00.0279174Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-03-14T19:22:00.0281680Z       given 1 Manufacturer donating on 2024-02-13  (unless 'All Time'), 2 during 2024-02-14..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:22:00.0283205Z         filtering to 'Last 30 Days'
2024-03-14T19:22:01.5698147Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-03-14T19:22:01.5700314Z       given 1 Manufacturer donating on 2024-03-13  (unless 'All Time'), 3 during 2024-03-14..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:22:01.5702068Z         filtering to 'Today'
2024-03-14T19:22:03.2154604Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-14T19:22:03.2156339Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 9 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-14T19:22:03.2157722Z         filtering to 'This Year'
2024-03-14T19:22:06.9170194Z           shows the correct total and 10 Top Manufacturer Donation link(s) (FAILED - 1)
2024-03-14T19:22:06.9173102Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_shows-the-correct-total-and-10-Top-Manufacturer-Donation-link(s)_2024-03-14-12-22-06.768.html[0m
2024-03-14T19:22:06.9180083Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_shows-the-correct-total-and-10-Top-Manufacturer-Donation-link(s)_2024-03-14-12-22-06.768.png[0m
2024-03-14T19:22:06.9182088Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-14T19:22:06.9183059Z         filtering to 'Last Month'
2024-03-14T19:22:08.3521608Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-03-14T19:22:08.3524187Z       given 1 Manufacturer donating on 2024-03-07  (unless 'All Time'), 1 during 2024-03-08..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:22:08.3525521Z         filtering to 'Last 7 Days'
2024-03-14T19:22:09.9098974Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-03-14T19:22:09.9100983Z       given 1 Manufacturer donating on 2024-02-29  (unless 'All Time'), 6 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-14T19:22:09.9102545Z         filtering to 'This Month'
2024-03-14T19:22:13.5540864Z           shows the correct total and 8 Top Manufacturer Donation link(s) (FAILED - 2)
2024-03-14T19:22:13.5543591Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_shows-the-correct-total-and-8-Top-Manufacturer-Donation-link(s)_2024-03-14-12-22-13.405.html[0m
2024-03-14T19:22:13.5546372Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_shows-the-correct-total-and-8-Top-Manufacturer-Donation-link(s)_2024-03-14-12-22-13.405.png[0m
2024-03-14T19:22:13.5548542Z       given 1 Manufacturer donating on 2024-03-12  (unless 'All Time'), 1 during 2024-03-13..2024-03-13, and 1 on 2024-03-14
2024-03-14T19:22:13.5549702Z         filtering to 'Yesterday'
2024-03-14T19:22:14.9306949Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-03-14T19:22:14.9308571Z 
2024-03-14T19:22:14.9308870Z Purchases
2024-03-14T19:22:14.9310187Z   while signed in as a normal user
2024-03-14T19:22:14.9311248Z     When visiting an existing purchase
2024-03-14T19:22:15.3927484Z       does not allow deletion of a purchase
2024-03-14T19:22:15.3928329Z     When creating a new purchase
2024-03-14T19:22:15.8643497Z       should not display inactive storage locations in dropdown
2024-03-14T19:22:15.8644493Z       via manual entry
2024-03-14T19:22:16.9022093Z         User can create vendor from purchase
2024-03-14T19:22:17.7904016Z         User can create a purchase using dollars decimal amount
2024-03-14T19:22:18.8073168Z         Does not include inactive items in the line item fields
2024-03-14T19:22:20.1235112Z         multiple line items for the same item type are accepted and combined on the backend
2024-03-14T19:22:21.2260656Z         User can create a purchase IN THE PAST
2024-03-14T19:22:21.2261768Z         when creating a purchase incorrectly
2024-03-14T19:22:22.1876941Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-03-14T19:22:22.9937315Z           should display failure with error messages
2024-03-14T19:22:22.9938185Z       Editing purchase
2024-03-14T19:22:23.4181578Z         A user can see purchased_from value
2024-03-14T19:22:24.0186766Z         A user can view another organizations purchase
2024-03-14T19:22:24.0187537Z       via barcode entry
2024-03-14T19:22:25.2487711Z         a user can add items that do not yet have a barcode
2024-03-14T19:22:28.1761173Z         User scan same barcode 2 times (FAILED - 3)
2024-03-14T19:22:28.1763798Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-scan-same-barcode-2-times_2024-03-14-12-22-28.040.html[0m
2024-03-14T19:22:28.1766200Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-scan-same-barcode-2-times_2024-03-14-12-22-28.040.png[0m
2024-03-14T19:22:28.8866154Z         a user can add items via scanning them in by barcode
2024-03-14T19:22:28.8867128Z     When visiting the index page
2024-03-14T19:22:28.8868042Z       When filtering on the index page
2024-03-14T19:22:29.5599179Z         User can filter the #index by vendor (FAILED - 4)
2024-03-14T19:22:29.5601472Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-can-filter-the-#index-by-vendor_2024-03-14-12-22-29.410.html[0m
2024-03-14T19:22:29.5603912Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-can-filter-the-#index-by-vendor_2024-03-14-12-22-29.410.png[0m
2024-03-14T19:22:30.3752835Z         User can filter the #index by storage location
2024-03-14T19:22:30.3753528Z         behaves like Date Range Picker
2024-03-14T19:22:30.3754403Z           when choosing 'Last Month'
2024-03-14T19:22:31.3727967Z             shows only 2 of the records
2024-03-14T19:22:31.3728812Z           when choosing 'All Time'
2024-03-14T19:22:32.3181671Z             shows all the records
2024-03-14T19:22:32.3182730Z           when choosing a date range that only includes the previous week
2024-03-14T19:22:33.2557630Z             shows only 1 record
2024-03-14T19:22:33.2558829Z       In the middle of the year
2024-03-14T19:22:34.1275475Z         User sees purchased date column
2024-03-14T19:22:34.8760553Z         User can click to the new purchase form
2024-03-14T19:22:35.5743737Z         User sees total purchases value
2024-03-14T19:22:35.5744644Z   while signed in as an organization admin
2024-03-14T19:22:36.4962167Z     allows deletion of a purchase
2024-03-14T19:22:36.4965854Z 
2024-03-14T19:22:36.4966239Z StorageLocations
2024-03-14T19:22:36.4967540Z   While not signed in
2024-03-14T19:22:36.5044371Z     redirects the user to the sign-in page for CRUD actions
2024-03-14T19:22:36.5044989Z   While signed in
2024-03-14T19:22:36.5046948Z     GET #destroy
2024-03-14T19:22:36.5360715Z       redirects to #index
2024-03-14T19:22:36.5361441Z     PUT #reactivate
2024-03-14T19:22:36.5544752Z       undiscards
2024-03-14T19:22:36.5545595Z     Looking at a different organization
2024-03-14T19:22:36.7275957Z       redirects the user to the sign-in page for CRUD actions
2024-03-14T19:22:36.7277153Z     GET #index
2024-03-14T19:22:36.7277695Z       csv
2024-03-14T19:22:36.8307428Z         includes headers followed by alphabetized item names
2024-03-14T19:22:36.8499286Z         succeeds
2024-03-14T19:22:36.8500056Z       html
2024-03-14T19:22:36.8862132Z         succeeds
2024-03-14T19:22:36.8862891Z         with inactive locations
2024-03-14T19:22:36.9342151Z           does not includes the inactive location
2024-03-14T19:22:36.9343191Z           with include_inactive_locations
2024-03-14T19:22:36.9744366Z             includes the inactive location
2024-03-14T19:22:36.9745559Z     PUT #deactivate
2024-03-14T19:22:36.9955273Z       discards
2024-03-14T19:22:36.9955801Z       with inventory
2024-03-14T19:22:37.0429900Z         does not discard
2024-03-14T19:22:37.0430659Z     GET #inventory
2024-03-14T19:22:37.0431926Z       when also including omitted items
2024-03-14T19:22:37.0939822Z         returns a collection that also includes all items, but with zeroed quantities
2024-03-14T19:22:37.1449922Z         contains a collection of ducktyped entries that respond the same
2024-03-14T19:22:37.1451530Z       without any overrides
2024-03-14T19:22:37.1994357Z         returns a collection that only includes items at the storage location
2024-03-14T19:22:37.1995489Z       when also including inactive items
2024-03-14T19:22:37.2646131Z         returns a collection that also includes items that have been deactivated
2024-03-14T19:22:37.2647218Z     GET #edit
2024-03-14T19:22:37.6980847Z       returns http success
2024-03-14T19:22:37.6981625Z     GET #show
2024-03-14T19:22:37.6982201Z       html
2024-03-14T19:22:37.7647635Z         should return a correct response
2024-03-14T19:22:37.7648498Z         with version date set
2024-03-14T19:22:37.7649153Z           with a version found
2024-03-14T19:22:37.8438956Z             should show the version specified
2024-03-14T19:22:37.8439815Z           with no version found
2024-03-14T19:22:37.9166398Z             should show N/A
2024-03-14T19:22:37.9167567Z       csv
2024-03-14T19:22:37.9669636Z         should be successful
2024-03-14T19:22:37.9670409Z     GET #new
2024-03-14T19:22:38.0015547Z       returns http success
2024-03-14T19:22:38.0016549Z     POST #import_csv
2024-03-14T19:22:38.0017216Z       csv file with wrong headers
2024-03-14T19:22:38.0157839Z         redirects
2024-03-14T19:22:38.0279738Z         presents a flash error message
2024-03-14T19:22:38.0280534Z       with a csv file
2024-03-14T19:22:38.0424971Z         presents a flash notice message
2024-03-14T19:22:38.0566388Z         redirects
2024-03-14T19:22:38.0615830Z         invokes .import_csv
2024-03-14T19:22:38.0616504Z       without a csv file
2024-03-14T19:22:38.0731771Z         redirects to :index
2024-03-14T19:22:38.0849849Z         presents a flash error message
2024-03-14T19:22:38.0850765Z 
2024-03-14T19:22:38.0850998Z /partners/dashboard
2024-03-14T19:22:38.1932199Z   displays upcoming distributions
2024-03-14T19:22:38.1933057Z   BroadcastAnnouncement card
2024-03-14T19:22:38.2512118Z     displays announcements if there are valid ones
2024-03-14T19:22:38.3039557Z     doesn't display announcements if there are not valid ones
2024-03-14T19:22:38.3549104Z     doesn't display announcements from super admins
2024-03-14T19:22:38.3550285Z   with just partner role
2024-03-14T19:22:38.4036729Z     should not display the switch link
2024-03-14T19:22:38.4037316Z   GET #index
2024-03-14T19:22:38.4804727Z     does not display requests in other states
2024-03-14T19:22:38.5498997Z     displays requests that are pending
2024-03-14T19:22:38.5500266Z   with both roles
2024-03-14T19:22:38.6186622Z     should include the switch link
2024-03-14T19:22:38.6187351Z 
2024-03-14T19:22:38.6187852Z BroadcastAnnouncements
2024-03-14T19:22:38.6188858Z   GET /new
2024-03-14T19:22:38.6492990Z     renders a successful response
2024-03-14T19:22:38.6494117Z   PATCH /update
2024-03-14T19:22:38.6494889Z     with invalid parameters
2024-03-14T19:22:38.6844145Z       does not render a successful response
2024-03-14T19:22:38.6845247Z     with valid parameters
2024-03-14T19:22:38.7037845Z       updates the requested announcement and redirects
2024-03-14T19:22:38.7038454Z   DELETE /destroy
2024-03-14T19:22:38.7220959Z     destroys the requested announcement then redirects
2024-03-14T19:22:38.7221733Z   POST /create
2024-03-14T19:22:38.7222284Z     with invalid parameters
2024-03-14T19:22:38.7561087Z       does not create a new BroadcastAnnouncement
2024-03-14T19:22:38.7885025Z       does not render a successful response
2024-03-14T19:22:38.7885596Z     with valid parameters
2024-03-14T19:22:38.8050824Z       creates a new BroadcastAnnouncement then redirects
2024-03-14T19:22:38.8051435Z   GET /edit
2024-03-14T19:22:38.8367315Z     render a successful response
2024-03-14T19:22:38.8368178Z   GET /index
2024-03-14T19:22:38.8700733Z     renders a successful response
2024-03-14T19:22:38.8701604Z 
2024-03-14T19:22:38.8701844Z Organization management
2024-03-14T19:22:38.8702835Z   while signed in as an organization admin
2024-03-14T19:22:39.3700447Z     can re-invite a user to an organization after 7 days
2024-03-14T19:22:40.3045866Z     can add a new user to an organization
2024-03-14T19:22:43.0096626Z     can deactivate a user in the organization (FAILED - 5)
2024-03-14T19:22:43.0098213Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_can-deactivate-a-user-in-the-organization_2024-03-14-12-22-42.876.html[0m
2024-03-14T19:22:43.0100951Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_can-deactivate-a-user-in-the-organization_2024-03-14-12-22-42.876.png[0m
2024-03-14T19:22:45.7263112Z     can re-activate a user in the organization (FAILED - 6)
2024-03-14T19:22:45.7264689Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_can-re-activate-a-user-in-the-organization_2024-03-14-12-22-45.592.html[0m
2024-03-14T19:22:45.7267528Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_can-re-activate-a-user-in-the-organization_2024-03-14-12-22-45.592.png[0m
2024-03-14T19:22:46.2053486Z     can see 'Make user' button for admins
2024-03-14T19:22:46.2054090Z     Viewing the organization
2024-03-14T19:22:46.7486508Z       can view organization details
2024-03-14T19:22:46.7487574Z     Editing the organization
2024-03-14T19:22:47.7198001Z       can select if the org shows year-to-date values on the distribution printout
2024-03-14T19:22:48.6781772Z       can select if the org repackages essentials
2024-03-14T19:22:50.1464512Z       can select and deselect Required Partner Fields
2024-03-14T19:22:51.1164062Z       can set the NDBN Member ID
2024-03-14T19:22:52.0737974Z       can set a default storage location on the organization
2024-03-14T19:22:53.0395917Z       can set a reminder and a deadline day
2024-03-14T19:22:54.1473883Z       can disable if the org does NOT use single step invite and approve partner process
2024-03-14T19:22:55.1779841Z       can select if the org distributes essentials monthly
2024-03-14T19:22:56.1877728Z       can enable if the org uses single step invite and approve partner process
2024-03-14T19:22:57.4099362Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-03-14T19:22:57.4100565Z   while signed in as a normal user
2024-03-14T19:22:57.8643653Z     cannot see 'Make user' button for admins
2024-03-14T19:22:58.3198375Z     can see summary details about the organization as a user
2024-03-14T19:22:58.3198978Z 
2024-03-14T19:22:58.3199213Z Events
2024-03-14T19:22:58.3200289Z   When not signed in
2024-03-14T19:22:58.3411087Z     redirects the user to the sign-in page for CRUD actions
2024-03-14T19:22:58.3411975Z   When signed in
2024-03-14T19:22:58.3412539Z     GET #index
2024-03-14T19:22:58.8922694Z       should be successful
2024-03-14T19:22:58.8923264Z       with date filter
2024-03-14T19:22:59.4155795Z         should not include the old donation
2024-03-14T19:22:59.4156514Z       with storage location filter
2024-03-14T19:22:59.9688162Z         should not include the other storage location
2024-03-14T19:22:59.9689061Z       with type filter
2024-03-14T19:23:00.4850329Z         should not include the adjustment
2024-03-14T19:23:00.4851206Z       with item filter
2024-03-14T19:23:01.0076880Z         should not include the other item
2024-03-14T19:23:01.0077729Z       with eventable_id
2024-03-14T19:23:01.7366228Z         should only show events from that eventable
2024-03-14T19:23:01.7367147Z 
2024-03-14T19:23:01.7367450Z Admin::Questions
2024-03-14T19:23:01.7368609Z   while signed in as a super admin
2024-03-14T19:23:01.7370252Z     GET #index
2024-03-14T19:23:01.7734342Z       lets the user load the page
2024-03-14T19:23:01.7735414Z     DELETE #destroy
2024-03-14T19:23:01.8018988Z       lets the user delete questions
2024-03-14T19:23:01.8019800Z     GET #edit
2024-03-14T19:23:01.8395451Z       lets the user load the edit question page
2024-03-14T19:23:01.8396325Z     PATCH #update
2024-03-14T19:23:01.8618723Z       lets the user update questions
2024-03-14T19:23:01.8620220Z     POST #create
2024-03-14T19:23:01.8815164Z       lets the user create questions
2024-03-14T19:23:01.8816009Z     GET #new
2024-03-14T19:23:01.9132661Z       lets the user load the new question page
2024-03-14T19:23:01.9133577Z 
2024-03-14T19:23:01.9133963Z Admin::AccountRequestsController
2024-03-14T19:23:01.9134928Z   while signed in as a super admin
2024-03-14T19:23:01.9135735Z     GET #index
2024-03-14T19:23:01.9545458Z       returns success
2024-03-14T19:23:01.9546356Z     POST #reject
2024-03-14T19:23:01.9803391Z       should redirect back on success
2024-03-14T19:23:01.9804552Z     GET #for_rejection
2024-03-14T19:23:01.9805238Z       with an invalid token
2024-03-14T19:23:02.0094766Z         should show a not found message
2024-03-14T19:23:02.0095844Z       with a valid token
2024-03-14T19:23:02.0499675Z         should show the request
2024-03-14T19:23:02.0501767Z 
2024-03-14T19:23:02.0502452Z Managing requests
2024-03-14T19:23:02.0503468Z   creating a # individuals request
2024-03-14T19:23:02.0504574Z     GIVEN a partner user is permitted to make a request
2024-03-14T19:23:02.0505918Z       WHEN a request is built using add and remove buttons
2024-03-14T19:23:02.0506850Z         THEN a request records will be created
2024-03-14T19:23:03.9588311Z           creates the correct request (FAILED - 7)
2024-03-14T19:23:03.9590273Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_creates-the-correct-request_2024-03-14-12-23-03.824.html[0m
2024-03-14T19:23:03.9593126Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_creates-the-correct-request_2024-03-14-12-23-03.824.png[0m
2024-03-14T19:23:03.9594271Z   creating a new quantity request
2024-03-14T19:23:03.9594764Z     GIVEN a partner user is permitted to make a request
2024-03-14T19:23:03.9595537Z       WHEN a request is built using add and remove buttons
2024-03-14T19:23:03.9596445Z         THEN a request records will be created
2024-03-14T19:23:05.8837489Z           creates the correct request
2024-03-14T19:23:05.8838893Z 
2024-03-14T19:23:05.8839371Z /partners/profiles
2024-03-14T19:23:05.8840374Z   GET #show
2024-03-14T19:23:05.9422831Z     displays the partner
2024-03-14T19:23:05.9962044Z     shows correct values for yes/no buttons
2024-03-14T19:23:05.9963293Z   PUT #update
2024-03-14T19:23:06.0501776Z     updates the partner and profile
2024-03-14T19:23:06.0502582Z     with no social media
2024-03-14T19:23:06.1468711Z       shows an error
2024-03-14T19:23:06.1469820Z     when updating an existing value to a blank value
2024-03-14T19:23:06.1986744Z       updates the partner profile attribute to a blank value
2024-03-14T19:23:06.2469033Z       does store N/A in the database
2024-03-14T19:23:06.2947961Z       does not update other partner profile attributes to blank
2024-03-14T19:23:06.2948940Z   GET #edit
2024-03-14T19:23:06.3748850Z     does not have default radio button value when value is nil
2024-03-14T19:23:06.4544792Z     displays the partner
2024-03-14T19:23:06.5500911Z     has "No" radio button value when value is false
2024-03-14T19:23:06.6389955Z     has "Yes" radio button value when value is true
2024-03-14T19:23:06.6390665Z 
2024-03-14T19:23:06.6390920Z Kit management
2024-03-14T19:23:08.1629411Z   can allocate and deallocate quantity per storage location from kit index
2024-03-14T19:23:08.7747354Z   should not display inactive storage locations under allocations (FAILED - 8)
2024-03-14T19:23:08.7750086Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_should-not-display-inactive-storage-locations-under-allocations_2024-03-14-12-23-08.637.html[0m
2024-03-14T19:23:08.7754842Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_should-not-display-inactive-storage-locations-under-allocations_2024-03-14-12-23-08.637.png[0m
2024-03-14T19:23:09.6822374Z   can create a new kit as a user with the proper quantity
2024-03-14T19:23:09.6824134Z   when there is not enough quantity of the items contained in the kit on-hand
2024-03-14T19:23:10.7645077Z     will not change quantity amounts when allocating
2024-03-14T19:23:10.7645873Z   when there is no kit quantity
2024-03-14T19:23:11.9067017Z     will not change quantity amounts when deallocating
2024-03-14T19:23:11.9067898Z 
2024-03-14T19:23:11.9068197Z User account management
2024-03-14T19:23:11.9069781Z   when in staging
2024-03-14T19:23:12.3705623Z     should not allow the user to change staging credentials
2024-03-14T19:23:12.8241028Z     should display staging warning
2024-03-14T19:23:12.8241621Z   when not in staging
2024-03-14T19:23:13.6146300Z     should fail when the email is invalid
2024-03-14T19:23:14.4840728Z     should change the email
2024-03-14T19:23:15.3543554Z     should change an user name
2024-03-14T19:23:15.3858118Z W, [2024-03-14T12:23:15.385548 #2343]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-14T19:23:15.3859230Z W, [2024-03-14T12:23:15.385602 #2343]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-14T19:23:15.3860560Z W, [2024-03-14T12:23:15.385617 #2343]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-14T19:23:15.3862151Z W, [2024-03-14T12:23:15.385638 #2343]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-14T19:23:15.4976168Z 
2024-03-14T19:23:15.4976682Z Failures:
2024-03-14T19:23:15.4977032Z 
2024-03-14T19:23:15.4980485Z   1) Dashboard With an existing essentials bank Manufacturer Donations given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 9 during 2024-01-01..2024-12-31, and 1 on 2025-01-01 filtering to 'This Year' shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-14T19:23:15.4982599Z      Failure/Error:
2024-03-14T19:23:15.4983194Z        within ".container__predefined-ranges" do
2024-03-14T19:23:15.4983857Z          find("button", text: range_name).click
2024-03-14T19:23:15.5043937Z        end
2024-03-14T19:23:15.5044219Z 
2024-03-14T19:23:15.5044666Z      Capybara::ElementNotFound:
2024-03-14T19:23:15.5045469Z        Unable to find css ".container__predefined-ranges"
2024-03-14T19:23:15.5045936Z 
2024-03-14T19:23:15.5048239Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/capybara/failures_r_spec_example_groups_dashboard_with_an_existing_essentials_bank_manufacturer_donations_given1_manufacturer_donating_on20231231_unless_all_time9_during2024010120241231_and1_on20250101_filtering_to_thi_60.png
2024-03-14T19:23:15.5050522Z 
2024-03-14T19:23:15.5050539Z 
2024-03-14T19:23:15.5051122Z      # ./spec/support/pages/organization_dashboard_page.rb:139:in `select_date_filter_range'
2024-03-14T19:23:15.5052456Z      # ./spec/support/pages/organization_dashboard_page.rb:40:in `filter_to_date_range'
2024-03-14T19:23:15.5053814Z      # ./spec/system/dashboard_system_spec.rb:648:in `block (7 levels) in <top (required)>'
2024-03-14T19:23:15.5061139Z      # ./spec/system/dashboard_system_spec.rb:546:in `block (4 levels) in <top (required)>'
2024-03-14T19:23:15.5061943Z 
2024-03-14T19:23:15.5065653Z   2) Dashboard With an existing essentials bank Manufacturer Donations given 1 Manufacturer donating on 2024-02-29  (unless 'All Time'), 6 during 2024-03-01..2024-03-31, and 1 on 2024-04-01 filtering to 'This Month' shows the correct total and 8 Top Manufacturer Donation link(s)
2024-03-14T19:23:15.5067882Z      Failure/Error:
2024-03-14T19:23:15.5068529Z        within ".container__predefined-ranges" do
2024-03-14T19:23:15.5069185Z          find("button", text: range_name).click
2024-03-14T19:23:15.5069746Z        end
2024-03-14T19:23:15.5069959Z 
2024-03-14T19:23:15.5070147Z      Capybara::ElementNotFound:
2024-03-14T19:23:15.5070858Z        Unable to find css ".container__predefined-ranges"
2024-03-14T19:23:15.5071899Z 
2024-03-14T19:23:15.5074358Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_dashboard_with_an_existing_essentials_bank_manufacturer_donations_given1_manufacturer_donating_on20240229_unless_all_time6_during2024030120240331_and1_on20240401_filtering_to_thi_903.png
2024-03-14T19:23:15.5076922Z 
2024-03-14T19:23:15.5076930Z 
2024-03-14T19:23:15.5077493Z      # ./spec/support/pages/organization_dashboard_page.rb:139:in `select_date_filter_range'
2024-03-14T19:23:15.5078777Z      # ./spec/support/pages/organization_dashboard_page.rb:40:in `filter_to_date_range'
2024-03-14T19:23:15.5080021Z      # ./spec/system/dashboard_system_spec.rb:648:in `block (7 levels) in <top (required)>'
2024-03-14T19:23:15.5081260Z      # ./spec/system/dashboard_system_spec.rb:546:in `block (4 levels) in <top (required)>'
2024-03-14T19:23:15.5081993Z 
2024-03-14T19:23:15.5082811Z   3) Purchases while signed in as a normal user When creating a new purchase via barcode entry User scan same barcode 2 times
2024-03-14T19:23:15.5084649Z      Failure/Error: expect(page).to have_field "purchase_line_items_attributes_0_quantity", with: @existing_barcode.quantity.to_s
2024-03-14T19:23:15.5087265Z        expected to find visible field "purchase_line_items_attributes_0_quantity" that is not disabled with value "50" but there were no matches. Also found "", which matched the selector but not all filters. Expected value to be "50" but was ""
2024-03-14T19:23:15.5089072Z 
2024-03-14T19:23:15.5091092Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_barcode_entry_user_scan_same_barcode_2_times_134.png
2024-03-14T19:23:15.5093012Z 
2024-03-14T19:23:15.5093019Z 
2024-03-14T19:23:15.5093527Z      # ./spec/system/purchase_system_spec.rb:246:in `block (5 levels) in <top (required)>'
2024-03-14T19:23:15.5094259Z 
2024-03-14T19:23:15.5095244Z   4) Purchases while signed in as a normal user When visiting the index page When filtering on the index page User can filter the #index by vendor
2024-03-14T19:23:15.5096818Z      Failure/Error: raise "Invalid date: #{d} in #{date_range_params}"
2024-03-14T19:23:15.5097421Z 
2024-03-14T19:23:15.5097575Z      RuntimeError:
2024-03-14T19:23:15.5098360Z        Invalid date: during the period 01 Jan to 31 Dec in during the period 01 Jan to 31 Dec
2024-03-14T19:23:15.5099118Z 
2024-03-14T19:23:15.5101274Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_visiting_the_index_page_when_filtering_on_the_index_page_user_can_filter_the_#index_by_vendor_557.png
2024-03-14T19:23:15.5103318Z 
2024-03-14T19:23:15.5103325Z 
2024-03-14T19:23:15.5103802Z      # ./app/helpers/date_range_helper.rb:34:in `rescue in block in selected_interval'
2024-03-14T19:23:15.5104914Z      # ./app/helpers/date_range_helper.rb:32:in `block in selected_interval'
2024-03-14T19:23:15.5105802Z      # ./app/helpers/date_range_helper.rb:31:in `map'
2024-03-14T19:23:15.5106596Z      # ./app/helpers/date_range_helper.rb:31:in `selected_interval'
2024-03-14T19:23:15.5133871Z      # ./app/controllers/application_controller.rb:144:in `setup_date_range_picker'
2024-03-14T19:23:15.5135028Z      # ./app/controllers/purchases_controller.rb:6:in `index'
2024-03-14T19:23:15.5135865Z      # ------------------
2024-03-14T19:23:15.5136382Z      # --- Caused by: ---
2024-03-14T19:23:15.5136909Z      # Capybara::ExpectationNotMet:
2024-03-14T19:23:15.5137761Z      #   expected to find css "table tbody tr" 1 time but there were no matches
2024-03-14T19:23:15.5139003Z      #   ./spec/system/purchase_system_spec.rb:78:in `block (5 levels) in <top (required)>'
2024-03-14T19:23:15.5139805Z 
2024-03-14T19:23:15.5140560Z   5) Organization management while signed in as an organization admin can deactivate a user in the organization
2024-03-14T19:23:15.5141798Z      Failure/Error: click_link dom_id(user)
2024-03-14T19:23:15.5142069Z 
2024-03-14T19:23:15.5142199Z      Capybara::ElementNotFound:
2024-03-14T19:23:15.5142575Z        Unable to find visible link "user_56"
2024-03-14T19:23:15.5142835Z 
2024-03-14T19:23:15.5144170Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_organization_management_while_signed_in_as_an_organization_admin_can_deactivate_a_user_in_the_organization_359.png
2024-03-14T19:23:15.5145268Z 
2024-03-14T19:23:15.5145273Z 
2024-03-14T19:23:15.5145606Z      # ./spec/system/organization_system_spec.rb:166:in `block (4 levels) in <top (required)>'
2024-03-14T19:23:15.5146360Z      # ./spec/system/organization_system_spec.rb:164:in `block (3 levels) in <top (required)>'
2024-03-14T19:23:15.5146806Z 
2024-03-14T19:23:15.5147300Z   6) Organization management while signed in as an organization admin can re-activate a user in the organization
2024-03-14T19:23:15.5147974Z      Failure/Error: click_link dom_id(user)
2024-03-14T19:23:15.5148236Z 
2024-03-14T19:23:15.5148350Z      Capybara::ElementNotFound:
2024-03-14T19:23:15.5148693Z        Unable to find visible link "user_57"
2024-03-14T19:23:15.5148947Z 
2024-03-14T19:23:15.5150030Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_organization_management_while_signed_in_as_an_organization_admin_can_re_activate_a_user_in_the_organization_270.png
2024-03-14T19:23:15.5151075Z 
2024-03-14T19:23:15.5151079Z 
2024-03-14T19:23:15.5151406Z      # ./spec/system/organization_system_spec.rb:178:in `block (4 levels) in <top (required)>'
2024-03-14T19:23:15.5152696Z      # ./spec/system/organization_system_spec.rb:176:in `block (3 levels) in <top (required)>'
2024-03-14T19:23:15.5153147Z 
2024-03-14T19:23:15.5154037Z   7) Managing requests creating a # individuals request GIVEN a partner user is permitted to make a request WHEN a request is built using add and remove buttons THEN a request records will be created creates the correct request
2024-03-14T19:23:15.5155358Z      Failure/Error: expect(created_request.request_items).to match_array(expected_items)
2024-03-14T19:23:15.5155799Z 
2024-03-14T19:23:15.5156148Z        expected collection contained:  [{"item_id"=>10, "quantity"=>700}, {"item_id"=>27, "quantity"=>500}]
2024-03-14T19:23:15.5156855Z        actual collection contained:    [{"item_id"=>26, "quantity"=>500}]
2024-03-14T19:23:15.5157537Z        the missing elements were:      [{"item_id"=>10, "quantity"=>700}, {"item_id"=>27, "quantity"=>500}]
2024-03-14T19:23:15.5158199Z        the extra elements were:        [{"item_id"=>26, "quantity"=>500}]
2024-03-14T19:23:15.5158541Z 
2024-03-14T19:23:15.5159936Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_managing_requests_creating_a_individuals_request_givena_partner_user_is_permitted_to_make_a_request_whena_request_is_built_using_add_and_remove_buttons_thena_request_records_will_868.png
2024-03-14T19:23:15.5161243Z 
2024-03-14T19:23:15.5161248Z 
2024-03-14T19:23:15.5161637Z      # ./spec/system/partners/managing_requests_system_spec.rb:53:in `block (6 levels) in <top (required)>'
2024-03-14T19:23:15.5162147Z 
2024-03-14T19:23:15.5162438Z   8) Kit management should not display inactive storage locations under allocations
2024-03-14T19:23:15.5162999Z      Failure/Error: visit url_prefix + "/kits/"
2024-03-14T19:23:15.5163269Z 
2024-03-14T19:23:15.5163384Z      Ferrum::JavaScriptError:
2024-03-14T19:23:15.5163720Z        ReferenceError: $ is not defined
2024-03-14T19:23:15.5164135Z            at http://127.0.0.1:37961/db_1/kits/:484:3
2024-03-14T19:23:15.5164426Z 
2024-03-14T19:23:15.5165400Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_kit_management_should_not_display_inactive_storage_locations_under_allocations_111.png
2024-03-14T19:23:15.5166348Z 
2024-03-14T19:23:15.5166542Z 
2024-03-14T19:23:15.5166838Z      # ./spec/system/kit_system_spec.rb:118:in `block (2 levels) in <top (required)>'
2024-03-14T19:23:15.5167246Z 
2024-03-14T19:23:15.5167480Z Finished in 3 minutes 40.1 seconds (files took 8.13 seconds to load)
2024-03-14T19:23:15.5168082Z 212 examples, 8 failures
2024-03-14T19:23:15.5168270Z 
2024-03-14T19:23:15.5168362Z Failed examples:
2024-03-14T19:23:15.5168518Z 
2024-03-14T19:23:15.5170033Z rspec './spec/system/dashboard_system_spec.rb[1:2:6:8:1:1]' # Dashboard With an existing essentials bank Manufacturer Donations given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 9 during 2024-01-01..2024-12-31, and 1 on 2025-01-01 filtering to 'This Year' shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-14T19:23:15.5172898Z rspec './spec/system/dashboard_system_spec.rb[1:2:6:6:1:1]' # Dashboard With an existing essentials bank Manufacturer Donations given 1 Manufacturer donating on 2024-02-29  (unless 'All Time'), 6 during 2024-03-01..2024-03-31, and 1 on 2024-04-01 filtering to 'This Month' shows the correct total and 8 Top Manufacturer Donation link(s)
2024-03-14T19:23:15.5174969Z rspec ./spec/system/purchase_system_spec.rb:240 # Purchases while signed in as a normal user When creating a new purchase via barcode entry User scan same barcode 2 times
2024-03-14T19:23:15.5176501Z rspec ./spec/system/purchase_system_spec.rb:69 # Purchases while signed in as a normal user When visiting the index page When filtering on the index page User can filter the #index by vendor
2024-03-14T19:23:15.5177997Z rspec ./spec/system/organization_system_spec.rb:161 # Organization management while signed in as an organization admin can deactivate a user in the organization
2024-03-14T19:23:15.5179461Z rspec ./spec/system/organization_system_spec.rb:173 # Organization management while signed in as an organization admin can re-activate a user in the organization
2024-03-14T19:23:15.5181352Z rspec ./spec/system/partners/managing_requests_system_spec.rb:46 # Managing requests creating a # individuals request GIVEN a partner user is permitted to make a request WHEN a request is built using add and remove buttons THEN a request records will be created creates the correct request
2024-03-14T19:23:15.5183081Z rspec ./spec/system/kit_system_spec.rb:110 # Kit management should not display inactive storage locations under allocations
2024-03-14T19:23:15.5183666Z 
2024-03-14T19:23:15.5183771Z Randomized with seed 50296
2024-03-14T19:23:15.5183969Z 
2024-03-14T19:23:15.9828253Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-14T19:23:15.9830637Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3728 / 6469 LOC (57.63%) covered.
2024-03-14T19:23:16.1065842Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb" failed
2024-03-14T19:23:16.4939800Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-14T19:23:16.4941987Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10768 LOC (0.35%) covered.
2024-03-14T19:23:16.5197540Z ##[error]Process completed with exit code 1.
