2024-02-21T09:47:39.4928014Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-02-21T09:47:39.4928879Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-02-21T09:47:39.4957300Z shell: /usr/bin/bash -e {0}
2024-02-21T09:47:39.4957800Z env:
2024-02-21T09:47:39.4958117Z   POSTGRES_HOST: localhost
2024-02-21T09:47:39.4958493Z   DATABASE_HOST: localhost
2024-02-21T09:47:39.4958929Z   PG_USERNAME: postgres
2024-02-21T09:47:39.4959257Z   PG_PASSWORD: password
2024-02-21T09:47:39.4959648Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-02-21T09:47:39.4960105Z   POSTGRES_PORT: 5432
2024-02-21T09:47:39.4960463Z   PGHOST: localhost
2024-02-21T09:47:39.4960870Z   PGUSER: postgres
2024-02-21T09:47:39.4961169Z   RAILS_ENV: test
2024-02-21T09:47:39.4961520Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-02-21T09:47:39.4962027Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-02-21T09:47:39.4962427Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-02-21T09:47:39.4962872Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-02-21T09:47:39.4963449Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-02-21T09:47:39.4964073Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-02-21T09:47:39.4964764Z   EVENTS_READ: true
2024-02-21T09:47:39.4965100Z ##[endgroup]
2024-02-21T09:47:45.2476906Z W, [2024-02-21T09:47:45.247299 #2300]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-02-21T09:47:45.2478958Z W, [2024-02-21T09:47:45.247363 #2300]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-21T09:47:45.2481241Z W, [2024-02-21T09:47:45.247391 #2300]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-21T09:47:45.2484668Z W, [2024-02-21T09:47:45.247429 #2300]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-02-21T09:47:48.1076880Z W, [2024-02-21T09:47:48.107381 #2300]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-02-21T09:47:48.1084125Z W, [2024-02-21T09:47:48.107420 #2300]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-21T09:47:48.1086407Z W, [2024-02-21T09:47:48.107433 #2300]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-21T09:47:48.1088885Z W, [2024-02-21T09:47:48.107467 #2300]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-02-21T09:47:48.1138427Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/partners/children_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-02-21T09:47:56.4744093Z 
2024-02-21T09:47:56.4744961Z Randomized with seed 42319
2024-02-21T09:47:57.4380047Z 
2024-02-21T09:47:57.4381205Z /account_requests
2024-02-21T09:47:57.4382064Z   GET #confirm
2024-02-21T09:47:57.4383666Z     when given a token that has already been confirmed
2024-02-21T09:47:57.6569615Z       should render a error that says that is code provided is invalid
2024-02-21T09:47:57.6570584Z     when given a invalid token
2024-02-21T09:47:57.6633578Z       should render a error that says that is code provided is invalid
2024-02-21T09:47:57.6634680Z     when given a valid token
2024-02-21T09:47:57.6898501Z       should the update confirmed_at on the account_request, queue confirmation email and render confirm template
2024-02-21T09:47:57.6899581Z   GET #new
2024-02-21T09:47:57.7047126Z     renders a successful response
2024-02-21T09:47:57.7048009Z   POST #create
2024-02-21T09:47:57.7048846Z     with valid parameters
2024-02-21T09:47:57.7228901Z       delivers the confirmation email via default queue
2024-02-21T09:47:57.7362723Z       creates a new AccountRequest
2024-02-21T09:47:57.7480432Z       redirects to the created account_request confirmation
2024-02-21T09:47:57.7481444Z     with invalid parameters
2024-02-21T09:47:57.7654112Z       does not create a new AccountRequest
2024-02-21T09:47:57.7808967Z       renders a successful response (i.e. to display the 'new' template)
2024-02-21T09:47:57.7810123Z   GET #confirmation
2024-02-21T09:47:57.7810976Z     when given a invalid token
2024-02-21T09:47:57.7864577Z       should render a error that says that is code provided is invalid
2024-02-21T09:47:57.7865650Z     when given a token that has already been confirmed
2024-02-21T09:47:57.9845463Z       should render a error that says that is code provided is invalid
2024-02-21T09:47:57.9846514Z     when given a valid token
2024-02-21T09:47:57.9994007Z       should render the confirmation template
2024-02-21T09:47:57.9994815Z   GET #received
2024-02-21T09:47:57.9995396Z     when given a valid token
2024-02-21T09:47:58.0127097Z       should render the received template
2024-02-21T09:47:58.0127916Z     when given a invalid token
2024-02-21T09:47:58.0182308Z       should render a error that says that is code provided is invalid
2024-02-21T09:47:58.0183322Z 
2024-02-21T09:47:58.0183977Z Audits
2024-02-21T09:47:58.0185022Z   while signed in as an organization admin
2024-02-21T09:47:58.0186524Z     DELETE #destroy
2024-02-21T09:47:58.0187665Z       with valid params
2024-02-21T09:47:58.0757283Z         destroys the audit if the audit's status is `confirms`
2024-02-21T09:47:58.1124390Z         destroys the audit if the audit's status is `in_progress`
2024-02-21T09:47:58.1473158Z         can not destroy the audit if the audit's status is `finalized`
2024-02-21T09:47:58.1474373Z     POST #create
2024-02-21T09:47:58.1475130Z       with invalid params
2024-02-21T09:47:58.2266674Z         re-renders the 'new' template with an error message when an invalid storage location is given
2024-02-21T09:47:58.2674449Z         re-renders the 'new' template
2024-02-21T09:47:58.3063167Z         assigns a newly created but unsaved audit as @audit
2024-02-21T09:47:58.3064231Z       with valid params
2024-02-21T09:47:58.3451615Z         assigns a newly created audit as @audit
2024-02-21T09:47:58.3833240Z         creates a new Audit with status as `confirmed` if `confirm_audit` is passed as a param
2024-02-21T09:47:58.4216878Z         creates a new Audit
2024-02-21T09:47:58.4595594Z         redirects to the #show after created audit
2024-02-21T09:47:58.4979801Z         creates a new Audit with status as `in_progress` if `save_progress` is passed as a param
2024-02-21T09:47:58.4981011Z     GET #edit
2024-02-21T09:47:58.5599517Z       redirects to #index if the status of audit is not `in_progress`
2024-02-21T09:47:58.6176571Z       is successful if the status of audit is `in_progress`
2024-02-21T09:47:58.6178071Z     POST #finalize
2024-02-21T09:47:58.6866232Z       sets the finalize status and saves an event
2024-02-21T09:47:58.6867187Z     GET #index
2024-02-21T09:47:58.7405328Z       is successful
2024-02-21T09:47:58.7405969Z     GET #new
2024-02-21T09:47:58.7886838Z       is successful
2024-02-21T09:47:58.7887435Z     GET #show
2024-02-21T09:47:58.8410420Z       is successful
2024-02-21T09:47:58.8411250Z 
2024-02-21T09:47:58.8411527Z User account management
2024-02-21T09:47:58.8412539Z   when in staging
2024-02-21T09:48:00.0836804Z     should not allow the user to change staging credentials
2024-02-21T09:48:00.5460985Z     should display staging warning
2024-02-21T09:48:00.5461751Z   when not in staging
2024-02-21T09:48:01.4564329Z     should change an user name
2024-02-21T09:48:02.3456801Z     should change the email
2024-02-21T09:48:03.1136313Z     should fail when the email is invalid
2024-02-21T09:48:03.1136996Z 
2024-02-21T09:48:03.1137251Z Organization management
2024-02-21T09:48:03.1139966Z   while signed in as a normal user
2024-02-21T09:48:03.5932887Z     can see summary details about the organization as a user
2024-02-21T09:48:04.0603577Z     cannot see 'Make user' button for admins
2024-02-21T09:48:04.0604707Z   while signed in as an organization admin
2024-02-21T09:48:04.5572333Z     can re-invite a user to an organization after 7 days
2024-02-21T09:48:05.5313223Z     can re-activate a user in the organization
2024-02-21T09:48:06.4871073Z     can add a new user to an organization
2024-02-21T09:48:06.9935484Z     can see 'Make user' button for admins
2024-02-21T09:48:07.9450247Z     can deactivate a user in the organization
2024-02-21T09:48:07.9451129Z     Viewing the organization
2024-02-21T09:48:08.4974066Z       can view organization details
2024-02-21T09:48:08.4974940Z     Editing the organization
2024-02-21T09:48:09.9850184Z       can select and deselect Required Partner Fields
2024-02-21T09:48:10.8737730Z       can set a reminder and a deadline day
2024-02-21T09:48:11.9017811Z       can select if the org shows year-to-date values on the distribution printout
2024-02-21T09:48:12.8515160Z       can enable if the org uses single step invite and approve partner process
2024-02-21T09:48:13.6913310Z       can set a default storage location on the organization
2024-02-21T09:48:14.5209905Z       can set the NDBN Member ID
2024-02-21T09:48:15.5244276Z       can disable if the org does NOT use single step invite and approve partner process
2024-02-21T09:48:16.5027217Z       can select if the org repackages essentials
2024-02-21T09:48:17.4917591Z       can select if the org distributes essentials monthly
2024-02-21T09:48:18.6630216Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-02-21T09:48:18.6631338Z 
2024-02-21T09:48:18.6633252Z Vendor
2024-02-21T09:48:18.6634501Z   When vendor have purchases associated with them already
2024-02-21T09:48:19.3324408Z     can have existing vendors show in the #index with some summary stats
2024-02-21T09:48:19.9528437Z     can have a single vendor show semi-detailed stats about purchases
2024-02-21T09:48:19.9529486Z   when editing an existing vendor
2024-02-21T09:48:20.7335824Z     does not update a vendor with empty attributes
2024-02-21T09:48:21.5089322Z     can update the contact info for a vendor as a user
2024-02-21T09:48:21.5090052Z   When a user views the index page
2024-02-21T09:48:21.9853502Z     should have the vendor names in alphabetical order
2024-02-21T09:48:21.9854329Z   when creating a new vendor
2024-02-21T09:48:22.7121293Z     cannot add a new vendor instance with empty attributes
2024-02-21T09:48:23.4942490Z     can create a new vendor instance as a user
2024-02-21T09:48:23.4943048Z 
2024-02-21T09:48:23.4943313Z /partners/children
2024-02-21T09:48:23.4944607Z   GET #index
2024-02-21T09:48:23.5796864Z     should export CSV
2024-02-21T09:48:23.6401208Z     should render without any issues
2024-02-21T09:48:23.6401973Z 
2024-02-21T09:48:23.6403395Z StorageLocations
2024-02-21T09:48:23.6404078Z   While not signed in
2024-02-21T09:48:23.6465581Z     redirects the user to the sign-in page for CRUD actions
2024-02-21T09:48:23.6466485Z   While signed in
2024-02-21T09:48:23.6466963Z     GET #show
2024-02-21T09:48:23.6467674Z       csv
2024-02-21T09:48:23.6974629Z         should be successful
2024-02-21T09:48:23.6975618Z       html
2024-02-21T09:48:23.7784583Z         should return a correct response
2024-02-21T09:48:23.7785333Z         with version date set
2024-02-21T09:48:23.7786172Z           with a version found
2024-02-21T09:48:23.8610258Z             should show the version specified
2024-02-21T09:48:23.8611360Z           with no version found
2024-02-21T09:48:23.9345893Z             should show N/A
2024-02-21T09:48:23.9346733Z     Looking at a different organization
2024-02-21T09:48:24.1098940Z       redirects the user to the sign-in page for CRUD actions
2024-02-21T09:48:24.1099976Z     POST #import_csv
2024-02-21T09:48:24.1100713Z       without a csv file
2024-02-21T09:48:24.1253232Z         redirects to :index
2024-02-21T09:48:24.1398331Z         presents a flash error message
2024-02-21T09:48:24.1399199Z       with a csv file
2024-02-21T09:48:24.1575706Z         presents a flash notice message
2024-02-21T09:48:24.1632343Z         invokes .import_csv
2024-02-21T09:48:24.1792382Z         redirects
2024-02-21T09:48:24.1793408Z       csv file with wrong headers
2024-02-21T09:48:24.1924851Z         presents a flash error message
2024-02-21T09:48:24.2053932Z         redirects
2024-02-21T09:48:24.2054576Z     PUT #deactivate
2024-02-21T09:48:24.2271426Z       discards
2024-02-21T09:48:24.2272178Z       with inventory
2024-02-21T09:48:24.2778996Z         does not discard
2024-02-21T09:48:24.2779801Z     GET #destroy
2024-02-21T09:48:24.3555024Z       redirects to #index
2024-02-21T09:48:24.3555813Z     PUT #reactivate
2024-02-21T09:48:24.4178636Z       undiscards
2024-02-21T09:48:24.4179495Z     GET #inventory
2024-02-21T09:48:24.4180188Z       when also including inactive items
2024-02-21T09:48:24.5800404Z         returns a collection that also includes items that have been deactivated
2024-02-21T09:48:24.5801560Z       when also including omitted items
2024-02-21T09:48:24.6350440Z         returns a collection that also includes all items, but with zeroed quantities
2024-02-21T09:48:24.6863351Z         contains a collection of ducktyped entries that respond the same
2024-02-21T09:48:24.6865113Z       without any overrides
2024-02-21T09:48:24.7412793Z         returns a collection that only includes items at the storage location
2024-02-21T09:48:24.7413849Z     GET #edit
2024-02-21T09:48:24.8933394Z       returns http success
2024-02-21T09:48:24.8934125Z     GET #new
2024-02-21T09:48:24.9288290Z       returns http success
2024-02-21T09:48:24.9289577Z     GET #index
2024-02-21T09:48:24.9290221Z       html
2024-02-21T09:48:24.9655892Z         succeeds
2024-02-21T09:48:24.9656539Z         with inactive locations
2024-02-21T09:48:25.0024049Z           does not includes the inactive location
2024-02-21T09:48:25.0024890Z           with include_inactive_locations
2024-02-21T09:48:25.0397864Z             includes the inactive location
2024-02-21T09:48:25.0398571Z       csv
2024-02-21T09:48:25.1525991Z         includes headers followed by alphabetized item names
2024-02-21T09:48:25.1729775Z         succeeds
2024-02-21T09:48:25.1734010Z 
2024-02-21T09:48:25.1734347Z Dashboard
2024-02-21T09:48:25.1736428Z   With an existing essentials bank
2024-02-21T09:48:25.1737890Z     Manufacturer Donations
2024-02-21T09:48:25.7788615Z       has a link to create a new donation
2024-02-21T09:48:25.7790450Z       given 1 Manufacturer donating on 2024-02-20  (unless 'All Time'), 9 during 2024-02-21..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:48:25.7791810Z         filtering to 'Today'
2024-02-21T09:48:28.2792618Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-21T09:48:28.2794643Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-21T09:48:28.2796479Z         filtering to 'This Year'
2024-02-21T09:48:29.9648508Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-02-21T09:48:29.9650149Z       given 1 Manufacturer donating on 2024-02-19  (unless 'All Time'), 4 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-21T09:48:29.9650938Z         filtering to 'Yesterday'
2024-02-21T09:48:31.8759313Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-02-21T09:48:31.8761328Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 5 during 2000-01-01..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:48:31.8762834Z         filtering to 'All Time'
2024-02-21T09:48:33.6294058Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-02-21T09:48:33.6296071Z       given 1 Manufacturer donating on 2024-02-14  (unless 'All Time'), 0 during 2024-02-15..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:48:33.6297613Z         filtering to 'Last 7 Days'
2024-02-21T09:48:35.0265076Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-02-21T09:48:35.0267155Z       given 1 Manufacturer donating on 2022-02-20  (unless 'All Time'), 8 during 2022-02-21..2023-10-28, and 1 on 2023-10-29
2024-02-21T09:48:35.0268606Z         filtering to '' (February 21, 2022 - October 28, 2023)
2024-02-21T09:48:37.5476872Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-21T09:48:37.5478872Z       given 1 Manufacturer donating on 2024-01-22  (unless 'All Time'), 2 during 2024-01-23..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:48:37.5480039Z         filtering to 'Last 30 Days'
2024-02-21T09:48:39.0991111Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-02-21T09:48:39.0993284Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 6 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-21T09:48:39.0994624Z         filtering to 'This Month'
2024-02-21T09:48:41.3700510Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-02-21T09:48:41.3702367Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-21T09:48:41.3703673Z         filtering to 'Last Month'
2024-02-21T09:48:43.0514400Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-02-21T09:48:43.0515329Z     Product Drives
2024-02-21T09:48:43.6373463Z       has a widget for product drive summary data
2024-02-21T09:48:43.6375457Z       given 1 Product Drive Donation on 2024-02-20 (unless 'All Time'), 2 during 2024-02-21..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:48:43.6376870Z         filtering to 'Today'
2024-02-21T09:48:45.0777545Z           shows 2 Recent Donation link(s)
2024-02-21T09:48:46.6609205Z           shows the correct total money raised
2024-02-21T09:48:48.1391534Z           shows the correct total donations
2024-02-21T09:48:48.1393299Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-21T09:48:48.1394272Z         filtering to 'This Year'
2024-02-21T09:48:49.5561014Z           shows the correct total donations
2024-02-21T09:48:50.9462595Z           shows 1 Recent Donation link(s)
2024-02-21T09:48:52.3594379Z           shows the correct total money raised
2024-02-21T09:48:52.3596156Z       given 1 Product Drive Donation on 2022-02-20 (unless 'All Time'), 0 during 2022-02-21..2023-12-11, and 1 on 2023-12-12
2024-02-21T09:48:52.3597435Z         filtering to '' (February 21, 2022 - December 11, 2023)
2024-02-21T09:48:53.8518902Z           shows the correct total donations
2024-02-21T09:48:55.2400133Z           shows the correct total money raised
2024-02-21T09:48:58.6156311Z           shows 0 Recent Donation link(s)
2024-02-21T09:48:58.6158119Z       given 1 Product Drive Donation on 2024-01-22 (unless 'All Time'), 4 during 2024-01-23..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:48:58.6160106Z         filtering to 'Last 30 Days'
2024-02-21T09:49:00.1651239Z           shows the correct total donations
2024-02-21T09:49:01.7269570Z           shows the correct total money raised
2024-02-21T09:49:03.2680610Z           shows 3 Recent Donation link(s)
2024-02-21T09:49:03.2682185Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-21T09:49:03.2683138Z         filtering to 'This Month'
2024-02-21T09:49:04.8586512Z           shows the correct total money raised
2024-02-21T09:49:06.2786944Z           shows the correct total donations
2024-02-21T09:49:07.7244525Z           shows 1 Recent Donation link(s)
2024-02-21T09:49:07.7245572Z       Product drive behaviour with Mixed Donation types
2024-02-21T09:49:08.4523723Z         only counts product drive money raised
2024-02-21T09:49:09.2035266Z         only shows product drive donations as product drive donations
2024-02-21T09:49:09.9571118Z         only counts product drive donations for product drive
2024-02-21T09:49:09.9572874Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 1 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-21T09:49:09.9573784Z         filtering to 'Last Month'
2024-02-21T09:49:11.3972842Z           shows the correct total donations
2024-02-21T09:49:12.8648027Z           shows the correct total money raised
2024-02-21T09:49:14.3179507Z           shows 1 Recent Donation link(s)
2024-02-21T09:49:14.3181438Z       given 1 Product Drive Donation on 2024-02-14 (unless 'All Time'), 3 during 2024-02-15..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:49:14.3182561Z         filtering to 'Last 7 Days'
2024-02-21T09:49:15.8380095Z           shows the correct total donations
2024-02-21T09:49:17.3833564Z           shows 3 Recent Donation link(s)
2024-02-21T09:49:18.8809361Z           shows the correct total money raised
2024-02-21T09:49:18.8811168Z       given 1 Product Drive Donation on 2024-02-19 (unless 'All Time'), 0 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-21T09:49:18.8812528Z         filtering to 'Yesterday'
2024-02-21T09:49:20.2690305Z           shows the correct total money raised
2024-02-21T09:49:23.6299010Z           shows 0 Recent Donation link(s)
2024-02-21T09:49:24.9995201Z           shows the correct total donations
2024-02-21T09:49:24.9996135Z     Inventory Totals
2024-02-21T09:49:24.9997337Z       Summary
2024-02-21T09:49:25.7031576Z         displays the on-hand totals
2024-02-21T09:49:25.7032320Z         when constrained to date range
2024-02-21T09:49:26.7495750Z           does not change
2024-02-21T09:49:26.7496794Z     Donations
2024-02-21T09:49:27.6573466Z       has a link to create a new donation
2024-02-21T09:49:27.6575317Z       given 1 Donation on 2023-12-31 (only if a valid date), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-21T09:49:27.6577009Z         filtering to 'This Year'
2024-02-21T09:49:29.0917754Z           shows the correct total and 1 Recent Donation link(s)
2024-02-21T09:49:29.0919720Z       given 1 Donation on 2022-02-20 (only if a valid date), 3 during 2022-02-21..2024-01-08, and 1 on 2024-01-09
2024-02-21T09:49:29.0921257Z         filtering to '' (February 21, 2022 - January 8, 2024)
2024-02-21T09:49:30.6134814Z           shows the correct total and 3 Recent Donation link(s)
2024-02-21T09:49:30.6136455Z       given 1 Donation on 2024-02-20 (only if a valid date), 1 during 2024-02-21..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:49:30.6138055Z         filtering to 'Today'
2024-02-21T09:49:32.1657272Z           shows the correct total and 1 Recent Donation link(s)
2024-02-21T09:49:32.1661248Z       given 1 Donation on 2024-01-31 (only if a valid date), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-21T09:49:32.1662603Z         filtering to 'This Month'
2024-02-21T09:49:33.6857804Z           shows the correct total and 3 Recent Donation link(s)
2024-02-21T09:49:33.6859822Z       given 1 Donation on 2024-01-22 (only if a valid date), 3 during 2024-01-23..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:49:33.6861496Z         filtering to 'Last 30 Days'
2024-02-21T09:49:35.1821869Z           shows the correct total and 3 Recent Donation link(s)
2024-02-21T09:49:35.1823763Z       given 1 Donation on 2024-02-19 (only if a valid date), 3 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-21T09:49:35.1825006Z         filtering to 'Yesterday'
2024-02-21T09:49:36.6769097Z           shows the correct total and 3 Recent Donation link(s)
2024-02-21T09:49:36.6770929Z       given 1 Donation on 2024-02-14 (only if a valid date), 0 during 2024-02-15..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:49:36.6772456Z         filtering to 'Last 7 Days'
2024-02-21T09:49:40.0285583Z           shows the correct total and 0 Recent Donation link(s)
2024-02-21T09:49:40.0287408Z       given 1 Donation on 2023-12-31 (only if a valid date), 0 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-21T09:49:40.0288646Z         filtering to 'Last Month'
2024-02-21T09:49:43.3972321Z           shows the correct total and 0 Recent Donation link(s)
2024-02-21T09:49:43.3973091Z     Purchases
2024-02-21T09:49:44.2958126Z       has a link to create a new purchase
2024-02-21T09:49:44.2959824Z       given 1 Purchase on 2022-02-20  (unless 'All Time'), 1 during 2022-02-21..2023-12-14, and 1 on 2023-12-15
2024-02-21T09:49:44.2961257Z         filtering to '' (February 21, 2022 - December 14, 2023)
2024-02-21T09:49:45.6970572Z           shows correct 1 Recent Purchase link(s)
2024-02-21T09:49:45.6974569Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 0 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-21T09:49:45.6976041Z         filtering to 'Last Month'
2024-02-21T09:49:49.0555184Z           shows correct 0 Recent Purchase link(s)
2024-02-21T09:49:49.0557122Z       given 1 Purchase on 2024-02-20  (unless 'All Time'), 4 during 2024-02-21..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:49:49.0558489Z         filtering to 'Today'
2024-02-21T09:49:50.5876109Z           shows correct 3 Recent Purchase link(s)
2024-02-21T09:49:50.5878121Z       given 1 Purchase on 2024-01-22  (unless 'All Time'), 1 during 2024-01-23..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:49:50.5879618Z         filtering to 'Last 30 Days'
2024-02-21T09:49:52.0015486Z           shows correct 1 Recent Purchase link(s)
2024-02-21T09:49:52.0017051Z       given 1 Purchase on 2024-02-14  (unless 'All Time'), 2 during 2024-02-15..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:49:52.0017895Z         filtering to 'Last 7 Days'
2024-02-21T09:49:53.4527226Z           shows correct 2 Recent Purchase link(s)
2024-02-21T09:49:53.4529063Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-21T09:49:53.4530328Z         filtering to 'This Month'
2024-02-21T09:49:54.9738668Z           shows correct 3 Recent Purchase link(s)
2024-02-21T09:49:54.9740462Z       given 1 Purchase on 2024-02-19  (unless 'All Time'), 0 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-21T09:49:54.9741363Z         filtering to 'Yesterday'
2024-02-21T09:49:58.3300117Z           shows correct 0 Recent Purchase link(s)
2024-02-21T09:49:58.3301826Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-21T09:49:58.3303305Z         filtering to 'This Year'
2024-02-21T09:49:59.8485890Z           shows correct 3 Recent Purchase link(s)
2024-02-21T09:49:59.8486818Z     Signage
2024-02-21T09:50:02.7817766Z       shows their organization name unless they have a logo set
2024-02-21T09:50:02.7818443Z     Distributions
2024-02-21T09:50:03.6882348Z       has a link to create a new distribution
2024-02-21T09:50:03.6884558Z       given 1 Distribution on 2024-01-22  (unless 'All Time'), 0 during 2024-01-23..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:50:03.6885911Z         filtering to 'Last 30 Days'
2024-02-21T09:50:07.0899514Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-21T09:50:07.0901846Z       given 1 Distribution on 2022-02-20  (unless 'All Time'), 3 during 2022-02-21..2024-01-07, and 1 on 2024-01-08
2024-02-21T09:50:07.0903291Z         filtering to '' (February 21, 2022 - January 7, 2024)
2024-02-21T09:50:08.5876781Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-21T09:50:08.5878648Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 2 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-21T09:50:08.5880092Z         filtering to 'This Month'
2024-02-21T09:50:10.0135219Z           shows the correct total and 2 Recent Distribution link(s)
2024-02-21T09:50:10.0137490Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 3 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-21T09:50:10.0138870Z         filtering to 'Last Month'
2024-02-21T09:50:11.5114958Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-21T09:50:11.5116549Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-21T09:50:11.5117365Z         filtering to 'This Year'
2024-02-21T09:50:12.9605969Z           shows the correct total and 1 Recent Distribution link(s)
2024-02-21T09:50:12.9607796Z       given 1 Distribution on 2024-02-20  (unless 'All Time'), 4 during 2024-02-21..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:50:12.9609245Z         filtering to 'Today'
2024-02-21T09:50:14.4855178Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-21T09:50:14.4857031Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 3 during 2000-01-01..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:50:14.4858405Z         filtering to 'All Time'
2024-02-21T09:50:15.8839529Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-21T09:50:15.8841319Z       given 1 Distribution on 2024-02-19  (unless 'All Time'), 1 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-21T09:50:15.8842177Z         filtering to 'Yesterday'
2024-02-21T09:50:17.3508397Z           shows the correct total and 1 Recent Distribution link(s)
2024-02-21T09:50:17.3509865Z       given 1 Distribution on 2024-02-14  (unless 'All Time'), 2 during 2024-02-15..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:50:17.3514397Z         filtering to 'Last 7 Days'
2024-02-21T09:50:18.8609315Z           shows the correct total and 2 Recent Distribution link(s)
2024-02-21T09:50:18.8614637Z   With a new essentials bank
2024-02-21T09:50:46.8875290Z     displays the getting started guide until the steps are completed
2024-02-21T09:50:46.8876064Z 
2024-02-21T09:50:46.8876471Z Purchases
2024-02-21T09:50:46.8877897Z   while signed in as a normal user
2024-02-21T09:50:46.8878892Z     When visiting an existing purchase
2024-02-21T09:50:47.3504411Z       does not allow deletion of a purchase
2024-02-21T09:50:47.3505247Z     When visiting the index page
2024-02-21T09:50:47.3506899Z       When filtering on the index page
2024-02-21T09:50:48.0336350Z         User can filter the #index by vendor (FAILED - 1)
2024-02-21T09:50:48.0339307Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-can-filter-the-#index-by-vendor_2024-02-21-01-50-47.883.html[0m
2024-02-21T09:50:48.0347242Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-can-filter-the-#index-by-vendor_2024-02-21-01-50-47.883.png[0m
2024-02-21T09:50:48.8741706Z         User can filter the #index by storage location
2024-02-21T09:50:48.8742495Z         behaves like Date Range Picker
2024-02-21T09:50:48.8743775Z           when choosing a date range that only includes the previous week
2024-02-21T09:50:49.8131717Z             shows only 1 record
2024-02-21T09:50:49.8133027Z           when choosing 'Last Month'
2024-02-21T09:50:50.7837459Z             shows only 2 of the records
2024-02-21T09:50:50.7838657Z           when choosing 'All Time'
2024-02-21T09:50:51.7561549Z             shows all the records
2024-02-21T09:50:51.7562895Z       In the middle of the year
2024-02-21T09:50:52.4992286Z         User sees total purchases value
2024-02-21T09:50:53.2747525Z         User can click to the new purchase form
2024-02-21T09:50:54.0103005Z         User sees purchased date column
2024-02-21T09:50:54.0104331Z     When creating a new purchase
2024-02-21T09:50:54.5182127Z       should not display inactive storage locations in dropdown
2024-02-21T09:50:54.5183280Z       via manual entry
2024-02-21T09:50:55.6244697Z         User can create a purchase IN THE PAST
2024-02-21T09:50:56.6567158Z         User can create vendor from purchase
2024-02-21T09:50:57.8563429Z         multiple line items for the same item type are accepted and combined on the backend
2024-02-21T09:50:58.7366989Z         User can create a purchase using dollars decimal amount
2024-02-21T09:50:59.8332344Z         Does not include inactive items in the line item fields
2024-02-21T09:50:59.8333364Z         when creating a purchase incorrectly
2024-02-21T09:51:00.8260819Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-02-21T09:51:01.6443438Z           should display failure with error messages
2024-02-21T09:51:01.6444837Z       Editing purchase
2024-02-21T09:51:02.2740320Z         A user can view another organizations purchase
2024-02-21T09:51:02.7654992Z         A user can see purchased_from value
2024-02-21T09:51:02.7655868Z       via barcode entry
2024-02-21T09:51:03.6802121Z         User scan same barcode 2 times
2024-02-21T09:51:04.4085602Z         a user can add items via scanning them in by barcode
2024-02-21T09:51:05.6363234Z         a user can add items that do not yet have a barcode
2024-02-21T09:51:05.6364187Z   while signed in as an organization admin
2024-02-21T09:51:06.6319666Z     allows deletion of a purchase
2024-02-21T09:51:06.6321097Z 
2024-02-21T09:51:06.6321457Z Admin::Organizations
2024-02-21T09:51:06.6323078Z   When logged in as a non-admin user
2024-02-21T09:51:06.6323962Z     POST #create
2024-02-21T09:51:06.6506228Z       redirects
2024-02-21T09:51:06.6507110Z     GET #edit
2024-02-21T09:51:06.6636058Z       redirects
2024-02-21T09:51:06.6636608Z     PUT #update
2024-02-21T09:51:06.6778996Z       redirects
2024-02-21T09:51:06.6779679Z     GET #index
2024-02-21T09:51:06.6912252Z       redirects
2024-02-21T09:51:06.6912892Z     GET #new
2024-02-21T09:51:06.7038840Z       redirects
2024-02-21T09:51:06.7039541Z   When logged in as a super admin
2024-02-21T09:51:06.7042067Z     GET #index
2024-02-21T09:51:06.7400483Z       returns http success
2024-02-21T09:51:06.7401132Z     PATCH #update
2024-02-21T09:51:06.7401856Z       with a valid update
2024-02-21T09:51:06.9308096Z         redirects to #index
2024-02-21T09:51:06.9308876Z       with an invalid update
2024-02-21T09:51:07.1444389Z         redirects to #edit with an error message
2024-02-21T09:51:07.3554227Z         returns http success
2024-02-21T09:51:07.3555397Z     PUT #update
2024-02-21T09:51:07.3763266Z       redirect
2024-02-21T09:51:07.3763921Z     DELETE #destroy
2024-02-21T09:51:07.3764607Z       with a valid organization id
2024-02-21T09:51:07.9034838Z         redirects to #index
2024-02-21T09:51:07.9035630Z     GET #show
2024-02-21T09:51:08.1034717Z       returns http success
2024-02-21T09:51:08.1035589Z     POST #create
2024-02-21T09:51:08.1036309Z       with invalid params
2024-02-21T09:51:08.1451203Z         does not create an organization and renders #create with an error message
2024-02-21T09:51:08.1451990Z       with valid params
2024-02-21T09:51:08.4407491Z         creates an organization and redirects to #index
2024-02-21T09:51:08.4408468Z     DELETE #destroy
2024-02-21T09:51:08.7978872Z       redirects
2024-02-21T09:51:08.7979721Z     GET #new
2024-02-21T09:51:08.8387014Z       returns http success
2024-02-21T09:51:08.8388414Z       when given a token that matches a account request that has already been processed
2024-02-21T09:51:09.0534707Z         should render new with a flash error message
2024-02-21T09:51:09.0535848Z       when given a valid account request token in the query parameters
2024-02-21T09:51:09.1075799Z         should render new with pre populate input fields from the account_request
2024-02-21T09:51:09.1076962Z     GET #edit
2024-02-21T09:51:09.3230432Z       returns http success
2024-02-21T09:51:09.3230964Z 
2024-02-21T09:51:09.3231199Z Admin Organization Management
2024-02-21T09:51:09.3232657Z   While signed in as an Administrative User with no organization (super admin no org)
2024-02-21T09:51:11.2336522Z     creates a new organization
2024-02-21T09:51:11.2337553Z   While signed in as an Administrative User (super admin)
2024-02-21T09:51:13.1321434Z     creates a new organization
2024-02-21T09:51:14.2191017Z     filters by organizations by name in organizations index page
2024-02-21T09:51:15.4794244Z     can view organization details
2024-02-21T09:51:15.4794836Z 
2024-02-21T09:51:15.4795105Z Profiles
2024-02-21T09:51:15.4797658Z   GET #edit
2024-02-21T09:51:15.5816406Z     returns http success
2024-02-21T09:51:15.5817623Z   POST #update
2024-02-21T09:51:15.5818272Z     when updating an existing value to a blank value
2024-02-21T09:51:15.6362126Z       should have blank values
2024-02-21T09:51:15.6845985Z       update partner
2024-02-21T09:51:15.6846625Z     successful save
2024-02-21T09:51:15.7318732Z       update partner
2024-02-21T09:51:15.7773262Z       redirects to #show
2024-02-21T09:51:15.7774020Z 
2024-02-21T09:51:15.7774234Z Kit management
2024-02-21T09:51:16.6800568Z   can create a new kit as a user with the proper quantity
2024-02-21T09:51:18.1793950Z   can allocate and deallocate quantity per storage location from kit index
2024-02-21T09:51:18.7544546Z   should not display inactive storage locations under allocations
2024-02-21T09:51:18.7545933Z   when there is not enough quantity of the items contained in the kit on-hand
2024-02-21T09:51:19.8721573Z     will not change quantity amounts when allocating
2024-02-21T09:51:19.8722363Z   when there is no kit quantity
2024-02-21T09:51:21.0405169Z     will not change quantity amounts when deallocating
2024-02-21T09:51:21.0405853Z 
2024-02-21T09:51:21.0406071Z DonationSites
2024-02-21T09:51:21.0407322Z   while signed in
2024-02-21T09:51:21.0408186Z     GET #index
2024-02-21T09:51:21.0409459Z       csv
2024-02-21T09:51:21.0615224Z         is expected to be successful
2024-02-21T09:51:21.0615763Z       html
2024-02-21T09:51:21.0980987Z         is expected to be successful
2024-02-21T09:51:21.0982319Z 
2024-02-21T09:51:21.0982509Z Managing requests
2024-02-21T09:51:21.0984454Z   creating a individuals/family request
2024-02-21T09:51:21.0985244Z     GIVEN a partner user is permitted to make a request
2024-02-21T09:51:21.0986348Z       WHEN they create a request inproperly
2024-02-21T09:51:22.0664363Z         should show an error message with the instructions
2024-02-21T09:51:22.0665167Z       WHEN they create a request properly
2024-02-21T09:51:22.0666498Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-02-21T09:51:24.2137708Z           AND the partner_user can view the details of the created individuals request in a seperate page
2024-02-21T09:51:24.2138840Z   creating a request
2024-02-21T09:51:24.2139961Z     GIVEN a partner user is permitted to make a request
2024-02-21T09:51:24.2141288Z       WHEN they create a request properly
2024-02-21T09:51:24.2142791Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-02-21T09:51:26.4672671Z           AND the partner_user can view the details of the created request in a seperate page
2024-02-21T09:51:26.4673874Z       WHEN they create a request inproperly by not inputting anything
2024-02-21T09:51:27.3911696Z         should show an error message with the instructions
2024-02-21T09:51:27.3912344Z       WHEN they create a request with only a comment
2024-02-21T09:51:28.3436113Z         should be created without any issue
2024-02-21T09:51:28.3437821Z 
2024-02-21T09:51:28.3438093Z /partners/profiles
2024-02-21T09:51:28.3439465Z   PUT #update
2024-02-21T09:51:28.4019605Z     updates the partner and profile
2024-02-21T09:51:28.4020226Z     with no social media
2024-02-21T09:51:28.5055837Z       shows an error
2024-02-21T09:51:28.5056650Z     when updating an existing value to a blank value
2024-02-21T09:51:28.5592225Z       updates the partner profile attribute to a blank value
2024-02-21T09:51:28.6117585Z       does not update other partner profile attributes to blank
2024-02-21T09:51:28.6652946Z       does store N/A in the database
2024-02-21T09:51:28.6653564Z   GET #show
2024-02-21T09:51:28.7250553Z     shows correct values for yes/no buttons
2024-02-21T09:51:28.7752930Z     displays the partner
2024-02-21T09:51:28.7753566Z   GET #edit
2024-02-21T09:51:28.8670864Z     has "Yes" radio button value when value is true
2024-02-21T09:51:28.9534977Z     does not have default radio button value when value is nil
2024-02-21T09:51:29.0381417Z     displays the partner
2024-02-21T09:51:29.1371089Z     has "No" radio button value when value is false
2024-02-21T09:51:29.1475536Z W, [2024-02-21T01:51:29.147359 #2353]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-02-21T09:51:29.1476770Z W, [2024-02-21T01:51:29.147402 #2353]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-21T09:51:29.1478339Z W, [2024-02-21T01:51:29.147417 #2353]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-21T09:51:29.1480190Z W, [2024-02-21T01:51:29.147439 #2353]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-02-21T09:51:29.1550858Z 
2024-02-21T09:51:29.1551096Z Failures:
2024-02-21T09:51:29.1551314Z 
2024-02-21T09:51:29.1552105Z   1) Purchases while signed in as a normal user When visiting the index page When filtering on the index page User can filter the #index by vendor
2024-02-21T09:51:29.1553381Z      Failure/Error: raise "Invalid date: #{d} in #{date_range_params}"
2024-02-21T09:51:29.1553852Z 
2024-02-21T09:51:29.1553979Z      RuntimeError:
2024-02-21T09:51:29.1554586Z        Invalid date: during the period 01 Jan to 31 Dec in during the period 01 Jan to 31 Dec
2024-02-21T09:51:29.1555178Z 
2024-02-21T09:51:29.1556909Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/capybara/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_visiting_the_index_page_when_filtering_on_the_index_page_user_can_filter_the_#index_by_vendor_101.png
2024-02-21T09:51:29.1558536Z 
2024-02-21T09:51:29.1558540Z 
2024-02-21T09:51:29.1558912Z      # ./app/helpers/date_range_helper.rb:34:in `rescue in block in selected_interval'
2024-02-21T09:51:29.1559778Z      # ./app/helpers/date_range_helper.rb:32:in `block in selected_interval'
2024-02-21T09:51:29.1561085Z      # ./app/helpers/date_range_helper.rb:31:in `map'
2024-02-21T09:51:29.1561682Z      # ./app/helpers/date_range_helper.rb:31:in `selected_interval'
2024-02-21T09:51:29.1562368Z      # ./app/controllers/application_controller.rb:144:in `setup_date_range_picker'
2024-02-21T09:51:29.1563020Z      # ./app/controllers/purchases_controller.rb:6:in `index'
2024-02-21T09:51:29.1563499Z      # ------------------
2024-02-21T09:51:29.1563812Z      # --- Caused by: ---
2024-02-21T09:51:29.1564148Z      # Capybara::ExpectationNotMet:
2024-02-21T09:51:29.1564668Z      #   expected to find css "table tbody tr" 1 time but there were no matches
2024-02-21T09:51:29.1565407Z      #   ./spec/system/purchase_system_spec.rb:78:in `block (5 levels) in <top (required)>'
2024-02-21T09:51:29.1565887Z 
2024-02-21T09:51:29.1566139Z Finished in 3 minutes 32.7 seconds (files took 8.14 seconds to load)
2024-02-21T09:51:29.1566643Z 235 examples, 1 failure
2024-02-21T09:51:29.1566837Z 
2024-02-21T09:51:29.1566937Z Failed examples:
2024-02-21T09:51:29.1567116Z 
2024-02-21T09:51:29.1567991Z rspec ./spec/system/purchase_system_spec.rb:69 # Purchases while signed in as a normal user When visiting the index page When filtering on the index page User can filter the #index by vendor
2024-02-21T09:51:29.1569217Z 
2024-02-21T09:51:29.1569329Z Randomized with seed 42319
2024-02-21T09:51:29.1569534Z 
2024-02-21T09:51:29.4622076Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-02-21T09:51:29.4624759Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3820 / 6404 LOC (59.65%) covered.
2024-02-21T09:51:29.5918168Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/partners/children_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb" failed
2024-02-21T09:51:29.9862411Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-02-21T09:51:29.9864730Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10655 LOC (0.36%) covered.
2024-02-21T09:51:30.0167381Z ##[error]Process completed with exit code 1.
