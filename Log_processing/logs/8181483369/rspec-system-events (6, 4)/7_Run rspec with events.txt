2024-03-07T01:31:42.5344947Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-07T01:31:42.5345859Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-07T01:31:42.5396214Z shell: /usr/bin/bash -e {0}
2024-03-07T01:31:42.5396699Z env:
2024-03-07T01:31:42.5397028Z   POSTGRES_HOST: localhost
2024-03-07T01:31:42.5397422Z   DATABASE_HOST: localhost
2024-03-07T01:31:42.5397884Z   PG_USERNAME: postgres
2024-03-07T01:31:42.5398249Z   PG_PASSWORD: password
2024-03-07T01:31:42.5398596Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-07T01:31:42.5399109Z   POSTGRES_PORT: 5432
2024-03-07T01:31:42.5399466Z   PGHOST: localhost
2024-03-07T01:31:42.5399822Z   PGUSER: postgres
2024-03-07T01:31:42.5400218Z   RAILS_ENV: test
2024-03-07T01:31:42.5400795Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: ***
2024-03-07T01:31:42.5401348Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-07T01:31:42.5401757Z   KNAPSACK_PRO_CI_NODE_INDEX: 4
2024-03-07T01:31:42.5402180Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-07T01:31:42.5402822Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-07T01:31:42.5403461Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-07T01:31:42.5404157Z   EVENTS_READ: true
2024-03-07T01:31:42.5404496Z ##[endgroup]
2024-03-07T01:31:48.4718512Z I, [2024-03-07T01:31:48.471497 #2426]  INFO -- : [knapsack_pro] Generating RSpec test examples JSON report for slow test files to prepare it to be split by test examples (by individual test cases). Thanks to that, a single slow test file can be split across parallel CI nodes. Analyzing 1 slow test files.
2024-03-07T01:31:57.2437472Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 2537 / 6688 LOC (37.93%) covered.
2024-03-07T01:32:00.6476238Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/system/partners/approval_process_spec.rb" "spec/system/item_system_spec.rb" "spec/system/profile_served_area_system_spec.rb" "spec/system/admin/base_items_system_spec.rb" "spec/system/barcode_item_system_spec.rb" "spec/system/manufacturer_system_spec.rb" "spec/system/dashboard_system_spec.rb[1:2:5:5:1:3]" "spec/system/sign_in_system_spec.rb" "spec/system/manage_system_spec.rb" "spec/system/annual_reports_system_spec.rb" "spec/requests/partners_requests_spec.rb" "spec/system/dashboard_system_spec.rb[1:2:4:8:1:1]" "spec/system/dashboard_system_spec.rb[1:2:5:2:1:3]" "spec/system/dashboard_system_spec.rb[1:2:5:8:1:3]" "spec/system/dashboard_system_spec.rb[1:2:3:4:1:1]" "spec/system/dashboard_system_spec.rb[1:2:5:3:1:1]" "spec/system/dashboard_system_spec.rb[1:2:4:7:1:1]" "spec/system/dashboard_system_spec.rb[1:2:5:5:1:1]" "spec/system/admin/barcode_items_system_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/admin_requests_spec.rb" "spec/system/question_system_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/distributions_by_county_spec.rb" "spec/requests/partners/distributions_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/attachments_requests_spec.rb"
2024-03-07T01:32:09.2734177Z Run options: include {:ids=>{"./spec/system/dashboard_system_spec.rb"=>["1:2:5:5:1:3", "1:2:4:8:1:1", "1:2:5:2:1:3", "1:2:5:8:1:3", "1:2:3:4:1:1", "1:2:5:3:1:1", "1:2:4:7:1:1", "1:2:5:5:1:1"]}}
2024-03-07T01:32:09.2763007Z 
2024-03-07T01:32:09.2763750Z Randomized with seed 25406
2024-03-07T01:32:10.2782065Z 
2024-03-07T01:32:10.2782889Z Base Item Admin
2024-03-07T01:32:10.2784568Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-07T01:32:16.5310392Z     can view a single Base Item (FAILED - 1)
2024-03-07T01:32:17.5480318Z     can view a listing of all Base Items that shows a summary of its sub-items
2024-03-07T01:32:17.5481131Z     when updating an existing base item
2024-03-07T01:32:18.3343635Z       should fail when updating the name to empty
2024-03-07T01:32:19.1761276Z       should succeed when changing the name
2024-03-07T01:32:19.1762094Z     when creating a new base item
2024-03-07T01:32:19.9906803Z       should succeed when creating a new base item with good data
2024-03-07T01:32:20.7234021Z       should fail when creating a new base item with empty attributes
2024-03-07T01:32:20.7235430Z   While signed in as an Administrative User (super admin)
2024-03-07T01:32:21.2675078Z     can view a listing of all Base Items that shows a summary of its sub-items
2024-03-07T01:32:21.3748610Z     can view a single Base Item (FAILED - 2)
2024-03-07T01:32:21.3749548Z     when updating an existing base item
2024-03-07T01:32:22.2150466Z       should succeed when changing the name
2024-03-07T01:32:22.9783962Z       should fail when updating the name to empty
2024-03-07T01:32:22.9785003Z     when creating a new base item
2024-03-07T01:32:23.7021022Z       should fail when creating a new base item with empty attributes
2024-03-07T01:32:24.5387979Z       should succeed when creating a new base item with good data
2024-03-07T01:32:24.5388846Z   While signed in as a normal user
2024-03-07T01:32:26.2040538Z     should have a normal user not see anything
2024-03-07T01:32:26.2041241Z 
2024-03-07T01:32:26.2041610Z Manufacturer
2024-03-07T01:32:27.0254751Z   allows a user to update the contact info for a manufacturer
2024-03-07T01:32:27.7658898Z   allows a user to add a new manufacturer instance with empty attributes
2024-03-07T01:32:28.5270102Z   allows a user to update a manufacturer with empty attributes
2024-03-07T01:32:29.2997717Z   allows a user to create a new manufacturer instance
2024-03-07T01:32:29.2998533Z   When the Manufacturers have donations associated with them already
2024-03-07T01:32:30.0377389Z     allows single Manufacturers to show semi-detailed stats about donations from that manufacturer
2024-03-07T01:32:30.7419527Z     shows existing Manufacturers in the #index with some summary stats
2024-03-07T01:32:30.7420785Z   When a user views the index page
2024-03-07T01:32:31.2453777Z     alphabetizes the manufacturer names
2024-03-07T01:32:31.2454394Z 
2024-03-07T01:32:31.2454842Z Question search
2024-03-07T01:32:31.2456096Z   while logged in
2024-03-07T01:32:31.9527234Z     filters by question title
2024-03-07T01:32:31.9527888Z 
2024-03-07T01:32:31.9528155Z /partners/distributions
2024-03-07T01:32:31.9530600Z   GET #index
2024-03-07T01:32:32.0090587Z     should render without any issues
2024-03-07T01:32:32.1560491Z   GET #print
2024-03-07T01:32:32.1561364Z     returns http success
2024-03-07T01:32:32.1562319Z     with non-UTF8 characters
2024-03-07T01:32:32.2989318Z       returns http success
2024-03-07T01:32:32.2990472Z 
2024-03-07T01:32:32.2995109Z DistributionsByCounties
2024-03-07T01:32:32.2996484Z   While not signed in
2024-03-07T01:32:32.3083755Z     redirects for authentication
2024-03-07T01:32:32.3084491Z     While signed in as bank
2024-03-07T01:32:32.4131443Z       shows 'Unspecified 100%' if no served_areas
2024-03-07T01:32:32.4132420Z       basic behaviour with served areas
2024-03-07T01:32:32.6528954Z         handles multiple partners with overlapping service areas properly
2024-03-07T01:32:32.6529648Z 
2024-03-07T01:32:32.6530385Z /partners/dashboard
2024-03-07T01:32:32.9103181Z   displays upcoming distributions
2024-03-07T01:32:32.9104715Z   BroadcastAnnouncement card
2024-03-07T01:32:32.9947258Z     doesn't display announcements from super admins
2024-03-07T01:32:33.0523570Z     displays announcements if there are valid ones
2024-03-07T01:32:33.1087463Z     doesn't display announcements if there are not valid ones
2024-03-07T01:32:33.1088390Z   with both roles
2024-03-07T01:32:33.1709849Z     should include the switch link
2024-03-07T01:32:33.1711114Z   with just partner role
2024-03-07T01:32:33.2252201Z     should not display the switch link
2024-03-07T01:32:33.2253222Z   GET #index
2024-03-07T01:32:33.3043365Z     does not display requests in other states
2024-03-07T01:32:33.3796079Z     displays requests that are pending
2024-03-07T01:32:33.3798332Z 
2024-03-07T01:32:33.3798585Z Dashboard
2024-03-07T01:32:33.3800222Z   With an existing essentials bank
2024-03-07T01:32:33.3804262Z     Donations
2024-03-07T01:32:33.3807661Z       given 1 Donation on 2024-03-04 (only if a valid date), 3 during 2024-03-05..2024-03-05, and 1 on 2024-03-06
2024-03-07T01:32:33.3808712Z         filtering to 'Yesterday'
2024-03-07T01:32:34.9318628Z           shows the correct total and 3 Recent Donation link(s)
2024-03-07T01:32:34.9323798Z     Product Drives
2024-03-07T01:32:34.9326577Z       given 1 Product Drive Donation on 2024-03-04 (unless 'All Time'), 0 during 2024-03-05..2024-03-05, and 1 on 2024-03-06
2024-03-07T01:32:34.9327547Z         filtering to 'Yesterday'
2024-03-07T01:32:36.2990127Z           shows the correct total donations
2024-03-07T01:32:36.2991724Z       given 1 Product Drive Donation on 2024-03-05 (unless 'All Time'), 0 during 2024-03-06..2024-03-06, and 1 on 2024-03-07
2024-03-07T01:32:36.2993225Z         filtering to 'Today'
2024-03-07T01:32:39.6709170Z           shows 0 Recent Donation link(s)
2024-03-07T01:32:39.6710919Z       given 1 Product Drive Donation on 2024-02-05 (unless 'All Time'), 4 during 2024-02-06..2024-03-06, and 1 on 2024-03-07
2024-03-07T01:32:39.6712306Z         filtering to 'Last 30 Days'
2024-03-07T01:32:41.2139092Z           shows 3 Recent Donation link(s)
2024-03-07T01:32:42.7463454Z           shows the correct total donations
2024-03-07T01:32:42.7465141Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-07T01:32:42.7466266Z         filtering to 'This Year'
2024-03-07T01:32:44.2522613Z           shows 3 Recent Donation link(s)
2024-03-07T01:32:44.2524715Z     Purchases
2024-03-07T01:32:44.2527569Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 4 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-07T01:32:44.2528697Z         filtering to 'This Year'
2024-03-07T01:32:45.7853172Z           shows correct 3 Recent Purchase link(s)
2024-03-07T01:32:45.7855581Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-07T01:32:45.7857066Z         filtering to 'Last Month'
2024-03-07T01:32:47.1915325Z           shows correct 1 Recent Purchase link(s)
2024-03-07T01:32:47.1918469Z 
2024-03-07T01:32:47.1918940Z Item management
2024-03-07T01:32:48.1023508Z   can create a new item with dollars decimal amount for value field
2024-03-07T01:32:48.8823699Z   can create a new item with empty attributes as a user
2024-03-07T01:32:49.7004938Z   can filter the #index by base item as a user
2024-03-07T01:32:50.9172877Z   can make the item invisible to partners
2024-03-07T01:32:51.7044417Z   can update an existing item with empty attributes as a user
2024-03-07T01:32:52.6651711Z   can update an existing item as a user
2024-03-07T01:32:53.5442199Z   can create a new item as a user
2024-03-07T01:32:53.5443129Z   Item Table Tabs >
2024-03-07T01:32:56.3811636Z     should display an Item Inventory table
2024-03-07T01:32:57.2482830Z     should display items in separate tabs
2024-03-07T01:32:57.2483610Z   destroying items
2024-03-07T01:32:57.2484305Z     when an item does not have history
2024-03-07T01:32:58.2046813Z       can be fully deleted by the user
2024-03-07T01:32:58.2048276Z     when an item has history
2024-03-07T01:32:59.2182856Z       can be soft-deleted (deactivated) by the user
2024-03-07T01:32:59.2183918Z   restoring items
2024-03-07T01:33:00.6435510Z     allows a user to restore the item
2024-03-07T01:33:00.6436433Z   Item Category Management
2024-03-07T01:33:00.6437244Z     creating a new item category and associating to a new item
2024-03-07T01:33:00.6438174Z       and associating to a new item
2024-03-07T01:33:02.6423400Z         should create the new item with the correct category
2024-03-07T01:33:02.6424558Z       and associating to a existing item
2024-03-07T01:33:04.9361555Z         should associate the item with the category
2024-03-07T01:33:04.9362761Z 
2024-03-07T01:33:04.9364743Z Admin
2024-03-07T01:33:04.9365622Z   while signed in as a super admin
2024-03-07T01:33:04.9818693Z     allows a user to load the dashboard
2024-03-07T01:33:04.9819813Z     with rendered views
2024-03-07T01:33:05.2667991Z       shows a logout button
2024-03-07T01:33:05.5475689Z       shows the recently added users email
2024-03-07T01:33:05.5477062Z   while signed in as a non-super-admin
2024-03-07T01:33:05.5759889Z     disallows dashboard access, redirecting to the normal dashboard
2024-03-07T01:33:05.5761103Z 
2024-03-07T01:33:05.5761415Z /partners/profiles
2024-03-07T01:33:05.5762069Z   PUT #update
2024-03-07T01:33:05.6334861Z     updates the partner and profile
2024-03-07T01:33:05.6335737Z     when updating an existing value to a blank value
2024-03-07T01:33:05.6868438Z       updates the partner profile attribute to a blank value
2024-03-07T01:33:05.7395487Z       does store N/A in the database
2024-03-07T01:33:05.7920021Z       does not update other partner profile attributes to blank
2024-03-07T01:33:05.9340167Z     with no social media
2024-03-07T01:33:05.9341142Z       shows an error
2024-03-07T01:33:05.9345628Z   GET #show
2024-03-07T01:33:06.0322910Z     shows correct values for yes/no buttons
2024-03-07T01:33:06.1866326Z     displays the partner
2024-03-07T01:33:06.1867136Z   GET #edit
2024-03-07T01:33:06.2798904Z     does not have default radio button value when value is nil
2024-03-07T01:33:06.3707366Z     has "No" radio button value when value is false
2024-03-07T01:33:06.4589364Z     displays the partner
2024-03-07T01:33:06.5484036Z     has "Yes" radio button value when value is true
2024-03-07T01:33:06.5484819Z 
2024-03-07T01:33:06.5485133Z Barcode management
2024-03-07T01:33:07.2889629Z   prevents a user from adding a new barcode with empty attributes
2024-03-07T01:33:07.2890973Z   With organization-specific barcodes
2024-03-07T01:33:08.3618189Z     can have a user add a new barcode
2024-03-07T01:33:08.3618774Z     when editing an existing barcode
2024-03-07T01:33:09.1631256Z       saves the changes if they are valid
2024-03-07T01:33:09.9450175Z       fails to save the changes if the attributes are empty
2024-03-07T01:33:09.9451267Z   While viewing the barcode items index page
2024-03-07T01:33:10.7194973Z     can have a user filter the #index by item type
2024-03-07T01:33:11.4940284Z     can have a user filter the #index by barcode value
2024-03-07T01:33:11.5783422Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-07T01:33:11.5797114Z     should only show the barcodes created within the organization (FAILED - 3)
2024-03-07T01:33:12.0984955Z     should have the filter presented to user list items in alphabetical order
2024-03-07T01:33:12.9273387Z     can have a user filter the #index by base item type
2024-03-07T01:33:12.9274194Z 
2024-03-07T01:33:12.9274459Z Annual Reports
2024-03-07T01:33:12.9275499Z   while signed in as an organization admin
2024-03-07T01:33:13.4560716Z     exists
2024-03-07T01:33:14.5632206Z     has all the sub-reports we expect
2024-03-07T01:33:15.0842305Z     has the report from last year, if there is a purchase from last year
2024-03-07T01:33:15.0843170Z 
2024-03-07T01:33:15.0843418Z Approval process for partners
2024-03-07T01:33:15.0846120Z   filling in organization details and requesting for approval
2024-03-07T01:33:15.0847679Z     GIVEN a partner user is new and wants to request approval
2024-03-07T01:33:32.0343931Z       should not allow them to make requests on the dashboard or the requests page
2024-03-07T01:33:32.0345163Z       AND they fill out the form and submit it
2024-03-07T01:33:32.0346136Z         THEN the organization approves them
2024-03-07T01:33:34.9221063Z           should show that they have been approved and able to make requests
2024-03-07T01:33:34.9222321Z   request approval with invalid details
2024-03-07T01:33:36.1954253Z     should render an error message
2024-03-07T01:33:36.1955143Z 
2024-03-07T01:33:36.1955408Z Barcode Items Admin
2024-03-07T01:33:36.1957039Z   while signed in as a super admin
2024-03-07T01:33:36.1958474Z     user visits the show page
2024-03-07T01:33:36.2637577Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-07T01:33:36.2650657Z       shows the barcode item (FAILED - 4)
2024-03-07T01:33:36.2651618Z     user visits the edit page
2024-03-07T01:33:36.3289844Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-07T01:33:36.3302344Z       updates the barcode item (FAILED - 5)
2024-03-07T01:33:36.3303394Z     user visits the index page
2024-03-07T01:33:36.3954488Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-07T01:33:36.3966505Z       deletes a global barcode (FAILED - 6)
2024-03-07T01:33:36.4628741Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-07T01:33:36.4641263Z       shows the barcode item (FAILED - 7)
2024-03-07T01:33:36.5295573Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-07T01:33:36.5307286Z       creates a new global barcode item (FAILED - 8)
2024-03-07T01:33:36.5308260Z     user visits the new page
2024-03-07T01:33:37.3052213Z       creates a new global barcode item (FAILED - 9)
2024-03-07T01:33:37.3054078Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_creates-a-new-global-barcode-item_2024-03-06-17-33-37.154.html[0m
2024-03-07T01:33:37.3056561Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_creates-a-new-global-barcode-item_2024-03-06-17-33-37.154.png[0m
2024-03-07T01:33:37.3057533Z 
2024-03-07T01:33:37.3057735Z User sign-in handling
2024-03-07T01:33:37.3058386Z   when users are invalid
2024-03-07T01:33:37.9953455Z     shows invalid credentials alert
2024-03-07T01:33:37.9954348Z   when users are valid and don't belong to an organization
2024-03-07T01:33:38.7227129Z     redirects to 403
2024-03-07T01:33:38.7227914Z   when a partner user logs in
2024-03-07T01:33:39.6337289Z     redirects to the partner page
2024-03-07T01:33:39.6343063Z   when users are valid and belong to an organization
2024-03-07T01:33:40.6208656Z     redirects to user's dashboard
2024-03-07T01:33:40.6209162Z 
2024-03-07T01:33:40.6209630Z Partners profile served area behaviour when accessed as bank
2024-03-07T01:33:40.6210588Z   changing the client share
2024-03-07T01:33:41.9028351Z     handles deletion properly
2024-03-07T01:33:43.0026978Z     handles an invalid total client share properly
2024-03-07T01:33:43.7612780Z     handles addition properly
2024-03-07T01:33:44.9143733Z     handles a changed but correct total client share properly
2024-03-07T01:33:44.9144577Z 
2024-03-07T01:33:44.9144818Z Attachments
2024-03-07T01:33:44.9146331Z   DELETE #destroy
2024-03-07T01:33:44.9622885Z     redirects to referrer
2024-03-07T01:33:44.9624307Z 
2024-03-07T01:33:44.9624665Z Partners
2024-03-07T01:33:44.9628257Z   POST #import_csv
2024-03-07T01:33:44.9629062Z     without a csv file
2024-03-07T01:33:44.9742914Z       presents a flash error message
2024-03-07T01:33:44.9851107Z       redirects to :index
2024-03-07T01:33:44.9852060Z     with a csv file
2024-03-07T01:33:45.0251530Z       redirects to :index
2024-03-07T01:33:45.0303858Z       invokes .import_csv
2024-03-07T01:33:45.0634749Z       presents a flash notice message
2024-03-07T01:33:45.0635676Z     csv file with wrong headers
2024-03-07T01:33:45.0764679Z       redirects to :index
2024-03-07T01:33:45.0893944Z       presents a flash error message
2024-03-07T01:33:45.0894827Z   GET #edit
2024-03-07T01:33:45.1431969Z     returns http success
2024-03-07T01:33:45.1432859Z   DELETE #destroy
2024-03-07T01:33:45.1869199Z     redirects to #index
2024-03-07T01:33:45.1870170Z   POST #invite_partner_user
2024-03-07T01:33:45.1871046Z     when the invite successfully
2024-03-07T01:33:45.2183390Z       send the invite
2024-03-07T01:33:45.2184020Z     when there is an error in invite
2024-03-07T01:33:45.2479948Z       redirect to partner url with error message
2024-03-07T01:33:45.2480949Z   PUT #deactivate
2024-03-07T01:33:45.2481434Z     when the partner successfully deactivates
2024-03-07T01:33:45.2804399Z       changes the partner status to deactivated and redirects with flash
2024-03-07T01:33:45.2805335Z   GET #new
2024-03-07T01:33:45.3124901Z     returns http success
2024-03-07T01:33:45.3125821Z   POST #invite
2024-03-07T01:33:45.3421711Z     sends the invite
2024-03-07T01:33:45.3422379Z   POST #update
2024-03-07T01:33:45.3423182Z     successful save
2024-03-07T01:33:45.3755962Z       redirects to #show
2024-03-07T01:33:45.4087443Z       update partner
2024-03-07T01:33:45.4088430Z     unsuccessful save due to empty params
2024-03-07T01:33:45.4626551Z       renders :edit
2024-03-07T01:33:45.4627438Z   POST #create
2024-03-07T01:33:45.4628060Z     successful save
2024-03-07T01:33:45.4813881Z       creates a new partner
2024-03-07T01:33:45.4993764Z       redirects to #index
2024-03-07T01:33:45.4994540Z     unsuccessful save due to empty params
2024-03-07T01:33:45.5359913Z       renders :new
2024-03-07T01:33:45.5360733Z   PUT #reactivate
2024-03-07T01:33:45.5364011Z     when trying to reactivate a partner who is not deactivated
2024-03-07T01:33:45.5649943Z       fails to change the partner status to reactivated and redirects with flash error message
2024-03-07T01:33:45.5650791Z     when the partner successfully reactivates
2024-03-07T01:33:45.5992219Z       changes the partner status to approved and redirects with flash
2024-03-07T01:33:45.5993661Z   POST #invite_and_approve
2024-03-07T01:33:45.5994319Z     when approval fails
2024-03-07T01:33:45.7323895Z       should redirect to the partners index page with a notice flash message
2024-03-07T01:33:45.7324670Z     when invitation succeeded and approval succeed
2024-03-07T01:33:45.7631123Z       sends invitation email and approve partner in single step
2024-03-07T01:33:45.7632323Z     when invitation failed
2024-03-07T01:33:45.7936170Z       should redirect to the partners index page with a notice flash message
2024-03-07T01:33:45.7936936Z   POST #create
2024-03-07T01:33:45.7937632Z     when given invalid partner attributes in the params
2024-03-07T01:33:45.8320815Z       should display the error message
2024-03-07T01:33:45.8715389Z       should not create a new Partner record
2024-03-07T01:33:45.9108319Z       should not create a new Partners::Profile record
2024-03-07T01:33:45.9109236Z     when given valid partner attributes in the params
2024-03-07T01:33:45.9345921Z       redirect to the partners index page
2024-03-07T01:33:45.9566827Z       should create a new Partner record
2024-03-07T01:33:45.9779934Z       should create a new Partners::Profile record
2024-03-07T01:33:45.9780853Z   GET #show
2024-03-07T01:33:45.9781608Z     html
2024-03-07T01:33:46.0901859Z       is expected to be successful
2024-03-07T01:33:46.0902845Z       when the partner is uninvited
2024-03-07T01:33:46.1705258Z         does not show the delete button
2024-03-07T01:33:46.2478887Z         does not include impact metrics
2024-03-07T01:33:46.2479874Z         when the partner has no users
2024-03-07T01:33:46.3338414Z           shows the delete button
2024-03-07T01:33:46.3339531Z       when the partner is invited
2024-03-07T01:33:46.4169282Z         includes impact metrics
2024-03-07T01:33:46.4170098Z     csv
2024-03-07T01:33:46.4745400Z       is expected to be successful
2024-03-07T01:33:46.4746230Z   GET #approve_application
2024-03-07T01:33:46.4747579Z     when the approval was successful
2024-03-07T01:33:46.5059115Z       should redirect to the partners index page with a success flash message
2024-03-07T01:33:46.5060408Z     when the approval failed
2024-03-07T01:33:46.5360638Z       should redirect to the partners index page with a failure flash message
2024-03-07T01:33:46.5361690Z   GET #index
2024-03-07T01:33:46.5362444Z     html
2024-03-07T01:33:46.5903013Z       is expected to be successful
2024-03-07T01:33:46.5904195Z     csv
2024-03-07T01:33:46.6227531Z       is expected to be successful
2024-03-07T01:33:46.6228341Z   POST #recertify_partner
2024-03-07T01:33:46.6231008Z     when the request for recertification from the partner was NOT successful
2024-03-07T01:33:46.6532427Z       should return back to the partners page with a success flash
2024-03-07T01:33:46.6533679Z     when the request for recertification from the partner was successful
2024-03-07T01:33:46.6830080Z       should return back to the partners page with a success flash
2024-03-07T01:33:46.6830946Z 
2024-03-07T01:33:46.6831190Z Admin::Questions
2024-03-07T01:33:46.6831994Z   while signed in as a super admin
2024-03-07T01:33:46.6833891Z     GET #edit
2024-03-07T01:33:46.7232219Z       lets the user load the edit question page
2024-03-07T01:33:46.7233510Z     GET #index
2024-03-07T01:33:46.7525572Z       lets the user load the page
2024-03-07T01:33:46.7527384Z     DELETE #destroy
2024-03-07T01:33:46.7740884Z       lets the user delete questions
2024-03-07T01:33:46.7741617Z     POST #create
2024-03-07T01:33:46.7926716Z       lets the user create questions
2024-03-07T01:33:46.7927408Z     GET #new
2024-03-07T01:33:46.8237543Z       lets the user load the new question page
2024-03-07T01:33:46.8238520Z     PATCH #update
2024-03-07T01:33:46.8453237Z       lets the user update questions
2024-03-07T01:33:46.8454023Z 
2024-03-07T01:33:46.8454277Z Organization Administration
2024-03-07T01:33:46.8456079Z   while signed in as a normal user
2024-03-07T01:33:47.3277841Z     cannot see an edit link as a user
2024-03-07T01:33:47.3278790Z   while signed in as an organization admin
2024-03-07T01:33:48.4481610Z     can edit the properties for an organization as an admin
2024-03-07T01:33:48.9284649Z     can bail back to their own site as a user
2024-03-07T01:33:48.9285732Z     When looking at a single organization
2024-03-07T01:33:49.6885315Z       can view details about an organization, including the users as an admin
2024-03-07T01:33:49.9984078Z 
2024-03-07T01:33:49.9984722Z Failures:
2024-03-07T01:33:49.9985178Z 
2024-03-07T01:33:49.9986152Z   1) Base Item Admin While signed in as an Administrative User with no organization (super admin no org) can view a single Base Item
2024-03-07T01:33:49.9991147Z      Failure/Error: <h3 class="card-title">Size: <%= @base_item.size || "no size provided" %></h3>
2024-03-07T01:33:49.9992026Z 
2024-03-07T01:33:49.9992271Z      ActionView::Template::Error:
2024-03-07T01:33:49.9995120Z        undefined method `size' for #<BaseItem id: 1, name: "Adult Briefs (Large/X-Large)", category: "Diapers - Adult Briefs", created_at: "2024-03-06 17:32:09.502888000 -0800", updated_at: "2024-03-06 17:32:09.502874000 -0800", item_count: 1, partner_key: "adult_lxl">
2024-03-07T01:33:49.9997972Z      # ./app/views/admin/base_items/show.html.erb:33:in `_app_views_admin_base_items_show_html_erb___3209345510753345230_103220'
2024-03-07T01:33:49.9999457Z      # ------------------
2024-03-07T01:33:50.0000192Z      # --- Caused by: ---
2024-03-07T01:33:50.0001023Z      # NoMethodError:
2024-03-07T01:33:50.0003546Z      #   undefined method `size' for #<BaseItem id: 1, name: "Adult Briefs (Large/X-Large)", category: "Diapers - Adult Briefs", created_at: "2024-03-06 17:32:09.502888000 -0800", updated_at: "2024-03-06 17:32:09.502874000 -0800", item_count: 1, partner_key: "adult_lxl">
2024-03-07T01:33:50.0006547Z      #   ./app/views/admin/base_items/show.html.erb:33:in `_app_views_admin_base_items_show_html_erb___3209345510753345230_103220'
2024-03-07T01:33:50.0007774Z 
2024-03-07T01:33:50.0008811Z   2) Base Item Admin While signed in as an Administrative User (super admin) can view a single Base Item
2024-03-07T01:33:50.0010631Z      Failure/Error: <h3 class="card-title">Size: <%= @base_item.size || "no size provided" %></h3>
2024-03-07T01:33:50.0011482Z 
2024-03-07T01:33:50.0011806Z      ActionView::Template::Error:
2024-03-07T01:33:50.0014371Z        undefined method `size' for #<BaseItem id: 1, name: "Adult Briefs (Large/X-Large)", category: "Diapers - Adult Briefs", created_at: "2024-03-06 17:32:09.502888000 -0800", updated_at: "2024-03-06 17:32:09.502874000 -0800", item_count: 1, partner_key: "adult_lxl">
2024-03-07T01:33:50.0017545Z      # ./app/views/admin/base_items/show.html.erb:33:in `_app_views_admin_base_items_show_html_erb___3209345510753345230_103220'
2024-03-07T01:33:50.0019050Z      # ------------------
2024-03-07T01:33:50.0019671Z      # --- Caused by: ---
2024-03-07T01:33:50.0020311Z      # NoMethodError:
2024-03-07T01:33:50.0022774Z      #   undefined method `size' for #<BaseItem id: 1, name: "Adult Briefs (Large/X-Large)", category: "Diapers - Adult Briefs", created_at: "2024-03-06 17:32:09.502888000 -0800", updated_at: "2024-03-06 17:32:09.502874000 -0800", item_count: 1, partner_key: "adult_lxl">
2024-03-07T01:33:50.0025673Z      #   ./app/views/admin/base_items/show.html.erb:33:in `_app_views_admin_base_items_show_html_erb___3209345510753345230_103220'
2024-03-07T01:33:50.0026822Z 
2024-03-07T01:33:50.0027747Z   3) Barcode management While viewing the barcode items index page should only show the barcodes created within the organization
2024-03-07T01:33:50.0029355Z      Failure/Error: create(:global_barcode_item)
2024-03-07T01:33:50.0029868Z 
2024-03-07T01:33:50.0030219Z      ActiveModel::MissingAttributeError:
2024-03-07T01:33:50.0031203Z        can't write unknown attribute `barcode_count`
2024-03-07T01:33:50.0031863Z 
2024-03-07T01:33:50.0034383Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/capybara/failures_r_spec_example_groups_barcode_management_while_viewing_the_barcode_items_index_page_should_only_show_the_barcodes_created_within_the_organization_428.png
2024-03-07T01:33:50.0036565Z 
2024-03-07T01:33:50.0036574Z 
2024-03-07T01:33:50.0037225Z      # ./spec/system/barcode_item_system_spec.rb:16:in `block (3 levels) in <top (required)>'
2024-03-07T01:33:50.0038060Z 
2024-03-07T01:33:50.0038909Z   4) Barcode Items Admin while signed in as a super admin user visits the show page shows the barcode item
2024-03-07T01:33:50.0040236Z      Failure/Error: let!(:barcode_item) { create(:global_barcode_item) }
2024-03-07T01:33:50.0040854Z 
2024-03-07T01:33:50.0041176Z      ActiveModel::MissingAttributeError:
2024-03-07T01:33:50.0042152Z        can't write unknown attribute `barcode_count`
2024-03-07T01:33:50.0042748Z 
2024-03-07T01:33:50.0044743Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_barcode_items_admin_while_signed_in_as_a_super_admin_user_visits_the_show_page_shows_the_barcode_item_83.png
2024-03-07T01:33:50.0046755Z 
2024-03-07T01:33:50.0046763Z 
2024-03-07T01:33:50.0047422Z      # ./spec/system/admin/barcode_items_system_spec.rb:82:in `block (4 levels) in <top (required)>'
2024-03-07T01:33:50.0048486Z 
2024-03-07T01:33:50.0049244Z   5) Barcode Items Admin while signed in as a super admin user visits the edit page updates the barcode item
2024-03-07T01:33:50.0050756Z      Failure/Error: let!(:barcode_item) { create(:global_barcode_item) }
2024-03-07T01:33:50.0051496Z 
2024-03-07T01:33:50.0051760Z      ActiveModel::MissingAttributeError:
2024-03-07T01:33:50.0052882Z        can't write unknown attribute `barcode_count`
2024-03-07T01:33:50.0053446Z 
2024-03-07T01:33:50.0055216Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_barcode_items_admin_while_signed_in_as_a_super_admin_user_visits_the_edit_page_updates_the_barcode_item_356.png
2024-03-07T01:33:50.0057055Z 
2024-03-07T01:33:50.0057297Z 
2024-03-07T01:33:50.0058079Z      # ./spec/system/admin/barcode_items_system_spec.rb:63:in `block (4 levels) in <top (required)>'
2024-03-07T01:33:50.0059013Z 
2024-03-07T01:33:50.0059728Z   6) Barcode Items Admin while signed in as a super admin user visits the index page deletes a global barcode
2024-03-07T01:33:50.0061106Z      Failure/Error: let!(:barcode_item) { create(:global_barcode_item) }
2024-03-07T01:33:50.0061893Z 
2024-03-07T01:33:50.0062159Z      ActiveModel::MissingAttributeError:
2024-03-07T01:33:50.0063221Z        can't write unknown attribute `barcode_count`
2024-03-07T01:33:50.0063787Z 
2024-03-07T01:33:50.0065615Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_barcode_items_admin_while_signed_in_as_a_super_admin_user_visits_the_index_page_deletes_a_global_barcode_483.png
2024-03-07T01:33:50.0067533Z 
2024-03-07T01:33:50.0067542Z 
2024-03-07T01:33:50.0068148Z      # ./spec/system/admin/barcode_items_system_spec.rb:10:in `block (4 levels) in <top (required)>'
2024-03-07T01:33:50.0069019Z 
2024-03-07T01:33:50.0069711Z   7) Barcode Items Admin while signed in as a super admin user visits the index page shows the barcode item
2024-03-07T01:33:50.0071266Z      Failure/Error: let!(:barcode_item) { create(:global_barcode_item) }
2024-03-07T01:33:50.0071894Z 
2024-03-07T01:33:50.0072202Z      ActiveModel::MissingAttributeError:
2024-03-07T01:33:50.0073315Z        can't write unknown attribute `barcode_count`
2024-03-07T01:33:50.0073832Z 
2024-03-07T01:33:50.0075794Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_barcode_items_admin_while_signed_in_as_a_super_admin_user_visits_the_index_page_shows_the_barcode_item_131.png
2024-03-07T01:33:50.0077560Z 
2024-03-07T01:33:50.0077568Z 
2024-03-07T01:33:50.0078245Z      # ./spec/system/admin/barcode_items_system_spec.rb:10:in `block (4 levels) in <top (required)>'
2024-03-07T01:33:50.0079085Z 
2024-03-07T01:33:50.0079913Z   8) Barcode Items Admin while signed in as a super admin user visits the index page creates a new global barcode item
2024-03-07T01:33:50.0081457Z      Failure/Error: let!(:barcode_item) { create(:global_barcode_item) }
2024-03-07T01:33:50.0082088Z 
2024-03-07T01:33:50.0082407Z      ActiveModel::MissingAttributeError:
2024-03-07T01:33:50.0083252Z        can't write unknown attribute `barcode_count`
2024-03-07T01:33:50.0083902Z 
2024-03-07T01:33:50.0085861Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_barcode_items_admin_while_signed_in_as_a_super_admin_user_visits_the_index_page_creates_a_new_global_barcode_item_665.png
2024-03-07T01:33:50.0087909Z 
2024-03-07T01:33:50.0087917Z 
2024-03-07T01:33:50.0088544Z      # ./spec/system/admin/barcode_items_system_spec.rb:10:in `block (4 levels) in <top (required)>'
2024-03-07T01:33:50.0089504Z 
2024-03-07T01:33:50.0090375Z   9) Barcode Items Admin while signed in as a super admin user visits the new page creates a new global barcode item
2024-03-07T01:33:50.0092140Z      Failure/Error: @barcode_item = BarcodeItem.create(barcode_item_params.merge(barcodeable_type: "BaseItem"))
2024-03-07T01:33:50.0093127Z 
2024-03-07T01:33:50.0093375Z      ActiveModel::MissingAttributeError:
2024-03-07T01:33:50.0094318Z        can't write unknown attribute `barcode_count`
2024-03-07T01:33:50.0094844Z 
2024-03-07T01:33:50.0096835Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_barcode_items_admin_while_signed_in_as_a_super_admin_user_visits_the_new_page_creates_a_new_global_barcode_item_400.png
2024-03-07T01:33:50.0098791Z 
2024-03-07T01:33:50.0098799Z 
2024-03-07T01:33:50.0099237Z      # ./app/controllers/admin/barcode_items_controller.rb:28:in `create'
2024-03-07T01:33:50.0100296Z      # ------------------
2024-03-07T01:33:50.0100899Z      # --- Caused by: ---
2024-03-07T01:33:50.0101578Z      # Capybara::ExpectationNotMet:
2024-03-07T01:33:50.0278973Z      #   expected to find text "66666" in "Puma caught this error: can't write unknown attribute `barcode_count` (ActiveModel::MissingAttributeError)\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activemodel-7.0.8/lib/active_model/attribute.rb:211:in `with_value_from_database'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activemodel-7.0.8/lib/active_model/attribute_set.rb:55:in `write_from_user'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/write.rb:36:in `write_attribute'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods.rb:343:in `[]='\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/persistence.rb:836:in `increment'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/persistence.rb:848:in `increment!'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/locking/optimistic.rb:64:in `increment!'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/callbacks.rb:450:in `increment!'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/associations/belongs_to_association.rb:101:in `update_counters'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/associations/belongs_to_association.rb:53:in `increment_counters'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/counter_cache.rb:169:in `block in _create_record'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/counter_cache.rb:192:in `block in each_counter_cached_associations'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/counter_cache.rb:191:in `each'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/counter_cache.rb:191:in `each_counter_cached_associations'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/counter_cache.rb:168:in `_create_record'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/locking/optimistic.rb:84:in `_create_record'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/dirty.rb:222:in `_create_record'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/callbacks.rb:459:in `block in _create_record'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/callbacks.rb:107:in `run_callbacks'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/callbacks.rb:929:in `_run_create_callbacks'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/callbacks.rb:459:in `_create_record'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/timestamp.rb:108:in `_create_record'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/persistence.rb:1069:in `create_or_update'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/callbacks.rb:455:in `block in create_or_update'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/callbacks.rb:118:in `block in run_callbacks'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/autosave_association.rb:370:in `around_save_collection_association'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/callbacks.rb:127:in `block in run_callbacks'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/callbacks.rb:138:in `run_callbacks'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/callbacks.rb:929:in `_run_save_callbacks'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/callbacks.rb:455:in `create_or_update'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/timestamp.rb:126:in `create_or_update'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/persistence.rb:615:in `save'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/validations.rb:47:in `save'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/transactions.rb:298:in `block in save'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/transactions.rb:354:in `block in with_transaction_returning_status'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/transaction.rb:319:in `block in within_new_transaction'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/transaction.rb:317:in `within_new_transaction'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in `transaction'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/transactions.rb:350:in `with_transaction_returning_status'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/transactions.rb:298:in `save'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/suppressor.rb:50:in `save'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/persistence.rb:38:in `create'\n/home/runner/work/human-essentials/human-essentials/app/controllers/admin/barcode_items_controller.rb:28:in `create'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/abstract_controller/base.rb:215:in `process_action'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_controller/metal/rendering.rb:165:in `process_action'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/abstract_controller/callbacks.rb:234:in `block in process_action'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/callbacks.rb:118:in `block in run_callbacks'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actiontext-7.0.8/lib/action_text/rendering.rb:20:in `with_renderer'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actiontext-7.0.8/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/callbacks.rb:127:in `instance_exec'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/callbacks.rb:127:in `block in run_callbacks'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/callbacks.rb:138:in `run_callbacks'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/abstract_controller/callbacks.rb:233:in `process_action'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_controller/metal/rescue.rb:23:in `process_action'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:206:in `block in instrument'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/notifications/instrumenter.rb:24:in `instrument'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:206:in `instrument'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_controller/metal/instrumentation.rb:66:in `process_action'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/railties/controller_runtime.rb:27:in `process_action'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/abstract_controller/base.rb:151:in `process'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionview-7.0.8/lib/action_view/rendering.rb:39:in `process'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_controller/metal.rb:188:in `dispatch'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_controller/metal.rb:251:in `dispatch'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/routing/route_set.rb:32:in `serve'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/journey/router.rb:50:in `block in serve'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/journey/router.rb:32:in `each'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/journey/router.rb:32:in `serve'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/routing/route_set.rb:852:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/flipper-1.2.2/lib/flipper/middleware/memoizer.rb:87:in `memoized_call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/flipper-1.2.2/lib/flipper/middleware/memoizer.rb:45:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/omniauth-2.1.2/lib/omniauth/strategy.rb:202:in `call!'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/omniauth-2.1.2/lib/omniauth/strategy.rb:169:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/tempfile_reaper.rb:15:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/etag.rb:27:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/conditional_get.rb:40:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/head.rb:12:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/http/permissions_policy.rb:38:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/http/content_security_policy.rb:36:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/session/abstract/id.rb:266:in `context'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/session/abstract/id.rb:260:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/cookies.rb:704:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/callbacks.rb:99:in `run_callbacks'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/callbacks.rb:26:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/bugsnag-6.26.3/lib/bugsnag/integrations/rack.rb:51:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/railties-7.0.8/lib/rails/rack/logger.rb:40:in `call_app'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/railties-7.0.8/lib/rails/rack/logger.rb:25:in `block in call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/tagged_logging.rb:99:in `block in tagged'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/tagged_logging.rb:37:in `tagged'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/tagged_logging.rb:99:in `tagged'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/railties-7.0.8/lib/rails/rack/logger.rb:25:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/request_store-1.5.1/lib/request_store/middleware.rb:19:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/request_id.rb:26:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/method_override.rb:24:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/runtime.rb:22:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/executor.rb:14:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/static.rb:23:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/sendfile.rb:110:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/host_authorization.rb:131:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/railties-7.0.8/lib/rails/engine.rb:530:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/urlmap.rb:74:in `block in call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/urlmap.rb:58:in `each'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/urlmap.rb:58:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/builder.rb:244:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/puma-6.4.2/lib/puma/configuration.rb:272:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/puma-6.4.2/lib/puma/request.rb:100:in `block in handle_request'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/puma-6.4.2/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/puma-6.4.2/lib/puma/request.rb:99:in `handle_request'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/puma-6.4.2/lib/puma/server.rb:464:in `process_client'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/puma-6.4.2/lib/puma/server.rb:245:in `block in run'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/puma-6.4.2/lib/puma/thread_pool.rb:155:in `block in spawn_thread'"
2024-03-07T01:33:50.0445834Z      #   ./spec/system/admin/barcode_items_system_spec.rb:55:in `block (4 levels) in <top (required)>'
2024-03-07T01:33:50.0446853Z 
2024-03-07T01:33:50.0447755Z Finished in 1 minute 40.68 seconds (files took 8.39 seconds to load)
2024-03-07T01:33:50.0448828Z 155 examples, 9 failures
2024-03-07T01:33:50.0449194Z 
2024-03-07T01:33:50.0449448Z Failed examples:
2024-03-07T01:33:50.0449786Z 
2024-03-07T01:33:50.0451166Z rspec ./spec/system/admin/base_items_system_spec.rb:123 # Base Item Admin While signed in as an Administrative User with no organization (super admin no org) can view a single Base Item
2024-03-07T01:33:50.0454952Z rspec ./spec/system/admin/base_items_system_spec.rb:59 # Base Item Admin While signed in as an Administrative User (super admin) can view a single Base Item
2024-03-07T01:33:50.0457568Z rspec ./spec/system/barcode_item_system_spec.rb:14 # Barcode management While viewing the barcode items index page should only show the barcodes created within the organization
2024-03-07T01:33:50.0460246Z rspec ./spec/system/admin/barcode_items_system_spec.rb:88 # Barcode Items Admin while signed in as a super admin user visits the show page shows the barcode item
2024-03-07T01:33:50.0462937Z rspec ./spec/system/admin/barcode_items_system_spec.rb:69 # Barcode Items Admin while signed in as a super admin user visits the edit page updates the barcode item
2024-03-07T01:33:50.0465602Z rspec ./spec/system/admin/barcode_items_system_spec.rb:21 # Barcode Items Admin while signed in as a super admin user visits the index page deletes a global barcode
2024-03-07T01:33:50.0468283Z rspec ./spec/system/admin/barcode_items_system_spec.rb:16 # Barcode Items Admin while signed in as a super admin user visits the index page shows the barcode item
2024-03-07T01:33:50.0470985Z rspec ./spec/system/admin/barcode_items_system_spec.rb:26 # Barcode Items Admin while signed in as a super admin user visits the index page creates a new global barcode item
2024-03-07T01:33:50.0473917Z rspec ./spec/system/admin/barcode_items_system_spec.rb:48 # Barcode Items Admin while signed in as a super admin user visits the new page creates a new global barcode item
2024-03-07T01:33:50.0475535Z 
2024-03-07T01:33:50.0475789Z Randomized with seed 25406
2024-03-07T01:33:50.0476231Z 
2024-03-07T01:33:50.4656793Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-07T01:33:50.4659707Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3753 / 6473 LOC (57.98%) covered.
2024-03-07T01:33:50.5838214Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/system/partners/approval_process_spec.rb" "spec/system/item_system_spec.rb" "spec/system/profile_served_area_system_spec.rb" "spec/system/admin/base_items_system_spec.rb" "spec/system/barcode_item_system_spec.rb" "spec/system/manufacturer_system_spec.rb" "spec/system/dashboard_system_spec.rb[1:2:5:5:1:3]" "spec/system/sign_in_system_spec.rb" "spec/system/manage_system_spec.rb" "spec/system/annual_reports_system_spec.rb" "spec/requests/partners_requests_spec.rb" "spec/system/dashboard_system_spec.rb[1:2:4:8:1:1]" "spec/system/dashboard_system_spec.rb[1:2:5:2:1:3]" "spec/system/dashboard_system_spec.rb[1:2:5:8:1:3]" "spec/system/dashboard_system_spec.rb[1:2:3:4:1:1]" "spec/system/dashboard_system_spec.rb[1:2:5:3:1:1]" "spec/system/dashboard_system_spec.rb[1:2:4:7:1:1]" "spec/system/dashboard_system_spec.rb[1:2:5:5:1:1]" "spec/system/admin/barcode_items_system_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/admin_requests_spec.rb" "spec/system/question_system_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/distributions_by_county_spec.rb" "spec/requests/partners/distributions_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/attachments_requests_spec.rb" failed
2024-03-07T01:33:50.9810291Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-07T01:33:50.9811830Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10760 LOC (0.35%) covered.
2024-03-07T01:33:51.0071209Z ##[error]Process completed with exit code 1.
