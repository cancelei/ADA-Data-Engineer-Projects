2024-03-12T19:11:52.0288684Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-12T19:11:52.0289654Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-12T19:11:52.0340449Z shell: /usr/bin/bash -e {0}
2024-03-12T19:11:52.0340849Z env:
2024-03-12T19:11:52.0341139Z   POSTGRES_HOST: localhost
2024-03-12T19:11:52.0341633Z   DATABASE_HOST: localhost
2024-03-12T19:11:52.0342020Z   PG_USERNAME: postgres
2024-03-12T19:11:52.0342446Z   PG_PASSWORD: password
2024-03-12T19:11:52.0342841Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-12T19:11:52.0343208Z   POSTGRES_PORT: 5432
2024-03-12T19:11:52.0343651Z   PGHOST: localhost
2024-03-12T19:11:52.0343991Z   PGUSER: postgres
2024-03-12T19:11:52.0344327Z   RAILS_ENV: test
2024-03-12T19:11:52.0344764Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-12T19:11:52.0345192Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-12T19:11:52.0345615Z   KNAPSACK_PRO_CI_NODE_INDEX: 2
2024-03-12T19:11:52.0346138Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-12T19:11:52.0346744Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-12T19:11:52.0347392Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-12T19:11:52.0348041Z ##[endgroup]
2024-03-12T19:11:57.7264337Z W, [2024-03-12T19:11:57.726050 #2388]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-12T19:11:57.7266139Z W, [2024-03-12T19:11:57.726112 #2388]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T19:11:57.7268322Z W, [2024-03-12T19:11:57.726130 #2388]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T19:11:57.7272696Z W, [2024-03-12T19:11:57.726157 #2388]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-12T19:12:00.4328904Z W, [2024-03-12T19:12:00.432544 #2388]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-12T19:12:00.4332151Z W, [2024-03-12T19:12:00.432590 #2388]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T19:12:00.4336209Z W, [2024-03-12T19:12:00.432608 #2388]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T19:12:00.4340865Z W, [2024-03-12T19:12:00.432653 #2388]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-12T19:12:00.4394206Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-03-12T19:12:08.8931975Z 
2024-03-12T19:12:08.8932901Z Randomized with seed 144
2024-03-12T19:12:09.8412346Z 
2024-03-12T19:12:09.8413140Z Admin Organization Management
2024-03-12T19:12:09.8414547Z   While signed in as an Administrative User (super admin)
2024-03-12T19:12:16.8609833Z     creates a new organization
2024-03-12T19:12:17.9365610Z     filters by organizations by name in organizations index page
2024-03-12T19:12:19.2610669Z     can view organization details
2024-03-12T19:12:19.2611718Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-12T19:12:21.1316909Z     creates a new organization
2024-03-12T19:12:21.1317851Z 
2024-03-12T19:12:21.1318426Z User account management
2024-03-12T19:12:21.1319621Z   when not in staging
2024-03-12T19:12:21.9283234Z     should fail when the email is invalid
2024-03-12T19:12:22.9871567Z     should change an user name
2024-03-12T19:12:23.8857138Z     should change the email
2024-03-12T19:12:23.8857871Z   when in staging
2024-03-12T19:12:24.3554037Z     should not allow the user to change staging credentials
2024-03-12T19:12:24.9546368Z     should display staging warning
2024-03-12T19:12:24.9547285Z 
2024-03-12T19:12:24.9547658Z Managing requests
2024-03-12T19:12:24.9549269Z   creating a new quantity request
2024-03-12T19:12:24.9550470Z     GIVEN a partner user is permitted to make a request
2024-03-12T19:12:24.9551709Z       WHEN a request is built using add and remove buttons
2024-03-12T19:12:24.9552821Z         THEN a request records will be created
2024-03-12T19:12:26.9213729Z           creates the correct request
2024-03-12T19:12:26.9214961Z   creating a # individuals request
2024-03-12T19:12:26.9216263Z     GIVEN a partner user is permitted to make a request
2024-03-12T19:12:26.9217622Z       WHEN a request is built using add and remove buttons
2024-03-12T19:12:26.9218680Z         THEN a request records will be created
2024-03-12T19:12:28.7159933Z           creates the correct request
2024-03-12T19:12:28.7161531Z 
2024-03-12T19:12:28.7162000Z Profiles
2024-03-12T19:12:28.7163522Z   GET #edit
2024-03-12T19:12:28.8185332Z     returns http success
2024-03-12T19:12:28.8185924Z   POST #update
2024-03-12T19:12:28.8186722Z     successful save
2024-03-12T19:12:28.8712607Z       redirects to #show
2024-03-12T19:12:28.9174905Z       update partner
2024-03-12T19:12:28.9176015Z     when updating an existing value to a blank value
2024-03-12T19:12:28.9612525Z       update partner
2024-03-12T19:12:29.0043603Z       should have blank values
2024-03-12T19:12:29.0047421Z 
2024-03-12T19:12:29.0047808Z Dashboard
2024-03-12T19:12:29.0049411Z   With an existing essentials bank
2024-03-12T19:12:29.0050820Z     Distributions
2024-03-12T19:12:29.9396755Z       has a link to create a new distribution
2024-03-12T19:12:29.9398516Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 3 during 2000-01-01..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:12:29.9399714Z         filtering to 'All Time'
2024-03-12T19:12:31.3588112Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T19:12:31.3590451Z       given 1 Distribution on 2024-03-11  (unless 'All Time'), 3 during 2024-03-12..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:12:31.3591916Z         filtering to 'Today'
2024-03-12T19:12:32.7822253Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T19:12:32.7824231Z       given 1 Distribution on 2024-03-10  (unless 'All Time'), 2 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T19:12:32.7825753Z         filtering to 'Yesterday'
2024-03-12T19:12:34.2134742Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-12T19:12:34.2136941Z       given 1 Distribution on 2022-03-11  (unless 'All Time'), 0 during 2022-03-12..2024-01-18, and 1 on 2024-01-19
2024-03-12T19:12:34.2138512Z         filtering to '' (March 12, 2022 - January 18, 2024)
2024-03-12T19:12:37.5875861Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-12T19:12:37.5878026Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T19:12:37.5879806Z         filtering to 'Last Month'
2024-03-12T19:12:40.9523256Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-12T19:12:40.9525367Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T19:12:40.9526585Z         filtering to 'This Year'
2024-03-12T19:12:42.3761636Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-12T19:12:42.3763530Z       given 1 Distribution on 2024-03-05  (unless 'All Time'), 0 during 2024-03-06..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:12:42.3764810Z         filtering to 'Last 7 Days'
2024-03-12T19:12:45.8171548Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-12T19:12:45.8173795Z       given 1 Distribution on 2024-02-29  (unless 'All Time'), 1 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T19:12:45.8174970Z         filtering to 'This Month'
2024-03-12T19:12:47.2327740Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-12T19:12:47.2329899Z       given 1 Distribution on 2024-02-11  (unless 'All Time'), 1 during 2024-02-12..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:12:47.2331165Z         filtering to 'Last 30 Days'
2024-03-12T19:12:48.6138320Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-12T19:12:48.6139543Z     Manufacturer Donations
2024-03-12T19:12:49.1908985Z       has a link to create a new donation
2024-03-12T19:12:49.1911284Z       given 1 Manufacturer donating on 2024-03-11  (unless 'All Time'), 7 during 2024-03-12..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:12:49.1912795Z         filtering to 'Today'
2024-03-12T19:12:51.1984824Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-03-12T19:12:51.1987021Z       given 1 Manufacturer donating on 2024-02-11  (unless 'All Time'), 3 during 2024-02-12..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:12:51.1988605Z         filtering to 'Last 30 Days'
2024-03-12T19:12:52.6853503Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-12T19:12:52.6855495Z       given 1 Manufacturer donating on 2024-02-29  (unless 'All Time'), 9 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T19:12:52.6857085Z         filtering to 'This Month'
2024-03-12T19:12:55.2533434Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-12T19:12:55.2535652Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 6 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T19:12:55.2537016Z         filtering to 'This Year'
2024-03-12T19:12:57.0866082Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-03-12T19:12:57.0868272Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T19:12:57.0869363Z         filtering to 'Last Month'
2024-03-12T19:12:58.6855415Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-12T19:12:58.6857270Z       given 1 Manufacturer donating on 2024-03-05  (unless 'All Time'), 9 during 2024-03-06..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:12:58.6858487Z         filtering to 'Last 7 Days'
2024-03-12T19:13:00.6530249Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-12T19:13:00.6532918Z       given 1 Manufacturer donating on 2022-03-11  (unless 'All Time'), 4 during 2022-03-12..2023-12-01, and 1 on 2023-12-02
2024-03-12T19:13:00.6534712Z         filtering to '' (March 12, 2022 - December 1, 2023)
2024-03-12T19:13:02.4110918Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-03-12T19:13:02.4113029Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 0 during 2000-01-01..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:13:02.4115033Z         filtering to 'All Time'
2024-03-12T19:13:03.7515704Z           shows the correct total and 1 Top Manufacturer Donation link(s)
2024-03-12T19:13:03.7518451Z       given 1 Manufacturer donating on 2024-03-10  (unless 'All Time'), 7 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T19:13:03.7520390Z         filtering to 'Yesterday'
2024-03-12T19:13:05.8554017Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-03-12T19:13:05.8555330Z     Signage
2024-03-12T19:13:08.7460571Z       shows their organization name unless they have a logo set
2024-03-12T19:13:08.7461875Z     Inventory Totals
2024-03-12T19:13:08.7462595Z       Summary
2024-03-12T19:13:09.4468965Z         displays the on-hand totals
2024-03-12T19:13:09.4470082Z         when constrained to date range
2024-03-12T19:13:10.4778087Z           does not change
2024-03-12T19:13:10.4779160Z     Purchases
2024-03-12T19:13:11.3716893Z       has a link to create a new purchase
2024-03-12T19:13:11.3718698Z       given 1 Purchase on 2024-02-11  (unless 'All Time'), 2 during 2024-02-12..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:13:11.3719850Z         filtering to 'Last 30 Days'
2024-03-12T19:13:12.7351967Z           shows correct 2 Recent Purchase link(s)
2024-03-12T19:13:12.7353701Z       given 1 Purchase on 2024-03-10  (unless 'All Time'), 1 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T19:13:12.7355197Z         filtering to 'Yesterday'
2024-03-12T19:13:14.1160887Z           shows correct 1 Recent Purchase link(s)
2024-03-12T19:13:14.1163240Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T19:13:14.1164371Z         filtering to 'Last Month'
2024-03-12T19:13:15.4669993Z           shows correct 1 Recent Purchase link(s)
2024-03-12T19:13:15.4671779Z       given 1 Purchase on 2024-03-05  (unless 'All Time'), 2 during 2024-03-06..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:13:15.4673076Z         filtering to 'Last 7 Days'
2024-03-12T19:13:17.0355907Z           shows correct 2 Recent Purchase link(s)
2024-03-12T19:13:17.0357863Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T19:13:17.0359407Z         filtering to 'This Year'
2024-03-12T19:13:20.3341573Z           shows correct 0 Recent Purchase link(s)
2024-03-12T19:13:20.3343720Z       given 1 Purchase on 2024-03-11  (unless 'All Time'), 1 during 2024-03-12..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:13:20.3345253Z         filtering to 'Today'
2024-03-12T19:13:21.6602738Z           shows correct 1 Recent Purchase link(s)
2024-03-12T19:13:21.6604776Z       given 1 Purchase on 2022-03-11  (unless 'All Time'), 2 during 2022-03-12..2023-09-15, and 1 on 2023-09-16
2024-03-12T19:13:21.6606780Z         filtering to '' (March 12, 2022 - September 15, 2023)
2024-03-12T19:13:23.0701429Z           shows correct 2 Recent Purchase link(s)
2024-03-12T19:13:23.0703280Z       given 1 Purchase on 2024-02-29  (unless 'All Time'), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T19:13:23.0704786Z         filtering to 'This Month'
2024-03-12T19:13:24.4510065Z           shows correct 2 Recent Purchase link(s)
2024-03-12T19:13:24.4511528Z     Product Drives
2024-03-12T19:13:25.0168106Z       has a widget for product drive summary data
2024-03-12T19:13:25.0169286Z       Product drive behaviour with Mixed Donation types
2024-03-12T19:13:25.7024656Z         only counts product drive money raised
2024-03-12T19:13:26.3738002Z         only counts product drive donations for product drive
2024-03-12T19:13:27.0562399Z         only shows product drive donations as product drive donations
2024-03-12T19:13:27.0564583Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T19:13:28.4363310Z         filtering to 'This Year'
2024-03-12T19:13:28.4364438Z           shows the correct total donations
2024-03-12T19:13:29.8149602Z           shows the correct total money raised
2024-03-12T19:13:31.1696820Z           shows 2 Recent Donation link(s)
2024-03-12T19:13:31.1698579Z       given 1 Product Drive Donation on 2024-03-11 (unless 'All Time'), 1 during 2024-03-12..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:13:31.1699815Z         filtering to 'Today'
2024-03-12T19:13:32.5210373Z           shows the correct total money raised
2024-03-12T19:13:33.8627278Z           shows 1 Recent Donation link(s)
2024-03-12T19:13:35.2095408Z           shows the correct total donations
2024-03-12T19:13:35.2097418Z       given 1 Product Drive Donation on 2024-03-05 (unless 'All Time'), 3 during 2024-03-06..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:13:35.2098837Z         filtering to 'Last 7 Days'
2024-03-12T19:13:36.6058288Z           shows the correct total donations
2024-03-12T19:13:38.0150551Z           shows 3 Recent Donation link(s)
2024-03-12T19:13:39.4465459Z           shows the correct total money raised
2024-03-12T19:13:39.4467374Z       given 1 Product Drive Donation on 2024-02-11 (unless 'All Time'), 1 during 2024-02-12..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:13:39.4469185Z         filtering to 'Last 30 Days'
2024-03-12T19:13:40.9692957Z           shows the correct total money raised
2024-03-12T19:13:42.3381295Z           shows the correct total donations
2024-03-12T19:13:43.7019346Z           shows 1 Recent Donation link(s)
2024-03-12T19:13:43.7021521Z       given 1 Product Drive Donation on 2024-03-10 (unless 'All Time'), 1 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T19:13:43.7023263Z         filtering to 'Yesterday'
2024-03-12T19:13:45.0490124Z           shows the correct total donations
2024-03-12T19:13:46.3983922Z           shows the correct total money raised
2024-03-12T19:13:47.7454647Z           shows 1 Recent Donation link(s)
2024-03-12T19:13:47.7456537Z       given 1 Product Drive Donation on 2024-02-29 (unless 'All Time'), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T19:13:47.7457883Z         filtering to 'This Month'
2024-03-12T19:13:49.1460317Z           shows 2 Recent Donation link(s)
2024-03-12T19:13:50.5063479Z           shows the correct total money raised
2024-03-12T19:13:51.8660953Z           shows the correct total donations
2024-03-12T19:13:51.8662478Z       given 1 Product Drive Donation on 2022-03-11 (unless 'All Time'), 3 during 2022-03-12..2024-01-30, and 1 on 2024-01-31
2024-03-12T19:13:51.8663495Z         filtering to '' (March 12, 2022 - January 30, 2024)
2024-03-12T19:13:53.2914128Z           shows 3 Recent Donation link(s)
2024-03-12T19:13:54.6619750Z           shows the correct total money raised
2024-03-12T19:13:56.0783399Z           shows the correct total donations
2024-03-12T19:13:56.0785297Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T19:13:56.0789009Z         filtering to 'Last Month'
2024-03-12T19:13:57.6359702Z           shows the correct total money raised
2024-03-12T19:13:59.0383916Z           shows 3 Recent Donation link(s)
2024-03-12T19:14:00.4420383Z           shows the correct total donations
2024-03-12T19:14:00.4421499Z     Donations
2024-03-12T19:14:01.3342925Z       has a link to create a new donation
2024-03-12T19:14:01.3344739Z       given 1 Donation on 2024-03-05 (only if a valid date), 1 during 2024-03-06..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:14:01.3346139Z         filtering to 'Last 7 Days'
2024-03-12T19:14:02.6742370Z           shows the correct total and 1 Recent Donation link(s)
2024-03-12T19:14:02.6744167Z       given 1 Donation on 2024-02-11 (only if a valid date), 1 during 2024-02-12..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:14:02.6745593Z         filtering to 'Last 30 Days'
2024-03-12T19:14:04.0846461Z           shows the correct total and 1 Recent Donation link(s)
2024-03-12T19:14:04.0848090Z       given 1 Donation on 2023-12-31 (only if a valid date), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T19:14:04.0850514Z         filtering to 'This Year'
2024-03-12T19:14:05.5124410Z           shows the correct total and 2 Recent Donation link(s)
2024-03-12T19:14:05.5126709Z       given 1 Donation on 2024-03-10 (only if a valid date), 2 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T19:14:05.5127949Z         filtering to 'Yesterday'
2024-03-12T19:14:06.9360796Z           shows the correct total and 2 Recent Donation link(s)
2024-03-12T19:14:06.9362837Z       given 1 Donation on 2024-01-31 (only if a valid date), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T19:14:06.9364463Z         filtering to 'Last Month'
2024-03-12T19:14:10.3355852Z           shows the correct total and 0 Recent Donation link(s)
2024-03-12T19:14:10.3357772Z       given 1 Donation on 2024-02-29 (only if a valid date), 4 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T19:14:10.3359076Z         filtering to 'This Month'
2024-03-12T19:14:11.7788856Z           shows the correct total and 3 Recent Donation link(s)
2024-03-12T19:14:11.7791056Z       given 1 Donation on 2024-03-11 (only if a valid date), 1 during 2024-03-12..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:14:11.7792566Z         filtering to 'Today'
2024-03-12T19:14:13.1040807Z           shows the correct total and 1 Recent Donation link(s)
2024-03-12T19:14:13.1042869Z       given 1 Donation on 2022-03-11 (only if a valid date), 2 during 2022-03-12..2023-12-11, and 1 on 2023-12-12
2024-03-12T19:14:13.1044474Z         filtering to '' (March 12, 2022 - December 11, 2023)
2024-03-12T19:14:14.4754395Z           shows the correct total and 2 Recent Donation link(s)
2024-03-12T19:14:14.4755665Z   With a new essentials bank
2024-03-12T19:14:42.4267609Z     displays the getting started guide until the steps are completed
2024-03-12T19:14:42.4268415Z 
2024-03-12T19:14:42.4268706Z /partners/profiles
2024-03-12T19:14:42.4270082Z   GET #edit
2024-03-12T19:14:42.5221022Z     has "No" radio button value when value is false
2024-03-12T19:14:42.6045487Z     has "Yes" radio button value when value is true
2024-03-12T19:14:42.6840640Z     displays the partner
2024-03-12T19:14:42.7769582Z     does not have default radio button value when value is nil
2024-03-12T19:14:42.7770588Z   GET #show
2024-03-12T19:14:42.8366256Z     shows correct values for yes/no buttons
2024-03-12T19:14:42.8861087Z     displays the partner
2024-03-12T19:14:42.8861769Z   PUT #update
2024-03-12T19:14:42.9394330Z     updates the partner and profile
2024-03-12T19:14:42.9395228Z     when updating an existing value to a blank value
2024-03-12T19:14:42.9897749Z       does not update other partner profile attributes to blank
2024-03-12T19:14:43.0403588Z       does store N/A in the database
2024-03-12T19:14:43.0906357Z       updates the partner profile attribute to a blank value
2024-03-12T19:14:43.0907599Z     with no social media
2024-03-12T19:14:43.1806109Z       shows an error
2024-03-12T19:14:43.1806805Z 
2024-03-12T19:14:43.1807597Z Purchases
2024-03-12T19:14:43.1808746Z   while signed in as a normal user
2024-03-12T19:14:43.1809680Z     When visiting the index page
2024-03-12T19:14:43.1810787Z       When filtering on the index page
2024-03-12T19:14:44.0217258Z         User can filter the #index by storage location
2024-03-12T19:14:44.8099424Z         User can filter the #index by vendor
2024-03-12T19:14:44.8100434Z         behaves like Date Range Picker
2024-03-12T19:14:44.8101779Z           when choosing 'Last Month'
2024-03-12T19:14:45.7819530Z             shows only 2 of the records
2024-03-12T19:14:45.7820615Z           when choosing 'All Time'
2024-03-12T19:14:46.7419678Z             shows all the records
2024-03-12T19:14:46.7420918Z           when choosing a date range that only includes the previous week
2024-03-12T19:14:47.6653256Z             shows only 1 record
2024-03-12T19:14:47.6654342Z       In the middle of the year
2024-03-12T19:14:48.4630101Z         User can click to the new purchase form
2024-03-12T19:14:49.1988656Z         User sees purchased date column
2024-03-12T19:14:49.9889786Z         User sees total purchases value
2024-03-12T19:14:49.9891475Z     When visiting an existing purchase
2024-03-12T19:14:50.4611407Z       does not allow deletion of a purchase
2024-03-12T19:14:50.4612307Z     When creating a new purchase
2024-03-12T19:14:50.9367040Z       should not display inactive storage locations in dropdown
2024-03-12T19:14:50.9368179Z       via manual entry
2024-03-12T19:14:53.6092119Z         multiple line items for the same item type are accepted and combined on the backend (FAILED - 1)
2024-03-12T19:14:53.6094939Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_multiple-line-items-for-the-same-item-type-are-accepted-and-combined-on-the-backend_2024-03-12-12-14-53.475.html[0m
2024-03-12T19:14:53.6098546Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_multiple-line-items-for-the-same-item-type-are-accepted-and-combined-on-the-backend_2024-03-12-12-14-53.475.png[0m
2024-03-12T19:14:54.6554174Z         User can create vendor from purchase
2024-03-12T19:14:55.7246743Z         User can create a purchase IN THE PAST
2024-03-12T19:14:56.5986302Z         User can create a purchase using dollars decimal amount
2024-03-12T19:14:57.6131765Z         Does not include inactive items in the line item fields
2024-03-12T19:14:57.6132784Z         when creating a purchase incorrectly
2024-03-12T19:14:58.4270916Z           should display failure with error messages
2024-03-12T19:14:59.4028155Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-03-12T19:14:59.4031085Z       via barcode entry
2024-03-12T19:15:00.2600063Z         a user can add items via scanning them in by barcode (FAILED - 2)
2024-03-12T19:15:00.2602424Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_a-user-can-add-items-via-scanning-them-in-by-barcode_2024-03-12-12-15-00.126.html[0m
2024-03-12T19:15:00.2606543Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_a-user-can-add-items-via-scanning-them-in-by-barcode_2024-03-12-12-15-00.126.png[0m
2024-03-12T19:15:01.4832660Z         a user can add items that do not yet have a barcode
2024-03-12T19:15:02.3636151Z         User scan same barcode 2 times (FAILED - 3)
2024-03-12T19:15:02.3638342Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-scan-same-barcode-2-times_2024-03-12-12-15-02.226.html[0m
2024-03-12T19:15:02.3641194Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-scan-same-barcode-2-times_2024-03-12-12-15-02.226.png[0m
2024-03-12T19:15:02.3642835Z       Editing purchase
2024-03-12T19:15:02.8874395Z         A user can see purchased_from value
2024-03-12T19:15:03.5181039Z         A user can view another organizations purchase
2024-03-12T19:15:03.5182077Z   while signed in as an organization admin
2024-03-12T19:15:04.3737118Z     allows deletion of a purchase
2024-03-12T19:15:04.3738013Z 
2024-03-12T19:15:04.3738332Z BroadcastAnnouncements
2024-03-12T19:15:04.3740790Z   GET /edit
2024-03-12T19:15:04.4160333Z     render a successful response
2024-03-12T19:15:04.4161132Z   POST /create
2024-03-12T19:15:04.4161800Z     with valid parameters
2024-03-12T19:15:04.4321815Z       creates a new BroadcastAnnouncement then redirects
2024-03-12T19:15:04.4322865Z     with invalid parameters
2024-03-12T19:15:04.4625201Z       does not create a new BroadcastAnnouncement
2024-03-12T19:15:04.4917550Z       does not render a successful response
2024-03-12T19:15:04.4918544Z   GET /index
2024-03-12T19:15:04.5236252Z     renders a successful response
2024-03-12T19:15:04.5237186Z   GET /new
2024-03-12T19:15:04.5497951Z     renders a successful response
2024-03-12T19:15:04.5499040Z   DELETE /destroy
2024-03-12T19:15:04.5656691Z     destroys the requested announcement then redirects
2024-03-12T19:15:04.5657851Z   PATCH /update
2024-03-12T19:15:04.5658463Z     with valid parameters
2024-03-12T19:15:04.5833475Z       updates the requested announcement and redirects
2024-03-12T19:15:04.5834427Z     with invalid parameters
2024-03-12T19:15:04.6141144Z       does not render a successful response
2024-03-12T19:15:04.6141968Z 
2024-03-12T19:15:04.6142518Z Admin::AccountRequestsController
2024-03-12T19:15:04.6143630Z   while signed in as a super admin
2024-03-12T19:15:04.6144596Z     POST #reject
2024-03-12T19:15:04.6447016Z       should redirect back on success
2024-03-12T19:15:04.6448069Z     GET #index
2024-03-12T19:15:04.6782161Z       returns success
2024-03-12T19:15:04.6782988Z     GET #for_rejection
2024-03-12T19:15:04.6783923Z       with an invalid token
2024-03-12T19:15:04.7067660Z         should show a not found message
2024-03-12T19:15:04.7068844Z       with a valid token
2024-03-12T19:15:04.7496995Z         should show the request
2024-03-12T19:15:04.7498952Z 
2024-03-12T19:15:04.7499322Z StorageLocations
2024-03-12T19:15:04.7500977Z   While signed in
2024-03-12T19:15:04.7503153Z     POST #import_csv
2024-03-12T19:15:04.7504459Z       csv file with wrong headers
2024-03-12T19:15:04.7646667Z         redirects
2024-03-12T19:15:04.7773807Z         presents a flash error message
2024-03-12T19:15:04.7774576Z       with a csv file
2024-03-12T19:15:04.7929664Z         presents a flash notice message
2024-03-12T19:15:04.8075637Z         redirects
2024-03-12T19:15:04.8127410Z         invokes .import_csv
2024-03-12T19:15:04.8128470Z       without a csv file
2024-03-12T19:15:04.8243146Z         redirects to :index
2024-03-12T19:15:04.8354584Z         presents a flash error message
2024-03-12T19:15:04.8355549Z     GET #new
2024-03-12T19:15:04.9932588Z       returns http success
2024-03-12T19:15:04.9933447Z     GET #inventory
2024-03-12T19:15:04.9934162Z       without any overrides
2024-03-12T19:15:05.0450636Z         returns a collection that only includes items at the storage location
2024-03-12T19:15:05.0451824Z       when also including inactive items
2024-03-12T19:15:05.1094884Z         returns a collection that also includes items that have been deactivated
2024-03-12T19:15:05.1095927Z       when also including omitted items
2024-03-12T19:15:05.1607331Z         returns a collection that also includes all items, but with zeroed quantities
2024-03-12T19:15:05.2091985Z         contains a collection of ducktyped entries that respond the same
2024-03-12T19:15:05.2093591Z     PUT #reactivate
2024-03-12T19:15:05.2267252Z       undiscards
2024-03-12T19:15:05.2268111Z     Looking at a different organization
2024-03-12T19:15:05.4012412Z       redirects the user to the sign-in page for CRUD actions
2024-03-12T19:15:05.4013378Z     GET #destroy
2024-03-12T19:15:05.4293602Z       redirects to #index
2024-03-12T19:15:05.4294338Z     GET #show
2024-03-12T19:15:05.4295167Z       html
2024-03-12T19:15:05.4942574Z         should return a correct response
2024-03-12T19:15:05.4943704Z         with version date set
2024-03-12T19:15:05.4944743Z           with no version found
2024-03-12T19:15:05.5624589Z             should show N/A
2024-03-12T19:15:05.5625577Z           with a version found
2024-03-12T19:15:05.6367788Z             should show the version specified
2024-03-12T19:15:05.6368815Z       csv
2024-03-12T19:15:05.6796761Z         should be successful
2024-03-12T19:15:05.6797624Z     PUT #deactivate
2024-03-12T19:15:05.6967095Z       discards
2024-03-12T19:15:05.6967925Z       with inventory
2024-03-12T19:15:05.7349402Z         does not discard
2024-03-12T19:15:05.7350263Z     GET #edit
2024-03-12T19:15:05.7762460Z       returns http success
2024-03-12T19:15:05.7763256Z     GET #index
2024-03-12T19:15:05.7764122Z       csv
2024-03-12T19:15:05.7958943Z         succeeds
2024-03-12T19:15:05.8912711Z         includes headers followed by alphabetized item names
2024-03-12T19:15:05.8913715Z       html
2024-03-12T19:15:05.9277145Z         succeeds
2024-03-12T19:15:05.9277808Z         with inactive locations
2024-03-12T19:15:05.9640656Z           does not includes the inactive location
2024-03-12T19:15:05.9641600Z           with include_inactive_locations
2024-03-12T19:15:06.0029433Z             includes the inactive location
2024-03-12T19:15:06.0030576Z   While not signed in
2024-03-12T19:15:06.0092854Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T19:15:06.0093666Z 
2024-03-12T19:15:06.0093880Z Events
2024-03-12T19:15:06.0094794Z   When not signed in
2024-03-12T19:15:06.0272229Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T19:15:06.0273403Z   When signed in
2024-03-12T19:15:06.0274023Z     GET #index
2024-03-12T19:15:06.5159218Z       should be successful
2024-03-12T19:15:06.5160040Z       with date filter
2024-03-12T19:15:06.9959479Z         should not include the old donation
2024-03-12T19:15:06.9960698Z       with storage location filter
2024-03-12T19:15:07.4654766Z         should not include the other storage location
2024-03-12T19:15:07.4656049Z       with eventable_id
2024-03-12T19:15:08.0990083Z         should only show events from that eventable
2024-03-12T19:15:08.0991366Z       with item filter
2024-03-12T19:15:08.5999157Z         should not include the other item
2024-03-12T19:15:08.6000374Z       with type filter
2024-03-12T19:15:09.1066396Z         should not include the adjustment
2024-03-12T19:15:09.1067026Z 
2024-03-12T19:15:09.1067877Z /partners/dashboard
2024-03-12T19:15:09.2155812Z   displays upcoming distributions
2024-03-12T19:15:09.2156748Z   BroadcastAnnouncement card
2024-03-12T19:15:09.2690125Z     doesn't display announcements from super admins
2024-03-12T19:15:09.3216481Z     doesn't display announcements if there are not valid ones
2024-03-12T19:15:09.3754260Z     displays announcements if there are valid ones
2024-03-12T19:15:09.3755151Z   with both roles
2024-03-12T19:15:09.4432645Z     should include the switch link
2024-03-12T19:15:09.4433646Z   with just partner role
2024-03-12T19:15:09.4961514Z     should not display the switch link
2024-03-12T19:15:09.4962763Z   GET #index
2024-03-12T19:15:09.5676192Z     does not display requests in other states
2024-03-12T19:15:09.6446777Z     displays requests that are pending
2024-03-12T19:15:09.6447580Z 
2024-03-12T19:15:09.6448215Z Admin::Questions
2024-03-12T19:15:09.6449016Z   while signed in as a super admin
2024-03-12T19:15:09.6449972Z     POST #create
2024-03-12T19:15:09.6737698Z       lets the user create questions
2024-03-12T19:15:09.6738602Z     GET #edit
2024-03-12T19:15:09.7157340Z       lets the user load the edit question page
2024-03-12T19:15:09.7158527Z     GET #new
2024-03-12T19:15:09.7515907Z       lets the user load the new question page
2024-03-12T19:15:09.7516959Z     DELETE #destroy
2024-03-12T19:15:09.7753239Z       lets the user delete questions
2024-03-12T19:15:09.7754175Z     GET #index
2024-03-12T19:15:09.8065951Z       lets the user load the page
2024-03-12T19:15:09.8066694Z     PATCH #update
2024-03-12T19:15:09.8318520Z       lets the user update questions
2024-03-12T19:15:09.8319251Z 
2024-03-12T19:15:09.8319847Z Organization management
2024-03-12T19:15:09.8321179Z   while signed in as an organization admin
2024-03-12T19:15:10.8258123Z     can deactivate a user in the organization
2024-03-12T19:15:11.3516206Z     can re-invite a user to an organization after 7 days
2024-03-12T19:15:11.8638191Z     can see 'Make user' button for admins
2024-03-12T19:15:12.8453363Z     can add a new user to an organization
2024-03-12T19:15:13.8005363Z     can re-activate a user in the organization
2024-03-12T19:15:13.8006530Z     Editing the organization
2024-03-12T19:15:14.7879314Z       can enable if the org uses single step invite and approve partner process
2024-03-12T19:15:16.2244998Z       can select and deselect Required Partner Fields
2024-03-12T19:15:17.2215421Z       can select if the org distributes essentials monthly
2024-03-12T19:15:18.0741025Z       can set the NDBN Member ID
2024-03-12T19:15:19.0600803Z       can disable if the org does NOT use single step invite and approve partner process
2024-03-12T19:15:19.9270440Z       can set a default storage location on the organization
2024-03-12T19:15:20.8335811Z       can set a reminder and a deadline day
2024-03-12T19:15:21.8828776Z       can select if the org repackages essentials
2024-03-12T19:15:23.0760742Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-03-12T19:15:24.0665023Z       can select if the org shows year-to-date values on the distribution printout
2024-03-12T19:15:24.0666494Z     Viewing the organization
2024-03-12T19:15:24.6293289Z       can view organization details
2024-03-12T19:15:24.6294232Z   while signed in as a normal user
2024-03-12T19:15:25.0947405Z     can see summary details about the organization as a user
2024-03-12T19:15:25.5802358Z     cannot see 'Make user' button for admins
2024-03-12T19:15:25.5803011Z 
2024-03-12T19:15:25.5803453Z Kit management
2024-03-12T19:15:26.1659579Z   should not display inactive storage locations under allocations
2024-03-12T19:15:27.6099123Z   can allocate and deallocate quantity per storage location from kit index
2024-03-12T19:15:28.4982620Z   can create a new kit as a user with the proper quantity
2024-03-12T19:15:28.4983610Z   when there is no kit quantity
2024-03-12T19:15:29.6227885Z     will not change quantity amounts when deallocating
2024-03-12T19:15:29.6228972Z   when there is not enough quantity of the items contained in the kit on-hand
2024-03-12T19:15:30.7317793Z     will not change quantity amounts when allocating
2024-03-12T19:15:30.7318527Z 
2024-03-12T19:15:30.7318729Z Vendor
2024-03-12T19:15:30.7320529Z   When vendor have purchases associated with them already
2024-03-12T19:15:31.3065678Z     can have existing vendors show in the #index with some summary stats
2024-03-12T19:15:31.8747186Z     can have a single vendor show semi-detailed stats about purchases
2024-03-12T19:15:31.8748355Z   when editing an existing vendor
2024-03-12T19:15:32.6103547Z     does not update a vendor with empty attributes
2024-03-12T19:15:33.3952427Z     can update the contact info for a vendor as a user
2024-03-12T19:15:33.3953455Z   When a user views the index page
2024-03-12T19:15:33.8824604Z     should have the vendor names in alphabetical order
2024-03-12T19:15:33.8825356Z   when creating a new vendor
2024-03-12T19:15:34.6153856Z     cannot add a new vendor instance with empty attributes
2024-03-12T19:15:35.4002203Z     can create a new vendor instance as a user
2024-03-12T19:15:35.4498312Z W, [2024-03-12T12:15:35.429456 #2438]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-12T19:15:35.4500313Z W, [2024-03-12T12:15:35.429508 #2438]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T19:15:35.4502609Z W, [2024-03-12T12:15:35.429533 #2438]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T19:15:35.4508253Z W, [2024-03-12T12:15:35.429563 #2438]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-12T19:15:35.4705036Z 
2024-03-12T19:15:35.4706270Z Failures:
2024-03-12T19:15:35.4706518Z 
2024-03-12T19:15:35.4711308Z   1) Purchases while signed in as a normal user When creating a new purchase via manual entry multiple line items for the same item type are accepted and combined on the backend
2024-03-12T19:15:35.4714323Z      Failure/Error: page.find(:css, "#__add_line_item").click
2024-03-12T19:15:35.4715153Z 
2024-03-12T19:15:35.4715478Z      Capybara::ElementNotFound:
2024-03-12T19:15:35.4716351Z        Unable to find css "#__add_line_item"
2024-03-12T19:15:35.4719314Z 
2024-03-12T19:15:35.4722815Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/capybara/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_manual_entry_multiple_line_items_for_the_same_item_type_are_accepted_and_combined_on_the_backend_782.png
2024-03-12T19:15:35.4724493Z 
2024-03-12T19:15:35.4724499Z 
2024-03-12T19:15:35.4724817Z      # ./spec/system/purchase_system_spec.rb:172:in `block (5 levels) in <top (required)>'
2024-03-12T19:15:35.4725490Z 
2024-03-12T19:15:35.4726065Z   2) Purchases while signed in as a normal user When creating a new purchase via barcode entry a user can add items via scanning them in by barcode
2024-03-12T19:15:35.4728661Z      Failure/Error: qty = page.find(:xpath, '//input[@id="purchase_line_items_attributes_0_quantity"]').value
2024-03-12T19:15:35.4729553Z 
2024-03-12T19:15:35.4729768Z      Ferrum::JavaScriptError:
2024-03-12T19:15:35.4730262Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T19:15:35.4731470Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:35615/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T19:15:35.4732522Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T19:15:35.4733241Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T19:15:35.4739339Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T19:15:35.4740633Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T19:15:35.4741460Z 
2024-03-12T19:15:35.4743702Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_barcode_entry_a_user_can_add_items_via_scanning_them_in_by_barcode_428.png
2024-03-12T19:15:35.4745834Z 
2024-03-12T19:15:35.4745848Z 
2024-03-12T19:15:35.4746379Z      # ./spec/system/purchase_system_spec.rb:235:in `block (5 levels) in <top (required)>'
2024-03-12T19:15:35.4747127Z 
2024-03-12T19:15:35.4747929Z   3) Purchases while signed in as a normal user When creating a new purchase via barcode entry User scan same barcode 2 times
2024-03-12T19:15:35.4749245Z      Failure/Error: @__Condition__.wait @__Lock__, timeout
2024-03-12T19:15:35.4749748Z 
2024-03-12T19:15:35.4749940Z      Ferrum::JavaScriptError:
2024-03-12T19:15:35.4750913Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T19:15:35.4752936Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:35615/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T19:15:35.4754676Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T19:15:35.4755393Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T19:15:35.4756093Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T19:15:35.4756770Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T19:15:35.4757226Z 
2024-03-12T19:15:35.4758431Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_barcode_entry_user_scan_same_barcode_2_times_470.png
2024-03-12T19:15:35.4759658Z 
2024-03-12T19:15:35.4759663Z 
2024-03-12T19:15:35.4760626Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `sleep'
2024-03-12T19:15:35.4762726Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `wait'
2024-03-12T19:15:35.4764876Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `ns_wait'
2024-03-12T19:15:35.4767340Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:44:in `block in ns_wait_until'
2024-03-12T19:15:35.4769787Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `loop'
2024-03-12T19:15:35.4771842Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `ns_wait_until'
2024-03-12T19:15:35.4773651Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:87:in `block in wait'
2024-03-12T19:15:35.4775497Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `block in synchronize'
2024-03-12T19:15:35.4777451Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T19:15:35.4779359Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T19:15:35.4781088Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:84:in `wait'
2024-03-12T19:15:35.4782719Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:75:in `wait'
2024-03-12T19:15:35.4784402Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:99:in `value!'
2024-03-12T19:15:35.4785891Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/browser/client.rb:42:in `command'
2024-03-12T19:15:35.4787190Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/page.rb:269:in `command'
2024-03-12T19:15:35.4788515Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:109:in `block in call'
2024-03-12T19:15:35.4789895Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/utils/attempt.rb:10:in `with_retry'
2024-03-12T19:15:35.4791549Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:105:in `call'
2024-03-12T19:15:35.4792905Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:97:in `evaluate_on'
2024-03-12T19:15:35.4793938Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T19:15:35.4794691Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T19:15:35.4795823Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/browser.rb:179:in `disabled?'
2024-03-12T19:15:35.4797184Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:21:in `command'
2024-03-12T19:15:35.4798549Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:143:in `disabled?'
2024-03-12T19:15:35.4800178Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `block in disabled?'
2024-03-12T19:15:35.4801752Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/base.rb:77:in `synchronize'
2024-03-12T19:15:35.4803141Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `disabled?'
2024-03-12T19:15:35.4804667Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector.rb:431:in `block (2 levels) in <top (required)>'
2024-03-12T19:15:35.4806310Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:14:in `block in initialize'
2024-03-12T19:15:35.4807913Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `instance_exec'
2024-03-12T19:15:35.4809411Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `apply'
2024-03-12T19:15:35.4810910Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:24:in `matches?'
2024-03-12T19:15:35.4812601Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:296:in `block (2 levels) in matches_node_filters?'
2024-03-12T19:15:35.4814223Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `each'
2024-03-12T19:15:35.4815676Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `all?'
2024-03-12T19:15:35.4817281Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `block in matches_node_filters?'
2024-03-12T19:15:35.4818887Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/selector.rb:89:in `with_filter_errors'
2024-03-12T19:15:35.4820487Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:283:in `matches_node_filters?'
2024-03-12T19:15:35.4822072Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:124:in `matches_filters?'
2024-03-12T19:15:35.4823573Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/result.rb:32:in `block in initialize'
2024-03-12T19:15:35.4824916Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T19:15:35.4826067Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T19:15:35.4827230Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T19:15:35.4828376Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T19:15:35.4829038Z      # 
2024-03-12T19:15:35.4829472Z      #   Showing full backtrace because every line was filtered out.
2024-03-12T19:15:35.4830045Z      #   See docs for RSpec::Configuration#backtrace_exclusion_patterns and
2024-03-12T19:15:35.4830816Z      #   RSpec::Configuration#backtrace_inclusion_patterns for more information.
2024-03-12T19:15:35.4831419Z 
2024-03-12T19:15:35.4831653Z Finished in 3 minutes 26.5 seconds (files took 8.22 seconds to load)
2024-03-12T19:15:35.4832269Z 212 examples, 3 failures
2024-03-12T19:15:35.4832445Z 
2024-03-12T19:15:35.4832540Z Failed examples:
2024-03-12T19:15:35.4832697Z 
2024-03-12T19:15:35.4833582Z rspec ./spec/system/purchase_system_spec.rb:167 # Purchases while signed in as a normal user When creating a new purchase via manual entry multiple line items for the same item type are accepted and combined on the backend
2024-03-12T19:15:35.4835271Z rspec ./spec/system/purchase_system_spec.rb:227 # Purchases while signed in as a normal user When creating a new purchase via barcode entry a user can add items via scanning them in by barcode
2024-03-12T19:15:35.4836754Z rspec ./spec/system/purchase_system_spec.rb:240 # Purchases while signed in as a normal user When creating a new purchase via barcode entry User scan same barcode 2 times
2024-03-12T19:15:35.4837511Z 
2024-03-12T19:15:35.4837612Z Randomized with seed 144
2024-03-12T19:15:35.4837800Z 
2024-03-12T19:15:35.7716262Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T19:15:35.7719315Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3735 / 6478 LOC (57.66%) covered.
2024-03-12T19:15:35.8906509Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb" failed
2024-03-12T19:15:36.2836556Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T19:15:36.2838572Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10785 LOC (0.35%) covered.
2024-03-12T19:15:36.3105950Z ##[error]Process completed with exit code 1.
