2024-03-07T18:19:18.2803906Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-07T18:19:18.2804796Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-07T18:19:18.2858381Z shell: /usr/bin/bash -e {0}
2024-03-07T18:19:18.2858865Z env:
2024-03-07T18:19:18.2859165Z   POSTGRES_HOST: localhost
2024-03-07T18:19:18.2859484Z   DATABASE_HOST: localhost
2024-03-07T18:19:18.2859902Z   PG_USERNAME: postgres
2024-03-07T18:19:18.2860242Z   PG_PASSWORD: password
2024-03-07T18:19:18.2860611Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-07T18:19:18.2861031Z   POSTGRES_PORT: 5432
2024-03-07T18:19:18.2861322Z   PGHOST: localhost
2024-03-07T18:19:18.2861651Z   PGUSER: postgres
2024-03-07T18:19:18.2862011Z   RAILS_ENV: test
2024-03-07T18:19:18.2862342Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-07T18:19:18.2862819Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-07T18:19:18.2863158Z   KNAPSACK_PRO_CI_NODE_INDEX: 1
2024-03-07T18:19:18.2863579Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-07T18:19:18.2864161Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-07T18:19:18.2865526Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-07T18:19:18.2866136Z ##[endgroup]
2024-03-07T18:19:23.5946594Z W, [2024-03-07T18:19:23.594067 #2309]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-07T18:19:23.5948947Z W, [2024-03-07T18:19:23.594124 #2309]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-07T18:19:23.5951160Z W, [2024-03-07T18:19:23.594149 #2309]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-07T18:19:23.5955638Z W, [2024-03-07T18:19:23.594187 #2309]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-07T18:19:26.5518893Z W, [2024-03-07T18:19:26.551537 #2309]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-07T18:19:26.5521033Z W, [2024-03-07T18:19:26.551588 #2309]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-07T18:19:26.5523531Z W, [2024-03-07T18:19:26.551617 #2309]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-07T18:19:26.5526208Z W, [2024-03-07T18:19:26.551670 #2309]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-07T18:19:26.5577209Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/adjustments_requests_spec.rb" "spec/requests/admin/partners_requests_spec.rb" "spec/requests/barcode_items_requests_spec.rb" "spec/requests/donations_requests_spec.rb" "spec/requests/partners/children_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-03-07T18:19:34.7178148Z 
2024-03-07T18:19:34.7179436Z Randomized with seed 27619
2024-03-07T18:19:35.6030728Z 
2024-03-07T18:19:35.6031466Z Dashboard
2024-03-07T18:19:35.6033201Z   With a new essentials bank
2024-03-07T18:20:14.0549228Z     displays the getting started guide until the steps are completed
2024-03-07T18:20:14.0550920Z   With an existing essentials bank
2024-03-07T18:20:14.0551623Z     Donations
2024-03-07T18:20:15.1498814Z       has a link to create a new donation
2024-03-07T18:20:15.1500389Z       given 1 Donation on 2024-01-31 (only if a valid date), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-07T18:20:15.1501769Z         filtering to 'Last Month'
2024-03-07T18:20:16.6826857Z           shows the correct total and 3 Recent Donation link(s)
2024-03-07T18:20:16.6828855Z       given 1 Donation on 2024-03-06 (only if a valid date), 2 during 2024-03-07..2024-03-07, and 1 on 2024-03-08
2024-03-07T18:20:16.6830152Z         filtering to 'Today'
2024-03-07T18:20:18.0756997Z           shows the correct total and 2 Recent Donation link(s)
2024-03-07T18:20:18.0758439Z       given 1 Donation on 2024-02-29 (only if a valid date), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-07T18:20:18.0759259Z         filtering to 'This Month'
2024-03-07T18:20:19.5184784Z           shows the correct total and 2 Recent Donation link(s)
2024-03-07T18:20:19.5186590Z       given 1 Donation on 2022-03-06 (only if a valid date), 2 during 2022-03-07..2023-10-26, and 1 on 2023-10-27
2024-03-07T18:20:19.5188134Z         filtering to '' (March 7, 2022 - October 26, 2023)
2024-03-07T18:20:20.8922361Z           shows the correct total and 2 Recent Donation link(s)
2024-03-07T18:20:20.8924433Z       given 1 Donation on 2024-02-06 (only if a valid date), 0 during 2024-02-07..2024-03-07, and 1 on 2024-03-08
2024-03-07T18:20:20.8925750Z         filtering to 'Last 30 Days'
2024-03-07T18:20:24.1860725Z           shows the correct total and 0 Recent Donation link(s)
2024-03-07T18:20:24.1862551Z       given 1 Donation on 2023-12-31 (only if a valid date), 4 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-07T18:20:24.1863810Z         filtering to 'This Year'
2024-03-07T18:20:25.5896660Z           shows the correct total and 3 Recent Donation link(s)
2024-03-07T18:20:25.5898756Z       given 1 Donation on 2024-03-05 (only if a valid date), 2 during 2024-03-06..2024-03-06, and 1 on 2024-03-07
2024-03-07T18:20:25.5899838Z         filtering to 'Yesterday'
2024-03-07T18:20:26.9300019Z           shows the correct total and 2 Recent Donation link(s)
2024-03-07T18:20:26.9302024Z       given 1 Donation on 2024-02-29 (only if a valid date), 1 during 2024-03-01..2024-03-07, and 1 on 2024-03-08
2024-03-07T18:20:26.9303298Z         filtering to 'Last 7 Days'
2024-03-07T18:20:28.2807455Z           shows the correct total and 1 Recent Donation link(s)
2024-03-07T18:20:28.2808413Z     Distributions
2024-03-07T18:20:29.2047609Z       has a link to create a new distribution
2024-03-07T18:20:29.2049323Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 4 during 2000-01-01..2024-03-07, and 1 on 2024-03-08
2024-03-07T18:20:29.2050383Z         filtering to 'All Time'
2024-03-07T18:20:30.6207663Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-07T18:20:30.6209318Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-07T18:20:30.6210789Z         filtering to 'Last Month'
2024-03-07T18:20:32.0171107Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-07T18:20:32.0172995Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-07T18:20:32.0174445Z         filtering to 'This Year'
2024-03-07T18:20:35.3719507Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-07T18:20:35.3721426Z       given 1 Distribution on 2024-02-29  (unless 'All Time'), 4 during 2024-03-01..2024-03-07, and 1 on 2024-03-08
2024-03-07T18:20:35.3722266Z         filtering to 'Last 7 Days'
2024-03-07T18:20:36.8118577Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-07T18:20:36.8120423Z       given 1 Distribution on 2024-03-05  (unless 'All Time'), 1 during 2024-03-06..2024-03-06, and 1 on 2024-03-07
2024-03-07T18:20:36.8121843Z         filtering to 'Yesterday'
2024-03-07T18:20:38.1753299Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-07T18:20:38.1755369Z       given 1 Distribution on 2024-02-06  (unless 'All Time'), 1 during 2024-02-07..2024-03-07, and 1 on 2024-03-08
2024-03-07T18:20:38.1756616Z         filtering to 'Last 30 Days'
2024-03-07T18:20:39.5773864Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-07T18:20:39.5775407Z       given 1 Distribution on 2024-03-06  (unless 'All Time'), 2 during 2024-03-07..2024-03-07, and 1 on 2024-03-08
2024-03-07T18:20:39.5776241Z         filtering to 'Today'
2024-03-07T18:20:40.9614654Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-07T18:20:40.9616538Z       given 1 Distribution on 2022-03-06  (unless 'All Time'), 0 during 2022-03-07..2024-01-27, and 1 on 2024-01-28
2024-03-07T18:20:40.9617992Z         filtering to '' (March 7, 2022 - January 27, 2024)
2024-03-07T18:20:44.2892516Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-07T18:20:44.2894169Z       given 1 Distribution on 2024-02-29  (unless 'All Time'), 4 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-07T18:20:44.2895179Z         filtering to 'This Month'
2024-03-07T18:20:45.6681243Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-07T18:20:45.6682222Z     Manufacturer Donations
2024-03-07T18:20:46.2439597Z       has a link to create a new donation
2024-03-07T18:20:46.2441282Z       given 1 Manufacturer donating on 2022-03-06  (unless 'All Time'), 3 during 2022-03-07..2023-09-17, and 1 on 2023-09-18
2024-03-07T18:20:46.2442811Z         filtering to '' (March 7, 2022 - September 17, 2023)
2024-03-07T18:20:47.8195293Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-07T18:20:47.8196852Z       given 1 Manufacturer donating on 2024-02-29  (unless 'All Time'), 6 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-07T18:20:47.8198403Z         filtering to 'This Month'
2024-03-07T18:20:49.5907884Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-03-07T18:20:49.5909898Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 8 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-07T18:20:49.5911095Z         filtering to 'Last Month'
2024-03-07T18:20:51.6416520Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-07T18:20:51.6418376Z       given 1 Manufacturer donating on 2024-03-06  (unless 'All Time'), 6 during 2024-03-07..2024-03-07, and 1 on 2024-03-08
2024-03-07T18:20:51.6419639Z         filtering to 'Today'
2024-03-07T18:20:53.4345486Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-03-07T18:20:53.4347722Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 5 during 2000-01-01..2024-03-07, and 1 on 2024-03-08
2024-03-07T18:20:53.4351218Z         filtering to 'All Time'
2024-03-07T18:20:55.1273642Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-03-07T18:20:55.1275265Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 5 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-07T18:20:55.1276294Z         filtering to 'This Year'
2024-03-07T18:20:56.7311223Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-03-07T18:20:56.7312705Z       given 1 Manufacturer donating on 2024-03-05  (unless 'All Time'), 3 during 2024-03-06..2024-03-06, and 1 on 2024-03-07
2024-03-07T18:20:56.7313472Z         filtering to 'Yesterday'
2024-03-07T18:20:58.3293510Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-07T18:20:58.3295536Z       given 1 Manufacturer donating on 2024-02-29  (unless 'All Time'), 4 during 2024-03-01..2024-03-07, and 1 on 2024-03-08
2024-03-07T18:20:58.3297062Z         filtering to 'Last 7 Days'
2024-03-07T18:20:59.9147956Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-03-07T18:20:59.9150082Z       given 1 Manufacturer donating on 2024-02-06  (unless 'All Time'), 5 during 2024-02-07..2024-03-07, and 1 on 2024-03-08
2024-03-07T18:20:59.9151420Z         filtering to 'Last 30 Days'
2024-03-07T18:21:01.5271977Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-03-07T18:21:01.5272909Z     Purchases
2024-03-07T18:21:02.3849722Z       has a link to create a new purchase
2024-03-07T18:21:02.3851389Z       given 1 Purchase on 2024-02-29  (unless 'All Time'), 1 during 2024-03-01..2024-03-07, and 1 on 2024-03-08
2024-03-07T18:21:02.3852687Z         filtering to 'Last 7 Days'
2024-03-07T18:21:03.7198457Z           shows correct 1 Recent Purchase link(s)
2024-03-07T18:21:03.7200123Z       given 1 Purchase on 2024-03-05  (unless 'All Time'), 0 during 2024-03-06..2024-03-06, and 1 on 2024-03-07
2024-03-07T18:21:03.7201503Z         filtering to 'Yesterday'
2024-03-07T18:21:07.0180923Z           shows correct 0 Recent Purchase link(s)
2024-03-07T18:21:07.0182754Z       given 1 Purchase on 2024-02-29  (unless 'All Time'), 4 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-07T18:21:07.0184047Z         filtering to 'This Month'
2024-03-07T18:21:08.4141680Z           shows correct 3 Recent Purchase link(s)
2024-03-07T18:21:08.4143464Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-07T18:21:08.4145021Z         filtering to 'This Year'
2024-03-07T18:21:09.7336935Z           shows correct 1 Recent Purchase link(s)
2024-03-07T18:21:09.7338790Z       given 1 Purchase on 2024-03-06  (unless 'All Time'), 1 during 2024-03-07..2024-03-07, and 1 on 2024-03-08
2024-03-07T18:21:09.7340077Z         filtering to 'Today'
2024-03-07T18:21:11.0531979Z           shows correct 1 Recent Purchase link(s)
2024-03-07T18:21:11.0533933Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-07T18:21:11.0535208Z         filtering to 'Last Month'
2024-03-07T18:21:14.3217263Z           shows correct 0 Recent Purchase link(s)
2024-03-07T18:21:14.3218722Z       given 1 Purchase on 2022-03-06  (unless 'All Time'), 2 during 2022-03-07..2023-10-11, and 1 on 2023-10-12
2024-03-07T18:21:14.3219598Z         filtering to '' (March 7, 2022 - October 11, 2023)
2024-03-07T18:21:15.7050146Z           shows correct 2 Recent Purchase link(s)
2024-03-07T18:21:15.7059884Z       given 1 Purchase on 2024-02-06  (unless 'All Time'), 3 during 2024-02-07..2024-03-07, and 1 on 2024-03-08
2024-03-07T18:21:15.7061107Z         filtering to 'Last 30 Days'
2024-03-07T18:21:17.2301336Z           shows correct 3 Recent Purchase link(s)
2024-03-07T18:21:17.2302592Z     Signage
2024-03-07T18:21:20.0990648Z       shows their organization name unless they have a logo set
2024-03-07T18:21:20.0991426Z     Inventory Totals
2024-03-07T18:21:20.0992200Z       Summary
2024-03-07T18:21:20.7863871Z         displays the on-hand totals
2024-03-07T18:21:20.7864943Z         when constrained to date range
2024-03-07T18:21:21.8038013Z           does not change
2024-03-07T18:21:21.8039231Z     Product Drives
2024-03-07T18:21:22.3765684Z       has a widget for product drive summary data
2024-03-07T18:21:22.3767703Z       given 1 Product Drive Donation on 2024-02-29 (unless 'All Time'), 0 during 2024-03-01..2024-03-07, and 1 on 2024-03-08
2024-03-07T18:21:22.3769125Z         filtering to 'Last 7 Days'
2024-03-07T18:21:25.6859131Z           shows 0 Recent Donation link(s)
2024-03-07T18:21:26.9656816Z           shows the correct total money raised
2024-03-07T18:21:28.2521340Z           shows the correct total donations
2024-03-07T18:21:28.2524062Z       given 1 Product Drive Donation on 2024-02-06 (unless 'All Time'), 3 during 2024-02-07..2024-03-07, and 1 on 2024-03-08
2024-03-07T18:21:28.2525168Z         filtering to 'Last 30 Days'
2024-03-07T18:21:29.7001023Z           shows 3 Recent Donation link(s)
2024-03-07T18:21:31.0914521Z           shows the correct total money raised
2024-03-07T18:21:32.4618481Z           shows the correct total donations
2024-03-07T18:21:32.4620395Z       given 1 Product Drive Donation on 2024-03-06 (unless 'All Time'), 4 during 2024-03-07..2024-03-07, and 1 on 2024-03-08
2024-03-07T18:21:32.4621677Z         filtering to 'Today'
2024-03-07T18:21:33.8725457Z           shows the correct total donations
2024-03-07T18:21:35.2915870Z           shows the correct total money raised
2024-03-07T18:21:36.7036518Z           shows 3 Recent Donation link(s)
2024-03-07T18:21:36.7038315Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-07T18:21:36.7039879Z         filtering to 'Last Month'
2024-03-07T18:21:38.0720403Z           shows the correct total money raised
2024-03-07T18:21:39.4809981Z           shows the correct total donations
2024-03-07T18:21:40.8452522Z           shows 3 Recent Donation link(s)
2024-03-07T18:21:40.8453549Z       Product drive behaviour with Mixed Donation types
2024-03-07T18:21:41.6720895Z         only counts product drive money raised
2024-03-07T18:21:42.3322492Z         only shows product drive donations as product drive donations
2024-03-07T18:21:42.9756676Z         only counts product drive donations for product drive
2024-03-07T18:21:42.9758135Z       given 1 Product Drive Donation on 2024-02-29 (unless 'All Time'), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-07T18:21:42.9758954Z         filtering to 'This Month'
2024-03-07T18:21:44.3294242Z           shows 2 Recent Donation link(s)
2024-03-07T18:21:45.6716517Z           shows the correct total donations
2024-03-07T18:21:46.9821497Z           shows the correct total money raised
2024-03-07T18:21:46.9823205Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-07T18:21:46.9824301Z         filtering to 'This Year'
2024-03-07T18:21:48.3493744Z           shows the correct total money raised
2024-03-07T18:21:49.7336721Z           shows 3 Recent Donation link(s)
2024-03-07T18:21:51.1349692Z           shows the correct total donations
2024-03-07T18:21:51.1351425Z       given 1 Product Drive Donation on 2022-03-06 (unless 'All Time'), 4 during 2022-03-07..2023-10-14, and 1 on 2023-10-15
2024-03-07T18:21:51.1352829Z         filtering to '' (March 7, 2022 - October 14, 2023)
2024-03-07T18:21:52.5599278Z           shows 3 Recent Donation link(s)
2024-03-07T18:21:53.9642577Z           shows the correct total money raised
2024-03-07T18:21:55.3551524Z           shows the correct total donations
2024-03-07T18:21:55.3553162Z       given 1 Product Drive Donation on 2024-03-05 (unless 'All Time'), 3 during 2024-03-06..2024-03-06, and 1 on 2024-03-07
2024-03-07T18:21:55.3554522Z         filtering to 'Yesterday'
2024-03-07T18:21:56.8138548Z           shows the correct total donations
2024-03-07T18:21:58.1708711Z           shows 3 Recent Donation link(s)
2024-03-07T18:21:59.5245090Z           shows the correct total money raised
2024-03-07T18:21:59.5246541Z 
2024-03-07T18:21:59.5248687Z User account management
2024-03-07T18:21:59.5249958Z   when in staging
2024-03-07T18:21:59.9924218Z     should not allow the user to change staging credentials
2024-03-07T18:22:00.4419302Z     should display staging warning
2024-03-07T18:22:00.4420123Z   when not in staging
2024-03-07T18:22:01.3010997Z     should change an user name
2024-03-07T18:22:02.1596799Z     should change the email
2024-03-07T18:22:02.9008858Z     should fail when the email is invalid
2024-03-07T18:22:02.9009406Z 
2024-03-07T18:22:02.9009686Z Kit management
2024-03-07T18:22:03.4735855Z   should not display inactive storage locations under allocations
2024-03-07T18:22:04.3577124Z   can create a new kit as a user with the proper quantity
2024-03-07T18:22:05.8018697Z   can allocate and deallocate quantity per storage location from kit index
2024-03-07T18:22:05.8019404Z   when there is no kit quantity
2024-03-07T18:22:06.8873672Z     will not change quantity amounts when deallocating
2024-03-07T18:22:06.8875189Z   when there is not enough quantity of the items contained in the kit on-hand
2024-03-07T18:22:08.0390220Z     will not change quantity amounts when allocating
2024-03-07T18:22:08.0391278Z 
2024-03-07T18:22:08.0391668Z Purchases
2024-03-07T18:22:08.0393311Z   while signed in as an organization admin
2024-03-07T18:22:08.9025867Z     allows deletion of a purchase
2024-03-07T18:22:08.9026622Z   while signed in as a normal user
2024-03-07T18:22:08.9029007Z     When visiting the index page
2024-03-07T18:22:08.9030559Z       In the middle of the year
2024-03-07T18:22:09.6961204Z         User sees total purchases value
2024-03-07T18:22:10.4776293Z         User can click to the new purchase form
2024-03-07T18:22:11.2175680Z         User sees purchased date column
2024-03-07T18:22:11.2176377Z       When filtering on the index page
2024-03-07T18:22:12.0237786Z         User can filter the #index by vendor
2024-03-07T18:22:12.8408863Z         User can filter the #index by storage location
2024-03-07T18:22:12.8409881Z         behaves like Date Range Picker
2024-03-07T18:22:12.8410908Z           when choosing 'All Time'
2024-03-07T18:22:13.8147883Z             shows all the records
2024-03-07T18:22:13.8148731Z           when choosing 'Last Month'
2024-03-07T18:22:14.7629490Z             shows only 2 of the records
2024-03-07T18:22:14.7630484Z           when choosing a date range that only includes the previous week
2024-03-07T18:22:15.6852278Z             shows only 1 record
2024-03-07T18:22:15.6853560Z     When visiting an existing purchase
2024-03-07T18:22:16.1453423Z       does not allow deletion of a purchase
2024-03-07T18:22:16.1454255Z     When creating a new purchase
2024-03-07T18:22:16.6317567Z       should not display inactive storage locations in dropdown
2024-03-07T18:22:16.6318462Z       via barcode entry
2024-03-07T18:22:17.3956105Z         a user can add items via scanning them in by barcode
2024-03-07T18:22:18.2970032Z         User scan same barcode 2 times
2024-03-07T18:22:19.5536013Z         a user can add items that do not yet have a barcode
2024-03-07T18:22:19.5536933Z       via manual entry
2024-03-07T18:22:20.4210982Z         User can create a purchase using dollars decimal amount
2024-03-07T18:22:21.4164803Z         Does not include inactive items in the line item fields
2024-03-07T18:22:22.4500539Z         User can create vendor from purchase
2024-03-07T18:22:23.6213706Z         multiple line items for the same item type are accepted and combined on the backend
2024-03-07T18:22:24.6897699Z         User can create a purchase IN THE PAST
2024-03-07T18:22:24.6898454Z         when creating a purchase incorrectly
2024-03-07T18:22:25.6583543Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-03-07T18:22:26.4624274Z           should display failure with error messages
2024-03-07T18:22:26.4625330Z       Editing purchase
2024-03-07T18:22:26.9628684Z         A user can see purchased_from value
2024-03-07T18:22:27.5995934Z         A user can view another organizations purchase
2024-03-07T18:22:27.5997643Z 
2024-03-07T18:22:27.5997901Z BarcodeItems
2024-03-07T18:22:27.5999255Z   While signed in
2024-03-07T18:22:27.6001169Z     GET #index
2024-03-07T18:22:27.6002104Z       csv
2024-03-07T18:22:27.6274895Z         is expected to be successful
2024-03-07T18:22:27.6275915Z       html
2024-03-07T18:22:27.6682311Z         is expected to be successful
2024-03-07T18:22:27.6682946Z     GET #show
2024-03-07T18:22:27.6683821Z       with a normal barcode item
2024-03-07T18:22:27.7033343Z         returns http success
2024-03-07T18:22:27.7034176Z       with a global barcode item
2024-03-07T18:22:27.7329732Z         returns a 404
2024-03-07T18:22:27.7330428Z     GET #new
2024-03-07T18:22:27.7631341Z       returns http success
2024-03-07T18:22:27.7631865Z     GET #find
2024-03-07T18:22:27.7632420Z       via ajax
2024-03-07T18:22:27.9695714Z         can find a barcode that's universally available
2024-03-07T18:22:28.1668237Z         can find a barcode that is scoped to just this organization
2024-03-07T18:22:28.1669583Z         when it's missing
2024-03-07T18:22:28.3582874Z           returns a 404
2024-03-07T18:22:28.3583865Z     Looking at a different organization
2024-03-07T18:22:28.5294475Z       redirects the user to the sign-in page for CRUD actions
2024-03-07T18:22:28.5295351Z     GET #edit
2024-03-07T18:22:28.5295889Z       with a global barcode item
2024-03-07T18:22:28.5579746Z         returns a 404
2024-03-07T18:22:28.5580506Z       with a normal barcode item
2024-03-07T18:22:28.5952197Z         returns http success
2024-03-07T18:22:28.5953180Z     DELETE #destroy
2024-03-07T18:22:28.6222328Z       disallows a non-superadmin to delete a global barcode
2024-03-07T18:22:28.8066034Z       disallows a user to delete someone else's barcode
2024-03-07T18:22:28.8382706Z       redirects to the index
2024-03-07T18:22:28.8384397Z 
2024-03-07T18:22:28.8385031Z Managing requests
2024-03-07T18:22:28.8386671Z   creating a # individuals request
2024-03-07T18:22:28.8387751Z     GIVEN a partner user is permitted to make a request
2024-03-07T18:22:28.8389322Z       WHEN they create a request improperly by not inputting anything
2024-03-07T18:22:29.7725004Z         should show an error message with the instructions
2024-03-07T18:22:29.7726093Z       WHEN they create a request with blank lines
2024-03-07T18:22:31.1915824Z         should be created without any issue
2024-03-07T18:22:31.1916621Z       WHEN they create a request with only a comment
2024-03-07T18:22:32.1229711Z         should be created without any issue
2024-03-07T18:22:32.1230626Z       WHEN they create a request properly
2024-03-07T18:22:32.1235004Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-03-07T18:22:34.1888478Z           AND the partner_user can view the details of the created individuals request in a seperate page
2024-03-07T18:22:34.1890011Z       WHEN they create a request completely empty request
2024-03-07T18:22:35.0814788Z         should show an error message with the instructions
2024-03-07T18:22:35.0815852Z       Select Input Tests
2024-03-07T18:22:35.0816423Z         WHEN they reach the page
2024-03-07T18:22:35.9415508Z           should show the proper items in the select box
2024-03-07T18:22:35.9416449Z           WHEN they create a request improperly
2024-03-07T18:22:37.2519706Z             should show the proper items in the select box
2024-03-07T18:22:37.2521074Z   creating a new quantity request
2024-03-07T18:22:37.2522547Z     GIVEN a partner user is permitted to make a request
2024-03-07T18:22:37.2526433Z       WHEN they create a request completely empty request
2024-03-07T18:22:38.1444932Z         should show an error message with the instructions
2024-03-07T18:22:38.1446524Z       WHEN they create a request with only a comment
2024-03-07T18:22:39.0901784Z         should be created without any issue
2024-03-07T18:22:39.0902898Z       WHEN they create a request with blank lines
2024-03-07T18:22:40.4754783Z         should be created without any issue
2024-03-07T18:22:40.4755715Z       Select Input Tests
2024-03-07T18:22:40.4756343Z         WHEN they reach the page
2024-03-07T18:22:41.3197561Z           should show the proper items in the select box
2024-03-07T18:22:41.3198549Z           WHEN they create a request improperly
2024-03-07T18:22:42.5998320Z             should show the proper items in the select box
2024-03-07T18:22:42.5999482Z       WHEN they create a request properly
2024-03-07T18:22:42.6001003Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-03-07T18:22:44.7967918Z           AND the partner_user can view the details of the created request in a seperate page
2024-03-07T18:22:44.7969162Z 
2024-03-07T18:22:44.7969469Z Vendor
2024-03-07T18:22:44.7971123Z   When a user views the index page
2024-03-07T18:22:45.2629108Z     should have the vendor names in alphabetical order
2024-03-07T18:22:45.2630246Z   When vendor have purchases associated with them already
2024-03-07T18:22:45.8273745Z     can have a single vendor show semi-detailed stats about purchases
2024-03-07T18:22:46.4055453Z     can have existing vendors show in the #index with some summary stats
2024-03-07T18:22:46.4056492Z   when editing an existing vendor
2024-03-07T18:22:47.1693975Z     does not update a vendor with empty attributes
2024-03-07T18:22:47.9295590Z     can update the contact info for a vendor as a user
2024-03-07T18:22:47.9296391Z   when creating a new vendor
2024-03-07T18:22:48.6563331Z     cannot add a new vendor instance with empty attributes
2024-03-07T18:22:49.4323037Z     can create a new vendor instance as a user
2024-03-07T18:22:49.4323655Z 
2024-03-07T18:22:49.4323949Z /partners/profiles
2024-03-07T18:22:49.4325342Z   GET #edit
2024-03-07T18:22:49.5419350Z     has "Yes" radio button value when value is true
2024-03-07T18:22:49.6291171Z     does not have default radio button value when value is nil
2024-03-07T18:22:49.7154956Z     has "No" radio button value when value is false
2024-03-07T18:22:49.7945572Z     displays the partner
2024-03-07T18:22:49.7946628Z   GET #show
2024-03-07T18:22:49.8570809Z     shows correct values for yes/no buttons
2024-03-07T18:22:49.9041482Z     displays the partner
2024-03-07T18:22:49.9042494Z   PUT #update
2024-03-07T18:22:49.9549471Z     updates the partner and profile
2024-03-07T18:22:49.9550396Z     when updating an existing value to a blank value
2024-03-07T18:22:50.0022172Z       does not update other partner profile attributes to blank
2024-03-07T18:22:50.0480536Z       updates the partner profile attribute to a blank value
2024-03-07T18:22:50.0941327Z       does store N/A in the database
2024-03-07T18:22:50.0943970Z     with no social media
2024-03-07T18:22:50.1856096Z       shows an error
2024-03-07T18:22:50.1856995Z 
2024-03-07T18:22:50.1857246Z Organization management
2024-03-07T18:22:50.1859365Z   while signed in as a normal user
2024-03-07T18:22:50.6429083Z     can see summary details about the organization as a user
2024-03-07T18:22:51.1114639Z     cannot see 'Make user' button for admins
2024-03-07T18:22:51.1115354Z   while signed in as an organization admin
2024-03-07T18:22:51.6038812Z     can see 'Make user' button for admins
2024-03-07T18:22:52.6572950Z     can re-activate a user in the organization
2024-03-07T18:22:53.6088788Z     can deactivate a user in the organization
2024-03-07T18:22:54.1099502Z     can re-invite a user to an organization after 7 days
2024-03-07T18:22:55.0403882Z     can add a new user to an organization
2024-03-07T18:22:55.0404566Z     Editing the organization
2024-03-07T18:22:55.9053317Z       can set the NDBN Member ID
2024-03-07T18:22:56.7249749Z       can set a default storage location on the organization
2024-03-07T18:22:57.7473068Z       can disable if the org does NOT use single step invite and approve partner process
2024-03-07T18:22:58.5980788Z       can set a reminder and a deadline day
2024-03-07T18:22:59.6007326Z       can select if the org repackages essentials
2024-03-07T18:23:00.9923043Z       can select and deselect Required Partner Fields
2024-03-07T18:23:01.9614310Z       can select if the org distributes essentials monthly
2024-03-07T18:23:02.9235525Z       can enable if the org uses single step invite and approve partner process
2024-03-07T18:23:04.0605594Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-03-07T18:23:05.0249507Z       can select if the org shows year-to-date values on the distribution printout
2024-03-07T18:23:05.0250363Z     Viewing the organization
2024-03-07T18:23:05.5765555Z       can view organization details
2024-03-07T18:23:05.5767882Z 
2024-03-07T18:23:05.5768250Z StorageLocations
2024-03-07T18:23:05.5769837Z   While not signed in
2024-03-07T18:23:05.5841678Z     redirects the user to the sign-in page for CRUD actions
2024-03-07T18:23:05.5842616Z   While signed in
2024-03-07T18:23:05.5844062Z     POST #import_csv
2024-03-07T18:23:05.5845350Z       with a csv file
2024-03-07T18:23:05.6006484Z         redirects
2024-03-07T18:23:05.6054794Z         invokes .import_csv
2024-03-07T18:23:05.6194409Z         presents a flash notice message
2024-03-07T18:23:05.6195187Z       csv file with wrong headers
2024-03-07T18:23:05.6310045Z         presents a flash error message
2024-03-07T18:23:05.6423696Z         redirects
2024-03-07T18:23:05.6424360Z       without a csv file
2024-03-07T18:23:05.6532934Z         presents a flash error message
2024-03-07T18:23:05.6640547Z         redirects to :index
2024-03-07T18:23:05.6641230Z     PUT #deactivate
2024-03-07T18:23:05.6809482Z       discards
2024-03-07T18:23:05.6810281Z       with inventory
2024-03-07T18:23:05.7272446Z         does not discard
2024-03-07T18:23:05.7273151Z     GET #destroy
2024-03-07T18:23:05.7525211Z       redirects to #index
2024-03-07T18:23:05.7525926Z     GET #new
2024-03-07T18:23:06.0957100Z       returns http success
2024-03-07T18:23:06.0958257Z     GET #inventory
2024-03-07T18:23:06.0958987Z       when also including omitted items
2024-03-07T18:23:06.1416275Z         contains a collection of ducktyped entries that respond the same
2024-03-07T18:23:06.1835378Z         returns a collection that also includes all items, but with zeroed quantities
2024-03-07T18:23:06.1836352Z       when also including inactive items
2024-03-07T18:23:06.2403283Z         returns a collection that also includes items that have been deactivated
2024-03-07T18:23:06.2404403Z       without any overrides
2024-03-07T18:23:06.2865170Z         returns a collection that only includes items at the storage location
2024-03-07T18:23:06.2866269Z     GET #index
2024-03-07T18:23:06.2866934Z       html
2024-03-07T18:23:06.3227931Z         succeeds
2024-03-07T18:23:06.3228646Z         with inactive locations
2024-03-07T18:23:06.3573799Z           does not includes the inactive location
2024-03-07T18:23:06.3574868Z           with include_inactive_locations
2024-03-07T18:23:06.3936978Z             includes the inactive location
2024-03-07T18:23:06.3937911Z       csv
2024-03-07T18:23:06.4869592Z         includes headers followed by alphabetized item names
2024-03-07T18:23:06.5140335Z         succeeds
2024-03-07T18:23:06.5141144Z     GET #edit
2024-03-07T18:23:06.5500721Z       returns http success
2024-03-07T18:23:06.5501398Z     GET #show
2024-03-07T18:23:06.5502069Z       csv
2024-03-07T18:23:06.5934870Z         should be successful
2024-03-07T18:23:06.5936039Z       html
2024-03-07T18:23:06.6539018Z         should return a correct response
2024-03-07T18:23:06.6539835Z         with version date set
2024-03-07T18:23:06.6540684Z           with a version found
2024-03-07T18:23:06.7278493Z             should show the version specified
2024-03-07T18:23:06.7279583Z           with no version found
2024-03-07T18:23:06.7954652Z             should show N/A
2024-03-07T18:23:06.7955453Z     Looking at a different organization
2024-03-07T18:23:06.9632724Z       redirects the user to the sign-in page for CRUD actions
2024-03-07T18:23:06.9633294Z     PUT #reactivate
2024-03-07T18:23:06.9786749Z       undiscards
2024-03-07T18:23:06.9787559Z 
2024-03-07T18:23:06.9787801Z Admin Organization Management
2024-03-07T18:23:06.9789349Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-07T18:23:08.8952692Z     creates a new organization
2024-03-07T18:23:08.8953677Z   While signed in as an Administrative User (super admin)
2024-03-07T18:23:10.8170795Z     creates a new organization
2024-03-07T18:23:11.8804918Z     filters by organizations by name in organizations index page
2024-03-07T18:23:13.3183599Z     can view organization details
2024-03-07T18:23:13.3184272Z 
2024-03-07T18:23:13.3185065Z Adjustments
2024-03-07T18:23:13.3189543Z   while signed in
2024-03-07T18:23:13.3191127Z     POST #create
2024-03-07T18:23:13.3192274Z       with valid params
2024-03-07T18:23:13.3582970Z         assigns a newly created adjustment as @adjustment
2024-03-07T18:23:13.3833960Z         assigns a user id from the current user
2024-03-07T18:23:13.4085794Z         redirects to the #show after created adjustment
2024-03-07T18:23:13.4347666Z         creates a new Adjustment
2024-03-07T18:23:13.4348429Z       with invalid params
2024-03-07T18:23:13.4730662Z         assigns a newly created but unsaved adjustment as @adjustment
2024-03-07T18:23:13.5071351Z         re-renders the 'new' template
2024-03-07T18:23:13.5072164Z     GET #index
2024-03-07T18:23:13.5072676Z       html
2024-03-07T18:23:13.5498810Z         is successful
2024-03-07T18:23:13.5499514Z         when filtering by date
2024-03-07T18:23:13.5500483Z           when date parameters are not supplied
2024-03-07T18:23:13.6008274Z             returns all objects
2024-03-07T18:23:13.6009056Z           when date parameters are supplied
2024-03-07T18:23:13.6489800Z             only returns the correct objects
2024-03-07T18:23:13.6490544Z       csv
2024-03-07T18:23:13.6708924Z         is expected to be successful
2024-03-07T18:23:13.6709693Z     GET #show
2024-03-07T18:23:13.7047180Z       is expected to be successful
2024-03-07T18:23:13.7048061Z     GET #new
2024-03-07T18:23:13.7411404Z       is successful
2024-03-07T18:23:13.7412416Z 
2024-03-07T18:23:13.7412732Z Admin::Partners
2024-03-07T18:23:13.7413650Z   When logged in as a super admin
2024-03-07T18:23:13.7414896Z     GET #show
2024-03-07T18:23:13.7897466Z       returns http success
2024-03-07T18:23:13.7898384Z     PUT #update
2024-03-07T18:23:13.7899001Z       successful save
2024-03-07T18:23:13.8228468Z         redirects
2024-03-07T18:23:13.8558698Z         updates partner
2024-03-07T18:23:13.8559436Z       unsuccessful save due to empty params
2024-03-07T18:23:13.9251626Z         renders #edit template with error message
2024-03-07T18:23:13.9252439Z     GET #index
2024-03-07T18:23:13.9397020Z       returns http success
2024-03-07T18:23:13.9398503Z     GET #edit
2024-03-07T18:23:13.9872673Z       returns http success
2024-03-07T18:23:13.9874312Z 
2024-03-07T18:23:13.9874632Z Donations
2024-03-07T18:23:13.9875618Z   while signed in
2024-03-07T18:23:13.9876944Z     GET #edit
2024-03-07T18:23:13.9878001Z       when an finalized audit has been performed on the donated items
2024-03-07T18:23:14.1241046Z         shows a warning
2024-03-07T18:23:14.1241794Z     GET #index
2024-03-07T18:23:14.1242968Z       csv
2024-03-07T18:23:14.1552603Z         is expected to be successful
2024-03-07T18:23:14.1553201Z       html
2024-03-07T18:23:14.1976060Z         should have the columns source and details
2024-03-07T18:23:14.2390449Z         is expected to be successful
2024-03-07T18:23:14.2391111Z         when given a product drive
2024-03-07T18:23:14.2877101Z           should display Product Drive and the name of the drive
2024-03-07T18:23:14.2877889Z         when given a manufacturer
2024-03-07T18:23:14.3372703Z           should display Manufacturer and the manufacturer name
2024-03-07T18:23:14.3373679Z         when given a misc donation
2024-03-07T18:23:14.3813555Z           should display Misc Donation and a truncated comment
2024-03-07T18:23:14.3814349Z         when given a donation site
2024-03-07T18:23:14.4279928Z           should display Donation Site and the name of the site
2024-03-07T18:23:14.4281186Z     when an non-finalized audit has been performed on the donated items
2024-03-07T18:23:14.5507377Z       does not shows a warning
2024-03-07T18:23:14.5508163Z     when no audit has been performed
2024-03-07T18:23:14.6427979Z       doesn't show a warning
2024-03-07T18:23:14.6428760Z 
2024-03-07T18:23:14.6428979Z /partners/children
2024-03-07T18:23:14.6431643Z   GET #index
2024-03-07T18:23:14.7273147Z     should render without any issues
2024-03-07T18:23:14.7719842Z     should export CSV
2024-03-07T18:23:14.7720717Z 
2024-03-07T18:23:14.7721042Z Profiles
2024-03-07T18:23:14.7722284Z   GET #edit
2024-03-07T18:23:14.8604294Z     returns http success
2024-03-07T18:23:14.8604831Z   POST #update
2024-03-07T18:23:14.8605899Z     when updating an existing value to a blank value
2024-03-07T18:23:14.9119478Z       update partner
2024-03-07T18:23:14.9519254Z       should have blank values
2024-03-07T18:23:14.9519814Z     successful save
2024-03-07T18:23:14.9909776Z       redirects to #show
2024-03-07T18:23:15.0321824Z       update partner
2024-03-07T18:23:15.0538861Z W, [2024-03-07T10:23:15.053668 #2347]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-07T18:23:15.0540536Z W, [2024-03-07T10:23:15.053706 #2347]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-07T18:23:15.0542395Z W, [2024-03-07T10:23:15.053722 #2347]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-07T18:23:15.0544980Z W, [2024-03-07T10:23:15.053754 #2347]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-07T18:23:15.0547733Z 
2024-03-07T18:23:15.0548372Z Finished in 3 minutes 40.3 seconds (files took 7.93 seconds to load)
2024-03-07T18:23:15.0549201Z 233 examples, 0 failures
2024-03-07T18:23:15.0549517Z 
2024-03-07T18:23:15.0549701Z Randomized with seed 27619
2024-03-07T18:23:15.0550022Z 
2024-03-07T18:23:15.3570068Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3873 / 6491 LOC (59.67%) covered.
2024-03-07T18:23:15.8638090Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10824 LOC (0.35%) covered.
