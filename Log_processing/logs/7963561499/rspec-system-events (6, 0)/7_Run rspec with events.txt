2024-02-19T18:01:07.9394977Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-02-19T18:01:07.9395873Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-02-19T18:01:07.9423726Z shell: /usr/bin/bash -e {0}
2024-02-19T18:01:07.9424167Z env:
2024-02-19T18:01:07.9424472Z   POSTGRES_HOST: localhost
2024-02-19T18:01:07.9424946Z   DATABASE_HOST: localhost
2024-02-19T18:01:07.9425356Z   PG_USERNAME: postgres
2024-02-19T18:01:07.9425756Z   PG_PASSWORD: password
2024-02-19T18:01:07.9426216Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-02-19T18:01:07.9426626Z   POSTGRES_PORT: 5432
2024-02-19T18:01:07.9427003Z   PGHOST: localhost
2024-02-19T18:01:07.9427426Z   PGUSER: postgres
2024-02-19T18:01:07.9427793Z   RAILS_ENV: test
2024-02-19T18:01:07.9428136Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-02-19T18:01:07.9428678Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-02-19T18:01:07.9429095Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-02-19T18:01:07.9429556Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-02-19T18:01:07.9430206Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-02-19T18:01:07.9430850Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-02-19T18:01:07.9431605Z   EVENTS_READ: true
2024-02-19T18:01:07.9431968Z ##[endgroup]
2024-02-19T18:01:13.6226600Z W, [2024-02-19T18:01:13.622264 #2376]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-02-19T18:01:13.6229246Z W, [2024-02-19T18:01:13.622321 #2376]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-19T18:01:13.6231374Z W, [2024-02-19T18:01:13.622346 #2376]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-19T18:01:13.6234826Z W, [2024-02-19T18:01:13.622388 #2376]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-02-19T18:01:17.2571194Z W, [2024-02-19T18:01:17.256773 #2376]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-02-19T18:01:17.2573709Z W, [2024-02-19T18:01:17.256818 #2376]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-19T18:01:17.2575447Z W, [2024-02-19T18:01:17.256834 #2376]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-19T18:01:17.2578718Z W, [2024-02-19T18:01:17.256870 #2376]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-02-19T18:01:17.2629123Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/partners/children_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-02-19T18:01:25.5538039Z 
2024-02-19T18:01:25.5538868Z Randomized with seed 30968
2024-02-19T18:01:26.5276528Z 
2024-02-19T18:01:26.5277298Z Managing requests
2024-02-19T18:01:26.5278377Z   creating a request
2024-02-19T18:01:26.5279344Z     GIVEN a partner user is permitted to make a request
2024-02-19T18:01:26.5280551Z       WHEN they create a request with only a comment
2024-02-19T18:01:28.2677807Z         should be created without any issue
2024-02-19T18:01:28.2678887Z       WHEN they create a request inproperly by not inputting anything
2024-02-19T18:01:29.1725735Z         should show an error message with the instructions
2024-02-19T18:01:29.1726728Z       WHEN they create a request properly
2024-02-19T18:01:29.1727760Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-02-19T18:01:31.3840641Z           AND the partner_user can view the details of the created request in a seperate page
2024-02-19T18:01:31.3841921Z   creating a individuals/family request
2024-02-19T18:01:31.3842820Z     GIVEN a partner user is permitted to make a request
2024-02-19T18:01:31.3843897Z       WHEN they create a request properly
2024-02-19T18:01:31.3845481Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-02-19T18:01:33.4430740Z           AND the partner_user can view the details of the created individuals request in a seperate page
2024-02-19T18:01:33.4431798Z       WHEN they create a request inproperly
2024-02-19T18:01:34.3349743Z         should show an error message with the instructions
2024-02-19T18:01:34.3353760Z 
2024-02-19T18:01:34.3354098Z Dashboard
2024-02-19T18:01:34.3355540Z   With a new essentials bank
2024-02-19T18:02:02.4533427Z     displays the getting started guide until the steps are completed
2024-02-19T18:02:02.4534389Z   With an existing essentials bank
2024-02-19T18:02:02.4535122Z     Product Drives
2024-02-19T18:02:03.0432824Z       has a widget for product drive summary data
2024-02-19T18:02:03.0434615Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 3 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-19T18:02:03.0435742Z         filtering to 'Last Month'
2024-02-19T18:02:04.5186176Z           shows the correct total money raised
2024-02-19T18:02:05.9604804Z           shows the correct total donations
2024-02-19T18:02:07.4140859Z           shows 3 Recent Donation link(s)
2024-02-19T18:02:07.4142899Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-19T18:02:07.4144267Z         filtering to 'This Year'
2024-02-19T18:02:08.8448360Z           shows the correct total money raised
2024-02-19T18:02:10.2672651Z           shows 2 Recent Donation link(s)
2024-02-19T18:02:11.6650835Z           shows the correct total donations
2024-02-19T18:02:11.6652709Z       given 1 Product Drive Donation on 2024-02-12 (unless 'All Time'), 1 during 2024-02-13..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:02:11.6654064Z         filtering to 'Last 7 Days'
2024-02-19T18:02:13.0373399Z           shows the correct total money raised
2024-02-19T18:02:14.4420929Z           shows 1 Recent Donation link(s)
2024-02-19T18:02:15.8325787Z           shows the correct total donations
2024-02-19T18:02:15.8328461Z       given 1 Product Drive Donation on 2022-02-18 (unless 'All Time'), 4 during 2022-02-19..2023-11-11, and 1 on 2023-11-12
2024-02-19T18:02:15.8330002Z         filtering to '' (February 19, 2022 - November 11, 2023)
2024-02-19T18:02:17.3600016Z           shows the correct total donations
2024-02-19T18:02:18.8509437Z           shows the correct total money raised
2024-02-19T18:02:20.3913400Z           shows 3 Recent Donation link(s)
2024-02-19T18:02:20.3914331Z       Product drive behaviour with Mixed Donation types
2024-02-19T18:02:21.1003396Z         only counts product drive money raised
2024-02-19T18:02:21.8093727Z         only shows product drive donations as product drive donations
2024-02-19T18:02:22.5220522Z         only counts product drive donations for product drive
2024-02-19T18:02:22.5222364Z       given 1 Product Drive Donation on 2024-02-17 (unless 'All Time'), 3 during 2024-02-18..2024-02-18, and 1 on 2024-02-19
2024-02-19T18:02:22.5223447Z         filtering to 'Yesterday'
2024-02-19T18:02:23.9658125Z           shows the correct total money raised
2024-02-19T18:02:25.4598797Z           shows the correct total donations
2024-02-19T18:02:27.0954691Z           shows 3 Recent Donation link(s)
2024-02-19T18:02:27.0956327Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-19T18:02:27.0957428Z         filtering to 'This Month'
2024-02-19T18:02:28.5569986Z           shows 1 Recent Donation link(s)
2024-02-19T18:02:29.9429999Z           shows the correct total donations
2024-02-19T18:02:31.4005441Z           shows the correct total money raised
2024-02-19T18:02:31.4007395Z       given 1 Product Drive Donation on 2024-02-18 (unless 'All Time'), 0 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:02:31.4008386Z         filtering to 'Today'
2024-02-19T18:02:34.7590835Z           shows 0 Recent Donation link(s)
2024-02-19T18:02:36.1296764Z           shows the correct total money raised
2024-02-19T18:02:37.4583779Z           shows the correct total donations
2024-02-19T18:02:37.4585858Z       given 1 Product Drive Donation on 2024-01-20 (unless 'All Time'), 0 during 2024-01-21..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:02:37.4587250Z         filtering to 'Last 30 Days'
2024-02-19T18:02:38.8158963Z           shows the correct total money raised
2024-02-19T18:02:40.2060148Z           shows the correct total donations
2024-02-19T18:02:43.5754376Z           shows 0 Recent Donation link(s)
2024-02-19T18:02:43.5755437Z     Signage
2024-02-19T18:02:46.4795071Z       shows their organization name unless they have a logo set
2024-02-19T18:02:46.4796298Z     Donations
2024-02-19T18:02:47.3660277Z       has a link to create a new donation
2024-02-19T18:02:47.3661911Z       given 1 Donation on 2024-02-12 (only if a valid date), 1 during 2024-02-13..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:02:47.3662878Z         filtering to 'Last 7 Days'
2024-02-19T18:02:48.7475046Z           shows the correct total and 1 Recent Donation link(s)
2024-02-19T18:02:48.7476775Z       given 1 Donation on 2024-02-17 (only if a valid date), 4 during 2024-02-18..2024-02-18, and 1 on 2024-02-19
2024-02-19T18:02:48.7477736Z         filtering to 'Yesterday'
2024-02-19T18:02:50.2586759Z           shows the correct total and 3 Recent Donation link(s)
2024-02-19T18:02:50.2588588Z       given 1 Donation on 2022-02-18 (only if a valid date), 1 during 2022-02-19..2024-01-31, and 1 on 2024-02-01
2024-02-19T18:02:50.2590166Z         filtering to '' (February 19, 2022 - January 31, 2024)
2024-02-19T18:02:51.6516635Z           shows the correct total and 1 Recent Donation link(s)
2024-02-19T18:02:51.6518375Z       given 1 Donation on 2024-02-18 (only if a valid date), 3 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:02:51.6519272Z         filtering to 'Today'
2024-02-19T18:02:53.1201744Z           shows the correct total and 3 Recent Donation link(s)
2024-02-19T18:02:53.1203311Z       given 1 Donation on 2024-01-20 (only if a valid date), 2 during 2024-01-21..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:02:53.1204715Z         filtering to 'Last 30 Days'
2024-02-19T18:02:54.5312178Z           shows the correct total and 2 Recent Donation link(s)
2024-02-19T18:02:54.5313916Z       given 1 Donation on 2023-12-31 (only if a valid date), 1 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-19T18:02:54.5315313Z         filtering to 'Last Month'
2024-02-19T18:02:55.8987782Z           shows the correct total and 1 Recent Donation link(s)
2024-02-19T18:02:55.8990965Z       given 1 Donation on 2024-01-31 (only if a valid date), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-19T18:02:55.8992324Z         filtering to 'This Month'
2024-02-19T18:02:57.3245697Z           shows the correct total and 1 Recent Donation link(s)
2024-02-19T18:02:57.3247303Z       given 1 Donation on 2023-12-31 (only if a valid date), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-19T18:02:57.3248503Z         filtering to 'This Year'
2024-02-19T18:02:58.6725274Z           shows the correct total and 1 Recent Donation link(s)
2024-02-19T18:02:58.6726215Z     Purchases
2024-02-19T18:02:59.5569597Z       has a link to create a new purchase
2024-02-19T18:02:59.5571040Z       given 1 Purchase on 2024-02-12  (unless 'All Time'), 2 during 2024-02-13..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:02:59.5572169Z         filtering to 'Last 7 Days'
2024-02-19T18:03:00.9557880Z           shows correct 2 Recent Purchase link(s)
2024-02-19T18:03:00.9559882Z       given 1 Purchase on 2024-01-20  (unless 'All Time'), 1 during 2024-01-21..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:03:00.9561284Z         filtering to 'Last 30 Days'
2024-02-19T18:03:02.3150651Z           shows correct 1 Recent Purchase link(s)
2024-02-19T18:03:02.3152603Z       given 1 Purchase on 2022-02-18  (unless 'All Time'), 2 during 2022-02-19..2023-09-25, and 1 on 2023-09-26
2024-02-19T18:03:02.3154181Z         filtering to '' (February 19, 2022 - September 25, 2023)
2024-02-19T18:03:03.7436716Z           shows correct 2 Recent Purchase link(s)
2024-02-19T18:03:03.7437947Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-19T18:03:03.7438977Z         filtering to 'This Month'
2024-02-19T18:03:05.1891743Z           shows correct 3 Recent Purchase link(s)
2024-02-19T18:03:05.1893763Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-19T18:03:05.1894721Z         filtering to 'Last Month'
2024-02-19T18:03:06.6233084Z           shows correct 2 Recent Purchase link(s)
2024-02-19T18:03:06.6234450Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-19T18:03:06.6235528Z         filtering to 'This Year'
2024-02-19T18:03:08.0793395Z           shows correct 3 Recent Purchase link(s)
2024-02-19T18:03:08.0796089Z       given 1 Purchase on 2024-02-17  (unless 'All Time'), 3 during 2024-02-18..2024-02-18, and 1 on 2024-02-19
2024-02-19T18:03:08.0797484Z         filtering to 'Yesterday'
2024-02-19T18:03:09.5461544Z           shows correct 3 Recent Purchase link(s)
2024-02-19T18:03:09.5463386Z       given 1 Purchase on 2024-02-18  (unless 'All Time'), 1 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:03:09.5464350Z         filtering to 'Today'
2024-02-19T18:03:10.9170932Z           shows correct 1 Recent Purchase link(s)
2024-02-19T18:03:10.9171752Z     Manufacturer Donations
2024-02-19T18:03:11.4844455Z       has a link to create a new donation
2024-02-19T18:03:11.4846637Z       given 1 Manufacturer donating on 2022-02-18  (unless 'All Time'), 6 during 2022-02-19..2023-09-28, and 1 on 2023-09-29
2024-02-19T18:03:11.4848246Z         filtering to '' (February 19, 2022 - September 28, 2023)
2024-02-19T18:03:13.6191953Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-02-19T18:03:13.6193785Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-19T18:03:13.6195213Z         filtering to 'This Month'
2024-02-19T18:03:15.5378750Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-02-19T18:03:15.5380953Z       given 1 Manufacturer donating on 2024-02-12  (unless 'All Time'), 0 during 2024-02-13..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:03:15.5382310Z         filtering to 'Last 7 Days'
2024-02-19T18:03:16.9193552Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-02-19T18:03:16.9195780Z       given 1 Manufacturer donating on 2024-01-20  (unless 'All Time'), 5 during 2024-01-21..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:03:16.9197133Z         filtering to 'Last 30 Days'
2024-02-19T18:03:18.8827208Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-02-19T18:03:18.8828804Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-19T18:03:18.8830019Z         filtering to 'This Year'
2024-02-19T18:03:20.2312699Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-02-19T18:03:20.2314849Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 9 during 2000-01-01..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:03:20.2316184Z         filtering to 'All Time'
2024-02-19T18:03:22.4911169Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-19T18:03:22.4913111Z       given 1 Manufacturer donating on 2024-02-17  (unless 'All Time'), 1 during 2024-02-18..2024-02-18, and 1 on 2024-02-19
2024-02-19T18:03:22.4914485Z         filtering to 'Yesterday'
2024-02-19T18:03:23.9524330Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-02-19T18:03:23.9526348Z       given 1 Manufacturer donating on 2024-02-18  (unless 'All Time'), 7 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:03:23.9527926Z         filtering to 'Today'
2024-02-19T18:03:26.2412002Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-02-19T18:03:26.2413994Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 9 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-19T18:03:26.2414979Z         filtering to 'Last Month'
2024-02-19T18:03:29.1067505Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-19T18:03:29.1068846Z     Inventory Totals
2024-02-19T18:03:29.1069449Z       Summary
2024-02-19T18:03:29.8039361Z         displays the on-hand totals
2024-02-19T18:03:29.8039988Z         when constrained to date range
2024-02-19T18:03:30.8380352Z           does not change
2024-02-19T18:03:30.8381229Z     Distributions
2024-02-19T18:03:31.7083028Z       has a link to create a new distribution
2024-02-19T18:03:31.7084708Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 1 during 2000-01-01..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:03:31.7086058Z         filtering to 'All Time'
2024-02-19T18:03:33.0782466Z           shows the correct total and 1 Recent Distribution link(s)
2024-02-19T18:03:33.0786265Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-19T18:03:33.0787854Z         filtering to 'This Year'
2024-02-19T18:03:36.4192116Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-19T18:03:36.4194210Z       given 1 Distribution on 2024-01-20  (unless 'All Time'), 1 during 2024-01-21..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:03:36.4195555Z         filtering to 'Last 30 Days'
2024-02-19T18:03:37.7722061Z           shows the correct total and 1 Recent Distribution link(s)
2024-02-19T18:03:37.7723719Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 4 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-19T18:03:37.7724569Z         filtering to 'Last Month'
2024-02-19T18:03:39.1915930Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-19T18:03:39.1918162Z       given 1 Distribution on 2022-02-18  (unless 'All Time'), 1 during 2022-02-19..2023-09-13, and 1 on 2023-09-14
2024-02-19T18:03:39.1919347Z         filtering to '' (February 19, 2022 - September 13, 2023)
2024-02-19T18:03:40.5350482Z           shows the correct total and 1 Recent Distribution link(s)
2024-02-19T18:03:40.5352527Z       given 1 Distribution on 2024-02-17  (unless 'All Time'), 4 during 2024-02-18..2024-02-18, and 1 on 2024-02-19
2024-02-19T18:03:40.5353840Z         filtering to 'Yesterday'
2024-02-19T18:03:42.1153251Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-19T18:03:42.1154928Z       given 1 Distribution on 2024-02-12  (unless 'All Time'), 0 during 2024-02-13..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:03:42.1158301Z         filtering to 'Last 7 Days'
2024-02-19T18:03:45.4905524Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-19T18:03:45.4907682Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-19T18:03:45.4909111Z         filtering to 'This Month'
2024-02-19T18:03:48.7962087Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-19T18:03:48.7963721Z       given 1 Distribution on 2024-02-18  (unless 'All Time'), 2 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-19T18:03:48.7964732Z         filtering to 'Today'
2024-02-19T18:03:50.2213005Z           shows the correct total and 2 Recent Distribution link(s)
2024-02-19T18:03:50.2214131Z 
2024-02-19T18:03:50.2214388Z User account management
2024-02-19T18:03:50.2215703Z   when not in staging
2024-02-19T18:03:50.9790918Z     should fail when the email is invalid
2024-02-19T18:03:51.8372691Z     should change an user name
2024-02-19T18:03:52.6991494Z     should change the email
2024-02-19T18:03:52.6992214Z   when in staging
2024-02-19T18:03:53.1391172Z     should not allow the user to change staging credentials
2024-02-19T18:03:53.5796760Z     should display staging warning
2024-02-19T18:03:53.5797717Z 
2024-02-19T18:03:53.5799551Z Purchases
2024-02-19T18:03:53.5800663Z   while signed in as an organization admin
2024-02-19T18:03:54.4266248Z     allows deletion of a purchase
2024-02-19T18:03:54.4267222Z   while signed in as a normal user
2024-02-19T18:03:54.4268025Z     When creating a new purchase
2024-02-19T18:03:54.9147371Z       should not display inactive storage locations in dropdown
2024-02-19T18:03:54.9148434Z       Editing purchase
2024-02-19T18:03:55.5026065Z         A user can see purchased_from value
2024-02-19T18:03:56.1065505Z         A user can view another organizations purchase
2024-02-19T18:03:56.1066300Z       via manual entry
2024-02-19T18:03:57.1762063Z         User can create a purchase IN THE PAST
2024-02-19T18:03:58.3531080Z         multiple line items for the same item type are accepted and combined on the backend
2024-02-19T18:03:59.3366994Z         Does not include inactive items in the line item fields
2024-02-19T18:04:00.2096907Z         User can create a purchase using dollars decimal amount
2024-02-19T18:04:01.2530866Z         User can create vendor from purchase
2024-02-19T18:04:01.2531782Z         when creating a purchase incorrectly
2024-02-19T18:04:02.0283588Z           should display failure with error messages
2024-02-19T18:04:02.9890770Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-02-19T18:04:02.9891986Z       via barcode entry
2024-02-19T18:04:03.6986498Z         a user can add items via scanning them in by barcode
2024-02-19T18:04:04.5984773Z         User scan same barcode 2 times
2024-02-19T18:04:05.7842433Z         a user can add items that do not yet have a barcode
2024-02-19T18:04:05.7843385Z     When visiting the index page
2024-02-19T18:04:05.7844308Z       In the middle of the year
2024-02-19T18:04:06.6418873Z         User can click to the new purchase form
2024-02-19T18:04:07.3759255Z         User sees total purchases value
2024-02-19T18:04:08.0806984Z         User sees purchased date column
2024-02-19T18:04:08.0807871Z       When filtering on the index page
2024-02-19T18:04:08.8877453Z         User can filter the #index by vendor
2024-02-19T18:04:09.6918448Z         User can filter the #index by storage location
2024-02-19T18:04:09.6919448Z         behaves like Date Range Picker
2024-02-19T18:04:09.6920587Z           when choosing 'All Time'
2024-02-19T18:04:10.6430809Z             shows all the records
2024-02-19T18:04:10.6432017Z           when choosing a date range that only includes the previous week
2024-02-19T18:04:11.5437176Z             shows only 1 record
2024-02-19T18:04:11.5438149Z           when choosing 'Last Month'
2024-02-19T18:04:12.4864514Z             shows only 2 of the records
2024-02-19T18:04:12.4865662Z     When visiting an existing purchase
2024-02-19T18:04:12.9388573Z       does not allow deletion of a purchase
2024-02-19T18:04:12.9389255Z 
2024-02-19T18:04:12.9389659Z Profiles
2024-02-19T18:04:12.9390796Z   POST #update
2024-02-19T18:04:12.9391758Z     when updating an existing value to a blank value
2024-02-19T18:04:12.9922405Z       should have blank values
2024-02-19T18:04:13.0380147Z       update partner
2024-02-19T18:04:13.0380766Z     successful save
2024-02-19T18:04:13.0821150Z       redirects to #show
2024-02-19T18:04:13.1258584Z       update partner
2024-02-19T18:04:13.1259239Z   GET #edit
2024-02-19T18:04:13.2259282Z     returns http success
2024-02-19T18:04:13.2259825Z 
2024-02-19T18:04:13.2260083Z Kit management
2024-02-19T18:04:14.1159628Z   can create a new kit as a user with the proper quantity
2024-02-19T18:04:14.6664087Z   should not display inactive storage locations under allocations
2024-02-19T18:04:16.1305416Z   can allocate and deallocate quantity per storage location from kit index
2024-02-19T18:04:16.1307240Z   when there is not enough quantity of the items contained in the kit on-hand
2024-02-19T18:04:17.2215264Z     will not change quantity amounts when allocating
2024-02-19T18:04:17.2216125Z   when there is no kit quantity
2024-02-19T18:04:18.3765556Z     will not change quantity amounts when deallocating
2024-02-19T18:04:18.3766734Z 
2024-02-19T18:04:18.3766984Z StorageLocations
2024-02-19T18:04:18.3768829Z   While signed in
2024-02-19T18:04:18.3770878Z     PUT #deactivate
2024-02-19T18:04:18.3994176Z       discards
2024-02-19T18:04:18.3994942Z       with inventory
2024-02-19T18:04:18.4464001Z         does not discard
2024-02-19T18:04:18.4466683Z     GET #show
2024-02-19T18:04:18.4467770Z       csv
2024-02-19T18:04:18.4990231Z         should be successful
2024-02-19T18:04:18.4990956Z       html
2024-02-19T18:04:18.5678697Z         should return a correct response
2024-02-19T18:04:18.5679579Z         with version date set
2024-02-19T18:04:18.5680449Z           with a version found
2024-02-19T18:04:18.6479309Z             should show the version specified
2024-02-19T18:04:18.6480182Z           with no version found
2024-02-19T18:04:18.7176250Z             should show N/A
2024-02-19T18:04:18.7179307Z     GET #index
2024-02-19T18:04:18.7180305Z       html
2024-02-19T18:04:18.7539987Z         succeeds
2024-02-19T18:04:18.7540633Z         with inactive locations
2024-02-19T18:04:18.7904467Z           does not includes the inactive location
2024-02-19T18:04:18.7905359Z           with include_inactive_locations
2024-02-19T18:04:18.8264810Z             includes the inactive location
2024-02-19T18:04:18.8265640Z       csv
2024-02-19T18:04:18.8438187Z         succeeds
2024-02-19T18:04:18.9414293Z         includes headers followed by alphabetized item names
2024-02-19T18:04:18.9415248Z     GET #inventory
2024-02-19T18:04:18.9415847Z       when also including inactive items
2024-02-19T18:04:19.0048346Z         returns a collection that also includes items that have been deactivated
2024-02-19T18:04:19.0049153Z       without any overrides
2024-02-19T18:04:19.0539196Z         returns a collection that only includes items at the storage location
2024-02-19T18:04:19.0540193Z       when also including omitted items
2024-02-19T18:04:19.1007045Z         contains a collection of ducktyped entries that respond the same
2024-02-19T18:04:19.1577328Z         returns a collection that also includes all items, but with zeroed quantities
2024-02-19T18:04:19.1578511Z     POST #import_csv
2024-02-19T18:04:19.1579049Z       with a csv file
2024-02-19T18:04:19.1757163Z         presents a flash notice message
2024-02-19T18:04:19.1811117Z         invokes .import_csv
2024-02-19T18:04:19.1956391Z         redirects
2024-02-19T18:04:19.1957339Z       csv file with wrong headers
2024-02-19T18:04:19.2080791Z         redirects
2024-02-19T18:04:19.2200784Z         presents a flash error message
2024-02-19T18:04:19.2201778Z       without a csv file
2024-02-19T18:04:19.2312649Z         redirects to :index
2024-02-19T18:04:19.2422028Z         presents a flash error message
2024-02-19T18:04:19.2422705Z     GET #new
2024-02-19T18:04:19.3927438Z       returns http success
2024-02-19T18:04:19.3928231Z     GET #destroy
2024-02-19T18:04:19.4200692Z       redirects to #index
2024-02-19T18:04:19.4201729Z     PUT #reactivate
2024-02-19T18:04:19.4361534Z       undiscards
2024-02-19T18:04:19.4362414Z     Looking at a different organization
2024-02-19T18:04:19.6057110Z       redirects the user to the sign-in page for CRUD actions
2024-02-19T18:04:19.6057769Z     GET #edit
2024-02-19T18:04:19.6401174Z       returns http success
2024-02-19T18:04:19.6402073Z   While not signed in
2024-02-19T18:04:19.6461920Z     redirects the user to the sign-in page for CRUD actions
2024-02-19T18:04:19.6462783Z 
2024-02-19T18:04:19.6463271Z Admin::Organizations
2024-02-19T18:04:19.6464196Z   When logged in as a super admin
2024-02-19T18:04:19.6465857Z     GET #show
2024-02-19T18:04:19.8579912Z       returns http success
2024-02-19T18:04:19.8580852Z     DELETE #destroy
2024-02-19T18:04:19.8581767Z       with a valid organization id
2024-02-19T18:04:20.3839709Z         redirects to #index
2024-02-19T18:04:20.3840729Z     DELETE #destroy
2024-02-19T18:04:20.7385524Z       redirects
2024-02-19T18:04:20.7386451Z     GET #index
2024-02-19T18:04:20.7708842Z       returns http success
2024-02-19T18:04:20.7709548Z     PATCH #update
2024-02-19T18:04:20.7710458Z       with a valid update
2024-02-19T18:04:20.9545705Z         redirects to #index
2024-02-19T18:04:20.9546544Z       with an invalid update
2024-02-19T18:04:21.1601331Z         returns http success
2024-02-19T18:04:21.3701847Z         redirects to #edit with an error message
2024-02-19T18:04:21.3703008Z     POST #create
2024-02-19T18:04:21.3703504Z       with valid params
2024-02-19T18:04:21.6508388Z         creates an organization and redirects to #index
2024-02-19T18:04:21.6509599Z       with invalid params
2024-02-19T18:04:21.6940639Z         does not create an organization and renders #create with an error message
2024-02-19T18:04:21.6941707Z     GET #new
2024-02-19T18:04:21.7321740Z       returns http success
2024-02-19T18:04:21.7322626Z       when given a token that matches a account request that has already been processed
2024-02-19T18:04:21.9577117Z         should render new with a flash error message
2024-02-19T18:04:21.9578176Z       when given a valid account request token in the query parameters
2024-02-19T18:04:22.0133654Z         should render new with pre populate input fields from the account_request
2024-02-19T18:04:22.0134571Z     PUT #update
2024-02-19T18:04:22.0333124Z       redirect
2024-02-19T18:04:22.0334176Z     GET #edit
2024-02-19T18:04:22.2360660Z       returns http success
2024-02-19T18:04:22.2362023Z   When logged in as a non-admin user
2024-02-19T18:04:22.2363275Z     PUT #update
2024-02-19T18:04:22.2487398Z       redirects
2024-02-19T18:04:22.2488103Z     GET #edit
2024-02-19T18:04:22.2606536Z       redirects
2024-02-19T18:04:22.2607147Z     GET #index
2024-02-19T18:04:22.2724191Z       redirects
2024-02-19T18:04:22.2724799Z     GET #new
2024-02-19T18:04:22.2841823Z       redirects
2024-02-19T18:04:22.2842439Z     POST #create
2024-02-19T18:04:22.2973907Z       redirects
2024-02-19T18:04:22.2974844Z 
2024-02-19T18:04:22.2975622Z DonationSites
2024-02-19T18:04:22.2976241Z   while signed in
2024-02-19T18:04:22.2977485Z     GET #index
2024-02-19T18:04:22.2978656Z       csv
2024-02-19T18:04:22.3131637Z         is expected to be successful
2024-02-19T18:04:22.3132359Z       html
2024-02-19T18:04:22.3448931Z         is expected to be successful
2024-02-19T18:04:22.3449681Z 
2024-02-19T18:04:22.3450091Z Admin Organization Management
2024-02-19T18:04:22.3451678Z   While signed in as an Administrative User (super admin)
2024-02-19T18:04:23.3916863Z     filters by organizations by name in organizations index page
2024-02-19T18:04:25.2723680Z     creates a new organization
2024-02-19T18:04:26.5289632Z     can view organization details
2024-02-19T18:04:26.5291026Z   While signed in as an Administrative User with no organization (super admin no org)
2024-02-19T18:04:28.4230418Z     creates a new organization
2024-02-19T18:04:28.4231085Z 
2024-02-19T18:04:28.4231397Z Organization management
2024-02-19T18:04:28.4233121Z   while signed in as a normal user
2024-02-19T18:04:28.9130519Z     can see summary details about the organization as a user
2024-02-19T18:04:29.3781696Z     cannot see 'Make user' button for admins
2024-02-19T18:04:29.3782672Z   while signed in as an organization admin
2024-02-19T18:04:30.3137708Z     can deactivate a user in the organization
2024-02-19T18:04:30.8126608Z     can re-invite a user to an organization after 7 days
2024-02-19T18:04:31.7668512Z     can add a new user to an organization
2024-02-19T18:04:32.2704130Z     can see 'Make user' button for admins
2024-02-19T18:04:33.2186556Z     can re-activate a user in the organization
2024-02-19T18:04:33.2187630Z     Editing the organization
2024-02-19T18:04:34.0662335Z       can set a default storage location on the organization
2024-02-19T18:04:35.0301578Z       can select if the org distributes essentials monthly
2024-02-19T18:04:35.9981185Z       can disable if the org does NOT use single step invite and approve partner process
2024-02-19T18:04:37.4726082Z       can select and deselect Required Partner Fields
2024-02-19T18:04:38.3309780Z       can set a reminder and a deadline day
2024-02-19T18:04:39.2798344Z       can select if the org shows year-to-date values on the distribution printout
2024-02-19T18:04:40.2381268Z       can select if the org repackages essentials
2024-02-19T18:04:41.3884268Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-02-19T18:04:42.2253841Z       can set the NDBN Member ID
2024-02-19T18:04:43.2010285Z       can enable if the org uses single step invite and approve partner process
2024-02-19T18:04:43.2011442Z     Viewing the organization
2024-02-19T18:04:43.7409460Z       can view organization details
2024-02-19T18:04:43.7410366Z 
2024-02-19T18:04:43.7410617Z /partners/profiles
2024-02-19T18:04:43.7412351Z   GET #show
2024-02-19T18:04:43.8006274Z     shows correct values for yes/no buttons
2024-02-19T18:04:43.8471972Z     displays the partner
2024-02-19T18:04:43.8472801Z   PUT #update
2024-02-19T18:04:43.8992592Z     updates the partner and profile
2024-02-19T18:04:43.8993528Z     when updating an existing value to a blank value
2024-02-19T18:04:43.9540471Z       does store N/A in the database
2024-02-19T18:04:44.0075578Z       does not update other partner profile attributes to blank
2024-02-19T18:04:44.0632675Z       updates the partner profile attribute to a blank value
2024-02-19T18:04:44.0633634Z     with no social media
2024-02-19T18:04:44.1661129Z       shows an error
2024-02-19T18:04:44.1662089Z   GET #edit
2024-02-19T18:04:44.2513212Z     displays the partner
2024-02-19T18:04:44.3391911Z     has "Yes" radio button value when value is true
2024-02-19T18:04:44.4262751Z     does not have default radio button value when value is nil
2024-02-19T18:04:44.5134611Z     has "No" radio button value when value is false
2024-02-19T18:04:44.5135250Z 
2024-02-19T18:04:44.5135823Z /partners/children
2024-02-19T18:04:44.5136393Z   GET #index
2024-02-19T18:04:44.5925041Z     should export CSV
2024-02-19T18:04:44.6515301Z     should render without any issues
2024-02-19T18:04:44.6515957Z 
2024-02-19T18:04:44.6516139Z Vendor
2024-02-19T18:04:44.6517234Z   when editing an existing vendor
2024-02-19T18:04:45.3874847Z     can update the contact info for a vendor as a user
2024-02-19T18:04:46.1203045Z     does not update a vendor with empty attributes
2024-02-19T18:04:46.1203783Z   when creating a new vendor
2024-02-19T18:04:46.8812706Z     can create a new vendor instance as a user
2024-02-19T18:04:47.5866391Z     cannot add a new vendor instance with empty attributes
2024-02-19T18:04:47.5868201Z   When a user views the index page
2024-02-19T18:04:48.0575366Z     should have the vendor names in alphabetical order
2024-02-19T18:04:48.0576366Z   When vendor have purchases associated with them already
2024-02-19T18:04:48.6448671Z     can have existing vendors show in the #index with some summary stats
2024-02-19T18:04:49.2298347Z     can have a single vendor show semi-detailed stats about purchases
2024-02-19T18:04:49.2299207Z 
2024-02-19T18:04:49.2299379Z Audits
2024-02-19T18:04:49.2301083Z   while signed in as an organization admin
2024-02-19T18:04:49.2302573Z     POST #create
2024-02-19T18:04:49.2303622Z       with invalid params
2024-02-19T18:04:49.2784401Z         re-renders the 'new' template
2024-02-19T18:04:49.3320627Z         re-renders the 'new' template with an error message when an invalid storage location is given
2024-02-19T18:04:49.3695117Z         assigns a newly created but unsaved audit as @audit
2024-02-19T18:04:49.3695946Z       with valid params
2024-02-19T18:04:49.4084564Z         creates a new Audit
2024-02-19T18:04:49.4461144Z         creates a new Audit with status as `in_progress` if `save_progress` is passed as a param
2024-02-19T18:04:49.4833689Z         creates a new Audit with status as `confirmed` if `confirm_audit` is passed as a param
2024-02-19T18:04:49.5192514Z         assigns a newly created audit as @audit
2024-02-19T18:04:49.5547269Z         redirects to the #show after created audit
2024-02-19T18:04:49.5548033Z     GET #new
2024-02-19T18:04:49.5901114Z       is successful
2024-02-19T18:04:49.5901549Z     DELETE #destroy
2024-02-19T18:04:49.5902175Z       with valid params
2024-02-19T18:04:49.6331478Z         can not destroy the audit if the audit's status is `finalized`
2024-02-19T18:04:49.6704821Z         destroys the audit if the audit's status is `in_progress`
2024-02-19T18:04:49.7062410Z         destroys the audit if the audit's status is `confirms`
2024-02-19T18:04:49.7063182Z     GET #edit
2024-02-19T18:04:49.7686459Z       is successful if the status of audit is `in_progress`
2024-02-19T18:04:49.8305964Z       redirects to #index if the status of audit is not `in_progress`
2024-02-19T18:04:49.8306812Z     GET #index
2024-02-19T18:04:49.8843332Z       is successful
2024-02-19T18:04:49.8845305Z     POST #finalize
2024-02-19T18:04:49.9480929Z       sets the finalize status and saves an event
2024-02-19T18:04:49.9481590Z     GET #show
2024-02-19T18:04:49.9988150Z       is successful
2024-02-19T18:04:49.9989028Z 
2024-02-19T18:04:49.9989286Z /account_requests
2024-02-19T18:04:49.9991025Z   GET #confirm
2024-02-19T18:04:49.9992199Z     when given a token that has already been confirmed
2024-02-19T18:04:50.1807457Z       should render a error that says that is code provided is invalid
2024-02-19T18:04:50.1808375Z     when given a invalid token
2024-02-19T18:04:50.1870438Z       should render a error that says that is code provided is invalid
2024-02-19T18:04:50.1871294Z     when given a valid token
2024-02-19T18:04:50.2069104Z       should the update confirmed_at on the account_request, queue confirmation email and render confirm template
2024-02-19T18:04:50.2070260Z   GET #new
2024-02-19T18:04:50.2187462Z     renders a successful response
2024-02-19T18:04:50.2188056Z   POST #create
2024-02-19T18:04:50.2188591Z     with valid parameters
2024-02-19T18:04:50.2311082Z       creates a new AccountRequest
2024-02-19T18:04:50.2435349Z       redirects to the created account_request confirmation
2024-02-19T18:04:50.2542113Z       delivers the confirmation email via default queue
2024-02-19T18:04:50.2542860Z     with invalid parameters
2024-02-19T18:04:50.2714148Z       does not create a new AccountRequest
2024-02-19T18:04:50.2862975Z       renders a successful response (i.e. to display the 'new' template)
2024-02-19T18:04:50.2863822Z   GET #confirmation
2024-02-19T18:04:50.2864449Z     when given a valid token
2024-02-19T18:04:50.3068779Z       should render the confirmation template
2024-02-19T18:04:50.3069600Z     when given a token that has already been confirmed
2024-02-19T18:04:50.4850608Z       should render a error that says that is code provided is invalid
2024-02-19T18:04:50.4851508Z     when given a invalid token
2024-02-19T18:04:50.4912458Z       should render a error that says that is code provided is invalid
2024-02-19T18:04:50.4913248Z   GET #received
2024-02-19T18:04:50.4913972Z     when given a valid token
2024-02-19T18:04:50.5051917Z       should render the received template
2024-02-19T18:04:50.5053627Z     when given a invalid token
2024-02-19T18:04:50.5110667Z       should render a error that says that is code provided is invalid
2024-02-19T18:04:50.5404138Z W, [2024-02-19T10:04:50.540209 #2427]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-02-19T18:04:50.5405916Z W, [2024-02-19T10:04:50.540250 #2427]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-19T18:04:50.5409909Z W, [2024-02-19T10:04:50.540273 #2427]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-19T18:04:50.5412505Z W, [2024-02-19T10:04:50.540302 #2427]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-02-19T18:04:50.5413934Z 
2024-02-19T18:04:50.5414397Z Finished in 3 minutes 25 seconds (files took 8.07 seconds to load)
2024-02-19T18:04:50.5415291Z 235 examples, 0 failures
2024-02-19T18:04:50.5415635Z 
2024-02-19T18:04:50.5415820Z Randomized with seed 30968
2024-02-19T18:04:50.5416158Z 
2024-02-19T18:04:51.0284269Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3819 / 6404 LOC (59.63%) covered.
2024-02-19T18:04:51.5372444Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10655 LOC (0.36%) covered.
