2024-02-20T21:41:21.1243589Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-02-20T21:41:21.1244465Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-02-20T21:41:21.1272010Z shell: /usr/bin/bash -e {0}
2024-02-20T21:41:21.1272411Z env:
2024-02-20T21:41:21.1272824Z   POSTGRES_HOST: localhost
2024-02-20T21:41:21.1273173Z   DATABASE_HOST: localhost
2024-02-20T21:41:21.1273561Z   PG_USERNAME: postgres
2024-02-20T21:41:21.1273991Z   PG_PASSWORD: password
2024-02-20T21:41:21.1274368Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-02-20T21:41:21.1275072Z   POSTGRES_PORT: 5432
2024-02-20T21:41:21.1275440Z   PGHOST: localhost
2024-02-20T21:41:21.1275802Z   PGUSER: postgres
2024-02-20T21:41:21.1276201Z   RAILS_ENV: test
2024-02-20T21:41:21.1276573Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-02-20T21:41:21.1277023Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-02-20T21:41:21.1277458Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-02-20T21:41:21.1277900Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-02-20T21:41:21.1278540Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-02-20T21:41:21.1279154Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-02-20T21:41:21.1279777Z   EVENTS_READ: true
2024-02-20T21:41:21.1280173Z ##[endgroup]
2024-02-20T21:41:26.7433834Z W, [2024-02-20T21:41:26.743039 #2379]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-02-20T21:41:26.7435743Z W, [2024-02-20T21:41:26.743102 #2379]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-20T21:41:26.7437451Z W, [2024-02-20T21:41:26.743118 #2379]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-20T21:41:26.7441319Z W, [2024-02-20T21:41:26.743143 #2379]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-02-20T21:41:30.5852223Z W, [2024-02-20T21:41:30.584909 #2379]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-02-20T21:41:30.5854746Z W, [2024-02-20T21:41:30.584957 #2379]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-20T21:41:30.5858855Z W, [2024-02-20T21:41:30.584977 #2379]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-20T21:41:30.5861905Z W, [2024-02-20T21:41:30.585031 #2379]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-02-20T21:41:30.5910913Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/partners/children_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-02-20T21:41:38.8358905Z 
2024-02-20T21:41:38.8359973Z Randomized with seed 21785
2024-02-20T21:41:39.8071328Z 
2024-02-20T21:41:39.8072094Z Managing requests
2024-02-20T21:41:39.8073076Z   creating a request
2024-02-20T21:41:39.8074164Z     GIVEN a partner user is permitted to make a request
2024-02-20T21:41:39.8075626Z       WHEN they create a request with only a comment
2024-02-20T21:41:54.0297471Z         should be created without any issue
2024-02-20T21:41:54.0298696Z       WHEN they create a request inproperly by not inputting anything
2024-02-20T21:41:54.9350726Z         should show an error message with the instructions
2024-02-20T21:41:54.9351680Z       WHEN they create a request properly
2024-02-20T21:41:54.9352987Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-02-20T21:41:57.2946606Z           AND the partner_user can view the details of the created request in a seperate page
2024-02-20T21:41:57.2947970Z   creating a individuals/family request
2024-02-20T21:41:57.2949437Z     GIVEN a partner user is permitted to make a request
2024-02-20T21:41:57.2950624Z       WHEN they create a request properly
2024-02-20T21:41:57.2952271Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-02-20T21:41:59.3962367Z           AND the partner_user can view the details of the created individuals request in a seperate page
2024-02-20T21:41:59.3963675Z       WHEN they create a request inproperly
2024-02-20T21:42:00.2913279Z         should show an error message with the instructions
2024-02-20T21:42:00.2919530Z 
2024-02-20T21:42:00.2921236Z Dashboard
2024-02-20T21:42:00.2922003Z   With a new essentials bank
2024-02-20T21:42:28.7400197Z     displays the getting started guide until the steps are completed
2024-02-20T21:42:28.7401150Z   With an existing essentials bank
2024-02-20T21:42:28.7402131Z     Distributions
2024-02-20T21:42:29.8093545Z       has a link to create a new distribution
2024-02-20T21:42:29.8095145Z       given 1 Distribution on 2022-02-19  (unless 'All Time'), 0 during 2022-02-20..2024-01-30, and 1 on 2024-01-31
2024-02-20T21:42:29.8096537Z         filtering to '' (February 20, 2022 - January 30, 2024)
2024-02-20T21:42:33.2909703Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-20T21:42:33.2914550Z       given 1 Distribution on 2024-02-19  (unless 'All Time'), 1 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:42:33.2916381Z         filtering to 'Today'
2024-02-20T21:42:34.6954127Z           shows the correct total and 1 Recent Distribution link(s)
2024-02-20T21:42:34.6956322Z       given 1 Distribution on 2024-02-13  (unless 'All Time'), 2 during 2024-02-14..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:42:34.6957599Z         filtering to 'Last 7 Days'
2024-02-20T21:42:36.1481254Z           shows the correct total and 2 Recent Distribution link(s)
2024-02-20T21:42:36.1483086Z       given 1 Distribution on 2024-02-18  (unless 'All Time'), 1 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-20T21:42:36.1484389Z         filtering to 'Yesterday'
2024-02-20T21:42:37.5142811Z           shows the correct total and 1 Recent Distribution link(s)
2024-02-20T21:42:37.5144582Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-20T21:42:37.5145708Z         filtering to 'This Month'
2024-02-20T21:42:40.8709250Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-20T21:42:40.8711285Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 1 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-20T21:42:40.8712553Z         filtering to 'Last Month'
2024-02-20T21:42:42.2916079Z           shows the correct total and 1 Recent Distribution link(s)
2024-02-20T21:42:42.2918336Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 2 during 2000-01-01..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:42:42.2919954Z         filtering to 'All Time'
2024-02-20T21:42:43.6866850Z           shows the correct total and 2 Recent Distribution link(s)
2024-02-20T21:42:43.6868641Z       given 1 Distribution on 2024-01-21  (unless 'All Time'), 2 during 2024-01-22..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:42:43.6869667Z         filtering to 'Last 30 Days'
2024-02-20T21:42:45.1099380Z           shows the correct total and 2 Recent Distribution link(s)
2024-02-20T21:42:45.1101191Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-20T21:42:45.1102387Z         filtering to 'This Year'
2024-02-20T21:42:46.5516151Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-20T21:42:46.5517117Z     Donations
2024-02-20T21:42:47.4555348Z       has a link to create a new donation
2024-02-20T21:42:47.4557105Z       given 1 Donation on 2024-01-21 (only if a valid date), 2 during 2024-01-22..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:42:47.4558811Z         filtering to 'Last 30 Days'
2024-02-20T21:42:48.8774736Z           shows the correct total and 2 Recent Donation link(s)
2024-02-20T21:42:48.8776770Z       given 1 Donation on 2024-02-13 (only if a valid date), 4 during 2024-02-14..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:42:48.8778080Z         filtering to 'Last 7 Days'
2024-02-20T21:42:50.3768503Z           shows the correct total and 3 Recent Donation link(s)
2024-02-20T21:42:50.3770105Z       given 1 Donation on 2023-12-31 (only if a valid date), 1 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-20T21:42:50.3770991Z         filtering to 'Last Month'
2024-02-20T21:42:51.7887243Z           shows the correct total and 1 Recent Donation link(s)
2024-02-20T21:42:51.7889221Z       given 1 Donation on 2024-02-19 (only if a valid date), 1 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:42:51.7890206Z         filtering to 'Today'
2024-02-20T21:42:53.3203356Z           shows the correct total and 1 Recent Donation link(s)
2024-02-20T21:42:53.3205341Z       given 1 Donation on 2024-01-31 (only if a valid date), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-20T21:42:53.3206794Z         filtering to 'This Month'
2024-02-20T21:42:54.7849744Z           shows the correct total and 3 Recent Donation link(s)
2024-02-20T21:42:54.7851745Z       given 1 Donation on 2024-02-18 (only if a valid date), 2 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-20T21:42:54.7853040Z         filtering to 'Yesterday'
2024-02-20T21:42:56.2104965Z           shows the correct total and 2 Recent Donation link(s)
2024-02-20T21:42:56.2106706Z       given 1 Donation on 2022-02-19 (only if a valid date), 0 during 2022-02-20..2024-02-14, and 1 on 2024-02-15
2024-02-20T21:42:56.2107768Z         filtering to '' (February 20, 2022 - February 14, 2024)
2024-02-20T21:42:59.5707141Z           shows the correct total and 0 Recent Donation link(s)
2024-02-20T21:42:59.5709013Z       given 1 Donation on 2023-12-31 (only if a valid date), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-20T21:42:59.5710547Z         filtering to 'This Year'
2024-02-20T21:43:02.9269695Z           shows the correct total and 0 Recent Donation link(s)
2024-02-20T21:43:02.9270818Z     Manufacturer Donations
2024-02-20T21:43:03.4990198Z       has a link to create a new donation
2024-02-20T21:43:03.4991969Z       given 1 Manufacturer donating on 2024-02-18  (unless 'All Time'), 9 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-20T21:43:03.4993065Z         filtering to 'Yesterday'
2024-02-20T21:43:05.9165692Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-20T21:43:05.9167710Z       given 1 Manufacturer donating on 2024-02-13  (unless 'All Time'), 3 during 2024-02-14..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:43:05.9169068Z         filtering to 'Last 7 Days'
2024-02-20T21:43:07.5834357Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-02-20T21:43:07.5836564Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-20T21:43:07.5838478Z         filtering to 'Last Month'
2024-02-20T21:43:09.0626026Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-02-20T21:43:09.0627994Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-20T21:43:09.0629885Z         filtering to 'This Year'
2024-02-20T21:43:10.5638571Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-02-20T21:43:10.5640552Z       given 1 Manufacturer donating on 2022-02-19  (unless 'All Time'), 4 during 2022-02-20..2023-12-12, and 1 on 2023-12-13
2024-02-20T21:43:10.5642022Z         filtering to '' (February 20, 2022 - December 12, 2023)
2024-02-20T21:43:12.4308828Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-02-20T21:43:12.4310834Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-20T21:43:12.4312359Z         filtering to 'This Month'
2024-02-20T21:43:13.8778110Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-02-20T21:43:13.8780264Z       given 1 Manufacturer donating on 2024-01-21  (unless 'All Time'), 4 during 2024-01-22..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:43:13.8781678Z         filtering to 'Last 30 Days'
2024-02-20T21:43:15.5515423Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-02-20T21:43:15.5517324Z       given 1 Manufacturer donating on 2024-02-19  (unless 'All Time'), 9 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:43:15.5518176Z         filtering to 'Today'
2024-02-20T21:43:18.0029448Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-20T21:43:18.0031064Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 8 during 2000-01-01..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:43:18.0032055Z         filtering to 'All Time'
2024-02-20T21:43:20.1769015Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-02-20T21:43:20.1769859Z     Signage
2024-02-20T21:43:23.0447356Z       shows their organization name unless they have a logo set
2024-02-20T21:43:23.0448526Z     Inventory Totals
2024-02-20T21:43:23.0449166Z       Summary
2024-02-20T21:43:23.7471666Z         displays the on-hand totals
2024-02-20T21:43:23.7472257Z         when constrained to date range
2024-02-20T21:43:24.7926191Z           does not change
2024-02-20T21:43:24.7927059Z     Product Drives
2024-02-20T21:43:25.3689224Z       has a widget for product drive summary data
2024-02-20T21:43:25.3691173Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 0 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-20T21:43:25.3692639Z         filtering to 'Last Month'
2024-02-20T21:43:28.7159165Z           shows 0 Recent Donation link(s)
2024-02-20T21:43:30.1235992Z           shows the correct total donations
2024-02-20T21:43:31.4538717Z           shows the correct total money raised
2024-02-20T21:43:31.4540408Z       given 1 Product Drive Donation on 2024-01-21 (unless 'All Time'), 0 during 2024-01-22..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:43:31.4541817Z         filtering to 'Last 30 Days'
2024-02-20T21:43:34.8112915Z           shows 0 Recent Donation link(s)
2024-02-20T21:43:36.1699701Z           shows the correct total money raised
2024-02-20T21:43:37.5139793Z           shows the correct total donations
2024-02-20T21:43:37.5141663Z       given 1 Product Drive Donation on 2024-02-13 (unless 'All Time'), 1 during 2024-02-14..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:43:37.5143072Z         filtering to 'Last 7 Days'
2024-02-20T21:43:38.9904265Z           shows the correct total donations
2024-02-20T21:43:40.3989245Z           shows 1 Recent Donation link(s)
2024-02-20T21:43:41.7731611Z           shows the correct total money raised
2024-02-20T21:43:41.7733001Z       Product drive behaviour with Mixed Donation types
2024-02-20T21:43:42.4871562Z         only counts product drive money raised
2024-02-20T21:43:43.1920100Z         only shows product drive donations as product drive donations
2024-02-20T21:43:43.8932361Z         only counts product drive donations for product drive
2024-02-20T21:43:43.8934142Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-20T21:43:43.8935479Z         filtering to 'This Year'
2024-02-20T21:43:45.2826447Z           shows 1 Recent Donation link(s)
2024-02-20T21:43:46.6778136Z           shows the correct total donations
2024-02-20T21:43:48.0918896Z           shows the correct total money raised
2024-02-20T21:43:48.0920723Z       given 1 Product Drive Donation on 2024-02-18 (unless 'All Time'), 1 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-20T21:43:48.0922186Z         filtering to 'Yesterday'
2024-02-20T21:43:49.4993447Z           shows the correct total donations
2024-02-20T21:43:50.9035770Z           shows the correct total money raised
2024-02-20T21:43:52.2867089Z           shows 1 Recent Donation link(s)
2024-02-20T21:43:52.2868774Z       given 1 Product Drive Donation on 2024-02-19 (unless 'All Time'), 4 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:43:52.2870110Z         filtering to 'Today'
2024-02-20T21:43:53.9000540Z           shows the correct total donations
2024-02-20T21:43:55.3985011Z           shows the correct total money raised
2024-02-20T21:43:56.9031114Z           shows 3 Recent Donation link(s)
2024-02-20T21:43:56.9032903Z       given 1 Product Drive Donation on 2022-02-19 (unless 'All Time'), 4 during 2022-02-20..2023-12-24, and 1 on 2023-12-25
2024-02-20T21:43:56.9034543Z         filtering to '' (February 20, 2022 - December 24, 2023)
2024-02-20T21:43:58.4092681Z           shows the correct total money raised
2024-02-20T21:43:59.9367163Z           shows 3 Recent Donation link(s)
2024-02-20T21:44:01.5013844Z           shows the correct total donations
2024-02-20T21:44:01.5015958Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 2 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-20T21:44:01.5017254Z         filtering to 'This Month'
2024-02-20T21:44:02.9313765Z           shows the correct total money raised
2024-02-20T21:44:04.3665068Z           shows the correct total donations
2024-02-20T21:44:05.8957048Z           shows 2 Recent Donation link(s)
2024-02-20T21:44:05.8957884Z     Purchases
2024-02-20T21:44:06.7823769Z       has a link to create a new purchase
2024-02-20T21:44:06.7825470Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-20T21:44:06.7826648Z         filtering to 'This Year'
2024-02-20T21:44:08.2063106Z           shows correct 2 Recent Purchase link(s)
2024-02-20T21:44:08.2065054Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 2 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-20T21:44:08.2066331Z         filtering to 'This Month'
2024-02-20T21:44:09.6438874Z           shows correct 2 Recent Purchase link(s)
2024-02-20T21:44:09.6440297Z       given 1 Purchase on 2024-02-13  (unless 'All Time'), 1 during 2024-02-14..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:44:09.6441195Z         filtering to 'Last 7 Days'
2024-02-20T21:44:11.0174452Z           shows correct 1 Recent Purchase link(s)
2024-02-20T21:44:11.0175988Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 4 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-20T21:44:11.0177358Z         filtering to 'Last Month'
2024-02-20T21:44:12.5186223Z           shows correct 3 Recent Purchase link(s)
2024-02-20T21:44:12.5187712Z       given 1 Purchase on 2022-02-19  (unless 'All Time'), 0 during 2022-02-20..2023-11-28, and 1 on 2023-11-29
2024-02-20T21:44:12.5189281Z         filtering to '' (February 20, 2022 - November 28, 2023)
2024-02-20T21:44:15.8668292Z           shows correct 0 Recent Purchase link(s)
2024-02-20T21:44:15.8673724Z       given 1 Purchase on 2024-02-18  (unless 'All Time'), 2 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-20T21:44:15.8675276Z         filtering to 'Yesterday'
2024-02-20T21:44:17.2700529Z           shows correct 2 Recent Purchase link(s)
2024-02-20T21:44:17.2702246Z       given 1 Purchase on 2024-01-21  (unless 'All Time'), 4 during 2024-01-22..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:44:17.2703551Z         filtering to 'Last 30 Days'
2024-02-20T21:44:18.9469455Z           shows correct 3 Recent Purchase link(s)
2024-02-20T21:44:18.9470989Z       given 1 Purchase on 2024-02-19  (unless 'All Time'), 4 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:44:18.9472174Z         filtering to 'Today'
2024-02-20T21:44:20.4477845Z           shows correct 3 Recent Purchase link(s)
2024-02-20T21:44:20.4479226Z 
2024-02-20T21:44:20.4479566Z /partners/children
2024-02-20T21:44:20.4480944Z   GET #index
2024-02-20T21:44:20.5505375Z     should render without any issues
2024-02-20T21:44:20.5976219Z     should export CSV
2024-02-20T21:44:20.5977553Z 
2024-02-20T21:44:20.5979688Z Admin::Organizations
2024-02-20T21:44:20.5980497Z   When logged in as a super admin
2024-02-20T21:44:20.5981539Z     GET #edit
2024-02-20T21:44:20.8189216Z       returns http success
2024-02-20T21:44:20.8190162Z     GET #new
2024-02-20T21:44:20.8576396Z       returns http success
2024-02-20T21:44:20.8577439Z       when given a valid account request token in the query parameters
2024-02-20T21:44:20.9217141Z         should render new with pre populate input fields from the account_request
2024-02-20T21:44:20.9218789Z       when given a token that matches a account request that has already been processed
2024-02-20T21:44:21.1336585Z         should render new with a flash error message
2024-02-20T21:44:21.1337516Z     PATCH #update
2024-02-20T21:44:21.1338400Z       with an invalid update
2024-02-20T21:44:21.3413651Z         returns http success
2024-02-20T21:44:21.5425952Z         redirects to #edit with an error message
2024-02-20T21:44:21.5427138Z       with a valid update
2024-02-20T21:44:21.7353546Z         redirects to #index
2024-02-20T21:44:21.7354318Z     POST #create
2024-02-20T21:44:21.7355367Z       with invalid params
2024-02-20T21:44:21.7790574Z         does not create an organization and renders #create with an error message
2024-02-20T21:44:21.7791664Z       with valid params
2024-02-20T21:44:22.0646248Z         creates an organization and redirects to #index
2024-02-20T21:44:22.0647167Z     DELETE #destroy
2024-02-20T21:44:22.4487658Z       redirects
2024-02-20T21:44:22.4488279Z     PUT #update
2024-02-20T21:44:22.4691778Z       redirect
2024-02-20T21:44:22.4692358Z     GET #index
2024-02-20T21:44:22.5008192Z       returns http success
2024-02-20T21:44:22.5008863Z     GET #show
2024-02-20T21:44:22.7091521Z       returns http success
2024-02-20T21:44:22.7092354Z     DELETE #destroy
2024-02-20T21:44:22.7093221Z       with a valid organization id
2024-02-20T21:44:23.2095887Z         redirects to #index
2024-02-20T21:44:23.2097223Z   When logged in as a non-admin user
2024-02-20T21:44:23.2097925Z     GET #edit
2024-02-20T21:44:23.2236275Z       redirects
2024-02-20T21:44:23.2236834Z     PUT #update
2024-02-20T21:44:23.2366487Z       redirects
2024-02-20T21:44:23.2367187Z     POST #create
2024-02-20T21:44:23.2510298Z       redirects
2024-02-20T21:44:23.2510991Z     GET #index
2024-02-20T21:44:23.2637889Z       redirects
2024-02-20T21:44:23.2638586Z     GET #new
2024-02-20T21:44:23.2764029Z       redirects
2024-02-20T21:44:23.2765146Z 
2024-02-20T21:44:23.2765356Z Audits
2024-02-20T21:44:23.2766559Z   while signed in as an organization admin
2024-02-20T21:44:23.2767792Z     POST #finalize
2024-02-20T21:44:23.3483768Z       sets the finalize status and saves an event
2024-02-20T21:44:23.3484758Z     DELETE #destroy
2024-02-20T21:44:23.3485675Z       with valid params
2024-02-20T21:44:23.3858381Z         destroys the audit if the audit's status is `in_progress`
2024-02-20T21:44:23.4206569Z         can not destroy the audit if the audit's status is `finalized`
2024-02-20T21:44:23.4572261Z         destroys the audit if the audit's status is `confirms`
2024-02-20T21:44:23.4573132Z     POST #create
2024-02-20T21:44:23.4573973Z       with invalid params
2024-02-20T21:44:23.5158804Z         re-renders the 'new' template with an error message when an invalid storage location is given
2024-02-20T21:44:23.5545076Z         assigns a newly created but unsaved audit as @audit
2024-02-20T21:44:23.5922510Z         re-renders the 'new' template
2024-02-20T21:44:23.5923226Z       with valid params
2024-02-20T21:44:23.6311172Z         assigns a newly created audit as @audit
2024-02-20T21:44:23.6676427Z         redirects to the #show after created audit
2024-02-20T21:44:23.7060127Z         creates a new Audit
2024-02-20T21:44:23.7448124Z         creates a new Audit with status as `confirmed` if `confirm_audit` is passed as a param
2024-02-20T21:44:23.7826411Z         creates a new Audit with status as `in_progress` if `save_progress` is passed as a param
2024-02-20T21:44:23.7827557Z     GET #new
2024-02-20T21:44:23.8200487Z       is successful
2024-02-20T21:44:23.8201184Z     GET #edit
2024-02-20T21:44:23.8793555Z       is successful if the status of audit is `in_progress`
2024-02-20T21:44:23.9414249Z       redirects to #index if the status of audit is not `in_progress`
2024-02-20T21:44:23.9415340Z     GET #show
2024-02-20T21:44:23.9927888Z       is successful
2024-02-20T21:44:23.9928637Z     GET #index
2024-02-20T21:44:24.0452651Z       is successful
2024-02-20T21:44:24.0453485Z 
2024-02-20T21:44:24.0453764Z Profiles
2024-02-20T21:44:24.0454846Z   POST #update
2024-02-20T21:44:24.0455805Z     when updating an existing value to a blank value
2024-02-20T21:44:24.0921806Z       should have blank values
2024-02-20T21:44:24.1367934Z       update partner
2024-02-20T21:44:24.1368790Z     successful save
2024-02-20T21:44:24.1801290Z       update partner
2024-02-20T21:44:24.2203769Z       redirects to #show
2024-02-20T21:44:24.2204539Z   GET #edit
2024-02-20T21:44:24.3295107Z     returns http success
2024-02-20T21:44:24.3295780Z 
2024-02-20T21:44:24.3296049Z Purchases
2024-02-20T21:44:24.3297806Z   while signed in as an organization admin
2024-02-20T21:44:25.1963127Z     allows deletion of a purchase
2024-02-20T21:44:25.1963948Z   while signed in as a normal user
2024-02-20T21:44:25.1964703Z     When visiting the index page
2024-02-20T21:44:25.1965715Z       In the middle of the year
2024-02-20T21:44:25.9493167Z         User sees total purchases value
2024-02-20T21:44:26.6961685Z         User can click to the new purchase form
2024-02-20T21:44:27.4496044Z         User sees purchased date column
2024-02-20T21:44:27.4496773Z       When filtering on the index page
2024-02-20T21:44:28.2819851Z         User can filter the #index by vendor
2024-02-20T21:44:29.0883676Z         User can filter the #index by storage location
2024-02-20T21:44:29.0884329Z         behaves like Date Range Picker
2024-02-20T21:44:29.0885525Z           when choosing a date range that only includes the previous week
2024-02-20T21:44:29.9984959Z             shows only 1 record
2024-02-20T21:44:29.9986072Z           when choosing 'All Time'
2024-02-20T21:44:30.9322305Z             shows all the records
2024-02-20T21:44:30.9323665Z           when choosing 'Last Month'
2024-02-20T21:44:31.8898594Z             shows only 2 of the records
2024-02-20T21:44:31.8899744Z     When visiting an existing purchase
2024-02-20T21:44:32.3366086Z       does not allow deletion of a purchase
2024-02-20T21:44:32.3366746Z     When creating a new purchase
2024-02-20T21:44:32.8189477Z       should not display inactive storage locations in dropdown
2024-02-20T21:44:32.8190462Z       via manual entry
2024-02-20T21:44:33.8106908Z         Does not include inactive items in the line item fields
2024-02-20T21:44:35.0026132Z         multiple line items for the same item type are accepted and combined on the backend
2024-02-20T21:44:36.0314268Z         User can create vendor from purchase
2024-02-20T21:44:37.1007535Z         User can create a purchase IN THE PAST
2024-02-20T21:44:38.0060744Z         User can create a purchase using dollars decimal amount
2024-02-20T21:44:38.0061446Z         when creating a purchase incorrectly
2024-02-20T21:44:38.7910860Z           should display failure with error messages
2024-02-20T21:44:39.7509921Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-02-20T21:44:39.7511120Z       Editing purchase
2024-02-20T21:44:40.2382797Z         A user can see purchased_from value
2024-02-20T21:44:40.8611352Z         A user can view another organizations purchase
2024-02-20T21:44:40.8612217Z       via barcode entry
2024-02-20T21:44:41.5918991Z         a user can add items via scanning them in by barcode
2024-02-20T21:44:42.8087135Z         a user can add items that do not yet have a barcode
2024-02-20T21:44:43.7199296Z         User scan same barcode 2 times
2024-02-20T21:44:43.7200843Z 
2024-02-20T21:44:43.7201182Z User account management
2024-02-20T21:44:43.7202415Z   when in staging
2024-02-20T21:44:44.1670661Z     should display staging warning
2024-02-20T21:44:44.6127200Z     should not allow the user to change staging credentials
2024-02-20T21:44:44.6128436Z   when not in staging
2024-02-20T21:44:45.3707906Z     should fail when the email is invalid
2024-02-20T21:44:46.2651060Z     should change the email
2024-02-20T21:44:47.1403770Z     should change an user name
2024-02-20T21:44:47.1404488Z 
2024-02-20T21:44:47.1404720Z Organization management
2024-02-20T21:44:47.1406423Z   while signed in as a normal user
2024-02-20T21:44:47.6125016Z     can see summary details about the organization as a user
2024-02-20T21:44:48.0683018Z     cannot see 'Make user' button for admins
2024-02-20T21:44:48.0684136Z   while signed in as an organization admin
2024-02-20T21:44:49.1164096Z     can deactivate a user in the organization
2024-02-20T21:44:50.0368804Z     can add a new user to an organization
2024-02-20T21:44:50.5393908Z     can see 'Make user' button for admins
2024-02-20T21:44:51.0374729Z     can re-invite a user to an organization after 7 days
2024-02-20T21:44:51.9806879Z     can re-activate a user in the organization
2024-02-20T21:44:51.9807778Z     Viewing the organization
2024-02-20T21:44:52.5314252Z       can view organization details
2024-02-20T21:44:52.5315547Z     Editing the organization
2024-02-20T21:44:53.7200399Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-02-20T21:44:54.5741460Z       can set a reminder and a deadline day
2024-02-20T21:44:55.5790432Z       can select if the org repackages essentials
2024-02-20T21:44:56.4354606Z       can set the NDBN Member ID
2024-02-20T21:44:57.4098576Z       can enable if the org uses single step invite and approve partner process
2024-02-20T21:44:58.2597242Z       can set a default storage location on the organization
2024-02-20T21:44:59.2507059Z       can select if the org shows year-to-date values on the distribution printout
2024-02-20T21:45:00.7186982Z       can select and deselect Required Partner Fields
2024-02-20T21:45:01.7223326Z       can disable if the org does NOT use single step invite and approve partner process
2024-02-20T21:45:02.6856281Z       can select if the org distributes essentials monthly
2024-02-20T21:45:02.6857227Z 
2024-02-20T21:45:02.6857517Z /partners/profiles
2024-02-20T21:45:02.6859246Z   GET #show
2024-02-20T21:45:02.7504709Z     displays the partner
2024-02-20T21:45:02.8051312Z     shows correct values for yes/no buttons
2024-02-20T21:45:02.8052247Z   GET #edit
2024-02-20T21:45:02.9025442Z     has "Yes" radio button value when value is true
2024-02-20T21:45:02.9920367Z     has "No" radio button value when value is false
2024-02-20T21:45:03.0788978Z     displays the partner
2024-02-20T21:45:03.1683980Z     does not have default radio button value when value is nil
2024-02-20T21:45:03.1685201Z   PUT #update
2024-02-20T21:45:03.2265707Z     updates the partner and profile
2024-02-20T21:45:03.2267102Z     with no social media
2024-02-20T21:45:03.3197061Z       shows an error
2024-02-20T21:45:03.3198045Z     when updating an existing value to a blank value
2024-02-20T21:45:03.3822857Z       updates the partner profile attribute to a blank value
2024-02-20T21:45:03.4373365Z       does store N/A in the database
2024-02-20T21:45:03.4923505Z       does not update other partner profile attributes to blank
2024-02-20T21:45:03.4924873Z 
2024-02-20T21:45:03.4925343Z Kit management
2024-02-20T21:45:04.0625527Z   should not display inactive storage locations under allocations
2024-02-20T21:45:05.5080934Z   can allocate and deallocate quantity per storage location from kit index
2024-02-20T21:45:06.4233063Z   can create a new kit as a user with the proper quantity
2024-02-20T21:45:06.4234110Z   when there is not enough quantity of the items contained in the kit on-hand
2024-02-20T21:45:07.4979738Z     will not change quantity amounts when allocating
2024-02-20T21:45:07.4980524Z   when there is no kit quantity
2024-02-20T21:45:08.6298059Z     will not change quantity amounts when deallocating
2024-02-20T21:45:08.6298895Z 
2024-02-20T21:45:08.6299199Z /account_requests
2024-02-20T21:45:08.6301270Z   GET #confirmation
2024-02-20T21:45:08.6302491Z     when given a valid token
2024-02-20T21:45:08.6487033Z       should render the confirmation template
2024-02-20T21:45:08.6488043Z     when given a invalid token
2024-02-20T21:45:08.6545654Z       should render a error that says that is code provided is invalid
2024-02-20T21:45:08.6546921Z     when given a token that has already been confirmed
2024-02-20T21:45:08.8471248Z       should render a error that says that is code provided is invalid
2024-02-20T21:45:08.8472551Z   GET #confirm
2024-02-20T21:45:08.8473167Z     when given a valid token
2024-02-20T21:45:08.8664048Z       should the update confirmed_at on the account_request, queue confirmation email and render confirm template
2024-02-20T21:45:08.8665603Z     when given a token that has already been confirmed
2024-02-20T21:45:09.0482276Z       should render a error that says that is code provided is invalid
2024-02-20T21:45:09.0483213Z     when given a invalid token
2024-02-20T21:45:09.0552148Z       should render a error that says that is code provided is invalid
2024-02-20T21:45:09.0553326Z   GET #new
2024-02-20T21:45:09.0688550Z     renders a successful response
2024-02-20T21:45:09.0689548Z   POST #create
2024-02-20T21:45:09.0690145Z     with invalid parameters
2024-02-20T21:45:09.0877502Z       does not create a new AccountRequest
2024-02-20T21:45:09.1041451Z       renders a successful response (i.e. to display the 'new' template)
2024-02-20T21:45:09.1044008Z     with valid parameters
2024-02-20T21:45:09.1163671Z       delivers the confirmation email via default queue
2024-02-20T21:45:09.1287440Z       redirects to the created account_request confirmation
2024-02-20T21:45:09.1405151Z       creates a new AccountRequest
2024-02-20T21:45:09.1406056Z   GET #received
2024-02-20T21:45:09.1406798Z     when given a valid token
2024-02-20T21:45:09.1541846Z       should render the received template
2024-02-20T21:45:09.1542986Z     when given a invalid token
2024-02-20T21:45:09.1600891Z       should render a error that says that is code provided is invalid
2024-02-20T21:45:09.1601659Z 
2024-02-20T21:45:09.1601870Z DonationSites
2024-02-20T21:45:09.1603106Z   while signed in
2024-02-20T21:45:09.1603825Z     GET #index
2024-02-20T21:45:09.1604690Z       html
2024-02-20T21:45:09.1954165Z         is expected to be successful
2024-02-20T21:45:09.1956651Z       csv
2024-02-20T21:45:09.2108712Z         is expected to be successful
2024-02-20T21:45:09.2109611Z 
2024-02-20T21:45:09.2109977Z Vendor
2024-02-20T21:45:09.2113445Z   when creating a new vendor
2024-02-20T21:45:09.9231183Z     cannot add a new vendor instance with empty attributes
2024-02-20T21:45:10.6820572Z     can create a new vendor instance as a user
2024-02-20T21:45:10.6821884Z   When vendor have purchases associated with them already
2024-02-20T21:45:11.2865009Z     can have existing vendors show in the #index with some summary stats
2024-02-20T21:45:11.8720228Z     can have a single vendor show semi-detailed stats about purchases
2024-02-20T21:45:11.8931976Z   when editing an existing vendor
2024-02-20T21:45:12.6167091Z     does not update a vendor with empty attributes
2024-02-20T21:45:13.3557909Z     can update the contact info for a vendor as a user
2024-02-20T21:45:13.3558767Z   When a user views the index page
2024-02-20T21:45:13.8155010Z     should have the vendor names in alphabetical order
2024-02-20T21:45:13.8156246Z 
2024-02-20T21:45:13.8156514Z StorageLocations
2024-02-20T21:45:13.8158000Z   While signed in
2024-02-20T21:45:13.8159933Z     GET #show
2024-02-20T21:45:13.8160834Z       csv
2024-02-20T21:45:13.8710780Z         should be successful
2024-02-20T21:45:13.8711232Z       html
2024-02-20T21:45:13.9403496Z         should return a correct response
2024-02-20T21:45:13.9404175Z         with version date set
2024-02-20T21:45:13.9404658Z           with no version found
2024-02-20T21:45:14.0120471Z             should show N/A
2024-02-20T21:45:14.0922599Z           with a version found
2024-02-20T21:45:14.0923060Z             should show the version specified
2024-02-20T21:45:14.0923756Z     Looking at a different organization
2024-02-20T21:45:14.2680684Z       redirects the user to the sign-in page for CRUD actions
2024-02-20T21:45:14.2681464Z     PUT #deactivate
2024-02-20T21:45:14.2891280Z       discards
2024-02-20T21:45:14.2891745Z       with inventory
2024-02-20T21:45:14.3361199Z         does not discard
2024-02-20T21:45:14.3361715Z     GET #edit
2024-02-20T21:45:14.7894007Z       returns http success
2024-02-20T21:45:14.7894588Z     GET #new
2024-02-20T21:45:14.8208540Z       returns http success
2024-02-20T21:45:14.8209077Z     GET #index
2024-02-20T21:45:14.8209813Z       html
2024-02-20T21:45:14.8562791Z         succeeds
2024-02-20T21:45:14.8563223Z         with inactive locations
2024-02-20T21:45:14.8928309Z           does not includes the inactive location
2024-02-20T21:45:14.8929042Z           with include_inactive_locations
2024-02-20T21:45:14.9287637Z             includes the inactive location
2024-02-20T21:45:14.9288263Z       csv
2024-02-20T21:45:14.9463110Z         succeeds
2024-02-20T21:45:15.0438792Z         includes headers followed by alphabetized item names
2024-02-20T21:45:15.0439566Z     POST #import_csv
2024-02-20T21:45:15.0440628Z       with a csv file
2024-02-20T21:45:15.0596776Z         redirects
2024-02-20T21:45:15.0749597Z         presents a flash notice message
2024-02-20T21:45:15.0804494Z         invokes .import_csv
2024-02-20T21:45:15.0805035Z       without a csv file
2024-02-20T21:45:15.0924309Z         redirects to :index
2024-02-20T21:45:15.1041217Z         presents a flash error message
2024-02-20T21:45:15.1041862Z       csv file with wrong headers
2024-02-20T21:45:15.1165619Z         redirects
2024-02-20T21:45:15.1287037Z         presents a flash error message
2024-02-20T21:45:15.1287642Z     GET #destroy
2024-02-20T21:45:15.1540396Z       redirects to #index
2024-02-20T21:45:15.1540967Z     PUT #reactivate
2024-02-20T21:45:15.2290461Z       undiscards
2024-02-20T21:45:15.2291025Z     GET #inventory
2024-02-20T21:45:15.2291734Z       when also including inactive items
2024-02-20T21:45:15.4255832Z         returns a collection that also includes items that have been deactivated
2024-02-20T21:45:15.4256810Z       when also including omitted items
2024-02-20T21:45:15.4766386Z         returns a collection that also includes all items, but with zeroed quantities
2024-02-20T21:45:15.5271293Z         contains a collection of ducktyped entries that respond the same
2024-02-20T21:45:15.5272199Z       without any overrides
2024-02-20T21:45:15.5808993Z         returns a collection that only includes items at the storage location
2024-02-20T21:45:15.5809872Z   While not signed in
2024-02-20T21:45:15.5874088Z     redirects the user to the sign-in page for CRUD actions
2024-02-20T21:45:15.5874661Z 
2024-02-20T21:45:15.5875007Z Admin Organization Management
2024-02-20T21:45:15.5876545Z   While signed in as an Administrative User with no organization (super admin no org)
2024-02-20T21:45:17.4780500Z     creates a new organization
2024-02-20T21:45:17.4781343Z   While signed in as an Administrative User (super admin)
2024-02-20T21:45:19.3255497Z     creates a new organization
2024-02-20T21:45:20.3615650Z     filters by organizations by name in organizations index page
2024-02-20T21:45:21.6395795Z     can view organization details
2024-02-20T21:45:21.7192863Z W, [2024-02-20T13:45:21.718957 #2430]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-02-20T21:45:21.7195377Z W, [2024-02-20T13:45:21.719022 #2430]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-20T21:45:21.7197724Z W, [2024-02-20T13:45:21.719047 #2430]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-20T21:45:21.7200048Z W, [2024-02-20T13:45:21.719094 #2430]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-02-20T21:45:21.7235780Z 
2024-02-20T21:45:21.7236438Z Finished in 3 minutes 42.9 seconds (files took 8.02 seconds to load)
2024-02-20T21:45:21.7237276Z 235 examples, 0 failures
2024-02-20T21:45:21.7238965Z 
2024-02-20T21:45:21.7239380Z Randomized with seed 21785
2024-02-20T21:45:21.7239733Z 
2024-02-20T21:45:22.0116997Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3819 / 6403 LOC (59.64%) covered.
2024-02-20T21:45:22.5354371Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10651 LOC (0.36%) covered.
