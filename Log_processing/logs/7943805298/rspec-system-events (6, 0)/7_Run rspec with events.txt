2024-02-17T19:28:06.7813801Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-02-17T19:28:06.7814642Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-02-17T19:28:06.7842719Z shell: /usr/bin/bash -e {0}
2024-02-17T19:28:06.7843127Z env:
2024-02-17T19:28:06.7843552Z   POSTGRES_HOST: localhost
2024-02-17T19:28:06.7843963Z   DATABASE_HOST: localhost
2024-02-17T19:28:06.7844305Z   PG_USERNAME: postgres
2024-02-17T19:28:06.7844774Z   PG_PASSWORD: password
2024-02-17T19:28:06.7845171Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-02-17T19:28:06.7845665Z   POSTGRES_PORT: 5432
2024-02-17T19:28:06.7846022Z   PGHOST: localhost
2024-02-17T19:28:06.7846348Z   PGUSER: postgres
2024-02-17T19:28:06.7846751Z   RAILS_ENV: test
2024-02-17T19:28:06.7847116Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-02-17T19:28:06.7847573Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-02-17T19:28:06.7848044Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-02-17T19:28:06.7848479Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-02-17T19:28:06.7849117Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-02-17T19:28:06.7849788Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-02-17T19:28:06.7850445Z   EVENTS_READ: true
2024-02-17T19:28:06.7850815Z ##[endgroup]
2024-02-17T19:28:12.6096235Z W, [2024-02-17T19:28:12.609278 #2306]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-02-17T19:28:12.6098303Z W, [2024-02-17T19:28:12.609337 #2306]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-17T19:28:12.6103257Z W, [2024-02-17T19:28:12.609353 #2306]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-17T19:28:12.6108231Z W, [2024-02-17T19:28:12.609380 #2306]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-02-17T19:28:14.9871783Z W, [2024-02-17T19:28:14.986863 #2306]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-02-17T19:28:14.9873128Z W, [2024-02-17T19:28:14.986908 #2306]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-17T19:28:14.9874910Z W, [2024-02-17T19:28:14.986922 #2306]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-17T19:28:14.9877408Z W, [2024-02-17T19:28:14.986961 #2306]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-02-17T19:28:14.9929711Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/partners/children_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-02-17T19:28:23.5606448Z 
2024-02-17T19:28:23.5607401Z Randomized with seed 12515
2024-02-17T19:28:24.5319237Z 
2024-02-17T19:28:24.5320261Z Organization management
2024-02-17T19:28:24.5321143Z   while signed in as an organization admin
2024-02-17T19:28:26.5876118Z     can deactivate a user in the organization
2024-02-17T19:28:27.5279008Z     can add a new user to an organization
2024-02-17T19:28:28.0410874Z     can see 'Make user' button for admins
2024-02-17T19:28:28.5493797Z     can re-invite a user to an organization after 7 days
2024-02-17T19:28:29.5389215Z     can re-activate a user in the organization
2024-02-17T19:28:29.5390064Z     Editing the organization
2024-02-17T19:28:31.0152645Z       can select and deselect Required Partner Fields
2024-02-17T19:28:32.0393203Z       can select if the org distributes essentials monthly
2024-02-17T19:28:33.2118386Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-02-17T19:28:34.1949014Z       can disable if the org does NOT use single step invite and approve partner process
2024-02-17T19:28:35.0405936Z       can set the NDBN Member ID
2024-02-17T19:28:35.9395933Z       can set a reminder and a deadline day
2024-02-17T19:28:36.9388696Z       can select if the org repackages essentials
2024-02-17T19:28:37.9556528Z       can select if the org shows year-to-date values on the distribution printout
2024-02-17T19:28:38.9592765Z       can enable if the org uses single step invite and approve partner process
2024-02-17T19:28:39.8255420Z       can set a default storage location on the organization
2024-02-17T19:28:39.8256202Z     Viewing the organization
2024-02-17T19:28:40.4110898Z       can view organization details
2024-02-17T19:28:40.4111864Z   while signed in as a normal user
2024-02-17T19:28:40.8850035Z     can see summary details about the organization as a user
2024-02-17T19:28:41.3687492Z     cannot see 'Make user' button for admins
2024-02-17T19:28:41.3693856Z 
2024-02-17T19:28:41.3694162Z Dashboard
2024-02-17T19:28:41.3696028Z   With an existing essentials bank
2024-02-17T19:28:41.3698311Z     Manufacturer Donations
2024-02-17T19:28:42.0344225Z       has a link to create a new donation
2024-02-17T19:28:42.0346079Z       given 1 Manufacturer donating on 2024-02-15  (unless 'All Time'), 8 during 2024-02-16..2024-02-16, and 1 on 2024-02-17
2024-02-17T19:28:42.0347666Z         filtering to 'Yesterday'
2024-02-17T19:28:44.4452767Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-17T19:28:44.4455020Z       given 1 Manufacturer donating on 2024-02-16  (unless 'All Time'), 5 during 2024-02-17..2024-02-17, and 1 on 2024-02-18
2024-02-17T19:28:44.4456339Z         filtering to 'Today'
2024-02-17T19:28:46.4751639Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-02-17T19:28:46.4753575Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 8 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-17T19:28:46.4754602Z         filtering to 'This Month'
2024-02-17T19:28:48.8137079Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-17T19:28:48.8139034Z       given 1 Manufacturer donating on 2024-02-10  (unless 'All Time'), 5 during 2024-02-11..2024-02-17, and 1 on 2024-02-18
2024-02-17T19:28:48.8140237Z         filtering to 'Last 7 Days'
2024-02-17T19:28:50.7294932Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-02-17T19:28:50.7296781Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-17T19:28:50.7298324Z         filtering to 'This Year'
2024-02-17T19:28:52.1790868Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-02-17T19:28:52.1792863Z       given 1 Manufacturer donating on 2024-01-18  (unless 'All Time'), 5 during 2024-01-19..2024-02-17, and 1 on 2024-02-18
2024-02-17T19:28:52.1794329Z         filtering to 'Last 30 Days'
2024-02-17T19:28:54.3042206Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-02-17T19:28:54.3044256Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 1 during 2000-01-01..2024-02-17, and 1 on 2024-02-18
2024-02-17T19:28:54.3045633Z         filtering to 'All Time'
2024-02-17T19:28:55.8365628Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-02-17T19:28:55.8368038Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 1 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-17T19:28:55.8369954Z         filtering to 'Last Month'
2024-02-17T19:28:57.3362469Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-02-17T19:28:57.3364237Z       given 1 Manufacturer donating on 2022-02-16  (unless 'All Time'), 7 during 2022-02-17..2023-11-02, and 1 on 2023-11-03
2024-02-17T19:28:57.3365845Z         filtering to '' (February 17, 2022 - November 2, 2023)
2024-02-17T19:28:59.5565383Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-02-17T19:28:59.5566591Z     Inventory Totals
2024-02-17T19:28:59.5567238Z       Summary
2024-02-17T19:29:00.2971777Z         displays the on-hand totals
2024-02-17T19:29:00.2972649Z         when constrained to date range
2024-02-17T19:29:01.3693535Z           does not change
2024-02-17T19:29:01.3694168Z     Distributions
2024-02-17T19:29:02.3162991Z       has a link to create a new distribution
2024-02-17T19:29:02.3164757Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 1 during 2000-01-01..2024-02-17, and 1 on 2024-02-18
2024-02-17T19:29:02.3166296Z         filtering to 'All Time'
2024-02-17T19:29:03.7896240Z           shows the correct total and 1 Recent Distribution link(s)
2024-02-17T19:29:03.7897950Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 3 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-17T19:29:03.7900002Z         filtering to 'Last Month'
2024-02-17T19:29:05.3009036Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-17T19:29:05.3010961Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 2 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-17T19:29:05.3011914Z         filtering to 'This Month'
2024-02-17T19:29:06.7483185Z           shows the correct total and 2 Recent Distribution link(s)
2024-02-17T19:29:06.7484762Z       given 1 Distribution on 2024-02-10  (unless 'All Time'), 3 during 2024-02-11..2024-02-17, and 1 on 2024-02-18
2024-02-17T19:29:06.7485850Z         filtering to 'Last 7 Days'
2024-02-17T19:29:08.2705691Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-17T19:29:08.2707720Z       given 1 Distribution on 2024-02-15  (unless 'All Time'), 3 during 2024-02-16..2024-02-16, and 1 on 2024-02-17
2024-02-17T19:29:08.2708809Z         filtering to 'Yesterday'
2024-02-17T19:29:09.7396618Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-17T19:29:09.7398716Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-17T19:29:09.7400020Z         filtering to 'This Year'
2024-02-17T19:29:11.1456378Z           shows the correct total and 1 Recent Distribution link(s)
2024-02-17T19:29:11.1458107Z       given 1 Distribution on 2024-02-16  (unless 'All Time'), 3 during 2024-02-17..2024-02-17, and 1 on 2024-02-18
2024-02-17T19:29:11.1459461Z         filtering to 'Today'
2024-02-17T19:29:12.5977827Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-17T19:29:12.5979594Z       given 1 Distribution on 2024-01-18  (unless 'All Time'), 4 during 2024-01-19..2024-02-17, and 1 on 2024-02-18
2024-02-17T19:29:12.5980646Z         filtering to 'Last 30 Days'
2024-02-17T19:29:14.0442400Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-17T19:29:14.0444557Z       given 1 Distribution on 2022-02-16  (unless 'All Time'), 4 during 2022-02-17..2023-09-16, and 1 on 2023-09-17
2024-02-17T19:29:14.0445874Z         filtering to '' (February 17, 2022 - September 16, 2023)
2024-02-17T19:29:15.5340709Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-17T19:29:15.5341716Z     Purchases
2024-02-17T19:29:16.4980354Z       has a link to create a new purchase
2024-02-17T19:29:16.4982112Z       given 1 Purchase on 2022-02-16  (unless 'All Time'), 3 during 2022-02-17..2024-01-22, and 1 on 2024-01-23
2024-02-17T19:29:16.4983747Z         filtering to '' (February 17, 2022 - January 22, 2024)
2024-02-17T19:29:18.0503572Z           shows correct 3 Recent Purchase link(s)
2024-02-17T19:29:18.0505270Z       given 1 Purchase on 2024-02-10  (unless 'All Time'), 2 during 2024-02-11..2024-02-17, and 1 on 2024-02-18
2024-02-17T19:29:18.0506055Z         filtering to 'Last 7 Days'
2024-02-17T19:29:19.5279919Z           shows correct 2 Recent Purchase link(s)
2024-02-17T19:29:19.5281651Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 4 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-17T19:29:19.5283182Z         filtering to 'Last Month'
2024-02-17T19:29:21.1150661Z           shows correct 3 Recent Purchase link(s)
2024-02-17T19:29:21.1152346Z       given 1 Purchase on 2024-02-15  (unless 'All Time'), 1 during 2024-02-16..2024-02-16, and 1 on 2024-02-17
2024-02-17T19:29:21.1153183Z         filtering to 'Yesterday'
2024-02-17T19:29:22.5453584Z           shows correct 1 Recent Purchase link(s)
2024-02-17T19:29:22.5457041Z       given 1 Purchase on 2024-02-16  (unless 'All Time'), 4 during 2024-02-17..2024-02-17, and 1 on 2024-02-18
2024-02-17T19:29:22.5458326Z         filtering to 'Today'
2024-02-17T19:29:24.1111936Z           shows correct 3 Recent Purchase link(s)
2024-02-17T19:29:24.1113707Z       given 1 Purchase on 2024-01-18  (unless 'All Time'), 3 during 2024-01-19..2024-02-17, and 1 on 2024-02-18
2024-02-17T19:29:24.1115291Z         filtering to 'Last 30 Days'
2024-02-17T19:29:25.6264183Z           shows correct 3 Recent Purchase link(s)
2024-02-17T19:29:25.6266112Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-17T19:29:25.6267427Z         filtering to 'This Year'
2024-02-17T19:29:27.2961483Z           shows correct 3 Recent Purchase link(s)
2024-02-17T19:29:27.2963205Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-17T19:29:27.2964725Z         filtering to 'This Month'
2024-02-17T19:29:28.7328109Z           shows correct 1 Recent Purchase link(s)
2024-02-17T19:29:28.7329040Z     Donations
2024-02-17T19:29:29.6819333Z       has a link to create a new donation
2024-02-17T19:29:29.6821030Z       given 1 Donation on 2024-01-31 (only if a valid date), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-17T19:29:29.6822550Z         filtering to 'This Month'
2024-02-17T19:29:31.1003997Z           shows the correct total and 1 Recent Donation link(s)
2024-02-17T19:29:31.1006208Z       given 1 Donation on 2024-02-16 (only if a valid date), 1 during 2024-02-17..2024-02-17, and 1 on 2024-02-18
2024-02-17T19:29:31.1007307Z         filtering to 'Today'
2024-02-17T19:29:32.5388554Z           shows the correct total and 1 Recent Donation link(s)
2024-02-17T19:29:32.5390373Z       given 1 Donation on 2024-02-15 (only if a valid date), 0 during 2024-02-16..2024-02-16, and 1 on 2024-02-17
2024-02-17T19:29:32.5392235Z         filtering to 'Yesterday'
2024-02-17T19:29:35.9316881Z           shows the correct total and 0 Recent Donation link(s)
2024-02-17T19:29:35.9318697Z       given 1 Donation on 2024-02-10 (only if a valid date), 3 during 2024-02-11..2024-02-17, and 1 on 2024-02-18
2024-02-17T19:29:35.9319771Z         filtering to 'Last 7 Days'
2024-02-17T19:29:37.4902334Z           shows the correct total and 3 Recent Donation link(s)
2024-02-17T19:29:37.4904100Z       given 1 Donation on 2023-12-31 (only if a valid date), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-17T19:29:37.4905202Z         filtering to 'This Year'
2024-02-17T19:29:39.1028311Z           shows the correct total and 1 Recent Donation link(s)
2024-02-17T19:29:39.1029736Z       given 1 Donation on 2023-12-31 (only if a valid date), 3 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-17T19:29:39.1030702Z         filtering to 'Last Month'
2024-02-17T19:29:40.6293426Z           shows the correct total and 3 Recent Donation link(s)
2024-02-17T19:29:40.6295307Z       given 1 Donation on 2022-02-16 (only if a valid date), 0 during 2022-02-17..2024-01-11, and 1 on 2024-01-12
2024-02-17T19:29:40.6296709Z         filtering to '' (February 17, 2022 - January 11, 2024)
2024-02-17T19:29:44.0298574Z           shows the correct total and 0 Recent Donation link(s)
2024-02-17T19:29:44.0300458Z       given 1 Donation on 2024-01-18 (only if a valid date), 0 during 2024-01-19..2024-02-17, and 1 on 2024-02-18
2024-02-17T19:29:44.0301732Z         filtering to 'Last 30 Days'
2024-02-17T19:29:47.4412053Z           shows the correct total and 0 Recent Donation link(s)
2024-02-17T19:29:47.4412974Z     Product Drives
2024-02-17T19:29:48.0578473Z       has a widget for product drive summary data
2024-02-17T19:29:48.0580314Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-17T19:29:48.0581891Z         filtering to 'This Month'
2024-02-17T19:29:49.7132977Z           shows the correct total money raised
2024-02-17T19:29:51.2902080Z           shows the correct total donations
2024-02-17T19:29:52.9385551Z           shows 3 Recent Donation link(s)
2024-02-17T19:29:52.9387524Z       given 1 Product Drive Donation on 2024-02-10 (unless 'All Time'), 4 during 2024-02-11..2024-02-17, and 1 on 2024-02-18
2024-02-17T19:29:52.9388901Z         filtering to 'Last 7 Days'
2024-02-17T19:29:54.5077105Z           shows the correct total donations
2024-02-17T19:29:56.1921351Z           shows the correct total money raised
2024-02-17T19:29:57.7876465Z           shows 3 Recent Donation link(s)
2024-02-17T19:29:57.7878151Z       given 1 Product Drive Donation on 2022-02-16 (unless 'All Time'), 1 during 2022-02-17..2023-11-03, and 1 on 2023-11-04
2024-02-17T19:29:57.7879652Z         filtering to '' (February 17, 2022 - November 3, 2023)
2024-02-17T19:29:59.2509516Z           shows the correct total donations
2024-02-17T19:30:00.7089007Z           shows the correct total money raised
2024-02-17T19:30:02.1415247Z           shows 1 Recent Donation link(s)
2024-02-17T19:30:02.1417083Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-17T19:30:02.1418191Z         filtering to 'This Year'
2024-02-17T19:30:03.7925238Z           shows the correct total donations
2024-02-17T19:30:05.3568787Z           shows the correct total money raised
2024-02-17T19:30:06.9128603Z           shows 3 Recent Donation link(s)
2024-02-17T19:30:06.9130456Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 4 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-17T19:30:06.9131977Z         filtering to 'Last Month'
2024-02-17T19:30:08.4960554Z           shows 3 Recent Donation link(s)
2024-02-17T19:30:10.0660823Z           shows the correct total donations
2024-02-17T19:30:11.8146905Z           shows the correct total money raised
2024-02-17T19:30:11.8148880Z       given 1 Product Drive Donation on 2024-01-18 (unless 'All Time'), 3 during 2024-01-19..2024-02-17, and 1 on 2024-02-18
2024-02-17T19:30:11.8152481Z         filtering to 'Last 30 Days'
2024-02-17T19:30:13.3578596Z           shows 3 Recent Donation link(s)
2024-02-17T19:30:14.8504006Z           shows the correct total money raised
2024-02-17T19:30:16.3868297Z           shows the correct total donations
2024-02-17T19:30:16.3870188Z       given 1 Product Drive Donation on 2024-02-15 (unless 'All Time'), 1 during 2024-02-16..2024-02-16, and 1 on 2024-02-17
2024-02-17T19:30:16.3872146Z         filtering to 'Yesterday'
2024-02-17T19:30:17.8078235Z           shows 1 Recent Donation link(s)
2024-02-17T19:30:19.2387227Z           shows the correct total money raised
2024-02-17T19:30:20.6704328Z           shows the correct total donations
2024-02-17T19:30:20.6706385Z       given 1 Product Drive Donation on 2024-02-16 (unless 'All Time'), 0 during 2024-02-17..2024-02-17, and 1 on 2024-02-18
2024-02-17T19:30:20.6707725Z         filtering to 'Today'
2024-02-17T19:30:22.0626641Z           shows the correct total donations
2024-02-17T19:30:23.6039449Z           shows the correct total money raised
2024-02-17T19:30:26.9937995Z           shows 0 Recent Donation link(s)
2024-02-17T19:30:26.9938959Z       Product drive behaviour with Mixed Donation types
2024-02-17T19:30:27.7150564Z         only counts product drive money raised
2024-02-17T19:30:28.4488368Z         only shows product drive donations as product drive donations
2024-02-17T19:30:29.1765804Z         only counts product drive donations for product drive
2024-02-17T19:30:29.1768050Z     Signage
2024-02-17T19:30:32.0802066Z       shows their organization name unless they have a logo set
2024-02-17T19:30:32.0803197Z   With a new essentials bank
2024-02-17T19:31:00.1010754Z     displays the getting started guide until the steps are completed
2024-02-17T19:31:00.1012682Z 
2024-02-17T19:31:00.1013133Z Kit management
2024-02-17T19:31:01.0341974Z   can create a new kit as a user with the proper quantity
2024-02-17T19:31:02.5515259Z   can allocate and deallocate quantity per storage location from kit index
2024-02-17T19:31:03.1390953Z   should not display inactive storage locations under allocations
2024-02-17T19:31:03.1392084Z   when there is no kit quantity
2024-02-17T19:31:04.4936422Z     will not change quantity amounts when deallocating
2024-02-17T19:31:04.4938140Z   when there is not enough quantity of the items contained in the kit on-hand
2024-02-17T19:31:05.6492717Z     will not change quantity amounts when allocating
2024-02-17T19:31:05.6493663Z 
2024-02-17T19:31:05.6494348Z /account_requests
2024-02-17T19:31:05.6496237Z   GET #confirm
2024-02-17T19:31:05.6497546Z     when given a token that has already been confirmed
2024-02-17T19:31:05.8552236Z       should render a error that says that is code provided is invalid
2024-02-17T19:31:05.8553247Z     when given a valid token
2024-02-17T19:31:05.8826906Z       should the update confirmed_at on the account_request, queue confirmation email and render confirm template
2024-02-17T19:31:05.8828295Z     when given a invalid token
2024-02-17T19:31:05.8903111Z       should render a error that says that is code provided is invalid
2024-02-17T19:31:05.8904114Z   GET #new
2024-02-17T19:31:05.9046756Z     renders a successful response
2024-02-17T19:31:05.9047868Z   GET #confirmation
2024-02-17T19:31:05.9048494Z     when given a invalid token
2024-02-17T19:31:05.9121824Z       should render a error that says that is code provided is invalid
2024-02-17T19:31:05.9123070Z     when given a valid token
2024-02-17T19:31:05.9275748Z       should render the confirmation template
2024-02-17T19:31:05.9276656Z     when given a token that has already been confirmed
2024-02-17T19:31:06.1256723Z       should render a error that says that is code provided is invalid
2024-02-17T19:31:06.1257802Z   GET #received
2024-02-17T19:31:06.1258357Z     when given a invalid token
2024-02-17T19:31:06.1329231Z       should render a error that says that is code provided is invalid
2024-02-17T19:31:06.1330228Z     when given a valid token
2024-02-17T19:31:06.1492181Z       should render the received template
2024-02-17T19:31:06.1493304Z   POST #create
2024-02-17T19:31:06.1493888Z     with valid parameters
2024-02-17T19:31:06.1639921Z       redirects to the created account_request confirmation
2024-02-17T19:31:06.1772713Z       delivers the confirmation email via default queue
2024-02-17T19:31:06.1918922Z       creates a new AccountRequest
2024-02-17T19:31:06.1919969Z     with invalid parameters
2024-02-17T19:31:06.2117160Z       renders a successful response (i.e. to display the 'new' template)
2024-02-17T19:31:06.2315294Z       does not create a new AccountRequest
2024-02-17T19:31:06.2316696Z 
2024-02-17T19:31:06.2316949Z /partners/children
2024-02-17T19:31:06.2317565Z   GET #index
2024-02-17T19:31:06.3174273Z     should export CSV
2024-02-17T19:31:06.3819148Z     should render without any issues
2024-02-17T19:31:06.3819784Z 
2024-02-17T19:31:06.3820382Z Audits
2024-02-17T19:31:06.3821244Z   while signed in as an organization admin
2024-02-17T19:31:06.3822412Z     GET #new
2024-02-17T19:31:06.4320716Z       is successful
2024-02-17T19:31:06.4321385Z     GET #index
2024-02-17T19:31:06.4900609Z       is successful
2024-02-17T19:31:06.4901582Z     POST #finalize
2024-02-17T19:31:06.5590837Z       sets the finalize status and saves an event
2024-02-17T19:31:06.5591942Z     POST #create
2024-02-17T19:31:06.5592403Z       with invalid params
2024-02-17T19:31:06.5996892Z         assigns a newly created but unsaved audit as @audit
2024-02-17T19:31:06.6403873Z         re-renders the 'new' template
2024-02-17T19:31:06.6966375Z         re-renders the 'new' template with an error message when an invalid storage location is given
2024-02-17T19:31:06.6967218Z       with valid params
2024-02-17T19:31:06.7392790Z         creates a new Audit with status as `in_progress` if `save_progress` is passed as a param
2024-02-17T19:31:06.7801618Z         creates a new Audit with status as `confirmed` if `confirm_audit` is passed as a param
2024-02-17T19:31:06.8197737Z         assigns a newly created audit as @audit
2024-02-17T19:31:06.8591448Z         creates a new Audit
2024-02-17T19:31:06.9022623Z         redirects to the #show after created audit
2024-02-17T19:31:06.9023548Z     DELETE #destroy
2024-02-17T19:31:06.9023941Z       with valid params
2024-02-17T19:31:06.9506676Z         destroys the audit if the audit's status is `confirms`
2024-02-17T19:31:07.0077204Z         can not destroy the audit if the audit's status is `finalized`
2024-02-17T19:31:07.0501274Z         destroys the audit if the audit's status is `in_progress`
2024-02-17T19:31:07.0502099Z     GET #show
2024-02-17T19:31:07.1113124Z       is successful
2024-02-17T19:31:07.1114352Z     GET #edit
2024-02-17T19:31:07.1899480Z       is successful if the status of audit is `in_progress`
2024-02-17T19:31:07.2591227Z       redirects to #index if the status of audit is not `in_progress`
2024-02-17T19:31:07.2592169Z 
2024-02-17T19:31:07.2592603Z StorageLocations
2024-02-17T19:31:07.2594040Z   While not signed in
2024-02-17T19:31:07.2664966Z     redirects the user to the sign-in page for CRUD actions
2024-02-17T19:31:07.2665937Z   While signed in
2024-02-17T19:31:07.2667872Z     GET #index
2024-02-17T19:31:07.2668753Z       html
2024-02-17T19:31:07.3102975Z         succeeds
2024-02-17T19:31:07.3103890Z         with inactive locations
2024-02-17T19:31:07.3490855Z           does not includes the inactive location
2024-02-17T19:31:07.3491444Z           with include_inactive_locations
2024-02-17T19:31:07.3885898Z             includes the inactive location
2024-02-17T19:31:07.3886958Z       csv
2024-02-17T19:31:07.4083794Z         succeeds
2024-02-17T19:31:07.5071487Z         includes headers followed by alphabetized item names
2024-02-17T19:31:07.5072608Z     Looking at a different organization
2024-02-17T19:31:07.6968968Z       redirects the user to the sign-in page for CRUD actions
2024-02-17T19:31:07.6969925Z     POST #import_csv
2024-02-17T19:31:07.6972351Z       csv file with wrong headers
2024-02-17T19:31:07.7120903Z         redirects
2024-02-17T19:31:07.7258827Z         presents a flash error message
2024-02-17T19:31:07.7259943Z       with a csv file
2024-02-17T19:31:07.7419612Z         redirects
2024-02-17T19:31:07.7473848Z         invokes .import_csv
2024-02-17T19:31:07.7647472Z         presents a flash notice message
2024-02-17T19:31:07.7648342Z       without a csv file
2024-02-17T19:31:07.7774372Z         redirects to :index
2024-02-17T19:31:07.7900833Z         presents a flash error message
2024-02-17T19:31:07.7902076Z     GET #destroy
2024-02-17T19:31:07.8192226Z       redirects to #index
2024-02-17T19:31:07.8193036Z     GET #show
2024-02-17T19:31:07.8193508Z       html
2024-02-17T19:31:07.8925115Z         should return a correct response
2024-02-17T19:31:07.8926118Z         with version date set
2024-02-17T19:31:07.8927041Z           with no version found
2024-02-17T19:31:07.9718433Z             should show N/A
2024-02-17T19:31:07.9719393Z           with a version found
2024-02-17T19:31:08.0575312Z             should show the version specified
2024-02-17T19:31:08.0576076Z       csv
2024-02-17T19:31:08.1119126Z         should be successful
2024-02-17T19:31:08.1121211Z     GET #inventory
2024-02-17T19:31:08.1122716Z       when also including inactive items
2024-02-17T19:31:08.1843753Z         returns a collection that also includes items that have been deactivated
2024-02-17T19:31:08.1844861Z       when also including omitted items
2024-02-17T19:31:08.2367726Z         returns a collection that also includes all items, but with zeroed quantities
2024-02-17T19:31:08.2874314Z         contains a collection of ducktyped entries that respond the same
2024-02-17T19:31:08.2875348Z       without any overrides
2024-02-17T19:31:08.3418819Z         returns a collection that only includes items at the storage location
2024-02-17T19:31:08.3419933Z     PUT #reactivate
2024-02-17T19:31:08.3605285Z       undiscards
2024-02-17T19:31:08.3605883Z     GET #edit
2024-02-17T19:31:08.6847483Z       returns http success
2024-02-17T19:31:08.6848563Z     GET #new
2024-02-17T19:31:08.7158482Z       returns http success
2024-02-17T19:31:08.7159253Z     PUT #deactivate
2024-02-17T19:31:08.7362894Z       discards
2024-02-17T19:31:08.7363562Z       with inventory
2024-02-17T19:31:08.7841268Z         does not discard
2024-02-17T19:31:08.7842265Z 
2024-02-17T19:31:08.7842622Z Purchases
2024-02-17T19:31:08.7844647Z   while signed in as a normal user
2024-02-17T19:31:08.7845789Z     When visiting an existing purchase
2024-02-17T19:31:09.2591007Z       does not allow deletion of a purchase
2024-02-17T19:31:09.2591934Z     When visiting the index page
2024-02-17T19:31:09.2592871Z       When filtering on the index page
2024-02-17T19:31:10.1175165Z         User can filter the #index by storage location
2024-02-17T19:31:10.9571680Z         User can filter the #index by vendor
2024-02-17T19:31:10.9572629Z         behaves like Date Range Picker
2024-02-17T19:31:10.9573609Z           when choosing 'Last Month'
2024-02-17T19:31:11.9203173Z             shows only 2 of the records
2024-02-17T19:31:11.9204324Z           when choosing 'All Time'
2024-02-17T19:31:12.9086254Z             shows all the records
2024-02-17T19:31:12.9087258Z           when choosing a date range that only includes the previous week
2024-02-17T19:31:13.8635665Z             shows only 1 record
2024-02-17T19:31:13.8636518Z       In the middle of the year
2024-02-17T19:31:14.6356941Z         User sees total purchases value
2024-02-17T19:31:15.4320636Z         User can click to the new purchase form
2024-02-17T19:31:16.1863141Z         User sees purchased date column
2024-02-17T19:31:16.1864138Z     When creating a new purchase
2024-02-17T19:31:16.6807880Z       should not display inactive storage locations in dropdown
2024-02-17T19:31:16.6808801Z       via manual entry
2024-02-17T19:31:18.0570615Z         multiple line items for the same item type are accepted and combined on the backend
2024-02-17T19:31:19.1770100Z         User can create a purchase IN THE PAST
2024-02-17T19:31:20.0799456Z         User can create a purchase using dollars decimal amount
2024-02-17T19:31:21.1383162Z         User can create vendor from purchase
2024-02-17T19:31:22.1699680Z         Does not include inactive items in the line item fields
2024-02-17T19:31:22.1700785Z         when creating a purchase incorrectly
2024-02-17T19:31:22.9869117Z           should display failure with error messages
2024-02-17T19:31:23.9931817Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-02-17T19:31:23.9933621Z       Editing purchase
2024-02-17T19:31:24.6489081Z         A user can view another organizations purchase
2024-02-17T19:31:25.1570728Z         A user can see purchased_from value
2024-02-17T19:31:25.1571653Z       via barcode entry
2024-02-17T19:31:26.3969500Z         a user can add items that do not yet have a barcode
2024-02-17T19:31:27.3881419Z         User scan same barcode 2 times
2024-02-17T19:31:28.1235901Z         a user can add items via scanning them in by barcode
2024-02-17T19:31:28.1236909Z   while signed in as an organization admin
2024-02-17T19:31:29.0019753Z     allows deletion of a purchase
2024-02-17T19:31:29.0020416Z 
2024-02-17T19:31:29.0020657Z Admin Organization Management
2024-02-17T19:31:29.0022544Z   While signed in as an Administrative User with no organization (super admin no org)
2024-02-17T19:31:31.0149402Z     creates a new organization
2024-02-17T19:31:31.0150308Z   While signed in as an Administrative User (super admin)
2024-02-17T19:31:32.0838026Z     filters by organizations by name in organizations index page
2024-02-17T19:31:34.0172116Z     creates a new organization
2024-02-17T19:31:35.3141730Z     can view organization details
2024-02-17T19:31:35.3142786Z 
2024-02-17T19:31:35.3143249Z Admin::Organizations
2024-02-17T19:31:35.3144571Z   When logged in as a non-admin user
2024-02-17T19:31:35.3145449Z     PUT #update
2024-02-17T19:31:35.3298576Z       redirects
2024-02-17T19:31:35.3299351Z     POST #create
2024-02-17T19:31:35.3458435Z       redirects
2024-02-17T19:31:35.3459040Z     GET #index
2024-02-17T19:31:35.3596129Z       redirects
2024-02-17T19:31:35.3597140Z     GET #edit
2024-02-17T19:31:35.3736157Z       redirects
2024-02-17T19:31:35.3737092Z     GET #new
2024-02-17T19:31:35.3876652Z       redirects
2024-02-17T19:31:35.3877406Z   When logged in as a super admin
2024-02-17T19:31:35.3878822Z     PATCH #update
2024-02-17T19:31:35.3879677Z       with an invalid update
2024-02-17T19:31:35.6134360Z         redirects to #edit with an error message
2024-02-17T19:31:35.8284132Z         returns http success
2024-02-17T19:31:35.8284944Z       with a valid update
2024-02-17T19:31:36.0168053Z         redirects to #index
2024-02-17T19:31:36.0168826Z     GET #show
2024-02-17T19:31:36.2195383Z       returns http success
2024-02-17T19:31:36.2196417Z     GET #new
2024-02-17T19:31:36.2590339Z       returns http success
2024-02-17T19:31:36.2591377Z       when given a valid account request token in the query parameters
2024-02-17T19:31:36.3167049Z         should render new with pre populate input fields from the account_request
2024-02-17T19:31:36.3168263Z       when given a token that matches a account request that has already been processed
2024-02-17T19:31:36.5353370Z         should render new with a flash error message
2024-02-17T19:31:36.5354251Z     DELETE #destroy
2024-02-17T19:31:36.5354851Z       with a valid organization id
2024-02-17T19:31:37.0517305Z         redirects to #index
2024-02-17T19:31:37.0517908Z     GET #index
2024-02-17T19:31:37.0849981Z       returns http success
2024-02-17T19:31:37.0850821Z     POST #create
2024-02-17T19:31:37.0851402Z       with valid params
2024-02-17T19:31:37.3257043Z         creates an organization and redirects to #index
2024-02-17T19:31:37.3257973Z       with invalid params
2024-02-17T19:31:37.3704304Z         does not create an organization and renders #create with an error message
2024-02-17T19:31:37.3705367Z     GET #edit
2024-02-17T19:31:37.5831261Z       returns http success
2024-02-17T19:31:37.5832305Z     PUT #update
2024-02-17T19:31:37.6034255Z       redirect
2024-02-17T19:31:37.6035188Z     DELETE #destroy
2024-02-17T19:31:37.9530687Z       redirects
2024-02-17T19:31:37.9531290Z 
2024-02-17T19:31:37.9531840Z Profiles
2024-02-17T19:31:37.9532554Z   POST #update
2024-02-17T19:31:37.9533638Z     when updating an existing value to a blank value
2024-02-17T19:31:38.0030772Z       should have blank values
2024-02-17T19:31:38.0527209Z       update partner
2024-02-17T19:31:38.0527906Z     successful save
2024-02-17T19:31:38.1010775Z       redirects to #show
2024-02-17T19:31:38.1506652Z       update partner
2024-02-17T19:31:38.1507359Z   GET #edit
2024-02-17T19:31:38.2552193Z     returns http success
2024-02-17T19:31:38.2552716Z 
2024-02-17T19:31:38.2552956Z User account management
2024-02-17T19:31:38.2554376Z   when in staging
2024-02-17T19:31:38.7137969Z     should display staging warning
2024-02-17T19:31:39.1878092Z     should not allow the user to change staging credentials
2024-02-17T19:31:39.1879066Z   when not in staging
2024-02-17T19:31:40.0897279Z     should change the email
2024-02-17T19:31:40.9879857Z     should change an user name
2024-02-17T19:31:41.7904280Z     should fail when the email is invalid
2024-02-17T19:31:41.7904899Z 
2024-02-17T19:31:41.7905192Z /partners/profiles
2024-02-17T19:31:41.7906986Z   PUT #update
2024-02-17T19:31:41.8508201Z     updates the partner and profile
2024-02-17T19:31:41.8509374Z     with no social media
2024-02-17T19:31:41.9547045Z       shows an error
2024-02-17T19:31:41.9547854Z     when updating an existing value to a blank value
2024-02-17T19:31:42.0124746Z       does store N/A in the database
2024-02-17T19:31:42.0668782Z       does not update other partner profile attributes to blank
2024-02-17T19:31:42.1254537Z       updates the partner profile attribute to a blank value
2024-02-17T19:31:42.1255866Z   GET #show
2024-02-17T19:31:42.1908550Z     shows correct values for yes/no buttons
2024-02-17T19:31:42.2539081Z     displays the partner
2024-02-17T19:31:42.2540028Z   GET #edit
2024-02-17T19:31:42.3485483Z     has "Yes" radio button value when value is true
2024-02-17T19:31:42.4447098Z     has "No" radio button value when value is false
2024-02-17T19:31:42.5375257Z     does not have default radio button value when value is nil
2024-02-17T19:31:42.6288490Z     displays the partner
2024-02-17T19:31:42.6289019Z 
2024-02-17T19:31:42.6289367Z Managing requests
2024-02-17T19:31:42.6290376Z   creating a request
2024-02-17T19:31:42.6291437Z     GIVEN a partner user is permitted to make a request
2024-02-17T19:31:42.6292367Z       WHEN they create a request properly
2024-02-17T19:31:42.6293657Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-02-17T19:31:44.9066600Z           AND the partner_user can view the details of the created request in a seperate page
2024-02-17T19:31:44.9067853Z       WHEN they create a request inproperly by not inputting anything
2024-02-17T19:31:45.8601268Z         should show an error message with the instructions
2024-02-17T19:31:45.8602136Z       WHEN they create a request with only a comment
2024-02-17T19:31:46.8319026Z         should be created without any issue
2024-02-17T19:31:46.8319891Z   creating a individuals/family request
2024-02-17T19:31:46.8321339Z     GIVEN a partner user is permitted to make a request
2024-02-17T19:31:46.8322317Z       WHEN they create a request properly
2024-02-17T19:31:46.8323630Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-02-17T19:31:48.9941491Z           AND the partner_user can view the details of the created individuals request in a seperate page
2024-02-17T19:31:48.9942648Z       WHEN they create a request inproperly
2024-02-17T19:31:49.9418892Z         should show an error message with the instructions
2024-02-17T19:31:49.9420403Z 
2024-02-17T19:31:49.9420679Z DonationSites
2024-02-17T19:31:49.9421605Z   while signed in
2024-02-17T19:31:49.9422419Z     GET #index
2024-02-17T19:31:49.9423593Z       html
2024-02-17T19:31:49.9801948Z         is expected to be successful
2024-02-17T19:31:49.9802591Z       csv
2024-02-17T19:31:49.9972495Z         is expected to be successful
2024-02-17T19:31:49.9973414Z 
2024-02-17T19:31:49.9973666Z Vendor
2024-02-17T19:31:49.9976137Z   When vendor have purchases associated with them already
2024-02-17T19:31:50.6272255Z     can have a single vendor show semi-detailed stats about purchases
2024-02-17T19:31:51.2393517Z     can have existing vendors show in the #index with some summary stats
2024-02-17T19:31:51.2394596Z   When a user views the index page
2024-02-17T19:31:51.7279423Z     should have the vendor names in alphabetical order
2024-02-17T19:31:51.7280252Z   when editing an existing vendor
2024-02-17T19:31:52.5127505Z     can update the contact info for a vendor as a user
2024-02-17T19:31:53.2899884Z     does not update a vendor with empty attributes
2024-02-17T19:31:53.2900698Z   when creating a new vendor
2024-02-17T19:31:54.0296184Z     cannot add a new vendor instance with empty attributes
2024-02-17T19:31:54.8321250Z     can create a new vendor instance as a user
2024-02-17T19:31:54.8447682Z W, [2024-02-17T11:31:54.844462 #2341]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-02-17T19:31:54.8448844Z W, [2024-02-17T11:31:54.844538 #2341]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-17T19:31:54.8450568Z W, [2024-02-17T11:31:54.844564 #2341]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-17T19:31:54.8452284Z W, [2024-02-17T11:31:54.844606 #2341]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-02-17T19:31:54.8453046Z 
2024-02-17T19:31:54.8453303Z Finished in 3 minutes 31.3 seconds (files took 8.34 seconds to load)
2024-02-17T19:31:54.8453795Z 235 examples, 0 failures
2024-02-17T19:31:54.8453984Z 
2024-02-17T19:31:54.8454109Z Randomized with seed 12515
2024-02-17T19:31:54.8454305Z 
2024-02-17T19:31:55.1433461Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3820 / 6405 LOC (59.64%) covered.
2024-02-17T19:31:55.6736848Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10654 LOC (0.36%) covered.
