2024-03-12T06:39:38.5390264Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-12T06:39:38.5391221Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-12T06:39:38.5441652Z shell: /usr/bin/bash -e {0}
2024-03-12T06:39:38.5442059Z env:
2024-03-12T06:39:38.5442567Z   POSTGRES_HOST: localhost
2024-03-12T06:39:38.5443054Z   DATABASE_HOST: localhost
2024-03-12T06:39:38.5443451Z   PG_USERNAME: postgres
2024-03-12T06:39:38.5443821Z   PG_PASSWORD: password
2024-03-12T06:39:38.5444229Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-12T06:39:38.5444651Z   POSTGRES_PORT: 5432
2024-03-12T06:39:38.5444999Z   PGHOST: localhost
2024-03-12T06:39:38.5445404Z   PGUSER: postgres
2024-03-12T06:39:38.5445749Z   RAILS_ENV: test
2024-03-12T06:39:38.5446073Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-12T06:39:38.5446596Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-12T06:39:38.5447000Z   KNAPSACK_PRO_CI_NODE_INDEX: 2
2024-03-12T06:39:38.5447512Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-12T06:39:38.5448072Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-12T06:39:38.5448690Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-12T06:39:38.5449405Z ##[endgroup]
2024-03-12T06:39:44.2097840Z W, [2024-03-12T06:39:44.209403 #2387]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-12T06:39:44.2099349Z W, [2024-03-12T06:39:44.209452 #2387]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:39:44.2122954Z W, [2024-03-12T06:39:44.209467 #2387]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:39:44.2126145Z W, [2024-03-12T06:39:44.209487 #2387]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-12T06:39:46.5703354Z W, [2024-03-12T06:39:46.569959 #2387]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-12T06:39:46.5706174Z W, [2024-03-12T06:39:46.570004 #2387]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:39:46.5709135Z W, [2024-03-12T06:39:46.570020 #2387]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:39:46.5713511Z W, [2024-03-12T06:39:46.570062 #2387]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-12T06:39:46.5765937Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-03-12T06:39:54.8784475Z 
2024-03-12T06:39:54.8788733Z Randomized with seed 6232
2024-03-12T06:39:55.7809074Z 
2024-03-12T06:39:55.7809826Z BroadcastAnnouncements
2024-03-12T06:39:55.7811283Z   GET /index
2024-03-12T06:39:55.8473855Z     renders a successful response
2024-03-12T06:39:55.8474405Z   POST /create
2024-03-12T06:39:55.8475718Z     with valid parameters
2024-03-12T06:39:55.8713752Z       creates a new BroadcastAnnouncement then redirects
2024-03-12T06:39:55.8714670Z     with invalid parameters
2024-03-12T06:39:55.9004583Z       does not render a successful response
2024-03-12T06:39:55.9279305Z       does not create a new BroadcastAnnouncement
2024-03-12T06:39:55.9280037Z   PATCH /update
2024-03-12T06:39:55.9281050Z     with invalid parameters
2024-03-12T06:39:55.9591431Z       does not render a successful response
2024-03-12T06:39:55.9592178Z     with valid parameters
2024-03-12T06:39:55.9771372Z       updates the requested announcement and redirects
2024-03-12T06:39:55.9772218Z   GET /edit
2024-03-12T06:39:56.0048530Z     render a successful response
2024-03-12T06:39:56.0049382Z   DELETE /destroy
2024-03-12T06:39:56.0201462Z     destroys the requested announcement then redirects
2024-03-12T06:39:56.0202739Z   GET /new
2024-03-12T06:39:56.0454340Z     renders a successful response
2024-03-12T06:39:56.0454922Z 
2024-03-12T06:39:56.0455388Z /partners/dashboard
2024-03-12T06:39:56.2134447Z   displays upcoming distributions
2024-03-12T06:39:56.2135343Z   with just partner role
2024-03-12T06:39:56.2650240Z     should not display the switch link
2024-03-12T06:39:56.2651207Z   with both roles
2024-03-12T06:39:56.3229070Z     should include the switch link
2024-03-12T06:39:56.3229880Z   BroadcastAnnouncement card
2024-03-12T06:39:56.3719936Z     displays announcements if there are valid ones
2024-03-12T06:39:56.4198765Z     doesn't display announcements from super admins
2024-03-12T06:39:56.4672266Z     doesn't display announcements if there are not valid ones
2024-03-12T06:39:56.4672933Z   GET #index
2024-03-12T06:39:56.5346994Z     does not display requests in other states
2024-03-12T06:39:56.6027659Z     displays requests that are pending
2024-03-12T06:39:56.6031106Z 
2024-03-12T06:39:56.6031415Z Dashboard
2024-03-12T06:39:56.6033013Z   With an existing essentials bank
2024-03-12T06:39:56.6034261Z     Purchases
2024-03-12T06:39:59.3139354Z       has a link to create a new purchase
2024-03-12T06:39:59.3141102Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:39:59.3142481Z         filtering to 'Last Month'
2024-03-12T06:40:02.6472367Z           shows correct 0 Recent Purchase link(s)
2024-03-12T06:40:02.6474293Z       given 1 Purchase on 2024-02-10  (unless 'All Time'), 4 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:40:02.6475710Z         filtering to 'Last 30 Days'
2024-03-12T06:40:04.0757334Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:40:04.0758953Z       given 1 Purchase on 2024-03-10  (unless 'All Time'), 4 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:40:04.0759851Z         filtering to 'Today'
2024-03-12T06:40:05.4690296Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:40:05.4692107Z       given 1 Purchase on 2022-03-10  (unless 'All Time'), 0 during 2022-03-11..2024-03-06, and 1 on 2024-03-07
2024-03-12T06:40:05.4693534Z         filtering to '' (March 11, 2022 - March 6, 2024)
2024-03-12T06:40:08.7714854Z           shows correct 0 Recent Purchase link(s)
2024-03-12T06:40:08.7716815Z       given 1 Purchase on 2024-02-29  (unless 'All Time'), 4 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:40:08.7718102Z         filtering to 'This Month'
2024-03-12T06:40:10.2639143Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:40:10.2646429Z       given 1 Purchase on 2024-03-09  (unless 'All Time'), 1 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:40:10.2648547Z         filtering to 'Yesterday'
2024-03-12T06:40:11.6658315Z           shows correct 1 Recent Purchase link(s)
2024-03-12T06:40:11.6659652Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 4 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:40:11.6660619Z         filtering to 'This Year'
2024-03-12T06:40:13.0705304Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:40:13.0707211Z       given 1 Purchase on 2024-03-04  (unless 'All Time'), 1 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:40:13.0708513Z         filtering to 'Last 7 Days'
2024-03-12T06:40:14.3852736Z           shows correct 1 Recent Purchase link(s)
2024-03-12T06:40:14.3853539Z     Manufacturer Donations
2024-03-12T06:40:14.9575485Z       has a link to create a new donation
2024-03-12T06:40:14.9577233Z       given 1 Manufacturer donating on 2024-03-10  (unless 'All Time'), 5 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:40:14.9578453Z         filtering to 'Today'
2024-03-12T06:40:16.6587820Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-03-12T06:40:16.6589387Z       given 1 Manufacturer donating on 2024-03-09  (unless 'All Time'), 3 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:40:16.6590551Z         filtering to 'Yesterday'
2024-03-12T06:40:18.1624333Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-12T06:40:18.1626392Z       given 1 Manufacturer donating on 2022-03-10  (unless 'All Time'), 2 during 2022-03-11..2024-02-24, and 1 on 2024-02-25
2024-03-12T06:40:18.1628015Z         filtering to '' (March 11, 2022 - February 24, 2024)
2024-03-12T06:40:19.6751792Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-03-12T06:40:19.6753962Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:40:19.6755274Z         filtering to 'Last Month'
2024-03-12T06:40:21.0694060Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-03-12T06:40:21.0696119Z       given 1 Manufacturer donating on 2024-03-04  (unless 'All Time'), 2 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:40:21.0697614Z         filtering to 'Last 7 Days'
2024-03-12T06:40:22.5048023Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-03-12T06:40:22.5049901Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 9 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:40:22.5051284Z         filtering to 'This Year'
2024-03-12T06:40:24.7448683Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-12T06:40:24.7450467Z       given 1 Manufacturer donating on 2024-02-29  (unless 'All Time'), 3 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:40:24.7451280Z         filtering to 'This Month'
2024-03-12T06:40:26.2408779Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-12T06:40:26.2410707Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 6 during 2000-01-01..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:40:26.2411581Z         filtering to 'All Time'
2024-03-12T06:40:27.9458117Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-03-12T06:40:27.9460115Z       given 1 Manufacturer donating on 2024-02-10  (unless 'All Time'), 3 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:40:27.9461657Z         filtering to 'Last 30 Days'
2024-03-12T06:40:29.4278576Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-12T06:40:29.4281355Z     Inventory Totals
2024-03-12T06:40:29.4282644Z       Summary
2024-03-12T06:40:30.1033576Z         displays the on-hand totals
2024-03-12T06:40:30.1034270Z         when constrained to date range
2024-03-12T06:40:31.1111530Z           does not change
2024-03-12T06:40:31.1112541Z     Donations
2024-03-12T06:40:31.9879738Z       has a link to create a new donation
2024-03-12T06:40:31.9881225Z       given 1 Donation on 2024-02-10 (only if a valid date), 2 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:40:31.9882817Z         filtering to 'Last 30 Days'
2024-03-12T06:40:33.3388379Z           shows the correct total and 2 Recent Donation link(s)
2024-03-12T06:40:33.3390445Z       given 1 Donation on 2024-03-10 (only if a valid date), 3 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:40:33.3391778Z         filtering to 'Today'
2024-03-12T06:40:34.8439041Z           shows the correct total and 3 Recent Donation link(s)
2024-03-12T06:40:34.8440697Z       given 1 Donation on 2024-03-04 (only if a valid date), 2 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:40:34.8441502Z         filtering to 'Last 7 Days'
2024-03-12T06:40:36.2056873Z           shows the correct total and 2 Recent Donation link(s)
2024-03-12T06:40:36.2059015Z       given 1 Donation on 2024-02-29 (only if a valid date), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:40:36.2060380Z         filtering to 'This Month'
2024-03-12T06:40:37.5556683Z           shows the correct total and 2 Recent Donation link(s)
2024-03-12T06:40:37.5558150Z       given 1 Donation on 2023-12-31 (only if a valid date), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:40:37.5559179Z         filtering to 'This Year'
2024-03-12T06:40:38.8734848Z           shows the correct total and 1 Recent Donation link(s)
2024-03-12T06:40:38.8736544Z       given 1 Donation on 2024-03-09 (only if a valid date), 1 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:40:38.8737651Z         filtering to 'Yesterday'
2024-03-12T06:40:40.2060116Z           shows the correct total and 1 Recent Donation link(s)
2024-03-12T06:40:40.2062193Z       given 1 Donation on 2022-03-10 (only if a valid date), 3 during 2022-03-11..2024-01-26, and 1 on 2024-01-27
2024-03-12T06:40:40.2063868Z         filtering to '' (March 11, 2022 - January 26, 2024)
2024-03-12T06:40:41.6066245Z           shows the correct total and 3 Recent Donation link(s)
2024-03-12T06:40:41.6068138Z       given 1 Donation on 2024-01-31 (only if a valid date), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:40:41.6069426Z         filtering to 'Last Month'
2024-03-12T06:40:44.9079286Z           shows the correct total and 0 Recent Donation link(s)
2024-03-12T06:40:44.9082990Z     Signage
2024-03-12T06:40:47.7813532Z       shows their organization name unless they have a logo set
2024-03-12T06:40:47.7814549Z     Product Drives
2024-03-12T06:40:48.3629939Z       has a widget for product drive summary data
2024-03-12T06:40:48.3631454Z       given 1 Product Drive Donation on 2024-02-29 (unless 'All Time'), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:40:48.3632912Z         filtering to 'This Month'
2024-03-12T06:40:49.7317950Z           shows the correct total money raised
2024-03-12T06:40:51.0963377Z           shows 2 Recent Donation link(s)
2024-03-12T06:40:52.4468675Z           shows the correct total donations
2024-03-12T06:40:52.4470560Z       given 1 Product Drive Donation on 2024-03-04 (unless 'All Time'), 3 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:40:52.4471958Z         filtering to 'Last 7 Days'
2024-03-12T06:40:53.8424462Z           shows 3 Recent Donation link(s)
2024-03-12T06:40:55.2300118Z           shows the correct total money raised
2024-03-12T06:40:56.6359882Z           shows the correct total donations
2024-03-12T06:40:56.6361441Z       given 1 Product Drive Donation on 2024-02-10 (unless 'All Time'), 3 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:40:56.6363019Z         filtering to 'Last 30 Days'
2024-03-12T06:40:58.0421886Z           shows the correct total donations
2024-03-12T06:40:59.4249897Z           shows the correct total money raised
2024-03-12T06:41:00.9378177Z           shows 3 Recent Donation link(s)
2024-03-12T06:41:00.9380707Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:41:00.9382086Z         filtering to 'Last Month'
2024-03-12T06:41:04.2335270Z           shows 0 Recent Donation link(s)
2024-03-12T06:41:05.5088240Z           shows the correct total money raised
2024-03-12T06:41:06.8077639Z           shows the correct total donations
2024-03-12T06:41:06.8079947Z       given 1 Product Drive Donation on 2024-03-10 (unless 'All Time'), 4 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:41:06.8081428Z         filtering to 'Today'
2024-03-12T06:41:08.2387223Z           shows the correct total money raised
2024-03-12T06:41:09.6488950Z           shows the correct total donations
2024-03-12T06:41:11.0525570Z           shows 3 Recent Donation link(s)
2024-03-12T06:41:11.0527011Z       given 1 Product Drive Donation on 2022-03-10 (unless 'All Time'), 4 during 2022-03-11..2024-01-10, and 1 on 2024-01-11
2024-03-12T06:41:11.0528092Z         filtering to '' (March 11, 2022 - January 10, 2024)
2024-03-12T06:41:12.5027474Z           shows the correct total money raised
2024-03-12T06:41:13.9187804Z           shows 3 Recent Donation link(s)
2024-03-12T06:41:15.3543113Z           shows the correct total donations
2024-03-12T06:41:15.3544613Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:41:15.3545939Z         filtering to 'This Year'
2024-03-12T06:41:16.8262148Z           shows 1 Recent Donation link(s)
2024-03-12T06:41:18.1831983Z           shows the correct total money raised
2024-03-12T06:41:19.5234935Z           shows the correct total donations
2024-03-12T06:41:19.5236766Z       given 1 Product Drive Donation on 2024-03-09 (unless 'All Time'), 1 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:41:19.5238166Z         filtering to 'Yesterday'
2024-03-12T06:41:20.8464568Z           shows the correct total money raised
2024-03-12T06:41:22.1796111Z           shows the correct total donations
2024-03-12T06:41:23.5151061Z           shows 1 Recent Donation link(s)
2024-03-12T06:41:23.5152528Z       Product drive behaviour with Mixed Donation types
2024-03-12T06:41:24.1685618Z         only counts product drive money raised
2024-03-12T06:41:24.8461308Z         only shows product drive donations as product drive donations
2024-03-12T06:41:25.5136655Z         only counts product drive donations for product drive
2024-03-12T06:41:25.5137720Z     Distributions
2024-03-12T06:41:26.4402093Z       has a link to create a new distribution
2024-03-12T06:41:26.4404199Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 1 during 2000-01-01..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:41:26.4405522Z         filtering to 'All Time'
2024-03-12T06:41:27.8142273Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-12T06:41:27.8144016Z       given 1 Distribution on 2024-03-04  (unless 'All Time'), 4 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:41:27.8145374Z         filtering to 'Last 7 Days'
2024-03-12T06:41:29.1912966Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:41:29.1914790Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:41:29.1915869Z         filtering to 'Last Month'
2024-03-12T06:41:32.5722630Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-12T06:41:32.5724663Z       given 1 Distribution on 2024-02-29  (unless 'All Time'), 0 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:41:32.5726041Z         filtering to 'This Month'
2024-03-12T06:41:35.9444315Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-12T06:41:35.9446163Z       given 1 Distribution on 2024-02-10  (unless 'All Time'), 3 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:41:35.9447793Z         filtering to 'Last 30 Days'
2024-03-12T06:41:37.3768206Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:41:37.3770123Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:41:37.3771788Z         filtering to 'This Year'
2024-03-12T06:41:38.8520363Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:41:38.8521978Z       given 1 Distribution on 2022-03-10  (unless 'All Time'), 4 during 2022-03-11..2024-01-22, and 1 on 2024-01-23
2024-03-12T06:41:38.8525086Z         filtering to '' (March 11, 2022 - January 22, 2024)
2024-03-12T06:41:40.3209569Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:41:40.3211436Z       given 1 Distribution on 2024-03-10  (unless 'All Time'), 3 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:41:40.3212679Z         filtering to 'Today'
2024-03-12T06:41:41.7608881Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:41:41.7610414Z       given 1 Distribution on 2024-03-09  (unless 'All Time'), 0 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:41:41.7611398Z         filtering to 'Yesterday'
2024-03-12T06:41:45.1555494Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-12T06:41:45.1556921Z   With a new essentials bank
2024-03-12T06:42:13.1881881Z     displays the getting started guide until the steps are completed
2024-03-12T06:42:13.1883017Z 
2024-03-12T06:42:13.1883261Z Admin::Questions
2024-03-12T06:42:13.1884125Z   while signed in as a super admin
2024-03-12T06:42:13.1886148Z     DELETE #destroy
2024-03-12T06:42:13.2312172Z       lets the user delete questions
2024-03-12T06:42:13.2313038Z     GET #index
2024-03-12T06:42:13.2641161Z       lets the user load the page
2024-03-12T06:42:13.2642605Z     GET #edit
2024-03-12T06:42:13.3171245Z       lets the user load the edit question page
2024-03-12T06:42:13.3172152Z     PATCH #update
2024-03-12T06:42:13.3408591Z       lets the user update questions
2024-03-12T06:42:13.3409443Z     GET #new
2024-03-12T06:42:13.3734296Z       lets the user load the new question page
2024-03-12T06:42:13.3735331Z     POST #create
2024-03-12T06:42:13.3946346Z       lets the user create questions
2024-03-12T06:42:13.3946984Z 
2024-03-12T06:42:13.3947491Z Vendor
2024-03-12T06:42:13.3949081Z   When vendor have purchases associated with them already
2024-03-12T06:42:14.0051692Z     can have existing vendors show in the #index with some summary stats
2024-03-12T06:42:14.6029198Z     can have a single vendor show semi-detailed stats about purchases
2024-03-12T06:42:14.6029919Z   when creating a new vendor
2024-03-12T06:42:15.3914617Z     can create a new vendor instance as a user
2024-03-12T06:42:16.1360502Z     cannot add a new vendor instance with empty attributes
2024-03-12T06:42:16.1361180Z   when editing an existing vendor
2024-03-12T06:42:16.9047617Z     does not update a vendor with empty attributes
2024-03-12T06:42:17.6853664Z     can update the contact info for a vendor as a user
2024-03-12T06:42:17.6854908Z   When a user views the index page
2024-03-12T06:42:18.1743473Z     should have the vendor names in alphabetical order
2024-03-12T06:42:18.1744390Z 
2024-03-12T06:42:18.1744866Z Purchases
2024-03-12T06:42:18.1746448Z   while signed in as a normal user
2024-03-12T06:42:18.1748000Z     When visiting an existing purchase
2024-03-12T06:42:18.6351093Z       does not allow deletion of a purchase
2024-03-12T06:42:18.6351969Z     When creating a new purchase
2024-03-12T06:42:19.1375589Z       should not display inactive storage locations in dropdown
2024-03-12T06:42:19.1376584Z       via manual entry
2024-03-12T06:42:20.2395474Z         User can create a purchase IN THE PAST
2024-03-12T06:42:22.9615265Z         multiple line items for the same item type are accepted and combined on the backend (FAILED - 1)
2024-03-12T06:42:22.9618112Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_multiple-line-items-for-the-same-item-type-are-accepted-and-combined-on-the-backend_2024-03-11-23-42-22.818.html[0m
2024-03-12T06:42:22.9622705Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_multiple-line-items-for-the-same-item-type-are-accepted-and-combined-on-the-backend_2024-03-11-23-42-22.818.png[0m
2024-03-12T06:42:23.9969873Z         Does not include inactive items in the line item fields
2024-03-12T06:42:25.0545637Z         User can create vendor from purchase
2024-03-12T06:42:25.9629641Z         User can create a purchase using dollars decimal amount
2024-03-12T06:42:25.9630501Z         when creating a purchase incorrectly
2024-03-12T06:42:26.9616355Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-03-12T06:42:27.7952576Z           should display failure with error messages
2024-03-12T06:42:27.7953565Z       Editing purchase
2024-03-12T06:42:28.4350730Z         A user can view another organizations purchase
2024-03-12T06:42:28.9480689Z         A user can see purchased_from value
2024-03-12T06:42:28.9481756Z       via barcode entry
2024-03-12T06:42:29.8614261Z         User scan same barcode 2 times (FAILED - 2)
2024-03-12T06:42:29.8616485Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-scan-same-barcode-2-times_2024-03-11-23-42-29.726.html[0m
2024-03-12T06:42:29.8619327Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-scan-same-barcode-2-times_2024-03-11-23-42-29.726.png[0m
2024-03-12T06:42:30.7292680Z         a user can add items via scanning them in by barcode (FAILED - 3)
2024-03-12T06:42:30.7295203Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_a-user-can-add-items-via-scanning-them-in-by-barcode_2024-03-11-23-42-30.593.html[0m
2024-03-12T06:42:30.7297543Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_a-user-can-add-items-via-scanning-them-in-by-barcode_2024-03-11-23-42-30.593.png[0m
2024-03-12T06:42:31.9547598Z         a user can add items that do not yet have a barcode
2024-03-12T06:42:31.9548763Z     When visiting the index page
2024-03-12T06:42:31.9549712Z       In the middle of the year
2024-03-12T06:42:32.7625635Z         User can click to the new purchase form
2024-03-12T06:42:33.5114617Z         User sees purchased date column
2024-03-12T06:42:34.2848353Z         User sees total purchases value
2024-03-12T06:42:34.2849030Z       When filtering on the index page
2024-03-12T06:42:35.1221541Z         User can filter the #index by vendor
2024-03-12T06:42:35.9496428Z         User can filter the #index by storage location
2024-03-12T06:42:35.9497431Z         behaves like Date Range Picker
2024-03-12T06:42:35.9498638Z           when choosing 'Last Month'
2024-03-12T06:42:36.9376886Z             shows only 2 of the records
2024-03-12T06:42:36.9378277Z           when choosing 'All Time'
2024-03-12T06:42:37.9294455Z             shows all the records
2024-03-12T06:42:37.9295552Z           when choosing a date range that only includes the previous week
2024-03-12T06:42:38.8982768Z             shows only 1 record
2024-03-12T06:42:38.8986113Z   while signed in as an organization admin
2024-03-12T06:42:39.7660723Z     allows deletion of a purchase
2024-03-12T06:42:39.7661426Z 
2024-03-12T06:42:39.7661841Z Kit management
2024-03-12T06:42:40.6987584Z   can create a new kit as a user with the proper quantity
2024-03-12T06:42:42.2331902Z   can allocate and deallocate quantity per storage location from kit index
2024-03-12T06:42:42.8361299Z   should not display inactive storage locations under allocations
2024-03-12T06:42:42.8362610Z   when there is no kit quantity
2024-03-12T06:42:43.9791224Z     will not change quantity amounts when deallocating
2024-03-12T06:42:43.9792583Z   when there is not enough quantity of the items contained in the kit on-hand
2024-03-12T06:42:45.1106329Z     will not change quantity amounts when allocating
2024-03-12T06:42:45.1106894Z 
2024-03-12T06:42:45.1107374Z Events
2024-03-12T06:42:45.1108479Z   When not signed in
2024-03-12T06:42:45.1304108Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:42:45.1305303Z   When signed in
2024-03-12T06:42:45.1305658Z     GET #index
2024-03-12T06:42:45.6393644Z       should be successful
2024-03-12T06:42:45.6394453Z       with type filter
2024-03-12T06:42:46.1311478Z         should not include the adjustment
2024-03-12T06:42:46.1312193Z       with date filter
2024-03-12T06:42:46.6162033Z         should not include the old donation
2024-03-12T06:42:46.6163244Z       with item filter
2024-03-12T06:42:47.1071837Z         should not include the other item
2024-03-12T06:42:47.1072460Z       with eventable_id
2024-03-12T06:42:47.9417977Z         should only show events from that eventable
2024-03-12T06:42:47.9418899Z       with storage location filter
2024-03-12T06:42:48.4453940Z         should not include the other storage location
2024-03-12T06:42:48.4455009Z 
2024-03-12T06:42:48.4455279Z Admin Organization Management
2024-03-12T06:42:48.4457007Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-12T06:42:50.4763582Z     creates a new organization
2024-03-12T06:42:50.4764597Z   While signed in as an Administrative User (super admin)
2024-03-12T06:42:51.7534800Z     can view organization details
2024-03-12T06:42:52.8698766Z     filters by organizations by name in organizations index page
2024-03-12T06:42:54.8163397Z     creates a new organization
2024-03-12T06:42:54.8164706Z 
2024-03-12T06:42:54.8165087Z StorageLocations
2024-03-12T06:42:54.8166817Z   While signed in
2024-03-12T06:42:54.8168595Z     GET #show
2024-03-12T06:42:54.8169888Z       csv
2024-03-12T06:42:54.8658632Z         should be successful
2024-03-12T06:42:54.8659428Z       html
2024-03-12T06:42:54.9370052Z         should return a correct response
2024-03-12T06:42:54.9370956Z         with version date set
2024-03-12T06:42:54.9371643Z           with a version found
2024-03-12T06:42:55.0188671Z             should show the version specified
2024-03-12T06:42:55.0189652Z           with no version found
2024-03-12T06:42:55.0899398Z             should show N/A
2024-03-12T06:42:55.0900209Z     PUT #reactivate
2024-03-12T06:42:55.1102621Z       undiscards
2024-03-12T06:42:55.1103191Z     GET #inventory
2024-03-12T06:42:55.1104212Z       when also including omitted items
2024-03-12T06:42:55.1587561Z         returns a collection that also includes all items, but with zeroed quantities
2024-03-12T06:42:55.2045979Z         contains a collection of ducktyped entries that respond the same
2024-03-12T06:42:55.2047321Z       when also including inactive items
2024-03-12T06:42:55.2791709Z         returns a collection that also includes items that have been deactivated
2024-03-12T06:42:55.2792508Z       without any overrides
2024-03-12T06:42:55.3333305Z         returns a collection that only includes items at the storage location
2024-03-12T06:42:55.3336005Z     PUT #deactivate
2024-03-12T06:42:55.3537694Z       discards
2024-03-12T06:42:55.3538244Z       with inventory
2024-03-12T06:42:55.4023151Z         does not discard
2024-03-12T06:42:55.4024318Z     GET #destroy
2024-03-12T06:42:55.4333295Z       redirects to #index
2024-03-12T06:42:55.4333870Z     GET #new
2024-03-12T06:42:55.9636174Z       returns http success
2024-03-12T06:42:55.9636903Z     GET #index
2024-03-12T06:42:55.9637717Z       csv
2024-03-12T06:42:56.0685145Z         includes headers followed by alphabetized item names
2024-03-12T06:42:56.0904012Z         succeeds
2024-03-12T06:42:56.0904712Z       html
2024-03-12T06:42:56.1292710Z         succeeds
2024-03-12T06:42:56.1293521Z         with inactive locations
2024-03-12T06:42:56.1690268Z           does not includes the inactive location
2024-03-12T06:42:56.1691202Z           with include_inactive_locations
2024-03-12T06:42:56.2129114Z             includes the inactive location
2024-03-12T06:42:56.2130902Z     POST #import_csv
2024-03-12T06:42:56.2131719Z       with a csv file
2024-03-12T06:42:56.2311220Z         presents a flash notice message
2024-03-12T06:42:56.2475819Z         redirects
2024-03-12T06:42:56.2527039Z         invokes .import_csv
2024-03-12T06:42:56.2527800Z       without a csv file
2024-03-12T06:42:56.2648013Z         presents a flash error message
2024-03-12T06:42:56.2761533Z         redirects to :index
2024-03-12T06:42:56.2762613Z       csv file with wrong headers
2024-03-12T06:42:56.2885572Z         presents a flash error message
2024-03-12T06:42:56.3003076Z         redirects
2024-03-12T06:42:56.3003952Z     GET #edit
2024-03-12T06:42:56.3331828Z       returns http success
2024-03-12T06:42:56.3332590Z     Looking at a different organization
2024-03-12T06:42:56.5107449Z       redirects the user to the sign-in page for CRUD actions
2024-03-12T06:42:56.5108401Z   While not signed in
2024-03-12T06:42:56.5171812Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:42:56.5172835Z 
2024-03-12T06:42:56.5173089Z User account management
2024-03-12T06:42:56.5174134Z   when not in staging
2024-03-12T06:42:57.4436400Z     should change an user name
2024-03-12T06:42:58.2489515Z     should fail when the email is invalid
2024-03-12T06:42:59.1490784Z     should change the email
2024-03-12T06:42:59.1491533Z   when in staging
2024-03-12T06:42:59.6139120Z     should display staging warning
2024-03-12T06:43:00.0886097Z     should not allow the user to change staging credentials
2024-03-12T06:43:00.0886888Z 
2024-03-12T06:43:00.0887174Z /partners/profiles
2024-03-12T06:43:00.0888266Z   PUT #update
2024-03-12T06:43:00.1523573Z     updates the partner and profile
2024-03-12T06:43:00.1524235Z     when updating an existing value to a blank value
2024-03-12T06:43:00.2094002Z       updates the partner profile attribute to a blank value
2024-03-12T06:43:00.2640812Z       does store N/A in the database
2024-03-12T06:43:00.3173548Z       does not update other partner profile attributes to blank
2024-03-12T06:43:00.3174625Z     with no social media
2024-03-12T06:43:00.4302159Z       shows an error
2024-03-12T06:43:00.4302848Z   GET #edit
2024-03-12T06:43:00.5202025Z     displays the partner
2024-03-12T06:43:00.6062258Z     does not have default radio button value when value is nil
2024-03-12T06:43:00.6929902Z     has "No" radio button value when value is false
2024-03-12T06:43:00.7961340Z     has "Yes" radio button value when value is true
2024-03-12T06:43:00.7962634Z   GET #show
2024-03-12T06:43:00.8561116Z     displays the partner
2024-03-12T06:43:00.9130629Z     shows correct values for yes/no buttons
2024-03-12T06:43:00.9131318Z 
2024-03-12T06:43:00.9131571Z Profiles
2024-03-12T06:43:00.9132643Z   POST #update
2024-03-12T06:43:00.9133335Z     successful save
2024-03-12T06:43:00.9574300Z       redirects to #show
2024-03-12T06:43:01.0058267Z       update partner
2024-03-12T06:43:01.0059069Z     when updating an existing value to a blank value
2024-03-12T06:43:01.0521444Z       should have blank values
2024-03-12T06:43:01.1009483Z       update partner
2024-03-12T06:43:01.1010186Z   GET #edit
2024-03-12T06:43:01.1972920Z     returns http success
2024-03-12T06:43:01.1973579Z 
2024-03-12T06:43:01.1974072Z Managing requests
2024-03-12T06:43:01.1975567Z   creating a new quantity request
2024-03-12T06:43:01.1976897Z     GIVEN a partner user is permitted to make a request
2024-03-12T06:43:01.1977975Z       WHEN a request is built using add and remove buttons
2024-03-12T06:43:01.1979047Z         THEN a request records will be created
2024-03-12T06:43:03.1831805Z           creates the correct request
2024-03-12T06:43:03.1833257Z   creating a # individuals request
2024-03-12T06:43:03.1838106Z     GIVEN a partner user is permitted to make a request
2024-03-12T06:43:03.1839253Z       WHEN a request is built using add and remove buttons
2024-03-12T06:43:03.1840317Z         THEN a request records will be created
2024-03-12T06:43:05.0354402Z           creates the correct request
2024-03-12T06:43:05.0356256Z 
2024-03-12T06:43:05.0356849Z Organization management
2024-03-12T06:43:05.0358254Z   while signed in as a normal user
2024-03-12T06:43:05.5394167Z     cannot see 'Make user' button for admins
2024-03-12T06:43:06.0067352Z     can see summary details about the organization as a user
2024-03-12T06:43:06.0068368Z   while signed in as an organization admin
2024-03-12T06:43:07.0408001Z     can deactivate a user in the organization
2024-03-12T06:43:07.5346292Z     can re-invite a user to an organization after 7 days
2024-03-12T06:43:08.5287921Z     can add a new user to an organization
2024-03-12T06:43:09.5113217Z     can re-activate a user in the organization
2024-03-12T06:43:10.0195878Z     can see 'Make user' button for admins
2024-03-12T06:43:10.0196969Z     Viewing the organization
2024-03-12T06:43:10.5841003Z       can view organization details
2024-03-12T06:43:10.5842046Z     Editing the organization
2024-03-12T06:43:11.6441776Z       can select if the org distributes essentials monthly
2024-03-12T06:43:12.6319058Z       can select if the org repackages essentials
2024-03-12T06:43:14.1313761Z       can select and deselect Required Partner Fields
2024-03-12T06:43:15.3240400Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-03-12T06:43:16.1992428Z       can set a reminder and a deadline day
2024-03-12T06:43:17.2326852Z       can select if the org shows year-to-date values on the distribution printout
2024-03-12T06:43:18.0913446Z       can set a default storage location on the organization
2024-03-12T06:43:19.1043549Z       can enable if the org uses single step invite and approve partner process
2024-03-12T06:43:20.0749998Z       can disable if the org does NOT use single step invite and approve partner process
2024-03-12T06:43:20.9323948Z       can set the NDBN Member ID
2024-03-12T06:43:20.9327645Z 
2024-03-12T06:43:20.9327999Z Admin::AccountRequestsController
2024-03-12T06:43:20.9329313Z   while signed in as a super admin
2024-03-12T06:43:20.9330674Z     GET #for_rejection
2024-03-12T06:43:20.9331841Z       with an invalid token
2024-03-12T06:43:20.9741227Z         should show a not found message
2024-03-12T06:43:20.9741924Z       with a valid token
2024-03-12T06:43:21.0221108Z         should show the request
2024-03-12T06:43:21.0221723Z     GET #index
2024-03-12T06:43:21.0567217Z       returns success
2024-03-12T06:43:21.0567822Z     POST #reject
2024-03-12T06:43:21.0811472Z       should redirect back on success
2024-03-12T06:43:21.1174908Z W, [2024-03-11T23:43:21.117226 #2441]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-12T06:43:21.1176324Z W, [2024-03-11T23:43:21.117281 #2441]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:43:21.1178546Z W, [2024-03-11T23:43:21.117305 #2441]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:43:21.1181689Z W, [2024-03-11T23:43:21.117339 #2441]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-12T06:43:21.1541901Z 
2024-03-12T06:43:21.1542556Z Failures:
2024-03-12T06:43:21.1542918Z 
2024-03-12T06:43:21.1544477Z   1) Purchases while signed in as a normal user When creating a new purchase via manual entry multiple line items for the same item type are accepted and combined on the backend
2024-03-12T06:43:21.1546747Z      Failure/Error: page.find(:css, "#__add_line_item").click
2024-03-12T06:43:21.1547455Z 
2024-03-12T06:43:21.1547728Z      Capybara::ElementNotFound:
2024-03-12T06:43:21.1548459Z        Unable to find css "#__add_line_item"
2024-03-12T06:43:21.1548925Z 
2024-03-12T06:43:21.1551745Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/capybara/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_manual_entry_multiple_line_items_for_the_same_item_type_are_accepted_and_combined_on_the_backend_45.png
2024-03-12T06:43:21.1554937Z 
2024-03-12T06:43:21.1554945Z 
2024-03-12T06:43:21.1555500Z      # ./spec/system/purchase_system_spec.rb:172:in `block (5 levels) in <top (required)>'
2024-03-12T06:43:21.1556303Z 
2024-03-12T06:43:21.1557180Z   2) Purchases while signed in as a normal user When creating a new purchase via barcode entry User scan same barcode 2 times
2024-03-12T06:43:21.1558620Z      Failure/Error: @__Condition__.wait @__Lock__, timeout
2024-03-12T06:43:21.1559148Z 
2024-03-12T06:43:21.1559330Z      Ferrum::JavaScriptError:
2024-03-12T06:43:21.1560121Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:43:21.1562397Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:45839/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:43:21.1564242Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:43:21.1565481Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:43:21.1566707Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:43:21.1567924Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:43:21.1568743Z 
2024-03-12T06:43:21.1570752Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_barcode_entry_user_scan_same_barcode_2_times_300.png
2024-03-12T06:43:21.1572690Z 
2024-03-12T06:43:21.1572697Z 
2024-03-12T06:43:21.1574385Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `sleep'
2024-03-12T06:43:21.1577740Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `wait'
2024-03-12T06:43:21.1581102Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `ns_wait'
2024-03-12T06:43:21.1584637Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:44:in `block in ns_wait_until'
2024-03-12T06:43:21.1588157Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `loop'
2024-03-12T06:43:21.1591620Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `ns_wait_until'
2024-03-12T06:43:21.1594922Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:87:in `block in wait'
2024-03-12T06:43:21.1598243Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `block in synchronize'
2024-03-12T06:43:21.1601761Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:43:21.1605386Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:43:21.1608775Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:84:in `wait'
2024-03-12T06:43:21.1612016Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:75:in `wait'
2024-03-12T06:43:21.1615017Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:99:in `value!'
2024-03-12T06:43:21.1617693Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/browser/client.rb:42:in `command'
2024-03-12T06:43:21.1619989Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/page.rb:269:in `command'
2024-03-12T06:43:21.1622355Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:109:in `block in call'
2024-03-12T06:43:21.1624825Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/utils/attempt.rb:10:in `with_retry'
2024-03-12T06:43:21.1627179Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:105:in `call'
2024-03-12T06:43:21.1629573Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:97:in `evaluate_on'
2024-03-12T06:43:21.1631360Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:43:21.1632671Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:43:21.1634697Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/browser.rb:179:in `disabled?'
2024-03-12T06:43:21.1637188Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:21:in `command'
2024-03-12T06:43:21.1639630Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:143:in `disabled?'
2024-03-12T06:43:21.1654904Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `block in disabled?'
2024-03-12T06:43:21.1661872Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/base.rb:77:in `synchronize'
2024-03-12T06:43:21.1664631Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `disabled?'
2024-03-12T06:43:21.1667612Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector.rb:431:in `block (2 levels) in <top (required)>'
2024-03-12T06:43:21.1670756Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:14:in `block in initialize'
2024-03-12T06:43:21.1673743Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `instance_exec'
2024-03-12T06:43:21.1676487Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `apply'
2024-03-12T06:43:21.1679363Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:24:in `matches?'
2024-03-12T06:43:21.1682781Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:296:in `block (2 levels) in matches_node_filters?'
2024-03-12T06:43:21.1687729Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `each'
2024-03-12T06:43:21.1690448Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `all?'
2024-03-12T06:43:21.1693344Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `block in matches_node_filters?'
2024-03-12T06:43:21.1696300Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/selector.rb:89:in `with_filter_errors'
2024-03-12T06:43:21.1699174Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:283:in `matches_node_filters?'
2024-03-12T06:43:21.1702097Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:124:in `matches_filters?'
2024-03-12T06:43:21.1704822Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/result.rb:32:in `block in initialize'
2024-03-12T06:43:21.1707157Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:43:21.1709208Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:43:21.1711259Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:43:21.1713292Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:43:21.1714520Z      # 
2024-03-12T06:43:21.1715083Z      #   Showing full backtrace because every line was filtered out.
2024-03-12T06:43:21.1716102Z      #   See docs for RSpec::Configuration#backtrace_exclusion_patterns and
2024-03-12T06:43:21.1717177Z      #   RSpec::Configuration#backtrace_inclusion_patterns for more information.
2024-03-12T06:43:21.1717850Z 
2024-03-12T06:43:21.1718841Z   3) Purchases while signed in as a normal user When creating a new purchase via barcode entry a user can add items via scanning them in by barcode
2024-03-12T06:43:21.1720815Z      Failure/Error: qty = page.find(:xpath, '//input[@id="purchase_line_items_attributes_0_quantity"]').value
2024-03-12T06:43:21.1721701Z 
2024-03-12T06:43:21.1721880Z      Ferrum::JavaScriptError:
2024-03-12T06:43:21.1723224Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:43:21.1725304Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:45839/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:43:21.1727160Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:43:21.1728405Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:43:21.1729627Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:43:21.1730822Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:43:21.1731629Z 
2024-03-12T06:43:21.1733805Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_barcode_entry_a_user_can_add_items_via_scanning_them_in_by_barcode_680.png
2024-03-12T06:43:21.1735914Z 
2024-03-12T06:43:21.1735921Z 
2024-03-12T06:43:21.1736879Z      # ./spec/system/purchase_system_spec.rb:235:in `block (5 levels) in <top (required)>'
2024-03-12T06:43:21.1737947Z 
2024-03-12T06:43:21.1738337Z Finished in 3 minutes 26.2 seconds (files took 8.07 seconds to load)
2024-03-12T06:43:21.1739121Z 212 examples, 3 failures
2024-03-12T06:43:21.1739432Z 
2024-03-12T06:43:21.1739592Z Failed examples:
2024-03-12T06:43:21.1739855Z 
2024-03-12T06:43:21.1741484Z rspec ./spec/system/purchase_system_spec.rb:167 # Purchases while signed in as a normal user When creating a new purchase via manual entry multiple line items for the same item type are accepted and combined on the backend
2024-03-12T06:43:21.1744416Z rspec ./spec/system/purchase_system_spec.rb:240 # Purchases while signed in as a normal user When creating a new purchase via barcode entry User scan same barcode 2 times
2024-03-12T06:43:21.1747085Z rspec ./spec/system/purchase_system_spec.rb:227 # Purchases while signed in as a normal user When creating a new purchase via barcode entry a user can add items via scanning them in by barcode
2024-03-12T06:43:21.1748268Z 
2024-03-12T06:43:21.1748381Z Randomized with seed 6232
2024-03-12T06:43:21.1748598Z 
2024-03-12T06:43:21.6892287Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:43:21.6894265Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3735 / 6478 LOC (57.66%) covered.
2024-03-12T06:43:21.8050822Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb" failed
2024-03-12T06:43:22.2039485Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:43:22.2041638Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10785 LOC (0.35%) covered.
2024-03-12T06:43:22.2305075Z ##[error]Process completed with exit code 1.
