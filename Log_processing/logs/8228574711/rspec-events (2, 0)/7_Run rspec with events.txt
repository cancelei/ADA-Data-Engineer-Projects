2024-03-11T06:26:29.2278131Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-11T06:26:29.2279447Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-11T06:26:29.2329145Z shell: /usr/bin/bash -e {0}
2024-03-11T06:26:29.2329553Z env:
2024-03-11T06:26:29.2329945Z   POSTGRES_HOST: localhost
2024-03-11T06:26:29.2330356Z   DATABASE_HOST: localhost
2024-03-11T06:26:29.2330723Z   PG_USERNAME: postgres
2024-03-11T06:26:29.2331144Z   PG_PASSWORD: password
2024-03-11T06:26:29.2331498Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-11T06:26:29.2331922Z   POSTGRES_PORT: 5432
2024-03-11T06:26:29.2332325Z   PGHOST: localhost
2024-03-11T06:26:29.2332678Z   PGUSER: postgres
2024-03-11T06:26:29.2333064Z   RAILS_ENV: test
2024-03-11T06:26:29.2333385Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-11T06:26:29.2333834Z   KNAPSACK_PRO_CI_NODE_TOTAL: 2
2024-03-11T06:26:29.2334295Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-03-11T06:26:29.2334755Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-11T06:26:29.2335476Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-11T06:26:29.2336248Z   KNAPSACK_PRO_TEST_FILE_EXCLUDE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-11T06:26:29.2336914Z   EVENTS_READ: true
2024-03-11T06:26:29.2337320Z ##[endgroup]
2024-03-11T06:26:35.1185632Z W, [2024-03-11T06:26:35.118218 #2353]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-11T06:26:35.1187828Z W, [2024-03-11T06:26:35.118279 #2353]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-11T06:26:35.1190254Z W, [2024-03-11T06:26:35.118296 #2353]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-11T06:26:35.1197163Z W, [2024-03-11T06:26:35.118321 #2353]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-11T06:26:39.0499087Z W, [2024-03-11T06:26:39.049536 #2353]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-11T06:26:39.0501422Z W, [2024-03-11T06:26:39.049598 #2353]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-11T06:26:39.0503339Z W, [2024-03-11T06:26:39.049624 #2353]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-11T06:26:39.0505706Z W, [2024-03-11T06:26:39.049691 #2353]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-11T06:26:39.0571797Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/models/account_request_spec.rb" "spec/models/audit_spec.rb" "spec/models/base_item_spec.rb" "spec/models/concerns/deadlinable_spec.rb" "spec/models/distribution_spec.rb" "spec/models/donation_spec.rb" "spec/models/inventory_item_spec.rb" "spec/models/item_spec.rb" "spec/models/kit_spec.rb" "spec/models/manufacturer_spec.rb" "spec/models/organization_spec.rb" "spec/models/partner_group_spec.rb" "spec/models/partners/authorized_family_member_spec.rb" "spec/models/partners/child_spec.rb" "spec/models/partners/family_spec.rb" "spec/models/partners/profile_spec.rb" "spec/models/product_drive_participant_spec.rb" "spec/models/purchase_spec.rb" "spec/models/request_item_spec.rb" "spec/models/role_spec.rb" "spec/models/transfer_spec.rb" "spec/models/users_role_spec.rb" "spec/models/view/inventory_spec.rb" "spec/controllers/application_controller_spec.rb" "spec/controllers/donation_sites_controller_spec.rb" "spec/controllers/help_controller_spec.rb" "spec/controllers/transfers_controller_spec.rb" "spec/events/inventory_aggregate_spec.rb" "spec/helpers/historical_trends_helper_spec.rb" "spec/helpers/ui_helper_spec.rb" "spec/jobs/notify_partner_job_spec.rb" "spec/jobs/reminder_deadline_job_spec.rb" "spec/mailers/account_request_mailer_spec.rb" "spec/mailers/distribution_mailer_spec.rb" "spec/mailers/partner_mailer_spec.rb" "spec/mailers/request_mailer_spec.rb" "spec/mailers/user_mailer_spec.rb" "spec/queries/items_in_query_spec.rb" "spec/queries/items_out_query_spec.rb" "spec/routing/account_requests_routing_spec.rb" "spec/services/adjustment_create_service_spec.rb" "spec/services/calendar_service_spec.rb" "spec/services/deallocate_kit_inventory_service_spec.rb" "spec/services/distribution_create_service_spec.rb" "spec/services/distribution_itemized_breakdown_service_spec.rb" "spec/services/distribution_update_service_spec.rb" "spec/services/donation_create_service_spec.rb" "spec/services/donation_itemized_breakdown_service_spec.rb" "spec/services/exports/export_donations_csv_service_spec.rb" "spec/services/exports/export_report_csv_service_spec.rb" "spec/services/historical_trend_service_spec.rb" "spec/services/item_create_service_spec.rb" "spec/services/kit_create_service_spec.rb" "spec/services/partner_approval_service_spec.rb" "spec/services/partner_fetch_requestable_items_service_spec.rb" "spec/services/partner_profile_update_service_spec.rb" "spec/services/partners/family_request_create_service_spec.rb" "spec/services/partners/request_approval_service_spec.rb" "spec/services/partners/update_family_spec.rb" "spec/services/remove_role_service_spec.rb" "spec/services/reports/adult_incontinence_report_service_spec.rb" "spec/services/reports/other_products_report_service_spec.rb" "spec/services/reports/period_supply_report_service_spec.rb" "spec/services/reports/warehouse_report_service_spec.rb" "spec/services/requests_total_items_service_spec.rb" "spec/services/sync_ndbn_members_spec.rb" "spec/services/transfer_destroy_service_spec.rb"
2024-03-11T06:26:47.8201225Z 
2024-03-11T06:26:47.8202078Z Randomized with seed 42133
2024-03-11T06:26:48.6757851Z 
2024-03-11T06:26:48.6758572Z TransfersController
2024-03-11T06:26:48.6759635Z   While signed in
2024-03-11T06:26:48.6761593Z     GET #new
2024-03-11T06:26:48.7242388Z       returns http success
2024-03-11T06:26:48.7243164Z     POST #create
2024-03-11T06:26:48.7447753Z       renders to #new when failing
2024-03-11T06:26:48.7973644Z       redirects to #show when successful
2024-03-11T06:26:48.7974428Z     GET #index
2024-03-11T06:26:48.8112483Z       returns http success
2024-03-11T06:26:48.8113216Z       when filtering by date
2024-03-11T06:26:48.8113960Z         when date parameters are not supplied
2024-03-11T06:26:48.8506572Z           returns all objects
2024-03-11T06:26:48.8883020Z         when date parameters are supplied
2024-03-11T06:26:48.8883890Z           only returns the correct obejects
2024-03-11T06:26:48.8884686Z     Looking at a different organization
2024-03-11T06:26:49.0674823Z       redirects the user to the sign-in page for CRUD actions
2024-03-11T06:26:49.0676028Z     GET #show
2024-03-11T06:26:49.0933754Z       returns http success
2024-03-11T06:26:49.0934627Z   While not signed in
2024-03-11T06:26:49.1065823Z     redirects the user to the sign-in page for CRUD actions
2024-03-11T06:26:49.1066453Z 
2024-03-11T06:26:49.1066706Z CalendarService
2024-03-11T06:26:49.2438113Z   #time_zones
2024-03-11T06:26:49.2438614Z   .calendar
2024-03-11T06:26:49.3141458Z     should print the calendar correctly
2024-03-11T06:26:49.3142197Z 
2024-03-11T06:26:49.3143175Z NotifyPartnerJob
2024-03-11T06:26:49.3143900Z   #perform
2024-03-11T06:26:49.3233002Z     avoids exception when request doesn't exist
2024-03-11T06:26:49.3426632Z     is expected to call RequestsConfirmationMailer
2024-03-11T06:26:49.3427797Z     when the request's partner is deactivated
2024-03-11T06:26:49.3718195Z       does not send the confirmation email
2024-03-11T06:26:49.3719072Z 
2024-03-11T06:26:49.3719499Z DistributionItemizedBreakdownService
2024-03-11T06:26:49.3720361Z   #fetch_csv
2024-03-11T06:26:49.7759471Z     should output the expected output but in CSV format
2024-03-11T06:26:49.7760530Z   #fetch
2024-03-11T06:26:50.1576330Z     should include the break down of items distributed with onhand data
2024-03-11T06:26:50.1577113Z 
2024-03-11T06:26:50.1577477Z Manufacturer
2024-03-11T06:26:50.1578766Z   versioning
2024-03-11T06:26:50.1655887Z     is expected to be versioned
2024-03-11T06:26:50.1656754Z   Private Methods
2024-03-11T06:26:50.1657621Z     #exists_in_org?
2024-03-11T06:26:50.3408490Z       returns true if manufacturer exists in an organization
2024-03-11T06:26:50.3409619Z   Methods
2024-03-11T06:26:50.3410124Z     volume
2024-03-11T06:26:50.4837255Z       retrieves the amount of product that has been donated by manufacturer from multiple donations
2024-03-11T06:26:50.5611026Z       retrieves the amount of product that has been donated by manufacturer
2024-03-11T06:26:50.6950833Z       ignores the amount of product from other manufacturers
2024-03-11T06:26:50.6951665Z   Validations
2024-03-11T06:26:50.8770222Z     must belong to an organization
2024-03-11T06:26:50.8864366Z     must have a unique name within organization
2024-03-11T06:26:50.8865333Z 
2024-03-11T06:26:50.8865642Z Partners::RequestApprovalService
2024-03-11T06:26:50.8866549Z   #call
2024-03-11T06:26:50.8868215Z     when the partner is already awaiting approval
2024-03-11T06:26:50.9218769Z       should return an error saying it the partner is already requested approval
2024-03-11T06:26:50.9219997Z     when the partner is not yet waiting for approval and there is no profile error
2024-03-11T06:26:50.9536900Z       does not have an error
2024-03-11T06:26:50.9537663Z     when the partner is not yet waiting for approval and there is a profile error
2024-03-11T06:26:50.9793185Z       should return an error re social media
2024-03-11T06:26:50.9794510Z       should return an error re agency_type (PENDING: Temporarily skipped with xit)
2024-03-11T06:26:50.9795795Z     when the partner is not yet awaiting approval
2024-03-11T06:26:51.0088328Z       should send an email notification to the partner's organization
2024-03-11T06:26:51.0409166Z       should set the status on the partner record to awaiting_review
2024-03-11T06:26:51.0410006Z 
2024-03-11T06:26:51.0410210Z ReminderDeadlineJob
2024-03-11T06:26:51.0410979Z   #perform
2024-03-11T06:26:51.0653688Z     should queue up reminder deadline emails for all partners that should be reminded
2024-03-11T06:26:51.0654737Z 
2024-03-11T06:26:51.0654962Z UiHelper
2024-03-11T06:26:51.0656410Z   optional_data_text
2024-03-11T06:26:51.0657287Z     when the field provided is blank
2024-03-11T06:26:51.0725141Z       should return the text Not-Provided in gray text
2024-03-11T06:26:51.0726184Z     when the field provided is not blank
2024-03-11T06:26:51.0777508Z       should return the content
2024-03-11T06:26:51.0778289Z   input_delete_button
2024-03-11T06:26:51.0988052Z     should generate a button with correct attributes (FAILED - 1)
2024-03-11T06:26:51.0988815Z     when soft is false
2024-03-11T06:26:51.1047018Z       should generate a button with correct attributes
2024-03-11T06:26:51.1047803Z   input_add_button
2024-03-11T06:26:51.1095617Z     should generate a button with correct attributes
2024-03-11T06:26:51.1096365Z 
2024-03-11T06:26:51.1096780Z ItemsOutQuery
2024-03-11T06:26:51.1097480Z   items_out_query
2024-03-11T06:26:51.2346245Z     returns a collection with the fields name, item_id, quantity
2024-03-11T06:26:51.3458331Z     includes distributions, adjustments, transfers among sources
2024-03-11T06:26:51.3459395Z 
2024-03-11T06:26:51.3459620Z Deadlinable
2024-03-11T06:26:51.3461394Z   validations
2024-03-11T06:26:51.3513272Z     validates that reminder day is not the same as deadline day
2024-03-11T06:26:51.3593322Z     is expected to validate that :deadline_day looks like an integer greater than or equal to 1 and less than or equal to 28 as long as it is not nil
2024-03-11T06:26:51.3664152Z     is expected to validate that :reminder_day looks like an integer greater than or equal to 1 and less than or equal to 28 as long as it is not nil
2024-03-11T06:26:51.3665715Z 
2024-03-11T06:26:51.3665997Z PartnerProfileUpdateService
2024-03-11T06:26:51.3666698Z   #call
2024-03-11T06:26:51.3667717Z     when served area client shares pre-exist
2024-03-11T06:26:51.3668556Z       and the new values are incorrect
2024-03-11T06:26:51.4052452Z         maintains the old values and returns failure
2024-03-11T06:26:51.4053289Z       and the new values are correct
2024-03-11T06:26:51.4054308Z         and there are no other errors
2024-03-11T06:26:51.4339382Z           replaces the old values and returns success
2024-03-11T06:26:51.4340278Z         and there are errors on the profile
2024-03-11T06:26:51.4610660Z           maintains the old values and returns failure
2024-03-11T06:26:51.4612020Z     when there are no pre-existing served areas
2024-03-11T06:26:51.4612802Z       and the new values are correct
2024-03-11T06:26:51.4819045Z         stores the new values and returns success
2024-03-11T06:26:51.4819922Z         and there are other errors in the profile
2024-03-11T06:26:51.5003218Z           does not store the new values and it returns a failure
2024-03-11T06:26:51.5004342Z       and the new values are incorrect
2024-03-11T06:26:51.5180392Z 0
2024-03-11T06:26:51.5189541Z         does not store the new values and returns a failure
2024-03-11T06:26:51.5190927Z 
2024-03-11T06:26:51.5191499Z View::Inventory
2024-03-11T06:26:51.5193435Z   #items_for_location
2024-03-11T06:26:51.6070960Z     should return the right values
2024-03-11T06:26:51.6071898Z     with include_omitted_items
2024-03-11T06:26:51.6929868Z       should add items not in the storage location
2024-03-11T06:26:51.6930436Z   .items_for_location
2024-03-11T06:26:51.7795623Z     should return the right values
2024-03-11T06:26:51.7796499Z     with include_omitted_items
2024-03-11T06:26:51.8641753Z       should add items not in the storage location
2024-03-11T06:26:51.8642628Z   #all_items
2024-03-11T06:26:51.9511428Z     should return all items across storage locations
2024-03-11T06:26:51.9512351Z   .total_inventory
2024-03-11T06:26:52.0352939Z     should return the total quantity
2024-03-11T06:26:52.0353712Z   #quantity_for
2024-03-11T06:26:52.0354255Z     with item id
2024-03-11T06:26:52.0354936Z       with no storage location
2024-03-11T06:26:52.1209431Z         should return quantities across all storage locations
2024-03-11T06:26:52.1210107Z       with storage location
2024-03-11T06:26:52.2057407Z         should return the quantity at that location
2024-03-11T06:26:52.2058399Z     with storage location but no item id
2024-03-11T06:26:52.3012147Z       should return all items at that location
2024-03-11T06:26:52.3013312Z   #storage_locations_for_item
2024-03-11T06:26:52.3904739Z     should return all relevant IDs
2024-03-11T06:26:52.3905683Z   #total_value_in_dollars
2024-03-11T06:26:52.4766781Z     should return total value across the given location
2024-03-11T06:26:52.4767442Z   #storage_location_name
2024-03-11T06:26:52.5642554Z     should return the right name
2024-03-11T06:26:52.5643224Z 
2024-03-11T06:26:52.5643502Z DeallocateKitInventoryService
2024-03-11T06:26:52.5644351Z   #error
2024-03-11T06:26:52.5645551Z     when the storage location organization doesn't match
2024-03-11T06:26:52.7978238Z       returns error
2024-03-11T06:26:52.7978991Z   #deallocate
2024-03-11T06:26:52.7979836Z     when inventory items are available
2024-03-11T06:26:52.7981248Z       when decrease_by is less then kit's quantity in inventory_in
2024-03-11T06:26:53.1290727Z         will add items in inventory_out and remove kits for decrease_by from inventory_in
2024-03-11T06:26:53.1292397Z       when kit_allocation not exist for inventory_in or inventory_out
2024-03-11T06:26:53.3937129Z         raises error about KitAllocation not found
2024-03-11T06:26:53.3938224Z       when  decrease_by is equal to kit's quantity in inventory_in
2024-03-11T06:26:53.7040752Z         increases the quantity of the loose items contained in the kit and decrease kit quantity, and delete inventory_in and inventory_out
2024-03-11T06:26:53.7043047Z       when decrease_by is greater then kit's quantity in inventory_in
2024-03-11T06:26:53.9972048Z         raises error about inconsistent inventory in or out
2024-03-11T06:26:53.9972715Z 
2024-03-11T06:26:53.9973130Z RequestMailer
2024-03-11T06:26:53.9974102Z   #request_cancel_partner_notification
2024-03-11T06:26:54.0164677Z     should be sent to the partner main email with the correct subject line
2024-03-11T06:26:54.0304879Z     renders the body with correct text with partner information
2024-03-11T06:26:54.0305657Z 
2024-03-11T06:26:54.0305865Z AccountRequestMailer
2024-03-11T06:26:54.0308890Z   #rejection
2024-03-11T06:26:54.0533234Z     should include the rejection reason
2024-03-11T06:26:54.0647967Z     should have the correct subject
2024-03-11T06:26:54.0764663Z     should be sent to the correct email address
2024-03-11T06:26:54.0765644Z     when the account_request_id provided does not match any AccountRequest
2024-03-11T06:26:54.0815240Z       should trigger raise a ActiveRecord::RecordNotFound error
2024-03-11T06:26:54.0816287Z   #confirmation
2024-03-11T06:26:54.0946978Z     should have the correct subject
2024-03-11T06:26:54.1062742Z     should be sent to the specified account_request email
2024-03-11T06:26:54.1182344Z     should be from no-reply@humanessentials.app
2024-03-11T06:26:54.1183301Z     HTML format
2024-03-11T06:26:54.1336044Z       should include the staging/demo account information
2024-03-11T06:26:54.1464307Z       should include the button to confirm the request
2024-03-11T06:26:54.1578146Z       should include the instruction video link
2024-03-11T06:26:54.1579339Z     when the account_request_id provided does not match any AccountRequest
2024-03-11T06:26:54.1624368Z       should trigger raise a ActiveRecord::RecordNotFound error
2024-03-11T06:26:54.1625240Z     Text format
2024-03-11T06:26:54.1738680Z       should include the instruction video link
2024-03-11T06:26:54.1854154Z       should include the button to confirm the request
2024-03-11T06:26:54.1971994Z       should include the staging/demo account information
2024-03-11T06:26:54.1973145Z   #approval_request
2024-03-11T06:26:54.2104457Z     should be sent to the info@humanessentials.app email address
2024-03-11T06:26:54.2231141Z     should include the admin link to create the new organization from the account request
2024-03-11T06:26:54.2347682Z     should have the correct subject
2024-03-11T06:26:54.2476340Z     should include the admin link to reject the organization
2024-03-11T06:26:54.2761215Z     should include details of the account request
2024-03-11T06:26:54.2761953Z     when the account_request_id provided does not match any AccountRequest
2024-03-11T06:26:54.2813769Z       should trigger raise a ActiveRecord::RecordNotFound error
2024-03-11T06:26:54.2814578Z 
2024-03-11T06:26:54.2814913Z UsersRole
2024-03-11T06:26:54.2815837Z   versioning
2024-03-11T06:26:54.2862252Z     is expected to be versioned
2024-03-11T06:26:54.2863244Z   #current_role_for
2024-03-11T06:26:54.2863940Z     for partner user
2024-03-11T06:26:54.3004619Z       should return partner user
2024-03-11T06:26:54.3005359Z     for org admin
2024-03-11T06:26:54.3209084Z       should return org admin
2024-03-11T06:26:54.3209729Z     for super admin
2024-03-11T06:26:54.3374289Z       should return super admin
2024-03-11T06:26:54.3374980Z     for org user
2024-03-11T06:26:54.3500442Z       should return org user
2024-03-11T06:26:54.3501216Z 
2024-03-11T06:26:54.3501545Z Partners::Child
2024-03-11T06:26:54.3502627Z   #display_name
2024-03-11T06:26:54.4047140Z     should return a child's first and last name
2024-03-11T06:26:54.4047899Z   versioning
2024-03-11T06:26:54.4086334Z     is expected to be versioned
2024-03-11T06:26:54.4087076Z   associations
2024-03-11T06:26:54.4138929Z     is expected to have many child_item_requests dependent => destroy
2024-03-11T06:26:54.4180231Z     is expected to belong to family required: true
2024-03-11T06:26:54.4180928Z 
2024-03-11T06:26:54.4181177Z Partners::Family
2024-03-11T06:26:54.4182613Z   associations
2024-03-11T06:26:54.4225315Z     is expected to belong to partner required: true
2024-03-11T06:26:54.4259373Z     is expected to have many authorized_family_members dependent => destroy
2024-03-11T06:26:54.4295803Z     is expected to have many children dependent => destroy
2024-03-11T06:26:54.4296980Z   #total_children_count
2024-03-11T06:26:54.4348229Z     should return the family's total children count
2024-03-11T06:26:54.4349104Z   validations
2024-03-11T06:26:54.4431421Z     is expected to validate that :guardian_first_name cannot be empty/falsy
2024-03-11T06:26:54.4507937Z     is expected to validate that :guardian_zip_code cannot be empty/falsy
2024-03-11T06:26:54.4583851Z     is expected to validate that :guardian_last_name cannot be empty/falsy
2024-03-11T06:26:54.4584908Z   #create_authorized
2024-03-11T06:26:54.4869464Z     should include authorized family members
2024-03-11T06:26:54.4870430Z   versioning
2024-03-11T06:26:54.4906085Z     is expected to be versioned
2024-03-11T06:26:54.4906897Z   #guardian_display_name
2024-03-11T06:26:54.4958449Z     should return the guardian's first and last name
2024-03-11T06:26:54.4959201Z   #search_non_archived
2024-03-11T06:26:54.5877428Z     should return all families if one is passed in
2024-03-11T06:26:54.6770241Z     should return non-archived families if zero is passed in
2024-03-11T06:26:54.6770884Z 
2024-03-11T06:26:54.6771189Z Partners::Profile
2024-03-11T06:26:54.6809909Z   must allow deleting served_areas
2024-03-11T06:26:54.6810666Z   request settings validation for profile
2024-03-11T06:26:54.6811427Z     at least one request type is set to true
2024-03-11T06:26:54.6884328Z       should be valid when enable_child_based_requests is true
2024-03-11T06:26:54.6955581Z       should be valid when enable_quantity_based_requests is true
2024-03-11T06:26:54.7026141Z       should be valid when enable_individual_requests is true
2024-03-11T06:26:54.7027089Z     no settings are set to true
2024-03-11T06:26:54.7075875Z       should not be valid
2024-03-11T06:26:54.7076699Z   associations
2024-03-11T06:26:54.7113470Z     is expected to have many served_areas
2024-03-11T06:26:54.7152268Z     is expected to have a has_many_attached called documents
2024-03-11T06:26:54.7189255Z     is expected to have a has_one_attached called proof_of_form_990
2024-03-11T06:26:54.7225713Z     is expected to have a has_one_attached called proof_of_partner_status
2024-03-11T06:26:54.7226730Z   social media info validation for profile
2024-03-11T06:26:54.7227805Z     no social media presence and the checkbox isn't checked
2024-03-11T06:26:54.7330504Z       should be valid if media_information is not needed
2024-03-11T06:26:54.7386226Z       should not be valid
2024-03-11T06:26:54.7387110Z     has social media presence and the checkbox is unchecked
2024-03-11T06:26:54.7459316Z       with just instagram it should be valid
2024-03-11T06:26:54.7530695Z       with just facebook it should be valid
2024-03-11T06:26:54.7602133Z       with just a website it should be valid
2024-03-11T06:26:54.7673069Z       with just twitter it should be valid
2024-03-11T06:26:54.7742706Z       with every social media option it should be valid
2024-03-11T06:26:54.7743554Z     no social media presence and the checkbox is checked
2024-03-11T06:26:54.7799837Z       should be valid
2024-03-11T06:26:54.7800504Z   versioning
2024-03-11T06:26:54.7836381Z     is expected to be versioned
2024-03-11T06:26:54.7836995Z   client share behaviour
2024-03-11T06:26:54.7837692Z     multiple
2024-03-11T06:26:54.7996213Z       sums the client shares
2024-03-11T06:26:54.8150792Z       is valid if client share sum is 100
2024-03-11T06:26:54.8151521Z     no served areas
2024-03-11T06:26:54.8200698Z       has 0 client share
2024-03-11T06:26:54.8201874Z 
2024-03-11T06:26:54.8202086Z RequestsTotalItemsService
2024-03-11T06:26:54.8202887Z   #calculate
2024-03-11T06:26:54.8204265Z     when provided requests is nil
2024-03-11T06:26:54.8240064Z       is expected to be blank
2024-03-11T06:26:54.8240655Z     when provided with requests that have no request items
2024-03-11T06:26:54.8320212Z       is expected to be blank
2024-03-11T06:26:54.8320789Z     when item name is nil
2024-03-11T06:26:54.8443767Z       return Unknown Item
2024-03-11T06:26:54.8444298Z     when the request items is not blank
2024-03-11T06:26:54.8584159Z       return the names of items correctly
2024-03-11T06:26:54.8715985Z       return items with correct quantities calculated
2024-03-11T06:26:54.8718487Z 
2024-03-11T06:26:54.8719123Z Distribution
2024-03-11T06:26:54.8720483Z   behaves like itemizable
2024-03-11T06:26:54.8721656Z     .line_items
2024-03-11T06:26:54.8723017Z       combine!
2024-03-11T06:26:54.9420438Z         incrementally combines line_items on donations that have already been created
2024-03-11T06:26:54.9871175Z         combines multiple line_items with the same item_id into a single record
2024-03-11T06:26:54.9872235Z       sorted
2024-03-11T06:26:55.1114263Z         displays the items, sorted by name
2024-03-11T06:26:55.1115154Z       quantities_by_name
2024-03-11T06:26:55.2021062Z         leaves out zero-quantitied items if requested
2024-03-11T06:26:55.2908164Z         returns a hash of items with id, name, and quantity
2024-03-11T06:26:55.3824531Z       total
2024-03-11T06:26:55.3825357Z         has an item total
2024-03-11T06:26:55.3825969Z     .to_a
2024-03-11T06:26:55.3826610Z       with Flipper flag :deprecate_to_a enabled
2024-03-11T06:26:55.4170965Z         raises an error
2024-03-11T06:26:55.4171810Z       with Flipper flag :deprecate_to_a disabled
2024-03-11T06:26:55.4501713Z         calls line_item_values
2024-03-11T06:26:55.4502742Z   Methods >
2024-03-11T06:26:55.4503862Z     #future?
2024-03-11T06:26:55.4504890Z       when issued_at has not passed
2024-03-11T06:26:55.4791041Z         returns true
2024-03-11T06:26:55.4791697Z       when issued_at has passed
2024-03-11T06:26:55.5063526Z         returns false
2024-03-11T06:26:55.5064137Z     #distributed_at
2024-03-11T06:26:55.5327143Z       shows the hour and minutes if it has been provided
2024-03-11T06:26:55.5831340Z       displays explicit issued_at date
2024-03-11T06:26:55.5832047Z     #copy_line_items
2024-03-11T06:26:55.6248746Z       replicates line_items from a donation into a distribution
2024-03-11T06:26:55.6249936Z     #combine_duplicates
2024-03-11T06:26:55.6669544Z       condenses duplicate line_items if the item_ids match
2024-03-11T06:26:55.6670356Z     #copy_from_request
2024-03-11T06:26:55.6895985Z       copy over relevant request information into the distrubution
2024-03-11T06:26:55.6896958Z   Callbacks >
2024-03-11T06:26:55.7400867Z     initializes the issued_at field to default to midnight if it wasn't explicitly set
2024-03-11T06:26:55.7401939Z     #before_save
2024-03-11T06:26:55.7402348Z       #reset_shipping_cost
2024-03-11T06:26:55.7403105Z         when delivery_method is other then shipped
2024-03-11T06:26:55.7660719Z           distribution will be created successfully and the shipping_cost will be zero
2024-03-11T06:26:55.7661771Z   CSV export >
2024-03-11T06:26:55.7662694Z     for_csv_export >
2024-03-11T06:26:56.0921602Z       filters only to the given filter
2024-03-11T06:26:56.4229409Z       filters only to the given organization
2024-03-11T06:26:56.7542680Z       filters only to the given issue time range
2024-03-11T06:26:56.7543804Z     csv_export_attributes
2024-03-11T06:26:57.1640099Z       returns the set of attributes which define a row in case of distribution export
2024-03-11T06:26:57.1641458Z   versioning
2024-03-11T06:26:57.1686619Z     is expected to be versioned
2024-03-11T06:26:57.1687673Z   Validations >
2024-03-11T06:26:57.1728767Z     ensures that any included items are found in the associated storage location
2024-03-11T06:26:57.1910610Z     ensures the associated line_items are invalid with a nil quantity
2024-03-11T06:26:57.2333096Z     ensures the associated line_items are valid
2024-03-11T06:26:57.2489708Z     ensures the associated line_items are invalid with a zero quantity
2024-03-11T06:26:57.2549484Z     ensures that the issued at is no earlier than 2000
2024-03-11T06:26:57.2600318Z     must belong to an organization
2024-03-11T06:26:57.2650130Z     requires a partner
2024-03-11T06:26:57.2699285Z     requires a storage location
2024-03-11T06:26:57.2700151Z     when delivery method is shipped
2024-03-11T06:26:57.2700908Z       shipping cost is negative
2024-03-11T06:26:57.2760062Z         will not allow to save distribution
2024-03-11T06:26:57.2760787Z       shipping cost is none negative
2024-03-11T06:26:57.3026920Z         allows to save distribution
2024-03-11T06:26:57.3027932Z     when delivery method is other then shipped
2024-03-11T06:26:57.3293388Z       allows to save distribution
2024-03-11T06:26:57.3294159Z   Scopes >
2024-03-11T06:26:57.3295001Z     by_item_id >
2024-03-11T06:26:57.4656083Z       only returns distributions with given item id
2024-03-11T06:26:57.4656904Z     by_partner >
2024-03-11T06:26:57.5151045Z       only returns distributions with given partner id
2024-03-11T06:26:57.5151948Z     this_week >
2024-03-11T06:26:57.5153097Z       When it's Tuesday (mid-week)
2024-03-11T06:26:57.5870297Z         includes distributions as early as Monday and as late as upcoming Sunday
2024-03-11T06:26:57.5871957Z       When it's Sunday (end of the week)
2024-03-11T06:26:57.6341793Z         doesn't include distributions past Sunday
2024-03-11T06:26:57.6342642Z     by_location >
2024-03-11T06:26:57.6832345Z       only returns distributions with given location id
2024-03-11T06:26:57.6833209Z     during >
2024-03-11T06:26:57.7539836Z       returns all distributions created between two dates
2024-03-11T06:26:57.7540586Z 
2024-03-11T06:26:57.7541140Z HistoricalTrendsHelper
2024-03-11T06:26:57.7542065Z   #last_12_months
2024-03-11T06:26:57.7593610Z     returns the last 12 months starting from July when the current month is June
2024-03-11T06:26:57.7634786Z     returns the last 12 months starting from Feb when the current month is Jan
2024-03-11T06:26:57.7674558Z     returns the last 12 months starting from Jan when the current month is Dec
2024-03-11T06:26:57.7675545Z 
2024-03-11T06:26:57.7675750Z SyncNDBNMembers
2024-03-11T06:26:57.7676475Z   .sync
2024-03-11T06:26:57.7677306Z     when the HTTP request is successful
2024-03-11T06:26:57.7678507Z       when the account name of a NDBN Member has changed
2024-03-11T06:26:57.8099628Z         should update the account name of the corresponding NDBN Member
2024-03-11T06:26:57.8100346Z       when there are no exisiting NDBN Member records
2024-03-11T06:26:57.8198468Z         should create the NDBN Member records
2024-03-11T06:26:57.8199327Z       when no new NDBN Member has been added
2024-03-11T06:26:57.8313486Z         should not add any new NDBN Members
2024-03-11T06:26:57.8314546Z     when the HTTP request does not get a response of 200
2024-03-11T06:26:57.8353867Z       should raise an error regarding the response code
2024-03-11T06:26:57.8354459Z 
2024-03-11T06:26:57.8354741Z Reports::OtherProductsReportService
2024-03-11T06:26:57.8355757Z   #report
2024-03-11T06:26:58.0245462Z     should report zero values
2024-03-11T06:26:58.6713045Z     should report normal values
2024-03-11T06:26:58.6713554Z 
2024-03-11T06:26:58.6714105Z PartnerApprovalService
2024-03-11T06:26:58.6714707Z   #call
2024-03-11T06:26:58.6715423Z     when the arguments are incorrect
2024-03-11T06:26:58.6716495Z       because the partner is not approvable
2024-03-11T06:26:58.6993179Z         should return the PartnerApprovalService object with an error
2024-03-11T06:26:58.6994201Z     when the arguments are correct
2024-03-11T06:26:58.7282902Z       should have no errors
2024-03-11T06:26:58.7583653Z       should send an email notification to the partner
2024-03-11T06:26:58.7896715Z       should change the partner status to approved
2024-03-11T06:26:58.7898218Z       but a unexpected error occured during the save
2024-03-11T06:26:58.7899069Z         for partner approval
2024-03-11T06:26:58.8154118Z           should have an error with the raised error
2024-03-11T06:26:58.8422940Z           should not change the partner status to approved
2024-03-11T06:26:58.8681011Z           should not send an email notification to the partner
2024-03-11T06:26:58.8682206Z 
2024-03-11T06:26:58.8682930Z InventoryAggregate
2024-03-11T06:26:58.8683802Z   multiple events
2024-03-11T06:26:59.2881675Z     should process multiple events
2024-03-11T06:26:59.5570473Z     should handle changing storage location
2024-03-11T06:26:59.8807151Z     should handle intervening audits
2024-03-11T06:27:00.1557655Z     should handle timing correctly
2024-03-11T06:27:00.5835917Z     should ignore unusable snapshots
2024-03-11T06:27:00.5836836Z   validation
2024-03-11T06:27:00.5837373Z     subsequent event is incorrect
2024-03-11T06:27:00.9110083Z       should add the event to the message
2024-03-11T06:27:01.1621375Z       should handle negative quantities
2024-03-11T06:27:01.1622180Z     current event is incorrect
2024-03-11T06:27:01.3966328Z       should raise a bare error
2024-03-11T06:27:01.3967204Z   individual events
2024-03-11T06:27:01.7031138Z     should process an adjustment event
2024-03-11T06:27:01.9833417Z     should process a donation event
2024-03-11T06:27:02.2722873Z     should process a snapshot event
2024-03-11T06:27:02.6035378Z     should process a distribution destroyed event
2024-03-11T06:27:02.9011501Z     should process a purchase event
2024-03-11T06:27:03.2031729Z     should process a donation event after a new storage location is created
2024-03-11T06:27:03.5042615Z     should process a kit allocation event
2024-03-11T06:27:03.8136967Z     should process a distribution event
2024-03-11T06:27:04.1208315Z     should process an audit event
2024-03-11T06:27:04.4172298Z     should process a transfer event
2024-03-11T06:27:04.7283294Z     should process a donation destroyed event
2024-03-11T06:27:05.0465403Z     should process a transfer destroy event
2024-03-11T06:27:05.4331946Z     should process a kit deallocation event
2024-03-11T06:27:05.7423989Z     should process a purchase destroyed event
2024-03-11T06:27:05.7424940Z 
2024-03-11T06:27:05.7425203Z DonationItemizedBreakdownService
2024-03-11T06:27:05.7425888Z   #fetch
2024-03-11T06:27:06.1443499Z     return the list of items donated with distributed
2024-03-11T06:27:06.1444100Z 
2024-03-11T06:27:06.1444388Z AccountRequest
2024-03-11T06:27:06.1580592Z   #reject!
2024-03-11T06:27:06.1705285Z   #confirm!
2024-03-11T06:27:06.1705948Z   validations
2024-03-11T06:27:06.1831830Z     is expected to allow :email to be ‹"constance@stoltenberg-donnelly.test"›
2024-03-11T06:27:06.1935263Z     is expected not to allow :email to be ‹"not_email"›
2024-03-11T06:27:06.2066094Z     is expected to validate that :email is case-sensitively unique
2024-03-11T06:27:06.2201471Z     is expected to validate that :name cannot be empty/falsy
2024-03-11T06:27:06.2314123Z     is expected to validate that :request_details cannot be empty/falsy
2024-03-11T06:27:06.2445061Z     is expected to validate that the length of :request_details is at least 50
2024-03-11T06:27:06.2593027Z     is expected to validate that :email cannot be empty/falsy
2024-03-11T06:27:06.2594125Z     when the email provided is already used by an existing organization
2024-03-11T06:27:06.4532141Z       should not allow the email
2024-03-11T06:27:06.4532926Z     when the email provided is already used by an existing user
2024-03-11T06:27:06.4753267Z       should not allow the email
2024-03-11T06:27:06.4754024Z   .get_by_identity_token
2024-03-11T06:27:06.4754859Z     when the identity_token corresponds to an existing AccountRequest
2024-03-11T06:27:06.4852728Z       should return the corresponding AccountRequest
2024-03-11T06:27:06.4853947Z     when the identity_token provided does not match any AccountRequest
2024-03-11T06:27:06.4890498Z       should return nil
2024-03-11T06:27:06.4891245Z   #processed?
2024-03-11T06:27:06.4892146Z     when the account request has no associated organization
2024-03-11T06:27:06.4983093Z       should return false
2024-03-11T06:27:06.4984045Z     when the account request has a associated organization
2024-03-11T06:27:06.6836920Z       should return true
2024-03-11T06:27:06.6837639Z   versioning
2024-03-11T06:27:06.6878707Z     is expected to be versioned
2024-03-11T06:27:06.6879476Z   associations
2024-03-11T06:27:06.6937870Z     is expected to belong to ndbn_member class_name => NDBNMember optional: true
2024-03-11T06:27:06.6974664Z     is expected to have one organization class_name => Organization
2024-03-11T06:27:06.6975587Z   #identity_token
2024-03-11T06:27:06.7068015Z     should return a JWT token that contains the id of the account_request_id
2024-03-11T06:27:06.7069583Z     when the account_request is not persisted
2024-03-11T06:27:06.7158554Z       should raise an error
2024-03-11T06:27:06.7159225Z 
2024-03-11T06:27:06.7159672Z ItemsInQuery
2024-03-11T06:27:06.7160651Z   items_in
2024-03-11T06:27:07.0737706Z     does not count transfers going in the negative direction
2024-03-11T06:27:07.3511385Z     includes donations, purchases, adjustments, transfers among sources
2024-03-11T06:27:07.6733655Z     does not count negative adjustments towards in-flow
2024-03-11T06:27:07.9486135Z     returns a collection with the fields name, item_id, quantity
2024-03-11T06:27:07.9487093Z 
2024-03-11T06:27:07.9487427Z Partners::UpdateFamily
2024-03-11T06:27:07.9487981Z   #call
2024-03-11T06:27:07.9488542Z     when family has children
2024-03-11T06:27:07.9905420Z       archives the family and its children
2024-03-11T06:27:07.9906354Z     when an error occurs during archiving
2024-03-11T06:27:08.0284473Z       does not archive the family or its children and adds error to the service
2024-03-11T06:27:08.0285374Z 
2024-03-11T06:27:08.0285662Z Reports::AdultIncontinenceReportService
2024-03-11T06:27:08.0286208Z   #report
2024-03-11T06:27:08.2113853Z     should report zero values
2024-03-11T06:27:08.2114614Z     with values
2024-03-11T06:27:08.8070203Z       should handle null distribution quantity
2024-03-11T06:27:09.4292432Z       should report normal values
2024-03-11T06:27:09.4294803Z 
2024-03-11T06:27:09.4295034Z Donation
2024-03-11T06:27:09.4296796Z   Callbacks >
2024-03-11T06:27:09.4456187Z     automatically combines duplicate line_item records when they're created
2024-03-11T06:27:09.4588039Z     inititalizes the issued_at field to default to midnight if it wasn't explicitly set
2024-03-11T06:27:09.4589156Z   Validations >
2024-03-11T06:27:09.4711936Z     requires a donation_site if the source is 'Donation Site'
2024-03-11T06:27:09.4778324Z     requires a source from the list of available sources
2024-03-11T06:27:09.4930463Z     is invalid when the line items are invalid
2024-03-11T06:27:09.5169326Z     requires a manufacturer if the source is 'Manufacturer'
2024-03-11T06:27:09.5220779Z     ensures that the issued at is no earlier than 2000
2024-03-11T06:27:09.5265335Z     requires an inventory (storage location)
2024-03-11T06:27:09.5310591Z     must belong to an organization
2024-03-11T06:27:09.5433754Z     requires a product drive participant if the source is 'Product Drive'
2024-03-11T06:27:09.5434718Z   Scopes >
2024-03-11T06:27:09.5435537Z     during >
2024-03-11T06:27:09.5631204Z       returns all donations created between two dates
2024-03-11T06:27:09.5631981Z     by_source >
2024-03-11T06:27:09.5632687Z       when source is a symbol
2024-03-11T06:27:09.5633332Z         when source is invalid
2024-03-11T06:27:09.5824812Z           does not throw errors, returns no results
2024-03-11T06:27:09.5825769Z         when source is valid
2024-03-11T06:27:09.6002937Z           allows a symbol as an argument, referencing the SOURCES hash
2024-03-11T06:27:09.6003892Z       when source is not a symbol
2024-03-11T06:27:09.6005023Z         when source is invalid
2024-03-11T06:27:09.6182889Z           does not throw errors, returns no results
2024-03-11T06:27:09.6183828Z         when source comes from the SOURCES hash
2024-03-11T06:27:09.6351215Z           returns all donations with the provided source
2024-03-11T06:27:09.6354308Z   Associations >
2024-03-11T06:27:09.6355069Z     items >
2024-03-11T06:27:09.6511128Z       has_many
2024-03-11T06:27:09.6511737Z   SOURCES
2024-03-11T06:27:09.6548851Z     is a hash that is referenceable by key to avoid 'magic strings'
2024-03-11T06:27:09.6580906Z     the hash is immutable
2024-03-11T06:27:09.6615492Z     the hash values are immutable
2024-03-11T06:27:09.6616312Z   Methods >
2024-03-11T06:27:09.6616800Z     source_view
2024-03-11T06:27:09.6617828Z       from a drive
2024-03-11T06:27:09.6618712Z         participant known
2024-03-11T06:27:09.6619765Z           contact name present
2024-03-11T06:27:09.6743332Z             returns participant display name
2024-03-11T06:27:09.6744094Z           no contact name
2024-03-11T06:27:09.6868654Z             returns drive display name
2024-03-11T06:27:09.6869605Z         unknown participant
2024-03-11T06:27:09.6970981Z           returns drive display name
2024-03-11T06:27:09.6971754Z       not from a drive
2024-03-11T06:27:09.7078152Z         returns source
2024-03-11T06:27:09.7079753Z       details
2024-03-11T06:27:09.7080546Z         manufacturer
2024-03-11T06:27:09.7182760Z           returns manufacturer name
2024-03-11T06:27:09.7183531Z         donation site
2024-03-11T06:27:09.7336777Z           returns donation_site name
2024-03-11T06:27:09.7337583Z         misc
2024-03-11T06:27:09.7421633Z           returns a truncated comment
2024-03-11T06:27:09.7422593Z         product drive
2024-03-11T06:27:09.7522043Z           returns product_drive name
2024-03-11T06:27:09.7522987Z     remove
2024-03-11T06:27:09.8105425Z       works with either an id or an object
2024-03-11T06:27:09.8739564Z       fails gracefully if the item doesn't exist
2024-03-11T06:27:09.9342258Z       removes the item from the donation
2024-03-11T06:27:09.9343074Z     money_raised
2024-03-11T06:27:09.9916611Z       tracks the money raised in a donation
2024-03-11T06:27:09.9917509Z   behaves like itemizable
2024-03-11T06:27:09.9918135Z     .to_a
2024-03-11T06:27:09.9918908Z       with Flipper flag :deprecate_to_a disabled
2024-03-11T06:27:10.0245385Z         calls line_item_values
2024-03-11T06:27:10.0245965Z       with Flipper flag :deprecate_to_a enabled
2024-03-11T06:27:10.0573555Z         raises an error
2024-03-11T06:27:10.0574083Z     .line_items
2024-03-11T06:27:10.0575344Z       quantities_by_name
2024-03-11T06:27:10.0991232Z         returns a hash of items with id, name, and quantity
2024-03-11T06:27:10.1351293Z         leaves out zero-quantitied items if requested
2024-03-11T06:27:10.1352112Z       combine!
2024-03-11T06:27:10.1828036Z         incrementally combines line_items on donations that have already been created
2024-03-11T06:27:10.2229594Z         combines multiple line_items with the same item_id into a single record
2024-03-11T06:27:10.2230547Z       total
2024-03-11T06:27:10.2565608Z         has an item total
2024-03-11T06:27:10.2566063Z       sorted
2024-03-11T06:27:10.3072981Z         displays the items, sorted by name
2024-03-11T06:27:10.3073602Z   versioning
2024-03-11T06:27:10.3112067Z     is expected to be versioned
2024-03-11T06:27:10.3112704Z 
2024-03-11T06:27:10.3112938Z PartnerGroup
2024-03-11T06:27:10.3114285Z   DB constraints
2024-03-11T06:27:10.3115689Z     deadline_day <= 28
2024-03-11T06:27:10.3245947Z       raises error if unmet
2024-03-11T06:27:10.3246654Z     reminder_day <= 28
2024-03-11T06:27:10.3313773Z       raises error if unmet
2024-03-11T06:27:10.3314504Z     send_reminders IS NOT NULL
2024-03-11T06:27:10.3381852Z       raises error if unmet
2024-03-11T06:27:10.3382754Z   versioning
2024-03-11T06:27:10.3417990Z     is expected to be versioned
2024-03-11T06:27:10.3418738Z   associations
2024-03-11T06:27:10.3456763Z     is expected to have many partners
2024-03-11T06:27:10.3514202Z     is expected to have and belong to many item_categories
2024-03-11T06:27:10.3564450Z     is expected to belong to organization required: true
2024-03-11T06:27:10.3565483Z   Validations >
2024-03-11T06:27:10.3655975Z     requires a unique name within an organization
2024-03-11T06:27:10.3901633Z     does not require a unique name between organizations
2024-03-11T06:27:10.3947273Z     must belong to an organization
2024-03-11T06:27:10.3948271Z     deadline_day && reminder_day must be defined if send_reminders=true
2024-03-11T06:27:10.3999792Z       should not be valid
2024-03-11T06:27:10.4000636Z 
2024-03-11T06:27:10.4000914Z ItemCreateService
2024-03-11T06:27:10.4001642Z   #call
2024-03-11T06:27:10.4002487Z     when there are no issues
2024-03-11T06:27:10.5848148Z       should return an OpenStruct with success? set to true and the item
2024-03-11T06:27:10.7749944Z       should execute the expected methods
2024-03-11T06:27:10.7751046Z     when an issue occurs in transaction
2024-03-11T06:27:10.7752010Z       because a inventory item creation failed and raised an error
2024-03-11T06:27:10.9511604Z         should return a OpenStruct with the raised error
2024-03-11T06:27:10.9512622Z       because the item create raised an error
2024-03-11T06:27:11.1274244Z         should return a OpenStruct with the raised error
2024-03-11T06:27:11.1274982Z       because the organization_id does not match any Organization
2024-03-11T06:27:11.2972426Z         should return a OpenStruct with an ActiveRecord::RecordNotFound error
2024-03-11T06:27:11.2973334Z 
2024-03-11T06:27:11.2973567Z Audit
2024-03-11T06:27:11.2974530Z   versioning
2024-03-11T06:27:11.3012645Z     is expected to be versioned
2024-03-11T06:27:11.3013346Z   Validations >
2024-03-11T06:27:11.3581236Z     can have line items that has quantity as zero
2024-03-11T06:27:11.3946545Z     must belong to an organization
2024-03-11T06:27:11.4530038Z     can not have line items that has quantity as a string that cannot be reduced to an integer
2024-03-11T06:27:11.5110515Z     can have line items that has quantity as a positive integer
2024-03-11T06:27:11.5669228Z     can not have line items that has quantity as negative integer
2024-03-11T06:27:11.6221917Z     cannot have duplicate line items
2024-03-11T06:27:11.6330481Z     must belong to an organization admin of its organization
2024-03-11T06:27:11.6331397Z   Methods >
2024-03-11T06:27:11.9668639Z     `self.finalized_since?` returns true iff some finalized audit occurred after itemizable created_at that shares item for location(s)
2024-03-11T06:27:12.2025346Z     `self.storage_locations_audited_for` returns only storage_locations that are used for one org
2024-03-11T06:27:12.2026915Z   behaves like itemizable
2024-03-11T06:27:12.2027562Z     .line_items
2024-03-11T06:27:12.2028057Z       quantities_by_name
2024-03-11T06:27:12.2818236Z         returns a hash of items with id, name, and quantity
2024-03-11T06:27:12.3629390Z         leaves out zero-quantitied items if requested
2024-03-11T06:27:12.4678958Z       combine!
2024-03-11T06:27:12.4679669Z         combines multiple line_items with the same item_id into a single record
2024-03-11T06:27:12.5496868Z         incrementally combines line_items on donations that have already been created
2024-03-11T06:27:12.5500258Z       sorted
2024-03-11T06:27:12.7296741Z         displays the items, sorted by name
2024-03-11T06:27:12.7297517Z       total
2024-03-11T06:27:12.8167173Z         has an item total
2024-03-11T06:27:12.8167927Z     .to_a
2024-03-11T06:27:12.8168718Z       with Flipper flag :deprecate_to_a enabled
2024-03-11T06:27:12.8667520Z         raises an error
2024-03-11T06:27:12.8668300Z       with Flipper flag :deprecate_to_a disabled
2024-03-11T06:27:12.9171615Z         calls line_item_values
2024-03-11T06:27:12.9172290Z   Scopes >
2024-03-11T06:27:12.9621679Z     `at_location` can filter out audits to a specific location
2024-03-11T06:27:12.9622339Z 
2024-03-11T06:27:12.9622601Z DistributionCreateService
2024-03-11T06:27:12.9623537Z   call
2024-03-11T06:27:13.0373814Z     replaces a big distribution with a smaller one, resulting in increased stored quantities
2024-03-11T06:27:13.1083686Z     returns a successful object with Scheduled distribution
2024-03-11T06:27:13.1085199Z     when there's multiple line items and one has insufficient inventory
2024-03-11T06:27:13.1743585Z       preserves the Insufficiency error and is unsuccessful
2024-03-11T06:27:13.1744517Z     partner is deactivated
2024-03-11T06:27:13.2512355Z       does not send an email
2024-03-11T06:27:13.2513494Z     partner has send reminders setting set to true
2024-03-11T06:27:13.4349264Z       Sends a PartnerMailer
2024-03-11T06:27:13.4350025Z     partner has send reminders setting set to false
2024-03-11T06:27:13.5063789Z       does not send a PartnerMailer
2024-03-11T06:27:13.5064940Z     when there's not sufficient inventory
2024-03-11T06:27:13.5661979Z       preserves the Insufficiency error and is unsuccessful
2024-03-11T06:27:13.5663322Z     when the line item quantity is not positive
2024-03-11T06:27:13.6143784Z       preserves the RecordInvalid error and is unsuccessful
2024-03-11T06:27:13.6144625Z     when it fails to save
2024-03-11T06:27:13.6630427Z       preserves the error and is unsuccessful
2024-03-11T06:27:13.6631491Z     when provided with a request ID
2024-03-11T06:27:13.7496540Z       changes the status of the request
2024-03-11T06:27:13.7497601Z       and the request already has a distribution associated with it
2024-03-11T06:27:13.8247292Z         should not be successful
2024-03-11T06:27:13.8247852Z 
2024-03-11T06:27:13.8248167Z RemoveRoleService
2024-03-11T06:27:13.8249091Z   #call
2024-03-11T06:27:13.8250071Z     when the role does not exist
2024-03-11T06:27:14.0182652Z       should raise an error
2024-03-11T06:27:14.0183619Z     when not enough information provided
2024-03-11T06:27:14.2067063Z       should raise an error
2024-03-11T06:27:14.2067858Z     when the role exists
2024-03-11T06:27:14.4031304Z       should remove the role
2024-03-11T06:27:14.5990735Z       should remove the admin role when removing user role
2024-03-11T06:27:14.7919506Z       should work with a type and ID instead of role ID
2024-03-11T06:27:14.7920211Z 
2024-03-11T06:27:14.7920435Z HistoricalTrendService
2024-03-11T06:27:14.7921729Z   #series
2024-03-11T06:27:15.0670378Z     returns an array of items with their monthly data
2024-03-11T06:27:15.0671126Z 
2024-03-11T06:27:15.0671349Z TransferDestroyService
2024-03-11T06:27:15.0672130Z   #call
2024-03-11T06:27:15.0673016Z     when an issue occurs in transaction
2024-03-11T06:27:15.0674243Z       because the transfer_id does not match any Transfer
2024-03-11T06:27:15.2522499Z         should return a OpenStruct with an ActiveRecord::RecordNotFound error
2024-03-11T06:27:15.2523459Z       because the transfer destroy raised an error
2024-03-11T06:27:15.4459385Z         should return a OpenStruct with the raised error
2024-03-11T06:27:15.4460651Z       because undoing the transfer inventory changes by increasing the inventory of `from` failed
2024-03-11T06:27:15.6291908Z         should return a OpenStruct with the raised error
2024-03-11T06:27:15.6293140Z       because undoing the transfer inventory changes by decreasing the inventory of `to` failed
2024-03-11T06:27:15.8138726Z         should return a OpenStruct with the raised error
2024-03-11T06:27:15.8139962Z     when there are no issues
2024-03-11T06:27:16.0067200Z       should execute the expected methods
2024-03-11T06:27:16.1973062Z       should return an OpenStruct with success? set to true
2024-03-11T06:27:16.1974033Z     because transfer should not be deleted
2024-03-11T06:27:16.3803898Z       should return an OpenStruct with the raised error
2024-03-11T06:27:16.3805050Z 
2024-03-11T06:27:16.3805329Z Transfer
2024-03-11T06:27:16.3806790Z   versioning
2024-03-11T06:27:16.3845581Z     is expected to be versioned
2024-03-11T06:27:16.3846163Z   Methods >
2024-03-11T06:27:16.5888050Z     `self.storage_locations_transferred_to` and `..._from` constrains appropriately
2024-03-11T06:27:16.5889306Z   Scopes >
2024-03-11T06:27:16.6110374Z     `from_location` can filter out transfers from a specific location
2024-03-11T06:27:16.6337063Z     `to_location` can filter out transfers to a specific location
2024-03-11T06:27:16.6337939Z   Validations >
2024-03-11T06:27:16.6413900Z     must belong to an organization
2024-03-11T06:27:16.6530545Z     must have storage locations set
2024-03-11T06:27:16.6643311Z     must have different storage locations
2024-03-11T06:27:16.6892648Z     requires that each line item exists in the inventory
2024-03-11T06:27:16.8764056Z     must only use storage locations that belong to the organization (no hacks!)
2024-03-11T06:27:16.9396329Z     requires that the line items must have sufficient quantity in the inventory
2024-03-11T06:27:16.9397654Z   behaves like itemizable
2024-03-11T06:27:16.9398197Z     .to_a
2024-03-11T06:27:16.9398780Z       with Flipper flag :deprecate_to_a enabled
2024-03-11T06:27:16.9745794Z         raises an error
2024-03-11T06:27:16.9746546Z       with Flipper flag :deprecate_to_a disabled
2024-03-11T06:27:17.0094055Z         calls line_item_values
2024-03-11T06:27:17.0094952Z     .line_items
2024-03-11T06:27:17.0095638Z       quantities_by_name
2024-03-11T06:27:17.0607842Z         leaves out zero-quantitied items if requested
2024-03-11T06:27:17.1113115Z         returns a hash of items with id, name, and quantity
2024-03-11T06:27:17.1114030Z       sorted
2024-03-11T06:27:17.1809802Z         displays the items, sorted by name
2024-03-11T06:27:17.1810373Z       combine!
2024-03-11T06:27:17.2302428Z         combines multiple line_items with the same item_id into a single record
2024-03-11T06:27:17.2608356Z         incrementally combines line_items on donations that have already been created
2024-03-11T06:27:17.3119003Z       total
2024-03-11T06:27:17.3119412Z         has an item total
2024-03-11T06:27:17.3120097Z 
2024-03-11T06:27:17.3120286Z User
2024-03-11T06:27:17.3121513Z   #send_reset_password_instructions
2024-03-11T06:27:17.3122447Z     user gets an email with instructions
2024-03-11T06:27:17.4072626Z       sends an email with instructions
2024-03-11T06:27:17.4073779Z   #role_added
2024-03-11T06:27:17.4430555Z     renders the body correctly
2024-03-11T06:27:17.4431234Z 
2024-03-11T06:27:17.4431549Z Reports::WarehouseReportService
2024-03-11T06:27:17.4432585Z   #report
2024-03-11T06:27:17.7948294Z     should print normal values
2024-03-11T06:27:18.1433501Z     should print unknown warehouse type
2024-03-11T06:27:18.3241404Z     should print unknown square footage
2024-03-11T06:27:18.4987953Z     should print zero values
2024-03-11T06:27:18.4988502Z 
2024-03-11T06:27:18.4988731Z AdjustmentCreateService
2024-03-11T06:27:18.4989336Z   call
2024-03-11T06:27:18.5913845Z     handles mixed adjustments to same item appropriately (total is positive version)
2024-03-11T06:27:18.6493401Z     gives an error if we attempt to adjust inventory below 0
2024-03-11T06:27:18.7646262Z     increases handles mixed adjustments to same appropriately (total is negative version)
2024-03-11T06:27:18.8347562Z     increases stored inventory on a positive adjustment
2024-03-11T06:27:18.9152191Z     saves a new adjustment with line items relating to the current (simple case) positive adjustment
2024-03-11T06:27:18.9827909Z     does not allow inventory to be adjusted below 0
2024-03-11T06:27:19.0756964Z     handles adjustments to multiple items
2024-03-11T06:27:19.1672863Z     decreases stored inventory on a negative adjustment
2024-03-11T06:27:19.2472799Z     saves a new adjustment with line items relating to the current (simple case) negative adjustment
2024-03-11T06:27:19.2476664Z 
2024-03-11T06:27:19.2477027Z PartnerFetchRequestableItemsService
2024-03-11T06:27:19.2477744Z   #call
2024-03-11T06:27:19.2604886Z     raises an error indiciating the partner does not exist with invalid id
2024-03-11T06:27:19.2605862Z     when the partner is not in any partner group
2024-03-11T06:27:19.2879189Z       is expected to be nil
2024-03-11T06:27:19.2880286Z       when the organization has no items
2024-03-11T06:27:19.3181516Z         should return no items
2024-03-11T06:27:19.3182116Z       when the organization has items
2024-03-11T06:27:19.3505277Z         is expected to eq [#<Item id: 3518, name: "Item 1", category: nil, created_at: "2024-03-10 23:27:19.335919572 -0700", u... on_hand_recommended_quantity: nil, visible_to_partners: false, kit_id: nil, item_category_id: nil>]
2024-03-11T06:27:19.4058460Z         should return only active and visible items
2024-03-11T06:27:19.4059153Z     org with any amount of items
2024-03-11T06:27:19.4060711Z       when the partner is in a partner group and has items
2024-03-11T06:27:19.6557630Z         should return only active and visible items from partner
2024-03-11T06:27:19.6558586Z       when the partner is in a partner group and has no items
2024-03-11T06:27:19.8631521Z         should return only active and visible items from partner
2024-03-11T06:27:19.8633259Z 
2024-03-11T06:27:19.8633526Z Organization
2024-03-11T06:27:19.8636259Z   #short_name
2024-03-11T06:27:19.8713567Z     can only contain valid characters
2024-03-11T06:27:19.8714159Z   earliest reporting year
2024-03-11T06:27:20.1073927Z     is the year of the earliest of donation, purchase, or distribution if they are earlier
2024-03-11T06:27:20.2861497Z     is the organization created year if no associated data
2024-03-11T06:27:20.2862125Z   #assign_attributes_from_account_request
2024-03-11T06:27:20.2962637Z     should assign the proper attributes to the organization
2024-03-11T06:27:20.2963376Z   Associations >
2024-03-11T06:27:20.3005588Z     is expected to have many users through roles
2024-03-11T06:27:20.3040923Z     is expected to have many item_categories
2024-03-11T06:27:20.3088265Z     is expected to belong to ndbn_member class_name => NDBNMember optional: true
2024-03-11T06:27:20.3089096Z     users
2024-03-11T06:27:20.3089627Z       when a organizaton has a user that has two roles
2024-03-11T06:27:20.5026453Z         should returns users without duplications
2024-03-11T06:27:20.5027215Z     distributions
2024-03-11T06:27:20.5027633Z       upcoming
2024-03-11T06:27:20.5785465Z         retrieves the distributions scheduled for this week that have not yet happened
2024-03-11T06:27:20.5786412Z     barcode_items
2024-03-11T06:27:20.7817986Z       returns only this organization's barcodes, no globals
2024-03-11T06:27:20.7818732Z       .all
2024-03-11T06:27:20.9734823Z         includes global barcode items also
2024-03-11T06:27:20.9735492Z     items
2024-03-11T06:27:20.9736212Z       .during.top
2024-03-11T06:27:22.9482503Z         return 3 most used items
2024-03-11T06:27:24.9282176Z         return just 3 elements
2024-03-11T06:27:24.9282688Z       .during.bottom
2024-03-11T06:27:26.8899697Z         return just 3 elements
2024-03-11T06:27:29.0194566Z         return 3 least used items
2024-03-11T06:27:29.0195424Z       .other
2024-03-11T06:27:31.0040954Z         returns all items for this organization designated 'other'
2024-03-11T06:27:31.0041768Z       .during
2024-03-11T06:27:32.9612502Z         return ranking of all items
2024-03-11T06:27:32.9613174Z   after_create
2024-03-11T06:27:32.9827868Z     should update the state of the account request
2024-03-11T06:27:32.9828558Z   valid_items
2024-03-11T06:27:33.1603148Z     returns an array of item partner keys
2024-03-11T06:27:33.3360169Z     only shows active valid items
2024-03-11T06:27:33.3360972Z     with invisible items
2024-03-11T06:27:33.3658630Z       only shows active and visible items
2024-03-11T06:27:33.3659272Z   .seed_items
2024-03-11T06:27:33.3660131Z     when no organization is provided
2024-03-11T06:27:34.0063641Z       updates all organizations
2024-03-11T06:27:34.0064370Z     when provided with an organization to seed
2024-03-11T06:27:34.3291255Z       loads the base items into Item records
2024-03-11T06:27:34.3291949Z   from_email
2024-03-11T06:27:34.5140424Z     returns admin email when it's empty space
2024-03-11T06:27:34.7093338Z     returns admin email when not present
2024-03-11T06:27:34.9027796Z     returns admin email when it's empty
2024-03-11T06:27:35.0789327Z     returns email when present
2024-03-11T06:27:35.0789972Z   is_active
2024-03-11T06:27:35.4570459Z     returns active organizations
2024-03-11T06:27:35.4571092Z   versioning
2024-03-11T06:27:35.4612734Z     is expected to be versioned
2024-03-11T06:27:35.4613271Z   validations
2024-03-11T06:27:35.4689756Z     validates that attachment file size is not higher than 1 MB
2024-03-11T06:27:35.4762733Z     validates that attachments are png or jpgs
2024-03-11T06:27:35.4862622Z     validates that at least one distribution type is enabled
2024-03-11T06:27:35.6689947Z     validates that short names are unique
2024-03-11T06:27:35.6691858Z   address
2024-03-11T06:27:35.6731372Z     returns an empty string when the org has no address components
2024-03-11T06:27:35.6767221Z     does not add any separators before the city when street is missing
2024-03-11T06:27:35.6802779Z     correctly formats an address string with commas and spaces
2024-03-11T06:27:35.6835931Z     does not add a trailing space when the zip code is missing
2024-03-11T06:27:35.6871173Z     does not add any separators after street when city, state, and zip are missing
2024-03-11T06:27:35.6872021Z   reminder_day
2024-03-11T06:27:35.6991773Z     can only contain numbers 1-28
2024-03-11T06:27:35.6992348Z   default storage location
2024-03-11T06:27:35.7037812Z     associates the default storage location with a storage location
2024-03-11T06:27:35.7072695Z     returns nil when not set
2024-03-11T06:27:35.7073179Z   total_inventory
2024-03-11T06:27:35.9456883Z     returns a sum total of all inventory at all storage locations
2024-03-11T06:27:36.1248280Z     returns 0 if there is nothing
2024-03-11T06:27:36.1248740Z   geocode
2024-03-11T06:27:36.2961303Z     adds coordinates to the database
2024-03-11T06:27:36.2961762Z   deadline_day
2024-03-11T06:27:36.3067172Z     can only contain numbers 1-28
2024-03-11T06:27:36.3067752Z   #ordered_requests
2024-03-11T06:27:36.5026076Z     puts active requests before fulfilled requests
2024-03-11T06:27:36.5026905Z     ordering of requests with matching status
2024-03-11T06:27:36.6974153Z       puts the most recently updated request before older requests
2024-03-11T06:27:36.6974980Z   #seed_items
2024-03-11T06:27:36.8766912Z     allows a single base item to be seeded
2024-03-11T06:27:37.0659360Z     allows a collection of items to be seeded
2024-03-11T06:27:37.0660124Z     when given an item that already exists
2024-03-11T06:27:37.2544993Z       gracefully skips the item
2024-03-11T06:27:37.2546048Z     when given an item name that already exists, but with an 'other' partner key
2024-03-11T06:27:37.4497854Z       updates the old item to use the new base item as its base
2024-03-11T06:27:37.4498728Z 
2024-03-11T06:27:37.4498993Z ProductDriveParticipant
2024-03-11T06:27:37.4500527Z   Methods
2024-03-11T06:27:37.4501483Z     volume
2024-03-11T06:27:37.5180519Z       retrieves the amount of product that has been donated by participant
2024-03-11T06:27:37.5181399Z     volume_by_product_drive
2024-03-11T06:27:37.6664878Z       retrieves the amount of product that has been donated through specific product drive
2024-03-11T06:27:37.6665899Z     donation_source_view
2024-03-11T06:27:37.6666421Z       no contact name
2024-03-11T06:27:37.6729401Z         is expected to be nil
2024-03-11T06:27:37.6729929Z       contact name present
2024-03-11T06:27:37.6785208Z         is expected to eq "Contact Name (participant)"
2024-03-11T06:27:37.6785882Z   behaves like provideable
2024-03-11T06:27:37.6788732Z     Validations
2024-03-11T06:27:37.6849323Z       is invalid unless it has either a contact name or a business name
2024-03-11T06:27:37.6884261Z       is invalid without an organization
2024-03-11T06:27:37.6884818Z     import_csv
2024-03-11T06:27:37.8704065Z       imports from a csv file
2024-03-11T06:27:37.8704654Z     geocode
2024-03-11T06:27:37.8767967Z       adds coordinates to the database
2024-03-11T06:27:37.8768595Z   Validations
2024-03-11T06:27:37.8826887Z     is invalid unless it has either a phone number or an email
2024-03-11T06:27:37.8863181Z     is invalid without an organization
2024-03-11T06:27:37.8863755Z   versioning
2024-03-11T06:27:37.8898672Z     is expected to be versioned
2024-03-11T06:27:37.8899256Z 
2024-03-11T06:27:37.8899512Z Reports::PeriodSupplyReportService
2024-03-11T06:27:37.8900622Z   #report
2024-03-11T06:27:38.0776661Z     should report zero values
2024-03-11T06:27:38.0777276Z     with values
2024-03-11T06:27:38.6944206Z       should report normal values
2024-03-11T06:27:38.6944765Z 
2024-03-11T06:27:38.6944944Z KitCreateService
2024-03-11T06:27:38.6945904Z   #call
2024-03-11T06:27:38.8915924Z     should return an the instance
2024-03-11T06:27:38.8916607Z     when the parameters provided are invalid
2024-03-11T06:27:38.8917812Z       because the organization_id does not match any Organization
2024-03-11T06:27:38.8976153Z         should have an error on organization_id saying it does not match any Organization
2024-03-11T06:27:38.8977505Z       because the kit_params is invalid for kit creation
2024-03-11T06:27:39.0778702Z         should have errors saying why the kit_params are invalid
2024-03-11T06:27:39.0779542Z     when the parameters are valid
2024-03-11T06:27:39.2734695Z       should create a new Kit
2024-03-11T06:27:39.4660626Z       should create the new Item associated with the Kit
2024-03-11T06:27:39.6597827Z       should create a new Item
2024-03-11T06:27:39.6598335Z       but an unexpected error gets raised
2024-03-11T06:27:39.8575279Z         should not create the Kit
2024-03-11T06:27:40.0503950Z         should have an error that includes the raised error
2024-03-11T06:27:40.2432657Z         should not create a Item
2024-03-11T06:27:40.2433391Z       but the ItemCreationService is unsuccesful
2024-03-11T06:27:40.4374681Z         should not create a Item
2024-03-11T06:27:40.6308220Z         should not create the Kit
2024-03-11T06:27:40.8164441Z         should have an error that includes the error
2024-03-11T06:27:40.8165365Z 
2024-03-11T06:27:40.8165653Z BaseItem
2024-03-11T06:27:40.8167514Z   versioning
2024-03-11T06:27:40.8205617Z     is expected to be versioned
2024-03-11T06:27:40.8206183Z   Filtering >
2024-03-11T06:27:40.8207003Z     ->without_kit
2024-03-11T06:27:40.8258365Z       should not include the Kit BaseItem
2024-03-11T06:27:40.8259113Z     ->by_partner_key
2024-03-11T06:27:40.8315031Z       shows the Base Items by partner_key
2024-03-11T06:27:40.8315887Z   Associations >
2024-03-11T06:27:40.8449783Z     keeps count of its associated items
2024-03-11T06:27:40.8450310Z   Validations >
2024-03-11T06:27:40.8496754Z     is invalid without a name
2024-03-11T06:27:40.8563799Z     is invalid without a uniqueness key
2024-03-11T06:27:40.8629908Z     is invalid without a unique name
2024-03-11T06:27:40.8672746Z     is invalid without a partner key
2024-03-11T06:27:40.8674206Z 
2024-03-11T06:27:40.8674423Z DonationSitesController
2024-03-11T06:27:40.8675698Z   While signed in
2024-03-11T06:27:40.8677480Z     GET #edit
2024-03-11T06:27:40.8832202Z       returns http success
2024-03-11T06:27:40.8832738Z     DELETE #destroy
2024-03-11T06:27:40.8980332Z       returns http success
2024-03-11T06:27:40.8980860Z     GET #show
2024-03-11T06:27:40.9109108Z       returns http success
2024-03-11T06:27:40.9109708Z     Looking at a different organization
2024-03-11T06:27:41.1077611Z       redirects the user to the sign-in page for CRUD actions
2024-03-11T06:27:41.1078178Z     POST #import_csv
2024-03-11T06:27:41.1078691Z       behaves like csv import
2024-03-11T06:27:41.1079582Z         with a csv file
2024-03-11T06:27:41.1135968Z           invokes .import_csv
2024-03-11T06:27:41.1302477Z           presents a flash notice message
2024-03-11T06:27:41.1436172Z           redirects to :index
2024-03-11T06:27:41.1437049Z         csv file with wrong headers
2024-03-11T06:27:41.1547447Z           redirects to :index
2024-03-11T06:27:41.1653926Z           presents a flash error message
2024-03-11T06:27:41.1654563Z         without a csv file
2024-03-11T06:27:41.1753030Z           redirects to :index
2024-03-11T06:27:41.1851079Z           presents a flash error message
2024-03-11T06:27:41.1851906Z     GET #new
2024-03-11T06:27:41.1969661Z       returns http success
2024-03-11T06:27:41.1970182Z     GET #index
2024-03-11T06:27:41.2087279Z       returns http success
2024-03-11T06:27:41.2087900Z   While not signed in
2024-03-11T06:27:41.2151928Z     redirects the user to the sign-in page for CRUD actions
2024-03-11T06:27:41.2152515Z 
2024-03-11T06:27:41.2152690Z HelpController
2024-03-11T06:27:41.2153288Z   While signed in as a normal user >
2024-03-11T06:27:41.2154153Z     GET #show
2024-03-11T06:27:41.2219708Z       does not display help page when the user logs out
2024-03-11T06:27:41.2356764Z       returns http success
2024-03-11T06:27:41.2357860Z 
2024-03-11T06:27:41.2358027Z Kit
2024-03-11T06:27:41.4420270Z   deactivate and reactivate
2024-03-11T06:27:41.4420889Z   Filtering >
2024-03-11T06:27:42.0051703Z     ->alphabetized retrieves items in alphabetical order
2024-03-11T06:27:42.0088692Z     can filter
2024-03-11T06:27:42.0089229Z     ->by_partner_key
2024-03-11T06:27:42.2416540Z       shows the kits for a particular item
2024-03-11T06:27:42.2417272Z   #can_deactivate?
2024-03-11T06:27:42.2417720Z     with inventory items
2024-03-11T06:27:42.4643584Z       should return false
2024-03-11T06:27:42.4644197Z     without inventory items
2024-03-11T06:27:42.6607988Z       should return true
2024-03-11T06:27:42.6608577Z   Value >
2024-03-11T06:27:42.6780372Z     converts dollars to cents
2024-03-11T06:27:42.6949217Z     converts cents to dollars
2024-03-11T06:27:42.6949798Z     .value_per_itemizable
2024-03-11T06:27:42.7342050Z       calculates values from associated items
2024-03-11T06:27:42.7342751Z   Validations >
2024-03-11T06:27:42.7525416Z     can't have negative value
2024-03-11T06:27:42.9526848Z     requires a unique name
2024-03-11T06:27:42.9704597Z     is valid as built
2024-03-11T06:27:42.9879636Z     requires at least one item
2024-03-11T06:27:43.0054658Z     must belong to an organization
2024-03-11T06:27:43.0225754Z     requires a name
2024-03-11T06:27:43.0226242Z   versioning
2024-03-11T06:27:43.0265986Z     is expected to be versioned
2024-03-11T06:27:43.0266633Z 
2024-03-11T06:27:43.0267116Z Partners::FamilyRequestCreateService
2024-03-11T06:27:43.0268009Z   #call
2024-03-11T06:27:43.0269034Z     when the arguments are correct
2024-03-11T06:27:43.0270058Z       with children
2024-03-11T06:27:43.1425359Z         should create the appropriate organization Request, Partners::ItemRequest and Partners::ChildItemRequests
2024-03-11T06:27:43.1426116Z       without children
2024-03-11T06:27:43.2157376Z         should send the correct request payload to the Partners::RequestCreateService and call it
2024-03-11T06:27:43.2159903Z     when the arguments are incorrect
2024-03-11T06:27:43.2161206Z       because no family_requests_attributes or comments were defined
2024-03-11T06:27:43.2738455Z         should return the Partners::FamilyRequestCreateService object with an error
2024-03-11T06:27:43.2740203Z       because a unrecognized item_id was provided
2024-03-11T06:27:43.3292402Z         should return the Partners::FamilyRequestCreateService object with an error
2024-03-11T06:27:43.3293199Z 
2024-03-11T06:27:43.3293415Z Exports::ExportReportCSVService
2024-03-11T06:27:43.3294255Z   .generate_csv_data
2024-03-11T06:27:43.3387101Z     creates a CSV string
2024-03-11T06:27:43.3453230Z     creates CSV data including headers
2024-03-11T06:27:43.3453766Z 
2024-03-11T06:27:43.3454389Z PartnerMailer
2024-03-11T06:27:43.3455393Z   #recertification_request
2024-03-11T06:27:43.4124412Z     renders the body with text that indicates to recertify and link to where
2024-03-11T06:27:43.4625507Z     should be sent to the partner main email with the correct subject line
2024-03-11T06:27:43.4626390Z   #application_approved
2024-03-11T06:27:43.4914312Z     renders the body with text that indicates the result and a link to their dashboard
2024-03-11T06:27:43.5170430Z     should be sent to the partner main email with the correct subject line
2024-03-11T06:27:43.5171708Z 
2024-03-11T06:27:43.5171891Z DonationCreateService
2024-03-11T06:27:43.5172321Z   #call
2024-03-11T06:27:43.5400769Z     should create the donation
2024-03-11T06:27:43.5401590Z 
2024-03-11T06:27:43.5401908Z ApplicationController
2024-03-11T06:27:43.5403357Z   dashboard_path_from_current_role
2024-03-11T06:27:43.5404137Z     As a user without super admin status
2024-03-11T06:27:43.5620137Z       links to the general dashboard
2024-03-11T06:27:43.5620669Z     As a super admin
2024-03-11T06:27:43.5818567Z       links to the admin dashboard
2024-03-11T06:27:43.5819130Z   current_partner
2024-03-11T06:27:43.5820275Z     As a partner user
2024-03-11T06:27:43.6383409Z       should return the first partner role
2024-03-11T06:27:43.6384069Z       with a changed current role
2024-03-11T06:27:43.6949384Z         should return the first partner role
2024-03-11T06:27:43.6950587Z     As an org user
2024-03-11T06:27:43.7105933Z       should return nil
2024-03-11T06:27:43.7106882Z   current_organization
2024-03-11T06:27:43.7107520Z     As an org user
2024-03-11T06:27:44.0712111Z       should return the first org role
2024-03-11T06:27:44.0712825Z       with a changed current role
2024-03-11T06:27:44.4355709Z         should return the first org role
2024-03-11T06:27:44.4356412Z     As a partner user
2024-03-11T06:27:44.4512669Z       should return nil
2024-03-11T06:27:44.4513593Z 
2024-03-11T06:27:44.4513881Z RequestItem
2024-03-11T06:27:44.4514866Z   Methods >
2024-03-11T06:27:44.4515964Z     #from_json
2024-03-11T06:27:44.7039197Z       has the correct name
2024-03-11T06:27:44.9681558Z       has the correct quantity
2024-03-11T06:27:45.2535179Z       has the correct amount on hand for location
2024-03-11T06:27:45.5080318Z       has the correct amount on hand
2024-03-11T06:27:45.5080950Z 
2024-03-11T06:27:45.5081149Z AccountRequestsController
2024-03-11T06:27:45.5082327Z   routing
2024-03-11T06:27:45.5127126Z     routes to #new
2024-03-11T06:27:45.5163038Z     routes to #create
2024-03-11T06:27:45.5164414Z 
2024-03-11T06:27:45.5164569Z Item
2024-03-11T06:27:45.5165887Z   versioning
2024-03-11T06:27:45.5203470Z     is expected to be versioned
2024-03-11T06:27:45.5203986Z   default_quantity
2024-03-11T06:27:45.5292914Z     should return the value of distribution_quantity if it is set
2024-03-11T06:27:45.5375607Z     should return 0 if on_hand_minimum_quantity is not set
2024-03-11T06:27:45.5457678Z     should return 50 if column is not set
2024-03-11T06:27:45.5542496Z     should return the value of on_hand_minimum_quantity if it is set
2024-03-11T06:27:45.5543269Z   after update
2024-03-11T06:27:45.5543688Z     when item has the kit
2024-03-11T06:27:45.7539866Z       updates kit name
2024-03-11T06:27:45.7540444Z     when item does not have kit
2024-03-11T06:27:45.7672127Z       does not raise any errors
2024-03-11T06:27:45.7672782Z   Methods >
2024-03-11T06:27:45.7674648Z     destroy
2024-03-11T06:27:45.7865000Z       actually destroys an item that doesn't have history
2024-03-11T06:27:45.9931613Z       deactivates the kit if it exists
2024-03-11T06:27:46.0166882Z       only hides an item that has history
2024-03-11T06:27:46.0167537Z     storage_locations_containing
2024-03-11T06:27:46.0604680Z       retrieves all storage locations that contain an item
2024-03-11T06:27:46.0605355Z     has_history?
2024-03-11T06:27:46.1361709Z       identifies items that have been used previously
2024-03-11T06:27:46.1362495Z     barcoded_items >
2024-03-11T06:27:46.1716124Z       returns a collection of items that have barcodes associated with them
2024-03-11T06:27:46.1717007Z     #reactivate!
2024-03-11T06:27:46.1717433Z       given a single item id
2024-03-11T06:27:46.1854588Z         sets the active trait to true for that item
2024-03-11T06:27:46.1855292Z       given an array of item ids
2024-03-11T06:27:46.2078597Z         sets the active trait to true for all of them
2024-03-11T06:27:46.2079244Z     other?
2024-03-11T06:27:46.2204396Z       is true for items that are partner_key 'other'
2024-03-11T06:27:46.2205421Z     barcodes_for
2024-03-11T06:27:46.2414344Z       retrieves all BarcodeItems associated with an item
2024-03-11T06:27:46.2415009Z   Filtering >
2024-03-11T06:27:46.2641529Z     ->by_size returns all items with the same size, per their BaseItem parent
2024-03-11T06:27:46.2918702Z     ->active shows items that are still active
2024-03-11T06:27:46.2954187Z     can filter
2024-03-11T06:27:46.3144865Z     ->alphabetized retrieves items in alphabetical order
2024-03-11T06:27:46.3145480Z     ->disposable
2024-03-11T06:27:46.3442955Z       returns records associated with disposable diapers
2024-03-11T06:27:46.3443524Z     ->by_partner_key
2024-03-11T06:27:46.3599859Z       filters by partner key
2024-03-11T06:27:46.3600370Z     ->cloth_diapers
2024-03-11T06:27:46.3879578Z       returns records associated with disposable diapers
2024-03-11T06:27:46.3880151Z     ->by_base_item
2024-03-11T06:27:46.4043201Z       shows the items for a particular base_item
2024-03-11T06:27:46.6053419Z       can be chained to organization to constrain it to just 1 org's items
2024-03-11T06:27:46.6054367Z   distribution_quantity and package size
2024-03-11T06:27:46.6192197Z     have nil values if an empty string is passed
2024-03-11T06:27:46.6192884Z   Assocations >
2024-03-11T06:27:46.6241141Z     is expected to belong to item_category optional: true
2024-03-11T06:27:46.6241880Z   Validations >
2024-03-11T06:27:46.6361047Z     requires that items quantity are not a negative number
2024-03-11T06:27:46.6416733Z     must belong to an organization
2024-03-11T06:27:46.6467237Z     requires a Base Item base
2024-03-11T06:27:46.6602647Z     requires a unique name
2024-03-11T06:27:46.6603490Z 
2024-03-11T06:27:46.6603766Z InventoryItem
2024-03-11T06:27:46.6641289Z   initializes the quantity to 0 if it was not specified
2024-03-11T06:27:46.6641979Z   Filtering >
2024-03-11T06:27:46.6642690Z     ->by_partner_key
2024-03-11T06:27:46.6775942Z       shows the Base Items by partner_key
2024-03-11T06:27:46.6776559Z   Validations >
2024-03-11T06:27:46.6820391Z     requires an item
2024-03-11T06:27:46.6868673Z     requires an inventory association
2024-03-11T06:27:46.6869231Z     quantity >
2024-03-11T06:27:46.6924873Z       is less than the max integer
2024-03-11T06:27:46.6980512Z       is numerical
2024-03-11T06:27:46.7119651Z       is gte 0
2024-03-11T06:27:46.7174606Z       is required
2024-03-11T06:27:46.7175197Z   versioning
2024-03-11T06:27:46.7210928Z     is expected to be versioned
2024-03-11T06:27:46.7211585Z 
2024-03-11T06:27:46.7211818Z Partners::AuthorizedFamilyMember
2024-03-11T06:27:46.7213172Z   associations
2024-03-11T06:27:46.7256945Z     is expected to belong to family required: true
2024-03-11T06:27:46.7292069Z     is expected to have many child_item_requests dependent => nullify
2024-03-11T06:27:46.7292835Z   versioning
2024-03-11T06:27:46.7327583Z     is expected to be versioned
2024-03-11T06:27:46.7328109Z   #display_name
2024-03-11T06:27:46.7597354Z     should return the family member's first and last name
2024-03-11T06:27:46.7600639Z 
2024-03-11T06:27:46.7600924Z DistributionUpdateService
2024-03-11T06:27:46.7602021Z   resend_notification?
2024-03-11T06:27:46.8511462Z     changes the issue_date, resulting in resend_notification? = true
2024-03-11T06:27:46.9489139Z     changes any distribution content, resulting in resend_notification? = true
2024-03-11T06:27:47.0362499Z     changes the delivery_method, resulting in resend_notification? = true
2024-03-11T06:27:47.0363370Z   call
2024-03-11T06:27:47.1363877Z     replaces a big distribution with a smaller one, resulting in increased stored quantities
2024-03-11T06:27:47.1364743Z 
2024-03-11T06:27:47.1364894Z Purchase
2024-03-11T06:27:47.1366587Z   versioning
2024-03-11T06:27:47.1407737Z     is expected to be versioned
2024-03-11T06:27:47.1408289Z   behaves like itemizable
2024-03-11T06:27:47.1409107Z     .to_a
2024-03-11T06:27:47.1410003Z       with Flipper flag :deprecate_to_a enabled
2024-03-11T06:27:47.1798593Z         raises an error
2024-03-11T06:27:47.1799279Z       with Flipper flag :deprecate_to_a disabled
2024-03-11T06:27:47.2252193Z         calls line_item_values
2024-03-11T06:27:47.2252810Z     .line_items
2024-03-11T06:27:47.2253814Z       sorted
2024-03-11T06:27:47.2886011Z         displays the items, sorted by name
2024-03-11T06:27:47.2886683Z       combine!
2024-03-11T06:27:47.3341284Z         combines multiple line_items with the same item_id into a single record
2024-03-11T06:27:47.3891697Z         incrementally combines line_items on donations that have already been created
2024-03-11T06:27:47.3892731Z       total
2024-03-11T06:27:47.4301798Z         has an item total
2024-03-11T06:27:47.4302383Z       quantities_by_name
2024-03-11T06:27:47.4703461Z         returns a hash of items with id, name, and quantity
2024-03-11T06:27:47.5116089Z         leaves out zero-quantitied items if requested
2024-03-11T06:27:47.5116862Z   Callbacks >
2024-03-11T06:27:47.5295543Z     inititalizes the issued_at field to default to midnight if it wasn't explicitly set
2024-03-11T06:27:47.5492179Z     automatically combines duplicate line_item records when they're created
2024-03-11T06:27:47.5493086Z   Associations >
2024-03-11T06:27:47.5493484Z     items >
2024-03-11T06:27:47.5694609Z       has_many
2024-03-11T06:27:47.5695112Z   Scopes >
2024-03-11T06:27:47.5695598Z     during >
2024-03-11T06:27:47.5958599Z       returns all purchases created between two dates
2024-03-11T06:27:47.5959330Z   Methods >
2024-03-11T06:27:47.5959866Z     storage_view
2024-03-11T06:27:47.6633724Z       returns name of storage location
2024-03-11T06:27:47.6634179Z     remove
2024-03-11T06:27:47.7314285Z       removes the item from the purchase
2024-03-11T06:27:47.8031937Z       fails gracefully if the item doesn't exist
2024-03-11T06:27:47.8032655Z   Validations >
2024-03-11T06:27:47.8123462Z     must belong to an organization
2024-03-11T06:27:47.8216598Z     is not valid if categories do not add up
2024-03-11T06:27:47.8303391Z     ensures that the issued at is no earlier than 2000
2024-03-11T06:27:47.8378716Z     requires an inventory (storage location)
2024-03-11T06:27:47.8466358Z     is not valid if period supplies is non-zero but no other category is
2024-03-11T06:27:47.8654014Z     is invalid when the line items are invalid
2024-03-11T06:27:47.8739687Z     is valid if categories have no values
2024-03-11T06:27:47.8919982Z     is not valid if any category is non-zero but does not add up to the total
2024-03-11T06:27:47.9006583Z     is valid if all categories add up to total
2024-03-11T06:27:47.9007262Z 
2024-03-11T06:27:47.9007983Z Exports::ExportDonationsCSVService
2024-03-11T06:27:47.9008797Z   #generate_csv_data
2024-03-11T06:27:48.0080153Z     should match the expected content for the csv
2024-03-11T06:27:48.0080750Z 
2024-03-11T06:27:48.0080971Z DistributionMailer
2024-03-11T06:27:48.0084224Z   #partner_mailer
2024-03-11T06:27:48.0661770Z     renders the body with organization's email text
2024-03-11T06:27:48.1151096Z     renders the body with distributions text
2024-03-11T06:27:48.1151842Z     with distribution changes
2024-03-11T06:27:48.1708005Z       renders the body with changes that happened in the distribution
2024-03-11T06:27:48.1708881Z     with deliver_method: :delivery
2024-03-11T06:27:48.2222011Z       sends copy of email only to the partner
2024-03-11T06:27:48.2846627Z       renders the body with 'delivered' specified
2024-03-11T06:27:48.2847127Z     with deliver_method: :pick_up
2024-03-11T06:27:48.3406487Z       renders the body with 'picked up' specified
2024-03-11T06:27:48.3407027Z       when parners profile pick_up_email is present
2024-03-11T06:27:48.3942878Z         sends email to the primary contact and partner`s pickup person
2024-03-11T06:27:48.3943724Z         when pickup person happens to be the same as the primary contact
2024-03-11T06:27:48.4493417Z           does not send email twice
2024-03-11T06:27:48.4494144Z   #reminder_email
2024-03-11T06:27:48.4495718Z     with deliver_method: :pick_up
2024-03-11T06:27:48.5052831Z       renders the body with 'pick up' specified
2024-03-11T06:27:48.5053629Z     with deliver_method: :delivery
2024-03-11T06:27:48.5605953Z       renders the body with 'delivery' specified
2024-03-11T06:27:48.5606508Z     HTML format
2024-03-11T06:27:48.6132497Z       renders the body with organization's email text
2024-03-11T06:27:48.6132974Z     Text format
2024-03-11T06:27:48.6640636Z       renders the body with organization's email text
2024-03-11T06:27:48.6641224Z 
2024-03-11T06:27:48.6641321Z Role
2024-03-11T06:27:48.6680952Z   is expected to accepts_nested_attributes_for :users
2024-03-11T06:27:48.6681427Z   Associations
2024-03-11T06:27:48.6720487Z     is expected to belong to resource optional: true
2024-03-11T06:27:48.6778469Z     is expected to have and belong to many users
2024-03-11T06:27:48.6778895Z   versioning
2024-03-11T06:27:48.6811884Z     is expected to be versioned
2024-03-11T06:27:48.6812244Z   Validations
2024-03-11T06:27:48.6862163Z     is expected to validate that :resource_type is either ‹"Organization"› or ‹"Partner"›
2024-03-11T06:27:48.7632540Z W, [2024-03-10T23:27:48.762958 #2406]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-11T06:27:48.7633800Z W, [2024-03-10T23:27:48.763023 #2406]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-11T06:27:48.7635462Z W, [2024-03-10T23:27:48.763039 #2406]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-11T06:27:48.7637037Z W, [2024-03-10T23:27:48.763065 #2406]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-11T06:27:48.7637756Z 
2024-03-11T06:27:48.7638120Z Pending: (Failures listed here are expected and do not affect your suite's status)
2024-03-11T06:27:48.7638550Z 
2024-03-11T06:27:48.7639228Z   1) Partners::RequestApprovalService#call when the partner is not yet waiting for approval and there is a profile error should return an error re agency_type
2024-03-11T06:27:48.7640131Z      # Temporarily skipped with xit
2024-03-11T06:27:48.7640582Z      # ./spec/services/partners/request_approval_service_spec.rb:28
2024-03-11T06:27:48.7738097Z 
2024-03-11T06:27:48.7738297Z Failures:
2024-03-11T06:27:48.7738529Z 
2024-03-11T06:27:48.7738895Z   1) UiHelper input_delete_button should generate a button with correct attributes
2024-03-11T06:27:48.7740026Z      Failure/Error: expect(unsafe_html).to match(/<a.* data-action="click->form-input#removeItem:prevent".*>/)
2024-03-11T06:27:48.7740666Z 
2024-03-11T06:27:48.7742301Z        expected "<a class=\"Class\" data-action=\"click->form-input#removeItem:prevent click->served-area#zeroShareVa...emove-soft=\"true\" data-remove-parent-selector=\"Container\" href=\"javascript:void(0)\">Label</a>" to match /<a.* data-action="click->form-input#removeItem:prevent".*>/
2024-03-11T06:27:48.7743854Z        Diff:
2024-03-11T06:27:48.7744103Z        @@ -1 +1 @@
2024-03-11T06:27:48.7744498Z        -/<a.* data-action="click->form-input#removeItem:prevent".*>/
2024-03-11T06:27:48.7746071Z        +"<a class=\"Class\" data-action=\"click->form-input#removeItem:prevent click->served-area#zeroShareValue click->area-served#calculateClientShareTotal\" data-remove-soft=\"true\" data-remove-parent-selector=\"Container\" href=\"javascript:void(0)\">Label</a>"
2024-03-11T06:27:48.7747513Z      # ./spec/helpers/ui_helper_spec.rb:50:in `block (3 levels) in <top (required)>'
2024-03-11T06:27:48.7758650Z 
2024-03-11T06:27:48.7759011Z Finished in 1 minute 0.94 seconds (files took 8.53 seconds to load)
2024-03-11T06:27:48.7759484Z 611 examples, 1 failure, 1 pending
2024-03-11T06:27:48.7759706Z 
2024-03-11T06:27:48.7759795Z Failed examples:
2024-03-11T06:27:48.7759941Z 
2024-03-11T06:27:48.7760392Z rspec ./spec/helpers/ui_helper_spec.rb:47 # UiHelper input_delete_button should generate a button with correct attributes
2024-03-11T06:27:48.7760962Z 
2024-03-11T06:27:48.7761068Z Randomized with seed 42133
2024-03-11T06:27:48.7761259Z 
2024-03-11T06:27:49.2712809Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-11T06:27:49.2714839Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3838 / 6476 LOC (59.26%) covered.
2024-03-11T06:27:49.3225810Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/models/account_request_spec.rb" "spec/models/audit_spec.rb" "spec/models/base_item_spec.rb" "spec/models/concerns/deadlinable_spec.rb" "spec/models/distribution_spec.rb" "spec/models/donation_spec.rb" "spec/models/inventory_item_spec.rb" "spec/models/item_spec.rb" "spec/models/kit_spec.rb" "spec/models/manufacturer_spec.rb" "spec/models/organization_spec.rb" "spec/models/partner_group_spec.rb" "spec/models/partners/authorized_family_member_spec.rb" "spec/models/partners/child_spec.rb" "spec/models/partners/family_spec.rb" "spec/models/partners/profile_spec.rb" "spec/models/product_drive_participant_spec.rb" "spec/models/purchase_spec.rb" "spec/models/request_item_spec.rb" "spec/models/role_spec.rb" "spec/models/transfer_spec.rb" "spec/models/users_role_spec.rb" "spec/models/view/inventory_spec.rb" "spec/controllers/application_controller_spec.rb" "spec/controllers/donation_sites_controller_spec.rb" "spec/controllers/help_controller_spec.rb" "spec/controllers/transfers_controller_spec.rb" "spec/events/inventory_aggregate_spec.rb" "spec/helpers/historical_trends_helper_spec.rb" "spec/helpers/ui_helper_spec.rb" "spec/jobs/notify_partner_job_spec.rb" "spec/jobs/reminder_deadline_job_spec.rb" "spec/mailers/account_request_mailer_spec.rb" "spec/mailers/distribution_mailer_spec.rb" "spec/mailers/partner_mailer_spec.rb" "spec/mailers/request_mailer_spec.rb" "spec/mailers/user_mailer_spec.rb" "spec/queries/items_in_query_spec.rb" "spec/queries/items_out_query_spec.rb" "spec/routing/account_requests_routing_spec.rb" "spec/services/adjustment_create_service_spec.rb" "spec/services/calendar_service_spec.rb" "spec/services/deallocate_kit_inventory_service_spec.rb" "spec/services/distribution_create_service_spec.rb" "spec/services/distribution_itemized_breakdown_service_spec.rb" "spec/services/distribution_update_service_spec.rb" "spec/services/donation_create_service_spec.rb" "spec/services/donation_itemized_breakdown_service_spec.rb" "spec/services/exports/export_donations_csv_service_spec.rb" "spec/services/exports/export_report_csv_service_spec.rb" "spec/services/historical_trend_service_spec.rb" "spec/services/item_create_service_spec.rb" "spec/services/kit_create_service_spec.rb" "spec/services/partner_approval_service_spec.rb" "spec/services/partner_fetch_requestable_items_service_spec.rb" "spec/services/partner_profile_update_service_spec.rb" "spec/services/partners/family_request_create_service_spec.rb" "spec/services/partners/request_approval_service_spec.rb" "spec/services/partners/update_family_spec.rb" "spec/services/remove_role_service_spec.rb" "spec/services/reports/adult_incontinence_report_service_spec.rb" "spec/services/reports/other_products_report_service_spec.rb" "spec/services/reports/period_supply_report_service_spec.rb" "spec/services/reports/warehouse_report_service_spec.rb" "spec/services/requests_total_items_service_spec.rb" "spec/services/sync_ndbn_members_spec.rb" "spec/services/transfer_destroy_service_spec.rb" failed
2024-03-11T06:27:49.7124083Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-11T06:27:49.7125777Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10780 LOC (0.35%) covered.
2024-03-11T06:27:49.7388258Z ##[error]Process completed with exit code 1.
