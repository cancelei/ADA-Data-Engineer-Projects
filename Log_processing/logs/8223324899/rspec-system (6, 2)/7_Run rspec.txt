2024-03-10T16:29:47.7170432Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-10T16:29:47.7171320Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-10T16:29:47.7222135Z shell: /usr/bin/bash -e {0}
2024-03-10T16:29:47.7222566Z env:
2024-03-10T16:29:47.7222983Z   POSTGRES_HOST: localhost
2024-03-10T16:29:47.7223364Z   DATABASE_HOST: localhost
2024-03-10T16:29:47.7223751Z   PG_USERNAME: postgres
2024-03-10T16:29:47.7224173Z   PG_PASSWORD: password
2024-03-10T16:29:47.7224507Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-10T16:29:47.7224925Z   POSTGRES_PORT: 5432
2024-03-10T16:29:47.7225339Z   PGHOST: localhost
2024-03-10T16:29:47.7225689Z   PGUSER: postgres
2024-03-10T16:29:47.7226073Z   RAILS_ENV: test
2024-03-10T16:29:47.7226643Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: ***
2024-03-10T16:29:47.7227136Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-10T16:29:47.7227593Z   KNAPSACK_PRO_CI_NODE_INDEX: 2
2024-03-10T16:29:47.7227997Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-10T16:29:47.7228624Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-10T16:29:47.7229259Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-10T16:29:47.7229883Z ##[endgroup]
2024-03-10T16:29:53.8006631Z I, [2024-03-10T16:29:53.800263 #2524]  INFO -- : [knapsack_pro] Generating RSpec test examples JSON report for slow test files to prepare it to be split by test examples (by individual test cases). Thanks to that, a single slow test file can be split across parallel CI nodes. Analyzing 1 slow test files.
2024-03-10T16:30:02.6871749Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 2540 / 6693 LOC (37.95%) covered.
2024-03-10T16:30:05.6208064Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/system/partner_system_spec.rb" "spec/system/audit_system_spec.rb" "spec/system/transfer_system_spec.rb" "spec/system/admin/users_system_spec.rb" "spec/requests/admin/users_requests_spec.rb" "spec/system/account_request_system_spec.rb" "spec/system/distributions_by_county_system_spec.rb" "spec/system/dashboard_system_spec.rb[1:2:3:2:1:1]" "spec/requests/events_requests_spec.rb" "spec/requests/partners_requests_spec.rb" "spec/system/dashboard_system_spec.rb[1:2:6:8:1:1]" "spec/system/dashboard_system_spec.rb[1:2:5:9:1:2]" "spec/system/dashboard_system_spec.rb[1:2:5:3:1:3]" "spec/system/dashboard_system_spec.rb[1:2:3:4:1:1]" "spec/system/dashboard_system_spec.rb[1:2:5:9:1:1]" "spec/system/dashboard_system_spec.rb[1:2:5:5:1:1]" "spec/system/dashboard_system_spec.rb[1:2:5:8:1:3]" "spec/system/dashboard_system_spec.rb[1:2:6:7:1:1]" "spec/system/partners/partner_distribution_system_spec.rb" "spec/system/dashboard_system_spec.rb[1:2:3:1]" "spec/requests/audits_requests_spec.rb" "spec/system/dashboard_system_spec.rb[1:2:2:1:1]" "spec/system/partners/helps_system_spec.rb" "spec/requests/adjustments_requests_spec.rb" "spec/requests/distributions_by_county_spec.rb" "spec/requests/requests_requests_spec.rb" "spec/requests/admin/account_requests_requests_spec.rb"
2024-03-10T16:30:14.0220021Z Run options: include {:ids=>{"./spec/system/dashboard_system_spec.rb"=>["1:2:3:2:1:1", "1:2:6:8:1:1", "1:2:5:9:1:2", "1:2:5:3:1:3", "1:2:3:4:1:1", "1:2:5:9:1:1", "1:2:5:5:1:1", "1:2:5:8:1:3", "1:2:6:7:1:1", "1:2:3:1", "1:2:2:1:1"]}}
2024-03-10T16:30:14.0372879Z 
2024-03-10T16:30:14.0373434Z Randomized with seed 16328
2024-03-10T16:30:14.9055442Z 
2024-03-10T16:30:14.9056385Z DistributionsByCounties
2024-03-10T16:30:14.9057544Z   While not signed in
2024-03-10T16:30:14.9286951Z     redirects for authentication
2024-03-10T16:30:14.9288389Z     While signed in as bank
2024-03-10T16:30:15.0996321Z       shows 'Unspecified 100%' if no served_areas
2024-03-10T16:30:15.0997140Z       basic behaviour with served areas
2024-03-10T16:30:15.3134664Z         handles multiple partners with overlapping service areas properly
2024-03-10T16:30:15.3135525Z 
2024-03-10T16:30:15.3135897Z Admin::AccountRequestsController
2024-03-10T16:30:15.3136941Z   while signed in as a super admin
2024-03-10T16:30:15.3138217Z     GET #index
2024-03-10T16:30:15.3573548Z       returns success
2024-03-10T16:30:15.3574309Z     GET #for_rejection
2024-03-10T16:30:15.3575168Z       with a valid token
2024-03-10T16:30:15.4090710Z         should show the request
2024-03-10T16:30:15.4091544Z       with an invalid token
2024-03-10T16:30:15.4368409Z         should show a not found message
2024-03-10T16:30:15.4369362Z     POST #reject
2024-03-10T16:30:15.4704369Z       should redirect back on success
2024-03-10T16:30:15.4705073Z 
2024-03-10T16:30:15.4705413Z Admin Users Management
2024-03-10T16:30:15.4706786Z   While signed in as an Administrative User (super admin)
2024-03-10T16:30:25.8708382Z     deletes an existing user
2024-03-10T16:30:26.9250661Z     filters users by name
2024-03-10T16:30:27.4223237Z     filters users by email
2024-03-10T16:30:28.4857564Z     edits an existing user
2024-03-10T16:30:29.5838534Z     creates an user
2024-03-10T16:30:30.8511987Z     adds a role
2024-03-10T16:30:30.8515410Z 
2024-03-10T16:30:30.8515766Z Dashboard
2024-03-10T16:30:30.8517247Z   With an existing essentials bank
2024-03-10T16:30:30.8518850Z     Manufacturer Donations
2024-03-10T16:30:30.8521879Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-10T16:30:30.8523030Z         filtering to 'This Year'
2024-03-10T16:30:32.7421849Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-03-10T16:30:32.7424214Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 2 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-10T16:30:32.7425974Z         filtering to 'Last Month'
2024-03-10T16:30:34.1900393Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-03-10T16:30:34.1905774Z     Donations
2024-03-10T16:30:35.1835000Z       has a link to create a new donation
2024-03-10T16:30:35.1836978Z       given 1 Donation on 2022-03-09 (only if a valid date), 1 during 2022-03-10..2023-12-21, and 1 on 2023-12-22
2024-03-10T16:30:35.1838165Z         filtering to '' (March 10, 2022 - December 21, 2023)
2024-03-10T16:30:36.5261203Z           shows the correct total and 1 Recent Donation link(s)
2024-03-10T16:30:36.5263086Z       given 1 Donation on 2024-03-08 (only if a valid date), 3 during 2024-03-09..2024-03-09, and 1 on 2024-03-10
2024-03-10T16:30:36.5264651Z         filtering to 'Yesterday'
2024-03-10T16:30:37.9310950Z           shows the correct total and 3 Recent Donation link(s)
2024-03-10T16:30:37.9314184Z     Product Drives
2024-03-10T16:30:37.9318230Z       given 1 Product Drive Donation on 2022-03-09 (unless 'All Time'), 0 during 2022-03-10..2024-02-07, and 1 on 2024-02-08
2024-03-10T16:30:37.9319806Z         filtering to '' (March 10, 2022 - February 7, 2024)
2024-03-10T16:30:39.2322793Z           shows the correct total money raised
2024-03-10T16:30:40.5284506Z           shows the correct total donations
2024-03-10T16:30:40.5286505Z       given 1 Product Drive Donation on 2024-03-08 (unless 'All Time'), 3 during 2024-03-09..2024-03-09, and 1 on 2024-03-10
2024-03-10T16:30:40.5288061Z         filtering to 'Yesterday'
2024-03-10T16:30:41.9450358Z           shows 3 Recent Donation link(s)
2024-03-10T16:30:41.9452305Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-10T16:30:41.9453915Z         filtering to 'This Year'
2024-03-10T16:30:43.2789540Z           shows 1 Recent Donation link(s)
2024-03-10T16:30:43.2791544Z       given 1 Product Drive Donation on 2024-02-09 (unless 'All Time'), 1 during 2024-02-10..2024-03-10, and 1 on 2024-03-11
2024-03-10T16:30:43.2793518Z         filtering to 'Last 30 Days'
2024-03-10T16:30:44.6028367Z           shows the correct total donations
2024-03-10T16:30:44.6029079Z     Inventory Totals
2024-03-10T16:30:44.6029944Z       Summary
2024-03-10T16:30:45.2889153Z         displays the on-hand totals
2024-03-10T16:30:45.2895752Z 
2024-03-10T16:30:45.2896122Z Distributions by County
2024-03-10T16:30:45.2897430Z   handles time ranges properly
2024-03-10T16:30:46.9857272Z     works for this year
2024-03-10T16:30:48.6638189Z     works for all time
2024-03-10T16:30:48.6642523Z 
2024-03-10T16:30:48.6642746Z Partners
2024-03-10T16:30:48.6645437Z   POST #recertify_partner
2024-03-10T16:30:48.6646908Z     when the request for recertification from the partner was successful
2024-03-10T16:30:48.7015791Z       should return back to the partners page with a success flash
2024-03-10T16:30:48.7016756Z     when the request for recertification from the partner was NOT successful
2024-03-10T16:30:48.7318871Z       should return back to the partners page with a success flash
2024-03-10T16:30:48.7319771Z   POST #invite_and_approve
2024-03-10T16:30:48.7320465Z     when invitation failed
2024-03-10T16:30:48.7622913Z       should redirect to the partners index page with a notice flash message
2024-03-10T16:30:48.7624901Z     when invitation succeeded and approval succeed
2024-03-10T16:30:48.7931624Z       sends invitation email and approve partner in single step
2024-03-10T16:30:48.7932776Z     when approval fails
2024-03-10T16:30:48.8491230Z       should redirect to the partners index page with a notice flash message
2024-03-10T16:30:48.8492590Z   PUT #reactivate
2024-03-10T16:30:48.8493497Z     when trying to reactivate a partner who is not deactivated
2024-03-10T16:30:48.8791112Z       fails to change the partner status to reactivated and redirects with flash error message
2024-03-10T16:30:48.8792603Z     when the partner successfully reactivates
2024-03-10T16:30:48.9124415Z       changes the partner status to approved and redirects with flash
2024-03-10T16:30:48.9125094Z   GET #index
2024-03-10T16:30:48.9125522Z     html
2024-03-10T16:30:48.9731215Z       is expected to be successful
2024-03-10T16:30:48.9732217Z     csv
2024-03-10T16:30:49.0055345Z       is expected to be successful
2024-03-10T16:30:49.0056179Z   GET #edit
2024-03-10T16:30:49.0571819Z     returns http success
2024-03-10T16:30:49.0572626Z   GET #approve_application
2024-03-10T16:30:49.0573298Z     when the approval was successful
2024-03-10T16:30:49.0873327Z       should redirect to the partners index page with a success flash message
2024-03-10T16:30:49.0874240Z     when the approval failed
2024-03-10T16:30:49.1164170Z       should redirect to the partners index page with a failure flash message
2024-03-10T16:30:49.1165396Z   DELETE #destroy
2024-03-10T16:30:49.1614306Z     redirects to #index
2024-03-10T16:30:49.1614897Z   POST #import_csv
2024-03-10T16:30:49.1615802Z     with a csv file
2024-03-10T16:30:49.1959536Z       presents a flash notice message
2024-03-10T16:30:49.2008907Z       invokes .import_csv
2024-03-10T16:30:49.2334615Z       redirects to :index
2024-03-10T16:30:49.2335304Z     without a csv file
2024-03-10T16:30:49.2449275Z       redirects to :index
2024-03-10T16:30:49.2558504Z       presents a flash error message
2024-03-10T16:30:49.2559223Z     csv file with wrong headers
2024-03-10T16:30:49.2677989Z       redirects to :index
2024-03-10T16:30:49.2793084Z       presents a flash error message
2024-03-10T16:30:49.2793936Z   POST #update
2024-03-10T16:30:49.2795003Z     successful save
2024-03-10T16:30:49.3116169Z       redirects to #show
2024-03-10T16:30:49.3434129Z       update partner
2024-03-10T16:30:49.3435081Z     unsuccessful save due to empty params
2024-03-10T16:30:49.4079780Z       renders :edit
2024-03-10T16:30:49.4080662Z   POST #invite
2024-03-10T16:30:49.4390454Z     sends the invite
2024-03-10T16:30:49.4390908Z   POST #invite_partner_user
2024-03-10T16:30:49.4391776Z     when the invite successfully
2024-03-10T16:30:49.4704761Z       send the invite
2024-03-10T16:30:49.4705531Z     when there is an error in invite
2024-03-10T16:30:49.5010300Z       redirect to partner url with error message
2024-03-10T16:30:49.5011418Z   PUT #deactivate
2024-03-10T16:30:49.5012134Z     when the partner successfully deactivates
2024-03-10T16:30:49.5345460Z       changes the partner status to deactivated and redirects with flash
2024-03-10T16:30:49.5346748Z   POST #create
2024-03-10T16:30:49.5347466Z     successful save
2024-03-10T16:30:49.5537294Z       creates a new partner
2024-03-10T16:30:49.5722708Z       redirects to #index
2024-03-10T16:30:49.5723469Z     unsuccessful save due to empty params
2024-03-10T16:30:49.6106530Z       renders :new
2024-03-10T16:30:49.6107214Z   GET #new
2024-03-10T16:30:49.6437148Z     returns http success
2024-03-10T16:30:49.6437970Z   POST #create
2024-03-10T16:30:49.6439350Z     when given valid partner attributes in the params
2024-03-10T16:30:49.6672097Z       should create a new Partner record
2024-03-10T16:30:49.6873462Z       redirect to the partners index page
2024-03-10T16:30:49.7080430Z       should create a new Partners::Profile record
2024-03-10T16:30:49.7081443Z     when given invalid partner attributes in the params
2024-03-10T16:30:49.7469073Z       should not create a new Partner record
2024-03-10T16:30:49.7844865Z       should display the error message
2024-03-10T16:30:49.8246258Z       should not create a new Partners::Profile record
2024-03-10T16:30:49.8247722Z   GET #show
2024-03-10T16:30:49.8248279Z     html
2024-03-10T16:30:49.9405014Z       is expected to be successful
2024-03-10T16:30:49.9406121Z       when the partner is invited
2024-03-10T16:30:50.0232980Z         includes impact metrics
2024-03-10T16:30:50.0233760Z       when the partner is uninvited
2024-03-10T16:30:50.1035309Z         does not include impact metrics
2024-03-10T16:30:50.1803252Z         does not show the delete button
2024-03-10T16:30:50.1804275Z         when the partner has no users
2024-03-10T16:30:50.2665852Z           shows the delete button
2024-03-10T16:30:50.2667038Z     csv
2024-03-10T16:30:50.3226921Z       is expected to be successful
2024-03-10T16:30:50.3227785Z 
2024-03-10T16:30:50.3228011Z Audit management
2024-03-10T16:30:50.3229835Z   while signed in as an organization admin
2024-03-10T16:30:50.3230815Z     when starting a new audit
2024-03-10T16:30:51.0898730Z       does not display quantities in line-item drop down selector
2024-03-10T16:30:51.0901270Z     with an existing audit
2024-03-10T16:30:51.9478557Z       should be able to resume the audit that is in progress
2024-03-10T16:30:52.8238265Z       should be able to confirm the audit from the #edit page
2024-03-10T16:30:53.6242014Z       should be able to delete the audit that is in progress
2024-03-10T16:30:53.6242714Z     with a confirmed audit
2024-03-10T16:30:54.4784729Z       is able to finalize the audit
2024-03-10T16:30:54.9944134Z       should be able to edit the audit that is confirmed
2024-03-10T16:30:55.7881892Z       User can delete the audit that is confirmed
2024-03-10T16:30:55.7882691Z       Finalizing an audit
2024-03-10T16:30:56.6301003Z         should not be able to delete the audit that is finalized
2024-03-10T16:30:57.6887651Z         is immutable
2024-03-10T16:30:58.6238913Z         creates an adjustment with the differential
2024-03-10T16:30:58.6239621Z         with a storage location containing multiple items
2024-03-10T16:30:59.5000562Z           creates an adjustment with the differential of only the audited item
2024-03-10T16:30:59.5001617Z     when viewing the audits index
2024-03-10T16:31:00.6070350Z       should be able to confirm the audit from the #new page
2024-03-10T16:31:01.4169418Z       should be able to filter the #index by storage location
2024-03-10T16:31:02.5408463Z       should be able to save progress of an audit
2024-03-10T16:31:02.5409594Z   while signed in as a normal user
2024-03-10T16:31:03.1094694Z     should not be able to visit the audits #show page
2024-03-10T16:31:03.7023644Z     should not be able to visit the audits #edit page
2024-03-10T16:31:04.2932516Z     should not be able to visit the audits #new page
2024-03-10T16:31:04.8514611Z     should not be able to visit the audits #index page
2024-03-10T16:31:04.8515361Z 
2024-03-10T16:31:04.8515723Z Account request flow
2024-03-10T16:31:04.8517079Z   when in staging
2024-03-10T16:31:05.3670688Z     should prompt prospective users to request an account on the live app (FAILED - 1)
2024-03-10T16:31:05.3672660Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_should-prompt-prospective-users-to-request-an-account-on-the-live-app_2024-03-10-09-31-05.230.html[0m
2024-03-10T16:31:05.3674968Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_should-prompt-prospective-users-to-request-an-account-on-the-live-app_2024-03-10-09-31-05.230.png[0m
2024-03-10T16:31:05.3676333Z   when not in staging
2024-03-10T16:31:07.9316277Z     should allow prospective users to request an account via a form. And that request form data gets used to create an organization
2024-03-10T16:31:07.9317469Z     renders the #new template with the form and errors visible
2024-03-10T16:31:08.8079606Z       shows create bank form info and errors when required fields are missing
2024-03-10T16:31:08.8080927Z     with a partner agency
2024-03-10T16:31:09.4021305Z       reveals text that directs current partner to human essentials sign in page
2024-03-10T16:31:09.4022444Z 
2024-03-10T16:31:09.4022657Z Requests
2024-03-10T16:31:09.4024333Z   When signed
2024-03-10T16:31:09.4025376Z     POST #start
2024-03-10T16:31:09.4026536Z       When the request does not exist
2024-03-10T16:31:09.4339643Z         responds with not found
2024-03-10T16:31:09.4340351Z       When request exists
2024-03-10T16:31:09.4613873Z         changes the request status from pending to started
2024-03-10T16:31:09.4809418Z         redirects to new_distribution_path and flashes a notice
2024-03-10T16:31:09.4810641Z     GET #show
2024-03-10T16:31:09.4811293Z       When the request does not exist
2024-03-10T16:31:09.5068025Z         responds with not found
2024-03-10T16:31:09.5068963Z       When the request exists
2024-03-10T16:31:09.5481908Z         responds with success
2024-03-10T16:31:09.5482688Z     GET #index
2024-03-10T16:31:09.5483463Z       html
2024-03-10T16:31:09.5930032Z         is expected to be successful
2024-03-10T16:31:09.5931047Z       csv
2024-03-10T16:31:09.6168398Z         is expected to be successful
2024-03-10T16:31:09.6169212Z   When not signed
2024-03-10T16:31:09.6256210Z     redirects the user to the sign-in page for CRUD actions
2024-03-10T16:31:09.6256936Z 
2024-03-10T16:31:09.6257179Z Partner Distributions
2024-03-10T16:31:09.6257873Z   Distributions
2024-03-10T16:31:10.1601824Z     displays prior distributions
2024-03-10T16:31:10.7432020Z     displays upcoming distributions
2024-03-10T16:31:10.7434788Z 
2024-03-10T16:31:10.7435110Z Events
2024-03-10T16:31:10.7436298Z   When signed in
2024-03-10T16:31:10.7437186Z     GET #index
2024-03-10T16:31:11.2317029Z       should be successful
2024-03-10T16:31:11.2317990Z       with item filter
2024-03-10T16:31:11.7065083Z         should not include the other item
2024-03-10T16:31:11.7065971Z       with eventable_id
2024-03-10T16:31:12.3204286Z         should only show events from that eventable
2024-03-10T16:31:12.3205211Z       with date filter
2024-03-10T16:31:12.7885757Z         should not include the old donation
2024-03-10T16:31:12.7887375Z       with storage location filter
2024-03-10T16:31:13.2596770Z         should not include the other storage location
2024-03-10T16:31:13.7246484Z       with type filter
2024-03-10T16:31:13.7247642Z         should not include the adjustment
2024-03-10T16:31:13.7248675Z   When not signed in
2024-03-10T16:31:13.7410749Z     redirects the user to the sign-in page for CRUD actions
2024-03-10T16:31:13.7411385Z 
2024-03-10T16:31:13.7411631Z Help
2024-03-10T16:31:13.7412480Z   for partner users
2024-03-10T16:31:14.2862007Z     displays the help page
2024-03-10T16:31:14.2863915Z 
2024-03-10T16:31:14.2864232Z Partner management
2024-03-10T16:31:14.2866461Z   #new
2024-03-10T16:31:15.2331579Z     User can add a new partner
2024-03-10T16:31:15.9949776Z     disallows a user from creating a new partner with empty name
2024-03-10T16:31:16.3715638Z     should not display inactive storage locations in dropdown
2024-03-10T16:31:16.3716673Z   requesting recertification of a partner
2024-03-10T16:31:16.3717772Z     GIVEN a user goes through the process of requesting recertification of partner
2024-03-10T16:31:19.3133574Z       should notify the user that its been successful and change the partner status (FAILED - 2)
2024-03-10T16:31:19.3136282Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_should-notify-the-user-that-its-been-successful-and-change-the-partner-status_2024-03-10-09-31-19.178.html[0m
2024-03-10T16:31:19.3139411Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_should-notify-the-user-that-its-been-successful-and-change-the-partner-status_2024-03-10-09-31-19.178.png[0m
2024-03-10T16:31:19.3141190Z   #index
2024-03-10T16:31:20.4074250Z     allows a user to invite a partner
2024-03-10T16:31:21.0052093Z     shows invite button only for unapproved partners
2024-03-10T16:31:21.6504252Z     displays the partner agency names in alphabetical order
2024-03-10T16:31:21.6505186Z     when filtering
2024-03-10T16:31:22.5121939Z       allows the user to click on one of the statuses at the top to filter the results
2024-03-10T16:31:22.5123169Z     when exporting as CSV
2024-03-10T16:31:22.5123968Z       when filtering
2024-03-10T16:31:23.4579798Z         preserves the filter constraints in the CSV output
2024-03-10T16:31:23.4580850Z   adding a new partner and inviting them
2024-03-10T16:31:23.4582222Z     when adding & inviting a partner successfully
2024-03-10T16:31:24.8554845Z       should have added the partner and invited them
2024-03-10T16:31:24.8555696Z     when adding a partner incorrectly
2024-03-10T16:31:25.8600527Z       should have not added a new partner and indicate the failure
2024-03-10T16:31:25.8601539Z   changing partner group association
2024-03-10T16:31:25.8603502Z     when the partner has no partner group
2024-03-10T16:31:26.3757647Z       it should say they can request every item
2024-03-10T16:31:26.3758758Z     when a partner is assigned to partner group
2024-03-10T16:31:26.3759834Z       that has no requestable item categories
2024-03-10T16:31:27.4281139Z         should properly indicate the requestable items and adjust the partners requestable items
2024-03-10T16:31:27.4282110Z       that has requestable item categories
2024-03-10T16:31:28.5882501Z         should properly indicate the requestable items and adjust the partners requestable items
2024-03-10T16:31:28.5884423Z   #approve_partner
2024-03-10T16:31:28.5885787Z     when viewing a partner's users
2024-03-10T16:31:29.0800265Z       can show users of a partner
2024-03-10T16:31:29.0801187Z     when partner has :awaiting_review status
2024-03-10T16:31:29.9326622Z       is expected to have visible link or button "Approve Partner"
2024-03-10T16:31:29.9327931Z     when partner has :invited status
2024-03-10T16:31:30.7582676Z       is expected to have visible link or button "Approve Partner"
2024-03-10T16:31:30.7583657Z   one step inviting a partner
2024-03-10T16:31:30.7585610Z     when one step partner invite setting is off
2024-03-10T16:31:31.2413930Z       does not show invite and approve button
2024-03-10T16:31:31.2415031Z     when partner is uninvited and one step partner invite setting is on
2024-03-10T16:31:31.9645501Z       shows Invite and Approve button and approves the partner when clicked (FAILED - 3)
2024-03-10T16:31:31.9648674Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_shows-Invite-and-Approve-button-and-approves-the-partner-when-clicked_2024-03-10-09-31-31.813.html[0m
2024-03-10T16:31:31.9652670Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_shows-Invite-and-Approve-button-and-approves-the-partner-when-clicked_2024-03-10-09-31-31.813.png[0m
2024-03-10T16:31:31.9654443Z   #edit
2024-03-10T16:31:32.7688696Z     prevents a user from updating a partner with empty name
2024-03-10T16:31:33.7271900Z     User can uncheck send_reminders
2024-03-10T16:31:34.5855296Z     User can update a partner
2024-03-10T16:31:34.5856004Z   #show
2024-03-10T16:31:34.5856847Z     when viewing a deactivated partner
2024-03-10T16:31:35.0945953Z       allows reactivation
2024-03-10T16:31:35.0946819Z     when viewing an invited partner as a partner
2024-03-10T16:31:35.6694895Z       redirects user to partners page root page (dashboard) with error message
2024-03-10T16:31:35.6695799Z     when exporting as CSV
2024-03-10T16:31:35.6696297Z       when filtering
2024-03-10T16:31:36.5612778Z         preserves the filter constraints in the CSV output
2024-03-10T16:31:36.5613792Z     when viewing an uninvited partner
2024-03-10T16:31:37.0839502Z       only has an edit option available
2024-03-10T16:31:37.0840354Z   partner group management
2024-03-10T16:31:37.0841485Z     editing a existing partner group
2024-03-10T16:31:40.6202185Z       should allow updating the partner name
2024-03-10T16:31:40.6203106Z     creating a new partner group
2024-03-10T16:31:41.9869754Z       should allow creating a new partner group with item categories
2024-03-10T16:31:41.9870894Z   approving a partner that is awaiting approval
2024-03-10T16:31:41.9872009Z     when the approval succeeds
2024-03-10T16:31:43.0605571Z       should approve the partner
2024-03-10T16:31:43.0606593Z     when the approval does not succeed
2024-03-10T16:31:44.1336706Z       should show an error message and not approve the partner
2024-03-10T16:31:44.1337810Z 
2024-03-10T16:31:44.1338024Z Audits
2024-03-10T16:31:44.1339636Z   while signed in as an organization admin
2024-03-10T16:31:44.1341147Z     GET #new
2024-03-10T16:31:44.1760573Z       is successful
2024-03-10T16:31:44.1761265Z     GET #edit
2024-03-10T16:31:44.2431548Z       redirects to #index if the status of audit is not `in_progress`
2024-03-10T16:31:44.3033342Z       is successful if the status of audit is `in_progress`
2024-03-10T16:31:44.3034316Z     POST #finalize
2024-03-10T16:31:44.3613267Z       sets the finalize status and saves an event
2024-03-10T16:31:44.3614560Z     POST #create
2024-03-10T16:31:44.3615213Z       with invalid params
2024-03-10T16:31:44.4020178Z         assigns a newly created but unsaved audit as @audit
2024-03-10T16:31:44.4441517Z         re-renders the 'new' template
2024-03-10T16:31:44.5004260Z         re-renders the 'new' template with an error message when an invalid storage location is given
2024-03-10T16:31:44.5005522Z       with valid params
2024-03-10T16:31:44.5393249Z         creates a new Audit with status as `confirmed` if `confirm_audit` is passed as a param
2024-03-10T16:31:44.5758497Z         redirects to the #show after created audit
2024-03-10T16:31:44.6127256Z         creates a new Audit with status as `in_progress` if `save_progress` is passed as a param
2024-03-10T16:31:44.6488660Z         creates a new Audit
2024-03-10T16:31:44.6851912Z         assigns a newly created audit as @audit
2024-03-10T16:31:44.6852865Z     DELETE #destroy
2024-03-10T16:31:44.6853788Z       with valid params
2024-03-10T16:31:44.7206470Z         destroys the audit if the audit's status is `in_progress`
2024-03-10T16:31:44.7537642Z         can not destroy the audit if the audit's status is `finalized`
2024-03-10T16:31:44.7885669Z         destroys the audit if the audit's status is `confirms`
2024-03-10T16:31:44.7886359Z     GET #show
2024-03-10T16:31:44.8481018Z       is successful
2024-03-10T16:31:44.8481697Z     GET #index
2024-03-10T16:31:44.9069339Z       is successful
2024-03-10T16:31:44.9070223Z 
2024-03-10T16:31:44.9070794Z Adjustments
2024-03-10T16:31:44.9071624Z   while signed in
2024-03-10T16:31:44.9072853Z     POST #create
2024-03-10T16:31:44.9074057Z       with invalid params
2024-03-10T16:31:44.9517021Z         re-renders the 'new' template
2024-03-10T16:31:44.9884320Z         assigns a newly created but unsaved adjustment as @adjustment
2024-03-10T16:31:44.9885359Z       with valid params
2024-03-10T16:31:45.0153912Z         assigns a newly created adjustment as @adjustment
2024-03-10T16:31:45.0434521Z         creates a new Adjustment
2024-03-10T16:31:45.0688383Z         assigns a user id from the current user
2024-03-10T16:31:45.0959289Z         redirects to the #show after created adjustment
2024-03-10T16:31:45.0960140Z     GET #index
2024-03-10T16:31:45.0960727Z       html
2024-03-10T16:31:45.1417415Z         is successful
2024-03-10T16:31:45.1418189Z         when filtering by date
2024-03-10T16:31:45.1418893Z           when date parameters are not supplied
2024-03-10T16:31:45.1934774Z             returns all objects
2024-03-10T16:31:45.1935435Z           when date parameters are supplied
2024-03-10T16:31:45.2425935Z             only returns the correct objects
2024-03-10T16:31:45.2427061Z       csv
2024-03-10T16:31:45.2656728Z         is expected to be successful
2024-03-10T16:31:45.2657725Z     GET #new
2024-03-10T16:31:45.3025561Z       is successful
2024-03-10T16:31:45.3026599Z     GET #show
2024-03-10T16:31:45.3386312Z       is expected to be successful
2024-03-10T16:31:45.3387032Z 
2024-03-10T16:31:45.3387260Z Transfer management
2024-03-10T16:31:45.8322481Z   should not include inactive storage locations in dropdowns when creating a new transfer
2024-03-10T16:31:47.3727643Z   shows a error when deleting a transfer that causes an insufficient inventory counts
2024-03-10T16:31:48.9353602Z   can delete a transfer to undo the inventory count changes
2024-03-10T16:31:49.7941164Z   Does not include inactive items in the line item fields
2024-03-10T16:31:51.0289317Z   can transfer an inventory from a storage location to another as a user
2024-03-10T16:31:51.0290417Z   when there's insufficient inventory at the origin to cover the move
2024-03-10T16:31:52.2265423Z     User can transfer an inventory from a storage location to another
2024-03-10T16:31:52.2266475Z   when viewing the index page
2024-03-10T16:31:53.5330711Z     can filter the #index by storage location both from and to as a user
2024-03-10T16:31:53.5331798Z     behaves like Date Range Picker
2024-03-10T16:31:53.5332849Z       when choosing a date range that only includes the previous week
2024-03-10T16:31:54.4762782Z         shows only 1 record
2024-03-10T16:31:54.4763880Z       when choosing 'Last Month'
2024-03-10T16:31:55.4349182Z         shows only 2 of the records
2024-03-10T16:31:55.4350511Z       when choosing 'All Time'
2024-03-10T16:31:56.4135909Z         shows all the records
2024-03-10T16:31:56.4137789Z 
2024-03-10T16:31:56.4138136Z Admin::UsersController
2024-03-10T16:31:56.4139409Z   When logged in as an organization_admin
2024-03-10T16:31:56.4140361Z     GET #new
2024-03-10T16:31:56.6013877Z       redirects
2024-03-10T16:31:56.6014606Z     POST #create
2024-03-10T16:31:56.7805476Z       redirects
2024-03-10T16:31:56.7806644Z   When logged in as a non-admin user
2024-03-10T16:31:56.7807934Z     GET #new
2024-03-10T16:31:56.9677109Z       redirects
2024-03-10T16:31:56.9678112Z     POST #create
2024-03-10T16:31:57.1510327Z       redirects
2024-03-10T16:31:57.1511220Z   When logged in as a super admin
2024-03-10T16:31:57.1513046Z     #add_role
2024-03-10T16:31:57.1514068Z       with errors
2024-03-10T16:31:57.5420408Z         should redirect back with error
2024-03-10T16:31:57.5421043Z       with no errors
2024-03-10T16:31:57.9454891Z         should call the service and redirect back
2024-03-10T16:31:57.9456064Z     GET #new
2024-03-10T16:31:58.3522127Z       preloads organizations
2024-03-10T16:31:58.7555048Z       renders new template
2024-03-10T16:31:58.7555786Z     #remove_role
2024-03-10T16:31:58.7556653Z       with errors
2024-03-10T16:31:59.1409025Z         should redirect back with error
2024-03-10T16:31:59.1410159Z       with no errors
2024-03-10T16:31:59.5301648Z         should call the service and redirect back
2024-03-10T16:31:59.5302534Z     POST #create
2024-03-10T16:31:59.9363627Z       returns http success
2024-03-10T16:32:00.3387672Z       preloads organizations
2024-03-10T16:32:00.3388765Z     PATCH #update
2024-03-10T16:32:00.3389176Z       with no errors
2024-03-10T16:32:00.7396968Z         renders index template with a successful update flash message
2024-03-10T16:32:00.7398002Z       with errors
2024-03-10T16:32:01.1233444Z         redirects back with no role found flash message
2024-03-10T16:32:01.5045943Z         redirects back with no organization_id flash message
2024-03-10T16:32:01.5046892Z     GET #edit
2024-03-10T16:32:01.9170611Z       renders edit template and shows roles
2024-03-10T16:32:02.2252178Z 
2024-03-10T16:32:02.2253375Z Deprecation Warnings:
2024-03-10T16:32:02.2253946Z 
2024-03-10T16:32:02.2254129Z 
2024-03-10T16:32:02.2254430Z Failures:
2024-03-10T16:32:02.2328011Z Using `should` from rspec-expectations' old `:should` syntax without explicitly enabling the syntax is deprecated. Use the new `:expect` syntax or explicitly enable `:should` with `config.expect_with(:rspec) { |c| c.syntax = :should }` instead. Called from /home/runner/work/human-essentials/human-essentials/spec/system/partner_system_spec.rb:140:in `block (5 levels) in <top (required)>'.
2024-03-10T16:32:02.2331693Z 
2024-03-10T16:32:02.2331726Z 
2024-03-10T16:32:02.2331733Z 
2024-03-10T16:32:02.2332381Z If you need more of the backtrace for any of these deprecations to
2024-03-10T16:32:02.2333608Z identify where to make the necessary changes, you can configure
2024-03-10T16:32:02.2335984Z `config.raise_errors_for_deprecations!`, and it will turn the
2024-03-10T16:32:02.2337123Z deprecation warnings into errors, giving you the full backtrace.
2024-03-10T16:32:02.2338724Z   1) Account request flow when in staging should prompt prospective users to request an account on the live app
2024-03-10T16:32:02.2340004Z      Failure/Error: visit new_account_request_path
2024-03-10T16:32:02.2340538Z 
2024-03-10T16:32:02.2340816Z      Ferrum::JavaScriptError:
2024-03-10T16:32:02.2341660Z        ReferenceError: $ is not defined
2024-03-10T16:32:02.2342632Z            at http://127.0.0.1:43261/account_requests/new:131:5
2024-03-10T16:32:02.2343271Z 
2024-03-10T16:32:02.2345208Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/capybara/failures_r_spec_example_groups_account_request_flow_when_in_staging_should_prompt_prospective_users_to_request_an_account_on_the_live_app_762.png
2024-03-10T16:32:02.2347282Z 
2024-03-10T16:32:02.2347294Z 
2024-03-10T16:32:02.2348070Z      # ./spec/system/account_request_system_spec.rb:8:in `block (3 levels) in <top (required)>'
2024-03-10T16:32:02.2348582Z 
2024-03-10T16:32:02.2349529Z   2) Partner management requesting recertification of a partner GIVEN a user goes through the process of requesting recertification of partner should notify the user that its been successful and change the partner status
2024-03-10T16:32:02.2350838Z      Failure/Error:
2024-03-10T16:32:02.2351154Z        accept_confirm do
2024-03-10T16:32:02.2351678Z          find_button('Request Recertification').click
2024-03-10T16:32:02.2352231Z        end
2024-03-10T16:32:02.2352428Z 
2024-03-10T16:32:02.2352581Z      Capybara::ModalNotFound:
2024-03-10T16:32:02.2353069Z        Unable to find modal dialog
2024-03-10T16:32:02.2353318Z 
2024-03-10T16:32:02.2354763Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_partner_management_requesting_recertification_of_a_partner_givena_user_goes_through_the_process_of_requesting_recertification_of_partner_should_notify_the_user_that_its_been_succ_345.png
2024-03-10T16:32:02.2356104Z 
2024-03-10T16:32:02.2356109Z 
2024-03-10T16:32:02.2356471Z      # ./spec/system/partner_system_spec.rb:155:in `block (5 levels) in <top (required)>'
2024-03-10T16:32:02.2357189Z      # ------------------
2024-03-10T16:32:02.2357577Z      # --- Caused by: ---
2024-03-10T16:32:02.2358162Z      # Capybara::ModalNotFound:
2024-03-10T16:32:02.2358648Z      #   Capybara::ModalNotFound
2024-03-10T16:32:02.2359239Z      #   ./spec/system/partner_system_spec.rb:155:in `block (5 levels) in <top (required)>'
2024-03-10T16:32:02.2359740Z 
2024-03-10T16:32:02.2360499Z   3) Partner management one step inviting a partner when partner is uninvited and one step partner invite setting is on shows Invite and Approve button and approves the partner when clicked
2024-03-10T16:32:02.2361616Z      Got 1 failure and 1 other error:
2024-03-10T16:32:02.2361906Z 
2024-03-10T16:32:02.2362047Z      3.1) Failure/Error:
2024-03-10T16:32:02.2362460Z             expect do
2024-03-10T16:32:02.2362839Z               click_on "Invite and Approve"
2024-03-10T16:32:02.2363485Z             end.to change { uninvited_partner.reload.status }.from("uninvited").to("approved")
2024-03-10T16:32:02.2363937Z 
2024-03-10T16:32:02.2364436Z             expected `uninvited_partner.reload.status` to have changed from "uninvited" to "approved", but did not change
2024-03-10T16:32:02.2365038Z 
2024-03-10T16:32:02.2366429Z           [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_partner_management_one_step_inviting_a_partner_when_partner_is_uninvited_and_one_step_partner_invite_setting_is_on_shows_invite_and_approve_button_and_approves_the_partner_when_c_333.png
2024-03-10T16:32:02.2368238Z 
2024-03-10T16:32:02.2368246Z 
2024-03-10T16:32:02.2368619Z           # ./spec/system/partner_system_spec.rb:128:in `block (5 levels) in <top (required)>'
2024-03-10T16:32:02.2369169Z 
2024-03-10T16:32:02.2369862Z      3.2) Failure/Error: raise ActionController::RoutingError, "No route matches [#{env['REQUEST_METHOD']}] #{env['PATH_INFO'].inspect}"
2024-03-10T16:32:02.2370499Z 
2024-03-10T16:32:02.2370689Z           ActionController::RoutingError:
2024-03-10T16:32:02.2371187Z             No route matches [GET] "/db_1/partners/80/invite_and_approve"
2024-03-10T16:32:02.2371667Z 
2024-03-10T16:32:02.2373073Z           [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_partner_management_one_step_inviting_a_partner_when_partner_is_uninvited_and_one_step_partner_invite_setting_is_on_shows_invite_and_approve_button_and_approves_the_partner_when_c_333.png
2024-03-10T16:32:02.2374421Z 
2024-03-10T16:32:02.2374425Z 
2024-03-10T16:32:02.2375250Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
2024-03-10T16:32:02.2376980Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'
2024-03-10T16:32:02.2378530Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/railties-7.0.8/lib/rails/rack/logger.rb:40:in `call_app'
2024-03-10T16:32:02.2379994Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/railties-7.0.8/lib/rails/rack/logger.rb:25:in `block in call'
2024-03-10T16:32:02.2381687Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/tagged_logging.rb:99:in `block in tagged'
2024-03-10T16:32:02.2383308Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/tagged_logging.rb:37:in `tagged'
2024-03-10T16:32:02.2384887Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/tagged_logging.rb:99:in `tagged'
2024-03-10T16:32:02.2386454Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/railties-7.0.8/lib/rails/rack/logger.rb:25:in `call'
2024-03-10T16:32:02.2387956Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
2024-03-10T16:32:02.2389782Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/request_store-1.5.1/lib/request_store/middleware.rb:19:in `call'
2024-03-10T16:32:02.2391347Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/request_id.rb:26:in `call'
2024-03-10T16:32:02.2392854Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/method_override.rb:24:in `call'
2024-03-10T16:32:02.2394268Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/runtime.rb:22:in `call'
2024-03-10T16:32:02.2395721Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/executor.rb:14:in `call'
2024-03-10T16:32:02.2397322Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/static.rb:23:in `call'
2024-03-10T16:32:02.2398841Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/sendfile.rb:110:in `call'
2024-03-10T16:32:02.2400560Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/host_authorization.rb:131:in `call'
2024-03-10T16:32:02.2402146Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/railties-7.0.8/lib/rails/engine.rb:530:in `call'
2024-03-10T16:32:02.2403524Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/urlmap.rb:74:in `block in call'
2024-03-10T16:32:02.2404845Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/urlmap.rb:58:in `each'
2024-03-10T16:32:02.2406232Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/urlmap.rb:58:in `call'
2024-03-10T16:32:02.2407900Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/builder.rb:244:in `call'
2024-03-10T16:32:02.2409422Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
2024-03-10T16:32:02.2411070Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
2024-03-10T16:32:02.2412521Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/puma-6.4.2/lib/puma/configuration.rb:272:in `call'
2024-03-10T16:32:02.2413956Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/puma-6.4.2/lib/puma/request.rb:100:in `block in handle_request'
2024-03-10T16:32:02.2415545Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/puma-6.4.2/lib/puma/thread_pool.rb:378:in `with_force_shutdown'
2024-03-10T16:32:02.2416987Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/puma-6.4.2/lib/puma/request.rb:99:in `handle_request'
2024-03-10T16:32:02.2418439Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/puma-6.4.2/lib/puma/server.rb:464:in `process_client'
2024-03-10T16:32:02.2419827Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/puma-6.4.2/lib/puma/server.rb:245:in `block in run'
2024-03-10T16:32:02.2421272Z           # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/puma-6.4.2/lib/puma/thread_pool.rb:155:in `block in spawn_thread'
2024-03-10T16:32:02.2422453Z           # 
2024-03-10T16:32:02.2422898Z           #   Showing full backtrace because every line was filtered out.
2024-03-10T16:32:02.2423607Z           #   See docs for RSpec::Configuration#backtrace_exclusion_patterns and
2024-03-10T16:32:02.2424388Z           #   RSpec::Configuration#backtrace_inclusion_patterns for more information.
2024-03-10T16:32:02.2425003Z           # ------------------
2024-03-10T16:32:02.2425426Z           # --- Caused by: ---
2024-03-10T16:32:02.2425897Z           # Capybara::CapybaraError:
2024-03-10T16:32:02.2426781Z           #   Your application server raised an error - It has been raised in your test code because Capybara.raise_server_errors == true
2024-03-10T16:32:02.2428297Z           #   /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/session.rb:164:in `raise_server_error!'
2024-03-10T16:32:02.2429086Z 
2024-03-10T16:32:02.2429257Z 1 deprecation warning total
2024-03-10T16:32:02.2429485Z 
2024-03-10T16:32:02.2429792Z Finished in 1 minute 48.16 seconds (files took 8.19 seconds to load)
2024-03-10T16:32:02.2430391Z 194 examples, 3 failures
2024-03-10T16:32:02.2430599Z 
2024-03-10T16:32:02.2430721Z Failed examples:
2024-03-10T16:32:02.2431118Z 
2024-03-10T16:32:02.2431766Z rspec ./spec/system/account_request_system_spec.rb:7 # Account request flow when in staging should prompt prospective users to request an account on the live app
2024-03-10T16:32:02.2433718Z rspec ./spec/system/partner_system_spec.rb:154 # Partner management requesting recertification of a partner GIVEN a user goes through the process of requesting recertification of partner should notify the user that its been successful and change the partner status
2024-03-10T16:32:02.2435913Z rspec ./spec/system/partner_system_spec.rb:123 # Partner management one step inviting a partner when partner is uninvited and one step partner invite setting is on shows Invite and Approve button and approves the partner when clicked
2024-03-10T16:32:02.2437014Z 
2024-03-10T16:32:02.2437146Z Randomized with seed 16328
2024-03-10T16:32:02.2437470Z 
2024-03-10T16:32:02.5220713Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-10T16:32:02.5223225Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3682 / 6478 LOC (56.84%) covered.
2024-03-10T16:32:02.6424571Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/system/partner_system_spec.rb" "spec/system/audit_system_spec.rb" "spec/system/transfer_system_spec.rb" "spec/system/admin/users_system_spec.rb" "spec/requests/admin/users_requests_spec.rb" "spec/system/account_request_system_spec.rb" "spec/system/distributions_by_county_system_spec.rb" "spec/system/dashboard_system_spec.rb[1:2:3:2:1:1]" "spec/requests/events_requests_spec.rb" "spec/requests/partners_requests_spec.rb" "spec/system/dashboard_system_spec.rb[1:2:6:8:1:1]" "spec/system/dashboard_system_spec.rb[1:2:5:9:1:2]" "spec/system/dashboard_system_spec.rb[1:2:5:3:1:3]" "spec/system/dashboard_system_spec.rb[1:2:3:4:1:1]" "spec/system/dashboard_system_spec.rb[1:2:5:9:1:1]" "spec/system/dashboard_system_spec.rb[1:2:5:5:1:1]" "spec/system/dashboard_system_spec.rb[1:2:5:8:1:3]" "spec/system/dashboard_system_spec.rb[1:2:6:7:1:1]" "spec/system/partners/partner_distribution_system_spec.rb" "spec/system/dashboard_system_spec.rb[1:2:3:1]" "spec/requests/audits_requests_spec.rb" "spec/system/dashboard_system_spec.rb[1:2:2:1:1]" "spec/system/partners/helps_system_spec.rb" "spec/requests/adjustments_requests_spec.rb" "spec/requests/distributions_by_county_spec.rb" "spec/requests/requests_requests_spec.rb" "spec/requests/admin/account_requests_requests_spec.rb" failed
2024-03-10T16:32:03.0288004Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-10T16:32:03.0291378Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10780 LOC (0.35%) covered.
2024-03-10T16:32:03.0552422Z ##[error]Process completed with exit code 1.
