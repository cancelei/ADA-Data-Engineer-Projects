2024-03-04T14:52:08.1658855Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-04T14:52:08.1659774Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-04T14:52:08.1688096Z shell: /usr/bin/bash -e {0}
2024-03-04T14:52:08.1688462Z env:
2024-03-04T14:52:08.1688895Z   POSTGRES_HOST: localhost
2024-03-04T14:52:08.1689284Z   DATABASE_HOST: localhost
2024-03-04T14:52:08.1689676Z   PG_USERNAME: postgres
2024-03-04T14:52:08.1690099Z   PG_PASSWORD: password
2024-03-04T14:52:08.1690449Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-04T14:52:08.1690866Z   POSTGRES_PORT: 5432
2024-03-04T14:52:08.1691271Z   PGHOST: localhost
2024-03-04T14:52:08.1691628Z   PGUSER: postgres
2024-03-04T14:52:08.1691929Z   RAILS_ENV: test
2024-03-04T14:52:08.1692351Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-04T14:52:08.1692829Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-04T14:52:08.1693291Z   KNAPSACK_PRO_CI_NODE_INDEX: 1
2024-03-04T14:52:08.1693731Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-04T14:52:08.1694265Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-04T14:52:08.1694946Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-04T14:52:08.1695596Z   EVENTS_READ: true
2024-03-04T14:52:08.1695987Z ##[endgroup]
2024-03-04T14:52:13.6843010Z W, [2024-03-04T14:52:13.683871 #2436]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-04T14:52:13.6845347Z W, [2024-03-04T14:52:13.683932 #2436]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-04T14:52:13.6847717Z W, [2024-03-04T14:52:13.683959 #2436]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-04T14:52:13.6853067Z W, [2024-03-04T14:52:13.684001 #2436]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-04T14:52:15.8557897Z W, [2024-03-04T14:52:15.855509 #2436]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-04T14:52:15.8559838Z W, [2024-03-04T14:52:15.855547 #2436]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-04T14:52:15.8561800Z W, [2024-03-04T14:52:15.855564 #2436]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-04T14:52:15.8564021Z W, [2024-03-04T14:52:15.855600 #2436]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-04T14:52:15.8614129Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/adjustments_requests_spec.rb" "spec/requests/admin/partners_requests_spec.rb" "spec/requests/barcode_items_requests_spec.rb" "spec/requests/donations_requests_spec.rb" "spec/requests/partners/children_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-03-04T14:52:24.1034453Z 
2024-03-04T14:52:24.1035213Z Randomized with seed 56710
2024-03-04T14:52:24.9940921Z 
2024-03-04T14:52:24.9941660Z Admin Organization Management
2024-03-04T14:52:24.9943261Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-04T14:52:42.3518649Z     creates a new organization
2024-03-04T14:52:42.3519550Z   While signed in as an Administrative User (super admin)
2024-03-04T14:52:44.2109898Z     creates a new organization
2024-03-04T14:52:45.2560534Z     filters by organizations by name in organizations index page
2024-03-04T14:52:46.5961683Z     can view organization details
2024-03-04T14:52:46.5962426Z 
2024-03-04T14:52:46.5962659Z /partners/children
2024-03-04T14:52:46.5963978Z   GET #index
2024-03-04T14:52:46.6741122Z     should export CSV
2024-03-04T14:52:46.7414808Z     should render without any issues
2024-03-04T14:52:46.7415375Z 
2024-03-04T14:52:46.7415877Z Organization management
2024-03-04T14:52:46.7416690Z   while signed in as a normal user
2024-03-04T14:52:47.2129950Z     cannot see 'Make user' button for admins
2024-03-04T14:52:47.6814229Z     can see summary details about the organization as a user
2024-03-04T14:52:47.6815392Z   while signed in as an organization admin
2024-03-04T14:52:48.6814087Z     can add a new user to an organization
2024-03-04T14:52:49.1898486Z     can see 'Make user' button for admins
2024-03-04T14:52:50.2798724Z     can re-activate a user in the organization
2024-03-04T14:52:50.8359865Z     can re-invite a user to an organization after 7 days
2024-03-04T14:52:51.8503160Z     can deactivate a user in the organization
2024-03-04T14:52:51.8504242Z     Editing the organization
2024-03-04T14:52:52.9733059Z       can select if the org distributes essentials monthly
2024-03-04T14:52:53.9017929Z       can set a default storage location on the organization
2024-03-04T14:52:54.9205123Z       can enable if the org uses single step invite and approve partner process
2024-03-04T14:52:55.9143853Z       can select if the org shows year-to-date values on the distribution printout
2024-03-04T14:52:56.8953677Z       can select if the org repackages essentials
2024-03-04T14:52:58.3963012Z       can select and deselect Required Partner Fields
2024-03-04T14:52:59.6280124Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-03-04T14:53:00.5218786Z       can set the NDBN Member ID
2024-03-04T14:53:01.5138385Z       can disable if the org does NOT use single step invite and approve partner process
2024-03-04T14:53:02.3623165Z       can set a reminder and a deadline day
2024-03-04T14:53:02.3623821Z     Viewing the organization
2024-03-04T14:53:02.9011706Z       can view organization details
2024-03-04T14:53:02.9012835Z 
2024-03-04T14:53:02.9013103Z Donations
2024-03-04T14:53:02.9014490Z   while signed in
2024-03-04T14:53:02.9015785Z     when no audit has been performed
2024-03-04T14:53:03.0650574Z       doesn't show a warning
2024-03-04T14:53:03.0651470Z     GET #edit
2024-03-04T14:53:03.0652003Z       when an finalized audit has been performed on the donated items
2024-03-04T14:53:03.1948877Z         shows a warning
2024-03-04T14:53:03.1950175Z     when an non-finalized audit has been performed on the donated items
2024-03-04T14:53:03.3192600Z       does not shows a warning
2024-03-04T14:53:03.3193266Z     GET #index
2024-03-04T14:53:03.3193946Z       html
2024-03-04T14:53:03.3698625Z         should have the columns source and details
2024-03-04T14:53:03.4093188Z         is expected to be successful
2024-03-04T14:53:03.4093982Z         when given a manufacturer
2024-03-04T14:53:03.4569504Z           should display Manufacturer and the manufacturer name
2024-03-04T14:53:03.4570467Z         when given a donation site
2024-03-04T14:53:03.5190156Z           should display Donation Site and the name of the site
2024-03-04T14:53:03.5191750Z         when given a misc donation
2024-03-04T14:53:03.5654144Z           should display Misc Donation and a truncated comment
2024-03-04T14:53:03.5655086Z         when given a product drive
2024-03-04T14:53:03.6160611Z           should display Product Drive and the name of the drive
2024-03-04T14:53:03.6161474Z       csv
2024-03-04T14:53:03.6410566Z         is expected to be successful
2024-03-04T14:53:03.6411791Z 
2024-03-04T14:53:03.6412093Z Admin::Partners
2024-03-04T14:53:03.6413243Z   When logged in as a super admin
2024-03-04T14:53:03.6414785Z     PUT #update
2024-03-04T14:53:03.6415746Z       unsuccessful save due to empty params
2024-03-04T14:53:03.6958315Z         renders #edit template with error message
2024-03-04T14:53:03.6959378Z       successful save
2024-03-04T14:53:03.7302527Z         redirects
2024-03-04T14:53:03.7678761Z         updates partner
2024-03-04T14:53:03.7682937Z     GET #index
2024-03-04T14:53:03.7974408Z       returns http success
2024-03-04T14:53:03.7975141Z     GET #edit
2024-03-04T14:53:03.8437195Z       returns http success
2024-03-04T14:53:03.8438008Z     GET #show
2024-03-04T14:53:03.8892260Z       returns http success
2024-03-04T14:53:03.8893379Z 
2024-03-04T14:53:03.8893762Z Adjustments
2024-03-04T14:53:03.8894926Z   while signed in
2024-03-04T14:53:03.8896169Z     GET #show
2024-03-04T14:53:03.9315235Z       is expected to be successful
2024-03-04T14:53:03.9316117Z     GET #new
2024-03-04T14:53:03.9690687Z       is successful
2024-03-04T14:53:03.9691388Z     POST #create
2024-03-04T14:53:03.9692142Z       with invalid params
2024-03-04T14:53:04.0035764Z         re-renders the 'new' template
2024-03-04T14:53:04.0373488Z         assigns a newly created but unsaved adjustment as @adjustment
2024-03-04T14:53:04.0375455Z       with valid params
2024-03-04T14:53:04.0695241Z         creates a new Adjustment
2024-03-04T14:53:04.0950679Z         assigns a user id from the current user
2024-03-04T14:53:04.1238464Z         redirects to the #show after created adjustment
2024-03-04T14:53:04.1508077Z         assigns a newly created adjustment as @adjustment
2024-03-04T14:53:04.1509121Z     GET #index
2024-03-04T14:53:04.1509805Z       html
2024-03-04T14:53:04.1906142Z         is successful
2024-03-04T14:53:04.1907132Z         when filtering by date
2024-03-04T14:53:04.1907999Z           when date parameters are not supplied
2024-03-04T14:53:04.2389274Z             returns all objects
2024-03-04T14:53:04.2389945Z           when date parameters are supplied
2024-03-04T14:53:04.2844909Z             only returns the correct objects
2024-03-04T14:53:04.2845784Z       csv
2024-03-04T14:53:04.3055996Z         is expected to be successful
2024-03-04T14:53:04.3057937Z 
2024-03-04T14:53:04.3058523Z BarcodeItems
2024-03-04T14:53:04.3059529Z   While signed in
2024-03-04T14:53:04.3060943Z     GET #edit
2024-03-04T14:53:04.3061687Z       with a normal barcode item
2024-03-04T14:53:04.3464737Z         returns http success
2024-03-04T14:53:04.3465253Z       with a global barcode item
2024-03-04T14:53:04.3741640Z         returns a 404
2024-03-04T14:53:04.3742396Z     GET #new
2024-03-04T14:53:04.4024332Z       returns http success
2024-03-04T14:53:04.4025100Z     Looking at a different organization
2024-03-04T14:53:04.5813874Z       redirects the user to the sign-in page for CRUD actions
2024-03-04T14:53:04.5815024Z     GET #find
2024-03-04T14:53:04.5815509Z       via ajax
2024-03-04T14:53:04.7904373Z         can find a barcode that is scoped to just this organization
2024-03-04T14:53:04.9921115Z         can find a barcode that's universally available
2024-03-04T14:53:04.9921925Z         when it's missing
2024-03-04T14:53:05.1960131Z           returns a 404
2024-03-04T14:53:05.1962139Z     GET #show
2024-03-04T14:53:05.1963003Z       with a global barcode item
2024-03-04T14:53:05.2252743Z         returns a 404
2024-03-04T14:53:05.2253449Z       with a normal barcode item
2024-03-04T14:53:05.2590120Z         returns http success
2024-03-04T14:53:05.2591202Z     GET #index
2024-03-04T14:53:05.2591732Z       html
2024-03-04T14:53:05.2978776Z         is expected to be successful
2024-03-04T14:53:05.2979831Z       csv
2024-03-04T14:53:05.3190611Z         is expected to be successful
2024-03-04T14:53:05.3191562Z     DELETE #destroy
2024-03-04T14:53:05.5036137Z       disallows a user to delete someone else's barcode
2024-03-04T14:53:05.5368208Z       redirects to the index
2024-03-04T14:53:05.5558708Z       disallows a non-superadmin to delete a global barcode
2024-03-04T14:53:05.5561977Z 
2024-03-04T14:53:05.5562255Z Dashboard
2024-03-04T14:53:05.5563581Z   With a new essentials bank
2024-03-04T14:53:33.7265335Z     displays the getting started guide until the steps are completed
2024-03-04T14:53:33.7266197Z   With an existing essentials bank
2024-03-04T14:53:33.7267619Z     Manufacturer Donations
2024-03-04T14:53:34.2977005Z       has a link to create a new donation
2024-03-04T14:53:34.2978717Z       given 1 Manufacturer donating on 2024-03-03  (unless 'All Time'), 3 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T14:53:34.2980186Z         filtering to 'Today'
2024-03-04T14:53:35.8615058Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-04T14:53:35.8617178Z       given 1 Manufacturer donating on 2024-03-02  (unless 'All Time'), 8 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T14:53:35.8618737Z         filtering to 'Yesterday'
2024-03-04T14:53:38.2726566Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-04T14:53:38.2728440Z       given 1 Manufacturer donating on 2022-03-03  (unless 'All Time'), 3 during 2022-03-04..2024-01-18, and 1 on 2024-01-19
2024-03-04T14:53:38.2729393Z         filtering to '' (March 4, 2022 - January 18, 2024)
2024-03-04T14:53:39.8904213Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-04T14:53:39.8906112Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 5 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T14:53:39.8907039Z         filtering to 'Last Month'
2024-03-04T14:53:41.8763572Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-03-04T14:53:41.8765480Z       given 1 Manufacturer donating on 2024-02-26  (unless 'All Time'), 8 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T14:53:41.8766441Z         filtering to 'Last 7 Days'
2024-03-04T14:53:43.9669852Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-04T14:53:43.9672028Z       given 1 Manufacturer donating on 2024-02-29  (unless 'All Time'), 4 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T14:53:43.9673405Z         filtering to 'This Month'
2024-03-04T14:53:45.6730315Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-03-04T14:53:45.6732263Z       given 1 Manufacturer donating on 2024-02-03  (unless 'All Time'), 5 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T14:53:45.6733740Z         filtering to 'Last 30 Days'
2024-03-04T14:53:47.5742250Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-03-04T14:53:47.5744413Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 6 during 2000-01-01..2024-03-04, and 1 on 2024-03-05
2024-03-04T14:53:47.5745845Z         filtering to 'All Time'
2024-03-04T14:53:49.5283917Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-03-04T14:53:49.5285860Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 6 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T14:53:49.5287097Z         filtering to 'This Year'
2024-03-04T14:53:51.4836444Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-03-04T14:53:51.4837412Z     Product Drives
2024-03-04T14:53:52.0698962Z       has a widget for product drive summary data
2024-03-04T14:53:52.0700865Z       given 1 Product Drive Donation on 2024-02-03 (unless 'All Time'), 1 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T14:53:52.0702688Z         filtering to 'Last 30 Days'
2024-03-04T14:53:53.4085930Z           shows 1 Recent Donation link(s)
2024-03-04T14:53:54.7556757Z           shows the correct total money raised
2024-03-04T14:53:56.1064405Z           shows the correct total donations
2024-03-04T14:53:56.1065374Z       Product drive behaviour with Mixed Donation types
2024-03-04T14:53:56.8929023Z         only counts product drive donations for product drive
2024-03-04T14:53:57.6193384Z         only shows product drive donations as product drive donations
2024-03-04T14:53:58.3035073Z         only counts product drive money raised
2024-03-04T14:53:58.3036793Z       given 1 Product Drive Donation on 2022-03-03 (unless 'All Time'), 2 during 2022-03-04..2023-09-07, and 1 on 2023-09-08
2024-03-04T14:53:58.3037948Z         filtering to '' (March 4, 2022 - September 7, 2023)
2024-03-04T14:53:59.6901510Z           shows the correct total donations
2024-03-04T14:54:01.0909174Z           shows the correct total money raised
2024-03-04T14:54:02.4992856Z           shows 2 Recent Donation link(s)
2024-03-04T14:54:02.4994409Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T14:54:02.4995574Z         filtering to 'Last Month'
2024-03-04T14:54:03.8621212Z           shows 1 Recent Donation link(s)
2024-03-04T14:54:05.2365586Z           shows the correct total donations
2024-03-04T14:54:06.5978192Z           shows the correct total money raised
2024-03-04T14:54:06.5980046Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T14:54:06.5981417Z         filtering to 'This Year'
2024-03-04T14:54:07.9774806Z           shows the correct total donations
2024-03-04T14:54:09.3260377Z           shows the correct total money raised
2024-03-04T14:54:10.6985861Z           shows 1 Recent Donation link(s)
2024-03-04T14:54:10.6987665Z       given 1 Product Drive Donation on 2024-02-26 (unless 'All Time'), 3 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T14:54:10.6989192Z         filtering to 'Last 7 Days'
2024-03-04T14:54:12.1123775Z           shows the correct total money raised
2024-03-04T14:54:13.5545120Z           shows 3 Recent Donation link(s)
2024-03-04T14:54:14.9830212Z           shows the correct total donations
2024-03-04T14:54:14.9831986Z       given 1 Product Drive Donation on 2024-03-02 (unless 'All Time'), 2 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T14:54:14.9834326Z         filtering to 'Yesterday'
2024-03-04T14:54:16.3814110Z           shows the correct total money raised
2024-03-04T14:54:17.7820655Z           shows the correct total donations
2024-03-04T14:54:19.2658862Z           shows 2 Recent Donation link(s)
2024-03-04T14:54:19.2660564Z       given 1 Product Drive Donation on 2024-02-29 (unless 'All Time'), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T14:54:19.2661828Z         filtering to 'This Month'
2024-03-04T14:54:20.6733715Z           shows 2 Recent Donation link(s)
2024-03-04T14:54:22.0393184Z           shows the correct total donations
2024-03-04T14:54:23.4254924Z           shows the correct total money raised
2024-03-04T14:54:23.4256930Z       given 1 Product Drive Donation on 2024-03-03 (unless 'All Time'), 0 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T14:54:23.4258538Z         filtering to 'Today'
2024-03-04T14:54:24.7397764Z           shows the correct total money raised
2024-03-04T14:54:26.0627862Z           shows the correct total donations
2024-03-04T14:54:29.3844633Z           shows 0 Recent Donation link(s)
2024-03-04T14:54:29.3845531Z     Inventory Totals
2024-03-04T14:54:29.3846501Z       Summary
2024-03-04T14:54:30.0929746Z         displays the on-hand totals
2024-03-04T14:54:30.0930771Z         when constrained to date range
2024-03-04T14:54:31.1301633Z           does not change
2024-03-04T14:54:31.1302454Z     Distributions
2024-03-04T14:54:32.1013450Z       has a link to create a new distribution
2024-03-04T14:54:32.1015626Z       given 1 Distribution on 2024-03-02  (unless 'All Time'), 1 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T14:54:32.1016944Z         filtering to 'Yesterday'
2024-03-04T14:54:33.4905377Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-04T14:54:33.4908340Z       given 1 Distribution on 2024-03-03  (unless 'All Time'), 4 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T14:54:33.4909630Z         filtering to 'Today'
2024-03-04T14:54:34.9051985Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-04T14:54:34.9053728Z       given 1 Distribution on 2022-03-03  (unless 'All Time'), 3 during 2022-03-04..2023-12-30, and 1 on 2023-12-31
2024-03-04T14:54:34.9055311Z         filtering to '' (March 4, 2022 - December 30, 2023)
2024-03-04T14:54:36.2633357Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-04T14:54:36.2635344Z       given 1 Distribution on 2024-02-26  (unless 'All Time'), 0 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T14:54:36.2636310Z         filtering to 'Last 7 Days'
2024-03-04T14:54:39.6587685Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-04T14:54:39.6589521Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T14:54:39.6590981Z         filtering to 'This Year'
2024-03-04T14:54:41.0265626Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-04T14:54:41.0267376Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T14:54:41.0268283Z         filtering to 'Last Month'
2024-03-04T14:54:42.4589516Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-04T14:54:42.4591105Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 2 during 2000-01-01..2024-03-04, and 1 on 2024-03-05
2024-03-04T14:54:42.4591964Z         filtering to 'All Time'
2024-03-04T14:54:43.8517459Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-04T14:54:43.8518975Z       given 1 Distribution on 2024-02-29  (unless 'All Time'), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T14:54:43.8519927Z         filtering to 'This Month'
2024-03-04T14:54:45.2178490Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-04T14:54:45.2180246Z       given 1 Distribution on 2024-02-03  (unless 'All Time'), 4 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T14:54:45.2181427Z         filtering to 'Last 30 Days'
2024-03-04T14:54:46.6170632Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-04T14:54:46.6171783Z     Donations
2024-03-04T14:54:47.4927206Z       has a link to create a new donation
2024-03-04T14:54:47.4928647Z       given 1 Donation on 2024-03-02 (only if a valid date), 4 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T14:54:47.4929561Z         filtering to 'Yesterday'
2024-03-04T14:54:48.9760446Z           shows the correct total and 3 Recent Donation link(s)
2024-03-04T14:54:48.9762470Z       given 1 Donation on 2024-02-26 (only if a valid date), 4 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T14:54:48.9763933Z         filtering to 'Last 7 Days'
2024-03-04T14:54:50.4357512Z           shows the correct total and 3 Recent Donation link(s)
2024-03-04T14:54:50.4359953Z       given 1 Donation on 2022-03-03 (only if a valid date), 4 during 2022-03-04..2023-12-13, and 1 on 2023-12-14
2024-03-04T14:54:50.4361599Z         filtering to '' (March 4, 2022 - December 13, 2023)
2024-03-04T14:54:51.9269832Z           shows the correct total and 3 Recent Donation link(s)
2024-03-04T14:54:51.9271599Z       given 1 Donation on 2023-12-31 (only if a valid date), 4 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T14:54:51.9272875Z         filtering to 'This Year'
2024-03-04T14:54:53.5013805Z           shows the correct total and 3 Recent Donation link(s)
2024-03-04T14:54:53.5018561Z       given 1 Donation on 2024-02-29 (only if a valid date), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T14:54:53.5019923Z         filtering to 'This Month'
2024-03-04T14:54:54.8953045Z           shows the correct total and 2 Recent Donation link(s)
2024-03-04T14:54:54.8954773Z       given 1 Donation on 2024-02-03 (only if a valid date), 2 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T14:54:54.8956159Z         filtering to 'Last 30 Days'
2024-03-04T14:54:56.2950584Z           shows the correct total and 2 Recent Donation link(s)
2024-03-04T14:54:56.2952490Z       given 1 Donation on 2024-01-31 (only if a valid date), 2 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T14:54:56.2953357Z         filtering to 'Last Month'
2024-03-04T14:54:57.7265907Z           shows the correct total and 2 Recent Donation link(s)
2024-03-04T14:54:57.7267712Z       given 1 Donation on 2024-03-03 (only if a valid date), 0 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T14:54:57.7269002Z         filtering to 'Today'
2024-03-04T14:55:01.0298026Z           shows the correct total and 0 Recent Donation link(s)
2024-03-04T14:55:01.0298992Z     Purchases
2024-03-04T14:55:01.8972036Z       has a link to create a new purchase
2024-03-04T14:55:01.8973732Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T14:55:01.8975193Z         filtering to 'This Year'
2024-03-04T14:55:03.3054318Z           shows correct 2 Recent Purchase link(s)
2024-03-04T14:55:03.3056007Z       given 1 Purchase on 2022-03-03  (unless 'All Time'), 1 during 2022-03-04..2023-10-16, and 1 on 2023-10-17
2024-03-04T14:55:03.3057933Z         filtering to '' (March 4, 2022 - October 16, 2023)
2024-03-04T14:55:04.6880228Z           shows correct 1 Recent Purchase link(s)
2024-03-04T14:55:04.6881971Z       given 1 Purchase on 2024-03-03  (unless 'All Time'), 2 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T14:55:04.6883317Z         filtering to 'Today'
2024-03-04T14:55:06.0820788Z           shows correct 2 Recent Purchase link(s)
2024-03-04T14:55:06.0822491Z       given 1 Purchase on 2024-02-26  (unless 'All Time'), 4 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T14:55:06.0823869Z         filtering to 'Last 7 Days'
2024-03-04T14:55:07.5485426Z           shows correct 3 Recent Purchase link(s)
2024-03-04T14:55:07.5486806Z       given 1 Purchase on 2024-03-02  (unless 'All Time'), 4 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T14:55:07.5490378Z         filtering to 'Yesterday'
2024-03-04T14:55:09.0107867Z           shows correct 3 Recent Purchase link(s)
2024-03-04T14:55:09.0109640Z       given 1 Purchase on 2024-02-03  (unless 'All Time'), 2 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T14:55:09.0110848Z         filtering to 'Last 30 Days'
2024-03-04T14:55:10.4045701Z           shows correct 2 Recent Purchase link(s)
2024-03-04T14:55:10.4047460Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T14:55:10.4048908Z         filtering to 'Last Month'
2024-03-04T14:55:11.8990470Z           shows correct 3 Recent Purchase link(s)
2024-03-04T14:55:11.8992382Z       given 1 Purchase on 2024-02-29  (unless 'All Time'), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T14:55:11.8993641Z         filtering to 'This Month'
2024-03-04T14:55:13.2887839Z           shows correct 2 Recent Purchase link(s)
2024-03-04T14:55:13.2888624Z     Signage
2024-03-04T14:55:16.1756807Z       shows their organization name unless they have a logo set
2024-03-04T14:55:16.1757522Z 
2024-03-04T14:55:16.1763563Z Kit management
2024-03-04T14:55:17.0899661Z   can create a new kit as a user with the proper quantity
2024-03-04T14:55:17.6710273Z   should not display inactive storage locations under allocations
2024-03-04T14:55:19.1133901Z   can allocate and deallocate quantity per storage location from kit index
2024-03-04T14:55:19.1134938Z   when there is no kit quantity
2024-03-04T14:55:20.2572010Z     will not change quantity amounts when deallocating
2024-03-04T14:55:20.2573051Z   when there is not enough quantity of the items contained in the kit on-hand
2024-03-04T14:55:21.3968593Z     will not change quantity amounts when allocating
2024-03-04T14:55:21.3969465Z 
2024-03-04T14:55:21.3969857Z Purchases
2024-03-04T14:55:21.3971478Z   while signed in as a normal user
2024-03-04T14:55:21.3972606Z     When visiting an existing purchase
2024-03-04T14:55:21.8695126Z       does not allow deletion of a purchase
2024-03-04T14:55:21.8695897Z     When visiting the index page
2024-03-04T14:55:21.8697492Z       When filtering on the index page
2024-03-04T14:55:22.6794417Z         User can filter the #index by storage location
2024-03-04T14:55:23.4972181Z         User can filter the #index by vendor
2024-03-04T14:55:23.4973247Z         behaves like Date Range Picker
2024-03-04T14:55:23.4974348Z           when choosing 'Last Month'
2024-03-04T14:55:24.4404586Z             shows only 2 of the records
2024-03-04T14:55:24.4405312Z           when choosing a date range that only includes the previous week
2024-03-04T14:55:25.3551400Z             shows only 1 record
2024-03-04T14:55:25.3552664Z           when choosing 'All Time'
2024-03-04T14:55:26.3106233Z             shows all the records
2024-03-04T14:55:26.3108539Z       In the middle of the year
2024-03-04T14:55:27.0626308Z         User sees total purchases value
2024-03-04T14:55:27.7979129Z         User sees purchased date column
2024-03-04T14:55:28.6063729Z         User can click to the new purchase form
2024-03-04T14:55:28.6064623Z     When creating a new purchase
2024-03-04T14:55:29.0904453Z       should not display inactive storage locations in dropdown
2024-03-04T14:55:29.0905474Z       via manual entry
2024-03-04T14:55:30.2666808Z         multiple line items for the same item type are accepted and combined on the backend
2024-03-04T14:55:31.2590140Z         Does not include inactive items in the line item fields
2024-03-04T14:55:32.3375754Z         User can create a purchase IN THE PAST
2024-03-04T14:55:33.3755067Z         User can create vendor from purchase
2024-03-04T14:55:34.2474194Z         User can create a purchase using dollars decimal amount
2024-03-04T14:55:34.2475231Z         when creating a purchase incorrectly
2024-03-04T14:55:35.2153398Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-03-04T14:55:36.0128827Z           should display failure with error messages
2024-03-04T14:55:36.0129699Z       via barcode entry
2024-03-04T14:55:36.7358488Z         a user can add items via scanning them in by barcode
2024-03-04T14:55:37.6395170Z         User scan same barcode 2 times
2024-03-04T14:55:38.8541447Z         a user can add items that do not yet have a barcode
2024-03-04T14:55:38.8542061Z       Editing purchase
2024-03-04T14:55:39.3596992Z         A user can see purchased_from value
2024-03-04T14:55:39.9950022Z         A user can view another organizations purchase
2024-03-04T14:55:39.9953377Z   while signed in as an organization admin
2024-03-04T14:55:40.8251464Z     allows deletion of a purchase
2024-03-04T14:55:40.8252303Z 
2024-03-04T14:55:40.8252553Z /partners/profiles
2024-03-04T14:55:40.8254793Z   PUT #update
2024-03-04T14:55:40.8849716Z     updates the partner and profile
2024-03-04T14:55:40.8850348Z     when updating an existing value to a blank value
2024-03-04T14:55:40.9342974Z       does not update other partner profile attributes to blank
2024-03-04T14:55:40.9824837Z       does store N/A in the database
2024-03-04T14:55:41.0309833Z       updates the partner profile attribute to a blank value
2024-03-04T14:55:41.0310766Z     with no social media
2024-03-04T14:55:41.1336640Z       shows an error
2024-03-04T14:55:41.1338198Z   GET #edit
2024-03-04T14:55:41.2289005Z     has "Yes" radio button value when value is true
2024-03-04T14:55:41.3115498Z     displays the partner
2024-03-04T14:55:41.3980474Z     does not have default radio button value when value is nil
2024-03-04T14:55:41.4839207Z     has "No" radio button value when value is false
2024-03-04T14:55:41.4839760Z   GET #show
2024-03-04T14:55:41.5435994Z     shows correct values for yes/no buttons
2024-03-04T14:55:41.5921893Z     displays the partner
2024-03-04T14:55:41.5923022Z 
2024-03-04T14:55:41.5923293Z Managing requests
2024-03-04T14:55:41.5924950Z   creating a new quantity request
2024-03-04T14:55:41.5925792Z     GIVEN a partner user is permitted to make a request
2024-03-04T14:55:41.5927129Z       WHEN they create a request completely empty request
2024-03-04T14:55:42.4844080Z         should show an error message with the instructions
2024-03-04T14:55:42.4844763Z       WHEN they create a request properly
2024-03-04T14:55:42.4845825Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-03-04T14:55:44.6823639Z           AND the partner_user can view the details of the created request in a seperate page
2024-03-04T14:55:44.6824601Z       Select Input Tests
2024-03-04T14:55:44.6825272Z         WHEN they reach the page
2024-03-04T14:55:45.5168313Z           should show the proper items in the select box
2024-03-04T14:55:45.5169468Z           WHEN they create a request improperly
2024-03-04T14:55:46.8280532Z             should show the proper items in the select box
2024-03-04T14:55:46.8281542Z       WHEN they create a request with blank lines
2024-03-04T14:55:48.1875490Z         should be created without any issue
2024-03-04T14:55:48.1876309Z       WHEN they create a request with only a comment
2024-03-04T14:55:49.1238950Z         should be created without any issue
2024-03-04T14:55:49.1240021Z   creating a # individuals request
2024-03-04T14:55:49.1241266Z     GIVEN a partner user is permitted to make a request
2024-03-04T14:55:49.1243446Z       WHEN they create a request with only a comment
2024-03-04T14:55:50.0573760Z         should be created without any issue
2024-03-04T14:55:50.0574901Z       WHEN they create a request improperly by not inputting anything
2024-03-04T14:55:50.9402745Z         should show an error message with the instructions
2024-03-04T14:55:50.9403652Z       Select Input Tests
2024-03-04T14:55:50.9404559Z         WHEN they reach the page
2024-03-04T14:55:51.7992112Z           should show the proper items in the select box
2024-03-04T14:55:51.7993245Z           WHEN they create a request improperly
2024-03-04T14:55:53.1100844Z             should show the proper items in the select box
2024-03-04T14:55:53.1102055Z       WHEN they create a request with blank lines
2024-03-04T14:55:54.4648485Z         should be created without any issue
2024-03-04T14:55:54.4649671Z       WHEN they create a request completely empty request
2024-03-04T14:55:55.3589730Z         should show an error message with the instructions
2024-03-04T14:55:55.3590947Z       WHEN they create a request properly
2024-03-04T14:55:55.3592211Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-03-04T14:55:57.4316379Z           AND the partner_user can view the details of the created individuals request in a seperate page
2024-03-04T14:55:57.4317481Z 
2024-03-04T14:55:57.4319277Z User account management
2024-03-04T14:55:57.4319847Z   when in staging
2024-03-04T14:55:57.8971690Z     should not allow the user to change staging credentials
2024-03-04T14:55:58.3512561Z     should display staging warning
2024-03-04T14:55:58.3513171Z   when not in staging
2024-03-04T14:55:59.2237440Z     should change the email
2024-03-04T14:56:00.0886139Z     should change an user name
2024-03-04T14:56:00.8458265Z     should fail when the email is invalid
2024-03-04T14:56:00.8458924Z 
2024-03-04T14:56:00.8460832Z Vendor
2024-03-04T14:56:00.8461805Z   When a user views the index page
2024-03-04T14:56:01.3208486Z     should have the vendor names in alphabetical order
2024-03-04T14:56:01.3209578Z   When vendor have purchases associated with them already
2024-03-04T14:56:01.9108312Z     can have existing vendors show in the #index with some summary stats
2024-03-04T14:56:02.5170470Z     can have a single vendor show semi-detailed stats about purchases
2024-03-04T14:56:02.5171510Z   when editing an existing vendor
2024-03-04T14:56:03.2616424Z     can update the contact info for a vendor as a user
2024-03-04T14:56:04.1034301Z     does not update a vendor with empty attributes
2024-03-04T14:56:04.1035264Z   when creating a new vendor
2024-03-04T14:56:04.8295211Z     cannot add a new vendor instance with empty attributes
2024-03-04T14:56:05.5976740Z     can create a new vendor instance as a user
2024-03-04T14:56:05.5978103Z 
2024-03-04T14:56:05.5978512Z StorageLocations
2024-03-04T14:56:05.5979824Z   While not signed in
2024-03-04T14:56:05.6055738Z     redirects the user to the sign-in page for CRUD actions
2024-03-04T14:56:05.6056662Z   While signed in
2024-03-04T14:56:05.6057427Z     Looking at a different organization
2024-03-04T14:56:05.7764262Z       redirects the user to the sign-in page for CRUD actions
2024-03-04T14:56:05.7764871Z     PUT #deactivate
2024-03-04T14:56:05.7971587Z       discards
2024-03-04T14:56:05.7972174Z       with inventory
2024-03-04T14:56:05.8456783Z         does not discard
2024-03-04T14:56:05.8457785Z     POST #import_csv
2024-03-04T14:56:05.8458709Z       with a csv file
2024-03-04T14:56:05.8612055Z         presents a flash notice message
2024-03-04T14:56:05.8748407Z         redirects
2024-03-04T14:56:05.8796738Z         invokes .import_csv
2024-03-04T14:56:05.8797557Z       csv file with wrong headers
2024-03-04T14:56:05.8911604Z         redirects
2024-03-04T14:56:05.9024388Z         presents a flash error message
2024-03-04T14:56:05.9025108Z       without a csv file
2024-03-04T14:56:05.9129746Z         redirects to :index
2024-03-04T14:56:05.9236973Z         presents a flash error message
2024-03-04T14:56:05.9238052Z     GET #index
2024-03-04T14:56:05.9238574Z       html
2024-03-04T14:56:05.9584193Z         succeeds
2024-03-04T14:56:05.9584733Z         with inactive locations
2024-03-04T14:56:05.9924842Z           does not includes the inactive location
2024-03-04T14:56:06.0130665Z           with include_inactive_locations
2024-03-04T14:56:06.0311682Z             includes the inactive location
2024-03-04T14:56:06.0312568Z       csv
2024-03-04T14:56:06.1360791Z         includes headers followed by alphabetized item names
2024-03-04T14:56:06.1543455Z         succeeds
2024-03-04T14:56:06.1544062Z     GET #new
2024-03-04T14:56:06.5915811Z       returns http success
2024-03-04T14:56:06.5916452Z     GET #destroy
2024-03-04T14:56:06.6207438Z       redirects to #index
2024-03-04T14:56:06.6207920Z     GET #show
2024-03-04T14:56:06.6208754Z       html
2024-03-04T14:56:06.6878718Z         should return a correct response
2024-03-04T14:56:06.6879486Z         with version date set
2024-03-04T14:56:06.6880001Z           with no version found
2024-03-04T14:56:06.7568774Z             should show N/A
2024-03-04T14:56:06.7569422Z           with a version found
2024-03-04T14:56:06.8337116Z             should show the version specified
2024-03-04T14:56:06.8338123Z       csv
2024-03-04T14:56:06.8846197Z         should be successful
2024-03-04T14:56:06.8846876Z     GET #edit
2024-03-04T14:56:06.9181967Z       returns http success
2024-03-04T14:56:06.9182592Z     PUT #reactivate
2024-03-04T14:56:06.9336592Z       undiscards
2024-03-04T14:56:06.9337009Z     GET #inventory
2024-03-04T14:56:06.9338251Z       when also including omitted items
2024-03-04T14:56:06.9807383Z         returns a collection that also includes all items, but with zeroed quantities
2024-03-04T14:56:07.0261176Z         contains a collection of ducktyped entries that respond the same
2024-03-04T14:56:07.0261721Z       when also including inactive items
2024-03-04T14:56:07.0893027Z         returns a collection that also includes items that have been deactivated
2024-03-04T14:56:07.0893960Z       without any overrides
2024-03-04T14:56:07.1389836Z         returns a collection that only includes items at the storage location
2024-03-04T14:56:07.1391052Z 
2024-03-04T14:56:07.1391216Z Profiles
2024-03-04T14:56:07.1392223Z   POST #update
2024-03-04T14:56:07.1393328Z     when updating an existing value to a blank value
2024-03-04T14:56:07.1806038Z       should have blank values
2024-03-04T14:56:07.2321398Z       update partner
2024-03-04T14:56:07.2321906Z     successful save
2024-03-04T14:56:07.2717596Z       redirects to #show
2024-03-04T14:56:07.3130927Z       update partner
2024-03-04T14:56:07.3131757Z   GET #edit
2024-03-04T14:56:07.4020374Z     returns http success
2024-03-04T14:56:07.4279770Z W, [2024-03-04T06:56:07.427727 #2471]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-04T14:56:07.4281241Z W, [2024-03-04T06:56:07.427777 #2471]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-04T14:56:07.4283943Z W, [2024-03-04T06:56:07.427796 #2471]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-04T14:56:07.4286643Z W, [2024-03-04T06:56:07.427824 #2471]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-04T14:56:07.4287808Z 
2024-03-04T14:56:07.4288199Z Finished in 3 minutes 43.3 seconds (files took 8.01 seconds to load)
2024-03-04T14:56:07.4288965Z 233 examples, 0 failures
2024-03-04T14:56:07.4290803Z 
2024-03-04T14:56:07.4292073Z Randomized with seed 56710
2024-03-04T14:56:07.4293317Z 
2024-03-04T14:56:07.7222815Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3874 / 6467 LOC (59.9%) covered.
2024-03-04T14:56:08.2300954Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10748 LOC (0.35%) covered.
