2024-02-25T15:12:53.8396268Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-02-25T15:12:53.8397197Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-02-25T15:12:53.8426613Z shell: /usr/bin/bash -e {0}
2024-02-25T15:12:53.8427122Z env:
2024-02-25T15:12:53.8427466Z   POSTGRES_HOST: localhost
2024-02-25T15:12:53.8427916Z   DATABASE_HOST: localhost
2024-02-25T15:12:53.8428379Z   PG_USERNAME: postgres
2024-02-25T15:12:53.8428787Z   PG_PASSWORD: password
2024-02-25T15:12:53.8429151Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-02-25T15:12:53.8429649Z   POSTGRES_PORT: 5432
2024-02-25T15:12:53.8430039Z   PGHOST: localhost
2024-02-25T15:12:53.8430451Z   PGUSER: postgres
2024-02-25T15:12:53.8430803Z   RAILS_ENV: test
2024-02-25T15:12:53.8431424Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: ***
2024-02-25T15:12:53.8431972Z   KNAPSACK_PRO_CI_NODE_TOTAL: 2
2024-02-25T15:12:53.8432429Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-02-25T15:12:53.8432872Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-02-25T15:12:53.8433566Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-02-25T15:12:53.8434253Z   KNAPSACK_PRO_TEST_FILE_EXCLUDE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-02-25T15:12:53.8434991Z   EVENTS_READ: true
2024-02-25T15:12:53.8435364Z ##[endgroup]
2024-02-25T15:13:03.5321090Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/models/organization_spec.rb" "spec/queries/low_inventory_query_spec.rb" "spec/services/partner_create_service_spec.rb" "spec/models/audit_spec.rb" "spec/models/storage_location_spec.rb" "spec/services/reports/adult_incontinence_report_service_spec.rb" "spec/services/transfer_destroy_service_spec.rb" "spec/services/add_role_service_spec.rb" "spec/models/item_spec.rb" "spec/models/view/inventory_spec.rb" "spec/services/reports/warehouse_report_service_spec.rb" "spec/controllers/items_controller_spec.rb" "spec/models/adjustment_spec.rb" "spec/controllers/application_controller_spec.rb" "spec/models/donation_spec.rb" "spec/services/reports/other_products_report_service_spec.rb" "spec/services/adjustment_create_service_spec.rb" "spec/services/distribution_itemized_breakdown_service_spec.rb" "spec/models/manufacturer_spec.rb" "spec/controllers/donations_controller_spec.rb" "spec/controllers/distributions_controller_spec.rb" "spec/services/itemizable_update_service_spec.rb" "spec/controllers/donation_sites_controller_spec.rb" "spec/services/user_invite_service_spec.rb" "spec/models/event_spec.rb" "spec/services/distribution_update_service_spec.rb" "spec/controllers/transfers_controller_spec.rb" "spec/services/donation_itemized_breakdown_service_spec.rb" "spec/jobs/historical_data_cache_job_spec.rb" "spec/services/partners/fetch_partners_to_remind_now_service_spec.rb" "spec/models/line_item_spec.rb" "spec/models/vendor_spec.rb" "spec/services/partner_request_recertification_service_spec.rb" "spec/services/partners/family_request_create_service_spec.rb" "spec/models/donation_site_spec.rb" "spec/models/user_spec.rb" "spec/services/partner_profile_update_service_spec.rb" "spec/services/inventory_check_service_spec.rb" "spec/mailers/custom_devise_mailer_spec.rb" "spec/pdfs/distribution_pdf_spec.rb" "spec/services/exports/export_purchases_csv_service_spec.rb" "spec/mailers/partner_mailer_spec.rb" "spec/services/partner_fetch_requestable_items_service_spec.rb" "spec/services/partner_invite_service_spec.rb" "spec/models/partner_group_spec.rb" "spec/mailers/organization_mailer_spec.rb" "spec/mailers/requests_confirmation_mailer_spec.rb" "spec/services/sync_ndbn_members_spec.rb" "spec/models/item_category_spec.rb" "spec/models/inventory_item_spec.rb" "spec/models/partners/served_area_spec.rb" "spec/models/base_item_spec.rb" "spec/models/partners/child_spec.rb" "spec/services/deadline_service_spec.rb" "spec/models/partners/item_request_spec.rb" "spec/models/ndbn_member_spec.rb" "spec/services/profile_update_service_spec.rb" "spec/services/text_interpolator_service_spec.rb" "spec/models/role_spec.rb" "spec/controllers/help_controller_spec.rb" "spec/services/distribution_content_change_service_spec.rb" "spec/models/kit_allocation_spec.rb" "spec/lib/dispersed_past_dates_generator_spec.rb" "spec/models/county_spec.rb" "spec/services/service_object_errors_mixin_spec.rb" "spec/controllers/admins_controller_spec.rb"
2024-02-25T15:13:12.0344652Z 
2024-02-25T15:13:12.0345447Z Randomized with seed 42753
2024-02-25T15:13:12.8240656Z 
2024-02-25T15:13:12.8241380Z PartnerFetchRequestableItemsService
2024-02-25T15:13:12.8242127Z   #call
2024-02-25T15:13:12.8243749Z     when the partner is in a partner group
2024-02-25T15:13:12.8906763Z       should return all active and visible items specified by the item associated with
2024-02-25T15:13:12.8907764Z     when the partner id does not match any Partner
2024-02-25T15:13:12.8962735Z       raise an error indiciating the partner does not exist
2024-02-25T15:13:12.9224502Z     when the partner is not in any partner group
2024-02-25T15:13:12.9225525Z       should return all active and visible items
2024-02-25T15:13:12.9226749Z 
2024-02-25T15:13:12.9226988Z LineItem
2024-02-25T15:13:12.9227541Z   Methods >
2024-02-25T15:13:12.9228295Z     #value_per_line_item
2024-02-25T15:13:12.9229360Z       item has value and quantity
2024-02-25T15:13:12.9650306Z         is expected to eq 25
2024-02-25T15:13:12.9651292Z       item has no value
2024-02-25T15:13:12.9787505Z         is expected to eq 0
2024-02-25T15:13:12.9788358Z     item packages
2024-02-25T15:13:12.9789061Z       #package_count
2024-02-25T15:13:12.9790074Z         does not have packages
2024-02-25T15:13:12.9922582Z           is expected to be falsy
2024-02-25T15:13:12.9923530Z         has packages
2024-02-25T15:13:13.0103491Z           is expected to eq "1"
2024-02-25T15:13:13.0104366Z       #has_packages
2024-02-25T15:13:13.0104910Z         item has no package size
2024-02-25T15:13:13.0238667Z           is expected to be falsy
2024-02-25T15:13:13.0239591Z         item has package size
2024-02-25T15:13:13.0419061Z           is expected to be truthy
2024-02-25T15:13:13.0419829Z   package_count
2024-02-25T15:13:13.1006452Z     is nil if there is no package_size
2024-02-25T15:13:13.1213500Z     is equal to the quanity divided by the package_size
2024-02-25T15:13:13.1214356Z   Scopes >
2024-02-25T15:13:13.1215093Z     ->active
2024-02-25T15:13:13.1546315Z       retrieves only those with active status
2024-02-25T15:13:13.1546882Z   Validations >
2024-02-25T15:13:13.1693916Z     requires a quantity
2024-02-25T15:13:13.2538806Z     the quantity must be a valid integer and cannot be 0
2024-02-25T15:13:13.2628481Z     requires an item
2024-02-25T15:13:13.2629037Z   versioning
2024-02-25T15:13:13.2665274Z     is expected to be versioned
2024-02-25T15:13:13.2665932Z 
2024-02-25T15:13:13.2666328Z DistributionUpdateService
2024-02-25T15:13:13.2667394Z   call
2024-02-25T15:13:13.4019787Z     replaces a big distribution with a smaller one, resulting in increased stored quantities
2024-02-25T15:13:13.4021043Z   resend_notification?
2024-02-25T15:13:13.4944706Z     changes the delivery_method, resulting in resend_notification? = true
2024-02-25T15:13:13.5868230Z     changes the issue_date, resulting in resend_notification? = true
2024-02-25T15:13:13.6888485Z     changes any distribution content, resulting in resend_notification? = true
2024-02-25T15:13:13.6889323Z 
2024-02-25T15:13:13.6889560Z ItemizableUpdateService
2024-02-25T15:13:13.6890139Z   increases
2024-02-25T15:13:13.8401181Z     should update quantity in same storage location
2024-02-25T15:13:13.9852820Z     should update quantity in different locations
2024-02-25T15:13:13.9853716Z   decreases
2024-02-25T15:13:14.1422843Z     should update quantity in different locations
2024-02-25T15:13:14.2871314Z     should update quantity in same storage location
2024-02-25T15:13:14.2872175Z 
2024-02-25T15:13:14.2872447Z ProfileUpdateService
2024-02-25T15:13:14.2873095Z   #update
2024-02-25T15:13:14.3154369Z     updates the profile with the filtered and prepared params
2024-02-25T15:13:14.3155293Z 
2024-02-25T15:13:14.3155555Z DonationItemizedBreakdownService
2024-02-25T15:13:14.3156226Z   #fetch
2024-02-25T15:13:14.7005368Z     return the list of items donated with distributed
2024-02-25T15:13:14.7006105Z 
2024-02-25T15:13:14.7006367Z Partners::Child
2024-02-25T15:13:14.7007229Z   versioning
2024-02-25T15:13:14.7125833Z     is expected to be versioned
2024-02-25T15:13:14.7126621Z   #display_name
2024-02-25T15:13:14.7567045Z     should return a child's first and last name
2024-02-25T15:13:14.7567616Z   associations
2024-02-25T15:13:14.7612230Z     is expected to belong to family required: true
2024-02-25T15:13:14.7658633Z     is expected to have many child_item_requests dependent => destroy
2024-02-25T15:13:14.7659354Z 
2024-02-25T15:13:14.7659541Z DistributionPdf
2024-02-25T15:13:14.8298215Z   #non_request_data
2024-02-25T15:13:14.9031292Z   #request_data
2024-02-25T15:13:14.9031730Z 
2024-02-25T15:13:14.9032014Z DeadlineService
2024-02-25T15:13:14.9032805Z   #next_deadline
2024-02-25T15:13:14.9034283Z     from the organization
2024-02-25T15:13:14.9035165Z       when the deadline is after today
2024-02-25T15:13:14.9100363Z         returns a date within the current month
2024-02-25T15:13:14.9101259Z       when the deadline is before today
2024-02-25T15:13:14.9157157Z         returns a date in the next month
2024-02-25T15:13:14.9158216Z       when the deadline is today
2024-02-25T15:13:14.9212727Z         returns a date in the next month
2024-02-25T15:13:14.9213570Z     do from the partner group
2024-02-25T15:13:14.9214504Z       when the deadline is today
2024-02-25T15:13:14.9271447Z         returns a date in the next month
2024-02-25T15:13:14.9272322Z       when the deadline is before today
2024-02-25T15:13:14.9325545Z         returns a date in the next month
2024-02-25T15:13:14.9328958Z       when the deadline is after today
2024-02-25T15:13:14.9382879Z         returns a date within the current month
2024-02-25T15:13:14.9383950Z 
2024-02-25T15:13:14.9384246Z PartnerCreateService
2024-02-25T15:13:14.9385290Z   #call
2024-02-25T15:13:15.1237415Z     should return an instance of itself
2024-02-25T15:13:15.1238570Z     when the arguments are incorrect
2024-02-25T15:13:15.1239366Z       beacuse the partner_attrs are invalid
2024-02-25T15:13:15.3038448Z         should contain errors related to invalid partner attributes
2024-02-25T15:13:15.3039703Z     when the arguments are valid
2024-02-25T15:13:15.4886948Z       should create the associated partner profile data
2024-02-25T15:13:15.6674008Z       should create a new partner record with the organization provided
2024-02-25T15:13:15.6675172Z       but there was an unexpected issue with saving the
2024-02-25T15:13:15.6675997Z         Partner record
2024-02-25T15:13:15.8514826Z           should not create the associated partner records
2024-02-25T15:13:16.0316957Z           should not create the partner record for the organization
2024-02-25T15:13:16.0317723Z         Partners::Profile record
2024-02-25T15:13:16.2108691Z           should not create the associated partner records
2024-02-25T15:13:16.3905979Z           should not create the partner record for the organization
2024-02-25T15:13:16.3906854Z 
2024-02-25T15:13:16.3907122Z OrganizationMailer
2024-02-25T15:13:16.3907927Z   #partner_approval_request
2024-02-25T15:13:16.4201547Z     should be sent to the partner main email with the correct subject line
2024-02-25T15:13:16.4484669Z     includes a link to the relevant partner
2024-02-25T15:13:16.4733354Z     renders the body with correct text with partner information
2024-02-25T15:13:16.4734136Z 
2024-02-25T15:13:16.4734715Z LowInventoryQuery
2024-02-25T15:13:16.6455546Z   is expected to eq []
2024-02-25T15:13:16.6456211Z   with inventory items
2024-02-25T15:13:16.8302427Z     is expected to eq []
2024-02-25T15:13:16.8303367Z     when inventory quantity drops below recommended quantity
2024-02-25T15:13:17.0101871Z       is expected to include #<InventoryItem id: 28, storage_location_id: 50, item_id: 630, quantity: 100, created_at: "2024-02-25 07:13:17.005444410 -0800", updated_at: "2024-02-25 07:13:17.005444410 -0800">
2024-02-25T15:13:17.0104086Z     when minimum_quantity is equal to quantity
2024-02-25T15:13:17.1938219Z       is expected to eq []
2024-02-25T15:13:17.1939180Z     when minimum_quantity and recommended_quantity is nil
2024-02-25T15:13:17.3793137Z       is expected to eq []
2024-02-25T15:13:17.3794048Z     when inventory quantity equals recommended quantity
2024-02-25T15:13:17.5624988Z       is expected to eq []
2024-02-25T15:13:17.5626215Z     when inventory quantity drops below minimum quantity
2024-02-25T15:13:17.7387656Z       is expected to include #<InventoryItem id: 32, storage_location_id: 54, item_id: 814, quantity: 100, created_at: "2024-02-25 07:13:17.734596480 -0800", updated_at: "2024-02-25 07:13:17.734596480 -0800">
2024-02-25T15:13:17.7389263Z     when inventory quantity is over minimum quantity
2024-02-25T15:13:17.9220085Z       is expected to eq []
2024-02-25T15:13:17.9221526Z     when minimum_quantity is 0 and recommended_quantity is nil and item quantity is 0
2024-02-25T15:13:18.1039450Z       is expected to eq []
2024-02-25T15:13:18.1040457Z 
2024-02-25T15:13:18.1041043Z DistributionContentChangeService
2024-02-25T15:13:18.1042208Z   #any_change?
2024-02-25T15:13:18.1044084Z     when there are no changes in the line items
2024-02-25T15:13:18.1086475Z       returns true
2024-02-25T15:13:18.1087024Z     when there are line items removed and updated
2024-02-25T15:13:18.1125439Z       returns true
2024-02-25T15:13:18.1126046Z     when there are line items removed
2024-02-25T15:13:18.1161143Z       returns true
2024-02-25T15:13:18.1161727Z     when there are line items updated
2024-02-25T15:13:18.1198450Z       returns true
2024-02-25T15:13:18.1199000Z   #changes
2024-02-25T15:13:18.1200026Z     when there are line items removed and updated
2024-02-25T15:13:18.1237629Z       returns true
2024-02-25T15:13:18.1238498Z 
2024-02-25T15:13:18.1238753Z Reports::WarehouseReportService
2024-02-25T15:13:18.1239726Z   #report
2024-02-25T15:13:18.4823745Z     should print normal values
2024-02-25T15:13:18.6596660Z     should print unknown square footage
2024-02-25T15:13:18.8360531Z     should print zero values
2024-02-25T15:13:19.1896922Z     should print unknown warehouse type
2024-02-25T15:13:19.1897611Z 
2024-02-25T15:13:19.1897902Z HistoricalDataCacheJob
2024-02-25T15:13:19.3600831Z   queues the job
2024-02-25T15:13:19.5440291Z   caches the historical data
2024-02-25T15:13:19.5440822Z 
2024-02-25T15:13:19.5441078Z InventoryCheckService
2024-02-25T15:13:19.5441974Z   call
2024-02-25T15:13:19.5443233Z     error
2024-02-25T15:13:19.6191001Z       should set the error
2024-02-25T15:13:19.6191750Z     alert
2024-02-25T15:13:19.6931091Z       should set the alert
2024-02-25T15:13:19.6931972Z 
2024-02-25T15:13:19.6932292Z ApplicationController
2024-02-25T15:13:19.6933745Z   current_partner
2024-02-25T15:13:19.6934819Z     As an org user
2024-02-25T15:13:19.7160449Z       should return nil
2024-02-25T15:13:19.7161134Z     As a partner user
2024-02-25T15:13:19.7723454Z       should return the first partner role
2024-02-25T15:13:19.7724142Z       with a changed current role
2024-02-25T15:13:19.8265977Z         should return the first partner role
2024-02-25T15:13:19.8266953Z   current_organization
2024-02-25T15:13:19.8267622Z     As an org user
2024-02-25T15:13:20.1826496Z       should return the first org role
2024-02-25T15:13:20.1827404Z       with a changed current role
2024-02-25T15:13:20.5357937Z         should return the first org role
2024-02-25T15:13:20.5359205Z     As a partner user
2024-02-25T15:13:20.5511426Z       should return nil
2024-02-25T15:13:20.5512163Z   dashboard_path_from_current_role
2024-02-25T15:13:20.5513473Z     As a super admin
2024-02-25T15:13:20.5716594Z       links to the admin dashboard
2024-02-25T15:13:20.5717629Z     As a user without super admin status
2024-02-25T15:13:20.5907014Z       links to the general dashboard
2024-02-25T15:13:20.5907806Z 
2024-02-25T15:13:20.5908243Z Exports::ExportPurchasesCSVService
2024-02-25T15:13:20.5909151Z   #generate_csv_data
2024-02-25T15:13:20.7081683Z     should match the expected content for the csv
2024-02-25T15:13:20.7082916Z 
2024-02-25T15:13:20.7083115Z County
2024-02-25T15:13:20.7172451Z   is expected to have many served_areas
2024-02-25T15:13:20.7173198Z   versioning
2024-02-25T15:13:20.7208393Z     is expected to be versioned
2024-02-25T15:13:20.7211284Z 
2024-02-25T15:13:20.7211664Z Item
2024-02-25T15:13:20.7213186Z   Methods >
2024-02-25T15:13:20.7214497Z     has_history?
2024-02-25T15:13:20.8023536Z       identifies items that have been used previously
2024-02-25T15:13:20.8024496Z     barcoded_items >
2024-02-25T15:13:20.8381054Z       returns a collection of items that have barcodes associated with them
2024-02-25T15:13:20.8381796Z     #reactivate!
2024-02-25T15:13:20.8382410Z       given a single item id
2024-02-25T15:13:20.8516580Z         sets the active trait to true for that item
2024-02-25T15:13:20.8517708Z       given an array of item ids
2024-02-25T15:13:20.8740350Z         sets the active trait to true for all of them
2024-02-25T15:13:20.8742620Z     barcodes_for
2024-02-25T15:13:20.8951246Z       retrieves all BarcodeItems associated with an item
2024-02-25T15:13:20.8951837Z     other?
2024-02-25T15:13:20.9075703Z       is true for items that are partner_key 'other'
2024-02-25T15:13:20.9076769Z     storage_locations_containing
2024-02-25T15:13:20.9436156Z       retrieves all storage locations that contain an item
2024-02-25T15:13:20.9437226Z     destroy
2024-02-25T15:13:20.9671588Z       only hides an item that has history
2024-02-25T15:13:21.1867549Z       deactivates the kit if it exists
2024-02-25T15:13:21.2061572Z       actually destroys an item that doesn't have history
2024-02-25T15:13:21.2062237Z   Filtering >
2024-02-25T15:13:21.2115583Z     can filter
2024-02-25T15:13:21.2331935Z     ->by_size returns all items with the same size, per their BaseItem parent
2024-02-25T15:13:21.2601120Z     ->active shows items that are still active
2024-02-25T15:13:21.2789538Z     ->alphabetized retrieves items in alphabetical order
2024-02-25T15:13:21.2790601Z     ->cloth_diapers
2024-02-25T15:13:21.3076042Z       returns records associated with disposable diapers
2024-02-25T15:13:21.3077096Z     ->disposable
2024-02-25T15:13:21.3359689Z       returns records associated with disposable diapers
2024-02-25T15:13:21.3360870Z     ->by_base_item
2024-02-25T15:13:21.3525622Z       shows the items for a particular base_item
2024-02-25T15:13:21.5497686Z       can be chained to organization to constrain it to just 1 org's items
2024-02-25T15:13:21.5499228Z     ->by_partner_key
2024-02-25T15:13:21.5674109Z       filters by partner key
2024-02-25T15:13:21.5674771Z   Validations >
2024-02-25T15:13:21.5736938Z     must belong to an organization
2024-02-25T15:13:21.5789827Z     requires a Base Item base
2024-02-25T15:13:21.5927196Z     requires a unique name
2024-02-25T15:13:21.6047186Z     requires that items quantity are not a negative number
2024-02-25T15:13:21.6048298Z   after update
2024-02-25T15:13:21.6048995Z     when item does not have kit
2024-02-25T15:13:21.6180842Z       does not raise any errors
2024-02-25T15:13:21.6181783Z     when item has the kit
2024-02-25T15:13:21.8149657Z       updates kit name
2024-02-25T15:13:21.8150234Z   distribution_quantity and package size
2024-02-25T15:13:21.8282153Z     have nil values if an empty string is passed
2024-02-25T15:13:21.8283170Z   Assocations >
2024-02-25T15:13:21.8330821Z     is expected to belong to item_category optional: true
2024-02-25T15:13:21.8331626Z   versioning
2024-02-25T15:13:21.8364728Z     is expected to be versioned
2024-02-25T15:13:21.8365576Z   default_quantity
2024-02-25T15:13:21.8444593Z     should return the value of distribution_quantity if it is set
2024-02-25T15:13:21.8527165Z     should return 50 if column is not set
2024-02-25T15:13:21.8609805Z     should return the value of on_hand_minimum_quantity if it is set
2024-02-25T15:13:21.8692746Z     should return 0 if on_hand_minimum_quantity is not set
2024-02-25T15:13:21.8693737Z 
2024-02-25T15:13:21.8693991Z StorageLocation
2024-02-25T15:13:21.8695378Z   Methods >
2024-02-25T15:13:21.8697056Z     StorageLocation.items_inventoried
2024-02-25T15:13:21.9532608Z       returns a collection of items that are stored within inventories
2024-02-25T15:13:21.9533590Z     import_csv
2024-02-25T15:13:21.9656752Z       imports storage locations from a csv file
2024-02-25T15:13:21.9657683Z     csv_export_attributes
2024-02-25T15:13:22.0323345Z       returns an array of storage location attributes, followed by inventory item quantities that are sorted by alphabetized item names
2024-02-25T15:13:22.0324296Z     inventory_total_value_in_dollars
2024-02-25T15:13:22.0814905Z       returns total value of all items in this storage location
2024-02-25T15:13:22.1231030Z       returns a value including cents if the total isn't an even dollar amount
2024-02-25T15:13:22.1354716Z       returns 0 when there are no items in this storage location
2024-02-25T15:13:22.1355659Z     item_total
2024-02-25T15:13:22.1795514Z       retrieves the total for a single item
2024-02-25T15:13:22.1796618Z     increase_inventory
2024-02-25T15:13:22.1797319Z       when providing a new item that does not yet exist
2024-02-25T15:13:22.2985908Z         creates those new inventory items in the storage location
2024-02-25T15:13:22.2986620Z       With existing inventory
2024-02-25T15:13:22.4094667Z         increases inventory quantities from an itemizable object
2024-02-25T15:13:22.4095601Z       when increasing with an inactive item
2024-02-25T15:13:22.5296950Z         re-activates the item as part of the creation process
2024-02-25T15:13:22.5298159Z     size
2024-02-25T15:13:22.5764175Z       returns total quantity of all items in this storage location
2024-02-25T15:13:22.5766002Z     import_inventory
2024-02-25T15:13:22.9497593Z       imports storage locations from a csv file
2024-02-25T15:13:22.9498494Z     decrease_inventory
2024-02-25T15:13:23.0552024Z       decreases inventory quantities from an itemizable object
2024-02-25T15:13:23.0552857Z       when there is insufficient inventory available
2024-02-25T15:13:23.0640359Z         gives informative errors
2024-02-25T15:13:23.0718892Z         does not change inventory quantities if there is an error
2024-02-25T15:13:23.0719771Z     geocode
2024-02-25T15:13:23.0821433Z       adds coordinates to the database
2024-02-25T15:13:23.0822130Z   Filtering >
2024-02-25T15:13:23.0905104Z     ->active_locations yields only storage locations that haven't been discarded
2024-02-25T15:13:23.1584108Z     ->containing yields only inventories that have that item
2024-02-25T15:13:23.1585079Z   Callbacks >
2024-02-25T15:13:23.1585882Z     before_destroy
2024-02-25T15:13:23.1948083Z       does not delete storage locations with inventory items on it
2024-02-25T15:13:23.2648814Z       deletes storage locations with no inventory items on it
2024-02-25T15:13:23.2650017Z   Validations >
2024-02-25T15:13:23.2719635Z     is expected to validate that :name cannot be empty/falsy
2024-02-25T15:13:23.2782705Z     is expected to validate that :organization cannot be empty/falsy
2024-02-25T15:13:23.2845214Z     is expected to validate that :address cannot be empty/falsy
2024-02-25T15:13:23.2845858Z   versioning
2024-02-25T15:13:23.2881237Z     is expected to be versioned
2024-02-25T15:13:23.2882188Z 
2024-02-25T15:13:23.2882912Z Reports::OtherProductsReportService
2024-02-25T15:13:23.2887386Z   #report
2024-02-25T15:13:23.4765706Z     should report zero values
2024-02-25T15:13:24.0877505Z     should report normal values
2024-02-25T15:13:24.0878163Z 
2024-02-25T15:13:24.0878427Z Partners::ItemRequest
2024-02-25T15:13:24.0879323Z   validations
2024-02-25T15:13:24.1007932Z     is expected to validate that :partner_key cannot be empty/falsy
2024-02-25T15:13:24.1067748Z     is expected to validate that :quantity looks like an integer greater than or equal to 1
2024-02-25T15:13:24.1125685Z     is expected to validate that :name cannot be empty/falsy
2024-02-25T15:13:24.1186267Z     is expected to validate that :quantity cannot be empty/falsy
2024-02-25T15:13:24.1187299Z   associations
2024-02-25T15:13:24.1230140Z     is expected to belong to request class_name => ::Request required: true
2024-02-25T15:13:24.1265258Z     is expected to have many child_item_requests dependent => destroy
2024-02-25T15:13:24.1302648Z     is expected to have many children through child_item_requests
2024-02-25T15:13:24.1303588Z   versioning
2024-02-25T15:13:24.1339416Z     is expected to be versioned
2024-02-25T15:13:24.1340213Z 
2024-02-25T15:13:24.1340609Z PartnerProfileUpdateService
2024-02-25T15:13:24.1341566Z   #call
2024-02-25T15:13:24.1343059Z     when there are no pre-existing served areas
2024-02-25T15:13:24.1343916Z       and the new values are correct
2024-02-25T15:13:24.1625348Z         stores the new values and returns success
2024-02-25T15:13:24.1848903Z         and there are other errors in the profile
2024-02-25T15:13:24.1849960Z           does not store the new values and it returns a failure
2024-02-25T15:13:24.1851104Z       and the new values are incorrect
2024-02-25T15:13:24.2054922Z 0
2024-02-25T15:13:24.2063944Z         does not store the new values and returns a failure
2024-02-25T15:13:24.2065371Z     when served area client shares pre-exist
2024-02-25T15:13:24.2066233Z       and the new values are correct
2024-02-25T15:13:24.2067140Z         and there are no other errors
2024-02-25T15:13:24.2401580Z           replaces the old values and returns success
2024-02-25T15:13:24.2402768Z         and there are errors on the profile
2024-02-25T15:13:24.2716155Z           maintains the old values and returns failure
2024-02-25T15:13:24.2717130Z       and the new values are incorrect
2024-02-25T15:13:24.3017222Z         maintains the old values and returns failure
2024-02-25T15:13:24.3018034Z 
2024-02-25T15:13:24.3018825Z Partners::ServedArea
2024-02-25T15:13:24.3173079Z   must only allow integer client shares
2024-02-25T15:13:24.3438857Z   must only allow valid client share values
2024-02-25T15:13:24.3490272Z   is expected to belong to partner_profile required: true
2024-02-25T15:13:24.3537170Z   is expected to belong to county required: true
2024-02-25T15:13:24.3538193Z   versioning
2024-02-25T15:13:24.3580262Z     is expected to be versioned
2024-02-25T15:13:24.3580949Z 
2024-02-25T15:13:24.3581440Z PartnerGroup
2024-02-25T15:13:24.3582833Z   DB constraints
2024-02-25T15:13:24.3583821Z     deadline_day <= 28
2024-02-25T15:13:24.3659511Z       raises error if unmet
2024-02-25T15:13:24.3660452Z     send_reminders IS NOT NULL
2024-02-25T15:13:24.3729603Z       raises error if unmet
2024-02-25T15:13:24.3730485Z     reminder_day <= 28
2024-02-25T15:13:24.3798886Z       raises error if unmet
2024-02-25T15:13:24.3799594Z   versioning
2024-02-25T15:13:24.3835002Z     is expected to be versioned
2024-02-25T15:13:24.3835778Z   associations
2024-02-25T15:13:24.3874091Z     is expected to have many partners
2024-02-25T15:13:24.3922528Z     is expected to belong to organization required: true
2024-02-25T15:13:24.3982844Z     is expected to have and belong to many item_categories
2024-02-25T15:13:24.3983796Z   Validations >
2024-02-25T15:13:24.4075050Z     requires a unique name within an organization
2024-02-25T15:13:24.4117142Z     must belong to an organization
2024-02-25T15:13:24.4362492Z     does not require a unique name between organizations
2024-02-25T15:13:24.4363705Z     deadline_day && reminder_day must be defined if send_reminders=true
2024-02-25T15:13:24.4412061Z       should not be valid
2024-02-25T15:13:24.4412728Z 
2024-02-25T15:13:24.4413638Z DispersedPastDatesGenerator
2024-02-25T15:13:24.4414427Z   #next
2024-02-25T15:13:24.4465294Z     returns equally dispersed dates between all time ranges
2024-02-25T15:13:24.4466724Z   constants
2024-02-25T15:13:24.4500263Z     has 4 day ranges for generation of past dates
2024-02-25T15:13:24.4501098Z 
2024-02-25T15:13:24.4501340Z PartnerMailer
2024-02-25T15:13:24.4502558Z   #application_approved
2024-02-25T15:13:24.4789566Z     renders the body with text that indicates the result and a link to their dashboard
2024-02-25T15:13:24.5123580Z     should be sent to the partner main email with the correct subject line
2024-02-25T15:13:24.5124962Z   #recertification_request
2024-02-25T15:13:24.5776359Z     should be sent to the partner main email with the correct subject line
2024-02-25T15:13:24.6728380Z     renders the body with text that indicates to recertify and link to where
2024-02-25T15:13:24.6729516Z 
2024-02-25T15:13:24.6730235Z RequestsConfirmationMailer
2024-02-25T15:13:24.7287952Z   handles duplicates
2024-02-25T15:13:24.7638231Z   pairs the right quantities with the right item names
2024-02-25T15:13:24.7639285Z   #confirmation_email
2024-02-25T15:13:24.7834112Z     renders the body
2024-02-25T15:13:24.7973639Z     renders the headers
2024-02-25T15:13:24.7974299Z 
2024-02-25T15:13:24.7974709Z PartnerInviteService
2024-02-25T15:13:24.8295133Z   should update the status of the partner to invited
2024-02-25T15:13:24.8600331Z   should create invite
2024-02-25T15:13:24.8600979Z   with force: true
2024-02-25T15:13:24.8896407Z     should send the force setting forward
2024-02-25T15:13:24.8898332Z 
2024-02-25T15:13:24.8898608Z Donation
2024-02-25T15:13:24.8900463Z   Methods >
2024-02-25T15:13:24.8901378Z     source_view
2024-02-25T15:13:24.8902375Z       not from a drive
2024-02-25T15:13:24.9061893Z         returns source
2024-02-25T15:13:24.9062734Z       from a drive
2024-02-25T15:13:24.9063372Z         participant known
2024-02-25T15:13:24.9064048Z           contact name present
2024-02-25T15:13:24.9308533Z             returns participant display name
2024-02-25T15:13:24.9309390Z           no contact name
2024-02-25T15:13:24.9431562Z             returns drive display name
2024-02-25T15:13:24.9432568Z         unknown participant
2024-02-25T15:13:24.9533903Z           returns drive display name
2024-02-25T15:13:24.9534740Z     remove
2024-02-25T15:13:25.0231099Z       fails gracefully if the item doesn't exist
2024-02-25T15:13:25.0867381Z       works with either an id or an object
2024-02-25T15:13:25.1530539Z       removes the item from the donation
2024-02-25T15:13:25.1531147Z     money_raised
2024-02-25T15:13:25.2174239Z       tracks the money raised in a donation
2024-02-25T15:13:25.2174840Z   Validations >
2024-02-25T15:13:25.2224853Z     must belong to an organization
2024-02-25T15:13:25.2275474Z     requires an inventory (storage location)
2024-02-25T15:13:25.2437924Z     is invalid when the line items are invalid
2024-02-25T15:13:25.2556128Z     requires a manufacturer if the source is 'Manufacturer'
2024-02-25T15:13:25.2605119Z     ensures that the issued at is no earlier than 2000
2024-02-25T15:13:25.2668134Z     requires a source from the list of available sources
2024-02-25T15:13:25.2785058Z     requires a product drive participant if the source is 'Product Drive'
2024-02-25T15:13:25.2898668Z     requires a donation_site if the source is 'Donation Site'
2024-02-25T15:13:25.2899638Z   Scopes >
2024-02-25T15:13:25.2900320Z     during >
2024-02-25T15:13:25.3087237Z       returns all donations created between two dates
2024-02-25T15:13:25.3088164Z     by_source >
2024-02-25T15:13:25.3089011Z       when source is not a symbol
2024-02-25T15:13:25.3089811Z         when source comes from the SOURCES hash
2024-02-25T15:13:25.3261421Z           returns all donations with the provided source
2024-02-25T15:13:25.3262392Z         when source is invalid
2024-02-25T15:13:25.3428069Z           does not throw errors, returns no results
2024-02-25T15:13:25.3429131Z       when source is a symbol
2024-02-25T15:13:25.3429868Z         when source is valid
2024-02-25T15:13:25.3596861Z           allows a symbol as an argument, referencing the SOURCES hash
2024-02-25T15:13:25.3598039Z         when source is invalid
2024-02-25T15:13:25.3764453Z           does not throw errors, returns no results
2024-02-25T15:13:25.3765316Z   versioning
2024-02-25T15:13:25.3799672Z     is expected to be versioned
2024-02-25T15:13:25.3800469Z   Associations >
2024-02-25T15:13:25.3801209Z     items >
2024-02-25T15:13:25.3954920Z       has_many
2024-02-25T15:13:25.3955549Z   SOURCES
2024-02-25T15:13:25.3989785Z     the hash is immutable
2024-02-25T15:13:25.4022912Z     is a hash that is referenceable by key to avoid 'magic strings'
2024-02-25T15:13:25.4055103Z     the hash values are immutable
2024-02-25T15:13:25.4056026Z   Callbacks >
2024-02-25T15:13:25.4205681Z     automatically combines duplicate line_item records when they're created
2024-02-25T15:13:25.4326099Z     inititalizes the issued_at field to default to midnight if it wasn't explicitly set
2024-02-25T15:13:25.4327507Z   behaves like itemizable
2024-02-25T15:13:25.4328159Z     .to_a
2024-02-25T15:13:25.4328930Z       with Flipper flag :deprecate_to_a enabled
2024-02-25T15:13:25.4651407Z         raises an error
2024-02-25T15:13:25.4652210Z       with Flipper flag :deprecate_to_a disabled
2024-02-25T15:13:25.5040529Z         calls line_item_values
2024-02-25T15:13:25.5041339Z     .line_items
2024-02-25T15:13:25.5041918Z       combine!
2024-02-25T15:13:25.5457389Z         combines multiple line_items with the same item_id into a single record
2024-02-25T15:13:25.5929637Z         incrementally combines line_items on donations that have already been created
2024-02-25T15:13:25.5931191Z       total
2024-02-25T15:13:25.6265737Z         has an item total
2024-02-25T15:13:25.6266655Z       quantities_by_name
2024-02-25T15:13:25.6620992Z         leaves out zero-quantitied items if requested
2024-02-25T15:13:25.6944427Z         returns a hash of items with id, name, and quantity
2024-02-25T15:13:25.6945186Z       sorted
2024-02-25T15:13:25.7427556Z         displays the items, sorted by name
2024-02-25T15:13:25.7428536Z 
2024-02-25T15:13:25.7428979Z View::Inventory
2024-02-25T15:13:25.7430413Z   .total_inventory
2024-02-25T15:13:25.8297638Z     should return the total quantity
2024-02-25T15:13:25.8298476Z   #all_items
2024-02-25T15:13:25.9147923Z     should return all items across storage locations
2024-02-25T15:13:25.9148596Z   #items_for_location
2024-02-25T15:13:26.0012072Z     should return the right values
2024-02-25T15:13:26.0012757Z     with include_omitted_items
2024-02-25T15:13:26.0868514Z       should add items not in the storage location
2024-02-25T15:13:26.0869408Z   #storage_locations_for_item
2024-02-25T15:13:26.1721404Z     should return all relevant IDs
2024-02-25T15:13:26.1722441Z   #quantity_for
2024-02-25T15:13:26.1723097Z     with storage location but no item id
2024-02-25T15:13:26.2566365Z       should return all items at that location
2024-02-25T15:13:26.2567257Z     with item id
2024-02-25T15:13:26.2567871Z       with storage location
2024-02-25T15:13:26.3466950Z         should return the quantity at that location
2024-02-25T15:13:26.3467900Z       with no storage location
2024-02-25T15:13:26.4335891Z         should return quantities across all storage locations
2024-02-25T15:13:26.4337178Z   #storage_location_name
2024-02-25T15:13:26.5212416Z     should return the right name
2024-02-25T15:13:26.5213304Z   #total_value_in_dollars
2024-02-25T15:13:26.6084079Z     should return total value across the given location
2024-02-25T15:13:26.6084903Z   .items_for_location
2024-02-25T15:13:26.6916591Z     should return the right values
2024-02-25T15:13:26.7797607Z     with include_omitted_items
2024-02-25T15:13:26.7798819Z       should add items not in the storage location
2024-02-25T15:13:26.7799415Z 
2024-02-25T15:13:26.7799665Z DonationSitesController
2024-02-25T15:13:26.7800326Z   While signed in
2024-02-25T15:13:26.7801821Z     GET #new
2024-02-25T15:13:26.8022973Z       returns http success
2024-02-25T15:13:26.8023452Z     GET #show
2024-02-25T15:13:26.8172615Z       returns http success
2024-02-25T15:13:26.8173083Z     DELETE #destroy
2024-02-25T15:13:26.8392676Z       returns http success
2024-02-25T15:13:26.8393763Z     POST #import_csv
2024-02-25T15:13:26.8394205Z       behaves like csv import
2024-02-25T15:13:26.8394937Z         csv file with wrong headers
2024-02-25T15:13:26.8531693Z           redirects to :index
2024-02-25T15:13:26.8640548Z           presents a flash error message
2024-02-25T15:13:26.8641241Z         without a csv file
2024-02-25T15:13:26.8740784Z           redirects to :index
2024-02-25T15:13:26.8839570Z           presents a flash error message
2024-02-25T15:13:26.8840076Z         with a csv file
2024-02-25T15:13:26.8976627Z           presents a flash notice message
2024-02-25T15:13:26.9014361Z           invokes .import_csv
2024-02-25T15:13:26.9144117Z           redirects to :index
2024-02-25T15:13:26.9145116Z     Looking at a different organization
2024-02-25T15:13:27.0855958Z       redirects the user to the sign-in page for CRUD actions
2024-02-25T15:13:27.0856679Z     GET #index
2024-02-25T15:13:27.0978374Z       returns http success
2024-02-25T15:13:27.0979253Z     GET #edit
2024-02-25T15:13:27.1112865Z       returns http success
2024-02-25T15:13:27.1113751Z   While not signed in
2024-02-25T15:13:27.1172156Z     redirects the user to the sign-in page for CRUD actions
2024-02-25T15:13:27.1172690Z 
2024-02-25T15:13:27.1173117Z DonationsController
2024-02-25T15:13:27.1174247Z   calculating total money raised for all donations
2024-02-25T15:13:27.1209667Z     returns zero for an empty array of donations
2024-02-25T15:13:27.1397459Z     correctly calculates the total
2024-02-25T15:13:27.1398366Z   While signed in as an organization admin >
2024-02-25T15:13:27.1399170Z     DELETE #destroy
2024-02-25T15:13:27.1768247Z       redirects to the index
2024-02-25T15:13:27.1769157Z   calculating total value of multiple donations
2024-02-25T15:13:27.3175713Z     works correctly for multiple line items per donation
2024-02-25T15:13:27.3215558Z     returns zero for an empty array of donations
2024-02-25T15:13:27.3216441Z   While signed in as a normal user >
2024-02-25T15:13:27.3218100Z     GET #show
2024-02-25T15:13:27.3391854Z       returns http success
2024-02-25T15:13:27.3392582Z     POST#create
2024-02-25T15:13:27.3794687Z       redirects to GET#edit on success
2024-02-25T15:13:27.3991496Z       renders GET#new with error on failure
2024-02-25T15:13:27.3994201Z     GET #index
2024-02-25T15:13:27.4137446Z       returns http success
2024-02-25T15:13:27.4138172Z     GET #new
2024-02-25T15:13:27.4263611Z       returns http success
2024-02-25T15:13:27.4264281Z     DELETE #destroy
2024-02-25T15:13:27.4423609Z       redirects to the dashboard path
2024-02-25T15:13:27.4424633Z     PUT#update
2024-02-25T15:13:27.5609892Z       updates storage quantity correctly
2024-02-25T15:13:27.5964139Z       redirects to index after update
2024-02-25T15:13:27.5965274Z       when removing a line item
2024-02-25T15:13:27.7021744Z         updates storage invetory item quantity correctly
2024-02-25T15:13:27.7022721Z       when changing storage location
2024-02-25T15:13:27.8114438Z         updates storage quantity correctly
2024-02-25T15:13:27.8153640Z         rolls back updates if quantity would go below 0
2024-02-25T15:13:27.8154540Z     GET #edit
2024-02-25T15:13:27.8356605Z       returns http success
2024-02-25T15:13:27.8358513Z 
2024-02-25T15:13:27.8358938Z ItemsController
2024-02-25T15:13:27.8359994Z   While signed in
2024-02-25T15:13:27.8362818Z     GET #show
2024-02-25T15:13:27.8553209Z       returns http success
2024-02-25T15:13:27.8553906Z     GET #edit
2024-02-25T15:13:27.8704927Z       returns http success
2024-02-25T15:13:27.8705675Z     PATCH #restore
2024-02-25T15:13:27.8706336Z       with another organizations item
2024-02-25T15:13:28.0615417Z         does nothing
2024-02-25T15:13:28.0616448Z       with a soft-deleted item
2024-02-25T15:13:28.0828208Z         re-activates the item
2024-02-25T15:13:28.0829158Z       with an active item
2024-02-25T15:13:28.1028798Z         does nothing
2024-02-25T15:13:28.1029734Z     Looking at a different organization
2024-02-25T15:13:28.2783863Z       redirects the user to the sign-in page for CRUD actions
2024-02-25T15:13:28.2784874Z     POST #create
2024-02-25T15:13:28.2785481Z       with valid params
2024-02-25T15:13:28.2991386Z         should create an item
2024-02-25T15:13:28.3174920Z         should redirect to the item page
2024-02-25T15:13:28.3347155Z         should accept params with dollar signs, periods, and commas
2024-02-25T15:13:28.3348250Z       with invalid params
2024-02-25T15:13:28.3488512Z         should show an error
2024-02-25T15:13:28.3489243Z     GET #new
2024-02-25T15:13:28.3595245Z       returns http success
2024-02-25T15:13:28.3596135Z     DELETE #destroy
2024-02-25T15:13:28.3826136Z       redirects to #index
2024-02-25T15:13:28.3827015Z     GET #index
2024-02-25T15:13:28.4001345Z       returns http success
2024-02-25T15:13:28.4002101Z     PATCH #remove_category
2024-02-25T15:13:28.5882088Z       should remove an item's category
2024-02-25T15:13:28.7840157Z       should redirect to the previous category page
2024-02-25T15:13:28.7841287Z     PUT #update
2024-02-25T15:13:28.7841871Z       invisible
2024-02-25T15:13:28.8049619Z         should update visible_to_partners to false
2024-02-25T15:13:28.8050516Z       visible
2024-02-25T15:13:28.8240456Z         should update visible_to_partners to true
2024-02-25T15:13:28.8241238Z   While not signed in
2024-02-25T15:13:28.8325773Z     redirects the user to the sign-in page for CRUD actions
2024-02-25T15:13:28.8326293Z 
2024-02-25T15:13:28.8326520Z Audit
2024-02-25T15:13:28.8327803Z   behaves like itemizable
2024-02-25T15:13:28.8328679Z     .line_items
2024-02-25T15:13:28.8329581Z       combine!
2024-02-25T15:13:28.8754974Z         incrementally combines line_items on donations that have already been created
2024-02-25T15:13:28.9308375Z         combines multiple line_items with the same item_id into a single record
2024-02-25T15:13:28.9309260Z       total
2024-02-25T15:13:29.0104670Z         has an item total
2024-02-25T15:13:29.0105294Z       sorted
2024-02-25T15:13:29.1200194Z         displays the items, sorted by name
2024-02-25T15:13:29.1201075Z       quantities_by_name
2024-02-25T15:13:29.2038493Z         leaves out zero-quantitied items if requested
2024-02-25T15:13:29.2860263Z         returns a hash of items with id, name, and quantity
2024-02-25T15:13:29.2860956Z     .to_a
2024-02-25T15:13:29.2861781Z       with Flipper flag :deprecate_to_a enabled
2024-02-25T15:13:29.3368312Z         raises an error
2024-02-25T15:13:29.3369037Z       with Flipper flag :deprecate_to_a disabled
2024-02-25T15:13:29.3860203Z         calls line_item_values
2024-02-25T15:13:29.3860881Z   Validations >
2024-02-25T15:13:29.4381089Z     cannot have duplicate line items
2024-02-25T15:13:29.4924779Z     can have line items that has quantity as zero
2024-02-25T15:13:29.5550572Z     can have line items that has quantity as a positive integer
2024-02-25T15:13:29.6090087Z     can not have line items that has quantity as a string that cannot be reduced to an integer
2024-02-25T15:13:29.6624359Z     can not have line items that has quantity as negative integer
2024-02-25T15:13:29.6726715Z     must belong to an organization admin of its organization
2024-02-25T15:13:29.7013372Z     must belong to an organization
2024-02-25T15:13:29.7014025Z   versioning
2024-02-25T15:13:29.7048873Z     is expected to be versioned
2024-02-25T15:13:29.7051055Z   Methods >
2024-02-25T15:13:29.9456558Z     `self.storage_locations_audited_for` returns only storage_locations that are used for one org
2024-02-25T15:13:30.2785535Z     `self.finalized_since?` returns true iff some finalized audit occurred after itemizable created_at that shares item for location(s)
2024-02-25T15:13:30.3289395Z   Scopes >
2024-02-25T15:13:30.3290267Z     `at_location` can filter out audits to a specific location
2024-02-25T15:13:30.3290910Z 
2024-02-25T15:13:30.3291162Z SyncNDBNMembers
2024-02-25T15:13:30.3291785Z   .sync
2024-02-25T15:13:30.3292370Z     when the HTTP request is successful
2024-02-25T15:13:30.3293144Z       when the account name of a NDBN Member has changed
2024-02-25T15:13:30.3657787Z         should update the account name of the corresponding NDBN Member
2024-02-25T15:13:30.3658588Z       when no new NDBN Member has been added
2024-02-25T15:13:30.3778587Z         should not add any new NDBN Members
2024-02-25T15:13:30.3779600Z       when there are no exisiting NDBN Member records
2024-02-25T15:13:30.3871397Z         should create the NDBN Member records
2024-02-25T15:13:30.3872484Z     when the HTTP request does not get a response of 200
2024-02-25T15:13:30.3913416Z       should raise an error regarding the response code
2024-02-25T15:13:30.3914209Z 
2024-02-25T15:13:30.3914619Z User
2024-02-25T15:13:30.3977416Z   has a valid factory
2024-02-25T15:13:30.3980309Z   omniauth
2024-02-25T15:13:30.4117869Z     retrieves the user from an omniauth context
2024-02-25T15:13:30.4118884Z   Scopes >
2024-02-25T15:13:30.4119634Z     ->alphabetized
2024-02-25T15:13:30.4510365Z       retrieves users in the correct order
2024-02-25T15:13:30.4511164Z   Methods >
2024-02-25T15:13:30.4973323Z     #kind
2024-02-25T15:13:30.5053276Z     #invitation_status
2024-02-25T15:13:30.5099692Z     discarded?
2024-02-25T15:13:30.5176578Z     #reinvitable?
2024-02-25T15:13:30.5177239Z   Scopes >
2024-02-25T15:13:30.5178059Z     ->alphabetized
2024-02-25T15:13:30.5401362Z       retrieves users in the correct order
2024-02-25T15:13:30.5402654Z   versioning
2024-02-25T15:13:30.5436292Z     is expected to be versioned
2024-02-25T15:13:30.5436820Z   Validations >
2024-02-25T15:13:30.5521347Z     requires a name
2024-02-25T15:13:30.5708277Z     requires an email that is formatted correctly
2024-02-25T15:13:30.5708923Z 
2024-02-25T15:13:30.5709530Z TransferDestroyService
2024-02-25T15:13:30.5710359Z   #call
2024-02-25T15:13:30.5711616Z     because transfer should not be deleted
2024-02-25T15:13:30.7593738Z       should return an OpenStruct with the raised error
2024-02-25T15:13:30.7595153Z     when there are no issues
2024-02-25T15:13:30.9646266Z       should return an OpenStruct with success? set to true
2024-02-25T15:13:31.1749327Z       should execute the expected methods
2024-02-25T15:13:31.1750352Z     when an issue occurs in transaction
2024-02-25T15:13:31.1751500Z       because undoing the transfer inventory changes by decreasing the inventory of `to` failed
2024-02-25T15:13:31.3604050Z         should return a OpenStruct with the raised error
2024-02-25T15:13:31.3604915Z       because the transfer destroy raised an error
2024-02-25T15:13:31.5503107Z         should return a OpenStruct with the raised error
2024-02-25T15:13:31.5504735Z       because undoing the transfer inventory changes by increasing the inventory of `from` failed
2024-02-25T15:13:31.7294768Z         should return a OpenStruct with the raised error
2024-02-25T15:13:31.7296153Z       because the transfer_id does not match any Transfer
2024-02-25T15:13:31.9159920Z         should return a OpenStruct with an ActiveRecord::RecordNotFound error
2024-02-25T15:13:31.9160608Z 
2024-02-25T15:13:31.9161114Z TransfersController
2024-02-25T15:13:31.9161863Z   While not signed in
2024-02-25T15:13:31.9304956Z     redirects the user to the sign-in page for CRUD actions
2024-02-25T15:13:31.9306035Z   While signed in
2024-02-25T15:13:31.9306646Z     Looking at a different organization
2024-02-25T15:13:32.1108596Z       redirects the user to the sign-in page for CRUD actions
2024-02-25T15:13:32.1109557Z     POST #create
2024-02-25T15:13:32.1270248Z       renders to #new when failing
2024-02-25T15:13:32.1659733Z       redirects to #show when successful
2024-02-25T15:13:32.1660402Z     GET #index
2024-02-25T15:13:32.1790220Z       returns http success
2024-02-25T15:13:32.1791124Z       when filtering by date
2024-02-25T15:13:32.1791901Z         when date parameters are supplied
2024-02-25T15:13:32.2164072Z           only returns the correct obejects
2024-02-25T15:13:32.2165224Z         when date parameters are not supplied
2024-02-25T15:13:32.2613314Z           returns all objects
2024-02-25T15:13:32.2614155Z     GET #new
2024-02-25T15:13:32.2763080Z       returns http success
2024-02-25T15:13:32.2764189Z     GET #show
2024-02-25T15:13:32.3100167Z       returns http success
2024-02-25T15:13:32.3101822Z 
2024-02-25T15:13:32.3102407Z NDBNMember
2024-02-25T15:13:32.3103571Z   #full_name
2024-02-25T15:13:32.3145166Z     should equal the id and the account name
2024-02-25T15:13:32.3145816Z   versioning
2024-02-25T15:13:32.3183017Z     is expected to be versioned
2024-02-25T15:13:32.3183691Z   validations
2024-02-25T15:13:32.3244919Z     is expected to validate that :ndbn_member_id cannot be empty/falsy
2024-02-25T15:13:32.3316751Z     is expected to validate that :ndbn_member_id is case-sensitively unique
2024-02-25T15:13:32.3380716Z     is expected to validate that :account_name cannot be empty/falsy
2024-02-25T15:13:32.3382226Z 
2024-02-25T15:13:32.3382606Z Organization
2024-02-25T15:13:32.3385602Z   validations
2024-02-25T15:13:32.3453859Z     validates that attachment file size is not higher than 1 MB
2024-02-25T15:13:32.5225277Z     validates that short names are unique
2024-02-25T15:13:32.5327955Z     validates that at least one distribution type is enabled
2024-02-25T15:13:32.5396728Z     validates that attachments are png or jpgs
2024-02-25T15:13:32.5397749Z   valid_items
2024-02-25T15:13:32.7185403Z     only shows active valid items
2024-02-25T15:13:32.9280101Z     returns an array of item partner keys
2024-02-25T15:13:32.9281297Z     with invisible items
2024-02-25T15:13:32.9319281Z       only shows active and visible items
2024-02-25T15:13:32.9319939Z   #ordered_requests
2024-02-25T15:13:33.2386182Z     puts active requests before fulfilled requests
2024-02-25T15:13:33.2401334Z     ordering of requests with matching status
2024-02-25T15:13:33.4821436Z       puts the most recently updated request before older requests
2024-02-25T15:13:33.4822326Z   #seed_items
2024-02-25T15:13:33.6631554Z     allows a single base item to be seeded
2024-02-25T15:13:33.8555177Z     allows a collection of items to be seeded
2024-02-25T15:13:33.8555922Z     when given an item that already exists
2024-02-25T15:13:34.0426567Z       gracefully skips the item
2024-02-25T15:13:34.2419973Z     when given an item name that already exists, but with an 'other' partner key
2024-02-25T15:13:34.2421101Z       updates the old item to use the new base item as its base
2024-02-25T15:13:34.2421825Z   total_inventory
2024-02-25T15:13:34.4143741Z     returns 0 if there is nothing
2024-02-25T15:13:34.6537518Z     returns a sum total of all inventory at all storage locations
2024-02-25T15:13:34.6538547Z   #short_name
2024-02-25T15:13:34.6616108Z     can only contain valid characters
2024-02-25T15:13:34.6616731Z   Associations >
2024-02-25T15:13:34.6654437Z     is expected to have many item_categories
2024-02-25T15:13:34.6697901Z     is expected to belong to ndbn_member class_name => NDBNMember optional: true
2024-02-25T15:13:34.6731300Z     is expected to have many users through roles
2024-02-25T15:13:34.6731963Z     barcode_items
2024-02-25T15:13:34.8534629Z       returns only this organization's barcodes, no globals
2024-02-25T15:13:34.8535445Z       .all
2024-02-25T15:13:35.0380983Z         includes global barcode items also
2024-02-25T15:13:35.0381495Z     items
2024-02-25T15:13:35.0382491Z       .other
2024-02-25T15:13:37.0004635Z         returns all items for this organization designated 'other'
2024-02-25T15:13:37.0005485Z       .during.bottom
2024-02-25T15:13:38.9741552Z         return 3 least used items
2024-02-25T15:13:40.9279881Z         return just 3 elements
2024-02-25T15:13:40.9280439Z       .during.top
2024-02-25T15:13:42.9298938Z         return just 3 elements
2024-02-25T15:13:44.9031168Z         return 3 most used items
2024-02-25T15:13:44.9031730Z       .during
2024-02-25T15:13:46.8424994Z         return ranking of all items
2024-02-25T15:13:46.8425512Z     distributions
2024-02-25T15:13:46.8426011Z       upcoming
2024-02-25T15:13:46.9153123Z         retrieves the distributions scheduled for this week that have not yet happened
2024-02-25T15:13:46.9154216Z     users
2024-02-25T15:13:46.9155127Z       when a organizaton has a user that has two roles
2024-02-25T15:13:47.1100714Z         should returns users without duplications
2024-02-25T15:13:47.1101575Z   #assign_attributes_from_account_request
2024-02-25T15:13:47.1285975Z     should assign the proper attributes to the organization
2024-02-25T15:13:47.1286730Z   after_create
2024-02-25T15:13:47.1497833Z     should update the state of the account request
2024-02-25T15:13:47.1498554Z   is_active
2024-02-25T15:13:47.5231906Z     returns active organizations
2024-02-25T15:13:47.5232393Z   deadline_day
2024-02-25T15:13:47.5337907Z     can only contain numbers 1-28
2024-02-25T15:13:47.5338523Z   from_email
2024-02-25T15:13:47.7231025Z     returns admin email when it's empty space
2024-02-25T15:13:47.8929655Z     returns email when present
2024-02-25T15:13:48.0883783Z     returns admin email when it's empty
2024-02-25T15:13:48.2872598Z     returns admin email when not present
2024-02-25T15:13:48.2873117Z   .seed_items
2024-02-25T15:13:48.2873837Z     when provided with an organization to seed
2024-02-25T15:13:48.6143081Z       loads the base items into Item records
2024-02-25T15:13:48.6143709Z     when no organization is provided
2024-02-25T15:13:49.2466613Z       updates all organizations
2024-02-25T15:13:49.2467144Z   reminder_day
2024-02-25T15:13:49.2587679Z     can only contain numbers 1-28
2024-02-25T15:13:49.2588715Z   default storage location
2024-02-25T15:13:49.2624469Z     returns nil when not set
2024-02-25T15:13:49.2665889Z     associates the default storage location with a storage location
2024-02-25T15:13:49.2666749Z   address
2024-02-25T15:13:49.2702794Z     does not add any separators after street when city, state, and zip are missing
2024-02-25T15:13:49.2735757Z     does not add a trailing space when the zip code is missing
2024-02-25T15:13:49.2770251Z     correctly formats an address string with commas and spaces
2024-02-25T15:13:49.2802122Z     returns an empty string when the org has no address components
2024-02-25T15:13:49.2837797Z     does not add any separators before the city when street is missing
2024-02-25T15:13:49.2838682Z   versioning
2024-02-25T15:13:49.2872990Z     is expected to be versioned
2024-02-25T15:13:49.2873612Z   earliest reporting year
2024-02-25T15:13:49.4639277Z     is the organization created year if no associated data
2024-02-25T15:13:49.7062291Z     is the year of the earliest of donation, purchase, or distribution if they are earlier
2024-02-25T15:13:49.7063002Z   geocode
2024-02-25T15:13:49.8808272Z     adds coordinates to the database
2024-02-25T15:13:49.8808803Z 
2024-02-25T15:13:49.8808954Z Event
2024-02-25T15:13:49.8809673Z   #most_recent_snapshot
2024-02-25T15:13:50.1187194Z     should not include an unusable snapshot
2024-02-25T15:13:50.5232902Z     should include the last usable snapshot
2024-02-25T15:13:50.5233473Z 
2024-02-25T15:13:50.5233777Z Partners::FetchPartnersToRemindNowService
2024-02-25T15:13:50.5234858Z   .fetch
2024-02-25T15:13:50.5237604Z     when there is a partner
2024-02-25T15:13:50.5238933Z       that has an organization with a global reminder & deadline
2024-02-25T15:13:50.5239830Z         that is for today
2024-02-25T15:13:50.5569092Z           should include that partner
2024-02-25T15:13:50.5569755Z           and has send_reminder=false
2024-02-25T15:13:50.5914048Z             should NOT include that partner
2024-02-25T15:13:50.5914738Z           but the partner is deactivated
2024-02-25T15:13:50.6260116Z             should NOT include that partner
2024-02-25T15:13:50.6260876Z         AND a partner group that does have them defined
2024-02-25T15:13:50.6642593Z           should remind based on the partner group instead of the organization level reminder
2024-02-25T15:13:50.6643677Z           but the partner is deactivated
2024-02-25T15:13:50.7058033Z             should NOT include that partner
2024-02-25T15:13:50.7058700Z         that is not for today
2024-02-25T15:13:50.7362439Z           should NOT include that partner
2024-02-25T15:13:50.7363311Z       that does NOT have a organization with a global reminder & deadline
2024-02-25T15:13:50.7364661Z         and is a part of a partner group that does have them defined
2024-02-25T15:13:50.7365439Z           that is not for today
2024-02-25T15:13:50.7719538Z             should NOT include that partner
2024-02-25T15:13:50.7720220Z           that is for today
2024-02-25T15:13:50.8085055Z             should include that partner
2024-02-25T15:13:50.8085746Z             but the partner is deactivated
2024-02-25T15:13:50.8475710Z               should NOT include that partner
2024-02-25T15:13:50.8477310Z 
2024-02-25T15:13:50.8477608Z CustomDeviseMailer
2024-02-25T15:13:50.8478425Z   #invitation_instructions
2024-02-25T15:13:50.8479642Z     when partner is invited
2024-02-25T15:13:50.8961508Z       invites to primary user
2024-02-25T15:13:50.8962513Z     when user is invited
2024-02-25T15:13:50.9146379Z       has invite expiration message
2024-02-25T15:13:50.9330126Z       invites to user
2024-02-25T15:13:50.9330661Z     when other partner users invited
2024-02-25T15:13:50.9732495Z       invites to partner user
2024-02-25T15:13:50.9733437Z 
2024-02-25T15:13:50.9733846Z InventoryItem
2024-02-25T15:13:50.9770300Z   initializes the quantity to 0 if it was not specified
2024-02-25T15:13:50.9771082Z   Filtering >
2024-02-25T15:13:50.9771768Z     ->by_partner_key
2024-02-25T15:13:50.9902270Z       shows the Base Items by partner_key
2024-02-25T15:13:50.9903298Z   Validations >
2024-02-25T15:13:50.9951494Z     requires an inventory association
2024-02-25T15:13:50.9993229Z     requires an item
2024-02-25T15:13:50.9993731Z     quantity >
2024-02-25T15:13:51.0129344Z       is gte 0
2024-02-25T15:13:51.0183328Z       is numerical
2024-02-25T15:13:51.0237659Z       is required
2024-02-25T15:13:51.0291032Z       is less than the max integer
2024-02-25T15:13:51.0291649Z   versioning
2024-02-25T15:13:51.0325827Z     is expected to be versioned
2024-02-25T15:13:51.0326528Z 
2024-02-25T15:13:51.0326795Z Vendor
2024-02-25T15:13:51.0328016Z   versioning
2024-02-25T15:13:51.0361873Z     is expected to be versioned
2024-02-25T15:13:51.0362750Z   behaves like provideable
2024-02-25T15:13:51.0363411Z     Validations
2024-02-25T15:13:51.0399116Z       is invalid without an organization
2024-02-25T15:13:51.0453657Z       is invalid unless it has either a contact name or a business name
2024-02-25T15:13:51.0454545Z     import_csv
2024-02-25T15:13:51.2420477Z       imports from a csv file
2024-02-25T15:13:51.2421029Z     geocode
2024-02-25T15:13:51.2488247Z       adds coordinates to the database
2024-02-25T15:13:51.2488861Z   Methods
2024-02-25T15:13:51.2489348Z     volume
2024-02-25T15:13:51.3281965Z       retrieves the amount of product that has been bought from this vendor
2024-02-25T15:13:51.3283019Z 
2024-02-25T15:13:51.3283207Z AddRoleService
2024-02-25T15:13:51.3285466Z   #call
2024-02-25T15:13:51.3285892Z     when the role already exists
2024-02-25T15:13:51.5245251Z       should raise an error
2024-02-25T15:13:51.7220419Z       should raise an error for super admin
2024-02-25T15:13:51.7221310Z     when the role does not yet exist
2024-02-25T15:13:51.9251748Z       should add the user role when asked to add admin
2024-02-25T15:13:52.1385001Z       works with a partner
2024-02-25T15:13:52.3276426Z       works with super admin
2024-02-25T15:13:52.5424838Z       should add the role
2024-02-25T15:13:52.5425385Z 
2024-02-25T15:13:52.5425713Z ServiceObjectErrorsMixin
2024-02-25T15:13:52.5426655Z   self.included
2024-02-25T15:13:52.5465409Z     should add class methods to the class that include ServiceObjectErrorsMixin
2024-02-25T15:13:52.5466378Z 
2024-02-25T15:13:52.5466549Z Manufacturer
2024-02-25T15:13:52.5467443Z   Private Methods
2024-02-25T15:13:52.5468264Z     #exists_in_org?
2024-02-25T15:13:52.7224995Z       returns true if manufacturer exists in an organization
2024-02-25T15:13:52.7225563Z   Methods
2024-02-25T15:13:52.7225931Z     volume
2024-02-25T15:13:52.8615549Z       retrieves the amount of product that has been donated by manufacturer from multiple donations
2024-02-25T15:13:52.9298916Z       retrieves the amount of product that has been donated by manufacturer
2024-02-25T15:13:53.0727412Z       ignores the amount of product from other manufacturers
2024-02-25T15:13:53.0728303Z   versioning
2024-02-25T15:13:53.0766136Z     is expected to be versioned
2024-02-25T15:13:53.0766685Z   Validations
2024-02-25T15:13:53.0859268Z     must have a unique name within organization
2024-02-25T15:13:53.2653951Z     must belong to an organization
2024-02-25T15:13:53.2654543Z 
2024-02-25T15:13:53.2654844Z PartnerRequestRecertificationService
2024-02-25T15:13:53.2655742Z   #call
2024-02-25T15:13:53.2657223Z     when the arguments are correct
2024-02-25T15:13:53.2955143Z       should have no errors
2024-02-25T15:13:53.3246106Z       should queue sending the notice to the partner
2024-02-25T15:13:53.3552592Z       should change the partner status to approved
2024-02-25T15:13:53.3553211Z       but a unexpected error occurred during the save
2024-02-25T15:13:53.3553786Z         for partner approval
2024-02-25T15:13:53.3825511Z           should not change the partner status to recertification_required
2024-02-25T15:13:53.4078180Z           should have an error with the raised error
2024-02-25T15:13:53.4396088Z           should NOT queue sending the notice to the partner
2024-02-25T15:13:53.4396733Z     when the arguments are incorrect
2024-02-25T15:13:53.4397864Z       because the partner has already been requested to recertify
2024-02-25T15:13:53.4694692Z         should return the PartnerRequestRecertificationService object with an error
2024-02-25T15:13:53.4695547Z     when the partner is deactivated
2024-02-25T15:13:53.4989550Z       does not send an email
2024-02-25T15:13:53.4990453Z 
2024-02-25T15:13:53.4990738Z ItemCategory
2024-02-25T15:13:53.4991908Z   validations
2024-02-25T15:13:53.5074504Z     is expected to validate that the length of :description is at most 250
2024-02-25T15:13:53.5270857Z     is expected to validate that :name is case-sensitively unique within the scope of :organization_id
2024-02-25T15:13:53.5352861Z     is expected to validate that :organization cannot be empty/falsy
2024-02-25T15:13:53.5438395Z     is expected to validate that :name cannot be empty/falsy
2024-02-25T15:13:53.5439186Z   versioning
2024-02-25T15:13:53.5480733Z     is expected to be versioned
2024-02-25T15:13:53.5481299Z   assocations
2024-02-25T15:13:53.5519044Z     is expected to have many items
2024-02-25T15:13:53.5578989Z     is expected to have and belong to many partner_groups
2024-02-25T15:13:53.5626058Z     is expected to belong to organization required: true
2024-02-25T15:13:53.5626715Z 
2024-02-25T15:13:53.5626891Z UserInviteService
2024-02-25T15:13:53.5627917Z   with a new user
2024-02-25T15:13:53.8332840Z     should create the user with roles
2024-02-25T15:13:53.8333501Z   with existing user
2024-02-25T15:13:54.0242562Z     should add roles to existing user
2024-02-25T15:13:54.0329840Z     should raise an error when reinviting an existing user with the same role
2024-02-25T15:13:54.0330753Z     with force: true
2024-02-25T15:13:54.0526053Z       should reinvite the user
2024-02-25T15:13:54.0526975Z 
2024-02-25T15:13:54.0527288Z DonationSite
2024-02-25T15:13:54.0528579Z   import_csv
2024-02-25T15:13:54.2313690Z     imports storage locations from a csv file
2024-02-25T15:13:54.2314397Z   geocode
2024-02-25T15:13:54.2375316Z     adds coordinates to the database
2024-02-25T15:13:54.2375970Z   versioning
2024-02-25T15:13:54.2413072Z     is expected to be versioned
2024-02-25T15:13:54.2413660Z   Validations >
2024-02-25T15:13:54.2456707Z     is invalid without an address
2024-02-25T15:13:54.2500399Z     is invalid without a name
2024-02-25T15:13:54.2536982Z     must belong to an organization
2024-02-25T15:13:54.2537664Z 
2024-02-25T15:13:54.2537930Z Role
2024-02-25T15:13:54.2574528Z   is expected to accepts_nested_attributes_for :users
2024-02-25T15:13:54.2575268Z   Associations
2024-02-25T15:13:54.2612068Z     is expected to belong to resource optional: true
2024-02-25T15:13:54.2670250Z     is expected to have and belong to many users
2024-02-25T15:13:54.2671311Z   versioning
2024-02-25T15:13:54.2706645Z     is expected to be versioned
2024-02-25T15:13:54.2707257Z   Validations
2024-02-25T15:13:54.2756083Z     is expected to validate that :resource_type is either ‹"Organization"› or ‹"Partner"›
2024-02-25T15:13:54.2756949Z 
2024-02-25T15:13:54.2757237Z Partners::FamilyRequestCreateService
2024-02-25T15:13:54.2757833Z   #call
2024-02-25T15:13:54.2758262Z     when the arguments are incorrect
2024-02-25T15:13:54.2758958Z       because a unrecognized item_id was provided
2024-02-25T15:13:54.3015544Z         should return the Partners::FamilyRequestCreateService object with an error
2024-02-25T15:13:54.3016634Z       because no family_requests_attributes were defined
2024-02-25T15:13:54.3254855Z         should return the Partners::FamilyRequestCreateService object with an error
2024-02-25T15:13:54.3255910Z     when the arguments are correct
2024-02-25T15:13:54.3256474Z       with children
2024-02-25T15:13:54.4385107Z         should create the appropriate organization Request, Partners::ItemRequest and Partners::ChildItemRequests
2024-02-25T15:13:54.4386351Z       without children
2024-02-25T15:13:54.4683255Z         should send the correct request payload to the Partners::RequestCreateService and call it
2024-02-25T15:13:54.4684163Z 
2024-02-25T15:13:54.4684675Z BaseItem
2024-02-25T15:13:54.4685114Z   Validations >
2024-02-25T15:13:54.4735665Z     is invalid without a name
2024-02-25T15:13:54.4781109Z     is invalid without a partner key
2024-02-25T15:13:54.4851223Z     is invalid without a uniqueness key
2024-02-25T15:13:54.4925332Z     is invalid without a unique name
2024-02-25T15:13:54.4926025Z   versioning
2024-02-25T15:13:54.4968812Z     is expected to be versioned
2024-02-25T15:13:54.4969481Z   Filtering >
2024-02-25T15:13:54.4970253Z     ->by_partner_key
2024-02-25T15:13:54.5028716Z       shows the Base Items by partner_key
2024-02-25T15:13:54.5029538Z     ->without_kit
2024-02-25T15:13:54.5088635Z       should not include the Kit BaseItem
2024-02-25T15:13:54.5089331Z   Associations >
2024-02-25T15:13:54.5229541Z     keeps count of its associated items
2024-02-25T15:13:54.5230186Z 
2024-02-25T15:13:54.5230424Z DistributionsController
2024-02-25T15:13:54.5231521Z   While signed in
2024-02-25T15:13:54.5232390Z     PUT #update
2024-02-25T15:13:54.5233686Z       when distribution causes inventory quantity to be below minimum quantity
2024-02-25T15:13:54.6457185Z         redirects with a flash notice and a flash error
2024-02-25T15:13:54.6458068Z       when distribution causes inventory quantity to be below recommended quantity
2024-02-25T15:13:54.7596289Z         redirects with a flash notice and a flash error
2024-02-25T15:13:54.7597189Z       when distribution has items updated for minimum quantity
2024-02-25T15:13:54.9078359Z         redirects with a flash notice and send send_notification
2024-02-25T15:13:54.9079309Z     POST #create
2024-02-25T15:13:54.9080232Z       multiple line_items that have inventory quantity below recommended quantity
2024-02-25T15:13:54.9947595Z         redirects with a flash notice and a flash alert
2024-02-25T15:13:55.0526948Z       when line item quantity is not positive
2024-02-25T15:13:55.0527672Z         flashes an error
2024-02-25T15:13:55.0528455Z       when distribution causes inventory quantity to be below minimum quantity
2024-02-25T15:13:55.1275872Z         redirects with a flash notice and a flash error
2024-02-25T15:13:55.1276605Z       multiple line_items that have inventory quantity below minimum quantity
2024-02-25T15:13:55.2157069Z         redirects with a flash notice and a flash error
2024-02-25T15:13:55.2158398Z 
2024-02-25T15:13:55.2158615Z Adjustment
2024-02-25T15:13:55.2160572Z   versioning
2024-02-25T15:13:55.2199936Z     is expected to be versioned
2024-02-25T15:13:55.2200582Z   nested line item attributes
2024-02-25T15:13:55.2621930Z     accepts them
2024-02-25T15:13:55.2622319Z   behaves like itemizable
2024-02-25T15:13:55.2623193Z     .to_a
2024-02-25T15:13:55.2624082Z       with Flipper flag :deprecate_to_a enabled
2024-02-25T15:13:55.2980486Z         raises an error
2024-02-25T15:13:55.2981120Z       with Flipper flag :deprecate_to_a disabled
2024-02-25T15:13:55.3385529Z         calls line_item_values
2024-02-25T15:13:55.3386341Z     .line_items
2024-02-25T15:13:55.3387583Z       quantities_by_name
2024-02-25T15:13:55.4608986Z         leaves out zero-quantitied items if requested
2024-02-25T15:13:55.5416566Z         returns a hash of items with id, name, and quantity
2024-02-25T15:13:55.5417334Z       total
2024-02-25T15:13:55.6277981Z         has an item total
2024-02-25T15:13:55.6278563Z       sorted
2024-02-25T15:13:55.6889961Z         displays the items, sorted by name
2024-02-25T15:13:55.6890461Z       combine!
2024-02-25T15:13:55.7381451Z         incrementally combines line_items on donations that have already been created
2024-02-25T15:13:55.7798818Z         combines multiple line_items with the same item_id into a single record
2024-02-25T15:13:55.7799719Z   Validations >
2024-02-25T15:13:55.7974861Z     allows you to add inventory that doesn't yet exist in the storage location
2024-02-25T15:13:55.8374275Z     allows you to remove all the inventory that exists in the storage location
2024-02-25T15:13:55.8453906Z     must belong to an organization
2024-02-25T15:13:55.8454515Z   Scopes >
2024-02-25T15:13:55.8625139Z     `at_location` can filter out adjustments to a specific location
2024-02-25T15:13:55.8776765Z     `by_user` can filter out adjustments to a specific user
2024-02-25T15:13:55.8777543Z   Methods >
2024-02-25T15:13:56.0817144Z     `self.storage_locations_adjusted_for` returns only storage_locations that are used in adjustments for one org
2024-02-25T15:13:56.0817939Z     split_difference
2024-02-25T15:13:56.1574705Z       gracefully handles adjustments with only negative
2024-02-25T15:13:56.2314256Z       returns two adjustment objects
2024-02-25T15:13:56.3047683Z       gracefully handles adjustments with only positive
2024-02-25T15:13:56.3048486Z 
2024-02-25T15:13:56.3048741Z TextInterpolatorService
2024-02-25T15:13:56.3049889Z   #call
2024-02-25T15:13:56.3086819Z     returns interpolated text
2024-02-25T15:13:56.3087541Z     when text is nil
2024-02-25T15:13:56.3121150Z       returns nil
2024-02-25T15:13:56.3121592Z     when interpolations are nil
2024-02-25T15:13:56.3156611Z       returns text
2024-02-25T15:13:56.3157051Z     when interpolations are empty
2024-02-25T15:13:56.3232482Z       returns text
2024-02-25T15:13:56.3232869Z     when text is empty
2024-02-25T15:13:56.3270886Z       returns empty string
2024-02-25T15:13:56.3271342Z     when interpolations are not present
2024-02-25T15:13:56.3305381Z       returns text
2024-02-25T15:13:56.3310229Z 
2024-02-25T15:13:56.3310457Z Reports::AdultIncontinenceReportService
2024-02-25T15:13:56.3311275Z   #report
2024-02-25T15:13:56.5198767Z     should report zero values
2024-02-25T15:13:56.5199233Z     with values
2024-02-25T15:13:57.1562494Z       should report normal values
2024-02-25T15:13:57.7681083Z       should handle null distribution quantity
2024-02-25T15:13:57.7681708Z 
2024-02-25T15:13:57.7681995Z KitAllocation
2024-02-25T15:13:57.7686431Z   add some examples to (or delete) /home/runner/work/human-essentials/human-essentials/spec/models/kit_allocation_spec.rb (PENDING: Not yet implemented)
2024-02-25T15:13:57.7687442Z   versioning
2024-02-25T15:13:57.7758494Z     is expected to be versioned
2024-02-25T15:13:57.7758989Z 
2024-02-25T15:13:57.7759342Z DistributionItemizedBreakdownService
2024-02-25T15:13:57.7760343Z   #fetch_csv
2024-02-25T15:13:58.1478026Z     should output the expected output but in CSV format
2024-02-25T15:13:58.1478787Z   #fetch
2024-02-25T15:13:58.5177300Z     should include the break down of items distributed with onhand data
2024-02-25T15:13:58.5178073Z 
2024-02-25T15:13:58.5178257Z HelpController
2024-02-25T15:13:58.5178756Z   While signed in as a normal user >
2024-02-25T15:13:58.5179357Z     GET #show
2024-02-25T15:13:58.5251167Z       does not display help page when the user logs out
2024-02-25T15:13:58.5385090Z       returns http success
2024-02-25T15:13:58.5385879Z 
2024-02-25T15:13:58.5386099Z AdjustmentCreateService
2024-02-25T15:13:58.5387081Z   call
2024-02-25T15:13:58.6205471Z     saves a new adjustment with line items relating to the current (simple case) negative adjustment
2024-02-25T15:13:58.7175319Z     decreases stored inventory on a negative adjustment
2024-02-25T15:13:58.8115947Z     handles mixed adjustments to same item appropriately (total is positive version)
2024-02-25T15:13:58.9005796Z     handles adjustments to multiple items
2024-02-25T15:13:58.9897877Z     increases handles mixed adjustments to same appropriately (total is negative version)
2024-02-25T15:13:59.0444470Z     gives an error if we attempt to adjust inventory below 0
2024-02-25T15:13:59.1146645Z     does not allow inventory to be adjusted below 0
2024-02-25T15:13:59.2056400Z     increases stored inventory on a positive adjustment
2024-02-25T15:13:59.2875087Z     saves a new adjustment with line items relating to the current (simple case) positive adjustment
2024-02-25T15:13:59.6027830Z 
2024-02-25T15:13:59.6028851Z Pending: (Failures listed here are expected and do not affect your suite's status)
2024-02-25T15:13:59.6029668Z 
2024-02-25T15:13:59.6030844Z   1) KitAllocation add some examples to (or delete) /home/runner/work/human-essentials/human-essentials/spec/models/kit_allocation_spec.rb
2024-02-25T15:13:59.6033067Z      # Not yet implemented
2024-02-25T15:13:59.6033641Z      # ./spec/models/kit_allocation_spec.rb:16
2024-02-25T15:13:59.6035477Z 
2024-02-25T15:13:59.6035851Z Finished in 47.57 seconds (files took 8.27 seconds to load)
2024-02-25T15:13:59.6036631Z 523 examples, 0 failures, 1 pending
2024-02-25T15:13:59.6037029Z 
2024-02-25T15:13:59.6038459Z Randomized with seed 42753
2024-02-25T15:13:59.6038805Z 
2024-02-25T15:13:59.9092429Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3781 / 6454 LOC (58.58%) covered.
2024-02-25T15:14:00.3667695Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10719 LOC (0.35%) covered.
