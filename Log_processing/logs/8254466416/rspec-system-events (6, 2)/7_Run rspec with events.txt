2024-03-12T19:12:00.5488658Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-12T19:12:00.5489640Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-12T19:12:00.5553636Z shell: /usr/bin/bash -e {0}
2024-03-12T19:12:00.5554036Z env:
2024-03-12T19:12:00.5554363Z   POSTGRES_HOST: localhost
2024-03-12T19:12:00.5554835Z   DATABASE_HOST: localhost
2024-03-12T19:12:00.5555224Z   PG_USERNAME: postgres
2024-03-12T19:12:00.5555583Z   PG_PASSWORD: password
2024-03-12T19:12:00.5555983Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-12T19:12:00.5556400Z   POSTGRES_PORT: 5432
2024-03-12T19:12:00.5556750Z   PGHOST: localhost
2024-03-12T19:12:00.5557163Z   PGUSER: postgres
2024-03-12T19:12:00.5557489Z   RAILS_ENV: test
2024-03-12T19:12:00.5557812Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-12T19:12:00.5558327Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-12T19:12:00.5558724Z   KNAPSACK_PRO_CI_NODE_INDEX: 2
2024-03-12T19:12:00.5559216Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-12T19:12:00.5559764Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-12T19:12:00.5560387Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-12T19:12:00.5561096Z   EVENTS_READ: true
2024-03-12T19:12:00.5561427Z ##[endgroup]
2024-03-12T19:12:06.2447503Z W, [2024-03-12T19:12:06.244409 #2377]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-12T19:12:06.2449680Z W, [2024-03-12T19:12:06.244459 #2377]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T19:12:06.2452166Z W, [2024-03-12T19:12:06.244474 #2377]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T19:12:06.2459018Z W, [2024-03-12T19:12:06.244494 #2377]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-12T19:12:10.3050877Z W, [2024-03-12T19:12:10.304684 #2377]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-12T19:12:10.3053872Z W, [2024-03-12T19:12:10.304732 #2377]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T19:12:10.3056928Z W, [2024-03-12T19:12:10.304749 #2377]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T19:12:10.3060905Z W, [2024-03-12T19:12:10.304795 #2377]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-12T19:12:10.3113568Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-03-12T19:12:18.8840419Z 
2024-03-12T19:12:18.8841156Z Randomized with seed 6919
2024-03-12T19:12:19.8827993Z 
2024-03-12T19:12:19.8828726Z BroadcastAnnouncements
2024-03-12T19:12:19.8829838Z   PATCH /update
2024-03-12T19:12:19.8830781Z     with invalid parameters
2024-03-12T19:12:19.9713346Z       does not render a successful response
2024-03-12T19:12:19.9713923Z     with valid parameters
2024-03-12T19:12:19.9918813Z       updates the requested announcement and redirects
2024-03-12T19:12:19.9919922Z   DELETE /destroy
2024-03-12T19:12:20.0116894Z     destroys the requested announcement then redirects
2024-03-12T19:12:20.0117465Z   GET /index
2024-03-12T19:12:20.0478977Z     renders a successful response
2024-03-12T19:12:20.0479859Z   POST /create
2024-03-12T19:12:20.0480676Z     with valid parameters
2024-03-12T19:12:20.0683441Z       creates a new BroadcastAnnouncement then redirects
2024-03-12T19:12:20.0684358Z     with invalid parameters
2024-03-12T19:12:20.1012344Z       does not render a successful response
2024-03-12T19:12:20.1330691Z       does not create a new BroadcastAnnouncement
2024-03-12T19:12:20.1331792Z   GET /new
2024-03-12T19:12:20.1618926Z     renders a successful response
2024-03-12T19:12:20.1619704Z   GET /edit
2024-03-12T19:12:20.1915556Z     render a successful response
2024-03-12T19:12:20.1916233Z 
2024-03-12T19:12:20.1916659Z /partners/dashboard
2024-03-12T19:12:20.3510927Z   displays upcoming distributions
2024-03-12T19:12:20.3512285Z   BroadcastAnnouncement card
2024-03-12T19:12:20.4055769Z     doesn't display announcements from super admins
2024-03-12T19:12:20.4598923Z     displays announcements if there are valid ones
2024-03-12T19:12:20.5158800Z     doesn't display announcements if there are not valid ones
2024-03-12T19:12:20.5159531Z   with both roles
2024-03-12T19:12:20.5745139Z     should include the switch link
2024-03-12T19:12:20.5746117Z   with just partner role
2024-03-12T19:12:20.6268386Z     should not display the switch link
2024-03-12T19:12:20.7019231Z   GET #index
2024-03-12T19:12:20.7020033Z     does not display requests in other states
2024-03-12T19:12:20.7761939Z     displays requests that are pending
2024-03-12T19:12:20.7762653Z 
2024-03-12T19:12:20.7762919Z Events
2024-03-12T19:12:20.7763619Z   When signed in
2024-03-12T19:12:20.7764344Z     GET #index
2024-03-12T19:12:21.3538700Z       should be successful
2024-03-12T19:12:21.3539470Z       with type filter
2024-03-12T19:12:21.8983146Z         should not include the adjustment
2024-03-12T19:12:21.8984281Z       with eventable_id
2024-03-12T19:12:22.6279185Z         should only show events from that eventable
2024-03-12T19:12:22.6280074Z       with date filter
2024-03-12T19:12:23.1778087Z         should not include the old donation
2024-03-12T19:12:23.1779272Z       with storage location filter
2024-03-12T19:12:23.7129372Z         should not include the other storage location
2024-03-12T19:12:23.7130222Z       with item filter
2024-03-12T19:12:24.2727543Z         should not include the other item
2024-03-12T19:12:24.2728418Z   When not signed in
2024-03-12T19:12:24.2931319Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T19:12:24.2932036Z 
2024-03-12T19:12:24.2932280Z Organization management
2024-03-12T19:12:24.2933568Z   while signed in as a normal user
2024-03-12T19:12:25.3808625Z     cannot see 'Make user' button for admins
2024-03-12T19:12:25.8250615Z     can see summary details about the organization as a user
2024-03-12T19:12:25.8251620Z   while signed in as an organization admin
2024-03-12T19:12:26.3123233Z     can re-invite a user to an organization after 7 days
2024-03-12T19:12:27.2820790Z     can deactivate a user in the organization
2024-03-12T19:12:28.2359113Z     can add a new user to an organization
2024-03-12T19:12:28.7390265Z     can see 'Make user' button for admins
2024-03-12T19:12:29.7116124Z     can re-activate a user in the organization
2024-03-12T19:12:29.7117007Z     Editing the organization
2024-03-12T19:12:30.5977816Z       can set the NDBN Member ID
2024-03-12T19:12:31.5546978Z       can disable if the org does NOT use single step invite and approve partner process
2024-03-12T19:12:32.7126172Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-03-12T19:12:33.5457388Z       can set a default storage location on the organization
2024-03-12T19:12:34.3975212Z       can set a reminder and a deadline day
2024-03-12T19:12:35.3845013Z       can enable if the org uses single step invite and approve partner process
2024-03-12T19:12:36.3717944Z       can select if the org repackages essentials
2024-03-12T19:12:37.3622461Z       can select if the org distributes essentials monthly
2024-03-12T19:12:38.3366990Z       can select if the org shows year-to-date values on the distribution printout
2024-03-12T19:12:39.7817403Z       can select and deselect Required Partner Fields
2024-03-12T19:12:39.7818218Z     Viewing the organization
2024-03-12T19:12:40.3190565Z       can view organization details
2024-03-12T19:12:40.3191568Z 
2024-03-12T19:12:40.3192213Z Admin::AccountRequestsController
2024-03-12T19:12:40.3193457Z   while signed in as a super admin
2024-03-12T19:12:40.3194614Z     GET #index
2024-03-12T19:12:40.3665523Z       returns success
2024-03-12T19:12:40.3666297Z     GET #for_rejection
2024-03-12T19:12:40.3667148Z       with an invalid token
2024-03-12T19:12:40.3962058Z         should show a not found message
2024-03-12T19:12:40.3962916Z       with a valid token
2024-03-12T19:12:40.4400082Z         should show the request
2024-03-12T19:12:40.4400932Z     POST #reject
2024-03-12T19:12:40.4678997Z       should redirect back on success
2024-03-12T19:12:40.4679682Z 
2024-03-12T19:12:40.4680003Z Kit management
2024-03-12T19:12:41.0685460Z   should not display inactive storage locations under allocations
2024-03-12T19:12:41.9662333Z   can create a new kit as a user with the proper quantity
2024-03-12T19:12:43.4213484Z   can allocate and deallocate quantity per storage location from kit index
2024-03-12T19:12:43.4215071Z   when there is not enough quantity of the items contained in the kit on-hand
2024-03-12T19:12:44.5248876Z     will not change quantity amounts when allocating
2024-03-12T19:12:44.5249824Z   when there is no kit quantity
2024-03-12T19:12:45.6601343Z     will not change quantity amounts when deallocating
2024-03-12T19:12:45.6602017Z 
2024-03-12T19:12:45.6602371Z Profiles
2024-03-12T19:12:45.6603773Z   GET #edit
2024-03-12T19:12:45.7653164Z     returns http success
2024-03-12T19:12:45.7653994Z   POST #update
2024-03-12T19:12:45.7654760Z     successful save
2024-03-12T19:12:45.8136294Z       update partner
2024-03-12T19:12:45.8558590Z       redirects to #show
2024-03-12T19:12:45.8559768Z     when updating an existing value to a blank value
2024-03-12T19:12:45.8971762Z       should have blank values
2024-03-12T19:12:45.9427123Z       update partner
2024-03-12T19:12:45.9427987Z 
2024-03-12T19:12:45.9428572Z Purchases
2024-03-12T19:12:45.9429624Z   while signed in as a normal user
2024-03-12T19:12:45.9430469Z     When visiting the index page
2024-03-12T19:12:45.9431363Z       When filtering on the index page
2024-03-12T19:12:46.8060570Z         User can filter the #index by vendor
2024-03-12T19:12:47.6542899Z         User can filter the #index by storage location
2024-03-12T19:12:47.6543949Z         behaves like Date Range Picker
2024-03-12T19:12:47.6545089Z           when choosing 'All Time'
2024-03-12T19:12:48.6421671Z             shows all the records
2024-03-12T19:12:48.6422901Z           when choosing a date range that only includes the previous week
2024-03-12T19:12:49.5869020Z             shows only 1 record
2024-03-12T19:12:49.5870062Z           when choosing 'Last Month'
2024-03-12T19:12:50.5375297Z             shows only 2 of the records
2024-03-12T19:12:50.5376251Z       In the middle of the year
2024-03-12T19:12:51.2701448Z         User sees purchased date column
2024-03-12T19:12:52.0417684Z         User can click to the new purchase form
2024-03-12T19:12:52.7801001Z         User sees total purchases value
2024-03-12T19:12:52.7802003Z     When creating a new purchase
2024-03-12T19:12:53.2626466Z       should not display inactive storage locations in dropdown
2024-03-12T19:12:53.2627311Z       via barcode entry
2024-03-12T19:12:54.4689718Z         a user can add items that do not yet have a barcode
2024-03-12T19:12:55.3186009Z         a user can add items via scanning them in by barcode (FAILED - 1)
2024-03-12T19:12:55.3188726Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_a-user-can-add-items-via-scanning-them-in-by-barcode_2024-03-12-12-12-55.183.html[0m
2024-03-12T19:12:55.3192761Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_a-user-can-add-items-via-scanning-them-in-by-barcode_2024-03-12-12-12-55.183.png[0m
2024-03-12T19:12:56.1829292Z         User scan same barcode 2 times (FAILED - 2)
2024-03-12T19:12:56.1831459Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-scan-same-barcode-2-times_2024-03-12-12-12-56.048.html[0m
2024-03-12T19:12:56.1834585Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-scan-same-barcode-2-times_2024-03-12-12-12-56.048.png[0m
2024-03-12T19:12:56.1836091Z       via manual entry
2024-03-12T19:12:58.8501308Z         multiple line items for the same item type are accepted and combined on the backend (FAILED - 3)
2024-03-12T19:12:58.8503683Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_multiple-line-items-for-the-same-item-type-are-accepted-and-combined-on-the-backend_2024-03-12-12-12-58.714.html[0m
2024-03-12T19:12:58.8506773Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_multiple-line-items-for-the-same-item-type-are-accepted-and-combined-on-the-backend_2024-03-12-12-12-58.714.png[0m
2024-03-12T19:12:59.9348400Z         User can create a purchase IN THE PAST
2024-03-12T19:13:01.0621215Z         User can create vendor from purchase
2024-03-12T19:13:02.0133816Z         User can create a purchase using dollars decimal amount
2024-03-12T19:13:03.0903574Z         Does not include inactive items in the line item fields
2024-03-12T19:13:03.8867963Z         when creating a purchase incorrectly
2024-03-12T19:13:03.8868633Z           should display failure with error messages
2024-03-12T19:13:04.8874092Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-03-12T19:13:04.8875266Z       Editing purchase
2024-03-12T19:13:05.5104595Z         A user can view another organizations purchase
2024-03-12T19:13:06.0340735Z         A user can see purchased_from value
2024-03-12T19:13:06.0341674Z     When visiting an existing purchase
2024-03-12T19:13:06.4984034Z       does not allow deletion of a purchase
2024-03-12T19:13:06.4985008Z   while signed in as an organization admin
2024-03-12T19:13:07.3664591Z     allows deletion of a purchase
2024-03-12T19:13:07.3667637Z 
2024-03-12T19:13:07.3668038Z Dashboard
2024-03-12T19:13:07.3669440Z   With a new essentials bank
2024-03-12T19:13:35.4112359Z     displays the getting started guide until the steps are completed
2024-03-12T19:13:35.4113360Z   With an existing essentials bank
2024-03-12T19:13:35.4113976Z     Manufacturer Donations
2024-03-12T19:13:36.0028756Z       has a link to create a new donation
2024-03-12T19:13:36.0030619Z       given 1 Manufacturer donating on 2024-03-10  (unless 'All Time'), 4 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T19:13:36.0032246Z         filtering to 'Yesterday'
2024-03-12T19:13:37.8125114Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-03-12T19:13:37.8126908Z       given 1 Manufacturer donating on 2024-02-11  (unless 'All Time'), 9 during 2024-02-12..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:13:37.8128332Z         filtering to 'Last 30 Days'
2024-03-12T19:13:40.5833163Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-12T19:13:40.5835531Z       given 1 Manufacturer donating on 2022-03-11  (unless 'All Time'), 7 during 2022-03-12..2024-02-05, and 1 on 2024-02-06
2024-03-12T19:13:40.5836998Z         filtering to '' (March 12, 2022 - February 5, 2024)
2024-03-12T19:13:42.6774118Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-03-12T19:13:42.6776137Z       given 1 Manufacturer donating on 2024-03-05  (unless 'All Time'), 7 during 2024-03-06..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:13:42.6777496Z         filtering to 'Last 7 Days'
2024-03-12T19:13:44.8978699Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-03-12T19:13:44.8980722Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T19:13:44.8981635Z         filtering to 'Last Month'
2024-03-12T19:13:46.3560857Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-03-12T19:13:46.3562481Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T19:13:46.3563946Z         filtering to 'This Year'
2024-03-12T19:13:47.9148099Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-12T19:13:47.9149730Z       given 1 Manufacturer donating on 2024-03-11  (unless 'All Time'), 6 during 2024-03-12..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:13:47.9150781Z         filtering to 'Today'
2024-03-12T19:13:49.8226311Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-03-12T19:13:49.8227868Z       given 1 Manufacturer donating on 2024-02-29  (unless 'All Time'), 3 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T19:13:49.8228907Z         filtering to 'This Month'
2024-03-12T19:13:51.5796521Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-12T19:13:51.5798643Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 8 during 2000-01-01..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:13:51.5799977Z         filtering to 'All Time'
2024-03-12T19:13:53.7265336Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-03-12T19:13:53.7266302Z     Inventory Totals
2024-03-12T19:13:53.7267070Z       Summary
2024-03-12T19:13:54.4565556Z         displays the on-hand totals
2024-03-12T19:13:54.4566269Z         when constrained to date range
2024-03-12T19:13:55.5120061Z           does not change
2024-03-12T19:13:55.5121038Z     Donations
2024-03-12T19:13:56.4098038Z       has a link to create a new donation
2024-03-12T19:13:56.4099518Z       given 1 Donation on 2024-03-05 (only if a valid date), 0 during 2024-03-06..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:13:56.4100436Z         filtering to 'Last 7 Days'
2024-03-12T19:13:59.8678279Z           shows the correct total and 0 Recent Donation link(s)
2024-03-12T19:13:59.8680325Z       given 1 Donation on 2023-12-31 (only if a valid date), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T19:13:59.8681615Z         filtering to 'This Year'
2024-03-12T19:14:03.2053146Z           shows the correct total and 0 Recent Donation link(s)
2024-03-12T19:14:03.2054984Z       given 1 Donation on 2024-02-29 (only if a valid date), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T19:14:03.2055926Z         filtering to 'This Month'
2024-03-12T19:14:04.6158854Z           shows the correct total and 2 Recent Donation link(s)
2024-03-12T19:14:04.6160719Z       given 1 Donation on 2024-03-10 (only if a valid date), 2 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T19:14:04.6162148Z         filtering to 'Yesterday'
2024-03-12T19:14:06.0307440Z           shows the correct total and 2 Recent Donation link(s)
2024-03-12T19:14:06.0309866Z       given 1 Donation on 2024-03-11 (only if a valid date), 4 during 2024-03-12..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:14:06.0311104Z         filtering to 'Today'
2024-03-12T19:14:07.5323079Z           shows the correct total and 3 Recent Donation link(s)
2024-03-12T19:14:07.5324785Z       given 1 Donation on 2024-02-11 (only if a valid date), 3 during 2024-02-12..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:14:07.5325732Z         filtering to 'Last 30 Days'
2024-03-12T19:14:09.0058529Z           shows the correct total and 3 Recent Donation link(s)
2024-03-12T19:14:09.0060233Z       given 1 Donation on 2022-03-11 (only if a valid date), 1 during 2022-03-12..2023-10-15, and 1 on 2023-10-16
2024-03-12T19:14:09.0061146Z         filtering to '' (March 12, 2022 - October 15, 2023)
2024-03-12T19:14:10.4009004Z           shows the correct total and 1 Recent Donation link(s)
2024-03-12T19:14:10.4010576Z       given 1 Donation on 2024-01-31 (only if a valid date), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T19:14:10.4011408Z         filtering to 'Last Month'
2024-03-12T19:14:11.9012487Z           shows the correct total and 3 Recent Donation link(s)
2024-03-12T19:14:11.9013504Z     Product Drives
2024-03-12T19:14:12.4898268Z       has a widget for product drive summary data
2024-03-12T19:14:12.4900083Z       given 1 Product Drive Donation on 2024-03-10 (unless 'All Time'), 4 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T19:14:12.4901489Z         filtering to 'Yesterday'
2024-03-12T19:14:13.9951402Z           shows the correct total money raised
2024-03-12T19:14:15.5482645Z           shows 3 Recent Donation link(s)
2024-03-12T19:14:17.1113631Z           shows the correct total donations
2024-03-12T19:14:17.1120479Z       given 1 Product Drive Donation on 2024-02-29 (unless 'All Time'), 0 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T19:14:17.1122473Z         filtering to 'This Month'
2024-03-12T19:14:18.5216219Z           shows the correct total money raised
2024-03-12T19:14:19.8524518Z           shows the correct total donations
2024-03-12T19:14:23.1915210Z           shows 0 Recent Donation link(s)
2024-03-12T19:14:23.1917104Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 4 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T19:14:23.1918737Z         filtering to 'This Year'
2024-03-12T19:14:24.6981123Z           shows the correct total money raised
2024-03-12T19:14:26.2315993Z           shows 3 Recent Donation link(s)
2024-03-12T19:14:27.7265855Z           shows the correct total donations
2024-03-12T19:14:27.7269572Z       given 1 Product Drive Donation on 2024-03-05 (unless 'All Time'), 0 during 2024-03-06..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:14:27.7270946Z         filtering to 'Last 7 Days'
2024-03-12T19:14:31.0697149Z           shows 0 Recent Donation link(s)
2024-03-12T19:14:32.4059950Z           shows the correct total donations
2024-03-12T19:14:33.7668186Z           shows the correct total money raised
2024-03-12T19:14:33.7670243Z       given 1 Product Drive Donation on 2022-03-11 (unless 'All Time'), 3 during 2022-03-12..2023-11-02, and 1 on 2023-11-03
2024-03-12T19:14:33.7672246Z         filtering to '' (March 12, 2022 - November 2, 2023)
2024-03-12T19:14:35.2197325Z           shows the correct total donations
2024-03-12T19:14:36.7018921Z           shows the correct total money raised
2024-03-12T19:14:38.2007565Z           shows 3 Recent Donation link(s)
2024-03-12T19:14:38.2009417Z       given 1 Product Drive Donation on 2024-02-11 (unless 'All Time'), 2 during 2024-02-12..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:14:38.2010794Z         filtering to 'Last 30 Days'
2024-03-12T19:14:39.6405079Z           shows the correct total donations
2024-03-12T19:14:41.0710596Z           shows 2 Recent Donation link(s)
2024-03-12T19:14:42.5188640Z           shows the correct total money raised
2024-03-12T19:14:42.5189596Z       Product drive behaviour with Mixed Donation types
2024-03-12T19:14:43.3519847Z         only shows product drive donations as product drive donations
2024-03-12T19:14:44.0713271Z         only counts product drive money raised
2024-03-12T19:14:44.7703466Z         only counts product drive donations for product drive
2024-03-12T19:14:44.7705286Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T19:14:44.7706333Z         filtering to 'Last Month'
2024-03-12T19:14:46.2748698Z           shows 3 Recent Donation link(s)
2024-03-12T19:14:47.7390664Z           shows the correct total money raised
2024-03-12T19:14:49.2033234Z           shows the correct total donations
2024-03-12T19:14:49.2035096Z       given 1 Product Drive Donation on 2024-03-11 (unless 'All Time'), 4 during 2024-03-12..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:14:49.2036649Z         filtering to 'Today'
2024-03-12T19:14:50.7513208Z           shows the correct total money raised
2024-03-12T19:14:52.2634616Z           shows the correct total donations
2024-03-12T19:14:53.7714049Z           shows 3 Recent Donation link(s)
2024-03-12T19:14:53.7715010Z     Signage
2024-03-12T19:14:56.6430477Z       shows their organization name unless they have a logo set
2024-03-12T19:14:56.6431300Z     Distributions
2024-03-12T19:14:57.5501751Z       has a link to create a new distribution
2024-03-12T19:14:57.5503493Z       given 1 Distribution on 2024-03-05  (unless 'All Time'), 3 during 2024-03-06..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:14:57.5504642Z         filtering to 'Last 7 Days'
2024-03-12T19:14:59.0143293Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T19:14:59.0145134Z       given 1 Distribution on 2024-02-11  (unless 'All Time'), 1 during 2024-02-12..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:14:59.0146420Z         filtering to 'Last 30 Days'
2024-03-12T19:15:00.4087844Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-12T19:15:00.4089253Z       given 1 Distribution on 2024-02-29  (unless 'All Time'), 0 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T19:15:00.4090080Z         filtering to 'This Month'
2024-03-12T19:15:03.8140798Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-12T19:15:03.8142706Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 4 during 2000-01-01..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:15:03.8144177Z         filtering to 'All Time'
2024-03-12T19:15:05.2424083Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T19:15:05.2425753Z       given 1 Distribution on 2022-03-11  (unless 'All Time'), 1 during 2022-03-12..2024-01-05, and 1 on 2024-01-06
2024-03-12T19:15:05.2426646Z         filtering to '' (March 12, 2022 - January 5, 2024)
2024-03-12T19:15:06.6992234Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-12T19:15:06.6993874Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T19:15:06.6995126Z         filtering to 'This Year'
2024-03-12T19:15:08.1832714Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T19:15:08.1834781Z       given 1 Distribution on 2024-03-10  (unless 'All Time'), 4 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T19:15:08.1836015Z         filtering to 'Yesterday'
2024-03-12T19:15:09.6441228Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T19:15:09.6442929Z       given 1 Distribution on 2024-03-11  (unless 'All Time'), 0 during 2024-03-12..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:15:09.6443751Z         filtering to 'Today'
2024-03-12T19:15:13.0229286Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-12T19:15:13.0230822Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T19:15:13.0231626Z         filtering to 'Last Month'
2024-03-12T19:15:14.4770548Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T19:15:14.4772237Z     Purchases
2024-03-12T19:15:15.3767385Z       has a link to create a new purchase
2024-03-12T19:15:15.3769102Z       given 1 Purchase on 2024-03-11  (unless 'All Time'), 0 during 2024-03-12..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:15:15.3770568Z         filtering to 'Today'
2024-03-12T19:15:18.7158301Z           shows correct 0 Recent Purchase link(s)
2024-03-12T19:15:18.7161517Z       given 1 Purchase on 2024-03-05  (unless 'All Time'), 3 during 2024-03-06..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:15:18.7162638Z         filtering to 'Last 7 Days'
2024-03-12T19:15:20.1680422Z           shows correct 3 Recent Purchase link(s)
2024-03-12T19:15:20.1681872Z       given 1 Purchase on 2022-03-11  (unless 'All Time'), 4 during 2022-03-12..2024-03-10, and 1 on 2024-03-11
2024-03-12T19:15:20.1682774Z         filtering to '' (March 12, 2022 - March 10, 2024)
2024-03-12T19:15:21.7150959Z           shows correct 3 Recent Purchase link(s)
2024-03-12T19:15:21.7153057Z       given 1 Purchase on 2024-02-11  (unless 'All Time'), 1 during 2024-02-12..2024-03-12, and 1 on 2024-03-13
2024-03-12T19:15:21.7154525Z         filtering to 'Last 30 Days'
2024-03-12T19:15:23.0853337Z           shows correct 1 Recent Purchase link(s)
2024-03-12T19:15:23.0855136Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T19:15:23.0856367Z         filtering to 'Last Month'
2024-03-12T19:15:24.6026956Z           shows correct 3 Recent Purchase link(s)
2024-03-12T19:15:24.6028715Z       given 1 Purchase on 2024-03-10  (unless 'All Time'), 3 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T19:15:24.6029999Z         filtering to 'Yesterday'
2024-03-12T19:15:26.0719595Z           shows correct 3 Recent Purchase link(s)
2024-03-12T19:15:26.0721346Z       given 1 Purchase on 2024-02-29  (unless 'All Time'), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T19:15:26.0722965Z         filtering to 'This Month'
2024-03-12T19:15:27.4832708Z           shows correct 2 Recent Purchase link(s)
2024-03-12T19:15:27.4834195Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T19:15:27.4835192Z         filtering to 'This Year'
2024-03-12T19:15:28.9690752Z           shows correct 3 Recent Purchase link(s)
2024-03-12T19:15:28.9692102Z 
2024-03-12T19:15:28.9692373Z Vendor
2024-03-12T19:15:28.9694273Z   When vendor have purchases associated with them already
2024-03-12T19:15:29.5531229Z     can have a single vendor show semi-detailed stats about purchases
2024-03-12T19:15:30.1421519Z     can have existing vendors show in the #index with some summary stats
2024-03-12T19:15:30.1422240Z   when creating a new vendor
2024-03-12T19:15:30.9370240Z     can create a new vendor instance as a user
2024-03-12T19:15:31.6732528Z     cannot add a new vendor instance with empty attributes
2024-03-12T19:15:31.6733687Z   When a user views the index page
2024-03-12T19:15:32.1311580Z     should have the vendor names in alphabetical order
2024-03-12T19:15:32.1312810Z   when editing an existing vendor
2024-03-12T19:15:32.9029564Z     can update the contact info for a vendor as a user
2024-03-12T19:15:33.6672234Z     does not update a vendor with empty attributes
2024-03-12T19:15:33.6672943Z 
2024-03-12T19:15:33.6675013Z Managing requests
2024-03-12T19:15:33.6677206Z   creating a # individuals request
2024-03-12T19:15:33.6677893Z     GIVEN a partner user is permitted to make a request
2024-03-12T19:15:33.6678540Z       WHEN a request is built using add and remove buttons
2024-03-12T19:15:33.6679234Z         THEN a request records will be created
2024-03-12T19:15:35.5176745Z           creates the correct request
2024-03-12T19:15:35.5178029Z   creating a new quantity request
2024-03-12T19:15:35.5179257Z     GIVEN a partner user is permitted to make a request
2024-03-12T19:15:35.5180428Z       WHEN a request is built using add and remove buttons
2024-03-12T19:15:35.5182125Z         THEN a request records will be created
2024-03-12T19:15:37.4670317Z           creates the correct request
2024-03-12T19:15:37.4672110Z 
2024-03-12T19:15:37.4672501Z User account management
2024-03-12T19:15:37.4674012Z   when not in staging
2024-03-12T19:15:38.3555614Z     should change an user name
2024-03-12T19:15:39.2783282Z     should change the email
2024-03-12T19:15:40.0845887Z     should fail when the email is invalid
2024-03-12T19:15:40.0846777Z   when in staging
2024-03-12T19:15:40.5394039Z     should display staging warning
2024-03-12T19:15:40.9982814Z     should not allow the user to change staging credentials
2024-03-12T19:15:40.9983855Z 
2024-03-12T19:15:40.9984244Z Admin::Questions
2024-03-12T19:15:40.9985502Z   while signed in as a super admin
2024-03-12T19:15:40.9987222Z     GET #new
2024-03-12T19:15:41.0409158Z       lets the user load the new question page
2024-03-12T19:15:41.0410032Z     GET #index
2024-03-12T19:15:41.0746557Z       lets the user load the page
2024-03-12T19:15:41.0747457Z     PATCH #update
2024-03-12T19:15:41.1006284Z       lets the user update questions
2024-03-12T19:15:41.1007107Z     DELETE #destroy
2024-03-12T19:15:41.1233873Z       lets the user delete questions
2024-03-12T19:15:41.1234984Z     POST #create
2024-03-12T19:15:41.1441049Z       lets the user create questions
2024-03-12T19:15:41.1441863Z     GET #edit
2024-03-12T19:15:41.1857122Z       lets the user load the edit question page
2024-03-12T19:15:41.1858276Z 
2024-03-12T19:15:41.1858939Z StorageLocations
2024-03-12T19:15:41.1860193Z   While not signed in
2024-03-12T19:15:41.1935838Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T19:15:41.1936403Z   While signed in
2024-03-12T19:15:41.1937810Z     PUT #reactivate
2024-03-12T19:15:41.2125297Z       undiscards
2024-03-12T19:15:41.2125901Z     GET #index
2024-03-12T19:15:41.2126755Z       html
2024-03-12T19:15:41.2523254Z         succeeds
2024-03-12T19:15:41.2523850Z         with inactive locations
2024-03-12T19:15:41.2905489Z           does not includes the inactive location
2024-03-12T19:15:41.2906239Z           with include_inactive_locations
2024-03-12T19:15:41.3292619Z             includes the inactive location
2024-03-12T19:15:41.3293710Z       csv
2024-03-12T19:15:41.3498427Z         succeeds
2024-03-12T19:15:41.4513154Z         includes headers followed by alphabetized item names
2024-03-12T19:15:41.4514394Z     GET #inventory
2024-03-12T19:15:41.4515035Z       when also including omitted items
2024-03-12T19:15:41.5034017Z         returns a collection that also includes all items, but with zeroed quantities
2024-03-12T19:15:41.5528474Z         contains a collection of ducktyped entries that respond the same
2024-03-12T19:15:41.5529206Z       when also including inactive items
2024-03-12T19:15:41.6334049Z         returns a collection that also includes items that have been deactivated
2024-03-12T19:15:41.6335175Z       without any overrides
2024-03-12T19:15:41.6892915Z         returns a collection that only includes items at the storage location
2024-03-12T19:15:41.6893716Z     POST #import_csv
2024-03-12T19:15:41.6894352Z       with a csv file
2024-03-12T19:15:41.7058991Z         presents a flash notice message
2024-03-12T19:15:41.7209896Z         redirects
2024-03-12T19:15:41.7262798Z         invokes .import_csv
2024-03-12T19:15:41.7263620Z       csv file with wrong headers
2024-03-12T19:15:41.7408154Z         presents a flash error message
2024-03-12T19:15:41.7550949Z         redirects
2024-03-12T19:15:41.7551670Z       without a csv file
2024-03-12T19:15:41.7673315Z         presents a flash error message
2024-03-12T19:15:41.7791252Z         redirects to :index
2024-03-12T19:15:41.7792194Z     GET #new
2024-03-12T19:15:41.9310866Z       returns http success
2024-03-12T19:15:41.9312140Z     GET #edit
2024-03-12T19:15:41.9662438Z       returns http success
2024-03-12T19:15:41.9663200Z     PUT #deactivate
2024-03-12T19:15:41.9871430Z       discards
2024-03-12T19:15:41.9872250Z       with inventory
2024-03-12T19:15:42.0347726Z         does not discard
2024-03-12T19:15:42.0348754Z     GET #show
2024-03-12T19:15:42.0349357Z       csv
2024-03-12T19:15:42.0863968Z         should be successful
2024-03-12T19:15:42.0864709Z       html
2024-03-12T19:15:42.1543390Z         should return a correct response
2024-03-12T19:15:42.1544273Z         with version date set
2024-03-12T19:15:42.1544774Z           with a version found
2024-03-12T19:15:42.2488249Z             should show the version specified
2024-03-12T19:15:42.2488893Z           with no version found
2024-03-12T19:15:42.3238439Z             should show N/A
2024-03-12T19:15:42.3239530Z     GET #destroy
2024-03-12T19:15:42.3524575Z       redirects to #index
2024-03-12T19:15:42.3525289Z     Looking at a different organization
2024-03-12T19:15:42.5296872Z       redirects the user to the sign-in page for CRUD actions
2024-03-12T19:15:42.5297586Z 
2024-03-12T19:15:42.5298108Z /partners/profiles
2024-03-12T19:15:42.5299115Z   PUT #update
2024-03-12T19:15:42.5864054Z     updates the partner and profile
2024-03-12T19:15:42.5864838Z     when updating an existing value to a blank value
2024-03-12T19:15:42.6390999Z       updates the partner profile attribute to a blank value
2024-03-12T19:15:42.6937872Z       does store N/A in the database
2024-03-12T19:15:42.7442766Z       does not update other partner profile attributes to blank
2024-03-12T19:15:42.7443486Z     with no social media
2024-03-12T19:15:42.8414905Z       shows an error
2024-03-12T19:15:42.8415809Z   GET #show
2024-03-12T19:15:42.9009317Z     shows correct values for yes/no buttons
2024-03-12T19:15:42.9833752Z     displays the partner
2024-03-12T19:15:42.9834323Z   GET #edit
2024-03-12T19:15:43.0529747Z     does not have default radio button value when value is nil
2024-03-12T19:15:43.1420766Z     has "Yes" radio button value when value is true
2024-03-12T19:15:43.2310436Z     displays the partner
2024-03-12T19:15:43.3203458Z     has "No" radio button value when value is false
2024-03-12T19:15:43.3204041Z 
2024-03-12T19:15:43.3204297Z Admin Organization Management
2024-03-12T19:15:43.3206154Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-12T19:15:45.3121246Z     creates a new organization
2024-03-12T19:15:45.3122025Z   While signed in as an Administrative User (super admin)
2024-03-12T19:15:46.4703602Z     filters by organizations by name in organizations index page
2024-03-12T19:15:48.3765496Z     creates a new organization
2024-03-12T19:15:49.6992636Z     can view organization details
2024-03-12T19:15:49.7176346Z W, [2024-03-12T12:15:49.717386 #2429]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-12T19:15:49.7178134Z W, [2024-03-12T12:15:49.717440 #2429]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T19:15:49.7180886Z W, [2024-03-12T12:15:49.717455 #2429]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T19:15:49.7182492Z W, [2024-03-12T12:15:49.717477 #2429]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-12T19:15:49.7604520Z 
2024-03-12T19:15:49.7605001Z Failures:
2024-03-12T19:15:49.7605266Z 
2024-03-12T19:15:49.7606259Z   1) Purchases while signed in as a normal user When creating a new purchase via barcode entry a user can add items via scanning them in by barcode
2024-03-12T19:15:49.7609832Z      Failure/Error: qty = page.find(:xpath, '//input[@id="purchase_line_items_attributes_0_quantity"]').value
2024-03-12T19:15:49.7610776Z 
2024-03-12T19:15:49.7610995Z      Ferrum::JavaScriptError:
2024-03-12T19:15:49.7611790Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T19:15:49.7613835Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:35803/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T19:15:49.7616120Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T19:15:49.7617382Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T19:15:49.7618093Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T19:15:49.7618810Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T19:15:49.7619291Z 
2024-03-12T19:15:49.7620533Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/capybara/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_barcode_entry_a_user_can_add_items_via_scanning_them_in_by_barcode_253.png
2024-03-12T19:15:49.7621771Z 
2024-03-12T19:15:49.7621776Z 
2024-03-12T19:15:49.7622080Z      # ./spec/system/purchase_system_spec.rb:235:in `block (5 levels) in <top (required)>'
2024-03-12T19:15:49.7622512Z 
2024-03-12T19:15:49.7622987Z   2) Purchases while signed in as a normal user When creating a new purchase via barcode entry User scan same barcode 2 times
2024-03-12T19:15:49.7623743Z      Failure/Error: @__Condition__.wait @__Lock__, timeout
2024-03-12T19:15:49.7624041Z 
2024-03-12T19:15:49.7624153Z      Ferrum::JavaScriptError:
2024-03-12T19:15:49.7624609Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T19:15:49.7625759Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:35803/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T19:15:49.7626788Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T19:15:49.7627496Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T19:15:49.7628194Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T19:15:49.7628887Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T19:15:49.7629351Z 
2024-03-12T19:15:49.7630473Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_barcode_entry_user_scan_same_barcode_2_times_293.png
2024-03-12T19:15:49.7631551Z 
2024-03-12T19:15:49.7631555Z 
2024-03-12T19:15:49.7632790Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `sleep'
2024-03-12T19:15:49.7634695Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `wait'
2024-03-12T19:15:49.7636573Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `ns_wait'
2024-03-12T19:15:49.7638592Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:44:in `block in ns_wait_until'
2024-03-12T19:15:49.7640551Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `loop'
2024-03-12T19:15:49.7642475Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `ns_wait_until'
2024-03-12T19:15:49.7644300Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:87:in `block in wait'
2024-03-12T19:15:49.7646473Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `block in synchronize'
2024-03-12T19:15:49.7648439Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T19:15:49.7650348Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T19:15:49.7652283Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:84:in `wait'
2024-03-12T19:15:49.7653938Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:75:in `wait'
2024-03-12T19:15:49.7655627Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:99:in `value!'
2024-03-12T19:15:49.7657132Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/browser/client.rb:42:in `command'
2024-03-12T19:15:49.7658427Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/page.rb:269:in `command'
2024-03-12T19:15:49.7659755Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:109:in `block in call'
2024-03-12T19:15:49.7661142Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/utils/attempt.rb:10:in `with_retry'
2024-03-12T19:15:49.7662481Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:105:in `call'
2024-03-12T19:15:49.7663826Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:97:in `evaluate_on'
2024-03-12T19:15:49.7664844Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T19:15:49.7665602Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T19:15:49.7666712Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/browser.rb:171:in `value'
2024-03-12T19:15:49.7668068Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:21:in `command'
2024-03-12T19:15:49.7669400Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:89:in `value'
2024-03-12T19:15:49.7670806Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:106:in `block in value'
2024-03-12T19:15:49.7672558Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/base.rb:77:in `synchronize'
2024-03-12T19:15:49.7673986Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:106:in `value'
2024-03-12T19:15:49.7675592Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/definition/field.rb:27:in `block (2 levels) in <top (required)>'
2024-03-12T19:15:49.7677268Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `instance_exec'
2024-03-12T19:15:49.7679070Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `apply'
2024-03-12T19:15:49.7680584Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:24:in `matches?'
2024-03-12T19:15:49.7682268Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:294:in `block (2 levels) in matches_node_filters?'
2024-03-12T19:15:49.7683896Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `each'
2024-03-12T19:15:49.7685359Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `all?'
2024-03-12T19:15:49.7686964Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `block in matches_node_filters?'
2024-03-12T19:15:49.7688597Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/selector.rb:89:in `with_filter_errors'
2024-03-12T19:15:49.7690196Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:283:in `matches_node_filters?'
2024-03-12T19:15:49.7691806Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:124:in `matches_filters?'
2024-03-12T19:15:49.7693316Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/result.rb:32:in `block in initialize'
2024-03-12T19:15:49.7694612Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T19:15:49.7695754Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T19:15:49.7696891Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T19:15:49.7698018Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T19:15:49.7698698Z      # 
2024-03-12T19:15:49.7699023Z      #   Showing full backtrace because every line was filtered out.
2024-03-12T19:15:49.7699606Z      #   See docs for RSpec::Configuration#backtrace_exclusion_patterns and
2024-03-12T19:15:49.7700212Z      #   RSpec::Configuration#backtrace_inclusion_patterns for more information.
2024-03-12T19:15:49.7700605Z 
2024-03-12T19:15:49.7701283Z   3) Purchases while signed in as a normal user When creating a new purchase via manual entry multiple line items for the same item type are accepted and combined on the backend
2024-03-12T19:15:49.7702272Z      Failure/Error: page.find(:css, "#__add_line_item").click
2024-03-12T19:15:49.7702584Z 
2024-03-12T19:15:49.7702692Z      Capybara::ElementNotFound:
2024-03-12T19:15:49.7703032Z        Unable to find css "#__add_line_item"
2024-03-12T19:15:49.7703284Z 
2024-03-12T19:15:49.7704610Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_manual_entry_multiple_line_items_for_the_same_item_type_are_accepted_and_combined_on_the_backend_101.png
2024-03-12T19:15:49.7705863Z 
2024-03-12T19:15:49.7705867Z 
2024-03-12T19:15:49.7706169Z      # ./spec/system/purchase_system_spec.rb:172:in `block (5 levels) in <top (required)>'
2024-03-12T19:15:49.7706629Z 
2024-03-12T19:15:49.7706861Z Finished in 3 minutes 30.8 seconds (files took 8.34 seconds to load)
2024-03-12T19:15:49.7707608Z 212 examples, 3 failures
2024-03-12T19:15:49.7707787Z 
2024-03-12T19:15:49.7707875Z Failed examples:
2024-03-12T19:15:49.7708031Z 
2024-03-12T19:15:49.7708786Z rspec ./spec/system/purchase_system_spec.rb:227 # Purchases while signed in as a normal user When creating a new purchase via barcode entry a user can add items via scanning them in by barcode
2024-03-12T19:15:49.7710302Z rspec ./spec/system/purchase_system_spec.rb:240 # Purchases while signed in as a normal user When creating a new purchase via barcode entry User scan same barcode 2 times
2024-03-12T19:15:49.7712224Z rspec ./spec/system/purchase_system_spec.rb:167 # Purchases while signed in as a normal user When creating a new purchase via manual entry multiple line items for the same item type are accepted and combined on the backend
2024-03-12T19:15:49.7713244Z 
2024-03-12T19:15:49.7713348Z Randomized with seed 6919
2024-03-12T19:15:49.7713533Z 
2024-03-12T19:15:50.0635577Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T19:15:50.0638391Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3740 / 6478 LOC (57.73%) covered.
2024-03-12T19:15:50.1793919Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb" failed
2024-03-12T19:15:50.5679585Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T19:15:50.5681818Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10785 LOC (0.35%) covered.
2024-03-12T19:15:50.5941108Z ##[error]Process completed with exit code 1.
