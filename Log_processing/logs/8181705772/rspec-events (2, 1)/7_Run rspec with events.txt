2024-03-07T01:53:50.6413100Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-07T01:53:50.6414023Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-07T01:53:50.6464560Z shell: /usr/bin/bash -e {0}
2024-03-07T01:53:50.6464959Z env:
2024-03-07T01:53:50.6465283Z   POSTGRES_HOST: localhost
2024-03-07T01:53:50.6465744Z   DATABASE_HOST: localhost
2024-03-07T01:53:50.6466132Z   PG_USERNAME: postgres
2024-03-07T01:53:50.6466529Z   PG_PASSWORD: password
2024-03-07T01:53:50.6466987Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-07T01:53:50.6467396Z   POSTGRES_PORT: 5432
2024-03-07T01:53:50.6467767Z   PGHOST: localhost
2024-03-07T01:53:50.6468177Z   PGUSER: postgres
2024-03-07T01:53:50.6468485Z   RAILS_ENV: test
2024-03-07T01:53:50.6469085Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: ***
2024-03-07T01:53:50.6469614Z   KNAPSACK_PRO_CI_NODE_TOTAL: 2
2024-03-07T01:53:50.6470037Z   KNAPSACK_PRO_CI_NODE_INDEX: 1
2024-03-07T01:53:50.6470565Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-07T01:53:50.6471174Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-07T01:53:50.6471888Z   KNAPSACK_PRO_TEST_FILE_EXCLUDE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-07T01:53:50.6472728Z   EVENTS_READ: true
2024-03-07T01:53:50.6473093Z ##[endgroup]
2024-03-07T01:54:00.5045218Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/events/inventory_aggregate_spec.rb" "spec/models/product_drive_spec.rb" "spec/models/distribution_spec.rb" "spec/services/kit_create_service_spec.rb" "spec/services/organization_update_service_spec.rb" "spec/models/kit_spec.rb" "spec/models/audit_spec.rb" "spec/services/distribution_destroy_service_spec.rb" "spec/services/reports/adult_incontinence_report_service_spec.rb" "spec/models/storage_location_spec.rb" "spec/services/add_role_service_spec.rb" "spec/services/reports/summary_report_service_spec.rb" "spec/services/reports/warehouse_report_service_spec.rb" "spec/queries/items_in_query_spec.rb" "spec/services/remove_role_service_spec.rb" "spec/services/distribution_create_service_spec.rb" "spec/controllers/application_controller_spec.rb" "spec/services/item_create_service_spec.rb" "spec/models/donation_spec.rb" "spec/services/reports/period_supply_report_service_spec.rb" "spec/services/user_invite_service_spec.rb" "spec/services/exports/export_distributions_csv_service_spec.rb" "spec/jobs/partner_mailer_job_spec.rb" "spec/controllers/donations_controller_spec.rb" "spec/models/manufacturer_spec.rb" "spec/services/partner_fetch_requestable_items_service_spec.rb" "spec/models/event_spec.rb" "spec/helpers/application_helper_spec.rb" "spec/models/product_drive_participant_spec.rb" "spec/models/barcode_item_spec.rb" "spec/controllers/transfers_controller_spec.rb" "spec/services/distribution_update_service_spec.rb" "spec/services/distributions_by_county_report_service_spec.rb" "spec/services/historical_trend_service_spec.rb" "spec/services/partners/request_create_service_spec.rb" "spec/models/vendor_spec.rb" "spec/models/partners/family_spec.rb" "spec/queries/items_out_query_spec.rb" "spec/models/donation_site_spec.rb" "spec/models/user_spec.rb" "spec/services/distribution_reminder_spec.rb" "spec/services/partner_profile_update_service_spec.rb" "spec/models/partners/profile_spec.rb" "spec/pdfs/distribution_pdf_spec.rb" "spec/queries/items_out_total_query_spec.rb" "spec/mailers/reminder_deadline_mailer_spec.rb" "spec/services/partners/update_family_spec.rb" "spec/services/request_destroy_service_spec.rb" "spec/models/broadcast_announcement_spec.rb" "spec/models/question_spec.rb" "spec/mailers/organization_mailer_spec.rb" "spec/models/organization_stats_spec.rb" "spec/models/item_category_spec.rb" "spec/models/inventory_item_spec.rb" "spec/models/base_item_spec.rb" "spec/mailers/request_mailer_spec.rb" "spec/services/donation_destroy_service_spec.rb" "spec/models/request_spec.rb" "spec/models/partners/child_item_request_spec.rb" "spec/models/ndbn_member_spec.rb" "spec/controllers/help_controller_spec.rb" "spec/models/role_spec.rb" "spec/services/donation_create_service_spec.rb" "spec/helpers/product_drive_helper_spec.rb" "spec/helpers/historical_trends_helper_spec.rb" "spec/lib/dispersed_past_dates_generator_spec.rb" "spec/models/kit_allocation_spec.rb" "spec/services/exports/export_report_csv_service_spec.rb"
2024-03-07T01:54:09.2759696Z 
2024-03-07T01:54:09.2760491Z Randomized with seed 61226
2024-03-07T01:54:10.1624001Z 
2024-03-07T01:54:10.1624708Z Distribution
2024-03-07T01:54:10.1625966Z   Scopes >
2024-03-07T01:54:10.1627017Z     by_item_id >
2024-03-07T01:54:10.3686430Z       only returns distributions with given item id
2024-03-07T01:54:10.3687576Z     by_partner >
2024-03-07T01:54:10.4192976Z       only returns distributions with given partner id
2024-03-07T01:54:10.4193896Z     during >
2024-03-07T01:54:10.5189095Z       returns all distributions created between two dates
2024-03-07T01:54:10.5190046Z     this_week >
2024-03-07T01:54:10.5190919Z       When it's Sunday (end of the week)
2024-03-07T01:54:10.5711201Z         doesn't include distributions past Sunday
2024-03-07T01:54:10.5712254Z       When it's Tuesday (mid-week)
2024-03-07T01:54:10.6407938Z         includes distributions as early as Monday and as late as upcoming Sunday
2024-03-07T01:54:10.6409093Z     by_location >
2024-03-07T01:54:10.6945259Z       only returns distributions with given location id
2024-03-07T01:54:10.6946339Z   behaves like itemizable
2024-03-07T01:54:10.6946909Z     .to_a
2024-03-07T01:54:10.6947518Z       with Flipper flag :deprecate_to_a enabled
2024-03-07T01:54:10.7301447Z         raises an error
2024-03-07T01:54:10.7301994Z       with Flipper flag :deprecate_to_a disabled
2024-03-07T01:54:10.7635004Z         calls line_item_values
2024-03-07T01:54:10.7635685Z     .line_items
2024-03-07T01:54:10.7636481Z       combine!
2024-03-07T01:54:10.8082391Z         combines multiple line_items with the same item_id into a single record
2024-03-07T01:54:10.8669894Z         incrementally combines line_items on donations that have already been created
2024-03-07T01:54:10.8670885Z       sorted
2024-03-07T01:54:10.9905695Z         displays the items, sorted by name
2024-03-07T01:54:11.0823379Z       total
2024-03-07T01:54:11.0824335Z         has an item total
2024-03-07T01:54:11.0825017Z       quantities_by_name
2024-03-07T01:54:11.1691911Z         leaves out zero-quantitied items if requested
2024-03-07T01:54:11.2529795Z         returns a hash of items with id, name, and quantity
2024-03-07T01:54:11.2530796Z   CSV export >
2024-03-07T01:54:11.2531371Z     for_csv_export >
2024-03-07T01:54:11.5798873Z       filters only to the given filter
2024-03-07T01:54:11.9183112Z       filters only to the given organization
2024-03-07T01:54:12.2541028Z       filters only to the given issue time range
2024-03-07T01:54:12.2541672Z     csv_export_attributes
2024-03-07T01:54:12.6649361Z       returns the set of attributes which define a row in case of distribution export
2024-03-07T01:54:12.6650214Z   Validations >
2024-03-07T01:54:12.6708130Z     requires a storage location
2024-03-07T01:54:12.6763774Z     must belong to an organization
2024-03-07T01:54:12.6928350Z     ensures the associated line_items are invalid with a zero quantity
2024-03-07T01:54:12.6963680Z     ensures that any included items are found in the associated storage location
2024-03-07T01:54:12.7124427Z     ensures the associated line_items are invalid with a nil quantity
2024-03-07T01:54:12.7174146Z     requires a partner
2024-03-07T01:54:12.7579975Z     ensures the associated line_items are valid
2024-03-07T01:54:12.7640681Z     ensures that the issued at is no earlier than 2000
2024-03-07T01:54:12.7641860Z     when delivery method is other then shipped
2024-03-07T01:54:12.7915806Z       allows to save distribution
2024-03-07T01:54:12.7916798Z     when delivery method is shipped
2024-03-07T01:54:12.7917529Z       shipping cost is none negative
2024-03-07T01:54:12.8185376Z         allows to save distribution
2024-03-07T01:54:12.8186153Z       shipping cost is negative
2024-03-07T01:54:12.8246625Z         will not allow to save distribution
2024-03-07T01:54:12.8247515Z   versioning
2024-03-07T01:54:12.8284488Z     is expected to be versioned
2024-03-07T01:54:12.8285176Z   Callbacks >
2024-03-07T01:54:12.8788510Z     initializes the issued_at field to default to midnight if it wasn't explicitly set
2024-03-07T01:54:12.8789697Z     #before_save
2024-03-07T01:54:12.8790281Z       #reset_shipping_cost
2024-03-07T01:54:12.8791215Z         when delivery_method is other then shipped
2024-03-07T01:54:12.9097652Z           distribution will be created successfully and the shipping_cost will be zero
2024-03-07T01:54:12.9099005Z   Methods >
2024-03-07T01:54:12.9101256Z     #distributed_at
2024-03-07T01:54:12.9619080Z       displays explicit issued_at date
2024-03-07T01:54:12.9889157Z       shows the hour and minutes if it has been provided
2024-03-07T01:54:12.9890434Z     #copy_line_items
2024-03-07T01:54:13.0319432Z       replicates line_items from a donation into a distribution
2024-03-07T01:54:13.0320532Z     #future?
2024-03-07T01:54:13.0321134Z       when issued_at has passed
2024-03-07T01:54:13.0602350Z         returns false
2024-03-07T01:54:13.0603459Z       when issued_at has not passed
2024-03-07T01:54:13.0883770Z         returns true
2024-03-07T01:54:13.0884808Z     #copy_from_request
2024-03-07T01:54:13.1213903Z       copy over relevant request information into the distrubution
2024-03-07T01:54:13.1214869Z     #combine_duplicates
2024-03-07T01:54:13.1638483Z       condenses duplicate line_items if the item_ids match
2024-03-07T01:54:13.1640491Z 
2024-03-07T01:54:13.1640847Z Audit
2024-03-07T01:54:13.1641865Z   behaves like itemizable
2024-03-07T01:54:13.1642750Z     .line_items
2024-03-07T01:54:13.1643653Z       quantities_by_name
2024-03-07T01:54:13.2529254Z         returns a hash of items with id, name, and quantity
2024-03-07T01:54:13.3319878Z         leaves out zero-quantitied items if requested
2024-03-07T01:54:13.3321048Z       combine!
2024-03-07T01:54:13.3877381Z         combines multiple line_items with the same item_id into a single record
2024-03-07T01:54:13.4366384Z         incrementally combines line_items on donations that have already been created
2024-03-07T01:54:13.4367801Z       total
2024-03-07T01:54:13.5244644Z         has an item total
2024-03-07T01:54:13.5245301Z       sorted
2024-03-07T01:54:13.6438956Z         displays the items, sorted by name
2024-03-07T01:54:13.6439843Z     .to_a
2024-03-07T01:54:13.6440818Z       with Flipper flag :deprecate_to_a enabled
2024-03-07T01:54:13.6934267Z         raises an error
2024-03-07T01:54:13.6934944Z       with Flipper flag :deprecate_to_a disabled
2024-03-07T01:54:13.7426739Z         calls line_item_values
2024-03-07T01:54:13.7427499Z   Methods >
2024-03-07T01:54:13.9861693Z     `self.storage_locations_audited_for` returns only storage_locations that are used for one org
2024-03-07T01:54:14.3481761Z     `self.finalized_since?` returns true iff some finalized audit occurred after itemizable created_at that shares item for location(s)
2024-03-07T01:54:14.3483484Z   Scopes >
2024-03-07T01:54:14.3916453Z     `at_location` can filter out audits to a specific location
2024-03-07T01:54:14.3917105Z   Validations >
2024-03-07T01:54:14.4532014Z     can not have line items that has quantity as negative integer
2024-03-07T01:54:14.5127639Z     can have line items that has quantity as zero
2024-03-07T01:54:14.5689896Z     can have line items that has quantity as a positive integer
2024-03-07T01:54:14.5980737Z     must belong to an organization
2024-03-07T01:54:14.6082631Z     must belong to an organization admin of its organization
2024-03-07T01:54:14.6631539Z     can not have line items that has quantity as a string that cannot be reduced to an integer
2024-03-07T01:54:14.7177561Z     cannot have duplicate line items
2024-03-07T01:54:14.7178356Z   versioning
2024-03-07T01:54:14.7215599Z     is expected to be versioned
2024-03-07T01:54:14.7216366Z 
2024-03-07T01:54:14.7216610Z BroadcastAnnouncement
2024-03-07T01:54:14.7312990Z   is expected to belong to organization optional: true
2024-03-07T01:54:14.7370390Z   is expected to validate that :message cannot be empty/falsy
2024-03-07T01:54:14.7428930Z   should roughly check if link is valid
2024-03-07T01:54:14.7469094Z   is expected to belong to user required: true
2024-03-07T01:54:14.7522522Z   should validate a good link
2024-03-07T01:54:14.7575831Z   should validate a valid announcement
2024-03-07T01:54:14.7577120Z   filter_announcements
2024-03-07T01:54:14.7718099Z     shouldn't include expired announcements
2024-03-07T01:54:14.7852084Z     should include only announcements from the passed organization
2024-03-07T01:54:14.8000526Z     sorts announcements from most recently created to last
2024-03-07T01:54:14.8001759Z   versioning
2024-03-07T01:54:14.8039819Z     is expected to be versioned
2024-03-07T01:54:14.8040923Z   expired?
2024-03-07T01:54:14.8108330Z     should be false if the announcement has not expired
2024-03-07T01:54:14.8168656Z     should be true if the announcement is expired
2024-03-07T01:54:14.8169341Z 
2024-03-07T01:54:14.8169581Z ItemsOutTotalQuery
2024-03-07T01:54:14.8172490Z   items_out_total_query
2024-03-07T01:54:14.9424902Z     returns a sum total of all out-flows
2024-03-07T01:54:14.9425540Z 
2024-03-07T01:54:14.9426046Z HistoricalTrendsHelper
2024-03-07T01:54:14.9426804Z   #last_12_months
2024-03-07T01:54:14.9498027Z     returns the last 12 months starting from July when the current month is June
2024-03-07T01:54:14.9539140Z     returns the last 12 months starting from Feb when the current month is Jan
2024-03-07T01:54:14.9580875Z     returns the last 12 months starting from Jan when the current month is Dec
2024-03-07T01:54:14.9581760Z 
2024-03-07T01:54:14.9582003Z ProductDriveHelper
2024-03-07T01:54:14.9582942Z   #is_virtual
2024-03-07T01:54:14.9584842Z     when the product drive wasn't held virtually
2024-03-07T01:54:14.9694512Z       is expected to eq "No"
2024-03-07T01:54:14.9695364Z     when the product drive was held virtually
2024-03-07T01:54:14.9747179Z       is expected to eq "Yes"
2024-03-07T01:54:14.9748145Z     when a product drive was not provided
2024-03-07T01:54:14.9791815Z       with blank argument
2024-03-07T01:54:14.9835098Z       without argument
2024-03-07T01:54:14.9836334Z 
2024-03-07T01:54:14.9836697Z TransfersController
2024-03-07T01:54:14.9837962Z   While not signed in
2024-03-07T01:54:14.9977093Z     redirects the user to the sign-in page for CRUD actions
2024-03-07T01:54:14.9978040Z   While signed in
2024-03-07T01:54:14.9978632Z     GET #new
2024-03-07T01:54:15.0167967Z       returns http success
2024-03-07T01:54:15.0168678Z     POST #create
2024-03-07T01:54:15.0635584Z       redirects to #show when successful
2024-03-07T01:54:15.0780966Z       renders to #new when failing
2024-03-07T01:54:15.0781766Z     GET #show
2024-03-07T01:54:15.1036947Z       returns http success
2024-03-07T01:54:15.1038062Z     Looking at a different organization
2024-03-07T01:54:15.2826874Z       redirects the user to the sign-in page for CRUD actions
2024-03-07T01:54:15.2827743Z     GET #index
2024-03-07T01:54:15.2975214Z       returns http success
2024-03-07T01:54:15.2976674Z       when filtering by date
2024-03-07T01:54:15.2977418Z         when date parameters are supplied
2024-03-07T01:54:15.3515077Z           only returns the correct obejects
2024-03-07T01:54:15.3516313Z         when date parameters are not supplied
2024-03-07T01:54:15.3919414Z           returns all objects
2024-03-07T01:54:15.3919977Z 
2024-03-07T01:54:15.3920517Z Event
2024-03-07T01:54:15.3921248Z   #most_recent_snapshot
2024-03-07T01:54:15.6339770Z     should include the last usable snapshot
2024-03-07T01:54:15.8791261Z     should not include an unusable snapshot
2024-03-07T01:54:15.8792309Z 
2024-03-07T01:54:15.8792835Z PartnerMailerJob
2024-03-07T01:54:15.8793788Z   conditionally sending the emails
2024-03-07T01:54:16.1895791Z     sends mail for future distributions immediately
2024-03-07T01:54:16.4011464Z     does not send mail for past distributions
2024-03-07T01:54:16.4012193Z     when the distribution is for a deactivated partner
2024-03-07T01:54:16.6002437Z       does not send the email
2024-03-07T01:54:16.6003495Z 
2024-03-07T01:54:16.6004208Z StorageLocation
2024-03-07T01:54:16.6006040Z   Validations >
2024-03-07T01:54:16.6076978Z     is expected to validate that :name cannot be empty/falsy
2024-03-07T01:54:16.6138396Z     is expected to validate that :address cannot be empty/falsy
2024-03-07T01:54:16.6194381Z     is expected to validate that :organization cannot be empty/falsy
2024-03-07T01:54:16.6195214Z   Methods >
2024-03-07T01:54:16.6197050Z     csv_export_attributes
2024-03-07T01:54:16.6838564Z       returns an array of storage location attributes, followed by inventory item quantities that are sorted by alphabetized item names
2024-03-07T01:54:16.6840419Z     import_csv
2024-03-07T01:54:16.7049426Z       imports storage locations from a csv file
2024-03-07T01:54:16.7050628Z     geocode
2024-03-07T01:54:16.7175109Z       adds coordinates to the database
2024-03-07T01:54:16.7175879Z     decrease_inventory
2024-03-07T01:54:16.8260942Z       decreases inventory quantities from an itemizable object
2024-03-07T01:54:16.8261997Z       when there is insufficient inventory available
2024-03-07T01:54:16.8353099Z         gives informative errors
2024-03-07T01:54:16.8440288Z         does not change inventory quantities if there is an error
2024-03-07T01:54:16.8441260Z     StorageLocation.items_inventoried
2024-03-07T01:54:16.9302994Z       returns a collection of items that are stored within inventories
2024-03-07T01:54:16.9303715Z     item_total
2024-03-07T01:54:16.9694777Z       retrieves the total for a single item
2024-03-07T01:54:16.9695864Z     increase_inventory
2024-03-07T01:54:16.9696703Z       With existing inventory
2024-03-07T01:54:17.0763013Z         increases inventory quantities from an itemizable object
2024-03-07T01:54:17.0764166Z       when providing a new item that does not yet exist
2024-03-07T01:54:17.1832329Z         creates those new inventory items in the storage location
2024-03-07T01:54:17.1833673Z     inventory_total_value_in_dollars
2024-03-07T01:54:17.2315613Z       returns total value of all items in this storage location
2024-03-07T01:54:17.2727562Z       returns a value including cents if the total isn't an even dollar amount
2024-03-07T01:54:17.2862697Z       returns 0 when there are no items in this storage location
2024-03-07T01:54:17.2863667Z     size
2024-03-07T01:54:17.3337089Z       returns total quantity of all items in this storage location
2024-03-07T01:54:17.3338111Z     import_inventory
2024-03-07T01:54:17.6287887Z       imports storage locations from a csv file
2024-03-07T01:54:17.6288779Z   Callbacks >
2024-03-07T01:54:17.6289183Z     before_destroy
2024-03-07T01:54:17.6673563Z       does not delete storage locations with inventory items on it
2024-03-07T01:54:17.7307666Z       deletes storage locations with no inventory items on it
2024-03-07T01:54:17.7308898Z   versioning
2024-03-07T01:54:17.7350710Z     is expected to be versioned
2024-03-07T01:54:17.7351419Z   Filtering >
2024-03-07T01:54:17.8084149Z     ->containing yields only inventories that have that item
2024-03-07T01:54:17.8174705Z     ->active_locations yields only storage locations that haven't been discarded
2024-03-07T01:54:17.8175382Z 
2024-03-07T01:54:17.8176131Z ProductDrive
2024-03-07T01:54:18.0509741Z   calculates donation quantity by date
2024-03-07T01:54:18.2960038Z   calculates and returns all donated organization item quantities by name and date
2024-03-07T01:54:18.4474493Z   calculates in-kind value
2024-03-07T01:54:18.5891993Z   calculates donation quantity
2024-03-07T01:54:19.2731169Z   calculates and returns all donated organization item quantities by category and date
2024-03-07T01:54:19.2732268Z   validations
2024-03-07T01:54:19.4144401Z     is expected not to be valid
2024-03-07T01:54:19.5539615Z     is expected not to be valid
2024-03-07T01:54:19.6955779Z     is expected not to be valid
2024-03-07T01:54:19.6956885Z   scopes
2024-03-07T01:54:19.6957432Z     .within_date_range
2024-03-07T01:54:19.8411839Z       returns the product drive 1
2024-03-07T01:54:19.9957575Z       does not include product drive 2
2024-03-07T01:54:19.9958323Z     .by_item_category_id
2024-03-07T01:54:20.3280342Z       returns the product_drive with name some_name
2024-03-07T01:54:20.6726419Z       does not return other_name
2024-03-07T01:54:20.6727234Z     .by_name
2024-03-07T01:54:20.8274599Z       does not return other_name
2024-03-07T01:54:20.9740634Z       returns the product_drive with name some_name
2024-03-07T01:54:20.9741489Z   donation_source_view
2024-03-07T01:54:21.1142503Z     returns formatted text
2024-03-07T01:54:21.1143091Z   associations
2024-03-07T01:54:21.2113629Z     has_many donations
2024-03-07T01:54:21.2978636Z     has_many product_drive_participants through donations
2024-03-07T01:54:21.2979549Z   .search_date_range
2024-03-07T01:54:21.4360359Z     is expected to eq {:end_date=>"2019-12-19", :start_date=>"2019-12-17"}
2024-03-07T01:54:21.4361046Z   distinct_items
2024-03-07T01:54:21.8032101Z     counts the distinct items correctly by given date
2024-03-07T01:54:22.1576592Z     counts the distinct items correctly in overlapping donations
2024-03-07T01:54:22.5167151Z     doesn't double_count the items if there are two donations for the same item
2024-03-07T01:54:22.8708251Z     counts the distinct items correctly by given category
2024-03-07T01:54:23.2180796Z     counts the items correctly for 1 donation with multiple items
2024-03-07T01:54:23.2181785Z   versioning
2024-03-07T01:54:23.3601301Z     is expected to be versioned
2024-03-07T01:54:23.3601919Z 
2024-03-07T01:54:23.3602161Z NDBNMember
2024-03-07T01:54:23.3602977Z   validations
2024-03-07T01:54:23.3704467Z     is expected to validate that :ndbn_member_id cannot be empty/falsy
2024-03-07T01:54:23.3789676Z     is expected to validate that :ndbn_member_id is case-sensitively unique
2024-03-07T01:54:23.3860987Z     is expected to validate that :account_name cannot be empty/falsy
2024-03-07T01:54:23.3861821Z   #full_name
2024-03-07T01:54:23.3900786Z     should equal the id and the account name
2024-03-07T01:54:23.3901711Z   versioning
2024-03-07T01:54:23.3939705Z     is expected to be versioned
2024-03-07T01:54:23.3940391Z 
2024-03-07T01:54:23.3940710Z DonationDestroyService
2024-03-07T01:54:23.3941579Z   #call
2024-03-07T01:54:23.3943191Z     when the donation_id matches no Donation owned by the organization
2024-03-07T01:54:23.3988091Z       to not be a success
2024-03-07T01:54:23.3989193Z     when storage_location fails to decrease the inventory of the donation
2024-03-07T01:54:23.4049376Z       to not be a success
2024-03-07T01:54:23.4050406Z     when the donation destroy fails
2024-03-07T01:54:23.4127664Z       to not be a success
2024-03-07T01:54:23.4128249Z     when the donation succesfully gets destroyed
2024-03-07T01:54:23.4405273Z       to be a success
2024-03-07T01:54:23.4406233Z     when the organization_id matches no Organization
2024-03-07T01:54:23.4449771Z       to not be a success
2024-03-07T01:54:23.4450464Z 
2024-03-07T01:54:23.4450975Z KitAllocation
2024-03-07T01:54:23.4454413Z   add some examples to (or delete) /home/runner/work/human-essentials/human-essentials/spec/models/kit_allocation_spec.rb (PENDING: Not yet implemented)
2024-03-07T01:54:23.4455385Z   versioning
2024-03-07T01:54:23.4524456Z     is expected to be versioned
2024-03-07T01:54:23.4527018Z 
2024-03-07T01:54:23.4527331Z DonationsController
2024-03-07T01:54:23.4528539Z   While signed in as a normal user >
2024-03-07T01:54:23.4529882Z     PUT#update
2024-03-07T01:54:23.5634924Z       updates storage quantity correctly
2024-03-07T01:54:23.6076624Z       redirects to index after update
2024-03-07T01:54:23.6077313Z       when removing a line item
2024-03-07T01:54:23.7104502Z         updates storage invetory item quantity correctly
2024-03-07T01:54:23.7105737Z       when changing storage location
2024-03-07T01:54:23.7212222Z         rolls back updates if quantity would go below 0
2024-03-07T01:54:23.8264240Z         updates storage quantity correctly
2024-03-07T01:54:23.8265091Z     POST#create
2024-03-07T01:54:23.8498464Z       renders GET#new with error on failure
2024-03-07T01:54:23.8899424Z       redirects to GET#edit on success
2024-03-07T01:54:23.8900667Z     GET #show
2024-03-07T01:54:23.9067638Z       returns http success
2024-03-07T01:54:23.9068328Z     DELETE #destroy
2024-03-07T01:54:23.9230020Z       redirects to the dashboard path
2024-03-07T01:54:23.9230770Z     GET #index
2024-03-07T01:54:23.9367196Z       returns http success
2024-03-07T01:54:23.9368181Z     GET #edit
2024-03-07T01:54:23.9546249Z       returns http success
2024-03-07T01:54:23.9546907Z     GET #new
2024-03-07T01:54:23.9678030Z       returns http success
2024-03-07T01:54:23.9678946Z   calculating total value of multiple donations
2024-03-07T01:54:24.0998501Z     works correctly for multiple line items per donation
2024-03-07T01:54:24.1038683Z     returns zero for an empty array of donations
2024-03-07T01:54:24.1039818Z   calculating total money raised for all donations
2024-03-07T01:54:24.1076467Z     returns zero for an empty array of donations
2024-03-07T01:54:24.1215013Z     correctly calculates the total
2024-03-07T01:54:24.1216109Z   While signed in as an organization admin >
2024-03-07T01:54:24.1217087Z     DELETE #destroy
2024-03-07T01:54:24.1547920Z       redirects to the index
2024-03-07T01:54:24.1548556Z 
2024-03-07T01:54:24.1548817Z Reports::SummaryReportService
2024-03-07T01:54:24.1549709Z   #report
2024-03-07T01:54:24.6262264Z     should report negative values
2024-03-07T01:54:25.0812741Z     should report positive values
2024-03-07T01:54:25.2608170Z     should report zero values
2024-03-07T01:54:25.2609123Z 
2024-03-07T01:54:25.2609314Z Role
2024-03-07T01:54:25.2648124Z   is expected to accepts_nested_attributes_for :users
2024-03-07T01:54:25.2649223Z   versioning
2024-03-07T01:54:25.2685046Z     is expected to be versioned
2024-03-07T01:54:25.2685811Z   Associations
2024-03-07T01:54:25.2748353Z     is expected to have and belong to many users
2024-03-07T01:54:25.2785154Z     is expected to belong to resource optional: true
2024-03-07T01:54:25.2786214Z   Validations
2024-03-07T01:54:25.2837757Z     is expected to validate that :resource_type is either â€¹"Organization"â€º or â€¹"Partner"â€º
2024-03-07T01:54:25.2838659Z 
2024-03-07T01:54:25.2839103Z Manufacturer
2024-03-07T01:54:25.2839682Z   Validations
2024-03-07T01:54:25.4623836Z     must belong to an organization
2024-03-07T01:54:25.4723269Z     must have a unique name within organization
2024-03-07T01:54:25.4724138Z   versioning
2024-03-07T01:54:25.4760572Z     is expected to be versioned
2024-03-07T01:54:25.4762639Z   Private Methods
2024-03-07T01:54:25.4763348Z     #exists_in_org?
2024-03-07T01:54:25.6561491Z       returns true if manufacturer exists in an organization
2024-03-07T01:54:25.6562756Z   Methods
2024-03-07T01:54:25.6563307Z     volume
2024-03-07T01:54:25.7919576Z       retrieves the amount of product that has been donated by manufacturer from multiple donations
2024-03-07T01:54:25.9375887Z       ignores the amount of product from other manufacturers
2024-03-07T01:54:26.0034129Z       retrieves the amount of product that has been donated by manufacturer
2024-03-07T01:54:26.0034977Z 
2024-03-07T01:54:26.0035313Z Reports::WarehouseReportService
2024-03-07T01:54:26.0035947Z   #report
2024-03-07T01:54:26.3518497Z     should print unknown warehouse type
2024-03-07T01:54:26.7084602Z     should print normal values
2024-03-07T01:54:26.8877510Z     should print unknown square footage
2024-03-07T01:54:27.0618350Z     should print zero values
2024-03-07T01:54:27.0618995Z 
2024-03-07T01:54:27.0619869Z Partners::ChildItemRequest
2024-03-07T01:54:27.0620810Z   #quantity
2024-03-07T01:54:27.0763540Z     should return the quantity divided by the number of children
2024-03-07T01:54:27.0765176Z   #ordered_item_diaperid
2024-03-07T01:54:27.0808118Z     should return the item_id on the item_request
2024-03-07T01:54:27.0808987Z   versioning
2024-03-07T01:54:27.0842921Z     is expected to be versioned
2024-03-07T01:54:27.0843676Z   associations
2024-03-07T01:54:27.0891061Z     is expected to belong to item_request required: true
2024-03-07T01:54:27.0929149Z     is expected to belong to authorized_family_member optional: true
2024-03-07T01:54:27.0970187Z     is expected to belong to child required: true
2024-03-07T01:54:27.0971038Z 
2024-03-07T01:54:27.0971270Z ItemsOutQuery
2024-03-07T01:54:27.0971880Z   items_out_query
2024-03-07T01:54:27.2179913Z     includes distributions, adjustments, transfers among sources
2024-03-07T01:54:27.3386387Z     returns a collection with the fields name, item_id, quantity
2024-03-07T01:54:27.3387174Z 
2024-03-07T01:54:27.3387784Z Partners::RequestCreateService
2024-03-07T01:54:27.3388469Z   #call
2024-03-07T01:54:27.3389495Z     when the arguments are incorrect
2024-03-07T01:54:27.3390937Z       because a unrecogonized item_id was provided
2024-03-07T01:54:27.3792196Z         should return the Request object with an error
2024-03-07T01:54:27.3792967Z       because no item_requests_attributes and comments were defined
2024-03-07T01:54:27.4064577Z         should return the Request object with an error
2024-03-07T01:54:27.4065420Z     when the arguments are correct
2024-03-07T01:54:27.4452553Z       should create a Request record
2024-03-07T01:54:27.4850948Z       should notify the Partner via email
2024-03-07T01:54:27.5223642Z       should have no errors
2024-03-07T01:54:27.5224580Z       but a unexpected error occured during the save
2024-03-07T01:54:27.5225901Z         for the Request record
2024-03-07T01:54:27.5611554Z           should NOT create a Request record
2024-03-07T01:54:27.5975041Z           should NOT notify the Partner via email
2024-03-07T01:54:27.6352356Z           should have an error with the raised error
2024-03-07T01:54:27.6353210Z 
2024-03-07T01:54:27.6353683Z UserInviteService
2024-03-07T01:54:27.7446969Z   should invite a user with the partner role
2024-03-07T01:54:28.1109586Z   should create the user without a name with default role
2024-03-07T01:54:28.1119573Z   with a new user
2024-03-07T01:54:28.3164457Z     should create the user with roles
2024-03-07T01:54:28.3452409Z     should create the user without name with role
2024-03-07T01:54:28.3453627Z   with existing user
2024-03-07T01:54:28.3543254Z     should raise an error when reinviting an existing user with the same role
2024-03-07T01:54:28.5521531Z     should add roles to existing user
2024-03-07T01:54:28.5522362Z     with force: true
2024-03-07T01:54:28.5753054Z       should reinvite the user
2024-03-07T01:54:28.5753753Z 
2024-03-07T01:54:28.5754355Z PartnerProfileUpdateService
2024-03-07T01:54:28.5755228Z   #call
2024-03-07T01:54:28.5756540Z     when there are no pre-existing served areas
2024-03-07T01:54:28.5757417Z       and the new values are correct
2024-03-07T01:54:28.6101118Z         stores the new values and returns success
2024-03-07T01:54:28.6101934Z         and there are other errors in the profile
2024-03-07T01:54:28.6307161Z           does not store the new values and it returns a failure
2024-03-07T01:54:28.6307843Z       and the new values are incorrect
2024-03-07T01:54:28.6496391Z 0
2024-03-07T01:54:28.6506112Z         does not store the new values and returns a failure
2024-03-07T01:54:28.6507313Z     when served area client shares pre-exist
2024-03-07T01:54:28.6508348Z       and the new values are incorrect
2024-03-07T01:54:28.6811454Z         maintains the old values and returns failure
2024-03-07T01:54:28.6812468Z       and the new values are correct
2024-03-07T01:54:28.6813507Z         and there are no other errors
2024-03-07T01:54:28.7115651Z           replaces the old values and returns success
2024-03-07T01:54:28.7116365Z         and there are errors on the profile
2024-03-07T01:54:28.7405734Z           maintains the old values and returns failure
2024-03-07T01:54:28.7406655Z 
2024-03-07T01:54:28.7407054Z KitCreateService
2024-03-07T01:54:28.7408205Z   #call
2024-03-07T01:54:28.9471279Z     should return an the instance
2024-03-07T01:54:28.9472152Z     when the parameters are valid
2024-03-07T01:54:29.1427457Z       should create a new Item
2024-03-07T01:54:29.3382413Z       should create a new Kit
2024-03-07T01:54:29.5352306Z       should create the new Item associated with the Kit
2024-03-07T01:54:29.5353278Z       but an unexpected error gets raised
2024-03-07T01:54:29.7336773Z         should not create the Kit
2024-03-07T01:54:29.9224666Z         should not create a Item
2024-03-07T01:54:30.1192720Z         should have an error that includes the raised error
2024-03-07T01:54:30.1193709Z       but the ItemCreationService is unsuccesful
2024-03-07T01:54:30.3095142Z         should have an error that includes the error
2024-03-07T01:54:30.5073635Z         should not create the Kit
2024-03-07T01:54:30.6977439Z         should not create a Item
2024-03-07T01:54:30.6978401Z     when the parameters provided are invalid
2024-03-07T01:54:30.6979285Z       because the kit_params is invalid for kit creation
2024-03-07T01:54:30.8752773Z         should have errors saying why the kit_params are invalid
2024-03-07T01:54:30.8753950Z       because the organization_id does not match any Organization
2024-03-07T01:54:30.8810594Z         should have an error on organization_id saying it does not match any Organization
2024-03-07T01:54:30.8811845Z 
2024-03-07T01:54:30.8812180Z Partners::Profile
2024-03-07T01:54:30.8850856Z   must allow deleting served_areas
2024-03-07T01:54:30.8851875Z   client share behaviour
2024-03-07T01:54:30.8852612Z     no served areas
2024-03-07T01:54:30.8905449Z       has 0 client share
2024-03-07T01:54:30.8906325Z     multiple
2024-03-07T01:54:30.9072612Z       is valid if client share sum is 100
2024-03-07T01:54:30.9232053Z       sums the client shares
2024-03-07T01:54:30.9232876Z   social media info validation for profile
2024-03-07T01:54:30.9234135Z     no social media presence and the checkbox isn't checked
2024-03-07T01:54:30.9337995Z       should be valid if media_information is not needed
2024-03-07T01:54:30.9394474Z       should not be valid
2024-03-07T01:54:30.9395353Z     has social media presence and the checkbox is unchecked
2024-03-07T01:54:30.9467585Z       with just a website it should be valid
2024-03-07T01:54:30.9539958Z       with just twitter it should be valid
2024-03-07T01:54:30.9609246Z       with just instagram it should be valid
2024-03-07T01:54:30.9678768Z       with just facebook it should be valid
2024-03-07T01:54:30.9749931Z       with every social media option it should be valid
2024-03-07T01:54:30.9750862Z     no social media presence and the checkbox is checked
2024-03-07T01:54:30.9809927Z       should be valid
2024-03-07T01:54:30.9810759Z   associations
2024-03-07T01:54:30.9856297Z     is expected to have a has_many_attached called documents
2024-03-07T01:54:30.9892545Z     is expected to have a has_one_attached called proof_of_form_990
2024-03-07T01:54:30.9929405Z     is expected to have many served_areas
2024-03-07T01:54:30.9965763Z     is expected to have a has_one_attached called proof_of_partner_status
2024-03-07T01:54:30.9966865Z   request settings validation for profile
2024-03-07T01:54:30.9967896Z     at least one request type is set to true
2024-03-07T01:54:31.0037893Z       should be valid when enable_individual_requests is true
2024-03-07T01:54:31.0106243Z       should be valid when enable_child_based_requests is true
2024-03-07T01:54:31.0174167Z       should be valid when enable_quantity_based_requests is true
2024-03-07T01:54:31.0175088Z     no settings are set to true
2024-03-07T01:54:31.0223623Z       should not be valid
2024-03-07T01:54:31.0224408Z   versioning
2024-03-07T01:54:31.0260076Z     is expected to be versioned
2024-03-07T01:54:31.0260716Z 
2024-03-07T01:54:31.0261008Z Vendor
2024-03-07T01:54:31.0261989Z   Methods
2024-03-07T01:54:31.0262582Z     volume
2024-03-07T01:54:31.1155096Z       retrieves the amount of product that has been bought from this vendor
2024-03-07T01:54:31.1156221Z   behaves like provideable
2024-03-07T01:54:31.1156857Z     Validations
2024-03-07T01:54:31.1198900Z       is invalid without an organization
2024-03-07T01:54:31.1257374Z       is invalid unless it has either a contact name or a business name
2024-03-07T01:54:31.1258148Z     geocode
2024-03-07T01:54:31.1315690Z       adds coordinates to the database
2024-03-07T01:54:31.1316229Z     import_csv
2024-03-07T01:54:31.3107317Z       imports from a csv file
2024-03-07T01:54:31.3108644Z   versioning
2024-03-07T01:54:31.3149587Z     is expected to be versioned
2024-03-07T01:54:31.3150133Z 
2024-03-07T01:54:31.3150346Z RemoveRoleService
2024-03-07T01:54:31.3151298Z   #call
2024-03-07T01:54:31.3152322Z     when the role does not exist
2024-03-07T01:54:31.5064972Z       should raise an error
2024-03-07T01:54:31.5065571Z     when not enough information provided
2024-03-07T01:54:31.6978953Z       should raise an error
2024-03-07T01:54:31.6979796Z     when the role exists
2024-03-07T01:54:32.0784211Z       should remove the admin role when removing user role
2024-03-07T01:54:32.2809537Z       should work with a type and ID instead of role ID
2024-03-07T01:54:32.4791431Z       should remove the role
2024-03-07T01:54:32.4792124Z 
2024-03-07T01:54:32.4792462Z ProductDriveParticipant
2024-03-07T01:54:32.4794245Z   Methods
2024-03-07T01:54:32.4795109Z     donation_source_view
2024-03-07T01:54:32.4796434Z       contact name present
2024-03-07T01:54:32.4859893Z         is expected to eq "Contact Name (participant)"
2024-03-07T01:54:32.4860524Z       no contact name
2024-03-07T01:54:32.4919759Z         is expected to be nil
2024-03-07T01:54:32.4920506Z     volume
2024-03-07T01:54:32.5604403Z       retrieves the amount of product that has been donated by participant
2024-03-07T01:54:32.5605771Z     volume_by_product_drive
2024-03-07T01:54:32.7040798Z       retrieves the amount of product that has been donated through specific product drive
2024-03-07T01:54:32.7042066Z   behaves like provideable
2024-03-07T01:54:32.7042983Z     geocode
2024-03-07T01:54:32.7106137Z       adds coordinates to the database
2024-03-07T01:54:32.7106916Z     import_csv
2024-03-07T01:54:32.8945454Z       imports from a csv file
2024-03-07T01:54:32.8946011Z     Validations
2024-03-07T01:54:32.9008333Z       is invalid unless it has either a contact name or a business name
2024-03-07T01:54:32.9045706Z       is invalid without an organization
2024-03-07T01:54:32.9046519Z   Validations
2024-03-07T01:54:32.9082916Z     is invalid without an organization
2024-03-07T01:54:32.9141755Z     is invalid unless it has either a phone number or an email
2024-03-07T01:54:32.9142576Z   versioning
2024-03-07T01:54:32.9175389Z     is expected to be versioned
2024-03-07T01:54:32.9176166Z 
2024-03-07T01:54:32.9176486Z OrganizationMailer
2024-03-07T01:54:32.9179945Z   #partner_approval_request
2024-03-07T01:54:32.9466227Z     includes a link to the relevant partner
2024-03-07T01:54:32.9718483Z     renders the body with correct text with partner information
2024-03-07T01:54:32.9968271Z     should be sent to the partner main email with the correct subject line
2024-03-07T01:54:32.9969148Z 
2024-03-07T01:54:32.9969537Z DistributionCreateService
2024-03-07T01:54:32.9970460Z   call
2024-03-07T01:54:33.0781115Z     replaces a big distribution with a smaller one, resulting in increased stored quantities
2024-03-07T01:54:33.1480648Z     returns a successful object with Scheduled distribution
2024-03-07T01:54:33.1481785Z     partner is deactivated
2024-03-07T01:54:33.2247791Z       does not send an email
2024-03-07T01:54:33.2249184Z     when there's multiple line items and one has insufficient inventory
2024-03-07T01:54:33.2913299Z       preserves the Insufficiency error and is unsuccessful
2024-03-07T01:54:33.2914309Z     when it fails to save
2024-03-07T01:54:33.3422040Z       preserves the error and is unsuccessful
2024-03-07T01:54:33.3422978Z     partner has send reminders setting set to true
2024-03-07T01:54:33.4957566Z       Sends a PartnerMailer
2024-03-07T01:54:33.4958397Z     when provided with a request ID
2024-03-07T01:54:33.5771452Z       changes the status of the request
2024-03-07T01:54:33.5772701Z       and the request already has a distribution associated with it
2024-03-07T01:54:33.6494682Z         should not be successful
2024-03-07T01:54:33.6495619Z     when the line item quantity is not positive
2024-03-07T01:54:33.7009130Z       preserves the RecordInvalid error and is unsuccessful
2024-03-07T01:54:33.7010072Z     when there's not sufficient inventory
2024-03-07T01:54:33.7594406Z       preserves the Insufficiency error and is unsuccessful
2024-03-07T01:54:33.7595475Z     partner has send reminders setting set to false
2024-03-07T01:54:33.8340803Z       does not send a PartnerMailer
2024-03-07T01:54:33.8341473Z 
2024-03-07T01:54:33.8341782Z RequestDestroyService
2024-03-07T01:54:33.8342606Z   #call
2024-03-07T01:54:33.8499625Z     should return an instance of itself
2024-03-07T01:54:33.8500835Z     when the request's partner is deactivated
2024-03-07T01:54:33.8797475Z       should have errors
2024-03-07T01:54:33.8798438Z     when the request_id matches no request
2024-03-07T01:54:33.8841351Z       should not be successful and have errors indicating request id is invalid
2024-03-07T01:54:33.8842565Z     when there are no validation errors
2024-03-07T01:54:33.8972790Z       should send a email notification to the partner
2024-03-07T01:54:33.9117676Z       should update the discarded_at column on the request
2024-03-07T01:54:33.9260244Z       should update the status column on the request
2024-03-07T01:54:33.9260901Z     when the request is already discarded
2024-03-07T01:54:33.9365394Z       should not be successful and have errors
2024-03-07T01:54:33.9366217Z 
2024-03-07T01:54:33.9366513Z DistributionByCountyReportService
2024-03-07T01:54:33.9367268Z   get_breakdown
2024-03-07T01:54:34.0099970Z     will have 100% unspecified shows if no served_areas
2024-03-07T01:54:34.0963973Z     divides the item numbers and values according to the partner profile
2024-03-07T01:54:34.2842843Z     handles multiple partners with overlapping service areas properly
2024-03-07T01:54:34.2843905Z 
2024-03-07T01:54:34.2844184Z Exports::ExportReportCSVService
2024-03-07T01:54:34.2844931Z   .generate_csv_data
2024-03-07T01:54:34.2886638Z     creates a CSV string
2024-03-07T01:54:34.2918798Z     creates CSV data including headers
2024-03-07T01:54:34.2919391Z 
2024-03-07T01:54:34.2919760Z RequestMailer
2024-03-07T01:54:34.2920602Z   #request_cancel_partner_notification
2024-03-07T01:54:34.3107774Z     should be sent to the partner main email with the correct subject line
2024-03-07T01:54:34.3302247Z     renders the body with correct text with partner information
2024-03-07T01:54:34.3303156Z 
2024-03-07T01:54:34.3303651Z Reports::PeriodSupplyReportService
2024-03-07T01:54:34.3304627Z   #report
2024-03-07T01:54:34.5276408Z     should report zero values
2024-03-07T01:54:34.5277094Z     with values
2024-03-07T01:54:35.1420032Z       should report normal values
2024-03-07T01:54:35.1420638Z 
2024-03-07T01:54:35.1420977Z AddRoleService
2024-03-07T01:54:35.1421873Z   #call
2024-03-07T01:54:35.1422732Z     when the role already exists
2024-03-07T01:54:35.3334570Z       should raise an error
2024-03-07T01:54:35.5224859Z       should raise an error for super admin
2024-03-07T01:54:35.5225639Z     when the role does not yet exist
2024-03-07T01:54:35.7266246Z       works with a partner
2024-03-07T01:54:35.9249098Z       should add the role
2024-03-07T01:54:36.1161757Z       works with super admin
2024-03-07T01:54:36.3224271Z       should add the user role when asked to add admin
2024-03-07T01:54:36.3225220Z 
2024-03-07T01:54:36.3225806Z DistributionDestroyService
2024-03-07T01:54:36.3226651Z   #call
2024-03-07T01:54:36.3227739Z     when the distribution_id does match a Distribution
2024-03-07T01:54:36.3228807Z       and the operations succeed
2024-03-07T01:54:36.5525155Z         should destroy the Distribution
2024-03-07T01:54:36.7637486Z         should be successful
2024-03-07T01:54:36.9688880Z         should increase the inventory of the storage location
2024-03-07T01:54:36.9689558Z       and the destroy! operation fails
2024-03-07T01:54:37.1817436Z         should not delete the Distribution
2024-03-07T01:54:37.3820034Z         should not be successful and have the error message
2024-03-07T01:54:37.3820986Z       and the increase inventory operations fails
2024-03-07T01:54:37.5802989Z         should not delete the Distribution
2024-03-07T01:54:37.7800114Z         should not be successful and have the error message
2024-03-07T01:54:37.7801109Z     when the distribution_id matches no Distribution
2024-03-07T01:54:37.7842498Z       to not be a success
2024-03-07T01:54:37.7843158Z 
2024-03-07T01:54:37.7843524Z Partners::UpdateFamily
2024-03-07T01:54:37.7844421Z   #call
2024-03-07T01:54:37.7845314Z     when an error occurs during archiving
2024-03-07T01:54:37.8556661Z       does not archive the family or its children and adds error to the service
2024-03-07T01:54:37.8557846Z     when family has children
2024-03-07T01:54:37.8953466Z       archives the family and its children
2024-03-07T01:54:37.8954347Z 
2024-03-07T01:54:37.8954737Z DonationCreateService
2024-03-07T01:54:37.8955615Z   #call
2024-03-07T01:54:37.9169590Z     should create the donation
2024-03-07T01:54:37.9170196Z 
2024-03-07T01:54:37.9170521Z Question
2024-03-07T01:54:37.9174719Z   validations
2024-03-07T01:54:37.9290849Z     is expected to validate that :answer cannot be empty/falsy
2024-03-07T01:54:37.9352875Z     is expected to validate that :title cannot be empty/falsy
2024-03-07T01:54:37.9511535Z     question for_banks and for_partners attributes can't both be false
2024-03-07T01:54:37.9512482Z   versioning
2024-03-07T01:54:37.9549917Z     is expected to be versioned
2024-03-07T01:54:37.9550607Z   scope for_partners
2024-03-07T01:54:37.9786881Z     should filter out questions that aren't meant for partners
2024-03-07T01:54:37.9787843Z   punctuate
2024-03-07T01:54:37.9827009Z     should punctuate each string in a given array
2024-03-07T01:54:37.9827853Z   scope for_banks
2024-03-07T01:54:38.0064394Z     should filter out questions that aren't meant for banks
2024-03-07T01:54:38.0065471Z   remove_redundant_error
2024-03-07T01:54:38.0109781Z     should return an array with only one error message related to the checkboxes.
2024-03-07T01:54:38.0111458Z 
2024-03-07T01:54:38.0111796Z Donation
2024-03-07T01:54:38.0113911Z   behaves like itemizable
2024-03-07T01:54:38.0114966Z     .line_items
2024-03-07T01:54:38.0116089Z       combine!
2024-03-07T01:54:38.0523709Z         combines multiple line_items with the same item_id into a single record
2024-03-07T01:54:38.1005284Z         incrementally combines line_items on donations that have already been created
2024-03-07T01:54:38.1006432Z       total
2024-03-07T01:54:38.1375024Z         has an item total
2024-03-07T01:54:38.1376269Z       quantities_by_name
2024-03-07T01:54:38.1740218Z         leaves out zero-quantitied items if requested
2024-03-07T01:54:38.2111157Z         returns a hash of items with id, name, and quantity
2024-03-07T01:54:38.2112370Z       sorted
2024-03-07T01:54:38.2652898Z         displays the items, sorted by name
2024-03-07T01:54:38.2653798Z     .to_a
2024-03-07T01:54:38.2654754Z       with Flipper flag :deprecate_to_a enabled
2024-03-07T01:54:38.3005171Z         raises an error
2024-03-07T01:54:38.3006021Z       with Flipper flag :deprecate_to_a disabled
2024-03-07T01:54:38.3337082Z         calls line_item_values
2024-03-07T01:54:38.3337980Z   Callbacks >
2024-03-07T01:54:38.3498854Z     automatically combines duplicate line_item records when they're created
2024-03-07T01:54:38.3626393Z     inititalizes the issued_at field to default to midnight if it wasn't explicitly set
2024-03-07T01:54:38.3627523Z   Methods >
2024-03-07T01:54:38.3628050Z     source_view
2024-03-07T01:54:38.3628573Z       from a drive
2024-03-07T01:54:38.3629246Z         participant known
2024-03-07T01:54:38.3630185Z           contact name present
2024-03-07T01:54:38.3752107Z             returns participant display name
2024-03-07T01:54:38.3752663Z           no contact name
2024-03-07T01:54:38.3874054Z             returns drive display name
2024-03-07T01:54:38.3874778Z         unknown participant
2024-03-07T01:54:38.3975324Z           returns drive display name
2024-03-07T01:54:38.3976170Z       not from a drive
2024-03-07T01:54:38.4085273Z         returns source
2024-03-07T01:54:38.4085732Z       details
2024-03-07T01:54:38.4088696Z         misc
2024-03-07T01:54:38.4172517Z           returns a truncated comment
2024-03-07T01:54:38.4173357Z         donation site
2024-03-07T01:54:38.4276535Z           returns donation_site name
2024-03-07T01:54:38.4277456Z         manufacturer
2024-03-07T01:54:38.4389625Z           returns manufacturer name
2024-03-07T01:54:38.4390543Z         product drive
2024-03-07T01:54:38.4502126Z           returns product_drive name
2024-03-07T01:54:38.4502880Z     money_raised
2024-03-07T01:54:38.5115759Z       tracks the money raised in a donation
2024-03-07T01:54:38.5116303Z     remove
2024-03-07T01:54:38.5756694Z       removes the item from the donation
2024-03-07T01:54:38.6363055Z       works with either an id or an object
2024-03-07T01:54:38.7046080Z       fails gracefully if the item doesn't exist
2024-03-07T01:54:38.7047021Z   Scopes >
2024-03-07T01:54:38.7047898Z     by_source >
2024-03-07T01:54:38.7048522Z       when source is a symbol
2024-03-07T01:54:38.7049343Z         when source is invalid
2024-03-07T01:54:38.7227513Z           does not throw errors, returns no results
2024-03-07T01:54:38.7228382Z         when source is valid
2024-03-07T01:54:38.7403361Z           allows a symbol as an argument, referencing the SOURCES hash
2024-03-07T01:54:38.7404044Z       when source is not a symbol
2024-03-07T01:54:38.7404620Z         when source is invalid
2024-03-07T01:54:38.7584591Z           does not throw errors, returns no results
2024-03-07T01:54:38.7585216Z         when source comes from the SOURCES hash
2024-03-07T01:54:38.7770447Z           returns all donations with the provided source
2024-03-07T01:54:38.7771131Z     during >
2024-03-07T01:54:38.7964616Z       returns all donations created between two dates
2024-03-07T01:54:38.7965245Z   Associations >
2024-03-07T01:54:38.7965767Z     items >
2024-03-07T01:54:38.8138501Z       has_many
2024-03-07T01:54:38.8138958Z   SOURCES
2024-03-07T01:54:38.8179641Z     the hash values are immutable
2024-03-07T01:54:38.8215354Z     is a hash that is referenceable by key to avoid 'magic strings'
2024-03-07T01:54:38.8251419Z     the hash is immutable
2024-03-07T01:54:38.8252207Z   Validations >
2024-03-07T01:54:38.8384977Z     requires a product drive participant if the source is 'Product Drive'
2024-03-07T01:54:38.8439141Z     ensures that the issued at is no earlier than 2000
2024-03-07T01:54:38.8560596Z     requires a manufacturer if the source is 'Manufacturer'
2024-03-07T01:54:38.8604339Z     requires an inventory (storage location)
2024-03-07T01:54:38.8950226Z     requires a donation_site if the source is 'Donation Site'
2024-03-07T01:54:38.8951225Z     must belong to an organization
2024-03-07T01:54:38.8968508Z     is invalid when the line items are invalid
2024-03-07T01:54:38.9037756Z     requires a source from the list of available sources
2024-03-07T01:54:38.9038475Z   versioning
2024-03-07T01:54:38.9072882Z     is expected to be versioned
2024-03-07T01:54:38.9073499Z 
2024-03-07T01:54:38.9073660Z DonationSite
2024-03-07T01:54:38.9074820Z   import_csv
2024-03-07T01:54:39.0778993Z     imports storage locations from a csv file
2024-03-07T01:54:39.0779740Z   versioning
2024-03-07T01:54:39.0820157Z     is expected to be versioned
2024-03-07T01:54:39.0820737Z   Validations >
2024-03-07T01:54:39.0865835Z     is invalid without an address
2024-03-07T01:54:39.0909910Z     is invalid without a name
2024-03-07T01:54:39.0949039Z     must belong to an organization
2024-03-07T01:54:39.0949609Z   geocode
2024-03-07T01:54:39.1026986Z     adds coordinates to the database
2024-03-07T01:54:39.1027814Z 
2024-03-07T01:54:39.1028110Z DistributionUpdateService
2024-03-07T01:54:39.1029589Z   resend_notification?
2024-03-07T01:54:39.1926835Z     changes the issue_date, resulting in resend_notification? = true
2024-03-07T01:54:39.2858745Z     changes the delivery_method, resulting in resend_notification? = true
2024-03-07T01:54:39.3851372Z     changes any distribution content, resulting in resend_notification? = true
2024-03-07T01:54:39.3852268Z   call
2024-03-07T01:54:39.4961707Z     replaces a big distribution with a smaller one, resulting in increased stored quantities
2024-03-07T01:54:39.4962600Z 
2024-03-07T01:54:39.4962776Z OrganizationStats
2024-03-07T01:54:39.4963689Z   locations_with_inventory method >
2024-03-07T01:54:39.4965129Z     current org is not nil + no locations have items >
2024-03-07T01:54:39.5041539Z       should return an empty array
2024-03-07T01:54:39.5042139Z     current org is nil >
2024-03-07T01:54:39.5077315Z       should return an empty array
2024-03-07T01:54:39.5078068Z     current org is not nil + locations have items >
2024-03-07T01:54:39.5437870Z       should return storage location
2024-03-07T01:54:39.5439009Z   partners_added method >
2024-03-07T01:54:39.5439535Z     current org is nil >
2024-03-07T01:54:39.5479561Z       should return 0
2024-03-07T01:54:39.5480079Z     current org is not nil >
2024-03-07T01:54:39.5515157Z       should return actual count of partners
2024-03-07T01:54:39.5515854Z   storage_locations_added method >
2024-03-07T01:54:39.5516571Z     current org is not nil >
2024-03-07T01:54:39.5553665Z       should return actual count of locations
2024-03-07T01:54:39.5554359Z     current org is nil >
2024-03-07T01:54:39.5591218Z       should return 0
2024-03-07T01:54:39.5591752Z   donation_sites_added method >
2024-03-07T01:54:39.5592713Z     current org is nil >
2024-03-07T01:54:39.5629012Z       should return 0
2024-03-07T01:54:39.5629540Z     current org is not nil >
2024-03-07T01:54:39.5666861Z       should return actual count of donation sites
2024-03-07T01:54:39.5667599Z 
2024-03-07T01:54:39.5667899Z HistoricalTrendService
2024-03-07T01:54:39.5668761Z   #series
2024-03-07T01:54:39.8503554Z     returns an array of items with their monthly data
2024-03-07T01:54:39.8504150Z 
2024-03-07T01:54:39.8504321Z BarcodeItem
2024-03-07T01:54:39.8505519Z   versioning
2024-03-07T01:54:39.8603148Z     is expected to be versioned
2024-03-07T01:54:39.8603744Z   Organization barcodes
2024-03-07T01:54:39.8742965Z     updates a counter in Item whenever it tracks a new barcode
2024-03-07T01:54:39.8743769Z     validations >
2024-03-07T01:54:39.8877480Z       allows multiple barcodes to point at the same item
2024-03-07T01:54:39.9035716Z       is valid only with an organization
2024-03-07T01:54:39.9281803Z       does not enforces value uniqueness across organizations
2024-03-07T01:54:39.9437442Z       enforces value uniqueness within the organization
2024-03-07T01:54:39.9438130Z       quantity >
2024-03-07T01:54:39.9528644Z         is not a negative number
2024-03-07T01:54:39.9622581Z         is an integer
2024-03-07T01:54:39.9714327Z         is not nil
2024-03-07T01:54:39.9715245Z       item >
2024-03-07T01:54:39.9809013Z         is invalid without an item associated with it
2024-03-07T01:54:39.9809704Z       value >
2024-03-07T01:54:39.9904811Z         requires a value
2024-03-07T01:54:39.9905325Z     scopes >
2024-03-07T01:54:40.0115126Z       #by_item_partner_key returns barcodes that match the partner key
2024-03-07T01:54:40.2022772Z       ->for_csv_export will accept an organization and provide all barcodes for that org
2024-03-07T01:54:40.2233517Z       ->by_value returns the barcode with that value
2024-03-07T01:54:40.2234037Z     filters >
2024-03-07T01:54:40.2467724Z       ->item_id shows only barcodes for a specific item_id
2024-03-07T01:54:40.2469898Z     to_h >
2024-03-07T01:54:40.2601866Z       emits a hash for a line_item
2024-03-07T01:54:40.2602780Z 
2024-03-07T01:54:40.2603061Z InventoryItem
2024-03-07T01:54:40.2641672Z   initializes the quantity to 0 if it was not specified
2024-03-07T01:54:40.2642835Z   versioning
2024-03-07T01:54:40.2681081Z     is expected to be versioned
2024-03-07T01:54:40.2681687Z   Filtering >
2024-03-07T01:54:40.2682401Z     ->by_partner_key
2024-03-07T01:54:40.2827043Z       shows the Base Items by partner_key
2024-03-07T01:54:40.2827690Z   Validations >
2024-03-07T01:54:40.2874695Z     requires an item
2024-03-07T01:54:40.2927136Z     requires an inventory association
2024-03-07T01:54:40.2927747Z     quantity >
2024-03-07T01:54:40.2987799Z       is less than the max integer
2024-03-07T01:54:40.3046267Z       is required
2024-03-07T01:54:40.3194984Z       is gte 0
2024-03-07T01:54:40.3255806Z       is numerical
2024-03-07T01:54:40.3257730Z 
2024-03-07T01:54:40.3258067Z Kit
2024-03-07T01:54:40.5394525Z   deactivate and reactivate
2024-03-07T01:54:40.5395176Z   versioning
2024-03-07T01:54:40.5435494Z     is expected to be versioned
2024-03-07T01:54:40.5436102Z   Value >
2024-03-07T01:54:40.5608659Z     converts cents to dollars
2024-03-07T01:54:40.5775754Z     converts dollars to cents
2024-03-07T01:54:40.5776590Z     .value_per_itemizable
2024-03-07T01:54:40.6173136Z       calculates values from associated items
2024-03-07T01:54:40.6174156Z   #can_deactivate?
2024-03-07T01:54:40.6174651Z     with inventory items
2024-03-07T01:54:40.8366715Z       should return false
2024-03-07T01:54:40.8367326Z     without inventory items
2024-03-07T01:54:41.0313865Z       should return true
2024-03-07T01:54:41.0314480Z   Validations >
2024-03-07T01:54:41.0497294Z     can't have negative value
2024-03-07T01:54:41.0662017Z     is valid as built
2024-03-07T01:54:41.0825844Z     requires a name
2024-03-07T01:54:41.0992909Z     requires at least one item
2024-03-07T01:54:41.1165817Z     must belong to an organization
2024-03-07T01:54:41.3298517Z     requires a unique name
2024-03-07T01:54:41.3299122Z   Filtering >
2024-03-07T01:54:41.3357287Z     can filter
2024-03-07T01:54:41.9050574Z     ->alphabetized retrieves items in alphabetical order
2024-03-07T01:54:41.9051142Z     ->by_partner_key
2024-03-07T01:54:42.1448834Z       shows the kits for a particular item
2024-03-07T01:54:42.1449722Z 
2024-03-07T01:54:42.1450032Z ApplicationController
2024-03-07T01:54:42.1451656Z   dashboard_path_from_current_role
2024-03-07T01:54:42.1452496Z     As a super admin
2024-03-07T01:54:42.1661938Z       links to the admin dashboard
2024-03-07T01:54:42.1662614Z     As a user without super admin status
2024-03-07T01:54:42.1867661Z       links to the general dashboard
2024-03-07T01:54:42.1868476Z   current_organization
2024-03-07T01:54:42.1869511Z     As a partner user
2024-03-07T01:54:42.2035446Z       should return nil
2024-03-07T01:54:42.2036010Z     As an org user
2024-03-07T01:54:42.5615555Z       should return the first org role
2024-03-07T01:54:42.5616433Z       with a changed current role
2024-03-07T01:54:42.9122925Z         should return the first org role
2024-03-07T01:54:42.9123597Z   current_partner
2024-03-07T01:54:42.9124410Z     As a partner user
2024-03-07T01:54:42.9662280Z       should return the first partner role
2024-03-07T01:54:42.9662814Z       with a changed current role
2024-03-07T01:54:43.0217389Z         should return the first partner role
2024-03-07T01:54:43.0218140Z     As an org user
2024-03-07T01:54:43.0436632Z       should return nil
2024-03-07T01:54:43.0437471Z 
2024-03-07T01:54:43.0437714Z ItemsInQuery
2024-03-07T01:54:43.0439100Z   items_in
2024-03-07T01:54:43.3831556Z     does not count transfers going in the negative direction
2024-03-07T01:54:43.7223894Z     does not count negative adjustments towards in-flow
2024-03-07T01:54:43.9862618Z     includes donations, purchases, adjustments, transfers among sources
2024-03-07T01:54:44.2631911Z     returns a collection with the fields name, item_id, quantity
2024-03-07T01:54:44.2632625Z 
2024-03-07T01:54:44.2633006Z User
2024-03-07T01:54:44.2697931Z   has a valid factory
2024-03-07T01:54:44.2698504Z   Scopes >
2024-03-07T01:54:44.2699739Z     ->alphabetized
2024-03-07T01:54:44.2981243Z       retrieves users in the correct order
2024-03-07T01:54:44.2982295Z   versioning
2024-03-07T01:54:44.3024343Z     is expected to be versioned
2024-03-07T01:54:44.3024920Z   omniauth
2024-03-07T01:54:44.3166937Z     retrieves the user from an omniauth context
2024-03-07T01:54:44.3167572Z   Scopes >
2024-03-07T01:54:44.3168294Z     ->alphabetized
2024-03-07T01:54:44.3585611Z       retrieves users in the correct order
2024-03-07T01:54:44.3586309Z   Validations >
2024-03-07T01:54:44.3782703Z     requires an email that is formatted correctly
2024-03-07T01:54:44.3870613Z     requires a name
2024-03-07T01:54:44.3871099Z   Methods >
2024-03-07T01:54:44.3954002Z     #invitation_status
2024-03-07T01:54:44.4039408Z     #reinvitable?
2024-03-07T01:54:44.4593279Z     #kind
2024-03-07T01:54:44.4663148Z     discarded?
2024-03-07T01:54:44.4664281Z 
2024-03-07T01:54:44.4664578Z HelpController
2024-03-07T01:54:44.4666049Z   While signed in as a normal user >
2024-03-07T01:54:44.4666857Z     GET #show
2024-03-07T01:54:44.4821230Z       returns http success
2024-03-07T01:54:44.4888329Z       does not display help page when the user logs out
2024-03-07T01:54:44.4889092Z 
2024-03-07T01:54:44.4889598Z DistributionPdf
2024-03-07T01:54:44.5556947Z   #request_data
2024-03-07T01:54:44.6168908Z   #non_request_data
2024-03-07T01:54:44.6169498Z 
2024-03-07T01:54:44.6169840Z ApplicationHelper
2024-03-07T01:54:44.6173498Z   active_class
2024-03-07T01:54:44.6223685Z     Returns the controller name
2024-03-07T01:54:44.6224389Z   default_title_content
2024-03-07T01:54:44.6225162Z     Organization does not exist
2024-03-07T01:54:44.6271697Z       returns a default name
2024-03-07T01:54:44.6272347Z     Organization exists
2024-03-07T01:54:44.8082325Z       returns the organization's name
2024-03-07T01:54:44.8082999Z   can_administrate?
2024-03-07T01:54:44.8084435Z     User is part of org but not org admin
2024-03-07T01:54:44.8234428Z       cannot administrate
2024-03-07T01:54:44.8234950Z     User is org admin and part of org
2024-03-07T01:54:44.8449781Z       can administrate
2024-03-07T01:54:44.8450298Z     User is org admin and not part of org
2024-03-07T01:54:45.0409917Z       cannot administrate
2024-03-07T01:54:45.0410572Z   flash_class
2024-03-07T01:54:45.0465544Z     returns appropriate class for alert
2024-03-07T01:54:45.0513088Z     returns appropriate class for success
2024-03-07T01:54:45.0559412Z     returns appropriate class for notice
2024-03-07T01:54:45.0603075Z     returns appropriate class for error
2024-03-07T01:54:45.0603682Z   step_container_helper
2024-03-07T01:54:45.0605803Z     active_index is equal to index
2024-03-07T01:54:45.0647936Z       returns active
2024-03-07T01:54:45.0648472Z     active_index is greater than index
2024-03-07T01:54:45.0692001Z       returns done
2024-03-07T01:54:45.0692520Z     active_index is less than index
2024-03-07T01:54:45.0736082Z       returns empty string
2024-03-07T01:54:45.0736796Z   confirm_delete_msg
2024-03-07T01:54:45.0778488Z     subs in string
2024-03-07T01:54:45.0779324Z 
2024-03-07T01:54:45.0780151Z Reports::AdultIncontinenceReportService
2024-03-07T01:54:45.0781254Z   #report
2024-03-07T01:54:45.2635807Z     should report zero values
2024-03-07T01:54:45.2636446Z     with values
2024-03-07T01:54:45.8793519Z       should handle null distribution quantity
2024-03-07T01:54:46.5242413Z       should report normal values
2024-03-07T01:54:46.5243008Z 
2024-03-07T01:54:46.5243225Z OrganizationUpdateService
2024-03-07T01:54:46.5244570Z   #update
2024-03-07T01:54:46.5245746Z     when object is invalid
2024-03-07T01:54:46.7010354Z       should not update and return false
2024-03-07T01:54:46.7011121Z     when organization has partners
2024-03-07T01:54:46.7012158Z       when all of a single partner's request flags will be disabled
2024-03-07T01:54:46.9253025Z         should NOT change request flags in organization or its partners
2024-03-07T01:54:47.1373526Z         should add an error message to the organization
2024-03-07T01:54:47.1374410Z       when all of a single partner's request flags WILL NOT be disabled
2024-03-07T01:54:47.3613330Z         should allow the disabling of request flags in organization and its partners
2024-03-07T01:54:47.3613948Z     when object is valid
2024-03-07T01:54:47.5443031Z       should update and return true
2024-03-07T01:54:47.5443617Z   #update_partner_flags
2024-03-07T01:54:47.5444623Z     when request flags haven't changed
2024-03-07T01:54:47.7606775Z       should not update partners
2024-03-07T01:54:47.7607477Z     when request flags have changed
2024-03-07T01:54:47.9935602Z       should NOT update partners' request flags when enabling request flags on the organization
2024-03-07T01:54:48.2290910Z       should update partners when disabling quantity-based request flags
2024-03-07T01:54:48.4544046Z       should update partners when disabling child and individual request flags
2024-03-07T01:54:48.4544816Z 
2024-03-07T01:54:48.4544983Z BaseItem
2024-03-07T01:54:48.4547215Z   Associations >
2024-03-07T01:54:48.4688125Z     keeps count of its associated items
2024-03-07T01:54:48.4688825Z   Filtering >
2024-03-07T01:54:48.4689476Z     ->without_kit
2024-03-07T01:54:48.4744753Z       should not include the Kit BaseItem
2024-03-07T01:54:48.4745817Z     ->by_partner_key
2024-03-07T01:54:48.4798484Z       shows the Base Items by partner_key
2024-03-07T01:54:48.4799093Z   versioning
2024-03-07T01:54:48.4836193Z     is expected to be versioned
2024-03-07T01:54:48.4836728Z   Validations >
2024-03-07T01:54:48.4883107Z     is invalid without a partner key
2024-03-07T01:54:48.4955909Z     is invalid without a unique name
2024-03-07T01:54:48.5024418Z     is invalid without a uniqueness key
2024-03-07T01:54:48.5069276Z     is invalid without a name
2024-03-07T01:54:48.5070112Z 
2024-03-07T01:54:48.5070399Z DispersedPastDatesGenerator
2024-03-07T01:54:48.5071518Z   #next
2024-03-07T01:54:48.5123115Z     returns equally dispersed dates between all time ranges
2024-03-07T01:54:48.5124003Z   constants
2024-03-07T01:54:48.5155714Z     has 4 day ranges for generation of past dates
2024-03-07T01:54:48.5156428Z 
2024-03-07T01:54:48.5156638Z Request
2024-03-07T01:54:48.5158238Z   item data
2024-03-07T01:54:48.5239582Z     coerces item quantity and id to always be an integer before saving
2024-03-07T01:54:48.5240440Z   versioning
2024-03-07T01:54:48.5276503Z     is expected to be versioned
2024-03-07T01:54:48.5277079Z   total_items
2024-03-07T01:54:48.5374061Z     adds the quantity of all items in the request
2024-03-07T01:54:48.5374758Z   Enums >
2024-03-07T01:54:48.5375133Z     #status
2024-03-07T01:54:48.5592183Z       scopes
2024-03-07T01:54:48.5592851Z 
2024-03-07T01:54:48.5593046Z DistributionReminder
2024-03-07T01:54:48.5594146Z   conditionally sending the emails
2024-03-07T01:54:48.5909829Z     sends mail for future distributions
2024-03-07T01:54:48.6204769Z     does not send mail for future distributions if the partner wants no reminders
2024-03-07T01:54:48.6500491Z     sends mail for future distributions where the partner wants reminders
2024-03-07T01:54:48.6798544Z     does not send mail for past distributions
2024-03-07T01:54:48.6799339Z     when the partner is deactivated
2024-03-07T01:54:48.7138660Z       does not send mail
2024-03-07T01:54:48.7139318Z     when the distribution_id does not match any Distribution
2024-03-07T01:54:48.7191569Z       does not send mail for non existent distributions
2024-03-07T01:54:48.7192443Z 
2024-03-07T01:54:48.7192950Z PartnerFetchRequestableItemsService
2024-03-07T01:54:48.7193643Z   #call
2024-03-07T01:54:48.7321163Z     raises an error indiciating the partner does not exist with invalid id
2024-03-07T01:54:48.7322055Z     org with any amount of items
2024-03-07T01:54:48.7322737Z       when the partner is in a partner group and has no items
2024-03-07T01:54:48.9405364Z         should return only active and visible items from partner
2024-03-07T01:54:48.9406326Z       when the partner is in a partner group and has items
2024-03-07T01:54:49.1668630Z         should return only active and visible items from partner
2024-03-07T01:54:49.1669490Z     when the partner is not in any partner group
2024-03-07T01:54:49.1962685Z       is expected to be nil
2024-03-07T01:54:49.1963284Z       when the organization has items
2024-03-07T01:54:49.2400288Z         is expected to eq [#<Item id: 4801, name: "Item 1", category: nil, created_at: "2024-03-06 17:54:49.214540845 -0800", u... on_hand_recommended_quantity: nil, visible_to_partners: false, kit_id: nil, item_category_id: nil>]
2024-03-07T01:54:49.2952290Z         should return only active and visible items
2024-03-07T01:54:49.2953049Z       when the organization has no items
2024-03-07T01:54:49.3276241Z         should return no items
2024-03-07T01:54:49.3277611Z 
2024-03-07T01:54:49.3277817Z ItemCreateService
2024-03-07T01:54:49.3278664Z   #call
2024-03-07T01:54:49.3279689Z     when an issue occurs in transaction
2024-03-07T01:54:49.3280877Z       because the organization_id does not match any Organization
2024-03-07T01:54:49.5004005Z         should return a OpenStruct with an ActiveRecord::RecordNotFound error
2024-03-07T01:54:49.6732725Z       because the item create raised an error
2024-03-07T01:54:49.6733763Z         should return a OpenStruct with the raised error
2024-03-07T01:54:49.6735289Z       because a inventory item creation failed and raised an error
2024-03-07T01:54:49.8555493Z         should return a OpenStruct with the raised error
2024-03-07T01:54:49.8556126Z     when there are no issues
2024-03-07T01:54:50.0341674Z       should return an OpenStruct with success? set to true and the item
2024-03-07T01:54:50.2080677Z       should execute the expected methods
2024-03-07T01:54:50.2081768Z 
2024-03-07T01:54:50.2082035Z InventoryAggregate
2024-03-07T01:54:50.2083783Z   multiple events
2024-03-07T01:54:50.4775523Z     should handle changing storage location
2024-03-07T01:54:50.8792007Z     should process multiple events
2024-03-07T01:54:51.1467869Z     should ignore unusable snapshots
2024-03-07T01:54:51.4206867Z     should handle timing correctly
2024-03-07T01:54:51.7357596Z     should handle intervening audits
2024-03-07T01:54:51.7358334Z   validation
2024-03-07T01:54:51.7358772Z     subsequent event is incorrect
2024-03-07T01:54:52.0468081Z       should add the event to the message
2024-03-07T01:54:52.2994099Z       should handle negative quantities
2024-03-07T01:54:52.2994770Z     current event is incorrect
2024-03-07T01:54:52.5310355Z       should raise a bare error
2024-03-07T01:54:52.5311145Z   individual events
2024-03-07T01:54:52.8541946Z     should process a transfer destroy event
2024-03-07T01:54:53.1516240Z     should process a snapshot event
2024-03-07T01:54:53.4952895Z     should process a distribution destroyed event
2024-03-07T01:54:53.8925026Z     should process a kit deallocation event
2024-03-07T01:54:54.1947796Z     should process an audit event
2024-03-07T01:54:54.5209972Z     should process a purchase destroyed event
2024-03-07T01:54:54.8324140Z     should process a donation destroyed event
2024-03-07T01:54:55.1375051Z     should process an adjustment event
2024-03-07T01:54:55.4437612Z     should process a distribution event
2024-03-07T01:54:55.7311538Z     should process a transfer event
2024-03-07T01:54:56.0442557Z     should process a kit allocation event
2024-03-07T01:54:56.3434402Z     should process a purchase event
2024-03-07T01:54:56.6298456Z     should process a donation event
2024-03-07T01:54:56.9210437Z     should process a donation event after a new storage location is created
2024-03-07T01:54:56.9211206Z 
2024-03-07T01:54:56.9211338Z ItemCategory
2024-03-07T01:54:56.9212436Z   versioning
2024-03-07T01:54:56.9251790Z     is expected to be versioned
2024-03-07T01:54:56.9252372Z   validations
2024-03-07T01:54:56.9346204Z     is expected to validate that :organization cannot be empty/falsy
2024-03-07T01:54:56.9546847Z     is expected to validate that :name is case-sensitively unique within the scope of :organization_id
2024-03-07T01:54:56.9621516Z     is expected to validate that the length of :description is at most 250
2024-03-07T01:54:56.9711073Z     is expected to validate that :name cannot be empty/falsy
2024-03-07T01:54:56.9712174Z   assocations
2024-03-07T01:54:56.9776891Z     is expected to have and belong to many partner_groups
2024-03-07T01:54:56.9829186Z     is expected to belong to organization required: true
2024-03-07T01:54:56.9864991Z     is expected to have many items
2024-03-07T01:54:56.9865720Z 
2024-03-07T01:54:56.9866009Z ReminderDeadlineMailer
2024-03-07T01:54:56.9867034Z   notify deadline
2024-03-07T01:54:57.0187033Z     renders the body
2024-03-07T01:54:57.0487512Z     renders the sender email
2024-03-07T01:54:57.0790965Z     renders the subject
2024-03-07T01:54:57.1085632Z     renders the receiver email
2024-03-07T01:54:57.1086271Z 
2024-03-07T01:54:57.1086499Z Partners::Family
2024-03-07T01:54:57.1088598Z   associations
2024-03-07T01:54:57.1131801Z     is expected to have many authorized_family_members dependent => destroy
2024-03-07T01:54:57.1181897Z     is expected to belong to partner required: true
2024-03-07T01:54:57.1221754Z     is expected to have many children dependent => destroy
2024-03-07T01:54:57.1222469Z   #guardian_display_name
2024-03-07T01:54:57.1276947Z     should return the guardian's first and last name
2024-03-07T01:54:57.1278114Z   #total_children_count
2024-03-07T01:54:57.1331122Z     should return the family's total children count
2024-03-07T01:54:57.1331840Z   #create_authorized
2024-03-07T01:54:57.1620408Z     should include authorized family members
2024-03-07T01:54:57.1621115Z   #search_non_archived
2024-03-07T01:54:57.2496444Z     should return non-archived families if zero is passed in
2024-03-07T01:54:57.3431166Z     should return all families if one is passed in
2024-03-07T01:54:57.3431918Z   versioning
2024-03-07T01:54:57.3468301Z     is expected to be versioned
2024-03-07T01:54:57.3468883Z   validations
2024-03-07T01:54:57.3545178Z     is expected to validate that :guardian_zip_code cannot be empty/falsy
2024-03-07T01:54:57.3617049Z     is expected to validate that :guardian_first_name cannot be empty/falsy
2024-03-07T01:54:57.3689392Z     is expected to validate that :guardian_last_name cannot be empty/falsy
2024-03-07T01:54:57.3690141Z 
2024-03-07T01:54:57.3690403Z Exports::ExportDistributionsCSVService
2024-03-07T01:54:57.3691035Z   #generate_csv_data
2024-03-07T01:54:57.5546602Z     should match the expected content for the csv
2024-03-07T01:54:57.5547348Z     when a new item is added
2024-03-07T01:54:57.7465028Z       should show up with a 0 quantity if there are none of this item in any distribution
2024-03-07T01:54:57.9331664Z       should add it to the end of the row
2024-03-07T01:54:57.9332547Z     when there are no distributions but the report is requested
2024-03-07T01:54:58.1153433Z       returns a csv with only headers and no rows
2024-03-07T01:54:58.4066868Z 
2024-03-07T01:54:58.4068031Z Pending: (Failures listed here are expected and do not affect your suite's status)
2024-03-07T01:54:58.4068709Z 
2024-03-07T01:54:58.4069688Z   1) KitAllocation add some examples to (or delete) /home/runner/work/human-essentials/human-essentials/spec/models/kit_allocation_spec.rb
2024-03-07T01:54:58.4070809Z      # Not yet implemented
2024-03-07T01:54:58.4071256Z      # ./spec/models/kit_allocation_spec.rb:16
2024-03-07T01:54:58.4071653Z 
2024-03-07T01:54:58.4071920Z Finished in 49.13 seconds (files took 8.54 seconds to load)
2024-03-07T01:54:58.4072522Z 562 examples, 0 failures, 1 pending
2024-03-07T01:54:58.4072839Z 
2024-03-07T01:54:58.4072999Z Randomized with seed 61226
2024-03-07T01:54:58.4073260Z 
2024-03-07T01:54:58.7101721Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3799 / 6435 LOC (59.04%) covered.
2024-03-07T01:54:59.1624682Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10705 LOC (0.35%) covered.
