2024-03-04T13:52:20.0889252Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-04T13:52:20.0890819Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-04T13:52:20.0918764Z shell: /usr/bin/bash -e {0}
2024-03-04T13:52:20.0919145Z env:
2024-03-04T13:52:20.0919473Z   POSTGRES_HOST: localhost
2024-03-04T13:52:20.0919950Z   DATABASE_HOST: localhost
2024-03-04T13:52:20.0920356Z   PG_USERNAME: postgres
2024-03-04T13:52:20.0920699Z   PG_PASSWORD: password
2024-03-04T13:52:20.0921178Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-04T13:52:20.0921615Z   POSTGRES_PORT: 5432
2024-03-04T13:52:20.0922045Z   PGHOST: localhost
2024-03-04T13:52:20.0922412Z   PGUSER: postgres
2024-03-04T13:52:20.0922718Z   RAILS_ENV: test
2024-03-04T13:52:20.0923147Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-04T13:52:20.0923615Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-04T13:52:20.0924024Z   KNAPSACK_PRO_CI_NODE_INDEX: 4
2024-03-04T13:52:20.0924557Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-04T13:52:20.0925103Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-04T13:52:20.0925895Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-04T13:52:20.0926541Z   EVENTS_READ: true
2024-03-04T13:52:20.0926893Z ##[endgroup]
2024-03-04T13:52:25.8207819Z W, [2024-03-04T13:52:25.820424 #2404]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-04T13:52:25.8209999Z W, [2024-03-04T13:52:25.820482 #2404]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-04T13:52:25.8211622Z W, [2024-03-04T13:52:25.820505 #2404]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-04T13:52:25.8214755Z W, [2024-03-04T13:52:25.820536 #2404]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-04T13:52:27.8876845Z W, [2024-03-04T13:52:27.887296 #2404]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-04T13:52:27.8879082Z W, [2024-03-04T13:52:27.887343 #2404]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-04T13:52:27.8880947Z W, [2024-03-04T13:52:27.887375 #2404]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-04T13:52:27.8883634Z W, [2024-03-04T13:52:27.887424 #2404]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-04T13:52:27.8933776Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/base_items_requests_spec.rb" "spec/requests/admin_requests_spec.rb" "spec/requests/distributions_by_county_spec.rb" "spec/requests/kit_requests_spec.rb" "spec/requests/partners/family_requests_spec.rb" "spec/requests/product_drive_participants_requests_spec.rb" "spec/requests/sessions_requests_spec.rb" "spec/requests/vendors_requests_spec.rb" "spec/system/admin/base_items_system_spec.rb" "spec/system/authorization_system_spec.rb" "spec/system/donation_system_spec.rb" "spec/system/manufacturer_system_spec.rb" "spec/system/partners/family_requests_system_spec.rb" "spec/system/product_drive_system_spec.rb" "spec/system/storage_location_system_spec.rb"
2024-03-04T13:52:36.3251733Z 
2024-03-04T13:52:36.3252524Z Randomized with seed 51313
2024-03-04T13:52:37.2664041Z 
2024-03-04T13:52:37.2664787Z /partners/family
2024-03-04T13:52:37.2665718Z   GET #index
2024-03-04T13:52:37.3818638Z     should render without any issues and display unarchived families by default
2024-03-04T13:52:37.4387671Z     should render without any issues and present all families
2024-03-04T13:52:37.4839333Z     should export CSV
2024-03-04T13:52:37.4840319Z 
2024-03-04T13:52:37.4840659Z ProductDriveParticipants
2024-03-04T13:52:37.4842104Z   While not signed in
2024-03-04T13:52:37.4977064Z     redirects the user to the sign-in page for CRUD actions
2024-03-04T13:52:37.4977663Z   While signed in
2024-03-04T13:52:37.4979153Z     GET #edit
2024-03-04T13:52:37.5447624Z       returns http success
2024-03-04T13:52:37.5448479Z     GET #new
2024-03-04T13:52:37.5749910Z       returns http success
2024-03-04T13:52:37.5750823Z     GET #index
2024-03-04T13:52:37.5751291Z       html
2024-03-04T13:52:37.6127266Z         is expected to be successful
2024-03-04T13:52:37.6128057Z       csv
2024-03-04T13:52:37.6287882Z         is expected to be successful
2024-03-04T13:52:37.6288873Z     POST #create
2024-03-04T13:52:37.6515665Z       successful create
2024-03-04T13:52:37.6872768Z       flash error
2024-03-04T13:52:37.6873572Z     Looking at a different organization
2024-03-04T13:52:37.8610456Z       redirects the user to the sign-in page for CRUD actions
2024-03-04T13:52:37.8611675Z     GET #show
2024-03-04T13:52:37.8915524Z       returns http success
2024-03-04T13:52:37.8916205Z     XHR #create
2024-03-04T13:52:37.9236340Z       flash error
2024-03-04T13:52:37.9547734Z       successful create
2024-03-04T13:52:37.9548512Z     POST #import_csv
2024-03-04T13:52:37.9549419Z       without a csv file
2024-03-04T13:52:37.9676105Z         presents a flash error message
2024-03-04T13:52:37.9794924Z         redirects to :index
2024-03-04T13:52:37.9795974Z       csv file with wrong headers
2024-03-04T13:52:37.9944434Z         presents a flash error message
2024-03-04T13:52:38.0066405Z         redirects
2024-03-04T13:52:38.0067064Z       with a csv file
2024-03-04T13:52:38.0251158Z         presents a flash notice message
2024-03-04T13:52:38.0303049Z         invokes .import_csv
2024-03-04T13:52:38.0486725Z         redirects
2024-03-04T13:52:38.0488301Z 
2024-03-04T13:52:38.0488574Z /kits
2024-03-04T13:52:38.0490231Z   while signed in
2024-03-04T13:52:38.1220122Z     PUT #deactivate
2024-03-04T13:52:38.1220963Z     GET #index
2024-03-04T13:52:38.2230862Z       should include deactivate
2024-03-04T13:52:38.2231865Z       when show inactive is checked
2024-03-04T13:52:38.3243283Z         should show the inactive kit
2024-03-04T13:52:38.3244336Z       when it is already deactivated
2024-03-04T13:52:38.4101261Z         should show reactivate button
2024-03-04T13:52:38.4101896Z       when it cannot be deactivated
2024-03-04T13:52:38.5315604Z         should disable the button
2024-03-04T13:52:38.5316676Z     PUT #reactivate
2024-03-04T13:52:38.5748946Z       cannot reactivate if it has an inactive item
2024-03-04T13:52:38.6274758Z       should successfully reactivate
2024-03-04T13:52:38.6275446Z 
2024-03-04T13:52:38.6275791Z Storage Locations
2024-03-04T13:52:38.6277100Z   when viewing the index
2024-03-04T13:52:47.5177395Z     Filter list presented to user is in alphabetical order by item name
2024-03-04T13:52:48.4637434Z     Allows user to filter discarded storage locations
2024-03-04T13:52:49.6075507Z     shows totals that are the sum totals of all inputs
2024-03-04T13:52:50.8609916Z     User can filter the #index by those that contain certain items
2024-03-04T13:52:52.2440727Z     Allows user to deactivate and reactivate storage locations
2024-03-04T13:52:53.0335036Z     Stops a user from deactivating storage locations with inventory
2024-03-04T13:52:53.0336650Z   when creating a new storage location
2024-03-04T13:52:54.0166306Z     User creates a new storage location with empty attributes
2024-03-04T13:52:54.9103431Z     User creates a new storage location with optional fields
2024-03-04T13:52:55.7074034Z     User creates a new storage location
2024-03-04T13:52:55.7075390Z   when editing an existing storage location
2024-03-04T13:52:56.5285124Z     User updates an existing storage location with empty name
2024-03-04T13:52:57.4256744Z     User updates an existing storage location
2024-03-04T13:52:57.4257701Z   when viewing an existing storage location
2024-03-04T13:52:58.0966690Z     Items in (adjustments)
2024-03-04T13:52:58.8038907Z     Items out (distributions)
2024-03-04T13:52:58.8040008Z 
2024-03-04T13:52:58.8040381Z Donations
2024-03-04T13:52:58.8041947Z   When signed in as a normal user
2024-03-04T13:52:58.8043470Z     When viewing an existing donation
2024-03-04T13:52:59.3290727Z       displays donation comment
2024-03-04T13:52:59.8389483Z       does not allow deletion of a donation
2024-03-04T13:52:59.8390180Z       when there is no comment defined
2024-03-04T13:53:00.6591330Z         displays the None provided as the comment
2024-03-04T13:53:00.6592444Z     When editing an existing donation
2024-03-04T13:53:00.7726870Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:00.7740186Z       Allows the user to edit a donation (FAILED - 1)
2024-03-04T13:53:00.8506104Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:00.8518385Z       Does not default a selection if item lookup fails (FAILED - 2)
2024-03-04T13:53:00.8519549Z     When donation items have value
2024-03-04T13:53:01.7614641Z       Displays the total value on the index page
2024-03-04T13:53:02.7039375Z       Displays the total value on the show page
2024-03-04T13:53:03.4138372Z       Displays the individual value on the index page
2024-03-04T13:53:03.4139022Z     When filtering on the index page
2024-03-04T13:53:04.2638273Z       Filters by product drives
2024-03-04T13:53:05.0989064Z       Filters by manufacturer
2024-03-04T13:53:05.1841222Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:05.1854157Z       Filters by the source (FAILED - 3)
2024-03-04T13:53:05.9920730Z       Filters by storage location
2024-03-04T13:53:06.0664105Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:06.0677207Z       Filters by multiple attributes (FAILED - 4)
2024-03-04T13:53:06.1337563Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:06.1349728Z       Filters by donation site (FAILED - 5)
2024-03-04T13:53:06.9806826Z       Filter by product drive participant sticks around
2024-03-04T13:53:07.8157879Z       Filters by product drive participant
2024-03-04T13:53:07.8159043Z       behaves like Date Range Picker
2024-03-04T13:53:07.8160078Z         when choosing 'Last Month'
2024-03-04T13:53:08.7886573Z           shows only 2 of the records
2024-03-04T13:53:08.7887537Z         when choosing a date range that only includes the previous week
2024-03-04T13:53:09.7225361Z           shows only 1 record
2024-03-04T13:53:09.7226432Z         when choosing 'All Time'
2024-03-04T13:53:10.6741429Z           shows all the records
2024-03-04T13:53:10.6742335Z     When creating a new donation
2024-03-04T13:53:10.7499348Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:10.7512146Z       should not display inactive storage locations in dropdown (FAILED - 6)
2024-03-04T13:53:10.7513141Z       Via manual entry
2024-03-04T13:53:10.8172934Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:10.8185662Z         Allows User to create a donation with a Miscellaneous source (FAILED - 7)
2024-03-04T13:53:10.8818749Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:10.8830495Z         Allows User to create a donation for a Manufacturer source (FAILED - 8)
2024-03-04T13:53:10.9496790Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:10.9509118Z         Verifies unusually large donation quantities (FAILED - 9)
2024-03-04T13:53:11.0199956Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:11.0213342Z         Allows User to create a Manufacturer from donation (FAILED - 10)
2024-03-04T13:53:11.0835629Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:11.0849981Z         Repopulates items dropdown even if initial submission doesn't validate (FAILED - 11)
2024-03-04T13:53:11.1491822Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:11.1505139Z         Displays nested errors (FAILED - 12)
2024-03-04T13:53:11.2164268Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:11.2177312Z         Allows User to create a donation for Purchased Supplies (FAILED - 13)
2024-03-04T13:53:11.2829485Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:11.2842219Z         Allows User to create a donation for a ProductDrive Participant source (FAILED - 14)
2024-03-04T13:53:11.3505276Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:11.3518017Z         Does not include inactive items in the line item fields (FAILED - 15)
2024-03-04T13:53:11.4158963Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:11.4172280Z         Accepts and combines multiple line items for the same item type (FAILED - 16)
2024-03-04T13:53:11.4827377Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:11.4840413Z         Allows User to create a donation for a Donation Site source (FAILED - 17)
2024-03-04T13:53:11.5500306Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:11.5512907Z         User can create a donation using dollars decimal amount for its money raised (FAILED - 18)
2024-03-04T13:53:11.6178779Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:11.6191563Z         Ensures Barcode Entry fields have unique ids (FAILED - 19)
2024-03-04T13:53:11.6819838Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:11.6832058Z         Allows User to create a Product Drive Participant from donation (FAILED - 20)
2024-03-04T13:53:11.7497847Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:11.7511324Z         Allows donations to be created IN THE PAST (FAILED - 21)
2024-03-04T13:53:11.8161808Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:11.8175107Z         Strips extraneous data if the user adds both Donation Site and Product Drive Participant (FAILED - 22)
2024-03-04T13:53:11.8834348Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:11.8847035Z         Allows User to create a Product Drive from donation (FAILED - 23)
2024-03-04T13:53:11.8848000Z       Via barcode entry
2024-03-04T13:53:11.9488881Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:11.9500663Z         Allows User to add items by barcode (FAILED - 24)
2024-03-04T13:53:12.0171970Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:12.0186856Z         Updates the line item when the same barcode is scanned twice (FAILED - 25)
2024-03-04T13:53:12.0831115Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:12.0843303Z         Allows User to add items that do not yet have a barcode (FAILED - 26)
2024-03-04T13:53:12.0844514Z         When the barcode is a global barcode
2024-03-04T13:53:12.1509020Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-04T13:53:12.1520952Z           Adds the oldest item it can find for the global barcode (FAILED - 27)
2024-03-04T13:53:12.1522156Z     When visiting the index page
2024-03-04T13:53:12.9776260Z       doesn't die when an inactive item is in a donation
2024-03-04T13:53:13.8046717Z       Allows User to click to the new donation form
2024-03-04T13:53:14.3000188Z       Displays Total quantity on the index page
2024-03-04T13:53:15.0536973Z       should not display inactive storage locations in dropdown
2024-03-04T13:53:15.0538004Z   while signed in as an organization admin
2024-03-04T13:53:15.0538920Z     When viewing an existing donation
2024-03-04T13:53:15.9102638Z       allows deletion of a donation
2024-03-04T13:53:15.9103536Z 
2024-03-04T13:53:15.9105838Z Admin::BaseItems
2024-03-04T13:53:15.9106537Z   When logged in as an organization admin
2024-03-04T13:53:15.9107752Z     GET #show
2024-03-04T13:53:15.9267903Z       returns http success
2024-03-04T13:53:15.9268685Z     GET #new
2024-03-04T13:53:15.9403765Z       returns http success
2024-03-04T13:53:15.9404813Z     PUT #update
2024-03-04T13:53:15.9536688Z       redirect
2024-03-04T13:53:15.9537406Z     POST #create
2024-03-04T13:53:15.9684258Z       redirects
2024-03-04T13:53:15.9684995Z     GET #index
2024-03-04T13:53:15.9816597Z       returns http success
2024-03-04T13:53:15.9817362Z     GET #edit
2024-03-04T13:53:15.9942063Z       returns http success
2024-03-04T13:53:15.9942924Z     DELETE #destroy
2024-03-04T13:53:16.0061852Z       redirects
2024-03-04T13:53:16.0062923Z 
2024-03-04T13:53:16.0063291Z Sessions
2024-03-04T13:53:16.0064471Z   Sign in as user without logging off as an admin
2024-03-04T13:53:16.0199447Z     cannot access admin dashboard
2024-03-04T13:53:16.0335281Z     properly accesses the organization dashboard
2024-03-04T13:53:16.0336231Z 
2024-03-04T13:53:16.0336536Z DistributionsByCounties
2024-03-04T13:53:16.0337272Z   While not signed in
2024-03-04T13:53:16.0440835Z     redirects for authentication
2024-03-04T13:53:16.0441770Z     While signed in as bank
2024-03-04T13:53:16.1461522Z       shows 'Unspecified 100%' if no served_areas
2024-03-04T13:53:16.1462256Z       basic behaviour with served areas
2024-03-04T13:53:16.3633234Z         handles multiple partners with overlapping service areas properly
2024-03-04T13:53:16.3634409Z 
2024-03-04T13:53:16.3634632Z Base Item Admin
2024-03-04T13:53:16.3635986Z   While signed in as a normal user
2024-03-04T13:53:17.8156173Z     should have a normal user not see anything
2024-03-04T13:53:17.8157445Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-04T13:53:18.3394302Z     can view a listing of all Base Items that shows a summary of its sub-items
2024-03-04T13:53:18.8040615Z     can view a single Base Item
2024-03-04T13:53:18.8041357Z     when creating a new base item
2024-03-04T13:53:19.5156463Z       should fail when creating a new base item with empty attributes
2024-03-04T13:53:20.3979962Z       should succeed when creating a new base item with good data
2024-03-04T13:53:20.3980719Z     when updating an existing base item
2024-03-04T13:53:21.1255963Z       should fail when updating the name to empty
2024-03-04T13:53:21.9234667Z       should succeed when changing the name
2024-03-04T13:53:21.9235972Z   While signed in as an Administrative User (super admin)
2024-03-04T13:53:22.3808624Z     can view a single Base Item
2024-03-04T13:53:22.8970336Z     can view a listing of all Base Items that shows a summary of its sub-items
2024-03-04T13:53:22.8971132Z     when updating an existing base item
2024-03-04T13:53:23.7153867Z       should succeed when changing the name
2024-03-04T13:53:24.4537855Z       should fail when updating the name to empty
2024-03-04T13:53:24.4538989Z     when creating a new base item
2024-03-04T13:53:25.2684008Z       should succeed when creating a new base item with good data
2024-03-04T13:53:25.9884742Z       should fail when creating a new base item with empty attributes
2024-03-04T13:53:25.9885589Z 
2024-03-04T13:53:25.9885830Z Product Drives
2024-03-04T13:53:25.9887661Z   when showing a Product Drive with no end date
2024-03-04T13:53:26.4522225Z     must be able to show the product drive
2024-03-04T13:53:26.4523143Z   when creating a normal product drive
2024-03-04T13:53:27.2602718Z     must have correct attributes
2024-03-04T13:53:28.0721524Z     must have the success message
2024-03-04T13:53:28.8737114Z     must create a new product drive
2024-03-04T13:53:28.8738573Z   when creating a Virtual Product Drive
2024-03-04T13:53:29.8108657Z     must have the success message
2024-03-04T13:53:30.7301122Z     must have correct attributes
2024-03-04T13:53:31.6489946Z     must create a new virtual Product Drive
2024-03-04T13:53:31.6491022Z   When visiting the index page without parameters
2024-03-04T13:53:32.1693484Z     Shows the expected filters with the expected values and in alphabetical order for name filter
2024-03-04T13:53:32.6689147Z     shows in descending order of start date
2024-03-04T13:53:33.1836187Z     shows the expected product drives
2024-03-04T13:53:33.6649227Z     shows two non-virtual product drives
2024-03-04T13:53:34.1583368Z     shows only one virtual product drives
2024-03-04T13:53:34.1584185Z 
2024-03-04T13:53:34.1584405Z Authorization
2024-03-04T13:53:34.7270286Z   redirects to the dashboard when unauthorized user attempts access
2024-03-04T13:53:35.2730448Z   redirects to the organization dashboard when authorized
2024-03-04T13:53:35.2731245Z 
2024-03-04T13:53:35.2731463Z Manufacturer
2024-03-04T13:53:36.0339012Z   allows a user to create a new manufacturer instance
2024-03-04T13:53:36.8016860Z   allows a user to update the contact info for a manufacturer
2024-03-04T13:53:37.5438892Z   allows a user to update a manufacturer with empty attributes
2024-03-04T13:53:38.2730190Z   allows a user to add a new manufacturer instance with empty attributes
2024-03-04T13:53:38.2731026Z   When a user views the index page
2024-03-04T13:53:38.7680446Z     alphabetizes the manufacturer names
2024-03-04T13:53:38.7682225Z   When the Manufacturers have donations associated with them already
2024-03-04T13:53:39.4464382Z     shows existing Manufacturers in the #index with some summary stats
2024-03-04T13:53:40.1214919Z     allows single Manufacturers to show semi-detailed stats about donations from that manufacturer
2024-03-04T13:53:40.1215761Z 
2024-03-04T13:53:40.1216455Z Vendors
2024-03-04T13:53:40.1217506Z   While not signed in
2024-03-04T13:53:40.1292274Z     redirects the user to the sign-in page for CRUD actions
2024-03-04T13:53:40.1293379Z   While signed in
2024-03-04T13:53:40.1294452Z     GET #edit
2024-03-04T13:53:40.1657870Z       returns http success
2024-03-04T13:53:40.1659050Z     POST #import_csv
2024-03-04T13:53:40.1659635Z       without a csv file
2024-03-04T13:53:40.1796356Z         presents a flash error message
2024-03-04T13:53:40.1922005Z         redirects to :index
2024-03-04T13:53:40.1922764Z       with a csv file
2024-03-04T13:53:40.2121928Z         presents a flash notice message
2024-03-04T13:53:40.2310139Z         redirects
2024-03-04T13:53:40.2347692Z         invokes .import_csv
2024-03-04T13:53:40.2348475Z       csv file with wrong headers
2024-03-04T13:53:40.2473412Z         presents a flash error message
2024-03-04T13:53:40.2596574Z         redirects
2024-03-04T13:53:40.2597477Z     Looking at a different organization
2024-03-04T13:53:40.4361540Z       redirects the user to the sign-in page for CRUD actions
2024-03-04T13:53:40.4362276Z     GET #new
2024-03-04T13:53:40.4675496Z       returns http success
2024-03-04T13:53:40.4676226Z     GET #index
2024-03-04T13:53:40.4676837Z       csv
2024-03-04T13:53:40.4847175Z         is expected to be successful
2024-03-04T13:53:40.4847924Z       html
2024-03-04T13:53:40.5179873Z         is expected to be successful
2024-03-04T13:53:40.5180903Z     GET #show
2024-03-04T13:53:40.5477462Z       returns http success
2024-03-04T13:53:40.5478350Z     DELETE #destroy
2024-03-04T13:53:40.5572036Z       does not have a route for this
2024-03-04T13:53:40.5572757Z     XHR #create
2024-03-04T13:53:40.5877929Z       flash error
2024-03-04T13:53:40.6184705Z       successful create
2024-03-04T13:53:40.6185737Z     POST #create
2024-03-04T13:53:40.6327430Z       successful create
2024-03-04T13:53:40.6631146Z       flash error
2024-03-04T13:53:40.6632562Z     when on vendors index page
2024-03-04T13:53:40.6905727Z       has the correct import type
2024-03-04T13:53:40.6909257Z 
2024-03-04T13:53:40.6909627Z Admin
2024-03-04T13:53:40.6910778Z   while signed in as a non-super-admin
2024-03-04T13:53:40.7127427Z     disallows dashboard access, redirecting to the normal dashboard
2024-03-04T13:53:40.7128536Z   while signed in as a super admin
2024-03-04T13:53:40.7549463Z     allows a user to load the dashboard
2024-03-04T13:53:40.7550114Z     with rendered views
2024-03-04T13:53:41.1890827Z       shows the recently added users email
2024-03-04T13:53:41.4552528Z       shows a logout button
2024-03-04T13:53:41.4553052Z 
2024-03-04T13:53:41.4553521Z Family requests
2024-03-04T13:53:41.4556199Z   filtering children
2024-03-04T13:53:42.5080604Z     user can see a list of children filtered by guardian name
2024-03-04T13:53:43.4547814Z     user can see a list of children filtered by first_name
2024-03-04T13:53:43.4549144Z   for children with different items, from different families
2024-03-04T13:53:45.0902593Z     it creates family requests
2024-03-04T13:53:45.1180058Z W, [2024-03-04T05:53:45.117709 #2445]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-04T13:53:45.1182542Z W, [2024-03-04T05:53:45.117766 #2445]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-04T13:53:45.1185219Z W, [2024-03-04T05:53:45.117796 #2445]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-04T13:53:45.1187311Z W, [2024-03-04T05:53:45.117830 #2445]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-04T13:53:45.2326769Z 
2024-03-04T13:53:45.2327531Z Failures:
2024-03-04T13:53:45.2327991Z 
2024-03-04T13:53:45.2329156Z   1) Donations When signed in as a normal user When editing an existing donation Allows the user to edit a donation
2024-03-04T13:53:45.2331548Z      Failure/Error: create(:donation_site, organization: @organization)
2024-03-04T13:53:45.2332111Z 
2024-03-04T13:53:45.2332393Z      ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2333876Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2334805Z 
2024-03-04T13:53:45.2336222Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/capybara/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_editing_an_existing_donation_allows_the_user_to_edit_a_donation_316.png
2024-03-04T13:53:45.2337662Z 
2024-03-04T13:53:45.2337668Z 
2024-03-04T13:53:45.2338077Z      # ./spec/system/donation_system_spec.rb:546:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2338609Z 
2024-03-04T13:53:45.2339254Z   2) Donations When signed in as a normal user When editing an existing donation Does not default a selection if item lookup fails
2024-03-04T13:53:45.2340390Z      Failure/Error: create(:donation_site, organization: @organization)
2024-03-04T13:53:45.2340902Z 
2024-03-04T13:53:45.2341063Z      ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2342161Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2343108Z 
2024-03-04T13:53:45.2344515Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_editing_an_existing_donation_does_not_default_a_selection_if_item_lookup_fails_425.png
2024-03-04T13:53:45.2346237Z 
2024-03-04T13:53:45.2346242Z 
2024-03-04T13:53:45.2346580Z      # ./spec/system/donation_system_spec.rb:546:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2347080Z 
2024-03-04T13:53:45.2347581Z   3) Donations When signed in as a normal user When filtering on the index page Filters by the source
2024-03-04T13:53:45.2348581Z      Failure/Error: create(:donation_site_donation)
2024-03-04T13:53:45.2348898Z 
2024-03-04T13:53:45.2349111Z      ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2350135Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2350885Z 
2024-03-04T13:53:45.2351948Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_filtering_on_the_index_page_filters_by_the_source_746.png
2024-03-04T13:53:45.2353036Z 
2024-03-04T13:53:45.2353040Z 
2024-03-04T13:53:45.2353387Z      # ./spec/system/donation_system_spec.rb:52:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2353951Z 
2024-03-04T13:53:45.2354404Z   4) Donations When signed in as a normal user When filtering on the index page Filters by multiple attributes
2024-03-04T13:53:45.2355333Z      Failure/Error: create(:donation_site_donation, storage_location: storage1)
2024-03-04T13:53:45.2355820Z 
2024-03-04T13:53:45.2355978Z      ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2357022Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2357735Z 
2024-03-04T13:53:45.2358883Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_filtering_on_the_index_page_filters_by_multiple_attributes_709.png
2024-03-04T13:53:45.2359965Z 
2024-03-04T13:53:45.2359969Z 
2024-03-04T13:53:45.2360408Z      # ./spec/system/donation_system_spec.rb:139:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2360886Z 
2024-03-04T13:53:45.2361403Z   5) Donations When signed in as a normal user When filtering on the index page Filters by donation site
2024-03-04T13:53:45.2362243Z      Failure/Error: location1 = create(:donation_site, name: "location 1")
2024-03-04T13:53:45.2362693Z 
2024-03-04T13:53:45.2362926Z      ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2363895Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2364657Z 
2024-03-04T13:53:45.2365724Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_filtering_on_the_index_page_filters_by_donation_site_9.png
2024-03-04T13:53:45.2366884Z 
2024-03-04T13:53:45.2366889Z 
2024-03-04T13:53:45.2367226Z      # ./spec/system/donation_system_spec.rb:111:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2367746Z 
2024-03-04T13:53:45.2368287Z   6) Donations When signed in as a normal user When creating a new donation should not display inactive storage locations in dropdown
2024-03-04T13:53:45.2371543Z      Failure/Error: create(:donation_site, organization: @organization)
2024-03-04T13:53:45.2372172Z 
2024-03-04T13:53:45.2372492Z      ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2374211Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2375274Z 
2024-03-04T13:53:45.2376502Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_should_not_display_inactive_storage_locations_in_dropdown_217.png
2024-03-04T13:53:45.2377997Z 
2024-03-04T13:53:45.2378003Z 
2024-03-04T13:53:45.2378388Z      # ./spec/system/donation_system_spec.rb:155:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2378859Z 
2024-03-04T13:53:45.2379486Z   7) Donations When signed in as a normal user When creating a new donation Via manual entry Allows User to create a donation with a Miscellaneous source
2024-03-04T13:53:45.2380795Z      Failure/Error: create(:donation_site, organization: @organization)
2024-03-04T13:53:45.2381238Z 
2024-03-04T13:53:45.2381391Z      ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2382431Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2383160Z 
2024-03-04T13:53:45.2384471Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_allows_user_to_create_a_donation_with_a_miscellaneous_source_130.png
2024-03-04T13:53:45.2385697Z 
2024-03-04T13:53:45.2385739Z 
2024-03-04T13:53:45.2386076Z      # ./spec/system/donation_system_spec.rb:155:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2386540Z 
2024-03-04T13:53:45.2387288Z   8) Donations When signed in as a normal user When creating a new donation Via manual entry Allows User to create a donation for a Manufacturer source
2024-03-04T13:53:45.2388335Z      Failure/Error: create(:donation_site, organization: @organization)
2024-03-04T13:53:45.2388733Z 
2024-03-04T13:53:45.2388916Z      ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2389926Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2390732Z 
2024-03-04T13:53:45.2396027Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_allows_user_to_create_a_donation_for_a_manufacturer_source_512.png
2024-03-04T13:53:45.2398322Z 
2024-03-04T13:53:45.2398342Z 
2024-03-04T13:53:45.2398908Z      # ./spec/system/donation_system_spec.rb:155:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2399910Z 
2024-03-04T13:53:45.2400780Z   9) Donations When signed in as a normal user When creating a new donation Via manual entry Verifies unusually large donation quantities
2024-03-04T13:53:45.2401771Z      Failure/Error: create(:donation_site, organization: @organization)
2024-03-04T13:53:45.2402225Z 
2024-03-04T13:53:45.2404265Z      ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2406021Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2407284Z 
2024-03-04T13:53:45.2409513Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_verifies_unusually_large_donation_quantities_889.png
2024-03-04T13:53:45.2411921Z 
2024-03-04T13:53:45.2411931Z 
2024-03-04T13:53:45.2412525Z      # ./spec/system/donation_system_spec.rb:155:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2413377Z 
2024-03-04T13:53:45.2414395Z   10) Donations When signed in as a normal user When creating a new donation Via manual entry Allows User to create a Manufacturer from donation
2024-03-04T13:53:45.2416302Z       Failure/Error: create(:donation_site, organization: @organization)
2024-03-04T13:53:45.2416986Z 
2024-03-04T13:53:45.2417363Z       ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2419205Z         Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2420689Z 
2024-03-04T13:53:45.2422980Z       [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_allows_user_to_create_a_manufacturer_from_donation_754.png
2024-03-04T13:53:45.2425094Z 
2024-03-04T13:53:45.2425299Z 
2024-03-04T13:53:45.2426227Z       # ./spec/system/donation_system_spec.rb:155:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2427031Z 
2024-03-04T13:53:45.2428515Z   11) Donations When signed in as a normal user When creating a new donation Via manual entry Repopulates items dropdown even if initial submission doesn't validate
2024-03-04T13:53:45.2430499Z       Failure/Error: create(:donation_site, organization: @organization)
2024-03-04T13:53:45.2431289Z 
2024-03-04T13:53:45.2431563Z       ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2433445Z         Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2434754Z 
2024-03-04T13:53:45.2437327Z       [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_repopulates_items_dropdown_even_if_initial_submission_doesn_t_validate_233.png
2024-03-04T13:53:45.2439489Z 
2024-03-04T13:53:45.2439503Z 
2024-03-04T13:53:45.2440148Z       # ./spec/system/donation_system_spec.rb:155:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2441271Z 
2024-03-04T13:53:45.2442107Z   12) Donations When signed in as a normal user When creating a new donation Via manual entry Displays nested errors
2024-03-04T13:53:45.2443655Z       Failure/Error: create(:donation_site, organization: @organization)
2024-03-04T13:53:45.2444336Z 
2024-03-04T13:53:45.2444739Z       ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2446403Z         Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2447711Z 
2024-03-04T13:53:45.2449941Z       [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_displays_nested_errors_850.png
2024-03-04T13:53:45.2452012Z 
2024-03-04T13:53:45.2452020Z 
2024-03-04T13:53:45.2452681Z       # ./spec/system/donation_system_spec.rb:155:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2453543Z 
2024-03-04T13:53:45.2454626Z   13) Donations When signed in as a normal user When creating a new donation Via manual entry Allows User to create a donation for Purchased Supplies
2024-03-04T13:53:45.2456399Z       Failure/Error: create(:donation_site, organization: @organization)
2024-03-04T13:53:45.2457226Z 
2024-03-04T13:53:45.2457468Z       ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2459186Z         Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2460430Z 
2024-03-04T13:53:45.2462738Z       [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_allows_user_to_create_a_donation_for_purchased_supplies_683.png
2024-03-04T13:53:45.2465100Z 
2024-03-04T13:53:45.2465108Z 
2024-03-04T13:53:45.2465736Z       # ./spec/system/donation_system_spec.rb:155:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2466536Z 
2024-03-04T13:53:45.2467767Z   14) Donations When signed in as a normal user When creating a new donation Via manual entry Allows User to create a donation for a ProductDrive Participant source
2024-03-04T13:53:45.2470161Z       Failure/Error: create(:donation_site, organization: @organization)
2024-03-04T13:53:45.2470850Z 
2024-03-04T13:53:45.2471091Z       ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2472766Z         Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2474051Z 
2024-03-04T13:53:45.2476550Z       [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_allows_user_to_create_a_donation_for_a_product_drive_participant_source_870.png
2024-03-04T13:53:45.2479062Z 
2024-03-04T13:53:45.2479070Z 
2024-03-04T13:53:45.2479635Z       # ./spec/system/donation_system_spec.rb:155:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2480479Z 
2024-03-04T13:53:45.2481551Z   15) Donations When signed in as a normal user When creating a new donation Via manual entry Does not include inactive items in the line item fields
2024-03-04T13:53:45.2483407Z       Failure/Error: create(:donation_site, organization: @organization)
2024-03-04T13:53:45.2484087Z 
2024-03-04T13:53:45.2484371Z       ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2486141Z         Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2487473Z 
2024-03-04T13:53:45.2490198Z       [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_does_not_include_inactive_items_in_the_line_item_fields_816.png
2024-03-04T13:53:45.2492416Z 
2024-03-04T13:53:45.2492423Z 
2024-03-04T13:53:45.2493012Z       # ./spec/system/donation_system_spec.rb:155:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2493857Z 
2024-03-04T13:53:45.2495103Z   16) Donations When signed in as a normal user When creating a new donation Via manual entry Accepts and combines multiple line items for the same item type
2024-03-04T13:53:45.2496936Z       Failure/Error: create(:donation_site, organization: @organization)
2024-03-04T13:53:45.2497611Z 
2024-03-04T13:53:45.2497917Z       ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2499603Z         Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2500839Z 
2024-03-04T13:53:45.2503187Z       [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_accepts_and_combines_multiple_line_items_for_the_same_item_type_709.png
2024-03-04T13:53:45.2505488Z 
2024-03-04T13:53:45.2505495Z 
2024-03-04T13:53:45.2505890Z       # ./spec/system/donation_system_spec.rb:155:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2506384Z 
2024-03-04T13:53:45.2507009Z   17) Donations When signed in as a normal user When creating a new donation Via manual entry Allows User to create a donation for a Donation Site source
2024-03-04T13:53:45.2508080Z       Failure/Error: create(:donation_site, organization: @organization)
2024-03-04T13:53:45.2508667Z 
2024-03-04T13:53:45.2508822Z       ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2509852Z         Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2510607Z 
2024-03-04T13:53:45.2511972Z       [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_allows_user_to_create_a_donation_for_a_donation_site_source_948.png
2024-03-04T13:53:45.2513220Z 
2024-03-04T13:53:45.2513419Z 
2024-03-04T13:53:45.2513769Z       # ./spec/system/donation_system_spec.rb:155:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2514239Z 
2024-03-04T13:53:45.2514994Z   18) Donations When signed in as a normal user When creating a new donation Via manual entry User can create a donation using dollars decimal amount for its money raised
2024-03-04T13:53:45.2516187Z       Failure/Error: create(:donation_site, organization: @organization)
2024-03-04T13:53:45.2516747Z 
2024-03-04T13:53:45.2516955Z       ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2517916Z         Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2518724Z 
2024-03-04T13:53:45.2520098Z       [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_user_can_create_a_donation_using_dollars_decimal_amount_for_its_money_raised_375.png
2024-03-04T13:53:45.2521440Z 
2024-03-04T13:53:45.2521445Z 
2024-03-04T13:53:45.2521783Z       # ./spec/system/donation_system_spec.rb:155:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2522348Z 
2024-03-04T13:53:45.2522911Z   19) Donations When signed in as a normal user When creating a new donation Via manual entry Ensures Barcode Entry fields have unique ids
2024-03-04T13:53:45.2524010Z       Failure/Error: create(:donation_site, organization: @organization)
2024-03-04T13:53:45.2524447Z 
2024-03-04T13:53:45.2524597Z       ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2525650Z         Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2526356Z 
2024-03-04T13:53:45.2527633Z       [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_ensures_barcode_entry_fields_have_unique_ids_46.png
2024-03-04T13:53:45.2528860Z 
2024-03-04T13:53:45.2528865Z 
2024-03-04T13:53:45.2529238Z       # ./spec/system/donation_system_spec.rb:155:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2529989Z 
2024-03-04T13:53:45.2530809Z   20) Donations When signed in as a normal user When creating a new donation Via manual entry Allows User to create a Product Drive Participant from donation
2024-03-04T13:53:45.2531892Z       Failure/Error: create(:donation_site, organization: @organization)
2024-03-04T13:53:45.2532299Z 
2024-03-04T13:53:45.2532451Z       ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2533541Z         Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2534275Z 
2024-03-04T13:53:45.2535584Z       [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_allows_user_to_create_a_product_drive_participant_from_donation_286.png
2024-03-04T13:53:45.2536935Z 
2024-03-04T13:53:45.2536940Z 
2024-03-04T13:53:45.2537270Z       # ./spec/system/donation_system_spec.rb:155:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2537856Z 
2024-03-04T13:53:45.2538411Z   21) Donations When signed in as a normal user When creating a new donation Via manual entry Allows donations to be created IN THE PAST
2024-03-04T13:53:45.2539375Z       Failure/Error: create(:donation_site, organization: @organization)
2024-03-04T13:53:45.2539772Z 
2024-03-04T13:53:45.2540035Z       ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2541011Z         Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2541883Z 
2024-03-04T13:53:45.2543154Z       [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_allows_donations_to_be_created_in_the_past_196.png
2024-03-04T13:53:45.2544315Z 
2024-03-04T13:53:45.2544320Z 
2024-03-04T13:53:45.2544756Z       # ./spec/system/donation_system_spec.rb:155:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2545378Z 
2024-03-04T13:53:45.2546129Z   22) Donations When signed in as a normal user When creating a new donation Via manual entry Strips extraneous data if the user adds both Donation Site and Product Drive Participant
2024-03-04T13:53:45.2547306Z       Failure/Error: create(:donation_site, organization: @organization)
2024-03-04T13:53:45.2547818Z 
2024-03-04T13:53:45.2547970Z       ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2549032Z         Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2549773Z 
2024-03-04T13:53:45.2551179Z       [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_strips_extraneous_data_if_the_user_adds_both_donation_site_and_product_drive_participant_245.png
2024-03-04T13:53:45.2552599Z 
2024-03-04T13:53:45.2552603Z 
2024-03-04T13:53:45.2552937Z       # ./spec/system/donation_system_spec.rb:155:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2553452Z 
2024-03-04T13:53:45.2554039Z   23) Donations When signed in as a normal user When creating a new donation Via manual entry Allows User to create a Product Drive from donation
2024-03-04T13:53:45.2555105Z       Failure/Error: create(:donation_site, organization: @organization)
2024-03-04T13:53:45.2555506Z 
2024-03-04T13:53:45.2555706Z       ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2556650Z         Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2557380Z 
2024-03-04T13:53:45.2558716Z       [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_allows_user_to_create_a_product_drive_from_donation_659.png
2024-03-04T13:53:45.2559946Z 
2024-03-04T13:53:45.2559950Z 
2024-03-04T13:53:45.2560299Z       # ./spec/system/donation_system_spec.rb:155:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2560793Z 
2024-03-04T13:53:45.2561315Z   24) Donations When signed in as a normal user When creating a new donation Via barcode entry Allows User to add items by barcode
2024-03-04T13:53:45.2562321Z       Failure/Error: create(:donation_site, organization: @organization)
2024-03-04T13:53:45.2562831Z 
2024-03-04T13:53:45.2562984Z       ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2563968Z         Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2564746Z 
2024-03-04T13:53:45.2565986Z       [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_barcode_entry_allows_user_to_add_items_by_barcode_459.png
2024-03-04T13:53:45.2567128Z 
2024-03-04T13:53:45.2567132Z 
2024-03-04T13:53:45.2567505Z       # ./spec/system/donation_system_spec.rb:155:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2567963Z 
2024-03-04T13:53:45.2568694Z   25) Donations When signed in as a normal user When creating a new donation Via barcode entry Updates the line item when the same barcode is scanned twice
2024-03-04T13:53:45.2570160Z       Failure/Error: create(:donation_site, organization: @organization)
2024-03-04T13:53:45.2570745Z 
2024-03-04T13:53:45.2570899Z       ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2571997Z         Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2572748Z 
2024-03-04T13:53:45.2574036Z       [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_barcode_entry_updates_the_line_item_when_the_same_barcode_is_scanned_twice_640.png
2024-03-04T13:53:45.2575432Z 
2024-03-04T13:53:45.2575437Z 
2024-03-04T13:53:45.2575791Z       # ./spec/system/donation_system_spec.rb:155:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2576423Z 
2024-03-04T13:53:45.2577034Z   26) Donations When signed in as a normal user When creating a new donation Via barcode entry Allows User to add items that do not yet have a barcode
2024-03-04T13:53:45.2578067Z       Failure/Error: create(:donation_site, organization: @organization)
2024-03-04T13:53:45.2578461Z 
2024-03-04T13:53:45.2578669Z       ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2579716Z         Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2580415Z 
2024-03-04T13:53:45.2581749Z       [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_barcode_entry_allows_user_to_add_items_that_do_not_yet_have_a_barcode_457.png
2024-03-04T13:53:45.2582943Z 
2024-03-04T13:53:45.2582947Z 
2024-03-04T13:53:45.2583386Z       # ./spec/system/donation_system_spec.rb:155:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2583864Z 
2024-03-04T13:53:45.2584624Z   27) Donations When signed in as a normal user When creating a new donation Via barcode entry When the barcode is a global barcode Adds the oldest item it can find for the global barcode
2024-03-04T13:53:45.2585832Z       Failure/Error: create(:donation_site, organization: @organization)
2024-03-04T13:53:45.2586264Z 
2024-03-04T13:53:45.2586477Z       ActiveRecord::RecordInvalid:
2024-03-04T13:53:45.2587458Z         Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:53:45.2588232Z 
2024-03-04T13:53:45.2589657Z       [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_barcode_entry_when_the_barcode_is_a_global_barcode_adds_the_oldest_item_it_can_find_for_the_global_barc_917.png
2024-03-04T13:53:45.2591145Z 
2024-03-04T13:53:45.2591150Z 
2024-03-04T13:53:45.2591491Z       # ./spec/system/donation_system_spec.rb:155:in `block (4 levels) in <top (required)>'
2024-03-04T13:53:45.2592001Z 
2024-03-04T13:53:45.2592278Z Finished in 1 minute 8.79 seconds (files took 8.19 seconds to load)
2024-03-04T13:53:45.2592840Z 160 examples, 27 failures
2024-03-04T13:53:45.2593133Z 
2024-03-04T13:53:45.2593299Z Failed examples:
2024-03-04T13:53:45.2593504Z 
2024-03-04T13:53:45.2594169Z rspec ./spec/system/donation_system_spec.rb:555 # Donations When signed in as a normal user When editing an existing donation Allows the user to edit a donation
2024-03-04T13:53:45.2595701Z rspec ./spec/system/donation_system_spec.rb:582 # Donations When signed in as a normal user When editing an existing donation Does not default a selection if item lookup fails
2024-03-04T13:53:45.2597221Z rspec ./spec/system/donation_system_spec.rb:50 # Donations When signed in as a normal user When filtering on the index page Filters by the source
2024-03-04T13:53:45.2598606Z rspec ./spec/system/donation_system_spec.rb:134 # Donations When signed in as a normal user When filtering on the index page Filters by multiple attributes
2024-03-04T13:53:45.2600187Z rspec ./spec/system/donation_system_spec.rb:110 # Donations When signed in as a normal user When filtering on the index page Filters by donation site
2024-03-04T13:53:45.2601693Z rspec ./spec/system/donation_system_spec.rb:509 # Donations When signed in as a normal user When creating a new donation should not display inactive storage locations in dropdown
2024-03-04T13:53:45.2603553Z rspec ./spec/system/donation_system_spec.rb:328 # Donations When signed in as a normal user When creating a new donation Via manual entry Allows User to create a donation with a Miscellaneous source
2024-03-04T13:53:45.2605389Z rspec ./spec/system/donation_system_spec.rb:272 # Donations When signed in as a normal user When creating a new donation Via manual entry Allows User to create a donation for a Manufacturer source
2024-03-04T13:53:45.2607075Z rspec ./spec/system/donation_system_spec.rb:384 # Donations When signed in as a normal user When creating a new donation Via manual entry Verifies unusually large donation quantities
2024-03-04T13:53:45.2608789Z rspec ./spec/system/donation_system_spec.rb:287 # Donations When signed in as a normal user When creating a new donation Via manual entry Allows User to create a Manufacturer from donation
2024-03-04T13:53:45.2611834Z rspec ./spec/system/donation_system_spec.rb:367 # Donations When signed in as a normal user When creating a new donation Via manual entry Repopulates items dropdown even if initial submission doesn't validate
2024-03-04T13:53:45.2613536Z rspec ./spec/system/donation_system_spec.rb:399 # Donations When signed in as a normal user When creating a new donation Via manual entry Displays nested errors
2024-03-04T13:53:45.2615145Z rspec ./spec/system/donation_system_spec.rb:314 # Donations When signed in as a normal user When creating a new donation Via manual entry Allows User to create a donation for Purchased Supplies
2024-03-04T13:53:45.2617029Z rspec ./spec/system/donation_system_spec.rb:229 # Donations When signed in as a normal user When creating a new donation Via manual entry Allows User to create a donation for a ProductDrive Participant source
2024-03-04T13:53:45.2618821Z rspec ./spec/system/donation_system_spec.rb:215 # Donations When signed in as a normal user When creating a new donation Via manual entry Does not include inactive items in the line item fields
2024-03-04T13:53:45.2620653Z rspec ./spec/system/donation_system_spec.rb:197 # Donations When signed in as a normal user When creating a new donation Via manual entry Accepts and combines multiple line items for the same item type
2024-03-04T13:53:45.2622423Z rspec ./spec/system/donation_system_spec.rb:299 # Donations When signed in as a normal user When creating a new donation Via manual entry Allows User to create a donation for a Donation Site source
2024-03-04T13:53:45.2624317Z rspec ./spec/system/donation_system_spec.rb:183 # Donations When signed in as a normal user When creating a new donation Via manual entry User can create a donation using dollars decimal amount for its money raised
2024-03-04T13:53:45.2626149Z rspec ./spec/system/donation_system_spec.rb:377 # Donations When signed in as a normal user When creating a new donation Via manual entry Ensures Barcode Entry fields have unique ids
2024-03-04T13:53:45.2627865Z rspec ./spec/system/donation_system_spec.rb:258 # Donations When signed in as a normal user When creating a new donation Via manual entry Allows User to create a Product Drive Participant from donation
2024-03-04T13:53:45.2629589Z rspec ./spec/system/donation_system_spec.rb:168 # Donations When signed in as a normal user When creating a new donation Via manual entry Allows donations to be created IN THE PAST
2024-03-04T13:53:45.2631468Z rspec ./spec/system/donation_system_spec.rb:344 # Donations When signed in as a normal user When creating a new donation Via manual entry Strips extraneous data if the user adds both Donation Site and Product Drive Participant
2024-03-04T13:53:45.2633324Z rspec ./spec/system/donation_system_spec.rb:245 # Donations When signed in as a normal user When creating a new donation Via manual entry Allows User to create a Product Drive from donation
2024-03-04T13:53:45.2635158Z rspec ./spec/system/donation_system_spec.rb:422 # Donations When signed in as a normal user When creating a new donation Via barcode entry Allows User to add items by barcode
2024-03-04T13:53:45.2636919Z rspec ./spec/system/donation_system_spec.rb:437 # Donations When signed in as a normal user When creating a new donation Via barcode entry Updates the line item when the same barcode is scanned twice
2024-03-04T13:53:45.2638845Z rspec ./spec/system/donation_system_spec.rb:453 # Donations When signed in as a normal user When creating a new donation Via barcode entry Allows User to add items that do not yet have a barcode
2024-03-04T13:53:45.2640923Z rspec ./spec/system/donation_system_spec.rb:494 # Donations When signed in as a normal user When creating a new donation Via barcode entry When the barcode is a global barcode Adds the oldest item it can find for the global barcode
2024-03-04T13:53:45.2642090Z 
2024-03-04T13:53:45.2642268Z Randomized with seed 51313
2024-03-04T13:53:45.2642499Z 
2024-03-04T13:53:45.5269279Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-04T13:53:45.5271548Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3410 / 6439 LOC (52.96%) covered.
2024-03-04T13:53:45.6404839Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/base_items_requests_spec.rb" "spec/requests/admin_requests_spec.rb" "spec/requests/distributions_by_county_spec.rb" "spec/requests/kit_requests_spec.rb" "spec/requests/partners/family_requests_spec.rb" "spec/requests/product_drive_participants_requests_spec.rb" "spec/requests/sessions_requests_spec.rb" "spec/requests/vendors_requests_spec.rb" "spec/system/admin/base_items_system_spec.rb" "spec/system/authorization_system_spec.rb" "spec/system/donation_system_spec.rb" "spec/system/manufacturer_system_spec.rb" "spec/system/partners/family_requests_system_spec.rb" "spec/system/product_drive_system_spec.rb" "spec/system/storage_location_system_spec.rb" failed
2024-03-04T13:53:46.0266241Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-04T13:53:46.0268104Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10703 LOC (0.36%) covered.
2024-03-04T13:53:46.0526603Z ##[error]Process completed with exit code 1.
