2024-03-04T19:10:28.6223102Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-04T19:10:28.6223987Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-04T19:10:28.6252127Z shell: /usr/bin/bash -e {0}
2024-03-04T19:10:28.6252579Z env:
2024-03-04T19:10:28.6252928Z   POSTGRES_HOST: localhost
2024-03-04T19:10:28.6253315Z   DATABASE_HOST: localhost
2024-03-04T19:10:28.6253774Z   PG_USERNAME: postgres
2024-03-04T19:10:28.6254144Z   PG_PASSWORD: password
2024-03-04T19:10:28.6254493Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-04T19:10:28.6255001Z   POSTGRES_PORT: 5432
2024-03-04T19:10:28.6255374Z   PGHOST: localhost
2024-03-04T19:10:28.6255778Z   PGUSER: postgres
2024-03-04T19:10:28.6256129Z   RAILS_ENV: test
2024-03-04T19:10:28.6256454Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-04T19:10:28.6256956Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-04T19:10:28.6257684Z   KNAPSACK_PRO_CI_NODE_INDEX: 1
2024-03-04T19:10:28.6258154Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-04T19:10:28.6258813Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-04T19:10:28.6259440Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-04T19:10:28.6260156Z   EVENTS_READ: true
2024-03-04T19:10:28.6260493Z ##[endgroup]
2024-03-04T19:10:34.6993050Z W, [2024-03-04T19:10:34.698889 #2501]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-04T19:10:34.6995848Z W, [2024-03-04T19:10:34.698957 #2501]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-04T19:10:34.6997968Z W, [2024-03-04T19:10:34.698980 #2501]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-04T19:10:34.7001743Z W, [2024-03-04T19:10:34.699014 #2501]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-04T19:10:37.9872861Z W, [2024-03-04T19:10:37.986954 #2501]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-04T19:10:37.9875290Z W, [2024-03-04T19:10:37.986996 #2501]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-04T19:10:37.9878201Z W, [2024-03-04T19:10:37.987010 #2501]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-04T19:10:37.9882902Z W, [2024-03-04T19:10:37.987054 #2501]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-04T19:10:37.9935971Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/adjustments_requests_spec.rb" "spec/requests/admin/partners_requests_spec.rb" "spec/requests/barcode_items_requests_spec.rb" "spec/requests/donations_requests_spec.rb" "spec/requests/partners/children_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-03-04T19:10:47.0204072Z 
2024-03-04T19:10:47.0205642Z Randomized with seed 30948
2024-03-04T19:10:47.9377064Z 
2024-03-04T19:10:47.9378116Z Adjustments
2024-03-04T19:10:47.9379267Z   while signed in
2024-03-04T19:10:47.9380468Z     GET #show
2024-03-04T19:10:48.0491356Z       is expected to be successful
2024-03-04T19:10:48.0492131Z     GET #index
2024-03-04T19:10:48.0492723Z       csv
2024-03-04T19:10:48.0785403Z         is expected to be successful
2024-03-04T19:10:48.0786061Z       html
2024-03-04T19:10:48.1269423Z         is successful
2024-03-04T19:10:48.1270185Z         when filtering by date
2024-03-04T19:10:48.1270903Z           when date parameters are not supplied
2024-03-04T19:10:48.1841937Z             returns all objects
2024-03-04T19:10:48.1842994Z           when date parameters are supplied
2024-03-04T19:10:48.2403980Z             only returns the correct objects
2024-03-04T19:10:48.2404955Z     GET #new
2024-03-04T19:10:48.2969352Z       is successful
2024-03-04T19:10:48.2969865Z     POST #create
2024-03-04T19:10:48.2970391Z       with invalid params
2024-03-04T19:10:48.3468845Z         assigns a newly created but unsaved adjustment as @adjustment
2024-03-04T19:10:48.3898776Z         re-renders the 'new' template
2024-03-04T19:10:48.3900020Z       with valid params
2024-03-04T19:10:48.4379819Z         redirects to the #show after created adjustment
2024-03-04T19:10:48.4764121Z         creates a new Adjustment
2024-03-04T19:10:48.5100714Z         assigns a user id from the current user
2024-03-04T19:10:48.5444664Z         assigns a newly created adjustment as @adjustment
2024-03-04T19:10:48.5445733Z 
2024-03-04T19:10:48.5446065Z Admin::Partners
2024-03-04T19:10:48.5447314Z   When logged in as a super admin
2024-03-04T19:10:48.5448450Z     GET #edit
2024-03-04T19:10:48.6047559Z       returns http success
2024-03-04T19:10:48.6048304Z     GET #show
2024-03-04T19:10:48.6589966Z       returns http success
2024-03-04T19:10:48.6591013Z     GET #index
2024-03-04T19:10:48.6953055Z       returns http success
2024-03-04T19:10:48.6954155Z     PUT #update
2024-03-04T19:10:48.6954811Z       unsuccessful save due to empty params
2024-03-04T19:10:48.7583763Z         renders #edit template with error message
2024-03-04T19:10:48.7584880Z       successful save
2024-03-04T19:10:48.8075510Z         updates partner
2024-03-04T19:10:48.8565421Z         redirects
2024-03-04T19:10:48.8566056Z 
2024-03-04T19:10:48.8566657Z Profiles
2024-03-04T19:10:48.8567895Z   POST #update
2024-03-04T19:10:48.8568939Z     when updating an existing value to a blank value
2024-03-04T19:10:48.9248499Z       should have blank values
2024-03-04T19:10:49.0191511Z       update partner
2024-03-04T19:10:49.0194479Z     successful save
2024-03-04T19:10:49.0794603Z       update partner
2024-03-04T19:10:49.1342714Z       redirects to #show
2024-03-04T19:10:49.1343962Z   GET #edit
2024-03-04T19:10:49.2641317Z     returns http success
2024-03-04T19:10:49.2642410Z 
2024-03-04T19:10:49.2643153Z Managing requests
2024-03-04T19:10:49.2645020Z   creating a new quantity request
2024-03-04T19:10:49.2646194Z     GIVEN a partner user is permitted to make a request
2024-03-04T19:10:49.2648676Z       WHEN they create a request with only a comment
2024-03-04T19:10:54.7082921Z         should be created without any issue
2024-03-04T19:10:54.7084060Z       Select Input Tests
2024-03-04T19:10:54.7084808Z         WHEN they reach the page
2024-03-04T19:10:55.5957325Z           should show the proper items in the select box
2024-03-04T19:10:55.5958723Z           WHEN they create a request improperly
2024-03-04T19:10:56.9781796Z             should show the proper items in the select box
2024-03-04T19:10:56.9783280Z       WHEN they create a request properly
2024-03-04T19:10:56.9784797Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-03-04T19:10:59.3530414Z           AND the partner_user can view the details of the created request in a seperate page
2024-03-04T19:10:59.3531478Z       WHEN they create a request with blank lines
2024-03-04T19:11:00.8114031Z         should be created without any issue
2024-03-04T19:11:00.8114972Z       WHEN they create a request completely empty request
2024-03-04T19:11:01.8177717Z         should show an error message with the instructions
2024-03-04T19:11:01.8178674Z   creating a # individuals request
2024-03-04T19:11:01.8180124Z     GIVEN a partner user is permitted to make a request
2024-03-04T19:11:01.8181342Z       WHEN they create a request with blank lines
2024-03-04T19:11:03.2668576Z         should be created without any issue
2024-03-04T19:11:03.2669724Z       WHEN they create a request properly
2024-03-04T19:11:03.2671035Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-03-04T19:11:05.4286494Z           AND the partner_user can view the details of the created individuals request in a seperate page
2024-03-04T19:11:05.4287935Z       WHEN they create a request completely empty request
2024-03-04T19:11:06.3887707Z         should show an error message with the instructions
2024-03-04T19:11:06.3888814Z       WHEN they create a request with only a comment
2024-03-04T19:11:07.3711412Z         should be created without any issue
2024-03-04T19:11:07.3712132Z       Select Input Tests
2024-03-04T19:11:07.3714188Z         WHEN they reach the page
2024-03-04T19:11:08.2638390Z           should show the proper items in the select box
2024-03-04T19:11:08.2639243Z           WHEN they create a request improperly
2024-03-04T19:11:09.6336130Z             should show the proper items in the select box
2024-03-04T19:11:09.6337703Z       WHEN they create a request improperly by not inputting anything
2024-03-04T19:11:10.5865748Z         should show an error message with the instructions
2024-03-04T19:11:10.5866851Z 
2024-03-04T19:11:10.5867387Z Admin Organization Management
2024-03-04T19:11:10.5869026Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-04T19:11:12.8360079Z     creates a new organization
2024-03-04T19:11:12.8360982Z   While signed in as an Administrative User (super admin)
2024-03-04T19:11:14.2688269Z     can view organization details
2024-03-04T19:11:15.4028431Z     filters by organizations by name in organizations index page
2024-03-04T19:11:17.3960294Z     creates a new organization
2024-03-04T19:11:17.3960848Z 
2024-03-04T19:11:17.3961148Z Kit management
2024-03-04T19:11:18.0198534Z   should not display inactive storage locations under allocations
2024-03-04T19:11:19.5702330Z   can allocate and deallocate quantity per storage location from kit index
2024-03-04T19:11:20.5072545Z   can create a new kit as a user with the proper quantity
2024-03-04T19:11:20.5073673Z   when there is not enough quantity of the items contained in the kit on-hand
2024-03-04T19:11:21.6436259Z     will not change quantity amounts when allocating
2024-03-04T19:11:21.6436927Z   when there is no kit quantity
2024-03-04T19:11:22.8729306Z     will not change quantity amounts when deallocating
2024-03-04T19:11:22.8730066Z 
2024-03-04T19:11:22.8737924Z Vendor
2024-03-04T19:11:22.8739854Z   When vendor have purchases associated with them already
2024-03-04T19:11:23.5087288Z     can have existing vendors show in the #index with some summary stats
2024-03-04T19:11:24.1566973Z     can have a single vendor show semi-detailed stats about purchases
2024-03-04T19:11:24.1568043Z   when editing an existing vendor
2024-03-04T19:11:24.9446671Z     does not update a vendor with empty attributes
2024-03-04T19:11:25.7559594Z     can update the contact info for a vendor as a user
2024-03-04T19:11:25.7560774Z   When a user views the index page
2024-03-04T19:11:26.2495794Z     should have the vendor names in alphabetical order
2024-03-04T19:11:26.2496810Z   when creating a new vendor
2024-03-04T19:11:27.1078680Z     cannot add a new vendor instance with empty attributes
2024-03-04T19:11:27.9338273Z     can create a new vendor instance as a user
2024-03-04T19:11:27.9339367Z 
2024-03-04T19:11:27.9339681Z Purchases
2024-03-04T19:11:27.9341755Z   while signed in as a normal user
2024-03-04T19:11:27.9342692Z     When creating a new purchase
2024-03-04T19:11:28.4544766Z       should not display inactive storage locations in dropdown
2024-03-04T19:11:28.4545745Z       via barcode entry
2024-03-04T19:11:29.2236540Z         a user can add items via scanning them in by barcode
2024-03-04T19:11:30.4572820Z         a user can add items that do not yet have a barcode
2024-03-04T19:11:31.4502828Z         User scan same barcode 2 times
2024-03-04T19:11:31.4503619Z       via manual entry
2024-03-04T19:11:32.8161651Z         multiple line items for the same item type are accepted and combined on the backend
2024-03-04T19:11:33.9097710Z         User can create vendor from purchase
2024-03-04T19:11:34.9815139Z         Does not include inactive items in the line item fields
2024-03-04T19:11:36.1065530Z         User can create a purchase IN THE PAST
2024-03-04T19:11:37.0312692Z         User can create a purchase using dollars decimal amount
2024-03-04T19:11:37.0313446Z         when creating a purchase incorrectly
2024-03-04T19:11:37.8528553Z           should display failure with error messages
2024-03-04T19:11:38.8707702Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-03-04T19:11:38.8708701Z       Editing purchase
2024-03-04T19:11:39.5342323Z         A user can view another organizations purchase
2024-03-04T19:11:40.0638616Z         A user can see purchased_from value
2024-03-04T19:11:40.0639601Z     When visiting the index page
2024-03-04T19:11:40.0640422Z       In the middle of the year
2024-03-04T19:11:40.8528844Z         User can click to the new purchase form
2024-03-04T19:11:41.6014488Z         User sees purchased date column
2024-03-04T19:11:42.4032227Z         User sees total purchases value
2024-03-04T19:11:42.4033357Z       When filtering on the index page
2024-03-04T19:11:43.2598403Z         User can filter the #index by vendor
2024-03-04T19:11:44.1135312Z         User can filter the #index by storage location
2024-03-04T19:11:44.1136301Z         behaves like Date Range Picker
2024-03-04T19:11:44.1137565Z           when choosing 'Last Month'
2024-03-04T19:11:45.0666454Z             shows only 2 of the records
2024-03-04T19:11:45.0667606Z           when choosing a date range that only includes the previous week
2024-03-04T19:11:46.0236041Z             shows only 1 record
2024-03-04T19:11:46.0237159Z           when choosing 'All Time'
2024-03-04T19:11:46.9986581Z             shows all the records
2024-03-04T19:11:46.9987801Z     When visiting an existing purchase
2024-03-04T19:11:47.4814708Z       does not allow deletion of a purchase
2024-03-04T19:11:47.4815671Z   while signed in as an organization admin
2024-03-04T19:11:48.3841473Z     allows deletion of a purchase
2024-03-04T19:11:48.3842147Z 
2024-03-04T19:11:48.3842486Z /partners/profiles
2024-03-04T19:11:48.3844200Z   PUT #update
2024-03-04T19:11:48.4447411Z     updates the partner and profile
2024-03-04T19:11:48.4448372Z     when updating an existing value to a blank value
2024-03-04T19:11:48.5110248Z       does store N/A in the database
2024-03-04T19:11:48.5714365Z       does not update other partner profile attributes to blank
2024-03-04T19:11:48.6336491Z       updates the partner profile attribute to a blank value
2024-03-04T19:11:48.6337260Z     with no social media
2024-03-04T19:11:48.7557016Z       shows an error
2024-03-04T19:11:48.7558036Z   GET #edit
2024-03-04T19:11:48.8616456Z     has "No" radio button value when value is false
2024-03-04T19:11:48.9634365Z     has "Yes" radio button value when value is true
2024-03-04T19:11:49.0689183Z     does not have default radio button value when value is nil
2024-03-04T19:11:49.1645354Z     displays the partner
2024-03-04T19:11:49.1646491Z   GET #show
2024-03-04T19:11:49.2309559Z     shows correct values for yes/no buttons
2024-03-04T19:11:49.2832795Z     displays the partner
2024-03-04T19:11:49.2833399Z 
2024-03-04T19:11:49.2833775Z BarcodeItems
2024-03-04T19:11:49.2834798Z   While signed in
2024-03-04T19:11:49.2836940Z     GET #new
2024-03-04T19:11:49.3221697Z       returns http success
2024-03-04T19:11:49.3222507Z     Looking at a different organization
2024-03-04T19:11:49.5249044Z       redirects the user to the sign-in page for CRUD actions
2024-03-04T19:11:49.5250072Z     GET #show
2024-03-04T19:11:49.5250932Z       with a normal barcode item
2024-03-04T19:11:49.5668831Z         returns http success
2024-03-04T19:11:49.6033486Z       with a global barcode item
2024-03-04T19:11:49.6034252Z         returns a 404
2024-03-04T19:11:49.6034830Z     GET #index
2024-03-04T19:11:49.6035482Z       html
2024-03-04T19:11:49.6506501Z         is expected to be successful
2024-03-04T19:11:49.6507432Z       csv
2024-03-04T19:11:49.6768538Z         is expected to be successful
2024-03-04T19:11:49.6769297Z     GET #edit
2024-03-04T19:11:49.6769877Z       with a global barcode item
2024-03-04T19:11:49.7106941Z         returns a 404
2024-03-04T19:11:49.7107616Z       with a normal barcode item
2024-03-04T19:11:49.7593957Z         returns http success
2024-03-04T19:11:49.7594959Z     GET #find
2024-03-04T19:11:49.7595462Z       via ajax
2024-03-04T19:11:49.9845432Z         can find a barcode that's universally available
2024-03-04T19:11:50.2017046Z         can find a barcode that is scoped to just this organization
2024-03-04T19:11:50.2018347Z         when it's missing
2024-03-04T19:11:50.4175680Z           returns a 404
2024-03-04T19:11:50.4176414Z     DELETE #destroy
2024-03-04T19:11:50.4432522Z       disallows a non-superadmin to delete a global barcode
2024-03-04T19:11:50.4820749Z       redirects to the index
2024-03-04T19:11:50.8322408Z       disallows a user to delete someone else's barcode
2024-03-04T19:11:50.8325765Z 
2024-03-04T19:11:50.8326115Z /partners/children
2024-03-04T19:11:50.8327111Z   GET #index
2024-03-04T19:11:50.9698858Z     should export CSV
2024-03-04T19:11:51.0431555Z     should render without any issues
2024-03-04T19:11:51.0432655Z 
2024-03-04T19:11:51.0433336Z StorageLocations
2024-03-04T19:11:51.0434291Z   While signed in
2024-03-04T19:11:51.0436273Z     GET #index
2024-03-04T19:11:51.0437121Z       html
2024-03-04T19:11:51.0874799Z         succeeds
2024-03-04T19:11:51.0875434Z         with inactive locations
2024-03-04T19:11:51.1303470Z           does not includes the inactive location
2024-03-04T19:11:51.1304259Z           with include_inactive_locations
2024-03-04T19:11:51.1710661Z             includes the inactive location
2024-03-04T19:11:51.1711886Z       csv
2024-03-04T19:11:51.1930489Z         succeeds
2024-03-04T19:11:51.3027033Z         includes headers followed by alphabetized item names
2024-03-04T19:11:51.3027850Z     GET #edit
2024-03-04T19:11:51.4521355Z       returns http success
2024-03-04T19:11:51.4522160Z     GET #inventory
2024-03-04T19:11:51.4522761Z       when also including omitted items
2024-03-04T19:11:51.5096699Z         contains a collection of ducktyped entries that respond the same
2024-03-04T19:11:51.5638710Z         returns a collection that also includes all items, but with zeroed quantities
2024-03-04T19:11:51.5639875Z       without any overrides
2024-03-04T19:11:51.6270851Z         returns a collection that only includes items at the storage location
2024-03-04T19:11:51.6271918Z       when also including inactive items
2024-03-04T19:11:51.7038044Z         returns a collection that also includes items that have been deactivated
2024-03-04T19:11:51.7039515Z     POST #import_csv
2024-03-04T19:11:51.7040505Z       without a csv file
2024-03-04T19:11:51.7190223Z         redirects to :index
2024-03-04T19:11:51.7319801Z         presents a flash error message
2024-03-04T19:11:51.7320775Z       with a csv file
2024-03-04T19:11:51.7479202Z         redirects
2024-03-04T19:11:51.7530957Z         invokes .import_csv
2024-03-04T19:11:51.7690286Z         presents a flash notice message
2024-03-04T19:11:51.7691621Z       csv file with wrong headers
2024-03-04T19:11:51.7831500Z         presents a flash error message
2024-03-04T19:11:51.7974909Z         redirects
2024-03-04T19:11:51.7975991Z     PUT #reactivate
2024-03-04T19:11:51.8173035Z       undiscards
2024-03-04T19:11:51.8173580Z     GET #show
2024-03-04T19:11:51.8174403Z       html
2024-03-04T19:11:51.8927972Z         should return a correct response
2024-03-04T19:11:51.8929026Z         with version date set
2024-03-04T19:11:51.8929787Z           with a version found
2024-03-04T19:11:51.9802806Z             should show the version specified
2024-03-04T19:11:51.9803719Z           with no version found
2024-03-04T19:11:52.0576239Z             should show N/A
2024-03-04T19:11:52.0578110Z       csv
2024-03-04T19:11:52.1349356Z         should be successful
2024-03-04T19:11:52.1350215Z     Looking at a different organization
2024-03-04T19:11:52.3369618Z       redirects the user to the sign-in page for CRUD actions
2024-03-04T19:11:52.3370588Z     PUT #deactivate
2024-03-04T19:11:52.3629045Z       discards
2024-03-04T19:11:52.3629517Z       with inventory
2024-03-04T19:11:52.4178210Z         does not discard
2024-03-04T19:11:52.4179293Z     GET #new
2024-03-04T19:11:52.4545989Z       returns http success
2024-03-04T19:11:52.4546907Z     GET #destroy
2024-03-04T19:11:52.4890377Z       redirects to #index
2024-03-04T19:11:52.4892869Z   While not signed in
2024-03-04T19:11:52.4973570Z     redirects the user to the sign-in page for CRUD actions
2024-03-04T19:11:52.4974272Z 
2024-03-04T19:11:52.4974593Z Organization management
2024-03-04T19:11:52.4975649Z   while signed in as a normal user
2024-03-04T19:11:52.9926713Z     can see summary details about the organization as a user
2024-03-04T19:11:53.4638961Z     cannot see 'Make user' button for admins
2024-03-04T19:11:53.4639937Z   while signed in as an organization admin
2024-03-04T19:11:54.4936077Z     can deactivate a user in the organization
2024-03-04T19:11:55.4703571Z     can add a new user to an organization
2024-03-04T19:11:55.9881070Z     can see 'Make user' button for admins
2024-03-04T19:11:56.9622559Z     can re-activate a user in the organization
2024-03-04T19:11:57.4898043Z     can re-invite a user to an organization after 7 days
2024-03-04T19:11:57.4899058Z     Editing the organization
2024-03-04T19:11:58.3673125Z       can set a reminder and a deadline day
2024-03-04T19:11:59.4252018Z       can select if the org repackages essentials
2024-03-04T19:12:00.4437350Z       can select if the org distributes essentials monthly
2024-03-04T19:12:01.4583981Z       can select if the org shows year-to-date values on the distribution printout
2024-03-04T19:12:02.6731685Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-03-04T19:12:03.5347006Z       can set the NDBN Member ID
2024-03-04T19:12:04.4393954Z       can set a default storage location on the organization
2024-03-04T19:12:05.4658876Z       can enable if the org uses single step invite and approve partner process
2024-03-04T19:12:06.4545377Z       can disable if the org does NOT use single step invite and approve partner process
2024-03-04T19:12:08.0801996Z       can select and deselect Required Partner Fields
2024-03-04T19:12:08.0803246Z     Viewing the organization
2024-03-04T19:12:08.7196162Z       can view organization details
2024-03-04T19:12:08.7197071Z 
2024-03-04T19:12:08.7197592Z User account management
2024-03-04T19:12:08.7198873Z   when not in staging
2024-03-04T19:12:09.7403789Z     should change an user name
2024-03-04T19:12:10.6798468Z     should fail when the email is invalid
2024-03-04T19:12:11.6472718Z     should change the email
2024-03-04T19:12:11.6473436Z   when in staging
2024-03-04T19:12:12.1350083Z     should display staging warning
2024-03-04T19:12:12.6247049Z     should not allow the user to change staging credentials
2024-03-04T19:12:12.6248174Z 
2024-03-04T19:12:12.6248389Z Donations
2024-03-04T19:12:12.6250047Z   while signed in
2024-03-04T19:12:12.6251505Z     GET #edit
2024-03-04T19:12:12.6252965Z       when an finalized audit has been performed on the donated items
2024-03-04T19:12:12.8113061Z         shows a warning
2024-03-04T19:12:12.8113625Z     GET #index
2024-03-04T19:12:12.8114309Z       html
2024-03-04T19:12:12.8715864Z         is expected to be successful
2024-03-04T19:12:12.9225350Z         should have the columns source and details
2024-03-04T19:12:12.9226243Z         when given a manufacturer
2024-03-04T19:12:12.9835645Z           should display Manufacturer and the manufacturer name
2024-03-04T19:12:12.9836605Z         when given a misc donation
2024-03-04T19:12:13.0378679Z           should display Misc Donation and a truncated comment
2024-03-04T19:12:13.0380115Z         when given a product drive
2024-03-04T19:12:13.1109930Z           should display Product Drive and the name of the drive
2024-03-04T19:12:13.1111403Z         when given a donation site
2024-03-04T19:12:13.1988710Z           should display Donation Site and the name of the site
2024-03-04T19:12:13.1989911Z       csv
2024-03-04T19:12:13.2287585Z         is expected to be successful
2024-03-04T19:12:13.2288374Z     when no audit has been performed
2024-03-04T19:12:13.3481753Z       doesn't show a warning
2024-03-04T19:12:13.3482940Z     when an non-finalized audit has been performed on the donated items
2024-03-04T19:12:13.4944867Z       does not shows a warning
2024-03-04T19:12:13.4949802Z 
2024-03-04T19:12:13.4950123Z Dashboard
2024-03-04T19:12:13.4951966Z   With an existing essentials bank
2024-03-04T19:12:13.4953152Z     Inventory Totals
2024-03-04T19:12:13.4954028Z       Summary
2024-03-04T19:12:14.3439126Z         displays the on-hand totals
2024-03-04T19:12:14.3440065Z         when constrained to date range
2024-03-04T19:12:15.5149014Z           does not change
2024-03-04T19:12:15.5149892Z     Manufacturer Donations
2024-03-04T19:12:16.1788645Z       has a link to create a new donation
2024-03-04T19:12:16.1790266Z       given 1 Manufacturer donating on 2024-02-03  (unless 'All Time'), 2 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T19:12:16.1791729Z         filtering to 'Last 30 Days'
2024-03-04T19:12:17.7911709Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-03-04T19:12:17.7913909Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T19:12:17.7914933Z         filtering to 'This Year'
2024-03-04T19:12:19.6998924Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-04T19:12:19.7001007Z       given 1 Manufacturer donating on 2024-03-02  (unless 'All Time'), 7 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T19:12:19.7002292Z         filtering to 'Yesterday'
2024-03-04T19:12:22.0696268Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-03-04T19:12:22.0698512Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T19:12:22.0700083Z         filtering to 'Last Month'
2024-03-04T19:12:23.8466881Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-04T19:12:23.8468906Z       given 1 Manufacturer donating on 2024-02-29  (unless 'All Time'), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T19:12:23.8470463Z         filtering to 'This Month'
2024-03-04T19:12:25.4537961Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-03-04T19:12:25.4540345Z       given 1 Manufacturer donating on 2022-03-03  (unless 'All Time'), 7 during 2022-03-04..2023-10-21, and 1 on 2023-10-22
2024-03-04T19:12:25.4542242Z         filtering to '' (March 4, 2022 - October 21, 2023)
2024-03-04T19:12:27.8101233Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-03-04T19:12:27.8103223Z       given 1 Manufacturer donating on 2024-03-03  (unless 'All Time'), 1 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T19:12:27.8104390Z         filtering to 'Today'
2024-03-04T19:12:29.3247496Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-03-04T19:12:29.3249809Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 9 during 2000-01-01..2024-03-04, and 1 on 2024-03-05
2024-03-04T19:12:29.3250847Z         filtering to 'All Time'
2024-03-04T19:12:31.8766077Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-04T19:12:31.8767765Z       given 1 Manufacturer donating on 2024-02-26  (unless 'All Time'), 6 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T19:12:31.8768724Z         filtering to 'Last 7 Days'
2024-03-04T19:12:33.9449513Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-03-04T19:12:33.9450557Z     Purchases
2024-03-04T19:12:34.8812874Z       has a link to create a new purchase
2024-03-04T19:12:34.8814668Z       given 1 Purchase on 2024-03-02  (unless 'All Time'), 0 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T19:12:34.8815957Z         filtering to 'Yesterday'
2024-03-04T19:12:38.2973569Z           shows correct 0 Recent Purchase link(s)
2024-03-04T19:12:38.2975658Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 2 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T19:12:38.2976975Z         filtering to 'Last Month'
2024-03-04T19:12:39.9066815Z           shows correct 2 Recent Purchase link(s)
2024-03-04T19:12:39.9068257Z       given 1 Purchase on 2022-03-03  (unless 'All Time'), 2 during 2022-03-04..2023-12-13, and 1 on 2023-12-14
2024-03-04T19:12:39.9069143Z         filtering to '' (March 4, 2022 - December 13, 2023)
2024-03-04T19:12:41.4624399Z           shows correct 2 Recent Purchase link(s)
2024-03-04T19:12:41.4625878Z       given 1 Purchase on 2024-02-26  (unless 'All Time'), 1 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T19:12:41.4627023Z         filtering to 'Last 7 Days'
2024-03-04T19:12:42.9062622Z           shows correct 1 Recent Purchase link(s)
2024-03-04T19:12:42.9064457Z       given 1 Purchase on 2024-02-29  (unless 'All Time'), 1 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T19:12:42.9065664Z         filtering to 'This Month'
2024-03-04T19:12:44.4242250Z           shows correct 1 Recent Purchase link(s)
2024-03-04T19:12:44.4244112Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T19:12:44.4245392Z         filtering to 'This Year'
2024-03-04T19:12:46.0238004Z           shows correct 3 Recent Purchase link(s)
2024-03-04T19:12:46.0239811Z       given 1 Purchase on 2024-03-03  (unless 'All Time'), 3 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T19:12:46.0241305Z         filtering to 'Today'
2024-03-04T19:12:47.6316763Z           shows correct 3 Recent Purchase link(s)
2024-03-04T19:12:47.6318745Z       given 1 Purchase on 2024-02-03  (unless 'All Time'), 1 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T19:12:47.6320089Z         filtering to 'Last 30 Days'
2024-03-04T19:12:49.0863469Z           shows correct 1 Recent Purchase link(s)
2024-03-04T19:12:49.0864272Z     Product Drives
2024-03-04T19:12:49.6949215Z       has a widget for product drive summary data
2024-03-04T19:12:49.6950988Z       given 1 Product Drive Donation on 2022-03-03 (unless 'All Time'), 1 during 2022-03-04..2024-01-19, and 1 on 2024-01-20
2024-03-04T19:12:49.6952122Z         filtering to '' (March 4, 2022 - January 19, 2024)
2024-03-04T19:12:51.1733044Z           shows the correct total money raised
2024-03-04T19:12:52.8202347Z           shows the correct total donations
2024-03-04T19:12:54.3255263Z           shows 1 Recent Donation link(s)
2024-03-04T19:12:54.3259789Z       Product drive behaviour with Mixed Donation types
2024-03-04T19:12:55.0888094Z         only shows product drive donations as product drive donations
2024-03-04T19:12:55.8336845Z         only counts product drive donations for product drive
2024-03-04T19:12:56.6114896Z         only counts product drive money raised
2024-03-04T19:12:56.6116641Z       given 1 Product Drive Donation on 2024-03-03 (unless 'All Time'), 0 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T19:12:56.6117637Z         filtering to 'Today'
2024-03-04T19:12:58.0143342Z           shows the correct total donations
2024-03-04T19:12:59.4826612Z           shows the correct total money raised
2024-03-04T19:13:02.9673689Z           shows 0 Recent Donation link(s)
2024-03-04T19:13:02.9675443Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T19:13:02.9676757Z         filtering to 'This Year'
2024-03-04T19:13:04.3666305Z           shows the correct total money raised
2024-03-04T19:13:05.7752019Z           shows the correct total donations
2024-03-04T19:13:09.1954055Z           shows 0 Recent Donation link(s)
2024-03-04T19:13:09.1956115Z       given 1 Product Drive Donation on 2024-02-03 (unless 'All Time'), 1 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T19:13:09.1957533Z         filtering to 'Last 30 Days'
2024-03-04T19:13:10.6689595Z           shows the correct total money raised
2024-03-04T19:13:12.1653239Z           shows the correct total donations
2024-03-04T19:13:13.6205924Z           shows 1 Recent Donation link(s)
2024-03-04T19:13:13.6207471Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T19:13:13.6208446Z         filtering to 'Last Month'
2024-03-04T19:13:15.2991629Z           shows 3 Recent Donation link(s)
2024-03-04T19:13:16.9147051Z           shows the correct total money raised
2024-03-04T19:13:18.5503413Z           shows the correct total donations
2024-03-04T19:13:18.5505513Z       given 1 Product Drive Donation on 2024-03-02 (unless 'All Time'), 4 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T19:13:18.5506980Z         filtering to 'Yesterday'
2024-03-04T19:13:20.2264503Z           shows the correct total money raised
2024-03-04T19:13:21.8625291Z           shows 3 Recent Donation link(s)
2024-03-04T19:13:23.5027845Z           shows the correct total donations
2024-03-04T19:13:23.5029995Z       given 1 Product Drive Donation on 2024-02-29 (unless 'All Time'), 4 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T19:13:23.5031382Z         filtering to 'This Month'
2024-03-04T19:13:25.1280387Z           shows the correct total money raised
2024-03-04T19:13:26.7221262Z           shows 3 Recent Donation link(s)
2024-03-04T19:13:28.3423090Z           shows the correct total donations
2024-03-04T19:13:28.3424885Z       given 1 Product Drive Donation on 2024-02-26 (unless 'All Time'), 3 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T19:13:28.3425893Z         filtering to 'Last 7 Days'
2024-03-04T19:13:29.9224961Z           shows 3 Recent Donation link(s)
2024-03-04T19:13:31.5033280Z           shows the correct total money raised
2024-03-04T19:13:33.0776953Z           shows the correct total donations
2024-03-04T19:13:33.0778324Z     Signage
2024-03-04T19:13:36.0594009Z       shows their organization name unless they have a logo set
2024-03-04T19:13:36.0595075Z     Donations
2024-03-04T19:13:37.0295646Z       has a link to create a new donation
2024-03-04T19:13:37.0297567Z       given 1 Donation on 2024-01-31 (only if a valid date), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T19:13:37.0298654Z         filtering to 'Last Month'
2024-03-04T19:13:38.6511763Z           shows the correct total and 3 Recent Donation link(s)
2024-03-04T19:13:38.6513264Z       given 1 Donation on 2024-02-29 (only if a valid date), 3 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T19:13:38.6514863Z         filtering to 'This Month'
2024-03-04T19:13:40.2548453Z           shows the correct total and 3 Recent Donation link(s)
2024-03-04T19:13:40.2550656Z       given 1 Donation on 2022-03-03 (only if a valid date), 4 during 2022-03-04..2023-10-10, and 1 on 2023-10-11
2024-03-04T19:13:40.2552054Z         filtering to '' (March 4, 2022 - October 10, 2023)
2024-03-04T19:13:41.8582606Z           shows the correct total and 3 Recent Donation link(s)
2024-03-04T19:13:41.8584501Z       given 1 Donation on 2024-02-26 (only if a valid date), 0 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T19:13:41.8585800Z         filtering to 'Last 7 Days'
2024-03-04T19:13:45.3143812Z           shows the correct total and 0 Recent Donation link(s)
2024-03-04T19:13:45.3145837Z       given 1 Donation on 2023-12-31 (only if a valid date), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T19:13:45.3146989Z         filtering to 'This Year'
2024-03-04T19:13:46.9092104Z           shows the correct total and 3 Recent Donation link(s)
2024-03-04T19:13:46.9093928Z       given 1 Donation on 2024-03-03 (only if a valid date), 4 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T19:13:46.9095089Z         filtering to 'Today'
2024-03-04T19:13:48.5373490Z           shows the correct total and 3 Recent Donation link(s)
2024-03-04T19:13:48.5380499Z       given 1 Donation on 2024-03-02 (only if a valid date), 4 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T19:13:48.5381701Z         filtering to 'Yesterday'
2024-03-04T19:13:50.1771273Z           shows the correct total and 3 Recent Donation link(s)
2024-03-04T19:13:50.1772894Z       given 1 Donation on 2024-02-03 (only if a valid date), 1 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T19:13:50.1773944Z         filtering to 'Last 30 Days'
2024-03-04T19:13:51.6917198Z           shows the correct total and 1 Recent Donation link(s)
2024-03-04T19:13:51.6918177Z     Distributions
2024-03-04T19:13:52.8576419Z       has a link to create a new distribution
2024-03-04T19:13:52.8578150Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T19:13:52.8579081Z         filtering to 'Last Month'
2024-03-04T19:13:56.4313000Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-04T19:13:56.4314723Z       given 1 Distribution on 2022-03-03  (unless 'All Time'), 3 during 2022-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T19:13:56.4315968Z         filtering to '' (March 4, 2022 - March 4, 2024)
2024-03-04T19:13:58.0738638Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-04T19:13:58.0740335Z       given 1 Distribution on 2024-03-03  (unless 'All Time'), 1 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T19:13:58.0741542Z         filtering to 'Today'
2024-03-04T19:13:59.5600708Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-04T19:13:59.5602203Z       given 1 Distribution on 2024-02-03  (unless 'All Time'), 3 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T19:13:59.5603139Z         filtering to 'Last 30 Days'
2024-03-04T19:14:01.0780341Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-04T19:14:01.0782200Z       given 1 Distribution on 2024-03-02  (unless 'All Time'), 4 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T19:14:01.0783275Z         filtering to 'Yesterday'
2024-03-04T19:14:02.6964477Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-04T19:14:02.6966195Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T19:14:02.6967381Z         filtering to 'This Year'
2024-03-04T19:14:04.3021121Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-04T19:14:04.3022774Z       given 1 Distribution on 2024-02-29  (unless 'All Time'), 4 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T19:14:04.3024356Z         filtering to 'This Month'
2024-03-04T19:14:05.9593793Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-04T19:14:05.9595308Z       given 1 Distribution on 2024-02-26  (unless 'All Time'), 0 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T19:14:05.9596243Z         filtering to 'Last 7 Days'
2024-03-04T19:14:09.4870317Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-04T19:14:09.4872108Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 4 during 2000-01-01..2024-03-04, and 1 on 2024-03-05
2024-03-04T19:14:09.4873359Z         filtering to 'All Time'
2024-03-04T19:14:11.0471624Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-04T19:14:11.0472811Z   With a new essentials bank
2024-03-04T19:14:39.2156811Z     displays the getting started guide until the steps are completed
2024-03-04T19:14:39.2273813Z W, [2024-03-04T11:14:39.227125 #2550]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-04T19:14:39.2275967Z W, [2024-03-04T11:14:39.227184 #2550]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-04T19:14:39.2279938Z W, [2024-03-04T11:14:39.227200 #2550]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-04T19:14:39.2283133Z W, [2024-03-04T11:14:39.227224 #2550]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-04T19:14:39.2284586Z 
2024-03-04T19:14:39.2298674Z Finished in 3 minutes 52.2 seconds (files took 8.79 seconds to load)
2024-03-04T19:14:39.2302238Z 233 examples, 0 failures
2024-03-04T19:14:39.2302573Z 
2024-03-04T19:14:39.2302759Z Randomized with seed 30948
2024-03-04T19:14:39.2303068Z 
2024-03-04T19:14:39.5533881Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3878 / 6475 LOC (59.89%) covered.
2024-03-04T19:14:40.0818589Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10762 LOC (0.35%) covered.
