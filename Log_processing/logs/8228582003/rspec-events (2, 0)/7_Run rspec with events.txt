2024-03-11T06:27:09.7531892Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-11T06:27:09.7532843Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-11T06:27:09.7582460Z shell: /usr/bin/bash -e {0}
2024-03-11T06:27:09.7582853Z env:
2024-03-11T06:27:09.7583187Z   POSTGRES_HOST: localhost
2024-03-11T06:27:09.7583675Z   DATABASE_HOST: localhost
2024-03-11T06:27:09.7584057Z   PG_USERNAME: postgres
2024-03-11T06:27:09.7584387Z   PG_PASSWORD: password
2024-03-11T06:27:09.7584872Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-11T06:27:09.7585277Z   POSTGRES_PORT: 5432
2024-03-11T06:27:09.7585641Z   PGHOST: localhost
2024-03-11T06:27:09.7586005Z   PGUSER: postgres
2024-03-11T06:27:09.7586347Z   RAILS_ENV: test
2024-03-11T06:27:09.7586722Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-11T06:27:09.7587228Z   KNAPSACK_PRO_CI_NODE_TOTAL: 2
2024-03-11T06:27:09.7587641Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-03-11T06:27:09.7588040Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-11T06:27:09.7588704Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-11T06:27:09.7589318Z   KNAPSACK_PRO_TEST_FILE_EXCLUDE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-11T06:27:09.7590141Z   EVENTS_READ: true
2024-03-11T06:27:09.7590491Z ##[endgroup]
2024-03-11T06:27:15.5228847Z W, [2024-03-11T06:27:15.522535 #2346]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-11T06:27:15.5230990Z W, [2024-03-11T06:27:15.522597 #2346]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-11T06:27:15.5233585Z W, [2024-03-11T06:27:15.522614 #2346]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-11T06:27:15.5240312Z W, [2024-03-11T06:27:15.522644 #2346]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-11T06:27:18.0978261Z W, [2024-03-11T06:27:18.097486 #2346]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-11T06:27:18.0980802Z W, [2024-03-11T06:27:18.097526 #2346]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-11T06:27:18.0983425Z W, [2024-03-11T06:27:18.097541 #2346]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-11T06:27:18.0987597Z W, [2024-03-11T06:27:18.097585 #2346]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-11T06:27:18.1057268Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/models/account_request_spec.rb" "spec/models/audit_spec.rb" "spec/models/base_item_spec.rb" "spec/models/concerns/deadlinable_spec.rb" "spec/models/distribution_spec.rb" "spec/models/donation_spec.rb" "spec/models/inventory_item_spec.rb" "spec/models/item_spec.rb" "spec/models/kit_spec.rb" "spec/models/manufacturer_spec.rb" "spec/models/organization_spec.rb" "spec/models/partner_group_spec.rb" "spec/models/partners/authorized_family_member_spec.rb" "spec/models/partners/child_spec.rb" "spec/models/partners/family_spec.rb" "spec/models/partners/profile_spec.rb" "spec/models/product_drive_participant_spec.rb" "spec/models/purchase_spec.rb" "spec/models/request_item_spec.rb" "spec/models/role_spec.rb" "spec/models/transfer_spec.rb" "spec/models/users_role_spec.rb" "spec/models/view/inventory_spec.rb" "spec/controllers/application_controller_spec.rb" "spec/controllers/donation_sites_controller_spec.rb" "spec/controllers/help_controller_spec.rb" "spec/controllers/transfers_controller_spec.rb" "spec/events/inventory_aggregate_spec.rb" "spec/helpers/historical_trends_helper_spec.rb" "spec/helpers/ui_helper_spec.rb" "spec/jobs/notify_partner_job_spec.rb" "spec/jobs/reminder_deadline_job_spec.rb" "spec/mailers/account_request_mailer_spec.rb" "spec/mailers/distribution_mailer_spec.rb" "spec/mailers/partner_mailer_spec.rb" "spec/mailers/request_mailer_spec.rb" "spec/mailers/user_mailer_spec.rb" "spec/queries/items_in_query_spec.rb" "spec/queries/items_out_query_spec.rb" "spec/routing/account_requests_routing_spec.rb" "spec/services/adjustment_create_service_spec.rb" "spec/services/calendar_service_spec.rb" "spec/services/deallocate_kit_inventory_service_spec.rb" "spec/services/distribution_create_service_spec.rb" "spec/services/distribution_itemized_breakdown_service_spec.rb" "spec/services/distribution_update_service_spec.rb" "spec/services/donation_create_service_spec.rb" "spec/services/donation_itemized_breakdown_service_spec.rb" "spec/services/exports/export_donations_csv_service_spec.rb" "spec/services/exports/export_report_csv_service_spec.rb" "spec/services/historical_trend_service_spec.rb" "spec/services/item_create_service_spec.rb" "spec/services/kit_create_service_spec.rb" "spec/services/partner_approval_service_spec.rb" "spec/services/partner_fetch_requestable_items_service_spec.rb" "spec/services/partner_profile_update_service_spec.rb" "spec/services/partners/family_request_create_service_spec.rb" "spec/services/partners/request_approval_service_spec.rb" "spec/services/partners/update_family_spec.rb" "spec/services/remove_role_service_spec.rb" "spec/services/reports/adult_incontinence_report_service_spec.rb" "spec/services/reports/other_products_report_service_spec.rb" "spec/services/reports/period_supply_report_service_spec.rb" "spec/services/reports/warehouse_report_service_spec.rb" "spec/services/requests_total_items_service_spec.rb" "spec/services/sync_ndbn_members_spec.rb" "spec/services/transfer_destroy_service_spec.rb"
2024-03-11T06:27:26.8461171Z 
2024-03-11T06:27:26.8462219Z Randomized with seed 5221
2024-03-11T06:27:27.6416868Z 
2024-03-11T06:27:27.6417611Z Partners::UpdateFamily
2024-03-11T06:27:27.6418520Z   #call
2024-03-11T06:27:27.6419528Z     when an error occurs during archiving
2024-03-11T06:27:27.7188284Z       does not archive the family or its children and adds error to the service
2024-03-11T06:27:27.7189020Z     when family has children
2024-03-11T06:27:27.7598448Z       archives the family and its children
2024-03-11T06:27:27.7599287Z 
2024-03-11T06:27:27.7599653Z HelpController
2024-03-11T06:27:27.7600765Z   While signed in as a normal user >
2024-03-11T06:27:27.7601689Z     GET #show
2024-03-11T06:27:27.7747807Z       does not display help page when the user logs out
2024-03-11T06:27:27.7931287Z       returns http success
2024-03-11T06:27:27.7932028Z 
2024-03-11T06:27:27.7932290Z PartnerFetchRequestableItemsService
2024-03-11T06:27:27.7933360Z   #call
2024-03-11T06:27:27.8085456Z     raises an error indiciating the partner does not exist with invalid id
2024-03-11T06:27:27.8086447Z     org with any amount of items
2024-03-11T06:27:27.8087010Z       when the partner is in a partner group and has items
2024-03-11T06:27:28.0740522Z         should return only active and visible items from partner
2024-03-11T06:27:28.0741591Z       when the partner is in a partner group and has no items
2024-03-11T06:27:28.2708867Z         should return only active and visible items from partner
2024-03-11T06:27:28.2709712Z     when the partner is not in any partner group
2024-03-11T06:27:28.3014060Z       is expected to be nil
2024-03-11T06:27:28.3014819Z       when the organization has no items
2024-03-11T06:27:28.3332390Z         should return no items
2024-03-11T06:27:28.3333426Z       when the organization has items
2024-03-11T06:27:28.3886362Z         should return only active and visible items
2024-03-11T06:27:28.4231972Z         is expected to eq [#<Item id: 144, name: "Item 1", category: nil, created_at: "2024-03-10 23:27:28.407377230 -0700", up... on_hand_recommended_quantity: nil, visible_to_partners: false, kit_id: nil, item_category_id: nil>]
2024-03-11T06:27:28.4234086Z 
2024-03-11T06:27:28.4234430Z DistributionUpdateService
2024-03-11T06:27:28.4235133Z   resend_notification?
2024-03-11T06:27:28.5690690Z     changes the issue_date, resulting in resend_notification? = true
2024-03-11T06:27:28.6605150Z     changes the delivery_method, resulting in resend_notification? = true
2024-03-11T06:27:28.7555390Z     changes any distribution content, resulting in resend_notification? = true
2024-03-11T06:27:28.7556512Z   call
2024-03-11T06:27:28.8622076Z     replaces a big distribution with a smaller one, resulting in increased stored quantities
2024-03-11T06:27:28.8623312Z 
2024-03-11T06:27:28.8623544Z RequestsTotalItemsService
2024-03-11T06:27:28.8624132Z   #calculate
2024-03-11T06:27:28.8625035Z     when provided requests is nil
2024-03-11T06:27:28.8664997Z       is expected to be blank
2024-03-11T06:27:28.8665742Z     when item name is nil
2024-03-11T06:27:28.8875016Z       return Unknown Item
2024-03-11T06:27:28.8875685Z     when the request items is not blank
2024-03-11T06:27:28.9018956Z       return items with correct quantities calculated
2024-03-11T06:27:28.9157149Z       return the names of items correctly
2024-03-11T06:27:28.9158123Z     when provided with requests that have no request items
2024-03-11T06:27:28.9237060Z       is expected to be blank
2024-03-11T06:27:28.9237812Z 
2024-03-11T06:27:28.9238236Z RequestItem
2024-03-11T06:27:28.9239083Z   Methods >
2024-03-11T06:27:28.9239985Z     #from_json
2024-03-11T06:27:29.1754872Z       has the correct name
2024-03-11T06:27:29.4248597Z       has the correct amount on hand
2024-03-11T06:27:29.6700273Z       has the correct quantity
2024-03-11T06:27:29.9206219Z       has the correct amount on hand for location
2024-03-11T06:27:29.9207438Z 
2024-03-11T06:27:29.9207673Z DistributionMailer
2024-03-11T06:27:29.9208893Z   #partner_mailer
2024-03-11T06:27:29.9935854Z     renders the body with organization's email text
2024-03-11T06:27:30.0452271Z     renders the body with distributions text
2024-03-11T06:27:30.0452978Z     with deliver_method: :pick_up
2024-03-11T06:27:30.1000810Z       renders the body with 'picked up' specified
2024-03-11T06:27:30.1001779Z       when parners profile pick_up_email is present
2024-03-11T06:27:30.1541380Z         sends email to the primary contact and partner`s pickup person
2024-03-11T06:27:30.1542669Z         when pickup person happens to be the same as the primary contact
2024-03-11T06:27:30.2090115Z           does not send email twice
2024-03-11T06:27:30.2091306Z     with deliver_method: :delivery
2024-03-11T06:27:30.2646339Z       sends copy of email only to the partner
2024-03-11T06:27:30.3199342Z       renders the body with 'delivered' specified
2024-03-11T06:27:30.3200792Z     with distribution changes
2024-03-11T06:27:30.3795106Z       renders the body with changes that happened in the distribution
2024-03-11T06:27:30.3796116Z   #reminder_email
2024-03-11T06:27:30.3797014Z     Text format
2024-03-11T06:27:30.4319007Z       renders the body with organization's email text
2024-03-11T06:27:30.4319996Z     with deliver_method: :delivery
2024-03-11T06:27:30.4856198Z       renders the body with 'delivery' specified
2024-03-11T06:27:30.4857083Z     with deliver_method: :pick_up
2024-03-11T06:27:30.5358123Z       renders the body with 'pick up' specified
2024-03-11T06:27:30.5359007Z     HTML format
2024-03-11T06:27:30.5852658Z       renders the body with organization's email text
2024-03-11T06:27:30.5853358Z 
2024-03-11T06:27:30.5853934Z Purchase
2024-03-11T06:27:30.5855478Z   Validations >
2024-03-11T06:27:30.6182023Z     is valid if categories have no values
2024-03-11T06:27:30.6282315Z     is not valid if period supplies is non-zero but no other category is
2024-03-11T06:27:30.6374047Z     is not valid if categories do not add up
2024-03-11T06:27:30.6572068Z     is invalid when the line items are invalid
2024-03-11T06:27:30.6650831Z     requires an inventory (storage location)
2024-03-11T06:27:30.6740741Z     ensures that the issued at is no earlier than 2000
2024-03-11T06:27:30.6827958Z     is valid if all categories add up to total
2024-03-11T06:27:30.6905039Z     must belong to an organization
2024-03-11T06:27:30.7086327Z     is not valid if any category is non-zero but does not add up to the total
2024-03-11T06:27:30.7087370Z   behaves like itemizable
2024-03-11T06:27:30.7087968Z     .line_items
2024-03-11T06:27:30.7088534Z       quantities_by_name
2024-03-11T06:27:30.7509973Z         returns a hash of items with id, name, and quantity
2024-03-11T06:27:30.7922849Z         leaves out zero-quantitied items if requested
2024-03-11T06:27:30.7923952Z       sorted
2024-03-11T06:27:30.8509736Z         displays the items, sorted by name
2024-03-11T06:27:30.8510432Z       combine!
2024-03-11T06:27:30.8953996Z         combines multiple line_items with the same item_id into a single record
2024-03-11T06:27:30.9483306Z         incrementally combines line_items on donations that have already been created
2024-03-11T06:27:30.9484418Z       total
2024-03-11T06:27:30.9905714Z         has an item total
2024-03-11T06:27:30.9906354Z     .to_a
2024-03-11T06:27:30.9906942Z       with Flipper flag :deprecate_to_a disabled
2024-03-11T06:27:31.0300125Z         calls line_item_values
2024-03-11T06:27:31.0300850Z       with Flipper flag :deprecate_to_a enabled
2024-03-11T06:27:31.0696628Z         raises an error
2024-03-11T06:27:31.0697612Z   versioning
2024-03-11T06:27:31.0737202Z     is expected to be versioned
2024-03-11T06:27:31.0737851Z   Methods >
2024-03-11T06:27:31.0738627Z     remove
2024-03-11T06:27:31.1453845Z       removes the item from the purchase
2024-03-11T06:27:31.2161051Z       fails gracefully if the item doesn't exist
2024-03-11T06:27:31.2162170Z     storage_view
2024-03-11T06:27:31.2830696Z       returns name of storage location
2024-03-11T06:27:31.2831585Z   Associations >
2024-03-11T06:27:31.2832353Z     items >
2024-03-11T06:27:31.3039551Z       has_many
2024-03-11T06:27:31.3040170Z   Scopes >
2024-03-11T06:27:31.3041020Z     during >
2024-03-11T06:27:31.3290444Z       returns all purchases created between two dates
2024-03-11T06:27:31.3291272Z   Callbacks >
2024-03-11T06:27:31.3464895Z     inititalizes the issued_at field to default to midnight if it wasn't explicitly set
2024-03-11T06:27:31.3653886Z     automatically combines duplicate line_item records when they're created
2024-03-11T06:27:31.3654633Z 
2024-03-11T06:27:31.3655061Z CalendarService
2024-03-11T06:27:31.4821617Z   #time_zones
2024-03-11T06:27:31.4822234Z   .calendar
2024-03-11T06:27:31.5459225Z     should print the calendar correctly
2024-03-11T06:27:31.5460006Z 
2024-03-11T06:27:31.5460285Z RemoveRoleService
2024-03-11T06:27:31.5460942Z   #call
2024-03-11T06:27:31.5461739Z     when the role does not exist
2024-03-11T06:27:31.7353068Z       should raise an error
2024-03-11T06:27:31.7354064Z     when not enough information provided
2024-03-11T06:27:31.9199418Z       should raise an error
2024-03-11T06:27:31.9200007Z     when the role exists
2024-03-11T06:27:32.1205951Z       should remove the admin role when removing user role
2024-03-11T06:27:32.3291255Z       should work with a type and ID instead of role ID
2024-03-11T06:27:32.5229652Z       should remove the role
2024-03-11T06:27:32.5230228Z 
2024-03-11T06:27:32.5230449Z NotifyPartnerJob
2024-03-11T06:27:32.5231173Z   #perform
2024-03-11T06:27:32.5285920Z     avoids exception when request doesn't exist
2024-03-11T06:27:32.5402287Z     is expected to call RequestsConfirmationMailer
2024-03-11T06:27:32.5403660Z     when the request's partner is deactivated
2024-03-11T06:27:32.5697039Z       does not send the confirmation email
2024-03-11T06:27:32.5697747Z 
2024-03-11T06:27:32.5698345Z Reports::WarehouseReportService
2024-03-11T06:27:32.5699150Z   #report
2024-03-11T06:27:32.7466082Z     should print zero values
2024-03-11T06:27:32.9224466Z     should print unknown square footage
2024-03-11T06:27:33.2801471Z     should print unknown warehouse type
2024-03-11T06:27:33.6375195Z     should print normal values
2024-03-11T06:27:33.6375748Z 
2024-03-11T06:27:33.6376025Z HistoricalTrendService
2024-03-11T06:27:33.6376936Z   #series
2024-03-11T06:27:33.9359566Z     returns an array of items with their monthly data
2024-03-11T06:27:33.9360318Z 
2024-03-11T06:27:33.9360606Z Exports::ExportDonationsCSVService
2024-03-11T06:27:33.9361601Z   #generate_csv_data
2024-03-11T06:27:34.0632956Z     should match the expected content for the csv
2024-03-11T06:27:34.0633662Z 
2024-03-11T06:27:34.0634211Z User
2024-03-11T06:27:34.0635287Z   #role_added
2024-03-11T06:27:34.1008280Z     renders the body correctly
2024-03-11T06:27:34.1009430Z   #send_reset_password_instructions
2024-03-11T06:27:34.1010069Z     user gets an email with instructions
2024-03-11T06:27:34.1962851Z       sends an email with instructions
2024-03-11T06:27:34.1964276Z 
2024-03-11T06:27:34.1964568Z Partners::Profile
2024-03-11T06:27:34.2008052Z   must allow deleting served_areas
2024-03-11T06:27:34.2009008Z   versioning
2024-03-11T06:27:34.2046317Z     is expected to be versioned
2024-03-11T06:27:34.2047050Z   associations
2024-03-11T06:27:34.2096814Z     is expected to have many served_areas
2024-03-11T06:27:34.2139622Z     is expected to have a has_one_attached called proof_of_partner_status
2024-03-11T06:27:34.2179550Z     is expected to have a has_one_attached called proof_of_form_990
2024-03-11T06:27:34.2217770Z     is expected to have a has_many_attached called documents
2024-03-11T06:27:34.2218709Z   request settings validation for profile
2024-03-11T06:27:34.2219582Z     at least one request type is set to true
2024-03-11T06:27:34.2295301Z       should be valid when enable_child_based_requests is true
2024-03-11T06:27:34.2367548Z       should be valid when enable_quantity_based_requests is true
2024-03-11T06:27:34.2436575Z       should be valid when enable_individual_requests is true
2024-03-11T06:27:34.2437997Z     no settings are set to true
2024-03-11T06:27:34.2486635Z       should not be valid
2024-03-11T06:27:34.2487674Z   client share behaviour
2024-03-11T06:27:34.2488476Z     multiple
2024-03-11T06:27:34.2736256Z       sums the client shares
2024-03-11T06:27:34.2900558Z       is valid if client share sum is 100
2024-03-11T06:27:34.2901409Z     no served areas
2024-03-11T06:27:34.2954372Z       has 0 client share
2024-03-11T06:27:34.2957426Z   social media info validation for profile
2024-03-11T06:27:34.2958835Z     has social media presence and the checkbox is unchecked
2024-03-11T06:27:34.3032433Z       with just a website it should be valid
2024-03-11T06:27:34.3104289Z       with just instagram it should be valid
2024-03-11T06:27:34.3173892Z       with just twitter it should be valid
2024-03-11T06:27:34.3246212Z       with just facebook it should be valid
2024-03-11T06:27:34.3316979Z       with every social media option it should be valid
2024-03-11T06:27:34.3318401Z     no social media presence and the checkbox isn't checked
2024-03-11T06:27:34.3420543Z       should be valid if media_information is not needed
2024-03-11T06:27:34.3480123Z       should not be valid
2024-03-11T06:27:34.3481155Z     no social media presence and the checkbox is checked
2024-03-11T06:27:34.3540068Z       should be valid
2024-03-11T06:27:34.3540964Z 
2024-03-11T06:27:34.3541364Z ReminderDeadlineJob
2024-03-11T06:27:34.3542273Z   #perform
2024-03-11T06:27:34.3782170Z     should queue up reminder deadline emails for all partners that should be reminded
2024-03-11T06:27:34.3783162Z 
2024-03-11T06:27:34.3783455Z Partners::RequestApprovalService
2024-03-11T06:27:34.3784176Z   #call
2024-03-11T06:27:34.3785395Z     when the partner is already awaiting approval
2024-03-11T06:27:34.4066568Z       should return an error saying it the partner is already requested approval
2024-03-11T06:27:34.4068186Z     when the partner is not yet waiting for approval and there is no profile error
2024-03-11T06:27:34.4385151Z       does not have an error
2024-03-11T06:27:34.4386026Z     when the partner is not yet awaiting approval
2024-03-11T06:27:34.4696173Z       should send an email notification to the partner's organization
2024-03-11T06:27:34.5013996Z       should set the status on the partner record to awaiting_review
2024-03-11T06:27:34.5015350Z     when the partner is not yet waiting for approval and there is a profile error
2024-03-11T06:27:34.5017074Z       should return an error re agency_type (PENDING: Temporarily skipped with xit)
2024-03-11T06:27:34.5267914Z       should return an error re social media
2024-03-11T06:27:34.5268619Z 
2024-03-11T06:27:34.5269005Z ItemCreateService
2024-03-11T06:27:34.5270040Z   #call
2024-03-11T06:27:34.5271048Z     when there are no issues
2024-03-11T06:27:34.6986673Z       should return an OpenStruct with success? set to true and the item
2024-03-11T06:27:34.8847251Z       should execute the expected methods
2024-03-11T06:27:34.8848130Z     when an issue occurs in transaction
2024-03-11T06:27:34.8849707Z       because a inventory item creation failed and raised an error
2024-03-11T06:27:35.0607105Z         should return a OpenStruct with the raised error
2024-03-11T06:27:35.0607896Z       because the item create raised an error
2024-03-11T06:27:35.2343140Z         should return a OpenStruct with the raised error
2024-03-11T06:27:35.2344337Z       because the organization_id does not match any Organization
2024-03-11T06:27:35.4061916Z         should return a OpenStruct with an ActiveRecord::RecordNotFound error
2024-03-11T06:27:35.4062807Z 
2024-03-11T06:27:35.4063020Z PartnerMailer
2024-03-11T06:27:35.4065098Z   #application_approved
2024-03-11T06:27:35.4342333Z     should be sent to the partner main email with the correct subject line
2024-03-11T06:27:35.4610666Z     renders the body with text that indicates the result and a link to their dashboard
2024-03-11T06:27:35.4854693Z   #recertification_request
2024-03-11T06:27:35.4855416Z     renders the body with text that indicates to recertify and link to where
2024-03-11T06:27:35.5089815Z     should be sent to the partner main email with the correct subject line
2024-03-11T06:27:35.5090552Z 
2024-03-11T06:27:35.5090874Z Organization
2024-03-11T06:27:35.5093513Z   #seed_items
2024-03-11T06:27:35.7021848Z     allows a single base item to be seeded
2024-03-11T06:27:35.8935659Z     allows a collection of items to be seeded
2024-03-11T06:27:35.8936990Z     when given an item name that already exists, but with an 'other' partner key
2024-03-11T06:27:36.0925459Z       updates the old item to use the new base item as its base
2024-03-11T06:27:36.0926447Z     when given an item that already exists
2024-03-11T06:27:36.3072212Z       gracefully skips the item
2024-03-11T06:27:36.3085078Z   geocode
2024-03-11T06:27:36.6253599Z     adds coordinates to the database
2024-03-11T06:27:36.6254774Z   earliest reporting year
2024-03-11T06:27:36.8052480Z     is the organization created year if no associated data
2024-03-11T06:27:37.0469287Z     is the year of the earliest of donation, purchase, or distribution if they are earlier
2024-03-11T06:27:37.0470442Z   .seed_items
2024-03-11T06:27:37.0470837Z     when no organization is provided
2024-03-11T06:27:37.6777070Z       updates all organizations
2024-03-11T06:27:37.6777662Z     when provided with an organization to seed
2024-03-11T06:27:37.9985623Z       loads the base items into Item records
2024-03-11T06:27:37.9986459Z   #short_name
2024-03-11T06:27:38.0059525Z     can only contain valid characters
2024-03-11T06:27:38.0060303Z   #assign_attributes_from_account_request
2024-03-11T06:27:38.0222777Z     should assign the proper attributes to the organization
2024-03-11T06:27:38.0224523Z   from_email
2024-03-11T06:27:38.2153220Z     returns admin email when it's empty space
2024-03-11T06:27:38.4097614Z     returns admin email when not present
2024-03-11T06:27:38.5892329Z     returns email when present
2024-03-11T06:27:38.7926303Z     returns admin email when it's empty
2024-03-11T06:27:38.7926873Z   deadline_day
2024-03-11T06:27:38.8035624Z     can only contain numbers 1-28
2024-03-11T06:27:38.8036383Z   valid_items
2024-03-11T06:27:38.9843623Z     only shows active valid items
2024-03-11T06:27:39.1778653Z     returns an array of item partner keys
2024-03-11T06:27:39.1779467Z     with invisible items
2024-03-11T06:27:39.2100747Z       only shows active and visible items
2024-03-11T06:27:39.2101790Z   Associations >
2024-03-11T06:27:39.2143119Z     is expected to have many users through roles
2024-03-11T06:27:39.2190764Z     is expected to belong to ndbn_member class_name => NDBNMember optional: true
2024-03-11T06:27:39.2230028Z     is expected to have many item_categories
2024-03-11T06:27:39.2230996Z     barcode_items
2024-03-11T06:27:39.4172559Z       returns only this organization's barcodes, no globals
2024-03-11T06:27:39.4173476Z       .all
2024-03-11T06:27:39.6071122Z         includes global barcode items also
2024-03-11T06:27:39.6072019Z     users
2024-03-11T06:27:39.6072965Z       when a organizaton has a user that has two roles
2024-03-11T06:27:39.7995169Z         should returns users without duplications
2024-03-11T06:27:39.7995756Z     items
2024-03-11T06:27:39.7996867Z       .during.top
2024-03-11T06:27:41.7675869Z         return just 3 elements
2024-03-11T06:27:43.7368764Z         return 3 most used items
2024-03-11T06:27:43.7369598Z       .during.bottom
2024-03-11T06:27:45.7046263Z         return 3 least used items
2024-03-11T06:27:47.6999070Z         return just 3 elements
2024-03-11T06:27:47.6999874Z       .during
2024-03-11T06:27:49.6655866Z         return ranking of all items
2024-03-11T06:27:49.6656902Z       .other
2024-03-11T06:27:51.6365271Z         returns all items for this organization designated 'other'
2024-03-11T06:27:51.6366308Z     distributions
2024-03-11T06:27:51.6366687Z       upcoming
2024-03-11T06:27:51.7114106Z         retrieves the distributions scheduled for this week that have not yet happened
2024-03-11T06:27:51.7115540Z   address
2024-03-11T06:27:51.7156271Z     does not add any separators before the city when street is missing
2024-03-11T06:27:51.7192363Z     does not add a trailing space when the zip code is missing
2024-03-11T06:27:51.7225775Z     returns an empty string when the org has no address components
2024-03-11T06:27:51.7261453Z     correctly formats an address string with commas and spaces
2024-03-11T06:27:51.7296682Z     does not add any separators after street when city, state, and zip are missing
2024-03-11T06:27:51.7297931Z   #ordered_requests
2024-03-11T06:27:51.9213206Z     puts active requests before fulfilled requests
2024-03-11T06:27:51.9214157Z     ordering of requests with matching status
2024-03-11T06:27:52.1162250Z       puts the most recently updated request before older requests
2024-03-11T06:27:52.1163188Z   total_inventory
2024-03-11T06:27:52.3578842Z     returns a sum total of all inventory at all storage locations
2024-03-11T06:27:52.5306713Z     returns 0 if there is nothing
2024-03-11T06:27:52.5307685Z   reminder_day
2024-03-11T06:27:52.5426810Z     can only contain numbers 1-28
2024-03-11T06:27:52.5427485Z   is_active
2024-03-11T06:27:52.9158435Z     returns active organizations
2024-03-11T06:27:52.9159511Z   default storage location
2024-03-11T06:27:52.9199027Z     returns nil when not set
2024-03-11T06:27:52.9242163Z     associates the default storage location with a storage location
2024-03-11T06:27:52.9243035Z   after_create
2024-03-11T06:27:52.9449082Z     should update the state of the account request
2024-03-11T06:27:52.9449940Z   versioning
2024-03-11T06:27:52.9486838Z     is expected to be versioned
2024-03-11T06:27:52.9487496Z   validations
2024-03-11T06:27:53.1219281Z     validates that short names are unique
2024-03-11T06:27:53.1316324Z     validates that at least one distribution type is enabled
2024-03-11T06:27:53.1390824Z     validates that attachments are png or jpgs
2024-03-11T06:27:53.1455793Z     validates that attachment file size is not higher than 1 MB
2024-03-11T06:27:53.1456694Z 
2024-03-11T06:27:53.1457027Z DonationSitesController
2024-03-11T06:27:53.1458386Z   While signed in
2024-03-11T06:27:53.1460175Z     Looking at a different organization
2024-03-11T06:27:53.3178968Z       redirects the user to the sign-in page for CRUD actions
2024-03-11T06:27:53.3179614Z     GET #edit
2024-03-11T06:27:53.3341071Z       returns http success
2024-03-11T06:27:53.3341747Z     GET #index
2024-03-11T06:27:53.3458549Z       returns http success
2024-03-11T06:27:53.3459297Z     POST #import_csv
2024-03-11T06:27:53.3460034Z       behaves like csv import
2024-03-11T06:27:53.3461165Z         without a csv file
2024-03-11T06:27:53.3618978Z           redirects to :index
2024-03-11T06:27:53.3722007Z           presents a flash error message
2024-03-11T06:27:53.3722845Z         csv file with wrong headers
2024-03-11T06:27:53.3859562Z           presents a flash error message
2024-03-11T06:27:53.3968664Z           redirects to :index
2024-03-11T06:27:53.3969607Z         with a csv file
2024-03-11T06:27:53.4024795Z           invokes .import_csv
2024-03-11T06:27:53.4164289Z           redirects to :index
2024-03-11T06:27:53.4308603Z           presents a flash notice message
2024-03-11T06:27:53.4309487Z     GET #new
2024-03-11T06:27:53.4424073Z       returns http success
2024-03-11T06:27:53.4424900Z     DELETE #destroy
2024-03-11T06:27:53.4589344Z       returns http success
2024-03-11T06:27:53.4590026Z     GET #show
2024-03-11T06:27:53.4711050Z       returns http success
2024-03-11T06:27:53.4711742Z   While not signed in
2024-03-11T06:27:53.4766653Z     redirects the user to the sign-in page for CRUD actions
2024-03-11T06:27:53.4768525Z 
2024-03-11T06:27:53.4768810Z DonationItemizedBreakdownService
2024-03-11T06:27:53.4769505Z   #fetch
2024-03-11T06:27:53.8776157Z     return the list of items donated with distributed
2024-03-11T06:27:53.8776904Z 
2024-03-11T06:27:53.8777092Z DonationCreateService
2024-03-11T06:27:53.8778792Z   #call
2024-03-11T06:27:53.8990277Z     should create the donation
2024-03-11T06:27:53.8990776Z 
2024-03-11T06:27:53.8991277Z AccountRequestMailer
2024-03-11T06:27:53.8992292Z   #confirmation
2024-03-11T06:27:53.9139095Z     should have the correct subject
2024-03-11T06:27:53.9259366Z     should be sent to the specified account_request email
2024-03-11T06:27:53.9376914Z     should be from no-reply@humanessentials.app
2024-03-11T06:27:53.9377910Z     when the account_request_id provided does not match any AccountRequest
2024-03-11T06:27:53.9424352Z       should trigger raise a ActiveRecord::RecordNotFound error
2024-03-11T06:27:53.9425080Z     Text format
2024-03-11T06:27:53.9541084Z       should include the instruction video link
2024-03-11T06:27:53.9658495Z       should include the button to confirm the request
2024-03-11T06:27:53.9778011Z       should include the staging/demo account information
2024-03-11T06:27:53.9778862Z     HTML format
2024-03-11T06:27:53.9903879Z       should include the button to confirm the request
2024-03-11T06:27:54.0071804Z       should include the instruction video link
2024-03-11T06:27:54.0202077Z       should include the staging/demo account information
2024-03-11T06:27:54.0203178Z   #rejection
2024-03-11T06:27:54.0333497Z     should include the rejection reason
2024-03-11T06:27:54.0446212Z     should be sent to the correct email address
2024-03-11T06:27:54.0560407Z     should have the correct subject
2024-03-11T06:27:54.0561510Z     when the account_request_id provided does not match any AccountRequest
2024-03-11T06:27:54.0608446Z       should trigger raise a ActiveRecord::RecordNotFound error
2024-03-11T06:27:54.0609400Z   #approval_request
2024-03-11T06:27:54.0743906Z     should be sent to the info@humanessentials.app email address
2024-03-11T06:27:54.1100054Z     should include details of the account request
2024-03-11T06:27:54.1251416Z     should include the admin link to reject the organization
2024-03-11T06:27:54.1391727Z     should include the admin link to create the new organization from the account request
2024-03-11T06:27:54.1520338Z     should have the correct subject
2024-03-11T06:27:54.1521762Z     when the account_request_id provided does not match any AccountRequest
2024-03-11T06:27:54.1568759Z       should trigger raise a ActiveRecord::RecordNotFound error
2024-03-11T06:27:54.1569368Z 
2024-03-11T06:27:54.1569577Z ItemsOutQuery
2024-03-11T06:27:54.1570650Z   items_out_query
2024-03-11T06:27:54.2838369Z     returns a collection with the fields name, item_id, quantity
2024-03-11T06:27:54.3976792Z     includes distributions, adjustments, transfers among sources
2024-03-11T06:27:54.3977818Z 
2024-03-11T06:27:54.3978081Z Partners::AuthorizedFamilyMember
2024-03-11T06:27:54.3978865Z   associations
2024-03-11T06:27:54.4036732Z     is expected to have many child_item_requests dependent => nullify
2024-03-11T06:27:54.4080347Z     is expected to belong to family required: true
2024-03-11T06:27:54.4081244Z   #display_name
2024-03-11T06:27:54.4353769Z     should return the family member's first and last name
2024-03-11T06:27:54.4354409Z   versioning
2024-03-11T06:27:54.4392034Z     is expected to be versioned
2024-03-11T06:27:54.4393048Z 
2024-03-11T06:27:54.4393458Z PartnerProfileUpdateService
2024-03-11T06:27:54.4394235Z   #call
2024-03-11T06:27:54.4395317Z     when there are no pre-existing served areas
2024-03-11T06:27:54.4396149Z       and the new values are incorrect
2024-03-11T06:27:54.4588675Z 0
2024-03-11T06:27:54.4598306Z         does not store the new values and returns a failure
2024-03-11T06:27:54.4599756Z       and the new values are correct
2024-03-11T06:27:54.4818040Z         stores the new values and returns success
2024-03-11T06:27:54.4819173Z         and there are other errors in the profile
2024-03-11T06:27:54.5011729Z           does not store the new values and it returns a failure
2024-03-11T06:27:54.5012923Z     when served area client shares pre-exist
2024-03-11T06:27:54.5014641Z       and the new values are incorrect
2024-03-11T06:27:54.5283625Z         maintains the old values and returns failure
2024-03-11T06:27:54.5284420Z       and the new values are correct
2024-03-11T06:27:54.5285316Z         and there are no other errors
2024-03-11T06:27:54.5565812Z           replaces the old values and returns success
2024-03-11T06:27:54.5566745Z         and there are errors on the profile
2024-03-11T06:27:54.5850443Z           maintains the old values and returns failure
2024-03-11T06:27:54.5852448Z 
2024-03-11T06:27:54.5852906Z Donation
2024-03-11T06:27:54.5854011Z   behaves like itemizable
2024-03-11T06:27:54.5854708Z     .to_a
2024-03-11T06:27:54.5855713Z       with Flipper flag :deprecate_to_a disabled
2024-03-11T06:27:54.6188146Z         calls line_item_values
2024-03-11T06:27:54.6188914Z       with Flipper flag :deprecate_to_a enabled
2024-03-11T06:27:54.6509799Z         raises an error
2024-03-11T06:27:54.6510430Z     .line_items
2024-03-11T06:27:54.6511001Z       quantities_by_name
2024-03-11T06:27:54.6872722Z         leaves out zero-quantitied items if requested
2024-03-11T06:27:54.7206731Z         returns a hash of items with id, name, and quantity
2024-03-11T06:27:54.7207340Z       combine!
2024-03-11T06:27:54.7708115Z         combines multiple line_items with the same item_id into a single record
2024-03-11T06:27:54.8178413Z         incrementally combines line_items on donations that have already been created
2024-03-11T06:27:54.8179365Z       sorted
2024-03-11T06:27:54.8703457Z         displays the items, sorted by name
2024-03-11T06:27:54.8704000Z       total
2024-03-11T06:27:54.9074994Z         has an item total
2024-03-11T06:27:54.9075690Z   Callbacks >
2024-03-11T06:27:54.9216050Z     inititalizes the issued_at field to default to midnight if it wasn't explicitly set
2024-03-11T06:27:54.9380699Z     automatically combines duplicate line_item records when they're created
2024-03-11T06:27:54.9381363Z   versioning
2024-03-11T06:27:54.9416632Z     is expected to be versioned
2024-03-11T06:27:54.9417244Z   Scopes >
2024-03-11T06:27:54.9417832Z     during >
2024-03-11T06:27:54.9602469Z       returns all donations created between two dates
2024-03-11T06:27:54.9604887Z     by_source >
2024-03-11T06:27:54.9606353Z       when source is not a symbol
2024-03-11T06:27:54.9607041Z         when source is invalid
2024-03-11T06:27:54.9850209Z           does not throw errors, returns no results
2024-03-11T06:27:54.9850835Z         when source comes from the SOURCES hash
2024-03-11T06:27:55.0028129Z           returns all donations with the provided source
2024-03-11T06:27:55.0028715Z       when source is a symbol
2024-03-11T06:27:55.0029311Z         when source is invalid
2024-03-11T06:27:55.0200966Z           does not throw errors, returns no results
2024-03-11T06:27:55.0201544Z         when source is valid
2024-03-11T06:27:55.0380902Z           allows a symbol as an argument, referencing the SOURCES hash
2024-03-11T06:27:55.0382154Z   Associations >
2024-03-11T06:27:55.0382663Z     items >
2024-03-11T06:27:55.0545467Z       has_many
2024-03-11T06:27:55.0546224Z   Validations >
2024-03-11T06:27:55.0594396Z     must belong to an organization
2024-03-11T06:27:55.0661036Z     requires a source from the list of available sources
2024-03-11T06:27:55.0818909Z     is invalid when the line items are invalid
2024-03-11T06:27:55.0982982Z     requires a donation_site if the source is 'Donation Site'
2024-03-11T06:27:55.1027179Z     requires an inventory (storage location)
2024-03-11T06:27:55.1150372Z     requires a manufacturer if the source is 'Manufacturer'
2024-03-11T06:27:55.1205105Z     ensures that the issued at is no earlier than 2000
2024-03-11T06:27:55.1328379Z     requires a product drive participant if the source is 'Product Drive'
2024-03-11T06:27:55.1329284Z   Methods >
2024-03-11T06:27:55.1329856Z     money_raised
2024-03-11T06:27:55.1969265Z       tracks the money raised in a donation
2024-03-11T06:27:55.1969935Z     source_view
2024-03-11T06:27:55.1970737Z       details
2024-03-11T06:27:55.1971273Z         donation site
2024-03-11T06:27:55.2078276Z           returns donation_site name
2024-03-11T06:27:55.2079346Z         product drive
2024-03-11T06:27:55.2182383Z           returns product_drive name
2024-03-11T06:27:55.2183268Z         manufacturer
2024-03-11T06:27:55.2296917Z           returns manufacturer name
2024-03-11T06:27:55.2297475Z         misc
2024-03-11T06:27:55.2378380Z           returns a truncated comment
2024-03-11T06:27:55.2379033Z       not from a drive
2024-03-11T06:27:55.2485052Z         returns source
2024-03-11T06:27:55.2485725Z       from a drive
2024-03-11T06:27:55.2486438Z         unknown participant
2024-03-11T06:27:55.2642058Z           returns drive display name
2024-03-11T06:27:55.2642928Z         participant known
2024-03-11T06:27:55.2659167Z           no contact name
2024-03-11T06:27:55.3093356Z             returns drive display name
2024-03-11T06:27:55.3093965Z           contact name present
2024-03-11T06:27:55.3490452Z             returns participant display name
2024-03-11T06:27:55.3491470Z     remove
2024-03-11T06:27:55.5178927Z       removes the item from the donation
2024-03-11T06:27:55.5787741Z       works with either an id or an object
2024-03-11T06:27:55.6468037Z       fails gracefully if the item doesn't exist
2024-03-11T06:27:55.6468933Z   SOURCES
2024-03-11T06:27:55.6506268Z     is a hash that is referenceable by key to avoid 'magic strings'
2024-03-11T06:27:55.6541782Z     the hash is immutable
2024-03-11T06:27:55.6573892Z     the hash values are immutable
2024-03-11T06:27:55.6576776Z 
2024-03-11T06:27:55.6576999Z Deadlinable
2024-03-11T06:27:55.6577789Z   validations
2024-03-11T06:27:55.6659753Z     is expected to validate that :deadline_day looks like an integer greater than or equal to 1 and less than or equal to 28 as long as it is not nil
2024-03-11T06:27:55.6732185Z     is expected to validate that :reminder_day looks like an integer greater than or equal to 1 and less than or equal to 28 as long as it is not nil
2024-03-11T06:27:55.6775489Z     validates that reminder day is not the same as deadline day
2024-03-11T06:27:55.6776305Z 
2024-03-11T06:27:55.6776541Z InventoryAggregate
2024-03-11T06:27:55.6777403Z   multiple events
2024-03-11T06:27:55.9481689Z     should handle timing correctly
2024-03-11T06:27:56.2130744Z     should handle changing storage location
2024-03-11T06:27:56.6195146Z     should process multiple events
2024-03-11T06:27:56.9432959Z     should handle intervening audits
2024-03-11T06:27:57.2136269Z     should ignore unusable snapshots
2024-03-11T06:27:57.2137088Z   individual events
2024-03-11T06:27:57.5194821Z     should process an audit event
2024-03-11T06:27:57.9161353Z     should process a kit deallocation event
2024-03-11T06:27:58.2245742Z     should process a distribution event
2024-03-11T06:27:58.5132929Z     should process a purchase event
2024-03-11T06:27:58.8284211Z     should process a kit allocation event
2024-03-11T06:27:59.1594630Z     should process a distribution destroyed event
2024-03-11T06:27:59.4640141Z     should process an adjustment event
2024-03-11T06:27:59.7701667Z     should process a donation destroyed event
2024-03-11T06:28:00.0505041Z     should process a snapshot event
2024-03-11T06:28:00.3532041Z     should process a transfer event
2024-03-11T06:28:00.7774286Z     should process a transfer destroy event
2024-03-11T06:28:01.1659853Z     should process a purchase destroyed event
2024-03-11T06:28:01.4695988Z     should process a donation event after a new storage location is created
2024-03-11T06:28:01.7561430Z     should process a donation event
2024-03-11T06:28:01.7562250Z   validation
2024-03-11T06:28:01.7562636Z     current event is incorrect
2024-03-11T06:28:01.9919326Z       should raise a bare error
2024-03-11T06:28:01.9920209Z     subsequent event is incorrect
2024-03-11T06:28:02.3015859Z       should add the event to the message
2024-03-11T06:28:02.5559157Z       should handle negative quantities
2024-03-11T06:28:02.5559786Z 
2024-03-11T06:28:02.5560047Z Role
2024-03-11T06:28:02.5602494Z   is expected to accepts_nested_attributes_for :users
2024-03-11T06:28:02.5603321Z   Validations
2024-03-11T06:28:02.5658236Z     is expected to validate that :resource_type is either ‹"Organization"› or ‹"Partner"›
2024-03-11T06:28:02.5659303Z   Associations
2024-03-11T06:28:02.5696123Z     is expected to belong to resource optional: true
2024-03-11T06:28:02.5754680Z     is expected to have and belong to many users
2024-03-11T06:28:02.5755491Z   versioning
2024-03-11T06:28:02.5790524Z     is expected to be versioned
2024-03-11T06:28:02.5791343Z 
2024-03-11T06:28:02.5791666Z AccountRequest
2024-03-11T06:28:02.5920951Z   #reject!
2024-03-11T06:28:02.6047220Z   #confirm!
2024-03-11T06:28:02.6048135Z   .get_by_identity_token
2024-03-11T06:28:02.6049292Z     when the identity_token provided does not match any AccountRequest
2024-03-11T06:28:02.6085901Z       should return nil
2024-03-11T06:28:02.6086779Z     when the identity_token corresponds to an existing AccountRequest
2024-03-11T06:28:02.6185646Z       should return the corresponding AccountRequest
2024-03-11T06:28:02.6186616Z   associations
2024-03-11T06:28:02.6249464Z     is expected to belong to ndbn_member class_name => NDBNMember optional: true
2024-03-11T06:28:02.6285217Z     is expected to have one organization class_name => Organization
2024-03-11T06:28:02.6285939Z   #identity_token
2024-03-11T06:28:02.6372303Z     should return a JWT token that contains the id of the account_request_id
2024-03-11T06:28:02.6373317Z     when the account_request is not persisted
2024-03-11T06:28:02.6462945Z       should raise an error
2024-03-11T06:28:02.6463517Z   validations
2024-03-11T06:28:02.6570323Z     is expected to allow :email to be ‹"katharina@hyatt-jaskolski.test"›
2024-03-11T06:28:02.6721184Z     is expected to validate that :email cannot be empty/falsy
2024-03-11T06:28:02.6859642Z     is expected to validate that :email is case-sensitively unique
2024-03-11T06:28:02.6966910Z     is expected not to allow :email to be ‹"not_email"›
2024-03-11T06:28:02.7095056Z     is expected to validate that :request_details cannot be empty/falsy
2024-03-11T06:28:02.7223103Z     is expected to validate that the length of :request_details is at least 50
2024-03-11T06:28:02.7372181Z     is expected to validate that :name cannot be empty/falsy
2024-03-11T06:28:02.7373380Z     when the email provided is already used by an existing user
2024-03-11T06:28:02.7590337Z       should not allow the email
2024-03-11T06:28:02.7591682Z     when the email provided is already used by an existing organization
2024-03-11T06:28:02.9390151Z       should not allow the email
2024-03-11T06:28:02.9391275Z   #processed?
2024-03-11T06:28:02.9391944Z     when the account request has no associated organization
2024-03-11T06:28:02.9482839Z       should return false
2024-03-11T06:28:02.9483832Z     when the account request has a associated organization
2024-03-11T06:28:03.1354421Z       should return true
2024-03-11T06:28:03.1355145Z   versioning
2024-03-11T06:28:03.1397368Z     is expected to be versioned
2024-03-11T06:28:03.1398096Z 
2024-03-11T06:28:03.1398470Z Kit
2024-03-11T06:28:03.3495317Z   deactivate and reactivate
2024-03-11T06:28:03.3496859Z   #can_deactivate?
2024-03-11T06:28:03.3498126Z     without inventory items
2024-03-11T06:28:03.5490392Z       should return true
2024-03-11T06:28:03.5490947Z     with inventory items
2024-03-11T06:28:03.9379602Z       should return false
2024-03-11T06:28:03.9380144Z   Value >
2024-03-11T06:28:03.9559154Z     converts dollars to cents
2024-03-11T06:28:03.9727288Z     converts cents to dollars
2024-03-11T06:28:03.9728193Z     .value_per_itemizable
2024-03-11T06:28:04.0113094Z       calculates values from associated items
2024-03-11T06:28:04.0113690Z   Validations >
2024-03-11T06:28:04.2324331Z     requires a unique name
2024-03-11T06:28:04.2512189Z     is valid as built
2024-03-11T06:28:04.2693415Z     requires a name
2024-03-11T06:28:04.2876262Z     can't have negative value
2024-03-11T06:28:04.3050839Z     must belong to an organization
2024-03-11T06:28:04.3226643Z     requires at least one item
2024-03-11T06:28:04.3228112Z   versioning
2024-03-11T06:28:04.3266807Z     is expected to be versioned
2024-03-11T06:28:04.3267652Z   Filtering >
2024-03-11T06:28:04.8898554Z     ->alphabetized retrieves items in alphabetical order
2024-03-11T06:28:04.8936552Z     can filter
2024-03-11T06:28:04.8937122Z     ->by_partner_key
2024-03-11T06:28:05.1254451Z       shows the kits for a particular item
2024-03-11T06:28:05.1255440Z 
2024-03-11T06:28:05.1255756Z KitCreateService
2024-03-11T06:28:05.1257051Z   #call
2024-03-11T06:28:05.3282563Z     should return an the instance
2024-03-11T06:28:05.3283285Z     when the parameters are valid
2024-03-11T06:28:05.5213930Z       should create a new Kit
2024-03-11T06:28:05.7190775Z       should create a new Item
2024-03-11T06:28:05.9131877Z       should create the new Item associated with the Kit
2024-03-11T06:28:05.9132567Z       but the ItemCreationService is unsuccesful
2024-03-11T06:28:06.1041266Z         should have an error that includes the error
2024-03-11T06:28:06.2984427Z         should not create the Kit
2024-03-11T06:28:06.4926139Z         should not create a Item
2024-03-11T06:28:06.4927068Z       but an unexpected error gets raised
2024-03-11T06:28:06.6814899Z         should have an error that includes the raised error
2024-03-11T06:28:06.8742900Z         should not create a Item
2024-03-11T06:28:07.0740185Z         should not create the Kit
2024-03-11T06:28:07.0741022Z     when the parameters provided are invalid
2024-03-11T06:28:07.0742135Z       because the kit_params is invalid for kit creation
2024-03-11T06:28:07.2544752Z         should have errors saying why the kit_params are invalid
2024-03-11T06:28:07.2545892Z       because the organization_id does not match any Organization
2024-03-11T06:28:07.2601733Z         should have an error on organization_id saying it does not match any Organization
2024-03-11T06:28:07.2602553Z 
2024-03-11T06:28:07.2602865Z Manufacturer
2024-03-11T06:28:07.2604014Z   Private Methods
2024-03-11T06:28:07.2604649Z     #exists_in_org?
2024-03-11T06:28:07.4432098Z       returns true if manufacturer exists in an organization
2024-03-11T06:28:07.4433323Z   Validations
2024-03-11T06:28:07.4522486Z     must have a unique name within organization
2024-03-11T06:28:07.6325850Z     must belong to an organization
2024-03-11T06:28:07.6326656Z   Methods
2024-03-11T06:28:07.6327357Z     volume
2024-03-11T06:28:07.9364677Z       retrieves the amount of product that has been donated by manufacturer from multiple donations
2024-03-11T06:28:08.0746999Z       ignores the amount of product from other manufacturers
2024-03-11T06:28:08.1392126Z       retrieves the amount of product that has been donated by manufacturer
2024-03-11T06:28:08.1392838Z   versioning
2024-03-11T06:28:08.1429623Z     is expected to be versioned
2024-03-11T06:28:08.1430806Z 
2024-03-11T06:28:08.1431184Z ApplicationController
2024-03-11T06:28:08.1432368Z   current_organization
2024-03-11T06:28:08.1433447Z     As a partner user
2024-03-11T06:28:08.1597656Z       should return nil
2024-03-11T06:28:08.1598379Z     As an org user
2024-03-11T06:28:08.5220149Z       should return the first org role
2024-03-11T06:28:08.5220961Z       with a changed current role
2024-03-11T06:28:08.8974228Z         should return the first org role
2024-03-11T06:28:08.8975347Z   current_partner
2024-03-11T06:28:08.8975968Z     As a partner user
2024-03-11T06:28:08.9535381Z       should return the first partner role
2024-03-11T06:28:08.9536282Z       with a changed current role
2024-03-11T06:28:09.0090618Z         should return the first partner role
2024-03-11T06:28:09.0091717Z     As an org user
2024-03-11T06:28:09.0236735Z       should return nil
2024-03-11T06:28:09.0237508Z   dashboard_path_from_current_role
2024-03-11T06:28:09.0238534Z     As a user without super admin status
2024-03-11T06:28:09.0436662Z       links to the general dashboard
2024-03-11T06:28:09.0437496Z     As a super admin
2024-03-11T06:28:09.0631865Z       links to the admin dashboard
2024-03-11T06:28:09.0632675Z 
2024-03-11T06:28:09.0633024Z DistributionItemizedBreakdownService
2024-03-11T06:28:09.0634347Z   #fetch
2024-03-11T06:28:09.4479861Z     should include the break down of items distributed with onhand data
2024-03-11T06:28:09.4480770Z   #fetch_csv
2024-03-11T06:28:09.8349653Z     should output the expected output but in CSV format
2024-03-11T06:28:09.8350310Z 
2024-03-11T06:28:09.8350912Z Reports::AdultIncontinenceReportService
2024-03-11T06:28:09.8351425Z   #report
2024-03-11T06:28:10.0204494Z     should report zero values
2024-03-11T06:28:10.0205502Z     with values
2024-03-11T06:28:10.6102854Z       should handle null distribution quantity
2024-03-11T06:28:11.2228421Z       should report normal values
2024-03-11T06:28:11.2228989Z 
2024-03-11T06:28:11.2229281Z DistributionCreateService
2024-03-11T06:28:11.2230460Z   call
2024-03-11T06:28:11.2984689Z     replaces a big distribution with a smaller one, resulting in increased stored quantities
2024-03-11T06:28:11.3706700Z     returns a successful object with Scheduled distribution
2024-03-11T06:28:11.3707906Z     when provided with a request ID
2024-03-11T06:28:11.4543204Z       changes the status of the request
2024-03-11T06:28:11.4544242Z       and the request already has a distribution associated with it
2024-03-11T06:28:11.5365026Z         should not be successful
2024-03-11T06:28:11.5366314Z     when there's multiple line items and one has insufficient inventory
2024-03-11T06:28:11.6028195Z       preserves the Insufficiency error and is unsuccessful
2024-03-11T06:28:11.6029403Z     partner has send reminders setting set to false
2024-03-11T06:28:11.6769665Z       does not send a PartnerMailer
2024-03-11T06:28:11.6770836Z     when there's not sufficient inventory
2024-03-11T06:28:11.7371025Z       preserves the Insufficiency error and is unsuccessful
2024-03-11T06:28:11.7371665Z     partner has send reminders setting set to true
2024-03-11T06:28:11.9093232Z       Sends a PartnerMailer
2024-03-11T06:28:11.9094082Z     partner is deactivated
2024-03-11T06:28:11.9889685Z       does not send an email
2024-03-11T06:28:11.9890845Z     when the line item quantity is not positive
2024-03-11T06:28:12.0415834Z       preserves the RecordInvalid error and is unsuccessful
2024-03-11T06:28:12.0416817Z     when it fails to save
2024-03-11T06:28:12.0945011Z       preserves the error and is unsuccessful
2024-03-11T06:28:12.0945725Z 
2024-03-11T06:28:12.0946473Z SyncNDBNMembers
2024-03-11T06:28:12.0947095Z   .sync
2024-03-11T06:28:12.0948146Z     when the HTTP request does not get a response of 200
2024-03-11T06:28:12.1154933Z       should raise an error regarding the response code
2024-03-11T06:28:12.1155878Z     when the HTTP request is successful
2024-03-11T06:28:12.1156674Z       when there are no exisiting NDBN Member records
2024-03-11T06:28:12.1298320Z         should create the NDBN Member records
2024-03-11T06:28:12.1299276Z       when the account name of a NDBN Member has changed
2024-03-11T06:28:12.1427566Z         should update the account name of the corresponding NDBN Member
2024-03-11T06:28:12.1428665Z       when no new NDBN Member has been added
2024-03-11T06:28:12.1553044Z         should not add any new NDBN Members
2024-03-11T06:28:12.1555232Z 
2024-03-11T06:28:12.1555750Z Distribution
2024-03-11T06:28:12.1557067Z   behaves like itemizable
2024-03-11T06:28:12.1557987Z     .line_items
2024-03-11T06:28:12.1559857Z       sorted
2024-03-11T06:28:12.2796054Z         displays the items, sorted by name
2024-03-11T06:28:12.2796759Z       quantities_by_name
2024-03-11T06:28:12.3644938Z         returns a hash of items with id, name, and quantity
2024-03-11T06:28:12.4656676Z         leaves out zero-quantitied items if requested
2024-03-11T06:28:12.4657290Z       total
2024-03-11T06:28:12.5579349Z         has an item total
2024-03-11T06:28:12.5580066Z       combine!
2024-03-11T06:28:12.6048496Z         combines multiple line_items with the same item_id into a single record
2024-03-11T06:28:12.6624391Z         incrementally combines line_items on donations that have already been created
2024-03-11T06:28:12.6625264Z     .to_a
2024-03-11T06:28:12.6625800Z       with Flipper flag :deprecate_to_a enabled
2024-03-11T06:28:12.6990598Z         raises an error
2024-03-11T06:28:12.6991438Z       with Flipper flag :deprecate_to_a disabled
2024-03-11T06:28:12.7340662Z         calls line_item_values
2024-03-11T06:28:12.7535952Z   Validations >
2024-03-11T06:28:12.7537633Z     ensures the associated line_items are invalid with a nil quantity
2024-03-11T06:28:12.7592699Z     ensures that the issued at is no earlier than 2000
2024-03-11T06:28:12.7645244Z     requires a storage location
2024-03-11T06:28:12.7697164Z     requires a partner
2024-03-11T06:28:12.7731018Z     ensures that any included items are found in the associated storage location
2024-03-11T06:28:12.7899109Z     ensures the associated line_items are invalid with a zero quantity
2024-03-11T06:28:12.8335660Z     ensures the associated line_items are valid
2024-03-11T06:28:12.8393089Z     must belong to an organization
2024-03-11T06:28:12.8393863Z     when delivery method is shipped
2024-03-11T06:28:12.8394666Z       shipping cost is negative
2024-03-11T06:28:12.8457919Z         will not allow to save distribution
2024-03-11T06:28:12.8458682Z       shipping cost is none negative
2024-03-11T06:28:12.8745799Z         allows to save distribution
2024-03-11T06:28:12.8746683Z     when delivery method is other then shipped
2024-03-11T06:28:12.9027435Z       allows to save distribution
2024-03-11T06:28:12.9028197Z   Methods >
2024-03-11T06:28:12.9031153Z     #distributed_at
2024-03-11T06:28:12.9304592Z       shows the hour and minutes if it has been provided
2024-03-11T06:28:12.9807839Z       displays explicit issued_at date
2024-03-11T06:28:12.9808303Z     #combine_duplicates
2024-03-11T06:28:13.0213388Z       condenses duplicate line_items if the item_ids match
2024-03-11T06:28:13.0213894Z     #future?
2024-03-11T06:28:13.0216311Z       when issued_at has not passed
2024-03-11T06:28:13.0486080Z         returns true
2024-03-11T06:28:13.0486676Z       when issued_at has passed
2024-03-11T06:28:13.0747655Z         returns false
2024-03-11T06:28:13.0748272Z     #copy_from_request
2024-03-11T06:28:13.0977352Z       copy over relevant request information into the distrubution
2024-03-11T06:28:13.0978166Z     #copy_line_items
2024-03-11T06:28:13.1385686Z       replicates line_items from a donation into a distribution
2024-03-11T06:28:13.1386487Z   CSV export >
2024-03-11T06:28:13.1386935Z     csv_export_attributes
2024-03-11T06:28:13.5485763Z       returns the set of attributes which define a row in case of distribution export
2024-03-11T06:28:13.5486553Z     for_csv_export >
2024-03-11T06:28:13.8809774Z       filters only to the given organization
2024-03-11T06:28:14.2262698Z       filters only to the given issue time range
2024-03-11T06:28:14.5637765Z       filters only to the given filter
2024-03-11T06:28:14.5638412Z   Scopes >
2024-03-11T06:28:14.5640202Z     this_week >
2024-03-11T06:28:14.5641132Z       When it's Tuesday (mid-week)
2024-03-11T06:28:14.6418217Z         includes distributions as early as Monday and as late as upcoming Sunday
2024-03-11T06:28:14.6419446Z       When it's Sunday (end of the week)
2024-03-11T06:28:14.6929121Z         doesn't include distributions past Sunday
2024-03-11T06:28:14.6930169Z     by_item_id >
2024-03-11T06:28:14.8300266Z       only returns distributions with given item id
2024-03-11T06:28:14.8300966Z     during >
2024-03-11T06:28:14.9070906Z       returns all distributions created between two dates
2024-03-11T06:28:14.9071610Z     by_partner >
2024-03-11T06:28:14.9562150Z       only returns distributions with given partner id
2024-03-11T06:28:14.9562881Z     by_location >
2024-03-11T06:28:15.0086449Z       only returns distributions with given location id
2024-03-11T06:28:15.0087183Z   Callbacks >
2024-03-11T06:28:15.0612160Z     initializes the issued_at field to default to midnight if it wasn't explicitly set
2024-03-11T06:28:15.0613205Z     #before_save
2024-03-11T06:28:15.0615035Z       #reset_shipping_cost
2024-03-11T06:28:15.0615602Z         when delivery_method is other then shipped
2024-03-11T06:28:15.0890517Z           distribution will be created successfully and the shipping_cost will be zero
2024-03-11T06:28:15.0891431Z   versioning
2024-03-11T06:28:15.0929624Z     is expected to be versioned
2024-03-11T06:28:15.0930436Z 
2024-03-11T06:28:15.0930737Z PartnerApprovalService
2024-03-11T06:28:15.0931682Z   #call
2024-03-11T06:28:15.0932712Z     when the arguments are correct
2024-03-11T06:28:15.1233075Z       should send an email notification to the partner
2024-03-11T06:28:15.1520021Z       should have no errors
2024-03-11T06:28:15.1832145Z       should change the partner status to approved
2024-03-11T06:28:15.1833004Z       but a unexpected error occured during the save
2024-03-11T06:28:15.1833665Z         for partner approval
2024-03-11T06:28:15.2091562Z           should not send an email notification to the partner
2024-03-11T06:28:15.2352937Z           should have an error with the raised error
2024-03-11T06:28:15.2628610Z           should not change the partner status to approved
2024-03-11T06:28:15.2629357Z     when the arguments are incorrect
2024-03-11T06:28:15.2630169Z       because the partner is not approvable
2024-03-11T06:28:15.2884254Z         should return the PartnerApprovalService object with an error
2024-03-11T06:28:15.2884907Z 
2024-03-11T06:28:15.2885065Z ItemsInQuery
2024-03-11T06:28:15.2885930Z   items_in
2024-03-11T06:28:15.5435854Z     returns a collection with the fields name, item_id, quantity
2024-03-11T06:28:15.8740505Z     does not count transfers going in the negative direction
2024-03-11T06:28:16.2000149Z     does not count negative adjustments towards in-flow
2024-03-11T06:28:16.4644872Z     includes donations, purchases, adjustments, transfers among sources
2024-03-11T06:28:16.4645608Z 
2024-03-11T06:28:16.4645763Z RequestMailer
2024-03-11T06:28:16.4646299Z   #request_cancel_partner_notification
2024-03-11T06:28:16.4815661Z     renders the body with correct text with partner information
2024-03-11T06:28:16.4953188Z     should be sent to the partner main email with the correct subject line
2024-03-11T06:28:16.4953902Z 
2024-03-11T06:28:16.4954148Z Partners::FamilyRequestCreateService
2024-03-11T06:28:16.4954895Z   #call
2024-03-11T06:28:16.4956086Z     when the arguments are correct
2024-03-11T06:28:16.4957002Z       with children
2024-03-11T06:28:16.6060396Z         should create the appropriate organization Request, Partners::ItemRequest and Partners::ChildItemRequests
2024-03-11T06:28:16.6061306Z       without children
2024-03-11T06:28:16.6361291Z         should send the correct request payload to the Partners::RequestCreateService and call it
2024-03-11T06:28:16.6362414Z     when the arguments are incorrect
2024-03-11T06:28:16.6363053Z       because a unrecognized item_id was provided
2024-03-11T06:28:16.6601099Z         should return the Partners::FamilyRequestCreateService object with an error
2024-03-11T06:28:16.6602235Z       because no family_requests_attributes or comments were defined
2024-03-11T06:28:16.6864600Z         should return the Partners::FamilyRequestCreateService object with an error
2024-03-11T06:28:16.6865572Z 
2024-03-11T06:28:16.6865884Z ProductDriveParticipant
2024-03-11T06:28:16.6867437Z   Validations
2024-03-11T06:28:16.6929355Z     is invalid unless it has either a phone number or an email
2024-03-11T06:28:16.6966227Z     is invalid without an organization
2024-03-11T06:28:16.6966864Z   behaves like provideable
2024-03-11T06:28:16.6967601Z     import_csv
2024-03-11T06:28:16.8728842Z       imports from a csv file
2024-03-11T06:28:16.8729279Z     Validations
2024-03-11T06:28:16.8771289Z       is invalid without an organization
2024-03-11T06:28:16.8828538Z       is invalid unless it has either a contact name or a business name
2024-03-11T06:28:16.8829319Z     geocode
2024-03-11T06:28:16.8887520Z       adds coordinates to the database
2024-03-11T06:28:16.8888372Z   Methods
2024-03-11T06:28:16.8889069Z     volume
2024-03-11T06:28:16.9556302Z       retrieves the amount of product that has been donated by participant
2024-03-11T06:28:16.9557224Z     volume_by_product_drive
2024-03-11T06:28:17.0936116Z       retrieves the amount of product that has been donated through specific product drive
2024-03-11T06:28:17.0936800Z     donation_source_view
2024-03-11T06:28:17.0937220Z       no contact name
2024-03-11T06:28:17.0999209Z         is expected to be nil
2024-03-11T06:28:17.0999647Z       contact name present
2024-03-11T06:28:17.1055120Z         is expected to eq "Contact Name (participant)"
2024-03-11T06:28:17.1055932Z   versioning
2024-03-11T06:28:17.1091130Z     is expected to be versioned
2024-03-11T06:28:17.1091689Z 
2024-03-11T06:28:17.1091889Z Exports::ExportReportCSVService
2024-03-11T06:28:17.1092875Z   .generate_csv_data
2024-03-11T06:28:17.1127006Z     creates a CSV string
2024-03-11T06:28:17.1158222Z     creates CSV data including headers
2024-03-11T06:28:17.1159533Z 
2024-03-11T06:28:17.1159754Z TransfersController
2024-03-11T06:28:17.1161040Z   While not signed in
2024-03-11T06:28:17.1295801Z     redirects the user to the sign-in page for CRUD actions
2024-03-11T06:28:17.1296275Z   While signed in
2024-03-11T06:28:17.1297057Z     GET #new
2024-03-11T06:28:17.1430318Z       returns http success
2024-03-11T06:28:17.1430887Z     GET #show
2024-03-11T06:28:17.1664681Z       returns http success
2024-03-11T06:28:17.1665241Z     POST #create
2024-03-11T06:28:17.2013079Z       redirects to #show when successful
2024-03-11T06:28:17.2238880Z       renders to #new when failing
2024-03-11T06:28:17.2239444Z     GET #index
2024-03-11T06:28:17.2376310Z       returns http success
2024-03-11T06:28:17.2376865Z       when filtering by date
2024-03-11T06:28:17.2377501Z         when date parameters are supplied
2024-03-11T06:28:17.2768034Z           only returns the correct obejects
2024-03-11T06:28:17.2768645Z         when date parameters are not supplied
2024-03-11T06:28:17.3157637Z           returns all objects
2024-03-11T06:28:17.3158834Z     Looking at a different organization
2024-03-11T06:28:17.4939683Z       redirects the user to the sign-in page for CRUD actions
2024-03-11T06:28:17.4940330Z 
2024-03-11T06:28:17.4940470Z Audit
2024-03-11T06:28:17.4942213Z   Scopes >
2024-03-11T06:28:17.5389157Z     `at_location` can filter out audits to a specific location
2024-03-11T06:28:17.5389811Z   versioning
2024-03-11T06:28:17.5425971Z     is expected to be versioned
2024-03-11T06:28:17.5426355Z   Methods >
2024-03-11T06:28:17.8826854Z     `self.finalized_since?` returns true iff some finalized audit occurred after itemizable created_at that shares item for location(s)
2024-03-11T06:28:18.1234382Z     `self.storage_locations_audited_for` returns only storage_locations that are used for one org
2024-03-11T06:28:18.1235448Z   behaves like itemizable
2024-03-11T06:28:18.1235928Z     .to_a
2024-03-11T06:28:18.1236386Z       with Flipper flag :deprecate_to_a disabled
2024-03-11T06:28:18.1732837Z         calls line_item_values
2024-03-11T06:28:18.1733548Z       with Flipper flag :deprecate_to_a enabled
2024-03-11T06:28:18.2242285Z         raises an error
2024-03-11T06:28:18.2242849Z     .line_items
2024-03-11T06:28:18.2243742Z       combine!
2024-03-11T06:28:18.2811980Z         combines multiple line_items with the same item_id into a single record
2024-03-11T06:28:18.3208225Z         incrementally combines line_items on donations that have already been created
2024-03-11T06:28:18.3208844Z       quantities_by_name
2024-03-11T06:28:18.4046527Z         returns a hash of items with id, name, and quantity
2024-03-11T06:28:18.4873959Z         leaves out zero-quantitied items if requested
2024-03-11T06:28:18.4874427Z       total
2024-03-11T06:28:18.5702791Z         has an item total
2024-03-11T06:28:18.5703298Z       sorted
2024-03-11T06:28:18.6852945Z         displays the items, sorted by name
2024-03-11T06:28:18.6853643Z   Validations >
2024-03-11T06:28:18.7431685Z     can have line items that has quantity as zero
2024-03-11T06:28:18.7990672Z     cannot have duplicate line items
2024-03-11T06:28:18.8559679Z     can not have line items that has quantity as negative integer
2024-03-11T06:28:18.9233629Z     can have line items that has quantity as a positive integer
2024-03-11T06:28:18.9539344Z     must belong to an organization
2024-03-11T06:28:18.9643757Z     must belong to an organization admin of its organization
2024-03-11T06:28:19.0208692Z     can not have line items that has quantity as a string that cannot be reduced to an integer
2024-03-11T06:28:19.0209674Z 
2024-03-11T06:28:19.0209836Z InventoryItem
2024-03-11T06:28:19.0250356Z   initializes the quantity to 0 if it was not specified
2024-03-11T06:28:19.0250953Z   versioning
2024-03-11T06:28:19.0285151Z     is expected to be versioned
2024-03-11T06:28:19.0285688Z   Validations >
2024-03-11T06:28:19.0331835Z     requires an item
2024-03-11T06:28:19.0380198Z     requires an inventory association
2024-03-11T06:28:19.0380773Z     quantity >
2024-03-11T06:28:19.0435785Z       is numerical
2024-03-11T06:28:19.0491841Z       is required
2024-03-11T06:28:19.0640758Z       is gte 0
2024-03-11T06:28:19.0697890Z       is less than the max integer
2024-03-11T06:28:19.0698481Z   Filtering >
2024-03-11T06:28:19.0699604Z     ->by_partner_key
2024-03-11T06:28:19.0831911Z       shows the Base Items by partner_key
2024-03-11T06:28:19.0832946Z 
2024-03-11T06:28:19.0833246Z View::Inventory
2024-03-11T06:28:19.0835355Z   #storage_locations_for_item
2024-03-11T06:28:19.1703351Z     should return all relevant IDs
2024-03-11T06:28:19.1703992Z   #all_items
2024-03-11T06:28:19.2578329Z     should return all items across storage locations
2024-03-11T06:28:19.2579099Z   #total_value_in_dollars
2024-03-11T06:28:19.3606018Z     should return total value across the given location
2024-03-11T06:28:19.3606752Z   #items_for_location
2024-03-11T06:28:19.4481832Z     should return the right values
2024-03-11T06:28:19.4482521Z     with include_omitted_items
2024-03-11T06:28:19.5357066Z       should add items not in the storage location
2024-03-11T06:28:19.5357876Z   #quantity_for
2024-03-11T06:28:19.5358262Z     with item id
2024-03-11T06:28:19.5359331Z       with storage location
2024-03-11T06:28:19.6221928Z         should return the quantity at that location
2024-03-11T06:28:19.6222669Z       with no storage location
2024-03-11T06:28:19.7095618Z         should return quantities across all storage locations
2024-03-11T06:28:19.7096444Z     with storage location but no item id
2024-03-11T06:28:19.7968693Z       should return all items at that location
2024-03-11T06:28:19.7969389Z   .items_for_location
2024-03-11T06:28:19.8821217Z     should return the right values
2024-03-11T06:28:19.8821895Z     with include_omitted_items
2024-03-11T06:28:19.9726477Z       should add items not in the storage location
2024-03-11T06:28:19.9727001Z   #storage_location_name
2024-03-11T06:28:20.0614529Z     should return the right name
2024-03-11T06:28:20.0615185Z   .total_inventory
2024-03-11T06:28:20.1505152Z     should return the total quantity
2024-03-11T06:28:20.1505725Z 
2024-03-11T06:28:20.1505908Z AccountRequestsController
2024-03-11T06:28:20.1506882Z   routing
2024-03-11T06:28:20.1550876Z     routes to #create
2024-03-11T06:28:20.1587604Z     routes to #new
2024-03-11T06:28:20.1588912Z 
2024-03-11T06:28:20.1589098Z UiHelper
2024-03-11T06:28:20.1591103Z   optional_data_text
2024-03-11T06:28:20.1592358Z     when the field provided is not blank
2024-03-11T06:28:20.1644726Z       should return the content
2024-03-11T06:28:20.1645362Z     when the field provided is blank
2024-03-11T06:28:20.1692309Z       should return the text Not-Provided in gray text
2024-03-11T06:28:20.1693027Z   input_delete_button
2024-03-11T06:28:20.1879152Z     should generate a button with correct attributes (FAILED - 1)
2024-03-11T06:28:20.1880001Z     when soft is false
2024-03-11T06:28:20.1933132Z       should generate a button with correct attributes
2024-03-11T06:28:20.1933839Z   input_add_button
2024-03-11T06:28:20.1982069Z     should generate a button with correct attributes
2024-03-11T06:28:20.1983010Z 
2024-03-11T06:28:20.1983357Z DeallocateKitInventoryService
2024-03-11T06:28:20.1984489Z   #error
2024-03-11T06:28:20.1985736Z     when the storage location organization doesn't match
2024-03-11T06:28:20.4215479Z       returns error
2024-03-11T06:28:20.4215936Z   #deallocate
2024-03-11T06:28:20.4216531Z     when inventory items are available
2024-03-11T06:28:20.4218481Z       when decrease_by is greater then kit's quantity in inventory_in
2024-03-11T06:28:20.7246811Z         raises error about inconsistent inventory in or out
2024-03-11T06:28:20.7247767Z       when kit_allocation not exist for inventory_in or inventory_out
2024-03-11T06:28:20.9930400Z         raises error about KitAllocation not found
2024-03-11T06:28:20.9931597Z       when  decrease_by is equal to kit's quantity in inventory_in
2024-03-11T06:28:21.3171025Z         increases the quantity of the loose items contained in the kit and decrease kit quantity, and delete inventory_in and inventory_out
2024-03-11T06:28:21.3172255Z       when decrease_by is less then kit's quantity in inventory_in
2024-03-11T06:28:21.6355988Z         will add items in inventory_out and remove kits for decrease_by from inventory_in
2024-03-11T06:28:21.6356664Z 
2024-03-11T06:28:21.6356869Z UsersRole
2024-03-11T06:28:21.6357783Z   #current_role_for
2024-03-11T06:28:21.6358941Z     for super admin
2024-03-11T06:28:21.6530499Z       should return super admin
2024-03-11T06:28:21.6531083Z     for org user
2024-03-11T06:28:21.6658899Z       should return org user
2024-03-11T06:28:21.6659458Z     for partner user
2024-03-11T06:28:21.6789995Z       should return partner user
2024-03-11T06:28:21.6790565Z     for org admin
2024-03-11T06:28:21.6988945Z       should return org admin
2024-03-11T06:28:21.6989457Z   versioning
2024-03-11T06:28:21.7026258Z     is expected to be versioned
2024-03-11T06:28:21.7027002Z 
2024-03-11T06:28:21.7027437Z Reports::PeriodSupplyReportService
2024-03-11T06:28:21.7028324Z   #report
2024-03-11T06:28:21.8883575Z     should report zero values
2024-03-11T06:28:21.8884584Z     with values
2024-03-11T06:28:22.5183902Z       should report normal values
2024-03-11T06:28:22.5184662Z 
2024-03-11T06:28:22.5185149Z Reports::OtherProductsReportService
2024-03-11T06:28:22.5185822Z   #report
2024-03-11T06:28:22.7059204Z     should report zero values
2024-03-11T06:28:23.3178000Z     should report normal values
2024-03-11T06:28:23.3178553Z 
2024-03-11T06:28:23.3178782Z BaseItem
2024-03-11T06:28:23.3180288Z   Validations >
2024-03-11T06:28:23.3231571Z     is invalid without a name
2024-03-11T06:28:23.3301459Z     is invalid without a unique name
2024-03-11T06:28:23.3369442Z     is invalid without a uniqueness key
2024-03-11T06:28:23.3414243Z     is invalid without a partner key
2024-03-11T06:28:23.3414777Z   Associations >
2024-03-11T06:28:23.3540128Z     keeps count of its associated items
2024-03-11T06:28:23.3540653Z   versioning
2024-03-11T06:28:23.3576603Z     is expected to be versioned
2024-03-11T06:28:23.3577162Z   Filtering >
2024-03-11T06:28:23.3577805Z     ->without_kit
2024-03-11T06:28:23.3628458Z       should not include the Kit BaseItem
2024-03-11T06:28:23.3629212Z     ->by_partner_key
2024-03-11T06:28:23.3677099Z       shows the Base Items by partner_key
2024-03-11T06:28:23.3677906Z 
2024-03-11T06:28:23.3678244Z Partners::Child
2024-03-11T06:28:23.3679714Z   versioning
2024-03-11T06:28:23.3713718Z     is expected to be versioned
2024-03-11T06:28:23.3714288Z   associations
2024-03-11T06:28:23.3750343Z     is expected to have many child_item_requests dependent => destroy
2024-03-11T06:28:23.3789799Z     is expected to belong to family required: true
2024-03-11T06:28:23.3790501Z   #display_name
2024-03-11T06:28:23.4071856Z     should return a child's first and last name
2024-03-11T06:28:23.4072388Z 
2024-03-11T06:28:23.4072566Z AdjustmentCreateService
2024-03-11T06:28:23.4073089Z   call
2024-03-11T06:28:23.4923638Z     increases stored inventory on a positive adjustment
2024-03-11T06:28:23.5815493Z     increases handles mixed adjustments to same appropriately (total is negative version)
2024-03-11T06:28:23.6437637Z     gives an error if we attempt to adjust inventory below 0
2024-03-11T06:28:23.7096913Z     does not allow inventory to be adjusted below 0
2024-03-11T06:28:23.7955964Z     handles adjustments to multiple items
2024-03-11T06:28:23.8747747Z     saves a new adjustment with line items relating to the current (simple case) positive adjustment
2024-03-11T06:28:23.9547748Z     saves a new adjustment with line items relating to the current (simple case) negative adjustment
2024-03-11T06:28:24.0525035Z     decreases stored inventory on a negative adjustment
2024-03-11T06:28:24.1449176Z     handles mixed adjustments to same item appropriately (total is positive version)
2024-03-11T06:28:24.1452043Z 
2024-03-11T06:28:24.1452246Z TransferDestroyService
2024-03-11T06:28:24.1453122Z   #call
2024-03-11T06:28:24.1454329Z     when an issue occurs in transaction
2024-03-11T06:28:24.1455483Z       because the transfer destroy raised an error
2024-03-11T06:28:24.3631517Z         should return a OpenStruct with the raised error
2024-03-11T06:28:24.3632422Z       because undoing the transfer inventory changes by decreasing the inventory of `to` failed
2024-03-11T06:28:24.5463660Z         should return a OpenStruct with the raised error
2024-03-11T06:28:24.5464872Z       because undoing the transfer inventory changes by increasing the inventory of `from` failed
2024-03-11T06:28:24.7379159Z         should return a OpenStruct with the raised error
2024-03-11T06:28:24.7380041Z       because the transfer_id does not match any Transfer
2024-03-11T06:28:24.9241279Z         should return a OpenStruct with an ActiveRecord::RecordNotFound error
2024-03-11T06:28:24.9242223Z     because transfer should not be deleted
2024-03-11T06:28:25.1040322Z       should return an OpenStruct with the raised error
2024-03-11T06:28:25.1040918Z     when there are no issues
2024-03-11T06:28:25.2975506Z       should return an OpenStruct with success? set to true
2024-03-11T06:28:25.5060018Z       should execute the expected methods
2024-03-11T06:28:25.5060949Z 
2024-03-11T06:28:25.5061230Z Transfer
2024-03-11T06:28:25.5063103Z   Validations >
2024-03-11T06:28:25.5333170Z     requires that each line item exists in the inventory
2024-03-11T06:28:25.5459207Z     must have different storage locations
2024-03-11T06:28:25.5585620Z     must have storage locations set
2024-03-11T06:28:25.7428475Z     must only use storage locations that belong to the organization (no hacks!)
2024-03-11T06:28:25.8084478Z     requires that the line items must have sufficient quantity in the inventory
2024-03-11T06:28:25.8164626Z     must belong to an organization
2024-03-11T06:28:25.8165175Z   versioning
2024-03-11T06:28:25.8201504Z     is expected to be versioned
2024-03-11T06:28:25.8202050Z   Scopes >
2024-03-11T06:28:25.8419116Z     `from_location` can filter out transfers from a specific location
2024-03-11T06:28:25.8638260Z     `to_location` can filter out transfers to a specific location
2024-03-11T06:28:25.8639126Z   behaves like itemizable
2024-03-11T06:28:25.8639945Z     .to_a
2024-03-11T06:28:25.8640985Z       with Flipper flag :deprecate_to_a enabled
2024-03-11T06:28:25.9011801Z         raises an error
2024-03-11T06:28:25.9012260Z       with Flipper flag :deprecate_to_a disabled
2024-03-11T06:28:25.9373986Z         calls line_item_values
2024-03-11T06:28:25.9374591Z     .line_items
2024-03-11T06:28:25.9375404Z       quantities_by_name
2024-03-11T06:28:25.9868341Z         returns a hash of items with id, name, and quantity
2024-03-11T06:28:26.0389469Z         leaves out zero-quantitied items if requested
2024-03-11T06:28:26.0389987Z       combine!
2024-03-11T06:28:26.0677459Z         incrementally combines line_items on donations that have already been created
2024-03-11T06:28:26.1168346Z         combines multiple line_items with the same item_id into a single record
2024-03-11T06:28:26.1169218Z       total
2024-03-11T06:28:26.1703717Z         has an item total
2024-03-11T06:28:26.1704314Z       sorted
2024-03-11T06:28:26.2450062Z         displays the items, sorted by name
2024-03-11T06:28:26.2450746Z   Methods >
2024-03-11T06:28:26.4458138Z     `self.storage_locations_transferred_to` and `..._from` constrains appropriately
2024-03-11T06:28:26.4458786Z 
2024-03-11T06:28:26.4458929Z Item
2024-03-11T06:28:26.4460537Z   after update
2024-03-11T06:28:26.4461152Z     when item does not have kit
2024-03-11T06:28:26.4596919Z       does not raise any errors
2024-03-11T06:28:26.4597489Z     when item has the kit
2024-03-11T06:28:26.6532585Z       updates kit name
2024-03-11T06:28:26.6533138Z   Filtering >
2024-03-11T06:28:26.6811115Z     ->active shows items that are still active
2024-03-11T06:28:26.6849485Z     can filter
2024-03-11T06:28:26.7055596Z     ->by_size returns all items with the same size, per their BaseItem parent
2024-03-11T06:28:26.7238745Z     ->alphabetized retrieves items in alphabetical order
2024-03-11T06:28:26.7239335Z     ->by_base_item
2024-03-11T06:28:26.9103971Z       can be chained to organization to constrain it to just 1 org's items
2024-03-11T06:28:26.9266238Z       shows the items for a particular base_item
2024-03-11T06:28:26.9267055Z     ->by_partner_key
2024-03-11T06:28:26.9420951Z       filters by partner key
2024-03-11T06:28:26.9421551Z     ->disposable
2024-03-11T06:28:26.9780444Z       returns records associated with disposable diapers
2024-03-11T06:28:26.9781226Z     ->cloth_diapers
2024-03-11T06:28:27.0086648Z       returns records associated with disposable diapers
2024-03-11T06:28:27.0087385Z   versioning
2024-03-11T06:28:27.0125110Z     is expected to be versioned
2024-03-11T06:28:27.0125649Z   Methods >
2024-03-11T06:28:27.0129203Z     barcodes_for
2024-03-11T06:28:27.0342070Z       retrieves all BarcodeItems associated with an item
2024-03-11T06:28:27.0342734Z     destroy
2024-03-11T06:28:27.2490898Z       deactivates the kit if it exists
2024-03-11T06:28:27.2728423Z       only hides an item that has history
2024-03-11T06:28:27.2912312Z       actually destroys an item that doesn't have history
2024-03-11T06:28:27.2913196Z     other?
2024-03-11T06:28:27.3042111Z       is true for items that are partner_key 'other'
2024-03-11T06:28:27.3042774Z     barcoded_items >
2024-03-11T06:28:27.3399552Z       returns a collection of items that have barcodes associated with them
2024-03-11T06:28:27.3400375Z     #reactivate!
2024-03-11T06:28:27.3400790Z       given an array of item ids
2024-03-11T06:28:27.3630720Z         sets the active trait to true for all of them
2024-03-11T06:28:27.3631406Z       given a single item id
2024-03-11T06:28:27.3769354Z         sets the active trait to true for that item
2024-03-11T06:28:27.3769882Z     has_history?
2024-03-11T06:28:27.4569865Z       identifies items that have been used previously
2024-03-11T06:28:27.4572024Z     storage_locations_containing
2024-03-11T06:28:27.4954857Z       retrieves all storage locations that contain an item
2024-03-11T06:28:27.4955613Z   Assocations >
2024-03-11T06:28:27.5009248Z     is expected to belong to item_category optional: true
2024-03-11T06:28:27.5010008Z   Validations >
2024-03-11T06:28:27.5158199Z     requires a unique name
2024-03-11T06:28:27.5213875Z     requires a Base Item base
2024-03-11T06:28:27.5336007Z     requires that items quantity are not a negative number
2024-03-11T06:28:27.5392881Z     must belong to an organization
2024-03-11T06:28:27.5393913Z   default_quantity
2024-03-11T06:28:27.5485066Z     should return the value of distribution_quantity if it is set
2024-03-11T06:28:27.5568255Z     should return the value of on_hand_minimum_quantity if it is set
2024-03-11T06:28:27.5649238Z     should return 0 if on_hand_minimum_quantity is not set
2024-03-11T06:28:27.5731440Z     should return 50 if column is not set
2024-03-11T06:28:27.5732119Z   distribution_quantity and package size
2024-03-11T06:28:27.5859093Z     have nil values if an empty string is passed
2024-03-11T06:28:27.5859779Z 
2024-03-11T06:28:27.5859983Z Partners::Family
2024-03-11T06:28:27.5862007Z   associations
2024-03-11T06:28:27.5906989Z     is expected to belong to partner required: true
2024-03-11T06:28:27.5943623Z     is expected to have many children dependent => destroy
2024-03-11T06:28:27.5977032Z     is expected to have many authorized_family_members dependent => destroy
2024-03-11T06:28:27.5977901Z   validations
2024-03-11T06:28:27.6062536Z     is expected to validate that :guardian_last_name cannot be empty/falsy
2024-03-11T06:28:27.6139462Z     is expected to validate that :guardian_first_name cannot be empty/falsy
2024-03-11T06:28:27.6216406Z     is expected to validate that :guardian_zip_code cannot be empty/falsy
2024-03-11T06:28:27.6217055Z   #search_non_archived
2024-03-11T06:28:27.7166960Z     should return all families if one is passed in
2024-03-11T06:28:27.8086035Z     should return non-archived families if zero is passed in
2024-03-11T06:28:27.8086585Z   #total_children_count
2024-03-11T06:28:27.8144251Z     should return the family's total children count
2024-03-11T06:28:27.8144938Z   #create_authorized
2024-03-11T06:28:27.8428942Z     should include authorized family members
2024-03-11T06:28:27.8429575Z   #guardian_display_name
2024-03-11T06:28:27.8485314Z     should return the guardian's first and last name
2024-03-11T06:28:27.8485989Z   versioning
2024-03-11T06:28:27.8522439Z     is expected to be versioned
2024-03-11T06:28:27.8523107Z 
2024-03-11T06:28:27.8523309Z HistoricalTrendsHelper
2024-03-11T06:28:27.8525187Z   #last_12_months
2024-03-11T06:28:27.8572836Z     returns the last 12 months starting from July when the current month is June
2024-03-11T06:28:27.8615170Z     returns the last 12 months starting from Feb when the current month is Jan
2024-03-11T06:28:27.8656736Z     returns the last 12 months starting from Jan when the current month is Dec
2024-03-11T06:28:27.8657797Z 
2024-03-11T06:28:27.8658062Z PartnerGroup
2024-03-11T06:28:27.8659319Z   Validations >
2024-03-11T06:28:27.8703696Z     must belong to an organization
2024-03-11T06:28:27.8947717Z     does not require a unique name between organizations
2024-03-11T06:28:27.9042392Z     requires a unique name within an organization
2024-03-11T06:28:27.9043285Z     deadline_day && reminder_day must be defined if send_reminders=true
2024-03-11T06:28:27.9095069Z       should not be valid
2024-03-11T06:28:27.9095733Z   associations
2024-03-11T06:28:27.9148371Z     is expected to belong to organization required: true
2024-03-11T06:28:27.9208384Z     is expected to have and belong to many item_categories
2024-03-11T06:28:27.9245547Z     is expected to have many partners
2024-03-11T06:28:27.9246113Z   DB constraints
2024-03-11T06:28:27.9246898Z     reminder_day <= 28
2024-03-11T06:28:27.9323348Z       raises error if unmet
2024-03-11T06:28:27.9323878Z     send_reminders IS NOT NULL
2024-03-11T06:28:27.9393724Z       raises error if unmet
2024-03-11T06:28:27.9394273Z     deadline_day <= 28
2024-03-11T06:28:27.9462619Z       raises error if unmet
2024-03-11T06:28:27.9463133Z   versioning
2024-03-11T06:28:27.9499684Z     is expected to be versioned
2024-03-11T06:28:27.9948814Z W, [2024-03-10T23:28:27.994536 #2397]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-11T06:28:27.9950695Z W, [2024-03-10T23:28:27.994606 #2397]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-11T06:28:27.9953004Z W, [2024-03-10T23:28:27.994633 #2397]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-11T06:28:27.9956045Z W, [2024-03-10T23:28:27.994671 #2397]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-11T06:28:27.9957205Z 
2024-03-11T06:28:27.9957806Z Pending: (Failures listed here are expected and do not affect your suite's status)
2024-03-11T06:28:27.9958378Z 
2024-03-11T06:28:27.9959341Z   1) Partners::RequestApprovalService#call when the partner is not yet waiting for approval and there is a profile error should return an error re agency_type
2024-03-11T06:28:27.9960274Z      # Temporarily skipped with xit
2024-03-11T06:28:27.9960728Z      # ./spec/services/partners/request_approval_service_spec.rb:28
2024-03-11T06:28:28.0070181Z 
2024-03-11T06:28:28.0070492Z Failures:
2024-03-11T06:28:28.0070742Z 
2024-03-11T06:28:28.0071233Z   1) UiHelper input_delete_button should generate a button with correct attributes
2024-03-11T06:28:28.0072959Z      Failure/Error: expect(unsafe_html).to match(/<a.* data-action="click->form-input#removeItem:prevent".*>/)
2024-03-11T06:28:28.0073792Z 
2024-03-11T06:28:28.0076096Z        expected "<a class=\"Class\" data-action=\"click->form-input#removeItem:prevent click->served-area#zeroShareVa...emove-soft=\"true\" data-remove-parent-selector=\"Container\" href=\"javascript:void(0)\">Label</a>" to match /<a.* data-action="click->form-input#removeItem:prevent".*>/
2024-03-11T06:28:28.0086257Z        Diff:
2024-03-11T06:28:28.0086719Z        @@ -1 +1 @@
2024-03-11T06:28:28.0087372Z        -/<a.* data-action="click->form-input#removeItem:prevent".*>/
2024-03-11T06:28:28.0090038Z        +"<a class=\"Class\" data-action=\"click->form-input#removeItem:prevent click->served-area#zeroShareValue click->area-served#calculateClientShareTotal\" data-remove-soft=\"true\" data-remove-parent-selector=\"Container\" href=\"javascript:void(0)\">Label</a>"
2024-03-11T06:28:28.0092581Z      # ./spec/helpers/ui_helper_spec.rb:50:in `block (3 levels) in <top (required)>'
2024-03-11T06:28:28.0102368Z 
2024-03-11T06:28:28.0102855Z Finished in 1 minute 1.15 seconds (files took 8.5 seconds to load)
2024-03-11T06:28:28.0103634Z 611 examples, 1 failure, 1 pending
2024-03-11T06:28:28.0104007Z 
2024-03-11T06:28:28.0107447Z Failed examples:
2024-03-11T06:28:28.0108018Z 
2024-03-11T06:28:28.0108996Z rspec ./spec/helpers/ui_helper_spec.rb:47 # UiHelper input_delete_button should generate a button with correct attributes
2024-03-11T06:28:28.0110003Z 
2024-03-11T06:28:28.0112465Z Randomized with seed 5221
2024-03-11T06:28:28.0113040Z 
2024-03-11T06:28:28.3314633Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-11T06:28:28.3316650Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3834 / 6450 LOC (59.44%) covered.
2024-03-11T06:28:28.3830683Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/models/account_request_spec.rb" "spec/models/audit_spec.rb" "spec/models/base_item_spec.rb" "spec/models/concerns/deadlinable_spec.rb" "spec/models/distribution_spec.rb" "spec/models/donation_spec.rb" "spec/models/inventory_item_spec.rb" "spec/models/item_spec.rb" "spec/models/kit_spec.rb" "spec/models/manufacturer_spec.rb" "spec/models/organization_spec.rb" "spec/models/partner_group_spec.rb" "spec/models/partners/authorized_family_member_spec.rb" "spec/models/partners/child_spec.rb" "spec/models/partners/family_spec.rb" "spec/models/partners/profile_spec.rb" "spec/models/product_drive_participant_spec.rb" "spec/models/purchase_spec.rb" "spec/models/request_item_spec.rb" "spec/models/role_spec.rb" "spec/models/transfer_spec.rb" "spec/models/users_role_spec.rb" "spec/models/view/inventory_spec.rb" "spec/controllers/application_controller_spec.rb" "spec/controllers/donation_sites_controller_spec.rb" "spec/controllers/help_controller_spec.rb" "spec/controllers/transfers_controller_spec.rb" "spec/events/inventory_aggregate_spec.rb" "spec/helpers/historical_trends_helper_spec.rb" "spec/helpers/ui_helper_spec.rb" "spec/jobs/notify_partner_job_spec.rb" "spec/jobs/reminder_deadline_job_spec.rb" "spec/mailers/account_request_mailer_spec.rb" "spec/mailers/distribution_mailer_spec.rb" "spec/mailers/partner_mailer_spec.rb" "spec/mailers/request_mailer_spec.rb" "spec/mailers/user_mailer_spec.rb" "spec/queries/items_in_query_spec.rb" "spec/queries/items_out_query_spec.rb" "spec/routing/account_requests_routing_spec.rb" "spec/services/adjustment_create_service_spec.rb" "spec/services/calendar_service_spec.rb" "spec/services/deallocate_kit_inventory_service_spec.rb" "spec/services/distribution_create_service_spec.rb" "spec/services/distribution_itemized_breakdown_service_spec.rb" "spec/services/distribution_update_service_spec.rb" "spec/services/donation_create_service_spec.rb" "spec/services/donation_itemized_breakdown_service_spec.rb" "spec/services/exports/export_donations_csv_service_spec.rb" "spec/services/exports/export_report_csv_service_spec.rb" "spec/services/historical_trend_service_spec.rb" "spec/services/item_create_service_spec.rb" "spec/services/kit_create_service_spec.rb" "spec/services/partner_approval_service_spec.rb" "spec/services/partner_fetch_requestable_items_service_spec.rb" "spec/services/partner_profile_update_service_spec.rb" "spec/services/partners/family_request_create_service_spec.rb" "spec/services/partners/request_approval_service_spec.rb" "spec/services/partners/update_family_spec.rb" "spec/services/remove_role_service_spec.rb" "spec/services/reports/adult_incontinence_report_service_spec.rb" "spec/services/reports/other_products_report_service_spec.rb" "spec/services/reports/period_supply_report_service_spec.rb" "spec/services/reports/warehouse_report_service_spec.rb" "spec/services/requests_total_items_service_spec.rb" "spec/services/sync_ndbn_members_spec.rb" "spec/services/transfer_destroy_service_spec.rb" failed
2024-03-11T06:28:28.7740008Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-11T06:28:28.7741635Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10737 LOC (0.35%) covered.
2024-03-11T06:28:28.8010546Z ##[error]Process completed with exit code 1.
