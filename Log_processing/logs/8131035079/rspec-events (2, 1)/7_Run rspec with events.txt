2024-03-03T14:58:21.5539618Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-03T14:58:21.5540632Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-03T14:58:21.5569048Z shell: /usr/bin/bash -e {0}
2024-03-03T14:58:21.5569411Z env:
2024-03-03T14:58:21.5569856Z   POSTGRES_HOST: localhost
2024-03-03T14:58:21.5570264Z   DATABASE_HOST: localhost
2024-03-03T14:58:21.5570668Z   PG_USERNAME: postgres
2024-03-03T14:58:21.5571086Z   PG_PASSWORD: password
2024-03-03T14:58:21.5571481Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-03T14:58:21.5571922Z   POSTGRES_PORT: 5432
2024-03-03T14:58:21.5572561Z   PGHOST: localhost
2024-03-03T14:58:21.5572926Z   PGUSER: postgres
2024-03-03T14:58:21.5573234Z   RAILS_ENV: test
2024-03-03T14:58:21.5573671Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-03T14:58:21.5574137Z   KNAPSACK_PRO_CI_NODE_TOTAL: 2
2024-03-03T14:58:21.5574543Z   KNAPSACK_PRO_CI_NODE_INDEX: 1
2024-03-03T14:58:21.5575066Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-03T14:58:21.5575623Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-03T14:58:21.5576353Z   KNAPSACK_PRO_TEST_FILE_EXCLUDE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-03T14:58:21.5577046Z   EVENTS_READ: true
2024-03-03T14:58:21.5577402Z ##[endgroup]
2024-03-03T14:58:27.1926285Z W, [2024-03-03T14:58:27.192302 #2247]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-03T14:58:27.1928312Z W, [2024-03-03T14:58:27.192352 #2247]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-03T14:58:27.1930882Z W, [2024-03-03T14:58:27.192374 #2247]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-03T14:58:27.1935981Z W, [2024-03-03T14:58:27.192409 #2247]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-03T14:58:30.0779203Z W, [2024-03-03T14:58:30.077594 #2247]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-03T14:58:30.0781404Z W, [2024-03-03T14:58:30.077636 #2247]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-03T14:58:30.0783212Z W, [2024-03-03T14:58:30.077657 #2247]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-03T14:58:30.0785931Z W, [2024-03-03T14:58:30.077702 #2247]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-03T14:58:30.0852170Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/models/adjustment_spec.rb" "spec/models/barcode_item_spec.rb" "spec/models/broadcast_announcement_spec.rb" "spec/models/county_spec.rb" "spec/models/donation_site_spec.rb" "spec/models/event_spec.rb" "spec/models/item_category_spec.rb" "spec/models/kit_allocation_spec.rb" "spec/models/line_item_spec.rb" "spec/models/ndbn_member_spec.rb" "spec/models/organization_stats_spec.rb" "spec/models/partner_spec.rb" "spec/models/partners/child_item_request_spec.rb" "spec/models/partners/family_spec.rb" "spec/models/partners/profile_spec.rb" "spec/models/product_drive_participant_spec.rb" "spec/models/purchase_spec.rb" "spec/models/request_item_spec.rb" "spec/models/role_spec.rb" "spec/models/transfer_spec.rb" "spec/models/users_role_spec.rb" "spec/models/view/inventory_spec.rb" "spec/controllers/application_controller_spec.rb" "spec/controllers/donation_sites_controller_spec.rb" "spec/controllers/help_controller_spec.rb" "spec/controllers/transfers_controller_spec.rb" "spec/events/inventory_aggregate_spec.rb" "spec/helpers/historical_trends_helper_spec.rb" "spec/helpers/ui_helper_spec.rb" "spec/jobs/notify_partner_job_spec.rb" "spec/jobs/reminder_deadline_job_spec.rb" "spec/mailers/account_request_mailer_spec.rb" "spec/mailers/distribution_mailer_spec.rb" "spec/mailers/partner_mailer_spec.rb" "spec/mailers/request_mailer_spec.rb" "spec/mailers/user_mailer_spec.rb" "spec/queries/items_in_query_spec.rb" "spec/queries/items_out_query_spec.rb" "spec/routing/account_requests_routing_spec.rb" "spec/services/adjustment_create_service_spec.rb" "spec/services/calendar_service_spec.rb" "spec/services/deallocate_kit_inventory_service_spec.rb" "spec/services/distribution_create_service_spec.rb" "spec/services/distribution_itemized_breakdown_service_spec.rb" "spec/services/distribution_update_service_spec.rb" "spec/services/donation_create_service_spec.rb" "spec/services/donation_itemized_breakdown_service_spec.rb" "spec/services/exports/export_donations_csv_service_spec.rb" "spec/services/exports/export_report_csv_service_spec.rb" "spec/services/historical_trend_service_spec.rb" "spec/services/item_create_service_spec.rb" "spec/services/kit_create_service_spec.rb" "spec/services/partner_approval_service_spec.rb" "spec/services/partner_fetch_requestable_items_service_spec.rb" "spec/services/partner_profile_update_service_spec.rb" "spec/services/partners/family_request_create_service_spec.rb" "spec/services/partners/request_approval_service_spec.rb" "spec/services/partners/update_family_spec.rb" "spec/services/remove_role_service_spec.rb" "spec/services/reports/adult_incontinence_report_service_spec.rb" "spec/services/reports/other_products_report_service_spec.rb" "spec/services/reports/period_supply_report_service_spec.rb" "spec/services/reports/warehouse_report_service_spec.rb" "spec/services/requests_total_items_service_spec.rb" "spec/services/sync_ndbn_members_spec.rb" "spec/services/transfer_destroy_service_spec.rb"
2024-03-03T14:58:38.6151331Z 
2024-03-03T14:58:38.6152231Z Randomized with seed 27726
2024-03-03T14:58:39.3906485Z 
2024-03-03T14:58:39.3907161Z ItemCategory
2024-03-03T14:58:39.3908082Z   versioning
2024-03-03T14:58:39.4120434Z     is expected to be versioned
2024-03-03T14:58:39.4121296Z   validations
2024-03-03T14:58:39.4225656Z     is expected to validate that :name cannot be empty/falsy
2024-03-03T14:58:39.4296153Z     is expected to validate that the length of :description is at most 250
2024-03-03T14:58:39.4370281Z     is expected to validate that :organization cannot be empty/falsy
2024-03-03T14:58:39.4565366Z     is expected to validate that :name is case-sensitively unique within the scope of :organization_id
2024-03-03T14:58:39.4566786Z   assocations
2024-03-03T14:58:39.4627118Z     is expected to have and belong to many partner_groups
2024-03-03T14:58:39.4673224Z     is expected to belong to organization required: true
2024-03-03T14:58:39.4707925Z     is expected to have many items
2024-03-03T14:58:39.4708888Z 
2024-03-03T14:58:39.4709273Z ProductDriveParticipant
2024-03-03T14:58:39.4710962Z   Methods
2024-03-03T14:58:39.4712251Z     donation_source_view
2024-03-03T14:58:39.4713388Z       no contact name
2024-03-03T14:58:39.4835804Z         is expected to be nil
2024-03-03T14:58:39.4836501Z       contact name present
2024-03-03T14:58:39.4901673Z         is expected to eq "Contact Name (participant)"
2024-03-03T14:58:39.4902709Z     volume_by_product_drive
2024-03-03T14:58:39.6804068Z       retrieves the amount of product that has been donated through specific product drive
2024-03-03T14:58:39.6805187Z     volume
2024-03-03T14:58:39.7485213Z       retrieves the amount of product that has been donated by participant
2024-03-03T14:58:39.7485937Z   versioning
2024-03-03T14:58:39.7521585Z     is expected to be versioned
2024-03-03T14:58:39.7522132Z   behaves like provideable
2024-03-03T14:58:39.7522945Z     Validations
2024-03-03T14:58:39.7565069Z       is invalid without an organization
2024-03-03T14:58:39.7621864Z       is invalid unless it has either a contact name or a business name
2024-03-03T14:58:39.7622902Z     import_csv
2024-03-03T14:58:39.9388611Z       imports from a csv file
2024-03-03T14:58:39.9389682Z     geocode
2024-03-03T14:58:39.9447301Z       adds coordinates to the database
2024-03-03T14:58:39.9448266Z   Validations
2024-03-03T14:58:39.9505578Z     is invalid unless it has either a phone number or an email
2024-03-03T14:58:39.9540726Z     is invalid without an organization
2024-03-03T14:58:39.9541245Z 
2024-03-03T14:58:39.9541584Z Exports::ExportReportCSVService
2024-03-03T14:58:39.9542622Z   .generate_csv_data
2024-03-03T14:58:39.9576661Z     creates CSV data including headers
2024-03-03T14:58:39.9609839Z     creates a CSV string
2024-03-03T14:58:39.9611083Z 
2024-03-03T14:58:39.9611454Z PartnerApprovalService
2024-03-03T14:58:39.9612365Z   #call
2024-03-03T14:58:39.9613540Z     when the arguments are correct
2024-03-03T14:58:39.9919139Z       should send an email notification to the partner
2024-03-03T14:58:40.0236229Z       should change the partner status to approved
2024-03-03T14:58:40.0525397Z       should have no errors
2024-03-03T14:58:40.0526792Z       but a unexpected error occured during the save
2024-03-03T14:58:40.0528517Z         for partner approval
2024-03-03T14:58:40.0784619Z           should not send an email notification to the partner
2024-03-03T14:58:40.1043084Z           should not change the partner status to approved
2024-03-03T14:58:40.1291038Z           should have an error with the raised error
2024-03-03T14:58:40.1291890Z     when the arguments are incorrect
2024-03-03T14:58:40.1292883Z       because the partner is not approvable
2024-03-03T14:58:40.1782649Z         should return the PartnerApprovalService object with an error
2024-03-03T14:58:40.1787694Z 
2024-03-03T14:58:40.1788182Z Partners::Profile
2024-03-03T14:58:40.1825948Z   must allow deleting served_areas
2024-03-03T14:58:40.1826839Z   social media info validation for profile
2024-03-03T14:58:40.1828513Z     no social media presence and the checkbox isn't checked
2024-03-03T14:58:40.1938990Z       should be valid if media_information is not needed
2024-03-03T14:58:40.1997724Z       should not be valid
2024-03-03T14:58:40.1998650Z     has social media presence and the checkbox is unchecked
2024-03-03T14:58:40.2069247Z       with just facebook it should be valid
2024-03-03T14:58:40.2141682Z       with just a website it should be valid
2024-03-03T14:58:40.2210832Z       with just twitter it should be valid
2024-03-03T14:58:40.2283377Z       with every social media option it should be valid
2024-03-03T14:58:40.2352799Z       with just instagram it should be valid
2024-03-03T14:58:40.2353735Z     no social media presence and the checkbox is checked
2024-03-03T14:58:40.2409417Z       should be valid
2024-03-03T14:58:40.2410006Z   associations
2024-03-03T14:58:40.2453644Z     is expected to have a has_one_attached called proof_of_form_990
2024-03-03T14:58:40.2492421Z     is expected to have a has_many_attached called documents
2024-03-03T14:58:40.2530811Z     is expected to have a has_one_attached called proof_of_partner_status
2024-03-03T14:58:40.2576266Z     is expected to have many served_areas
2024-03-03T14:58:40.2577127Z   versioning
2024-03-03T14:58:40.2612152Z     is expected to be versioned
2024-03-03T14:58:40.2613012Z   request settings validation for profile
2024-03-03T14:58:40.2613792Z     no settings are set to true
2024-03-03T14:58:40.2688226Z       should not be valid
2024-03-03T14:58:40.2689224Z     at least one request type is set to true
2024-03-03T14:58:40.2760657Z       should be valid when enable_child_based_requests is true
2024-03-03T14:58:40.2830013Z       should be valid when enable_quantity_based_requests is true
2024-03-03T14:58:40.2899717Z       should be valid when enable_individual_requests is true
2024-03-03T14:58:40.2900431Z   client share behaviour
2024-03-03T14:58:40.2903096Z     multiple
2024-03-03T14:58:40.3145796Z       is valid if client share sum is 100
2024-03-03T14:58:40.3294740Z       sums the client shares
2024-03-03T14:58:40.3295228Z     no served areas
2024-03-03T14:58:40.3342654Z       has 0 client share
2024-03-03T14:58:40.3343477Z 
2024-03-03T14:58:40.3343919Z ItemsOutQuery
2024-03-03T14:58:40.3344821Z   items_out_query
2024-03-03T14:58:40.4660120Z     includes distributions, adjustments, transfers among sources
2024-03-03T14:58:40.5799380Z     returns a collection with the fields name, item_id, quantity
2024-03-03T14:58:40.5800176Z 
2024-03-03T14:58:40.5800640Z CalendarService
2024-03-03T14:58:41.2403879Z   #time_zones
2024-03-03T14:58:41.2404689Z   .calendar
2024-03-03T14:58:41.3009955Z     should print the calendar correctly
2024-03-03T14:58:41.3010771Z 
2024-03-03T14:58:41.3011089Z View::Inventory
2024-03-03T14:58:41.3012788Z   #storage_locations_for_item
2024-03-03T14:58:41.3854633Z     should return all relevant IDs
2024-03-03T14:58:41.3855292Z   #all_items
2024-03-03T14:58:41.4686394Z     should return all items across storage locations
2024-03-03T14:58:41.4687287Z   #storage_location_name
2024-03-03T14:58:41.5538879Z     should return the right name
2024-03-03T14:58:41.5539659Z   #total_value_in_dollars
2024-03-03T14:58:41.6367743Z     should return total value across the given location
2024-03-03T14:58:41.6368907Z   #quantity_for
2024-03-03T14:58:41.6369465Z     with item id
2024-03-03T14:58:41.6370203Z       with no storage location
2024-03-03T14:58:41.7217884Z         should return quantities across all storage locations
2024-03-03T14:58:41.7218798Z       with storage location
2024-03-03T14:58:41.8040603Z         should return the quantity at that location
2024-03-03T14:58:41.8041538Z     with storage location but no item id
2024-03-03T14:58:41.8849693Z       should return all items at that location
2024-03-03T14:58:41.8850539Z   .items_for_location
2024-03-03T14:58:41.9659138Z     should return the right values
2024-03-03T14:58:41.9659989Z     with include_omitted_items
2024-03-03T14:58:42.0615132Z       should add items not in the storage location
2024-03-03T14:58:42.0616077Z   .total_inventory
2024-03-03T14:58:42.1493935Z     should return the total quantity
2024-03-03T14:58:42.1495478Z   #items_for_location
2024-03-03T14:58:42.2339198Z     should return the right values
2024-03-03T14:58:42.2340038Z     with include_omitted_items
2024-03-03T14:58:42.3190832Z       should add items not in the storage location
2024-03-03T14:58:42.3191394Z 
2024-03-03T14:58:42.3193714Z NotifyPartnerJob
2024-03-03T14:58:42.3194647Z   #perform
2024-03-03T14:58:42.3388738Z     is expected to call RequestsConfirmationMailer
2024-03-03T14:58:42.3446150Z     avoids exception when request doesn't exist
2024-03-03T14:58:42.3447193Z     when the request's partner is deactivated
2024-03-03T14:58:42.3719995Z       does not send the confirmation email
2024-03-03T14:58:42.3720852Z 
2024-03-03T14:58:42.3721244Z Partners::FamilyRequestCreateService
2024-03-03T14:58:42.3722200Z   #call
2024-03-03T14:58:42.3723379Z     when the arguments are incorrect
2024-03-03T14:58:42.3724555Z       because no family_requests_attributes were defined
2024-03-03T14:58:42.3953840Z         should return the Partners::FamilyRequestCreateService object with an error
2024-03-03T14:58:42.3955046Z       because a unrecognized item_id was provided
2024-03-03T14:58:42.4195158Z         should return the Partners::FamilyRequestCreateService object with an error
2024-03-03T14:58:42.4196124Z     when the arguments are correct
2024-03-03T14:58:42.4196726Z       without children
2024-03-03T14:58:42.4485920Z         should send the correct request payload to the Partners::RequestCreateService and call it
2024-03-03T14:58:42.4486977Z       with children
2024-03-03T14:58:42.5845039Z         should create the appropriate organization Request, Partners::ItemRequest and Partners::ChildItemRequests
2024-03-03T14:58:42.5846119Z 
2024-03-03T14:58:42.5846628Z SyncNDBNMembers
2024-03-03T14:58:42.5847224Z   .sync
2024-03-03T14:58:42.5847828Z     when the HTTP request is successful
2024-03-03T14:58:42.5848764Z       when no new NDBN Member has been added
2024-03-03T14:58:42.6189039Z         should not add any new NDBN Members
2024-03-03T14:58:42.6189973Z       when there are no exisiting NDBN Member records
2024-03-03T14:58:42.6284438Z         should create the NDBN Member records
2024-03-03T14:58:42.6285762Z       when the account name of a NDBN Member has changed
2024-03-03T14:58:42.6402984Z         should update the account name of the corresponding NDBN Member
2024-03-03T14:58:42.6404176Z     when the HTTP request does not get a response of 200
2024-03-03T14:58:42.6444126Z       should raise an error regarding the response code
2024-03-03T14:58:42.6445064Z 
2024-03-03T14:58:42.6445648Z PartnerProfileUpdateService
2024-03-03T14:58:42.6446508Z   #call
2024-03-03T14:58:42.6447891Z     when there are no pre-existing served areas
2024-03-03T14:58:42.6448900Z       and the new values are incorrect
2024-03-03T14:58:42.6659664Z 0
2024-03-03T14:58:42.6668328Z         does not store the new values and returns a failure
2024-03-03T14:58:42.6669430Z       and the new values are correct
2024-03-03T14:58:42.6889573Z         stores the new values and returns success
2024-03-03T14:58:42.6890449Z         and there are other errors in the profile
2024-03-03T14:58:42.7103097Z           does not store the new values and it returns a failure
2024-03-03T14:58:42.7104308Z     when served area client shares pre-exist
2024-03-03T14:58:42.7105321Z       and the new values are incorrect
2024-03-03T14:58:42.7391041Z         maintains the old values and returns failure
2024-03-03T14:58:42.7391610Z       and the new values are correct
2024-03-03T14:58:42.7392451Z         and there are errors on the profile
2024-03-03T14:58:42.7697448Z           maintains the old values and returns failure
2024-03-03T14:58:42.7698152Z         and there are no other errors
2024-03-03T14:58:42.8010751Z           replaces the old values and returns success
2024-03-03T14:58:42.8011846Z 
2024-03-03T14:58:42.8012163Z ReminderDeadlineJob
2024-03-03T14:58:42.8012962Z   #perform
2024-03-03T14:58:42.8242173Z     should queue up reminder deadline emails for all partners that should be reminded
2024-03-03T14:58:42.8242810Z 
2024-03-03T14:58:42.8243110Z DistributionUpdateService
2024-03-03T14:58:42.8243811Z   resend_notification?
2024-03-03T14:58:42.9190745Z     changes the delivery_method, resulting in resend_notification? = true
2024-03-03T14:58:43.0102528Z     changes the issue_date, resulting in resend_notification? = true
2024-03-03T14:58:43.1119663Z     changes any distribution content, resulting in resend_notification? = true
2024-03-03T14:58:43.1120423Z   call
2024-03-03T14:58:43.2156896Z     replaces a big distribution with a smaller one, resulting in increased stored quantities
2024-03-03T14:58:43.2157791Z 
2024-03-03T14:58:43.2157945Z ApplicationController
2024-03-03T14:58:43.2159164Z   current_partner
2024-03-03T14:58:43.2159941Z     As a partner user
2024-03-03T14:58:43.2705920Z       should return the first partner role
2024-03-03T14:58:43.2706454Z       with a changed current role
2024-03-03T14:58:43.3235164Z         should return the first partner role
2024-03-03T14:58:43.3235952Z     As an org user
2024-03-03T14:58:43.3369079Z       should return nil
2024-03-03T14:58:43.3369637Z   current_organization
2024-03-03T14:58:43.3370765Z     As an org user
2024-03-03T14:58:43.7088788Z       should return the first org role
2024-03-03T14:58:43.7089676Z       with a changed current role
2024-03-03T14:58:44.0811735Z         should return the first org role
2024-03-03T14:58:44.0812628Z     As a partner user
2024-03-03T14:58:44.0973619Z       should return nil
2024-03-03T14:58:44.0974770Z   dashboard_path_from_current_role
2024-03-03T14:58:44.0976121Z     As a super admin
2024-03-03T14:58:44.1192705Z       links to the admin dashboard
2024-03-03T14:58:44.1193517Z     As a user without super admin status
2024-03-03T14:58:44.1393749Z       links to the general dashboard
2024-03-03T14:58:44.1394461Z 
2024-03-03T14:58:44.1394846Z RequestMailer
2024-03-03T14:58:44.1395787Z   #request_cancel_partner_notification
2024-03-03T14:58:44.1580416Z     renders the body with correct text with partner information
2024-03-03T14:58:44.1713500Z     should be sent to the partner main email with the correct subject line
2024-03-03T14:58:44.1714713Z 
2024-03-03T14:58:44.1714984Z TransferDestroyService
2024-03-03T14:58:44.1715858Z   #call
2024-03-03T14:58:44.1716716Z     when an issue occurs in transaction
2024-03-03T14:58:44.1718320Z       because undoing the transfer inventory changes by increasing the inventory of `from` failed
2024-03-03T14:58:44.3574484Z         should return a OpenStruct with the raised error
2024-03-03T14:58:44.3575516Z       because the transfer destroy raised an error
2024-03-03T14:58:44.5477326Z         should return a OpenStruct with the raised error
2024-03-03T14:58:44.5478280Z       because the transfer_id does not match any Transfer
2024-03-03T14:58:44.7325560Z         should return a OpenStruct with an ActiveRecord::RecordNotFound error
2024-03-03T14:58:44.7326714Z       because undoing the transfer inventory changes by decreasing the inventory of `to` failed
2024-03-03T14:58:44.9083050Z         should return a OpenStruct with the raised error
2024-03-03T14:58:44.9083990Z     when there are no issues
2024-03-03T14:58:45.1151586Z       should execute the expected methods
2024-03-03T14:58:45.3190717Z       should return an OpenStruct with success? set to true
2024-03-03T14:58:45.3191444Z     because transfer should not be deleted
2024-03-03T14:58:45.5151161Z       should return an OpenStruct with the raised error
2024-03-03T14:58:45.5151831Z 
2024-03-03T14:58:45.5152153Z BroadcastAnnouncement
2024-03-03T14:58:45.5269161Z   should roughly check if link is valid
2024-03-03T14:58:45.5324578Z   should validate a good link
2024-03-03T14:58:45.5362661Z   is expected to belong to organization optional: true
2024-03-03T14:58:45.5416801Z   is expected to validate that :message cannot be empty/falsy
2024-03-03T14:58:45.5454509Z   is expected to belong to user required: true
2024-03-03T14:58:45.5507883Z   should validate a valid announcement
2024-03-03T14:58:45.5508992Z   filter_announcements
2024-03-03T14:58:45.5672882Z     sorts announcements from most recently created to last
2024-03-03T14:58:45.5802015Z     shouldn't include expired announcements
2024-03-03T14:58:45.5927516Z     should include only announcements from the passed organization
2024-03-03T14:58:45.5928438Z   versioning
2024-03-03T14:58:45.5962514Z     is expected to be versioned
2024-03-03T14:58:45.5963384Z   expired?
2024-03-03T14:58:45.6020736Z     should be true if the announcement is expired
2024-03-03T14:58:45.6075311Z     should be false if the announcement has not expired
2024-03-03T14:58:45.6075966Z 
2024-03-03T14:58:45.6076319Z Partners::RequestApprovalService
2024-03-03T14:58:45.6077095Z   #call
2024-03-03T14:58:45.6078577Z     when the partner is already awaiting approval
2024-03-03T14:58:45.6354487Z       should return an error saying it the partner is already requested approval
2024-03-03T14:58:45.6355374Z     when the partner is not yet waiting for approval and there is a profile error
2024-03-03T14:58:45.6597029Z       should return an error re social media
2024-03-03T14:58:45.6598393Z       should return an error re agency_type (PENDING: Temporarily skipped with xit)
2024-03-03T14:58:45.6599447Z     when the partner is not yet waiting for approval and there is no profile error
2024-03-03T14:58:45.6878814Z       does not have an error
2024-03-03T14:58:45.6879540Z     when the partner is not yet awaiting approval
2024-03-03T14:58:45.7158129Z       should set the status on the partner record to awaiting_review
2024-03-03T14:58:45.7433552Z       should send an email notification to the partner's organization
2024-03-03T14:58:45.7434637Z 
2024-03-03T14:58:45.7434975Z AdjustmentCreateService
2024-03-03T14:58:45.7435728Z   call
2024-03-03T14:58:45.8282692Z     saves a new adjustment with line items relating to the current (simple case) negative adjustment
2024-03-03T14:58:45.9148261Z     handles adjustments to multiple items
2024-03-03T14:58:46.0005632Z     increases stored inventory on a positive adjustment
2024-03-03T14:58:46.0875025Z     increases handles mixed adjustments to same appropriately (total is negative version)
2024-03-03T14:58:46.1766284Z     handles mixed adjustments to same item appropriately (total is positive version)
2024-03-03T14:58:46.2523366Z     saves a new adjustment with line items relating to the current (simple case) positive adjustment
2024-03-03T14:58:46.3367862Z     decreases stored inventory on a negative adjustment
2024-03-03T14:58:46.3996796Z     does not allow inventory to be adjusted below 0
2024-03-03T14:58:46.4499969Z     gives an error if we attempt to adjust inventory below 0
2024-03-03T14:58:46.4500674Z 
2024-03-03T14:58:46.4500957Z AccountRequestMailer
2024-03-03T14:58:46.4502109Z   #confirmation
2024-03-03T14:58:46.4803598Z     should be from no-reply@humanessentials.app
2024-03-03T14:58:46.4924028Z     should have the correct subject
2024-03-03T14:58:46.5044781Z     should be sent to the specified account_request email
2024-03-03T14:58:46.5046026Z     Text format
2024-03-03T14:58:46.5164773Z       should include the button to confirm the request
2024-03-03T14:58:46.5282289Z       should include the staging/demo account information
2024-03-03T14:58:46.5396761Z       should include the instruction video link
2024-03-03T14:58:46.5397883Z     when the account_request_id provided does not match any AccountRequest
2024-03-03T14:58:46.5443705Z       should trigger raise a ActiveRecord::RecordNotFound error
2024-03-03T14:58:46.5444674Z     HTML format
2024-03-03T14:58:46.5558273Z       should include the staging/demo account information
2024-03-03T14:58:46.5670982Z       should include the button to confirm the request
2024-03-03T14:58:46.5781440Z       should include the instruction video link
2024-03-03T14:58:46.5782259Z   #rejection
2024-03-03T14:58:46.5898164Z     should be sent to the correct email address
2024-03-03T14:58:46.6013234Z     should include the rejection reason
2024-03-03T14:58:46.6126405Z     should have the correct subject
2024-03-03T14:58:46.6127831Z     when the account_request_id provided does not match any AccountRequest
2024-03-03T14:58:46.6172116Z       should trigger raise a ActiveRecord::RecordNotFound error
2024-03-03T14:58:46.6172879Z   #approval_request
2024-03-03T14:58:46.6490564Z     should include details of the account request
2024-03-03T14:58:46.6613580Z     should be sent to the info@humanessentials.app email address
2024-03-03T14:58:46.6740796Z     should include the admin link to reject the organization
2024-03-03T14:58:46.6858734Z     should have the correct subject
2024-03-03T14:58:46.6988994Z     should include the admin link to create the new organization from the account request
2024-03-03T14:58:46.6991051Z     when the account_request_id provided does not match any AccountRequest
2024-03-03T14:58:46.7036823Z       should trigger raise a ActiveRecord::RecordNotFound error
2024-03-03T14:58:46.7037538Z 
2024-03-03T14:58:46.7037768Z DonationCreateService
2024-03-03T14:58:46.7038578Z   #call
2024-03-03T14:58:46.7258793Z     should create the donation
2024-03-03T14:58:46.7259937Z 
2024-03-03T14:58:46.7260261Z BarcodeItem
2024-03-03T14:58:46.7261392Z   Organization barcodes
2024-03-03T14:58:46.7447388Z     updates a counter in Item whenever it tracks a new barcode
2024-03-03T14:58:46.7448680Z     when searching for a barcode where there is a global and local with the same value
2024-03-03T14:58:46.7752657Z       favors the local barcode
2024-03-03T14:58:46.7753549Z     scopes >
2024-03-03T14:58:46.9585356Z       ->for_csv_export will accept an organization and provide all barcodes for that org
2024-03-03T14:58:46.9699889Z       ->by_value returns the barcode with that value
2024-03-03T14:58:46.9917656Z       #by_item_partner_key returns barcodes that match the partner key
2024-03-03T14:58:46.9918617Z     validations >
2024-03-03T14:58:47.0041592Z       allows multiple barcodes to point at the same item
2024-03-03T14:58:47.0281508Z       does not enforces value uniqueness across organizations
2024-03-03T14:58:47.0401421Z       does not enforce value uniqueness compared with the global scope
2024-03-03T14:58:47.0549039Z       is valid only with an organization
2024-03-03T14:58:47.0717286Z       enforces value uniqueness within the organization
2024-03-03T14:58:47.0718495Z       quantity >
2024-03-03T14:58:47.0822023Z         is an integer
2024-03-03T14:58:47.0916607Z         is not a negative number
2024-03-03T14:58:47.1009906Z         is not nil
2024-03-03T14:58:47.1010639Z       value >
2024-03-03T14:58:47.1107237Z         requires a value
2024-03-03T14:58:47.1107884Z       item >
2024-03-03T14:58:47.1202922Z         is invalid without an item associated with it
2024-03-03T14:58:47.1203814Z     to_h >
2024-03-03T14:58:47.1327582Z       emits a hash for a line_item
2024-03-03T14:58:47.1328480Z     filters >
2024-03-03T14:58:47.1532001Z       ->item_id shows only barcodes for a specific item_id
2024-03-03T14:58:47.1533027Z   Barcodes of BaseItems ('Global')
2024-03-03T14:58:47.1625487Z     updates a counter in BaseItem whenever it tracks a new barcode
2024-03-03T14:58:47.1626451Z     scopes >
2024-03-03T14:58:47.1627629Z       global
2024-03-03T14:58:47.1791022Z         includes all barcodes, for both base items and regular items
2024-03-03T14:58:47.1791985Z     filters >
2024-03-03T14:58:47.1947465Z       ->barcodeable_id shows only barcodes for a specific barcodeable_id
2024-03-03T14:58:47.2058758Z       ->by_value returns the barcode with that value
2024-03-03T14:58:47.2204841Z       #by_base_item_partner_key returns barcodes that match the partner key
2024-03-03T14:58:47.2206047Z     validations >
2024-03-03T14:58:47.2282131Z       allows multiple barcodes to point at the same base item
2024-03-03T14:58:47.2353962Z       is valid with or without an organization
2024-03-03T14:58:47.2438225Z       enforces uniqueness in the global scope
2024-03-03T14:58:47.2439033Z       item >
2024-03-03T14:58:47.2490551Z         is invalid without an item associated with it
2024-03-03T14:58:47.2491405Z       quantity >
2024-03-03T14:58:47.2541383Z         is not nil
2024-03-03T14:58:47.2589656Z         is not a negative number
2024-03-03T14:58:47.2637668Z         is an integer
2024-03-03T14:58:47.2638359Z       value >
2024-03-03T14:58:47.2686450Z         requires a value
2024-03-03T14:58:47.2687091Z   versioning
2024-03-03T14:58:47.2720717Z     is expected to be versioned
2024-03-03T14:58:47.2721207Z 
2024-03-03T14:58:47.2721484Z RequestItem
2024-03-03T14:58:47.2722521Z   Methods >
2024-03-03T14:58:47.2723015Z     #from_json
2024-03-03T14:58:47.5154041Z       has the correct quantity
2024-03-03T14:58:47.7675543Z       has the correct amount on hand
2024-03-03T14:58:48.0165211Z       has the correct name
2024-03-03T14:58:48.2670918Z       has the correct amount on hand for location
2024-03-03T14:58:48.2671554Z 
2024-03-03T14:58:48.2671829Z NDBNMember
2024-03-03T14:58:48.2673571Z   versioning
2024-03-03T14:58:48.2713365Z     is expected to be versioned
2024-03-03T14:58:48.2714042Z   #full_name
2024-03-03T14:58:48.2748198Z     should equal the id and the account name
2024-03-03T14:58:48.2748938Z   validations
2024-03-03T14:58:48.2818357Z     is expected to validate that :account_name cannot be empty/falsy
2024-03-03T14:58:48.2874993Z     is expected to validate that :ndbn_member_id cannot be empty/falsy
2024-03-03T14:58:48.2939321Z     is expected to validate that :ndbn_member_id is case-sensitively unique
2024-03-03T14:58:48.2941569Z 
2024-03-03T14:58:48.2941857Z OrganizationStats
2024-03-03T14:58:48.2943297Z   storage_locations_added method >
2024-03-03T14:58:48.2944296Z     current org is not nil >
2024-03-03T14:58:48.2979035Z       should return actual count of locations
2024-03-03T14:58:48.2979983Z     current org is nil >
2024-03-03T14:58:48.3013268Z       should return 0
2024-03-03T14:58:48.3013973Z   donation_sites_added method >
2024-03-03T14:58:48.3014648Z     current org is not nil >
2024-03-03T14:58:48.3049042Z       should return actual count of donation sites
2024-03-03T14:58:48.3049928Z     current org is nil >
2024-03-03T14:58:48.3081357Z       should return 0
2024-03-03T14:58:48.3083268Z   locations_with_inventory method >
2024-03-03T14:58:48.3084144Z     current org is not nil + no locations have items >
2024-03-03T14:58:48.3147252Z       should return an empty array
2024-03-03T14:58:48.3147964Z     current org is nil >
2024-03-03T14:58:48.3183308Z       should return an empty array
2024-03-03T14:58:48.3184237Z     current org is not nil + locations have items >
2024-03-03T14:58:48.3526198Z       should return storage location
2024-03-03T14:58:48.3527006Z   partners_added method >
2024-03-03T14:58:48.3527675Z     current org is nil >
2024-03-03T14:58:48.3564121Z       should return 0
2024-03-03T14:58:48.3564800Z     current org is not nil >
2024-03-03T14:58:48.3600858Z       should return actual count of partners
2024-03-03T14:58:48.3601444Z 
2024-03-03T14:58:48.3601891Z County
2024-03-03T14:58:48.3637993Z   is expected to have many served_areas
2024-03-03T14:58:48.3638799Z   versioning
2024-03-03T14:58:48.3674711Z     is expected to be versioned
2024-03-03T14:58:48.3675185Z 
2024-03-03T14:58:48.3675434Z Role
2024-03-03T14:58:48.3709585Z   is expected to accepts_nested_attributes_for :users
2024-03-03T14:58:48.3710892Z   versioning
2024-03-03T14:58:48.3745870Z     is expected to be versioned
2024-03-03T14:58:48.3746773Z   Associations
2024-03-03T14:58:48.3784825Z     is expected to belong to resource optional: true
2024-03-03T14:58:48.3842715Z     is expected to have and belong to many users
2024-03-03T14:58:48.3843699Z   Validations
2024-03-03T14:58:48.3894063Z     is expected to validate that :resource_type is either ‹"Organization"› or ‹"Partner"›
2024-03-03T14:58:48.3894962Z 
2024-03-03T14:58:48.3895219Z Purchase
2024-03-03T14:58:48.3895859Z   Validations >
2024-03-03T14:58:48.4130213Z     is not valid if period supplies is non-zero but no other category is
2024-03-03T14:58:48.4205780Z     must belong to an organization
2024-03-03T14:58:48.4289377Z     is valid if all categories add up to total
2024-03-03T14:58:48.4364017Z     requires an inventory (storage location)
2024-03-03T14:58:48.4547268Z     is invalid when the line items are invalid
2024-03-03T14:58:48.4631474Z     ensures that the issued at is no earlier than 2000
2024-03-03T14:58:48.4712064Z     is valid if categories have no values
2024-03-03T14:58:48.4885265Z     is not valid if any category is non-zero but does not add up to the total
2024-03-03T14:58:48.4969031Z     is not valid if categories do not add up
2024-03-03T14:58:48.4969835Z   Scopes >
2024-03-03T14:58:48.4970537Z     during >
2024-03-03T14:58:48.5213034Z       returns all purchases created between two dates
2024-03-03T14:58:48.5213950Z   versioning
2024-03-03T14:58:48.5247512Z     is expected to be versioned
2024-03-03T14:58:48.5248262Z   behaves like itemizable
2024-03-03T14:58:48.5248969Z     .to_a
2024-03-03T14:58:48.5250029Z       with Flipper flag :deprecate_to_a enabled
2024-03-03T14:58:48.5603165Z         raises an error
2024-03-03T14:58:48.5603953Z       with Flipper flag :deprecate_to_a disabled
2024-03-03T14:58:48.5950960Z         calls line_item_values
2024-03-03T14:58:48.5951698Z     .line_items
2024-03-03T14:58:48.5952890Z       quantities_by_name
2024-03-03T14:58:48.6347911Z         leaves out zero-quantitied items if requested
2024-03-03T14:58:48.6719766Z         returns a hash of items with id, name, and quantity
2024-03-03T14:58:48.6720832Z       combine!
2024-03-03T14:58:48.7190450Z         incrementally combines line_items on donations that have already been created
2024-03-03T14:58:48.7599066Z         combines multiple line_items with the same item_id into a single record
2024-03-03T14:58:48.7600398Z       total
2024-03-03T14:58:48.7981006Z         has an item total
2024-03-03T14:58:48.7981836Z       sorted
2024-03-03T14:58:48.8522211Z         displays the items, sorted by name
2024-03-03T14:58:48.8522972Z   Callbacks >
2024-03-03T14:58:48.8687560Z     inititalizes the issued_at field to default to midnight if it wasn't explicitly set
2024-03-03T14:58:48.8862344Z     automatically combines duplicate line_item records when they're created
2024-03-03T14:58:48.8863575Z   Methods >
2024-03-03T14:58:48.8864085Z     remove
2024-03-03T14:58:48.9541065Z       removes the item from the purchase
2024-03-03T14:58:49.0338773Z       fails gracefully if the item doesn't exist
2024-03-03T14:58:49.0339430Z     storage_view
2024-03-03T14:58:49.1002604Z       returns name of storage location
2024-03-03T14:58:49.1003752Z   Associations >
2024-03-03T14:58:49.1004377Z     items >
2024-03-03T14:58:49.1205225Z       has_many
2024-03-03T14:58:49.1207197Z 
2024-03-03T14:58:49.1207565Z Partner
2024-03-03T14:58:49.1209964Z   changing emails
2024-03-03T14:58:49.1541269Z     should not call the UserInviteService.invite when the partner is changing email to previously used email
2024-03-03T14:58:49.1795655Z     should call the UserInviteService.invite when the partner has status recertification_required and the email is changed
2024-03-03T14:58:49.2038133Z     should not call the UserInviteService.invite when the partner has status deactivated and the email is changed
2024-03-03T14:58:49.2292010Z     should call the UserInviteService.invite when the partner has status awaiting_review and the email is changed
2024-03-03T14:58:49.2536945Z     should not call the UserInviteService.invite when the partner has status uninvited and the email is changed
2024-03-03T14:58:49.2787331Z     should call the UserInviteService.invite when the partner has status approved and the email is changed
2024-03-03T14:58:49.3034177Z     should call the UserInviteService.invite when the partner has status invited and the email is changed
2024-03-03T14:58:49.3035401Z   Filters
2024-03-03T14:58:49.3035915Z     by_status
2024-03-03T14:58:49.3417882Z       yields deactivated partner when deactivated status provided
2024-03-03T14:58:49.3827858Z       yields partners with the provided status
2024-03-03T14:58:49.3829055Z   #profile
2024-03-03T14:58:49.4060139Z     should return the associated Partners::Profile record
2024-03-03T14:58:49.4061143Z   #csv_export_attributes
2024-03-03T14:58:49.4306067Z     includes contact person information from parnerbase
2024-03-03T14:58:49.4306942Z   versioning
2024-03-03T14:58:49.4342715Z     is expected to be versioned
2024-03-03T14:58:49.4343480Z   import_csv
2024-03-03T14:58:49.7479183Z     imports partners from a csv file with BOM encodings
2024-03-03T14:58:49.9590521Z     imports partners from a csv file and prevents multiple imports
2024-03-03T14:58:49.9591549Z   #deletable?
2024-03-03T14:58:49.9592310Z     when status is uninvited
2024-03-03T14:58:49.9592950Z       when it has a request
2024-03-03T14:58:49.9747865Z         should return false
2024-03-03T14:58:49.9748586Z       when it has no other associations
2024-03-03T14:58:49.9854937Z         should return true
2024-03-03T14:58:49.9855792Z       when it has a distribution
2024-03-03T14:58:50.0000128Z         should return false
2024-03-03T14:58:50.0000890Z       when it has a profile but no users
2024-03-03T14:58:50.0239229Z         should return true
2024-03-03T14:58:50.0240027Z       when it has a profile and users
2024-03-03T14:58:50.0679830Z         should return false
2024-03-03T14:58:50.0680826Z     when status is not uninvited
2024-03-03T14:58:50.0825254Z       should return false
2024-03-03T14:58:50.0825970Z   #deactivated?
2024-03-03T14:58:50.0827128Z     when the status is 'deactivated'
2024-03-03T14:58:50.0910878Z       should return true
2024-03-03T14:58:50.0911913Z     when the status is not 'deactivated'
2024-03-03T14:58:50.0980772Z       should return false
2024-03-03T14:58:50.0981482Z   #approvable?
2024-03-03T14:58:50.0985408Z     when status is awaiting_review
2024-03-03T14:58:50.1040184Z       should return true
2024-03-03T14:58:50.1040877Z     when status is invited
2024-03-03T14:58:50.1101962Z       should return true
2024-03-03T14:58:50.1102775Z     when status is not invited or awaiting_review
2024-03-03T14:58:50.1218278Z       should return false
2024-03-03T14:58:50.1219159Z   #quantity_year_to_date
2024-03-03T14:58:50.4234379Z     does not include quantities from distributions issued during the previous year
2024-03-03T14:58:50.5977189Z     includes all item quantities from distributions issued during the current year
2024-03-03T14:58:50.5978534Z   #impact_metrics
2024-03-03T14:58:50.5979144Z     when partner has related information
2024-03-03T14:58:50.6459998Z       is expected to eq {:children_served=>4, :families_served=>3, :family_zipcodes=>2, :family_zipcodes_list=>["45612-123", "45612-126"]}
2024-03-03T14:58:50.6461007Z     when partner don't have any related information
2024-03-03T14:58:50.6702917Z       is expected to eq {:children_served=>0, :families_served=>0, :family_zipcodes=>0, :family_zipcodes_list=>[]}
2024-03-03T14:58:50.6703868Z   ActiveStorage validation
2024-03-03T14:58:50.6815328Z     validates that attachments are pdf or docs
2024-03-03T14:58:50.6816328Z   callbacks
2024-03-03T14:58:50.7026895Z     properly downcases email
2024-03-03T14:58:50.7027579Z   Validations >
2024-03-03T14:58:50.7127691Z     validates the quota is a number but it is not required
2024-03-03T14:58:50.7369778Z     does not require a unique name between organizations
2024-03-03T14:58:50.7619384Z     still requires a unique email between organizations
2024-03-03T14:58:50.7909129Z     requires a unique email that is formatted correctly
2024-03-03T14:58:50.7959470Z     must belong to an organization
2024-03-03T14:58:50.8221611Z     requires a unique name within an organization
2024-03-03T14:58:50.8222382Z   associations
2024-03-03T14:58:50.8260630Z     is expected to have many requests
2024-03-03T14:58:50.8295203Z     is expected to have many families dependent => destroy
2024-03-03T14:58:50.8327408Z     is expected to have many requests
2024-03-03T14:58:50.8380884Z     is expected to belong to partner_group optional: true
2024-03-03T14:58:50.8414189Z     is expected to have many children through families
2024-03-03T14:58:50.8450496Z     is expected to have many item_categories through partner_group
2024-03-03T14:58:50.8485996Z     is expected to have many requestable_items through item_categories source => items
2024-03-03T14:58:50.8520116Z     is expected to have many distributions
2024-03-03T14:58:50.8574558Z     is expected to belong to organization required: true
2024-03-03T14:58:50.8609951Z     is expected to have many users dependent => destroy
2024-03-03T14:58:50.8610861Z     primary_user
2024-03-03T14:58:50.8892115Z       should return the first user ever created for a partner
2024-03-03T14:58:50.8892769Z 
2024-03-03T14:58:50.8892991Z PartnerMailer
2024-03-03T14:58:50.8894008Z   #application_approved
2024-03-03T14:58:50.9151391Z     should be sent to the partner main email with the correct subject line
2024-03-03T14:58:50.9408935Z     renders the body with text that indicates the result and a link to their dashboard
2024-03-03T14:58:50.9410104Z   #recertification_request
2024-03-03T14:58:50.9649764Z     should be sent to the partner main email with the correct subject line
2024-03-03T14:58:50.9884686Z     renders the body with text that indicates to recertify and link to where
2024-03-03T14:58:50.9886303Z 
2024-03-03T14:58:50.9886574Z UiHelper
2024-03-03T14:58:50.9887588Z   optional_data_text
2024-03-03T14:58:50.9888566Z     when the field provided is not blank
2024-03-03T14:58:50.9941269Z       should return the content
2024-03-03T14:58:50.9942655Z     when the field provided is blank
2024-03-03T14:58:50.9985768Z       should return the text Not-Provided in gray text
2024-03-03T14:58:50.9986433Z 
2024-03-03T14:58:50.9986949Z TransfersController
2024-03-03T14:58:50.9993235Z   While signed in
2024-03-03T14:58:50.9994377Z     GET #index
2024-03-03T14:58:51.0177570Z       returns http success
2024-03-03T14:58:51.0178419Z       when filtering by date
2024-03-03T14:58:51.0179088Z         when date parameters are not supplied
2024-03-03T14:58:51.0554054Z           returns all objects
2024-03-03T14:58:51.0554658Z         when date parameters are supplied
2024-03-03T14:58:51.0928322Z           only returns the correct obejects
2024-03-03T14:58:51.0929078Z     GET #new
2024-03-03T14:58:51.1054108Z       returns http success
2024-03-03T14:58:51.1055118Z     POST #create
2024-03-03T14:58:51.1519949Z       redirects to #show when successful
2024-03-03T14:58:51.1670062Z       renders to #new when failing
2024-03-03T14:58:51.1671378Z     GET #show
2024-03-03T14:58:51.1911693Z       returns http success
2024-03-03T14:58:51.1912473Z     Looking at a different organization
2024-03-03T14:58:51.3747083Z       redirects the user to the sign-in page for CRUD actions
2024-03-03T14:58:51.3748189Z   While not signed in
2024-03-03T14:58:51.3886674Z     redirects the user to the sign-in page for CRUD actions
2024-03-03T14:58:51.3887271Z 
2024-03-03T14:58:51.3887540Z HistoricalTrendService
2024-03-03T14:58:51.3888258Z   #series
2024-03-03T14:58:51.6652930Z     returns an array of items with their monthly data
2024-03-03T14:58:51.6653676Z 
2024-03-03T14:58:51.6653994Z Reports::PeriodSupplyReportService
2024-03-03T14:58:51.6654972Z   #report
2024-03-03T14:58:51.8502129Z     should report zero values
2024-03-03T14:58:52.4778276Z     with values
2024-03-03T14:58:52.4779017Z       should report normal values
2024-03-03T14:58:52.4779766Z 
2024-03-03T14:58:52.4779951Z User
2024-03-03T14:58:52.4780696Z   #send_reset_password_instructions
2024-03-03T14:58:52.4781804Z     user gets an email with instructions
2024-03-03T14:58:52.5694274Z       sends an email with instructions
2024-03-03T14:58:52.5694997Z   #role_added
2024-03-03T14:58:52.6048148Z     renders the body correctly
2024-03-03T14:58:52.6048767Z 
2024-03-03T14:58:52.6049052Z ItemCreateService
2024-03-03T14:58:52.6049879Z   #call
2024-03-03T14:58:52.6050887Z     when there are no issues
2024-03-03T14:58:52.7811606Z       should execute the expected methods
2024-03-03T14:58:52.9515418Z       should return an OpenStruct with success? set to true and the item
2024-03-03T14:58:52.9516513Z     when an issue occurs in transaction
2024-03-03T14:58:52.9517585Z       because a inventory item creation failed and raised an error
2024-03-03T14:58:53.1359468Z         should return a OpenStruct with the raised error
2024-03-03T14:58:53.1360310Z       because the organization_id does not match any Organization
2024-03-03T14:58:53.3118771Z         should return a OpenStruct with an ActiveRecord::RecordNotFound error
2024-03-03T14:58:53.3119938Z       because the item create raised an error
2024-03-03T14:58:53.4904555Z         should return a OpenStruct with the raised error
2024-03-03T14:58:53.4905587Z 
2024-03-03T14:58:53.4905995Z LineItem
2024-03-03T14:58:53.4907270Z   versioning
2024-03-03T14:58:53.4954436Z     is expected to be versioned
2024-03-03T14:58:53.4955277Z   package_count
2024-03-03T14:58:53.5153191Z     is nil if there is no package_size
2024-03-03T14:58:53.5333227Z     is equal to the quanity divided by the package_size
2024-03-03T14:58:53.5334261Z   Methods >
2024-03-03T14:58:53.5334812Z     #value_per_line_item
2024-03-03T14:58:53.5335514Z       item has no value
2024-03-03T14:58:53.5459699Z         is expected to eq 0
2024-03-03T14:58:53.5460397Z       item has value and quantity
2024-03-03T14:58:53.5628219Z         is expected to eq 25
2024-03-03T14:58:53.5628895Z     item packages
2024-03-03T14:58:53.5629567Z       #package_count
2024-03-03T14:58:53.5630807Z         has packages
2024-03-03T14:58:53.5800011Z           is expected to eq "1"
2024-03-03T14:58:53.5800711Z         does not have packages
2024-03-03T14:58:53.5923740Z           is expected to be falsy
2024-03-03T14:58:53.5924456Z       #has_packages
2024-03-03T14:58:53.5925368Z         item has package size
2024-03-03T14:58:53.6092608Z           is expected to be truthy
2024-03-03T14:58:53.6093645Z         item has no package size
2024-03-03T14:58:53.6216725Z           is expected to be falsy
2024-03-03T14:58:53.6218551Z   Scopes >
2024-03-03T14:58:53.6219438Z     ->active
2024-03-03T14:58:53.6537975Z       retrieves only those with active status
2024-03-03T14:58:53.6538759Z   Validations >
2024-03-03T14:58:53.6678115Z     requires a quantity
2024-03-03T14:58:53.6765671Z     requires an item
2024-03-03T14:58:53.7657938Z     the quantity must be a valid integer and cannot be 0
2024-03-03T14:58:53.7658828Z 
2024-03-03T14:58:53.7659099Z AccountRequestsController
2024-03-03T14:58:53.7660121Z   routing
2024-03-03T14:58:53.7702284Z     routes to #create
2024-03-03T14:58:53.7738013Z     routes to #new
2024-03-03T14:58:53.7738855Z 
2024-03-03T14:58:53.7739206Z HistoricalTrendsHelper
2024-03-03T14:58:53.7740665Z   #last_12_months
2024-03-03T14:58:53.7788051Z     returns the last 12 months starting from July when the current month is June
2024-03-03T14:58:53.7831093Z     returns the last 12 months starting from Feb when the current month is Jan
2024-03-03T14:58:53.7873499Z     returns the last 12 months starting from Jan when the current month is Dec
2024-03-03T14:58:53.7876171Z 
2024-03-03T14:58:53.7876553Z PartnerFetchRequestableItemsService
2024-03-03T14:58:53.7877248Z   #call
2024-03-03T14:58:53.7998530Z     raises an error indiciating the partner does not exist with invalid id
2024-03-03T14:58:53.7999647Z     org with any amount of items
2024-03-03T14:58:53.8000507Z       when the partner is in a partner group and has items
2024-03-03T14:58:54.0319644Z         should return only active and visible items from partner
2024-03-03T14:58:54.0320811Z       when the partner is in a partner group and has no items
2024-03-03T14:58:54.2283779Z         should return only active and visible items from partner
2024-03-03T14:58:54.2284834Z     when the partner is not in any partner group
2024-03-03T14:58:54.2566012Z       is expected to be nil
2024-03-03T14:58:54.2567306Z       when the organization has no items
2024-03-03T14:58:54.2861118Z         should return no items
2024-03-03T14:58:54.2862100Z       when the organization has items
2024-03-03T14:58:54.3336974Z         should return only active and visible items
2024-03-03T14:58:54.3643483Z         is expected to eq [#<Item id: 1553, name: "Item 1", category: nil, created_at: "2024-03-03 06:58:54.350270843 -0800", u... on_hand_recommended_quantity: nil, visible_to_partners: false, kit_id: nil, item_category_id: nil>]
2024-03-03T14:58:54.3645076Z 
2024-03-03T14:58:54.3645314Z Reports::OtherProductsReportService
2024-03-03T14:58:54.3645772Z   #report
2024-03-03T14:58:54.9815051Z     should report normal values
2024-03-03T14:58:55.1668698Z     should report zero values
2024-03-03T14:58:55.1669379Z 
2024-03-03T14:58:55.1669893Z UsersRole
2024-03-03T14:58:55.1671350Z   versioning
2024-03-03T14:58:55.1719727Z     is expected to be versioned
2024-03-03T14:58:55.1720598Z   #current_role_for
2024-03-03T14:58:55.1721240Z     for super admin
2024-03-03T14:58:55.1940636Z       should return super admin
2024-03-03T14:58:55.1942085Z     for org user
2024-03-03T14:58:55.2087315Z       should return org user
2024-03-03T14:58:55.2088025Z     for org admin
2024-03-03T14:58:55.2337373Z       should return org admin
2024-03-03T14:58:55.2338094Z     for partner user
2024-03-03T14:58:55.2519846Z       should return partner user
2024-03-03T14:58:55.2521589Z 
2024-03-03T14:58:55.2521932Z Transfer
2024-03-03T14:58:55.2523480Z   Validations >
2024-03-03T14:58:55.2666242Z     must have storage locations set
2024-03-03T14:58:55.2757361Z     must belong to an organization
2024-03-03T14:58:55.4610024Z     must only use storage locations that belong to the organization (no hacks!)
2024-03-03T14:58:55.4722426Z     must have different storage locations
2024-03-03T14:58:55.4956389Z     requires that each line item exists in the inventory
2024-03-03T14:58:55.5585011Z     requires that the line items must have sufficient quantity in the inventory
2024-03-03T14:58:55.5586161Z   Methods >
2024-03-03T14:58:55.7592975Z     `self.storage_locations_transferred_to` and `..._from` constrains appropriately
2024-03-03T14:58:55.7594109Z   Scopes >
2024-03-03T14:58:55.7813397Z     `to_location` can filter out transfers to a specific location
2024-03-03T14:58:55.8031768Z     `from_location` can filter out transfers from a specific location
2024-03-03T14:58:55.8032769Z   behaves like itemizable
2024-03-03T14:58:55.8033435Z     .line_items
2024-03-03T14:58:55.8034460Z       quantities_by_name
2024-03-03T14:58:55.8547988Z         leaves out zero-quantitied items if requested
2024-03-03T14:58:55.9018004Z         returns a hash of items with id, name, and quantity
2024-03-03T14:58:55.9019219Z       sorted
2024-03-03T14:58:55.9722322Z         displays the items, sorted by name
2024-03-03T14:58:55.9723213Z       combine!
2024-03-03T14:58:55.9995333Z         incrementally combines line_items on donations that have already been created
2024-03-03T14:58:56.0451434Z         combines multiple line_items with the same item_id into a single record
2024-03-03T14:58:56.0452691Z       total
2024-03-03T14:58:56.0935216Z         has an item total
2024-03-03T14:58:56.0935898Z     .to_a
2024-03-03T14:58:56.0937010Z       with Flipper flag :deprecate_to_a enabled
2024-03-03T14:58:56.1313978Z         raises an error
2024-03-03T14:58:56.1314888Z       with Flipper flag :deprecate_to_a disabled
2024-03-03T14:58:56.1658779Z         calls line_item_values
2024-03-03T14:58:56.1661469Z   versioning
2024-03-03T14:58:56.1696661Z     is expected to be versioned
2024-03-03T14:58:56.1697472Z 
2024-03-03T14:58:56.1697702Z DeallocateKitInventoryService
2024-03-03T14:58:56.1698882Z   #deallocate
2024-03-03T14:58:56.1699766Z     when inventory items are available
2024-03-03T14:58:56.1701257Z       when decrease_by is less then kit's quantity in inventory_in
2024-03-03T14:58:56.5135773Z         will add items in inventory_out and remove kits for decrease_by from inventory_in
2024-03-03T14:58:56.5136668Z       when kit_allocation not exist for inventory_in or inventory_out
2024-03-03T14:58:56.7871217Z         raises error about KitAllocation not found
2024-03-03T14:58:56.7872586Z       when decrease_by is greater then kit's quantity in inventory_in
2024-03-03T14:58:57.0876377Z         raises error about inconsistent inventory in or out
2024-03-03T14:58:57.0877661Z       when  decrease_by is equal to kit's quantity in inventory_in
2024-03-03T14:58:57.4251424Z         increases the quantity of the loose items contained in the kit and decrease kit quantity, and delete inventory_in and inventory_out
2024-03-03T14:58:57.4253290Z   #error
2024-03-03T14:58:57.4254248Z     when the storage location organization doesn't match
2024-03-03T14:58:57.6595878Z       returns error
2024-03-03T14:58:57.6596728Z 
2024-03-03T14:58:57.6596992Z DonationSitesController
2024-03-03T14:58:57.6598350Z   While signed in
2024-03-03T14:58:57.6600018Z     GET #new
2024-03-03T14:58:57.6786394Z       returns http success
2024-03-03T14:58:57.6786937Z     DELETE #destroy
2024-03-03T14:58:57.6849255Z       returns http success (FAILED - 1)
2024-03-03T14:58:57.6849793Z     GET #show
2024-03-03T14:58:57.6901717Z       returns http success (FAILED - 2)
2024-03-03T14:58:57.6902505Z     GET #index
2024-03-03T14:58:57.7015847Z       returns http success
2024-03-03T14:58:57.7016404Z     Looking at a different organization
2024-03-03T14:58:57.8781374Z       redirects the user to the sign-in page for CRUD actions (FAILED - 3)
2024-03-03T14:58:57.8782409Z     GET #edit
2024-03-03T14:58:57.8839829Z       returns http success (FAILED - 4)
2024-03-03T14:58:57.8840646Z     POST #import_csv
2024-03-03T14:58:57.8841325Z       behaves like csv import
2024-03-03T14:58:57.8842633Z         without a csv file
2024-03-03T14:58:57.8949946Z           presents a flash error message
2024-03-03T14:58:57.9050674Z           redirects to :index
2024-03-03T14:58:57.9051370Z         with a csv file
2024-03-03T14:58:57.9209803Z           presents a flash notice message (FAILED - 5)
2024-03-03T14:58:57.9336038Z           redirects to :index (FAILED - 6)
2024-03-03T14:58:57.9386921Z           invokes .import_csv
2024-03-03T14:58:57.9387652Z         csv file with wrong headers
2024-03-03T14:58:57.9494091Z           presents a flash error message
2024-03-03T14:58:57.9598045Z           redirects to :index
2024-03-03T14:58:57.9599139Z   While not signed in
2024-03-03T14:58:57.9656958Z     redirects the user to the sign-in page for CRUD actions (FAILED - 7)
2024-03-03T14:58:57.9657780Z 
2024-03-03T14:58:57.9658035Z Partners::Family
2024-03-03T14:58:57.9659476Z   #guardian_display_name
2024-03-03T14:58:57.9713281Z     should return the guardian's first and last name
2024-03-03T14:58:57.9714427Z   validations
2024-03-03T14:58:57.9797797Z     is expected to validate that :guardian_first_name cannot be empty/falsy
2024-03-03T14:58:57.9876428Z     is expected to validate that :guardian_last_name cannot be empty/falsy
2024-03-03T14:58:57.9954024Z     is expected to validate that :guardian_zip_code cannot be empty/falsy
2024-03-03T14:58:57.9955203Z   associations
2024-03-03T14:58:57.9989245Z     is expected to have many authorized_family_members dependent => destroy
2024-03-03T14:58:58.0025008Z     is expected to have many children dependent => destroy
2024-03-03T14:58:58.0267379Z     is expected to belong to partner required: true
2024-03-03T14:58:58.0268072Z   versioning
2024-03-03T14:58:58.0270026Z     is expected to be versioned
2024-03-03T14:58:58.0271965Z   #total_children_count
2024-03-03T14:58:58.0272797Z     should return the family's total children count
2024-03-03T14:58:58.0273453Z   #create_authorized
2024-03-03T14:58:58.0526145Z     should include authorized family members
2024-03-03T14:58:58.0526876Z   #search_non_archived
2024-03-03T14:58:58.1392407Z     should return all families if one is passed in
2024-03-03T14:58:58.2240202Z     should return non-archived families if zero is passed in
2024-03-03T14:58:58.2240839Z 
2024-03-03T14:58:58.2241059Z Partners::UpdateFamily
2024-03-03T14:58:58.2241866Z   #call
2024-03-03T14:58:58.2242650Z     when an error occurs during archiving
2024-03-03T14:58:58.2629141Z       does not archive the family or its children and adds error to the service
2024-03-03T14:58:58.2630037Z     when family has children
2024-03-03T14:58:58.3005098Z       archives the family and its children
2024-03-03T14:58:58.3005911Z 
2024-03-03T14:58:58.3006297Z Reports::AdultIncontinenceReportService
2024-03-03T14:58:58.3007311Z   #report
2024-03-03T14:58:58.4919390Z     should report zero values
2024-03-03T14:58:58.4920060Z     with values
2024-03-03T14:58:59.1037547Z       should report normal values
2024-03-03T14:58:59.7117582Z       should handle null distribution quantity
2024-03-03T14:58:59.7118205Z 
2024-03-03T14:58:59.7118429Z DonationItemizedBreakdownService
2024-03-03T14:58:59.7119053Z   #fetch
2024-03-03T14:59:00.1254527Z     return the list of items donated with distributed
2024-03-03T14:59:00.1255184Z 
2024-03-03T14:59:00.1255442Z Reports::WarehouseReportService
2024-03-03T14:59:00.1256148Z   #report
2024-03-03T14:59:00.4906803Z     should print unknown warehouse type
2024-03-03T14:59:01.0020701Z     should print normal values
2024-03-03T14:59:01.1840928Z     should print zero values
2024-03-03T14:59:01.3738532Z     should print unknown square footage
2024-03-03T14:59:01.3739192Z 
2024-03-03T14:59:01.3739418Z DonationSite
2024-03-03T14:59:01.3740799Z   geocode
2024-03-03T14:59:01.3792024Z     adds coordinates to the database
2024-03-03T14:59:01.3792526Z   Validations >
2024-03-03T14:59:01.3837303Z     is invalid without an address
2024-03-03T14:59:01.3881936Z     is invalid without a name
2024-03-03T14:59:01.3918823Z     must belong to an organization
2024-03-03T14:59:01.3919399Z   versioning
2024-03-03T14:59:01.3956000Z     is expected to be versioned
2024-03-03T14:59:01.3956485Z   import_csv
2024-03-03T14:59:01.5665836Z     imports storage locations from a csv file (FAILED - 8)
2024-03-03T14:59:01.5666456Z 
2024-03-03T14:59:01.5666624Z ItemsInQuery
2024-03-03T14:59:01.5667017Z   items_in
2024-03-03T14:59:01.8429682Z     returns a collection with the fields name, item_id, quantity
2024-03-03T14:59:02.1807654Z     does not count transfers going in the negative direction
2024-03-03T14:59:02.5320071Z     does not count negative adjustments towards in-flow
2024-03-03T14:59:02.8099881Z     includes donations, purchases, adjustments, transfers among sources
2024-03-03T14:59:02.8100735Z 
2024-03-03T14:59:02.8100994Z DistributionMailer
2024-03-03T14:59:02.8102269Z   #reminder_email
2024-03-03T14:59:02.8103547Z     with deliver_method: :delivery
2024-03-03T14:59:02.8766466Z       renders the body with 'delivery' specified
2024-03-03T14:59:02.8768905Z     HTML format
2024-03-03T14:59:02.9266014Z       renders the body with organization's email text
2024-03-03T14:59:02.9266764Z     with deliver_method: :pick_up
2024-03-03T14:59:02.9789213Z       renders the body with 'pick up' specified
2024-03-03T14:59:02.9789659Z     Text format
2024-03-03T14:59:03.0269054Z       renders the body with organization's email text
2024-03-03T14:59:03.0269803Z   #partner_mailer
2024-03-03T14:59:03.0809829Z     renders the body with organization's email text
2024-03-03T14:59:03.1307025Z     renders the body with distributions text
2024-03-03T14:59:03.1307762Z     with deliver_method: :delivery
2024-03-03T14:59:03.1812952Z       sends copy of email only to the partner
2024-03-03T14:59:03.2319451Z       renders the body with 'delivered' specified
2024-03-03T14:59:03.2320164Z     with deliver_method: :pick_up
2024-03-03T14:59:03.2817074Z       renders the body with 'picked up' specified
2024-03-03T14:59:03.2817854Z       when parners profile pick_up_email is present
2024-03-03T14:59:03.3339547Z         sends email to the primary contact and partner`s pickup person
2024-03-03T14:59:03.3340658Z         when pickup person happens to be the same as the primary contact
2024-03-03T14:59:03.3842785Z           does not send email twice
2024-03-03T14:59:03.3843520Z     with distribution changes
2024-03-03T14:59:03.4465737Z       renders the body with changes that happened in the distribution
2024-03-03T14:59:03.4466636Z 
2024-03-03T14:59:03.4466877Z DistributionCreateService
2024-03-03T14:59:03.4467408Z   call
2024-03-03T14:59:03.5209060Z     replaces a big distribution with a smaller one, resulting in increased stored quantities
2024-03-03T14:59:03.5935784Z     returns a successful object with Scheduled distribution
2024-03-03T14:59:03.5937251Z     when there's multiple line items and one has insufficient inventory
2024-03-03T14:59:03.6588448Z       preserves the Insufficiency error and is unsuccessful
2024-03-03T14:59:03.6589036Z     when it fails to save
2024-03-03T14:59:03.7098083Z       preserves the error and is unsuccessful
2024-03-03T14:59:03.7098874Z     partner has send reminders setting set to true
2024-03-03T14:59:03.8901554Z       Sends a PartnerMailer
2024-03-03T14:59:03.8902097Z     when the line item quantity is not positive
2024-03-03T14:59:03.9408710Z       preserves the RecordInvalid error and is unsuccessful
2024-03-03T14:59:03.9409365Z     when provided with a request ID
2024-03-03T14:59:04.0183294Z       changes the status of the request
2024-03-03T14:59:04.0184155Z       and the request already has a distribution associated with it
2024-03-03T14:59:04.0892350Z         should not be successful
2024-03-03T14:59:04.0892980Z     partner is deactivated
2024-03-03T14:59:04.1624602Z       does not send an email
2024-03-03T14:59:04.1625267Z     partner has send reminders setting set to false
2024-03-03T14:59:04.2320618Z       does not send a PartnerMailer
2024-03-03T14:59:04.2321498Z     when there's not sufficient inventory
2024-03-03T14:59:04.2884719Z       preserves the Insufficiency error and is unsuccessful
2024-03-03T14:59:04.2885594Z 
2024-03-03T14:59:04.2885878Z RequestsTotalItemsService
2024-03-03T14:59:04.2886888Z   #calculate
2024-03-03T14:59:04.2888606Z     when the request items is not blank
2024-03-03T14:59:04.3039200Z       return items with correct quantities calculated
2024-03-03T14:59:04.3167858Z       return the names of items correctly
2024-03-03T14:59:04.3168399Z     when provided requests is nil
2024-03-03T14:59:04.3202509Z       is expected to be blank
2024-03-03T14:59:04.3203232Z     when provided with requests that have no request items
2024-03-03T14:59:04.3275445Z       is expected to be blank
2024-03-03T14:59:04.3276016Z     when item name is nil
2024-03-03T14:59:04.3393409Z       return Unknown Item
2024-03-03T14:59:04.3394215Z 
2024-03-03T14:59:04.3394480Z Event
2024-03-03T14:59:04.3395462Z   #most_recent_snapshot
2024-03-03T14:59:04.5843972Z     should include the last usable snapshot
2024-03-03T14:59:04.8224578Z     should not include an unusable snapshot
2024-03-03T14:59:04.8225460Z 
2024-03-03T14:59:04.8225629Z KitCreateService
2024-03-03T14:59:04.8226632Z   #call
2024-03-03T14:59:05.0115759Z     should return an the instance
2024-03-03T14:59:05.0116493Z     when the parameters are valid
2024-03-03T14:59:05.2050944Z       should create the new Item associated with the Kit
2024-03-03T14:59:05.4186706Z       should create a new Kit
2024-03-03T14:59:05.6123369Z       should create a new Item
2024-03-03T14:59:05.6123915Z       but the ItemCreationService is unsuccesful
2024-03-03T14:59:05.8104716Z         should have an error that includes the error
2024-03-03T14:59:05.9998289Z         should not create the Kit
2024-03-03T14:59:06.1901183Z         should not create a Item
2024-03-03T14:59:06.1901919Z       but an unexpected error gets raised
2024-03-03T14:59:06.3834698Z         should not create the Kit
2024-03-03T14:59:06.5810696Z         should have an error that includes the raised error
2024-03-03T14:59:06.7676685Z         should not create a Item
2024-03-03T14:59:06.7677451Z     when the parameters provided are invalid
2024-03-03T14:59:06.7678562Z       because the organization_id does not match any Organization
2024-03-03T14:59:06.7727920Z         should have an error on organization_id saying it does not match any Organization
2024-03-03T14:59:06.7729122Z       because the kit_params is invalid for kit creation
2024-03-03T14:59:06.9423129Z         should have errors saying why the kit_params are invalid
2024-03-03T14:59:06.9424012Z 
2024-03-03T14:59:06.9424284Z RemoveRoleService
2024-03-03T14:59:06.9425198Z   #call
2024-03-03T14:59:06.9426182Z     when the role exists
2024-03-03T14:59:07.1411810Z       should remove the role
2024-03-03T14:59:07.3363563Z       should work with a type and ID instead of role ID
2024-03-03T14:59:07.5521129Z       should remove the admin role when removing user role
2024-03-03T14:59:07.5521887Z     when not enough information provided
2024-03-03T14:59:07.7373025Z       should raise an error
2024-03-03T14:59:07.7373673Z     when the role does not exist
2024-03-03T14:59:07.9230491Z       should raise an error
2024-03-03T14:59:07.9231337Z 
2024-03-03T14:59:07.9231617Z KitAllocation
2024-03-03T14:59:07.9235588Z   add some examples to (or delete) /home/runner/work/human-essentials/human-essentials/spec/models/kit_allocation_spec.rb (PENDING: Not yet implemented)
2024-03-03T14:59:07.9236989Z   versioning
2024-03-03T14:59:07.9274758Z     is expected to be versioned
2024-03-03T14:59:07.9275230Z 
2024-03-03T14:59:07.9275521Z DistributionItemizedBreakdownService
2024-03-03T14:59:07.9276619Z   #fetch_csv
2024-03-03T14:59:08.3004465Z     should output the expected output but in CSV format
2024-03-03T14:59:08.3005203Z   #fetch
2024-03-03T14:59:08.6834784Z     should include the break down of items distributed with onhand data
2024-03-03T14:59:08.6835557Z 
2024-03-03T14:59:08.6835790Z Partners::ChildItemRequest
2024-03-03T14:59:08.6836559Z   associations
2024-03-03T14:59:08.6884799Z     is expected to belong to item_request required: true
2024-03-03T14:59:08.6925487Z     is expected to belong to child required: true
2024-03-03T14:59:08.6962389Z     is expected to belong to authorized_family_member optional: true
2024-03-03T14:59:08.6963129Z   #ordered_item_diaperid
2024-03-03T14:59:08.7025959Z     should return the item_id on the item_request
2024-03-03T14:59:08.7026767Z   #quantity
2024-03-03T14:59:08.7066434Z     should return the quantity divided by the number of children
2024-03-03T14:59:08.7067436Z   versioning
2024-03-03T14:59:08.7100317Z     is expected to be versioned
2024-03-03T14:59:08.7102856Z 
2024-03-03T14:59:08.7103064Z InventoryAggregate
2024-03-03T14:59:08.7103964Z   individual events
2024-03-03T14:59:09.0126306Z     should process an adjustment event
2024-03-03T14:59:09.2902245Z     should process a snapshot event
2024-03-03T14:59:09.6051582Z     should process a purchase destroyed event
2024-03-03T14:59:09.9136723Z     should process an audit event
2024-03-03T14:59:10.2186474Z     should process a donation destroyed event
2024-03-03T14:59:10.5200382Z     should process a distribution event
2024-03-03T14:59:10.8304228Z     should process a transfer destroy event
2024-03-03T14:59:11.1170802Z     should process a donation event
2024-03-03T14:59:11.4451073Z     should process a distribution destroyed event
2024-03-03T14:59:11.7275744Z     should process a donation event after a new storage location is created
2024-03-03T14:59:12.0264771Z     should process a transfer event
2024-03-03T14:59:12.4043972Z     should process a kit deallocation event
2024-03-03T14:59:12.7153279Z     should process a kit allocation event
2024-03-03T14:59:13.1587163Z     should process a purchase event
2024-03-03T14:59:13.1591893Z   validation
2024-03-03T14:59:13.1592900Z     subsequent event is incorrect
2024-03-03T14:59:13.4860895Z       should add the event to the message
2024-03-03T14:59:13.4861624Z     current event is incorrect
2024-03-03T14:59:13.7219178Z       should raise a bare error
2024-03-03T14:59:13.7219831Z   multiple events
2024-03-03T14:59:13.9814319Z     should handle changing storage location
2024-03-03T14:59:14.3761076Z     should process multiple events
2024-03-03T14:59:14.6377048Z     should ignore unusable snapshots
2024-03-03T14:59:14.9531697Z     should handle intervening audits
2024-03-03T14:59:15.2170384Z     should handle timing correctly
2024-03-03T14:59:15.2172464Z 
2024-03-03T14:59:15.2172825Z Exports::ExportDonationsCSVService
2024-03-03T14:59:15.2173674Z   #generate_csv_data
2024-03-03T14:59:15.2465800Z     should match the expected content for the csv (FAILED - 9)
2024-03-03T14:59:15.2466556Z 
2024-03-03T14:59:15.2466756Z HelpController
2024-03-03T14:59:15.2467308Z   While signed in as a normal user >
2024-03-03T14:59:15.2468109Z     GET #show
2024-03-03T14:59:15.2537450Z       does not display help page when the user logs out
2024-03-03T14:59:15.2671151Z       returns http success
2024-03-03T14:59:15.2672547Z 
2024-03-03T14:59:15.2672777Z Adjustment
2024-03-03T14:59:15.2674040Z   versioning
2024-03-03T14:59:15.2710722Z     is expected to be versioned
2024-03-03T14:59:15.2711352Z   behaves like itemizable
2024-03-03T14:59:15.2711839Z     .line_items
2024-03-03T14:59:15.2713107Z       quantities_by_name
2024-03-03T14:59:15.3115192Z         leaves out zero-quantitied items if requested
2024-03-03T14:59:15.3513479Z         returns a hash of items with id, name, and quantity
2024-03-03T14:59:15.3514020Z       total
2024-03-03T14:59:15.3945169Z         has an item total
2024-03-03T14:59:15.3945782Z       combine!
2024-03-03T14:59:15.4548895Z         incrementally combines line_items on donations that have already been created
2024-03-03T14:59:15.4992289Z         combines multiple line_items with the same item_id into a single record
2024-03-03T14:59:15.4993097Z       sorted
2024-03-03T14:59:15.5569527Z         displays the items, sorted by name
2024-03-03T14:59:15.5570082Z     .to_a
2024-03-03T14:59:15.5571288Z       with Flipper flag :deprecate_to_a enabled
2024-03-03T14:59:15.5907635Z         raises an error
2024-03-03T14:59:15.5908269Z       with Flipper flag :deprecate_to_a disabled
2024-03-03T14:59:15.6240480Z         calls line_item_values
2024-03-03T14:59:15.6241402Z   Scopes >
2024-03-03T14:59:15.6403243Z     `by_user` can filter out adjustments to a specific user
2024-03-03T14:59:15.6561635Z     `at_location` can filter out adjustments to a specific location
2024-03-03T14:59:15.6562448Z   Methods >
2024-03-03T14:59:15.8698423Z     `self.storage_locations_adjusted_for` returns only storage_locations that are used in adjustments for one org
2024-03-03T14:59:15.8699914Z     split_difference
2024-03-03T14:59:15.9459112Z       returns two adjustment objects
2024-03-03T14:59:16.0219641Z       gracefully handles adjustments with only negative
2024-03-03T14:59:16.0976922Z       gracefully handles adjustments with only positive
2024-03-03T14:59:16.0977654Z   Validations >
2024-03-03T14:59:16.1062235Z     must belong to an organization
2024-03-03T14:59:16.1469280Z     allows you to remove all the inventory that exists in the storage location
2024-03-03T14:59:16.1633226Z     allows you to add inventory that doesn't yet exist in the storage location
2024-03-03T14:59:16.1634240Z   nested line item attributes
2024-03-03T14:59:16.2028429Z     accepts them
2024-03-03T14:59:16.2738687Z W, [2024-03-03T06:59:16.273661 #2300]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-03T14:59:16.2740474Z W, [2024-03-03T06:59:16.273701 #2300]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-03T14:59:16.2742927Z W, [2024-03-03T06:59:16.273719 #2300]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-03T14:59:16.2746117Z W, [2024-03-03T06:59:16.273751 #2300]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-03T14:59:16.2747305Z 
2024-03-03T14:59:16.2747982Z Pending: (Failures listed here are expected and do not affect your suite's status)
2024-03-03T14:59:16.2748722Z 
2024-03-03T14:59:16.2749819Z   1) Partners::RequestApprovalService#call when the partner is not yet waiting for approval and there is a profile error should return an error re agency_type
2024-03-03T14:59:16.2751489Z      # Temporarily skipped with xit
2024-03-03T14:59:16.2752251Z      # ./spec/services/partners/request_approval_service_spec.rb:28
2024-03-03T14:59:16.2752850Z 
2024-03-03T14:59:16.2754026Z   2) KitAllocation add some examples to (or delete) /home/runner/work/human-essentials/human-essentials/spec/models/kit_allocation_spec.rb
2024-03-03T14:59:16.2755352Z      # Not yet implemented
2024-03-03T14:59:16.2755888Z      # ./spec/models/kit_allocation_spec.rb:16
2024-03-03T14:59:16.3038149Z 
2024-03-03T14:59:16.3038393Z Failures:
2024-03-03T14:59:16.3038738Z 
2024-03-03T14:59:16.3039371Z   1) DonationSitesController While signed in DELETE #destroy returns http success
2024-03-03T14:59:16.3041352Z      Failure/Error: subject { delete :destroy, params: default_params.merge(id: create(:donation_site, organization: @organization)) }
2024-03-03T14:59:16.3042728Z 
2024-03-03T14:59:16.3042973Z      ActiveRecord::RecordInvalid:
2024-03-03T14:59:16.3044889Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-03T14:59:16.3047110Z      # ./spec/controllers/donation_sites_controller_spec.rb:45:in `block (4 levels) in <top (required)>'
2024-03-03T14:59:16.3048819Z      # ./spec/controllers/donation_sites_controller_spec.rb:47:in `block (4 levels) in <top (required)>'
2024-03-03T14:59:16.3049657Z 
2024-03-03T14:59:16.3050109Z   2) DonationSitesController While signed in GET #show returns http success
2024-03-03T14:59:16.3051574Z      Failure/Error: subject { get :show, params: default_params.merge(id: create(:donation_site, organization: @organization)) }
2024-03-03T14:59:16.3052589Z 
2024-03-03T14:59:16.3052783Z      ActiveRecord::RecordInvalid:
2024-03-03T14:59:16.3054269Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-03T14:59:16.3056057Z      # ./spec/controllers/donation_sites_controller_spec.rb:38:in `block (4 levels) in <top (required)>'
2024-03-03T14:59:16.3057518Z      # ./spec/controllers/donation_sites_controller_spec.rb:40:in `block (4 levels) in <top (required)>'
2024-03-03T14:59:16.3058658Z 
2024-03-03T14:59:16.3059731Z   3) DonationSitesController While signed in Looking at a different organization redirects the user to the sign-in page for CRUD actions
2024-03-03T14:59:16.3061378Z      Failure/Error: let(:object) { create(:donation_site, organization: create(:organization)) }
2024-03-03T14:59:16.3062134Z 
2024-03-03T14:59:16.3062326Z      ActiveRecord::RecordInvalid:
2024-03-03T14:59:16.3063780Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-03T14:59:16.3065918Z      Shared Example Group: "requiring authorization" called from ./spec/controllers/donation_sites_controller_spec.rb:53
2024-03-03T14:59:16.3067497Z      # ./spec/controllers/donation_sites_controller_spec.rb:52:in `block (4 levels) in <top (required)>'
2024-03-03T14:59:16.3068829Z      # ./spec/support/authorization_specs.rb:3:in `block (2 levels) in <top (required)>'
2024-03-03T14:59:16.3069558Z 
2024-03-03T14:59:16.3069996Z   4) DonationSitesController While signed in GET #edit returns http success
2024-03-03T14:59:16.3071632Z      Failure/Error: subject { get :edit, params: default_params.merge(id: create(:donation_site, organization: @organization)) }
2024-03-03T14:59:16.3072621Z 
2024-03-03T14:59:16.3072815Z      ActiveRecord::RecordInvalid:
2024-03-03T14:59:16.3074292Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-03T14:59:16.3076045Z      # ./spec/controllers/donation_sites_controller_spec.rb:26:in `block (4 levels) in <top (required)>'
2024-03-03T14:59:16.3077479Z      # ./spec/controllers/donation_sites_controller_spec.rb:28:in `block (4 levels) in <top (required)>'
2024-03-03T14:59:16.3078294Z 
2024-03-03T14:59:16.3079162Z   5) DonationSitesController While signed in POST #import_csv behaves like csv import with a csv file presents a flash notice message
2024-03-03T14:59:16.3080417Z      Failure/Error: loc.save!
2024-03-03T14:59:16.3080743Z 
2024-03-03T14:59:16.3080930Z      ActiveRecord::RecordInvalid:
2024-03-03T14:59:16.3083290Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-03T14:59:16.3085102Z      Shared Example Group: "csv import" called from ./spec/controllers/donation_sites_controller_spec.rb:34
2024-03-03T14:59:16.3086284Z      # ./app/models/donation_site.rb:43:in `block in import_csv'
2024-03-03T14:59:16.3087045Z      # ./app/models/donation_site.rb:40:in `each'
2024-03-03T14:59:16.3087732Z      # ./app/models/donation_site.rb:40:in `import_csv'
2024-03-03T14:59:16.3088553Z      # ./app/controllers/concerns/importable.rb:30:in `import_csv'
2024-03-03T14:59:16.3089646Z      # ./spec/support/csv_import_shared_example.rb:4:in `block (3 levels) in <top (required)>'
2024-03-03T14:59:16.3090914Z      # ./spec/support/csv_import_shared_example.rb:15:in `block (3 levels) in <top (required)>'
2024-03-03T14:59:16.3091666Z 
2024-03-03T14:59:16.3092452Z   6) DonationSitesController While signed in POST #import_csv behaves like csv import with a csv file redirects to :index
2024-03-03T14:59:16.3093624Z      Failure/Error: loc.save!
2024-03-03T14:59:16.3093952Z 
2024-03-03T14:59:16.3094138Z      ActiveRecord::RecordInvalid:
2024-03-03T14:59:16.3095617Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-03T14:59:16.3097417Z      Shared Example Group: "csv import" called from ./spec/controllers/donation_sites_controller_spec.rb:34
2024-03-03T14:59:16.3098624Z      # ./app/models/donation_site.rb:43:in `block in import_csv'
2024-03-03T14:59:16.3099458Z      # ./app/models/donation_site.rb:40:in `each'
2024-03-03T14:59:16.3100149Z      # ./app/models/donation_site.rb:40:in `import_csv'
2024-03-03T14:59:16.3100967Z      # ./app/controllers/concerns/importable.rb:30:in `import_csv'
2024-03-03T14:59:16.3102297Z      # ./spec/support/csv_import_shared_example.rb:4:in `block (3 levels) in <top (required)>'
2024-03-03T14:59:16.3103554Z      # ./spec/support/csv_import_shared_example.rb:11:in `block (3 levels) in <top (required)>'
2024-03-03T14:59:16.3104317Z 
2024-03-03T14:59:16.3105193Z   7) DonationSitesController While not signed in redirects the user to the sign-in page for CRUD actions
2024-03-03T14:59:16.3106414Z      Failure/Error: let(:object) { create(:donation_site) }
2024-03-03T14:59:16.3106933Z 
2024-03-03T14:59:16.3107132Z      ActiveRecord::RecordInvalid:
2024-03-03T14:59:16.3108849Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-03T14:59:16.3110949Z      Shared Example Group: "requiring authorization" called from ./spec/controllers/donation_sites_controller_spec.rb:60
2024-03-03T14:59:16.3112528Z      # ./spec/controllers/donation_sites_controller_spec.rb:58:in `block (3 levels) in <top (required)>'
2024-03-03T14:59:16.3113869Z      # ./spec/support/authorization_specs.rb:3:in `block (2 levels) in <top (required)>'
2024-03-03T14:59:16.3114588Z 
2024-03-03T14:59:16.3114994Z   8) DonationSite import_csv imports storage locations from a csv file
2024-03-03T14:59:16.3115781Z      Failure/Error: loc.save!
2024-03-03T14:59:16.3116110Z 
2024-03-03T14:59:16.3116295Z      ActiveRecord::RecordInvalid:
2024-03-03T14:59:16.3117773Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-03T14:59:16.3119253Z      # ./app/models/donation_site.rb:43:in `block in import_csv'
2024-03-03T14:59:16.3120049Z      # ./app/models/donation_site.rb:40:in `import_csv'
2024-03-03T14:59:16.3120996Z      # ./spec/models/donation_site_spec.rb:37:in `block (3 levels) in <top (required)>'
2024-03-03T14:59:16.3121736Z 
2024-03-03T14:59:16.3122390Z   9) Exports::ExportDonationsCSVService#generate_csv_data should match the expected content for the csv
2024-03-03T14:59:16.3123417Z      Failure/Error:
2024-03-03T14:59:16.3123831Z        donation_site: create(
2024-03-03T14:59:16.3124382Z          :donation_site, name: "Space Needle #{i}",
2024-03-03T14:59:16.3124977Z        ),
2024-03-03T14:59:16.3125185Z 
2024-03-03T14:59:16.3125378Z      ActiveRecord::RecordInvalid:
2024-03-03T14:59:16.3126857Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-03T14:59:16.3128680Z      # ./spec/services/exports/export_donations_csv_service_spec.rb:29:in `block (4 levels) in <top (required)>'
2024-03-03T14:59:16.3130018Z      # ./spec/services/exports/export_donations_csv_service_spec.rb:26:in `each'
2024-03-03T14:59:16.3131212Z      # ./spec/services/exports/export_donations_csv_service_spec.rb:26:in `each_with_index'
2024-03-03T14:59:16.3132409Z      # ./spec/services/exports/export_donations_csv_service_spec.rb:26:in `each'
2024-03-03T14:59:16.3133518Z      # ./spec/services/exports/export_donations_csv_service_spec.rb:26:in `map'
2024-03-03T14:59:16.3134851Z      # ./spec/services/exports/export_donations_csv_service_spec.rb:26:in `block (3 levels) in <top (required)>'
2024-03-03T14:59:16.3136403Z      # ./spec/services/exports/export_donations_csv_service_spec.rb:4:in `block (3 levels) in <top (required)>'
2024-03-03T14:59:16.3137948Z      # ./spec/services/exports/export_donations_csv_service_spec.rb:3:in `block (3 levels) in <top (required)>'
2024-03-03T14:59:16.3139506Z      # ./spec/services/exports/export_donations_csv_service_spec.rb:77:in `block (3 levels) in <top (required)>'
2024-03-03T14:59:16.3140417Z 
2024-03-03T14:59:16.3140730Z Finished in 37.66 seconds (files took 8.3 seconds to load)
2024-03-03T14:59:16.3141451Z 507 examples, 9 failures, 2 pending
2024-03-03T14:59:16.3141827Z 
2024-03-03T14:59:16.3141990Z Failed examples:
2024-03-03T14:59:16.3142236Z 
2024-03-03T14:59:16.3143183Z rspec ./spec/controllers/donation_sites_controller_spec.rb:46 # DonationSitesController While signed in DELETE #destroy returns http success
2024-03-03T14:59:16.3145446Z rspec ./spec/controllers/donation_sites_controller_spec.rb:39 # DonationSitesController While signed in GET #show returns http success
2024-03-03T14:59:16.3148133Z rspec ./spec/controllers/donation_sites_controller_spec.rb:51 # DonationSitesController While signed in Looking at a different organization redirects the user to the sign-in page for CRUD actions
2024-03-03T14:59:16.3150715Z rspec ./spec/controllers/donation_sites_controller_spec.rb:27 # DonationSitesController While signed in GET #edit returns http success
2024-03-03T14:59:16.3153605Z rspec './spec/controllers/donation_sites_controller_spec.rb[1:1:4:1:1:3]' # DonationSitesController While signed in POST #import_csv behaves like csv import with a csv file presents a flash notice message
2024-03-03T14:59:16.3156673Z rspec './spec/controllers/donation_sites_controller_spec.rb[1:1:4:1:1:2]' # DonationSitesController While signed in POST #import_csv behaves like csv import with a csv file redirects to :index
2024-03-03T14:59:16.3159471Z rspec ./spec/controllers/donation_sites_controller_spec.rb:57 # DonationSitesController While not signed in redirects the user to the sign-in page for CRUD actions
2024-03-03T14:59:16.3161504Z rspec ./spec/models/donation_site_spec.rb:32 # DonationSite import_csv imports storage locations from a csv file
2024-03-03T14:59:16.3163603Z rspec ./spec/services/exports/export_donations_csv_service_spec.rb:76 # Exports::ExportDonationsCSVService#generate_csv_data should match the expected content for the csv
2024-03-03T14:59:16.3164985Z 
2024-03-03T14:59:16.3165159Z Randomized with seed 27726
2024-03-03T14:59:16.3165492Z 
2024-03-03T14:59:16.7971404Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-03T14:59:16.7973552Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3723 / 6428 LOC (57.92%) covered.
2024-03-03T14:59:16.8490411Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/models/adjustment_spec.rb" "spec/models/barcode_item_spec.rb" "spec/models/broadcast_announcement_spec.rb" "spec/models/county_spec.rb" "spec/models/donation_site_spec.rb" "spec/models/event_spec.rb" "spec/models/item_category_spec.rb" "spec/models/kit_allocation_spec.rb" "spec/models/line_item_spec.rb" "spec/models/ndbn_member_spec.rb" "spec/models/organization_stats_spec.rb" "spec/models/partner_spec.rb" "spec/models/partners/child_item_request_spec.rb" "spec/models/partners/family_spec.rb" "spec/models/partners/profile_spec.rb" "spec/models/product_drive_participant_spec.rb" "spec/models/purchase_spec.rb" "spec/models/request_item_spec.rb" "spec/models/role_spec.rb" "spec/models/transfer_spec.rb" "spec/models/users_role_spec.rb" "spec/models/view/inventory_spec.rb" "spec/controllers/application_controller_spec.rb" "spec/controllers/donation_sites_controller_spec.rb" "spec/controllers/help_controller_spec.rb" "spec/controllers/transfers_controller_spec.rb" "spec/events/inventory_aggregate_spec.rb" "spec/helpers/historical_trends_helper_spec.rb" "spec/helpers/ui_helper_spec.rb" "spec/jobs/notify_partner_job_spec.rb" "spec/jobs/reminder_deadline_job_spec.rb" "spec/mailers/account_request_mailer_spec.rb" "spec/mailers/distribution_mailer_spec.rb" "spec/mailers/partner_mailer_spec.rb" "spec/mailers/request_mailer_spec.rb" "spec/mailers/user_mailer_spec.rb" "spec/queries/items_in_query_spec.rb" "spec/queries/items_out_query_spec.rb" "spec/routing/account_requests_routing_spec.rb" "spec/services/adjustment_create_service_spec.rb" "spec/services/calendar_service_spec.rb" "spec/services/deallocate_kit_inventory_service_spec.rb" "spec/services/distribution_create_service_spec.rb" "spec/services/distribution_itemized_breakdown_service_spec.rb" "spec/services/distribution_update_service_spec.rb" "spec/services/donation_create_service_spec.rb" "spec/services/donation_itemized_breakdown_service_spec.rb" "spec/services/exports/export_donations_csv_service_spec.rb" "spec/services/exports/export_report_csv_service_spec.rb" "spec/services/historical_trend_service_spec.rb" "spec/services/item_create_service_spec.rb" "spec/services/kit_create_service_spec.rb" "spec/services/partner_approval_service_spec.rb" "spec/services/partner_fetch_requestable_items_service_spec.rb" "spec/services/partner_profile_update_service_spec.rb" "spec/services/partners/family_request_create_service_spec.rb" "spec/services/partners/request_approval_service_spec.rb" "spec/services/partners/update_family_spec.rb" "spec/services/remove_role_service_spec.rb" "spec/services/reports/adult_incontinence_report_service_spec.rb" "spec/services/reports/other_products_report_service_spec.rb" "spec/services/reports/period_supply_report_service_spec.rb" "spec/services/reports/warehouse_report_service_spec.rb" "spec/services/requests_total_items_service_spec.rb" "spec/services/sync_ndbn_members_spec.rb" "spec/services/transfer_destroy_service_spec.rb" failed
2024-03-03T14:59:17.2306321Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-03T14:59:17.2308149Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10680 LOC (0.36%) covered.
2024-03-03T14:59:17.2590740Z ##[error]Process completed with exit code 1.
