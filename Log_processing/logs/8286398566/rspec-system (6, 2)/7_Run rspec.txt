2024-03-14T19:19:19.5537349Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-14T19:19:19.5538364Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-14T19:19:19.5563114Z shell: /usr/bin/bash -e {0}
2024-03-14T19:19:19.5563679Z env:
2024-03-14T19:19:19.5564279Z   POSTGRES_HOST: localhost
2024-03-14T19:19:19.5564833Z   DATABASE_HOST: localhost
2024-03-14T19:19:19.5565381Z   PG_USERNAME: postgres
2024-03-14T19:19:19.5566001Z   PG_PASSWORD: password
2024-03-14T19:19:19.5566570Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-14T19:19:19.5567142Z   POSTGRES_PORT: 5432
2024-03-14T19:19:19.5567705Z   PGHOST: localhost
2024-03-14T19:19:19.5568246Z   PGUSER: postgres
2024-03-14T19:19:19.5568754Z   RAILS_ENV: test
2024-03-14T19:19:19.5569373Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-14T19:19:19.5569945Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-14T19:19:19.5570516Z   KNAPSACK_PRO_CI_NODE_INDEX: 2
2024-03-14T19:19:19.5571204Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-14T19:19:19.5571946Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-14T19:19:19.5572756Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-14T19:19:19.5573551Z ##[endgroup]
2024-03-14T19:19:25.2073909Z W, [2024-03-14T19:19:25.206926 #2340]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-14T19:19:25.2076765Z W, [2024-03-14T19:19:25.206990 #2340]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-14T19:19:25.2080843Z W, [2024-03-14T19:19:25.207005 #2340]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-14T19:19:25.2087006Z W, [2024-03-14T19:19:25.207026 #2340]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-14T19:19:27.8843336Z W, [2024-03-14T19:19:27.883970 #2340]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-14T19:19:27.8846314Z W, [2024-03-14T19:19:27.884015 #2340]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-14T19:19:27.8849956Z W, [2024-03-14T19:19:27.884029 #2340]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-14T19:19:27.8853889Z W, [2024-03-14T19:19:27.884092 #2340]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-14T19:19:27.8908015Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-03-14T19:19:36.4104322Z 
2024-03-14T19:19:36.4105323Z Randomized with seed 47970
2024-03-14T19:19:37.4717156Z 
2024-03-14T19:19:37.4718014Z User account management
2024-03-14T19:19:37.4719254Z   when not in staging
2024-03-14T19:19:39.2387780Z     should change the email
2024-03-14T19:19:40.1313837Z     should change an user name
2024-03-14T19:19:40.9096803Z     should fail when the email is invalid
2024-03-14T19:19:40.9097698Z   when in staging
2024-03-14T19:19:41.3666073Z     should display staging warning
2024-03-14T19:19:41.8446333Z     should not allow the user to change staging credentials
2024-03-14T19:19:41.8447213Z 
2024-03-14T19:19:41.8447452Z /partners/profiles
2024-03-14T19:19:41.8448896Z   GET #edit
2024-03-14T19:19:41.9639604Z     does not have default radio button value when value is nil
2024-03-14T19:19:42.0561651Z     has "Yes" radio button value when value is true
2024-03-14T19:19:42.1458524Z     has "No" radio button value when value is false
2024-03-14T19:19:42.2345357Z     displays the partner
2024-03-14T19:19:42.2346149Z   PUT #update
2024-03-14T19:19:42.2967231Z     updates the partner and profile
2024-03-14T19:19:42.2968018Z     with no social media
2024-03-14T19:19:42.3905340Z       shows an error
2024-03-14T19:19:42.3905990Z     when updating an existing value to a blank value
2024-03-14T19:19:42.4439444Z       does not update other partner profile attributes to blank
2024-03-14T19:19:42.5082969Z       updates the partner profile attribute to a blank value
2024-03-14T19:19:42.5632490Z       does store N/A in the database
2024-03-14T19:19:42.5633475Z   GET #show
2024-03-14T19:19:42.6285703Z     shows correct values for yes/no buttons
2024-03-14T19:19:42.6790284Z     displays the partner
2024-03-14T19:19:42.6790757Z 
2024-03-14T19:19:42.6791227Z Managing requests
2024-03-14T19:19:42.6792509Z   creating a new quantity request
2024-03-14T19:19:42.6793707Z     GIVEN a partner user is permitted to make a request
2024-03-14T19:19:42.6794605Z       WHEN a request is built using add and remove buttons
2024-03-14T19:19:42.6795470Z         THEN a request records will be created
2024-03-14T19:19:44.6519066Z           creates the correct request
2024-03-14T19:19:44.6520325Z   creating a # individuals request
2024-03-14T19:19:44.6521385Z     GIVEN a partner user is permitted to make a request
2024-03-14T19:19:44.6522545Z       WHEN a request is built using add and remove buttons
2024-03-14T19:19:44.6523751Z         THEN a request records will be created
2024-03-14T19:19:46.4500952Z           creates the correct request
2024-03-14T19:19:46.4502371Z 
2024-03-14T19:19:46.4502778Z Admin::AccountRequestsController
2024-03-14T19:19:46.4504493Z   while signed in as a super admin
2024-03-14T19:19:46.4505610Z     GET #for_rejection
2024-03-14T19:19:46.4509442Z       with an invalid token
2024-03-14T19:19:46.5005249Z         should show a not found message
2024-03-14T19:19:46.5006227Z       with a valid token
2024-03-14T19:19:46.5458620Z         should show the request
2024-03-14T19:19:46.5459347Z     POST #reject
2024-03-14T19:19:46.5685047Z       should redirect back on success
2024-03-14T19:19:46.5685866Z     GET #index
2024-03-14T19:19:46.6032402Z       returns success
2024-03-14T19:19:46.6035868Z 
2024-03-14T19:19:46.6036612Z Dashboard
2024-03-14T19:19:46.6038034Z   With a new essentials bank
2024-03-14T19:20:14.6139253Z     displays the getting started guide until the steps are completed
2024-03-14T19:20:14.6140437Z   With an existing essentials bank
2024-03-14T19:20:14.6141355Z     Product Drives
2024-03-14T19:20:15.1824058Z       has a widget for product drive summary data
2024-03-14T19:20:15.1826302Z       given 1 Product Drive Donation on 2024-02-13 (unless 'All Time'), 3 during 2024-02-14..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:20:15.1827852Z         filtering to 'Last 30 Days'
2024-03-14T19:20:16.5960677Z           shows the correct total donations
2024-03-14T19:20:18.0440850Z           shows 3 Recent Donation link(s)
2024-03-14T19:20:19.4646433Z           shows the correct total money raised
2024-03-14T19:20:19.4648405Z       given 1 Product Drive Donation on 2022-03-13 (unless 'All Time'), 4 during 2022-03-14..2023-12-22, and 1 on 2023-12-23
2024-03-14T19:20:19.4650203Z         filtering to '' (March 14, 2022 - December 22, 2023)
2024-03-14T19:20:21.1036955Z           shows 3 Recent Donation link(s)
2024-03-14T19:20:22.5258742Z           shows the correct total donations
2024-03-14T19:20:23.9584433Z           shows the correct total money raised
2024-03-14T19:20:23.9586490Z       given 1 Product Drive Donation on 2024-02-29 (unless 'All Time'), 1 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-14T19:20:23.9587918Z         filtering to 'This Month'
2024-03-14T19:20:25.2904685Z           shows the correct total money raised
2024-03-14T19:20:26.6271842Z           shows the correct total donations
2024-03-14T19:20:27.9639190Z           shows 1 Recent Donation link(s)
2024-03-14T19:20:27.9641121Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-14T19:20:27.9642770Z         filtering to 'This Year'
2024-03-14T19:20:29.2634288Z           shows the correct total money raised
2024-03-14T19:20:32.5635424Z           shows 0 Recent Donation link(s)
2024-03-14T19:20:33.8666345Z           shows the correct total donations
2024-03-14T19:20:33.8670451Z       given 1 Product Drive Donation on 2024-03-12 (unless 'All Time'), 2 during 2024-03-13..2024-03-13, and 1 on 2024-03-14
2024-03-14T19:20:33.8671995Z         filtering to 'Yesterday'
2024-03-14T19:20:35.2554043Z           shows 2 Recent Donation link(s)
2024-03-14T19:20:36.6032564Z           shows the correct total money raised
2024-03-14T19:20:37.9587368Z           shows the correct total donations
2024-03-14T19:20:37.9591655Z       given 1 Product Drive Donation on 2024-03-13 (unless 'All Time'), 2 during 2024-03-14..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:20:37.9593378Z         filtering to 'Today'
2024-03-14T19:20:39.2997269Z           shows the correct total donations
2024-03-14T19:20:40.6732666Z           shows 2 Recent Donation link(s)
2024-03-14T19:20:42.0345080Z           shows the correct total money raised
2024-03-14T19:20:42.0346058Z       Product drive behaviour with Mixed Donation types
2024-03-14T19:20:42.7005584Z         only counts product drive money raised
2024-03-14T19:20:43.3767071Z         only shows product drive donations as product drive donations
2024-03-14T19:20:44.0471427Z         only counts product drive donations for product drive
2024-03-14T19:20:44.0473745Z       given 1 Product Drive Donation on 2024-03-07 (unless 'All Time'), 0 during 2024-03-08..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:20:44.0475166Z         filtering to 'Last 7 Days'
2024-03-14T19:20:45.5804737Z           shows the correct total money raised
2024-03-14T19:20:46.8913735Z           shows the correct total donations
2024-03-14T19:20:50.2006663Z           shows 0 Recent Donation link(s)
2024-03-14T19:20:50.2008786Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-14T19:20:50.2010154Z         filtering to 'Last Month'
2024-03-14T19:20:51.5250862Z           shows 1 Recent Donation link(s)
2024-03-14T19:20:52.8914577Z           shows the correct total money raised
2024-03-14T19:20:54.3119798Z           shows the correct total donations
2024-03-14T19:20:54.3120724Z     Purchases
2024-03-14T19:20:55.2253267Z       has a link to create a new purchase
2024-03-14T19:20:55.2254978Z       given 1 Purchase on 2022-03-13  (unless 'All Time'), 4 during 2022-03-14..2024-01-26, and 1 on 2024-01-27
2024-03-14T19:20:55.2256365Z         filtering to '' (March 14, 2022 - January 26, 2024)
2024-03-14T19:20:56.6601084Z           shows correct 3 Recent Purchase link(s)
2024-03-14T19:20:56.6602960Z       given 1 Purchase on 2024-03-07  (unless 'All Time'), 0 during 2024-03-08..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:20:56.6604589Z         filtering to 'Last 7 Days'
2024-03-14T19:20:59.9672857Z           shows correct 0 Recent Purchase link(s)
2024-03-14T19:20:59.9674168Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-14T19:20:59.9675138Z         filtering to 'This Year'
2024-03-14T19:21:01.3200231Z           shows correct 2 Recent Purchase link(s)
2024-03-14T19:21:01.3201650Z       given 1 Purchase on 2024-02-29  (unless 'All Time'), 0 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-14T19:21:01.3202772Z         filtering to 'This Month'
2024-03-14T19:21:04.6386273Z           shows correct 0 Recent Purchase link(s)
2024-03-14T19:21:04.6388044Z       given 1 Purchase on 2024-03-13  (unless 'All Time'), 2 during 2024-03-14..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:21:04.6389062Z         filtering to 'Today'
2024-03-14T19:21:05.9858057Z           shows correct 2 Recent Purchase link(s)
2024-03-14T19:21:05.9859914Z       given 1 Purchase on 2024-03-12  (unless 'All Time'), 1 during 2024-03-13..2024-03-13, and 1 on 2024-03-14
2024-03-14T19:21:05.9860995Z         filtering to 'Yesterday'
2024-03-14T19:21:07.3032329Z           shows correct 1 Recent Purchase link(s)
2024-03-14T19:21:07.3034329Z       given 1 Purchase on 2024-02-13  (unless 'All Time'), 3 during 2024-02-14..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:21:07.3035673Z         filtering to 'Last 30 Days'
2024-03-14T19:21:08.6723807Z           shows correct 3 Recent Purchase link(s)
2024-03-14T19:21:08.6725612Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-14T19:21:08.6727079Z         filtering to 'Last Month'
2024-03-14T19:21:10.0045244Z           shows correct 1 Recent Purchase link(s)
2024-03-14T19:21:10.0046072Z     Signage
2024-03-14T19:21:12.8953708Z       shows their organization name unless they have a logo set
2024-03-14T19:21:12.8954960Z     Inventory Totals
2024-03-14T19:21:12.8955570Z       Summary
2024-03-14T19:21:13.5888553Z         displays the on-hand totals
2024-03-14T19:21:13.5889596Z         when constrained to date range
2024-03-14T19:21:14.5992005Z           does not change
2024-03-14T19:21:14.5992852Z     Distributions
2024-03-14T19:21:15.4875851Z       has a link to create a new distribution
2024-03-14T19:21:15.4877847Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-14T19:21:15.4879196Z         filtering to 'Last Month'
2024-03-14T19:21:18.8539148Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-14T19:21:18.8541024Z       given 1 Distribution on 2024-03-12  (unless 'All Time'), 3 during 2024-03-13..2024-03-13, and 1 on 2024-03-14
2024-03-14T19:21:18.8542490Z         filtering to 'Yesterday'
2024-03-14T19:21:20.4459467Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-14T19:21:20.4461521Z       given 1 Distribution on 2024-02-13  (unless 'All Time'), 0 during 2024-02-14..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:21:20.4462725Z         filtering to 'Last 30 Days'
2024-03-14T19:21:23.8241852Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-14T19:21:23.8243984Z       given 1 Distribution on 2024-03-13  (unless 'All Time'), 3 during 2024-03-14..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:21:23.8245231Z         filtering to 'Today'
2024-03-14T19:21:25.2285483Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-14T19:21:25.2287444Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 4 during 2000-01-01..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:21:25.2288499Z         filtering to 'All Time'
2024-03-14T19:21:26.6676946Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-14T19:21:26.6678645Z       given 1 Distribution on 2024-02-29  (unless 'All Time'), 1 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-14T19:21:26.6680247Z         filtering to 'This Month'
2024-03-14T19:21:28.0630205Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-14T19:21:28.0631789Z       given 1 Distribution on 2024-03-07  (unless 'All Time'), 1 during 2024-03-08..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:21:28.0632804Z         filtering to 'Last 7 Days'
2024-03-14T19:21:29.4650859Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-14T19:21:29.4652873Z       given 1 Distribution on 2022-03-13  (unless 'All Time'), 3 during 2022-03-14..2023-12-08, and 1 on 2023-12-09
2024-03-14T19:21:29.4654046Z         filtering to '' (March 14, 2022 - December 8, 2023)
2024-03-14T19:21:30.8528529Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-14T19:21:30.8530281Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-14T19:21:30.8531241Z         filtering to 'This Year'
2024-03-14T19:21:32.2490737Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-14T19:21:32.2491612Z     Manufacturer Donations
2024-03-14T19:21:32.8150853Z       has a link to create a new donation
2024-03-14T19:21:32.8152784Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 4 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-14T19:21:32.8154168Z         filtering to 'This Year'
2024-03-14T19:21:34.6044039Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-03-14T19:21:34.6046165Z       given 1 Manufacturer donating on 2024-03-12  (unless 'All Time'), 9 during 2024-03-13..2024-03-13, and 1 on 2024-03-14
2024-03-14T19:21:34.6047651Z         filtering to 'Yesterday'
2024-03-14T19:21:36.7378679Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-14T19:21:36.7380941Z       given 1 Manufacturer donating on 2024-02-29  (unless 'All Time'), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-14T19:21:36.7381994Z         filtering to 'This Month'
2024-03-14T19:21:38.2676457Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-03-14T19:21:38.2678132Z       given 1 Manufacturer donating on 2022-03-13  (unless 'All Time'), 9 during 2022-03-14..2023-11-03, and 1 on 2023-11-04
2024-03-14T19:21:38.2679628Z         filtering to '' (March 14, 2022 - November 3, 2023)
2024-03-14T19:21:40.2190579Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-14T19:21:40.2192868Z       given 1 Manufacturer donating on 2024-02-13  (unless 'All Time'), 2 during 2024-02-14..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:21:40.2194469Z         filtering to 'Last 30 Days'
2024-03-14T19:21:41.6749728Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-03-14T19:21:41.6752083Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 9 during 2000-01-01..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:21:41.6753466Z         filtering to 'All Time'
2024-03-14T19:21:43.7178549Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-14T19:21:43.7180831Z       given 1 Manufacturer donating on 2024-03-07  (unless 'All Time'), 3 during 2024-03-08..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:21:43.7182183Z         filtering to 'Last 7 Days'
2024-03-14T19:21:45.2875260Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-14T19:21:45.2877507Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-14T19:21:45.2878763Z         filtering to 'Last Month'
2024-03-14T19:21:46.6485386Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-03-14T19:21:46.6487481Z       given 1 Manufacturer donating on 2024-03-13  (unless 'All Time'), 0 during 2024-03-14..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:21:46.6488498Z         filtering to 'Today'
2024-03-14T19:21:47.9917316Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-03-14T19:21:47.9919135Z     Donations
2024-03-14T19:21:48.8925515Z       has a link to create a new donation
2024-03-14T19:21:48.8927231Z       given 1 Donation on 2024-02-13 (only if a valid date), 0 during 2024-02-14..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:21:48.8928492Z         filtering to 'Last 30 Days'
2024-03-14T19:21:52.2035754Z           shows the correct total and 0 Recent Donation link(s)
2024-03-14T19:21:52.2037554Z       given 1 Donation on 2022-03-13 (only if a valid date), 3 during 2022-03-14..2024-02-29, and 1 on 2024-03-01
2024-03-14T19:21:52.2038731Z         filtering to '' (March 14, 2022 - February 29, 2024)
2024-03-14T19:21:53.5997684Z           shows the correct total and 3 Recent Donation link(s)
2024-03-14T19:21:53.5999468Z       given 1 Donation on 2024-01-31 (only if a valid date), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-14T19:21:53.6000648Z         filtering to 'Last Month'
2024-03-14T19:21:54.9299113Z           shows the correct total and 1 Recent Donation link(s)
2024-03-14T19:21:54.9301277Z       given 1 Donation on 2024-03-13 (only if a valid date), 1 during 2024-03-14..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:21:54.9302244Z         filtering to 'Today'
2024-03-14T19:21:56.2735126Z           shows the correct total and 1 Recent Donation link(s)
2024-03-14T19:21:56.2736993Z       given 1 Donation on 2024-03-07 (only if a valid date), 3 during 2024-03-08..2024-03-14, and 1 on 2024-03-15
2024-03-14T19:21:56.2738240Z         filtering to 'Last 7 Days'
2024-03-14T19:21:57.6869427Z           shows the correct total and 3 Recent Donation link(s)
2024-03-14T19:21:57.6870945Z       given 1 Donation on 2024-03-12 (only if a valid date), 4 during 2024-03-13..2024-03-13, and 1 on 2024-03-14
2024-03-14T19:21:57.6872058Z         filtering to 'Yesterday'
2024-03-14T19:21:59.0905622Z           shows the correct total and 3 Recent Donation link(s)
2024-03-14T19:21:59.0907853Z       given 1 Donation on 2024-02-29 (only if a valid date), 1 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-14T19:21:59.0912637Z         filtering to 'This Month'
2024-03-14T19:22:01.9273219Z           shows the correct total and 1 Recent Donation link(s) (FAILED - 1)
2024-03-14T19:22:01.9275839Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_shows-the-correct-total-and-1-Recent-Donation-link(s)_2024-03-14-12-22-01.774.html[0m
2024-03-14T19:22:01.9281995Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_shows-the-correct-total-and-1-Recent-Donation-link(s)_2024-03-14-12-22-01.774.png[0m
2024-03-14T19:22:01.9286065Z       given 1 Donation on 2023-12-31 (only if a valid date), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-14T19:22:01.9286886Z         filtering to 'This Year'
2024-03-14T19:22:05.2215660Z           shows the correct total and 0 Recent Donation link(s)
2024-03-14T19:22:05.2217519Z 
2024-03-14T19:22:05.2217921Z Events
2024-03-14T19:22:05.2219366Z   When signed in
2024-03-14T19:22:05.2220303Z     GET #index
2024-03-14T19:22:05.6991884Z       should be successful
2024-03-14T19:22:05.6992721Z       with date filter
2024-03-14T19:22:06.1847055Z         should not include the old donation
2024-03-14T19:22:06.1847841Z       with eventable_id
2024-03-14T19:22:06.7950095Z         should only show events from that eventable
2024-03-14T19:22:06.7950817Z       with item filter
2024-03-14T19:22:07.2778959Z         should not include the other item
2024-03-14T19:22:07.2779924Z       with storage location filter
2024-03-14T19:22:07.7481390Z         should not include the other storage location
2024-03-14T19:22:07.7482224Z       with type filter
2024-03-14T19:22:08.2339453Z         should not include the adjustment
2024-03-14T19:22:08.2340366Z   When not signed in
2024-03-14T19:22:08.2513304Z     redirects the user to the sign-in page for CRUD actions
2024-03-14T19:22:08.2514325Z 
2024-03-14T19:22:08.2514942Z StorageLocations
2024-03-14T19:22:08.2516107Z   While not signed in
2024-03-14T19:22:08.2577222Z     redirects the user to the sign-in page for CRUD actions
2024-03-14T19:22:08.2578155Z   While signed in
2024-03-14T19:22:08.2579615Z     PUT #deactivate
2024-03-14T19:22:08.2761201Z       discards
2024-03-14T19:22:08.2761855Z       with inventory
2024-03-14T19:22:08.3163113Z         does not discard
2024-03-14T19:22:08.3164015Z     GET #edit
2024-03-14T19:22:08.5766466Z       returns http success
2024-03-14T19:22:08.5767078Z     GET #show
2024-03-14T19:22:08.5767749Z       html
2024-03-14T19:22:08.6545284Z         should return a correct response
2024-03-14T19:22:08.6546117Z         with version date set
2024-03-14T19:22:08.6546584Z           with a version found
2024-03-14T19:22:08.7390618Z             should show the version specified
2024-03-14T19:22:08.7391542Z           with no version found
2024-03-14T19:22:08.8116987Z             should show N/A
2024-03-14T19:22:08.8117860Z       csv
2024-03-14T19:22:08.8583812Z         should be successful
2024-03-14T19:22:08.8584496Z     GET #destroy
2024-03-14T19:22:08.8862806Z       redirects to #index
2024-03-14T19:22:08.8863646Z     GET #inventory
2024-03-14T19:22:08.8864651Z       without any overrides
2024-03-14T19:22:08.9387592Z         returns a collection that only includes items at the storage location
2024-03-14T19:22:08.9388712Z       when also including inactive items
2024-03-14T19:22:09.0034140Z         returns a collection that also includes items that have been deactivated
2024-03-14T19:22:09.0035160Z       when also including omitted items
2024-03-14T19:22:09.0523875Z         returns a collection that also includes all items, but with zeroed quantities
2024-03-14T19:22:09.1005478Z         contains a collection of ducktyped entries that respond the same
2024-03-14T19:22:09.1006677Z     POST #import_csv
2024-03-14T19:22:09.1007630Z       csv file with wrong headers
2024-03-14T19:22:09.1182449Z         presents a flash error message
2024-03-14T19:22:09.1314582Z         redirects
2024-03-14T19:22:09.1315434Z       without a csv file
2024-03-14T19:22:09.1436659Z         presents a flash error message
2024-03-14T19:22:09.1553663Z         redirects to :index
2024-03-14T19:22:09.1554317Z       with a csv file
2024-03-14T19:22:09.1712986Z         redirects
2024-03-14T19:22:09.1770069Z         invokes .import_csv
2024-03-14T19:22:09.1932426Z         presents a flash notice message
2024-03-14T19:22:09.1933276Z     GET #new
2024-03-14T19:22:09.2252540Z       returns http success
2024-03-14T19:22:09.2253237Z     Looking at a different organization
2024-03-14T19:22:09.3961879Z       redirects the user to the sign-in page for CRUD actions
2024-03-14T19:22:09.3963189Z     GET #index
2024-03-14T19:22:09.3963737Z       html
2024-03-14T19:22:09.4330798Z         succeeds
2024-03-14T19:22:09.4331514Z         with inactive locations
2024-03-14T19:22:09.4695425Z           does not includes the inactive location
2024-03-14T19:22:09.4696634Z           with include_inactive_locations
2024-03-14T19:22:09.5135102Z             includes the inactive location
2024-03-14T19:22:09.5136344Z       csv
2024-03-14T19:22:09.5448912Z         succeeds
2024-03-14T19:22:09.6461152Z         includes headers followed by alphabetized item names
2024-03-14T19:22:09.6462352Z     PUT #reactivate
2024-03-14T19:22:09.6644728Z       undiscards
2024-03-14T19:22:09.6645305Z 
2024-03-14T19:22:09.6645708Z /partners/dashboard
2024-03-14T19:22:09.7717643Z   displays upcoming distributions
2024-03-14T19:22:09.7718311Z   with both roles
2024-03-14T19:22:09.8316593Z     should include the switch link
2024-03-14T19:22:09.8317851Z   GET #index
2024-03-14T19:22:09.9051335Z     does not display requests in other states
2024-03-14T19:22:09.9819398Z     displays requests that are pending
2024-03-14T19:22:09.9820295Z   BroadcastAnnouncement card
2024-03-14T19:22:10.0429878Z     displays announcements if there are valid ones
2024-03-14T19:22:10.0982053Z     doesn't display announcements if there are not valid ones
2024-03-14T19:22:10.1530661Z     doesn't display announcements from super admins
2024-03-14T19:22:10.1531763Z   with just partner role
2024-03-14T19:22:10.2036941Z     should not display the switch link
2024-03-14T19:22:10.2037725Z 
2024-03-14T19:22:10.2038068Z Purchases
2024-03-14T19:22:10.2039283Z   while signed in as a normal user
2024-03-14T19:22:10.2040311Z     When visiting an existing purchase
2024-03-14T19:22:10.6607455Z       does not allow deletion of a purchase
2024-03-14T19:22:10.6608161Z     When visiting the index page
2024-03-14T19:22:10.6608750Z       When filtering on the index page
2024-03-14T19:22:11.4939735Z         User can filter the #index by vendor
2024-03-14T19:22:12.1709597Z         User can filter the #index by storage location (FAILED - 2)
2024-03-14T19:22:12.1712636Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-can-filter-the-#index-by-storage-location_2024-03-14-12-22-12.019.html[0m
2024-03-14T19:22:12.1716345Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-can-filter-the-#index-by-storage-location_2024-03-14-12-22-12.019.png[0m
2024-03-14T19:22:12.1718030Z         behaves like Date Range Picker
2024-03-14T19:22:12.1718820Z           when choosing a date range that only includes the previous week
2024-03-14T19:22:13.1269013Z             shows only 1 record
2024-03-14T19:22:13.1269993Z           when choosing 'All Time'
2024-03-14T19:22:14.0408789Z             shows all the records
2024-03-14T19:22:14.0410062Z           when choosing 'Last Month'
2024-03-14T19:22:14.9547102Z             shows only 2 of the records
2024-03-14T19:22:14.9548183Z       In the middle of the year
2024-03-14T19:22:15.7079091Z         User can click to the new purchase form
2024-03-14T19:22:16.3780761Z         User sees purchased date column
2024-03-14T19:22:17.1367084Z         User sees total purchases value
2024-03-14T19:22:17.1367963Z     When creating a new purchase
2024-03-14T19:22:17.6211840Z       should not display inactive storage locations in dropdown
2024-03-14T19:22:17.6212555Z       via barcode entry
2024-03-14T19:22:18.9547202Z         a user can add items that do not yet have a barcode
2024-03-14T19:22:21.7032099Z         User scan same barcode 2 times (FAILED - 3)
2024-03-14T19:22:21.7033643Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-scan-same-barcode-2-times_2024-03-14-12-22-21.566.html[0m
2024-03-14T19:22:21.7036389Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-scan-same-barcode-2-times_2024-03-14-12-22-21.566.png[0m
2024-03-14T19:22:22.4340138Z         a user can add items via scanning them in by barcode (FAILED - 4)
2024-03-14T19:22:22.4342698Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_a-user-can-add-items-via-scanning-them-in-by-barcode_2024-03-14-12-22-22.298.html[0m
2024-03-14T19:22:22.4347222Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_a-user-can-add-items-via-scanning-them-in-by-barcode_2024-03-14-12-22-22.298.png[0m
2024-03-14T19:22:22.4348626Z       via manual entry
2024-03-14T19:22:24.9860823Z         User can create vendor from purchase (FAILED - 5)
2024-03-14T19:22:24.9862481Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-can-create-vendor-from-purchase_2024-03-14-12-22-24.849.html[0m
2024-03-14T19:22:25.8908532Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-can-create-vendor-from-purchase_2024-03-14-12-22-24.849.png[0m
2024-03-14T19:22:25.8910312Z         User can create a purchase using dollars decimal amount
2024-03-14T19:22:27.2033179Z         multiple line items for the same item type are accepted and combined on the backend (FAILED - 6)
2024-03-14T19:22:27.2036497Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_multiple-line-items-for-the-same-item-type-are-accepted-and-combined-on-the-backend_2024-03-14-12-22-27.068.html[0m
2024-03-14T19:22:27.2040977Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_multiple-line-items-for-the-same-item-type-are-accepted-and-combined-on-the-backend_2024-03-14-12-22-27.068.png[0m
2024-03-14T19:22:28.2808731Z         User can create a purchase IN THE PAST
2024-03-14T19:22:29.2412351Z         Does not include inactive items in the line item fields
2024-03-14T19:22:29.2413358Z         when creating a purchase incorrectly
2024-03-14T19:22:30.0377965Z           should display failure with error messages
2024-03-14T19:22:31.0154810Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-03-14T19:22:31.0156401Z       Editing purchase
2024-03-14T19:22:31.5075108Z         A user can see purchased_from value
2024-03-14T19:22:32.1279732Z         A user can view another organizations purchase
2024-03-14T19:22:32.1281002Z   while signed in as an organization admin
2024-03-14T19:22:35.0329863Z     allows deletion of a purchase (FAILED - 7)
2024-03-14T19:22:35.0331629Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_allows-deletion-of-a-purchase_2024-03-14-12-22-34.898.html[0m
2024-03-14T19:22:35.0333858Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_allows-deletion-of-a-purchase_2024-03-14-12-22-34.898.png[0m
2024-03-14T19:22:35.0335032Z 
2024-03-14T19:22:35.0335206Z BroadcastAnnouncements
2024-03-14T19:22:35.0335623Z   DELETE /destroy
2024-03-14T19:22:35.0531339Z     destroys the requested announcement then redirects
2024-03-14T19:22:35.0532392Z   PATCH /update
2024-03-14T19:22:35.0532977Z     with valid parameters
2024-03-14T19:22:35.0710243Z       updates the requested announcement and redirects
2024-03-14T19:22:35.0711389Z     with invalid parameters
2024-03-14T19:22:35.1052849Z       does not render a successful response
2024-03-14T19:22:35.1053915Z   POST /create
2024-03-14T19:22:35.1054500Z     with valid parameters
2024-03-14T19:22:35.1201895Z       creates a new BroadcastAnnouncement then redirects
2024-03-14T19:22:35.1203018Z     with invalid parameters
2024-03-14T19:22:35.1473108Z       does not render a successful response
2024-03-14T19:22:35.1745400Z       does not create a new BroadcastAnnouncement
2024-03-14T19:22:35.1746392Z   GET /index
2024-03-14T19:22:35.2030862Z     renders a successful response
2024-03-14T19:22:35.2031603Z   GET /edit
2024-03-14T19:22:35.2302997Z     render a successful response
2024-03-14T19:22:35.2303721Z   GET /new
2024-03-14T19:22:35.2549531Z     renders a successful response
2024-03-14T19:22:35.2550058Z 
2024-03-14T19:22:35.2550274Z Kit management
2024-03-14T19:22:35.8380812Z   should not display inactive storage locations under allocations
2024-03-14T19:22:36.3998269Z   can allocate and deallocate quantity per storage location from kit index (FAILED - 8)
2024-03-14T19:22:36.4001234Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_can-allocate-and-deallocate-quantity-per-storage-location-from-kit-index_2024-03-14-12-22-36.261.html[0m
2024-03-14T19:22:36.4005176Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_can-allocate-and-deallocate-quantity-per-storage-location-from-kit-index_2024-03-14-12-22-36.261.png[0m
2024-03-14T19:22:37.2713212Z   can create a new kit as a user with the proper quantity
2024-03-14T19:22:37.2714339Z   when there is not enough quantity of the items contained in the kit on-hand
2024-03-14T19:22:38.3709051Z     will not change quantity amounts when allocating
2024-03-14T19:22:38.3709784Z   when there is no kit quantity
2024-03-14T19:22:38.9690722Z     will not change quantity amounts when deallocating (FAILED - 9)
2024-03-14T19:22:38.9693363Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_will-not-change-quantity-amounts-when-deallocating_2024-03-14-12-22-38.823.html[0m
2024-03-14T19:22:38.9696189Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_will-not-change-quantity-amounts-when-deallocating_2024-03-14-12-22-38.823.png[0m
2024-03-14T19:22:38.9697305Z 
2024-03-14T19:22:38.9697520Z Profiles
2024-03-14T19:22:38.9697863Z   POST #update
2024-03-14T19:22:38.9698273Z     when updating an existing value to a blank value
2024-03-14T19:22:39.0168518Z       should have blank values
2024-03-14T19:22:39.0620291Z       update partner
2024-03-14T19:22:39.0621372Z     successful save
2024-03-14T19:22:39.1050452Z       update partner
2024-03-14T19:22:39.1449285Z       redirects to #show
2024-03-14T19:22:39.1450353Z   GET #edit
2024-03-14T19:22:39.2372672Z     returns http success
2024-03-14T19:22:39.2373246Z 
2024-03-14T19:22:39.2373703Z Vendor
2024-03-14T19:22:39.2375204Z   when editing an existing vendor
2024-03-14T19:22:40.0084018Z     can update the contact info for a vendor as a user
2024-03-14T19:22:40.7641689Z     does not update a vendor with empty attributes
2024-03-14T19:22:40.7642449Z   When a user views the index page
2024-03-14T19:22:41.1828071Z     should have the vendor names in alphabetical order
2024-03-14T19:22:41.1829246Z   When vendor have purchases associated with them already
2024-03-14T19:22:41.7534232Z     can have a single vendor show semi-detailed stats about purchases
2024-03-14T19:22:42.2457436Z     can have existing vendors show in the #index with some summary stats
2024-03-14T19:22:42.2458464Z   when creating a new vendor
2024-03-14T19:22:42.9797957Z     cannot add a new vendor instance with empty attributes
2024-03-14T19:22:43.7603621Z     can create a new vendor instance as a user
2024-03-14T19:22:43.7604269Z 
2024-03-14T19:22:43.7604846Z Admin Organization Management
2024-03-14T19:22:43.7606615Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-14T19:22:45.7375306Z     creates a new organization
2024-03-14T19:22:45.7376300Z   While signed in as an Administrative User (super admin)
2024-03-14T19:22:47.6074025Z     creates a new organization
2024-03-14T19:22:50.6532278Z     filters by organizations by name in organizations index page (FAILED - 10)
2024-03-14T19:22:50.6534920Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_filters-by-organizations-by-name-in-organizations-index-page_2024-03-14-12-22-50.516.html[0m
2024-03-14T19:22:50.6538692Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_filters-by-organizations-by-name-in-organizations-index-page_2024-03-14-12-22-50.516.png[0m
2024-03-14T19:22:51.9646567Z     can view organization details
2024-03-14T19:22:51.9647554Z 
2024-03-14T19:22:51.9647984Z Organization management
2024-03-14T19:22:51.9649534Z   while signed in as a normal user
2024-03-14T19:22:52.4312611Z     can see summary details about the organization as a user
2024-03-14T19:22:52.8381769Z     cannot see 'Make user' button for admins
2024-03-14T19:22:52.8382790Z   while signed in as an organization admin
2024-03-14T19:22:55.4378232Z     can add a new user to an organization (FAILED - 11)
2024-03-14T19:22:55.4380946Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_can-add-a-new-user-to-an-organization_2024-03-14-12-22-55.301.html[0m
2024-03-14T19:22:55.4383833Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_can-add-a-new-user-to-an-organization_2024-03-14-12-22-55.301.png[0m
2024-03-14T19:22:55.8523649Z     can re-invite a user to an organization after 7 days
2024-03-14T19:22:56.2808131Z     can see 'Make user' button for admins
2024-03-14T19:22:58.9864556Z     can deactivate a user in the organization (FAILED - 12)
2024-03-14T19:22:58.9867228Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_can-deactivate-a-user-in-the-organization_2024-03-14-12-22-58.850.html[0m
2024-03-14T19:22:58.9870206Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_can-deactivate-a-user-in-the-organization_2024-03-14-12-22-58.850.png[0m
2024-03-14T19:22:59.9695107Z     can re-activate a user in the organization
2024-03-14T19:22:59.9695883Z     Editing the organization
2024-03-14T19:23:00.9705487Z       can select if the org distributes essentials monthly
2024-03-14T19:23:01.9908431Z       can select if the org repackages essentials
2024-03-14T19:23:02.8355002Z       can set a default storage location on the organization
2024-03-14T19:23:03.6582272Z       can set a reminder and a deadline day
2024-03-14T19:23:04.5316120Z       can set the NDBN Member ID
2024-03-14T19:23:05.4750813Z       can disable if the org does NOT use single step invite and approve partner process
2024-03-14T19:23:06.6636890Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-03-14T19:23:08.1672895Z       can select and deselect Required Partner Fields
2024-03-14T19:23:09.1200724Z       can select if the org shows year-to-date values on the distribution printout
2024-03-14T19:23:10.1101975Z       can enable if the org uses single step invite and approve partner process
2024-03-14T19:23:10.1103081Z     Viewing the organization
2024-03-14T19:23:10.5819366Z       can view organization details
2024-03-14T19:23:10.5820296Z 
2024-03-14T19:23:10.5820710Z Admin::Questions
2024-03-14T19:23:10.5822002Z   while signed in as a super admin
2024-03-14T19:23:10.6098090Z     GET #new
2024-03-14T19:23:10.6398830Z       lets the user load the new question page
2024-03-14T19:23:10.6399630Z     PATCH #update
2024-03-14T19:23:10.6679768Z       lets the user update questions
2024-03-14T19:23:10.6680306Z     GET #index
2024-03-14T19:23:10.7006148Z       lets the user load the page
2024-03-14T19:23:10.7006838Z     GET #edit
2024-03-14T19:23:10.7434595Z       lets the user load the edit question page
2024-03-14T19:23:10.7435301Z     DELETE #destroy
2024-03-14T19:23:10.7684240Z       lets the user delete questions
2024-03-14T19:23:10.7684934Z     POST #create
2024-03-14T19:23:10.7902497Z       lets the user create questions
2024-03-14T19:23:10.8219675Z W, [2024-03-14T12:23:10.821657 #2374]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-14T19:23:10.8221688Z W, [2024-03-14T12:23:10.821728 #2374]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-14T19:23:10.8224168Z W, [2024-03-14T12:23:10.821746 #2374]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-14T19:23:10.8227431Z W, [2024-03-14T12:23:10.821789 #2374]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-14T19:23:10.9631458Z 
2024-03-14T19:23:10.9632476Z Failures:
2024-03-14T19:23:10.9633063Z 
2024-03-14T19:23:10.9636563Z   1) Dashboard With an existing essentials bank Donations given 1 Donation on 2024-02-29 (only if a valid date), 1 during 2024-03-01..2024-03-31, and 1 on 2024-04-01 filtering to 'This Month' shows the correct total and 1 Recent Donation link(s)
2024-03-14T19:23:10.9638483Z      Failure/Error:
2024-03-14T19:23:10.9639049Z        within ".container__predefined-ranges" do
2024-03-14T19:23:10.9639657Z          find("button", text: range_name).click
2024-03-14T19:23:10.9640202Z        end
2024-03-14T19:23:10.9640400Z 
2024-03-14T19:23:10.9640609Z      Capybara::ElementNotFound:
2024-03-14T19:23:10.9641309Z        Unable to find css ".container__predefined-ranges"
2024-03-14T19:23:10.9641811Z 
2024-03-14T19:23:10.9644158Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/capybara/failures_r_spec_example_groups_dashboard_with_an_existing_essentials_bank_donations_given1_donation_on20240229_only_if_a_valid_date1_during2024030120240331_and1_on20240401_filtering_to_this_month_shows_the_cor_933.png
2024-03-14T19:23:10.9647056Z 
2024-03-14T19:23:10.9647069Z 
2024-03-14T19:23:10.9647594Z      # ./spec/support/pages/organization_dashboard_page.rb:139:in `select_date_filter_range'
2024-03-14T19:23:10.9648928Z      # ./spec/support/pages/organization_dashboard_page.rb:40:in `filter_to_date_range'
2024-03-14T19:23:10.9650210Z      # ./spec/system/dashboard_system_spec.rb:218:in `block (7 levels) in <top (required)>'
2024-03-14T19:23:10.9651494Z      # ./spec/system/dashboard_system_spec.rb:152:in `block (4 levels) in <top (required)>'
2024-03-14T19:23:10.9652251Z 
2024-03-14T19:23:10.9653312Z   2) Purchases while signed in as a normal user When visiting the index page When filtering on the index page User can filter the #index by storage location
2024-03-14T19:23:10.9654818Z      Failure/Error: raise "Invalid date: #{d} in #{date_range_params}"
2024-03-14T19:23:10.9655388Z 
2024-03-14T19:23:10.9657554Z      RuntimeError:
2024-03-14T19:23:10.9658416Z        Invalid date: during the period 01 Jan to 31 Dec in during the period 01 Jan to 31 Dec
2024-03-14T19:23:10.9659283Z 
2024-03-14T19:23:10.9661546Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_visiting_the_index_page_when_filtering_on_the_index_page_user_can_filter_the_#index_by_storage_location_41.png
2024-03-14T19:23:10.9663632Z 
2024-03-14T19:23:10.9663642Z 
2024-03-14T19:23:10.9664120Z      # ./app/helpers/date_range_helper.rb:34:in `rescue in block in selected_interval'
2024-03-14T19:23:10.9665181Z      # ./app/helpers/date_range_helper.rb:32:in `block in selected_interval'
2024-03-14T19:23:10.9666084Z      # ./app/helpers/date_range_helper.rb:31:in `map'
2024-03-14T19:23:10.9666894Z      # ./app/helpers/date_range_helper.rb:31:in `selected_interval'
2024-03-14T19:23:10.9667945Z      # ./app/controllers/application_controller.rb:144:in `setup_date_range_picker'
2024-03-14T19:23:10.9668903Z      # ./app/controllers/purchases_controller.rb:6:in `index'
2024-03-14T19:23:10.9669576Z      # ------------------
2024-03-14T19:23:10.9670023Z      # --- Caused by: ---
2024-03-14T19:23:10.9670464Z      # Capybara::ExpectationNotMet:
2024-03-14T19:23:10.9671243Z      #   expected to find css "table tbody tr" 1 time but there were no matches
2024-03-14T19:23:10.9672419Z      #   ./spec/system/purchase_system_spec.rb:66:in `block (5 levels) in <top (required)>'
2024-03-14T19:23:10.9673167Z 
2024-03-14T19:23:10.9674004Z   3) Purchases while signed in as a normal user When creating a new purchase via barcode entry User scan same barcode 2 times
2024-03-14T19:23:10.9675885Z      Failure/Error: expect(page).to have_field "purchase_line_items_attributes_0_quantity", with: @existing_barcode.quantity.to_s
2024-03-14T19:23:10.9678701Z        expected to find visible field "purchase_line_items_attributes_0_quantity" that is not disabled with value "50" but there were no matches. Also found "", which matched the selector but not all filters. Expected value to be "50" but was ""
2024-03-14T19:23:10.9680509Z 
2024-03-14T19:23:10.9682513Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_barcode_entry_user_scan_same_barcode_2_times_871.png
2024-03-14T19:23:10.9684231Z 
2024-03-14T19:23:10.9684239Z 
2024-03-14T19:23:10.9684704Z      # ./spec/system/purchase_system_spec.rb:246:in `block (5 levels) in <top (required)>'
2024-03-14T19:23:10.9685367Z 
2024-03-14T19:23:10.9686364Z   4) Purchases while signed in as a normal user When creating a new purchase via barcode entry a user can add items via scanning them in by barcode
2024-03-14T19:23:10.9687929Z      Failure/Error: expect(qty).to eq(@existing_barcode.quantity.to_s)
2024-03-14T19:23:10.9688842Z 
2024-03-14T19:23:10.9689179Z        expected: "50"
2024-03-14T19:23:10.9689591Z             got: ""
2024-03-14T19:23:10.9689839Z 
2024-03-14T19:23:10.9690005Z        (compared using ==)
2024-03-14T19:23:10.9690312Z 
2024-03-14T19:23:10.9692503Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_barcode_entry_a_user_can_add_items_via_scanning_them_in_by_barcode_297.png
2024-03-14T19:23:10.9694587Z 
2024-03-14T19:23:10.9694597Z 
2024-03-14T19:23:10.9695121Z      # ./spec/system/purchase_system_spec.rb:237:in `block (5 levels) in <top (required)>'
2024-03-14T19:23:10.9695877Z 
2024-03-14T19:23:10.9696745Z   5) Purchases while signed in as a normal user When creating a new purchase via manual entry User can create vendor from purchase
2024-03-14T19:23:10.9698347Z      Failure/Error: select "---Not Listed---", from: "purchase_vendor_id"
2024-03-14T19:23:10.9698986Z 
2024-03-14T19:23:10.9699182Z      Capybara::ElementNotFound:
2024-03-14T19:23:10.9701347Z        Unable to find option "---Not Listed---" within #<Capybara::Node::Element tag="select" path="//HTML[1]/BODY[1]/DIV[1]/DIV[1]/DIV[1]/SECTION[2]/DIV[1]/DIV[1]/DIV[1]/DIV[1]/DIV[1]/FORM[1]/DIV[1]/DIV[1]/DIV[1]/DIV[1]/DIV[1]/SELECT[1]">
2024-03-14T19:23:10.9702772Z 
2024-03-14T19:23:10.9704875Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_manual_entry_user_can_create_vendor_from_purchase_333.png
2024-03-14T19:23:10.9706624Z 
2024-03-14T19:23:10.9706637Z 
2024-03-14T19:23:10.9707110Z      # ./spec/system/purchase_system_spec.rb:100:in `block (5 levels) in <top (required)>'
2024-03-14T19:23:10.9707770Z 
2024-03-14T19:23:10.9708890Z   6) Purchases while signed in as a normal user When creating a new purchase via manual entry multiple line items for the same item type are accepted and combined on the backend
2024-03-14T19:23:10.9710621Z      Failure/Error: expect(Purchase.last.line_items.first.quantity).to eq(16)
2024-03-14T19:23:10.9711253Z 
2024-03-14T19:23:10.9711416Z        expected: 16
2024-03-14T19:23:10.9711772Z             got: 11
2024-03-14T19:23:10.9712006Z 
2024-03-14T19:23:10.9712160Z        (compared using ==)
2024-03-14T19:23:10.9712443Z 
2024-03-14T19:23:10.9714630Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_manual_entry_multiple_line_items_for_the_same_item_type_are_accepted_and_combined_on_the_backend_201.png
2024-03-14T19:23:10.9716980Z 
2024-03-14T19:23:10.9716989Z 
2024-03-14T19:23:10.9717468Z      # ./spec/system/purchase_system_spec.rb:182:in `block (5 levels) in <top (required)>'
2024-03-14T19:23:10.9718154Z 
2024-03-14T19:23:10.9718620Z   7) Purchases while signed in as an organization admin allows deletion of a purchase
2024-03-14T19:23:10.9719456Z      Failure/Error:
2024-03-14T19:23:10.9719837Z        accept_confirm do
2024-03-14T19:23:10.9720242Z          click_on "Delete"
2024-03-14T19:23:10.9720648Z        end
2024-03-14T19:23:10.9720851Z 
2024-03-14T19:23:10.9721030Z      Capybara::ModalNotFound:
2024-03-14T19:23:10.9721502Z        Unable to find modal dialog
2024-03-14T19:23:10.9721843Z 
2024-03-14T19:23:10.9723428Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_an_organization_admin_allows_deletion_of_a_purchase_10.png
2024-03-14T19:23:10.9724965Z 
2024-03-14T19:23:10.9724973Z 
2024-03-14T19:23:10.9725439Z      # ./spec/system/purchase_system_spec.rb:311:in `block (3 levels) in <top (required)>'
2024-03-14T19:23:10.9726277Z      # ------------------
2024-03-14T19:23:10.9726717Z      # --- Caused by: ---
2024-03-14T19:23:10.9727150Z      # Capybara::ModalNotFound:
2024-03-14T19:23:10.9728122Z      #   Capybara::ModalNotFound
2024-03-14T19:23:10.9728928Z      #   ./spec/system/purchase_system_spec.rb:311:in `block (3 levels) in <top (required)>'
2024-03-14T19:23:10.9729596Z 
2024-03-14T19:23:10.9730113Z   8) Kit management can allocate and deallocate quantity per storage location from kit index
2024-03-14T19:23:10.9731064Z      Failure/Error: visit url_prefix + "/kits/"
2024-03-14T19:23:10.9731489Z 
2024-03-14T19:23:10.9731659Z      Ferrum::JavaScriptError:
2024-03-14T19:23:10.9732147Z        ReferenceError: $ is not defined
2024-03-14T19:23:10.9732778Z            at http://127.0.0.1:37541/db_1/kits/:484:3
2024-03-14T19:23:10.9733200Z 
2024-03-14T19:23:10.9734832Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_kit_management_can_allocate_and_deallocate_quantity_per_storage_location_from_kit_index_773.png
2024-03-14T19:23:10.9736449Z 
2024-03-14T19:23:10.9736457Z 
2024-03-14T19:23:10.9736883Z      # ./spec/system/kit_system_spec.rb:53:in `block (2 levels) in <top (required)>'
2024-03-14T19:23:10.9737524Z 
2024-03-14T19:23:10.9738082Z   9) Kit management when there is no kit quantity will not change quantity amounts when deallocating
2024-03-14T19:23:10.9739058Z      Failure/Error: visit url_prefix + "/kits/"
2024-03-14T19:23:10.9739477Z 
2024-03-14T19:23:10.9739643Z      Ferrum::JavaScriptError:
2024-03-14T19:23:10.9740127Z        ReferenceError: $ is not defined
2024-03-14T19:23:10.9740717Z            at http://127.0.0.1:37541/db_1/kits/:488:3
2024-03-14T19:23:10.9741127Z 
2024-03-14T19:23:10.9742885Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_kit_management_when_there_is_no_kit_quantity_will_not_change_quantity_amounts_when_deallocating_272.png
2024-03-14T19:23:10.9744586Z 
2024-03-14T19:23:10.9744593Z 
2024-03-14T19:23:10.9745036Z      # ./spec/system/kit_system_spec.rb:180:in `block (3 levels) in <top (required)>'
2024-03-14T19:23:10.9745712Z 
2024-03-14T19:23:10.9746683Z   10) Admin Organization Management While signed in as an Administrative User (super admin) filters by organizations by name in organizations index page
2024-03-14T19:23:10.9748199Z       Failure/Error: expect(page).not_to have_content(foo_org.name)
2024-03-14T19:23:10.9754344Z         expected not to find text "foo" in "Log out\n \nAdmin Dashboard\n \nBarcode Items\n \nBase Items\n \nOrganizations\n \nPartners\n \nUsers\n \nAnnouncements\n \nAccount Requests\n \nFAQ\n \nMy Organization\nAll Human Essentials Organizations\n Home\nAll Essentials Organizations\nSearch By Organization Name\n Add New Organization\nOrganization\tContact E-mail\tAdded On\tActions\nbar\temail20@example.com\t2024-03-14\t View  Edit  Delete\nbaz\temail21@example.com\t2024-03-14\t View  Edit  Delete\nfoo\temail19@example.com\t2024-03-14\t View  Edit  Delete\nSTARTER\temail1@example.com\t2024-03-14\t View  Edit  Delete\nHuman Essentials was built with  by Ruby for Good."
2024-03-14T19:23:10.9759642Z 
2024-03-14T19:23:10.9761750Z       [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_admin_organization_management_while_signed_in_as_an_administrative_user_super_admin_filters_by_organizations_by_name_in_organizations_index_page_39.png
2024-03-14T19:23:10.9763610Z 
2024-03-14T19:23:10.9763619Z 
2024-03-14T19:23:10.9764168Z       # ./spec/system/admin/organizations_system_spec.rb:24:in `block (3 levels) in <top (required)>'
2024-03-14T19:23:10.9764908Z 
2024-03-14T19:23:10.9765526Z   11) Organization management while signed in as an organization admin can add a new user to an organization
2024-03-14T19:23:10.9766479Z       Failure/Error:
2024-03-14T19:23:10.9766875Z         within "#addUserModal" do
2024-03-14T19:23:10.9767442Z           fill_in "email", with: "some_new_user@website.com"
2024-03-14T19:23:10.9768037Z           click_on "Invite User"
2024-03-14T19:23:10.9768468Z         end
2024-03-14T19:23:10.9768661Z 
2024-03-14T19:23:10.9769219Z       Capybara::ElementNotFound:
2024-03-14T19:23:10.9769754Z         Unable to find visible css "#addUserModal"
2024-03-14T19:23:10.9770172Z 
2024-03-14T19:23:10.9771856Z       [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_organization_management_while_signed_in_as_an_organization_admin_can_add_a_new_user_to_an_organization_633.png
2024-03-14T19:23:10.9773460Z 
2024-03-14T19:23:10.9773468Z 
2024-03-14T19:23:10.9773958Z       # ./spec/system/organization_system_spec.rb:142:in `block (3 levels) in <top (required)>'
2024-03-14T19:23:10.9774650Z 
2024-03-14T19:23:10.9775278Z   12) Organization management while signed in as an organization admin can deactivate a user in the organization
2024-03-14T19:23:10.9776356Z       Failure/Error: click_link dom_id(user)
2024-03-14T19:23:10.9776740Z 
2024-03-14T19:23:10.9776920Z       Capybara::ElementNotFound:
2024-03-14T19:23:10.9777427Z         Unable to find visible link "user_78"
2024-03-14T19:23:10.9777821Z 
2024-03-14T19:23:10.9779537Z       [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_organization_management_while_signed_in_as_an_organization_admin_can_deactivate_a_user_in_the_organization_671.png
2024-03-14T19:23:10.9781181Z 
2024-03-14T19:23:10.9781189Z 
2024-03-14T19:23:10.9781666Z       # ./spec/system/organization_system_spec.rb:166:in `block (4 levels) in <top (required)>'
2024-03-14T19:23:10.9782802Z       # ./spec/system/organization_system_spec.rb:164:in `block (3 levels) in <top (required)>'
2024-03-14T19:23:10.9783476Z 
2024-03-14T19:23:10.9783816Z Finished in 3 minutes 34.4 seconds (files took 8.28 seconds to load)
2024-03-14T19:23:10.9784500Z 212 examples, 12 failures
2024-03-14T19:23:10.9784769Z 
2024-03-14T19:23:10.9784914Z Failed examples:
2024-03-14T19:23:10.9785130Z 
2024-03-14T19:23:10.9787185Z rspec './spec/system/dashboard_system_spec.rb[1:2:3:7:1:1]' # Dashboard With an existing essentials bank Donations given 1 Donation on 2024-02-29 (only if a valid date), 1 during 2024-03-01..2024-03-31, and 1 on 2024-04-01 filtering to 'This Month' shows the correct total and 1 Recent Donation link(s)
2024-03-14T19:23:10.9790388Z rspec ./spec/system/purchase_system_spec.rb:57 # Purchases while signed in as a normal user When visiting the index page When filtering on the index page User can filter the #index by storage location
2024-03-14T19:23:10.9792801Z rspec ./spec/system/purchase_system_spec.rb:240 # Purchases while signed in as a normal user When creating a new purchase via barcode entry User scan same barcode 2 times
2024-03-14T19:23:10.9795247Z rspec ./spec/system/purchase_system_spec.rb:227 # Purchases while signed in as a normal user When creating a new purchase via barcode entry a user can add items via scanning them in by barcode
2024-03-14T19:23:10.9797853Z rspec ./spec/system/purchase_system_spec.rb:99 # Purchases while signed in as a normal user When creating a new purchase via manual entry User can create vendor from purchase
2024-03-14T19:23:10.9800579Z rspec ./spec/system/purchase_system_spec.rb:167 # Purchases while signed in as a normal user When creating a new purchase via manual entry multiple line items for the same item type are accepted and combined on the backend
2024-03-14T19:23:10.9802883Z rspec ./spec/system/purchase_system_spec.rb:308 # Purchases while signed in as an organization admin allows deletion of a purchase
2024-03-14T19:23:10.9804683Z rspec ./spec/system/kit_system_spec.rb:52 # Kit management can allocate and deallocate quantity per storage location from kit index
2024-03-14T19:23:10.9806483Z rspec ./spec/system/kit_system_spec.rb:179 # Kit management when there is no kit quantity will not change quantity amounts when deallocating
2024-03-14T19:23:10.9808779Z rspec ./spec/system/admin/organizations_system_spec.rb:11 # Admin Organization Management While signed in as an Administrative User (super admin) filters by organizations by name in organizations index page
2024-03-14T19:23:10.9811576Z rspec ./spec/system/organization_system_spec.rb:138 # Organization management while signed in as an organization admin can add a new user to an organization
2024-03-14T19:23:10.9813565Z rspec ./spec/system/organization_system_spec.rb:161 # Organization management while signed in as an organization admin can deactivate a user in the organization
2024-03-14T19:23:10.9814682Z 
2024-03-14T19:23:10.9814836Z Randomized with seed 47970
2024-03-14T19:23:10.9815118Z 
2024-03-14T19:23:11.5342520Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-14T19:23:11.5344457Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3635 / 6469 LOC (56.19%) covered.
2024-03-14T19:23:11.6531207Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb" failed
2024-03-14T19:23:12.1193042Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-14T19:23:12.1194890Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10768 LOC (0.35%) covered.
2024-03-14T19:23:12.1483356Z ##[error]Process completed with exit code 1.
