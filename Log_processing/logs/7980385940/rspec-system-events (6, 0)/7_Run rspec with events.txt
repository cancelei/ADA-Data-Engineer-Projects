2024-02-20T21:48:00.9987830Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-02-20T21:48:00.9989193Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-02-20T21:48:01.0018478Z shell: /usr/bin/bash -e {0}
2024-02-20T21:48:01.0018838Z env:
2024-02-20T21:48:01.0019307Z   POSTGRES_HOST: localhost
2024-02-20T21:48:01.0019676Z   DATABASE_HOST: localhost
2024-02-20T21:48:01.0020090Z   PG_USERNAME: postgres
2024-02-20T21:48:01.0020531Z   PG_PASSWORD: password
2024-02-20T21:48:01.0021139Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-02-20T21:48:01.0021648Z   POSTGRES_PORT: 5432
2024-02-20T21:48:01.0021968Z   PGHOST: localhost
2024-02-20T21:48:01.0022304Z   PGUSER: postgres
2024-02-20T21:48:01.0022716Z   RAILS_ENV: test
2024-02-20T21:48:01.0023078Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-02-20T21:48:01.0023524Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-02-20T21:48:01.0023942Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-02-20T21:48:01.0024379Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-02-20T21:48:01.0025031Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-02-20T21:48:01.0025651Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-02-20T21:48:01.0026260Z   EVENTS_READ: true
2024-02-20T21:48:01.0026652Z ##[endgroup]
2024-02-20T21:48:06.6790195Z W, [2024-02-20T21:48:06.678664 #2325]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-02-20T21:48:06.6791871Z W, [2024-02-20T21:48:06.678727 #2325]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-20T21:48:06.6793558Z W, [2024-02-20T21:48:06.678753 #2325]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-20T21:48:06.6796715Z W, [2024-02-20T21:48:06.678789 #2325]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-02-20T21:48:10.4715564Z W, [2024-02-20T21:48:10.471218 #2325]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-02-20T21:48:10.4718043Z W, [2024-02-20T21:48:10.471262 #2325]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-20T21:48:10.4720708Z W, [2024-02-20T21:48:10.471276 #2325]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-20T21:48:10.4724909Z W, [2024-02-20T21:48:10.471324 #2325]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-02-20T21:48:10.4782396Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/partners/children_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-02-20T21:48:19.3323926Z 
2024-02-20T21:48:19.3324687Z Randomized with seed 48225
2024-02-20T21:48:20.3036999Z 
2024-02-20T21:48:20.3038413Z Admin Organization Management
2024-02-20T21:48:20.3040253Z   While signed in as an Administrative User with no organization (super admin no org)
2024-02-20T21:48:23.2026352Z     creates a new organization
2024-02-20T21:48:23.2027779Z   While signed in as an Administrative User (super admin)
2024-02-20T21:48:24.3831402Z     filters by organizations by name in organizations index page
2024-02-20T21:48:25.7105056Z     can view organization details
2024-02-20T21:48:27.6563478Z     creates a new organization
2024-02-20T21:48:27.6568790Z 
2024-02-20T21:48:27.6569083Z Admin::Organizations
2024-02-20T21:48:27.6570331Z   When logged in as a super admin
2024-02-20T21:48:27.6571912Z     DELETE #destroy
2024-02-20T21:48:27.6573580Z       with a valid organization id
2024-02-20T21:48:28.2397360Z         redirects to #index
2024-02-20T21:48:28.2398200Z     POST #create
2024-02-20T21:48:28.2398876Z       with valid params
2024-02-20T21:48:28.4835250Z         creates an organization and redirects to #index
2024-02-20T21:48:28.4835941Z       with invalid params
2024-02-20T21:48:28.5313584Z         does not create an organization and renders #create with an error message
2024-02-20T21:48:28.5315043Z     GET #new
2024-02-20T21:48:28.5806060Z       returns http success
2024-02-20T21:48:28.5807893Z       when given a token that matches a account request that has already been processed
2024-02-20T21:48:28.8373660Z         should render new with a flash error message
2024-02-20T21:48:28.8375089Z       when given a valid account request token in the query parameters
2024-02-20T21:48:28.9017357Z         should render new with pre populate input fields from the account_request
2024-02-20T21:48:28.9018202Z     GET #index
2024-02-20T21:48:28.9355671Z       returns http success
2024-02-20T21:48:28.9356380Z     PUT #update
2024-02-20T21:48:28.9587086Z       redirect
2024-02-20T21:48:28.9587744Z     PATCH #update
2024-02-20T21:48:28.9588472Z       with a valid update
2024-02-20T21:48:29.1633471Z         redirects to #index
2024-02-20T21:48:29.1634388Z       with an invalid update
2024-02-20T21:48:29.3952062Z         redirects to #edit with an error message
2024-02-20T21:48:29.6250162Z         returns http success
2024-02-20T21:48:29.6250824Z     GET #edit
2024-02-20T21:48:29.8513697Z       returns http success
2024-02-20T21:48:29.8514581Z     DELETE #destroy
2024-02-20T21:48:30.2445103Z       redirects
2024-02-20T21:48:30.2445850Z     GET #show
2024-02-20T21:48:30.4685883Z       returns http success
2024-02-20T21:48:30.4687416Z   When logged in as a non-admin user
2024-02-20T21:48:30.4688191Z     PUT #update
2024-02-20T21:48:30.4863817Z       redirects
2024-02-20T21:48:30.4864580Z     GET #edit
2024-02-20T21:48:30.5012425Z       redirects
2024-02-20T21:48:30.5013165Z     GET #index
2024-02-20T21:48:30.5157085Z       redirects
2024-02-20T21:48:30.5157964Z     POST #create
2024-02-20T21:48:30.5321484Z       redirects
2024-02-20T21:48:30.5322257Z     GET #new
2024-02-20T21:48:30.5467393Z       redirects
2024-02-20T21:48:30.5468058Z 
2024-02-20T21:48:30.5468757Z Kit management
2024-02-20T21:48:31.1896718Z   should not display inactive storage locations under allocations
2024-02-20T21:48:32.1350751Z   can create a new kit as a user with the proper quantity
2024-02-20T21:48:33.6813965Z   can allocate and deallocate quantity per storage location from kit index
2024-02-20T21:48:33.6815236Z   when there is no kit quantity
2024-02-20T21:48:34.8782678Z     will not change quantity amounts when deallocating
2024-02-20T21:48:34.8784401Z   when there is not enough quantity of the items contained in the kit on-hand
2024-02-20T21:48:36.0177296Z     will not change quantity amounts when allocating
2024-02-20T21:48:36.0177972Z 
2024-02-20T21:48:36.0178654Z User account management
2024-02-20T21:48:36.0179900Z   when in staging
2024-02-20T21:48:36.4831984Z     should not allow the user to change staging credentials
2024-02-20T21:48:36.9384691Z     should display staging warning
2024-02-20T21:48:36.9385638Z   when not in staging
2024-02-20T21:48:37.7163674Z     should fail when the email is invalid
2024-02-20T21:48:38.6951447Z     should change the email
2024-02-20T21:48:39.7092827Z     should change an user name
2024-02-20T21:48:39.7093418Z 
2024-02-20T21:48:39.7093627Z Profiles
2024-02-20T21:48:39.7094985Z   POST #update
2024-02-20T21:48:39.7096235Z     when updating an existing value to a blank value
2024-02-20T21:48:39.7646175Z       update partner
2024-02-20T21:48:39.8096581Z       should have blank values
2024-02-20T21:48:39.8097319Z     successful save
2024-02-20T21:48:39.8528049Z       redirects to #show
2024-02-20T21:48:39.8978843Z       update partner
2024-02-20T21:48:39.8979525Z   GET #edit
2024-02-20T21:48:40.0010980Z     returns http success
2024-02-20T21:48:40.0011574Z 
2024-02-20T21:48:40.0011798Z /partners/children
2024-02-20T21:48:40.0012461Z   GET #index
2024-02-20T21:48:40.0745307Z     should export CSV
2024-02-20T21:48:40.1337523Z     should render without any issues
2024-02-20T21:48:40.1339037Z 
2024-02-20T21:48:40.1339410Z StorageLocations
2024-02-20T21:48:40.1340570Z   While signed in
2024-02-20T21:48:40.1342714Z     GET #destroy
2024-02-20T21:48:40.1590647Z       redirects to #index
2024-02-20T21:48:40.1591499Z     GET #edit
2024-02-20T21:48:40.3173793Z       returns http success
2024-02-20T21:48:40.3174574Z     Looking at a different organization
2024-02-20T21:48:40.4920318Z       redirects the user to the sign-in page for CRUD actions
2024-02-20T21:48:40.4921129Z     GET #new
2024-02-20T21:48:40.5243325Z       returns http success
2024-02-20T21:48:40.5243937Z     GET #index
2024-02-20T21:48:40.5244884Z       html
2024-02-20T21:48:40.5621175Z         succeeds
2024-02-20T21:48:40.5621912Z         with inactive locations
2024-02-20T21:48:40.5987578Z           does not includes the inactive location
2024-02-20T21:48:40.5988396Z           with include_inactive_locations
2024-02-20T21:48:40.6371622Z             includes the inactive location
2024-02-20T21:48:40.6372698Z       csv
2024-02-20T21:48:40.6550639Z         succeeds
2024-02-20T21:48:40.7498619Z         includes headers followed by alphabetized item names
2024-02-20T21:48:40.7499662Z     PUT #reactivate
2024-02-20T21:48:40.7671270Z       undiscards
2024-02-20T21:48:40.7672032Z     GET #inventory
2024-02-20T21:48:40.7672964Z       when also including omitted items
2024-02-20T21:48:40.8222987Z         contains a collection of ducktyped entries that respond the same
2024-02-20T21:48:40.8761620Z         returns a collection that also includes all items, but with zeroed quantities
2024-02-20T21:48:40.8763046Z       when also including inactive items
2024-02-20T21:48:40.9537925Z         returns a collection that also includes items that have been deactivated
2024-02-20T21:48:40.9539472Z       without any overrides
2024-02-20T21:48:41.0126470Z         returns a collection that only includes items at the storage location
2024-02-20T21:48:41.0127936Z     GET #show
2024-02-20T21:48:41.0128440Z       html
2024-02-20T21:48:41.0894233Z         should return a correct response
2024-02-20T21:48:41.0895824Z         with version date set
2024-02-20T21:48:41.0896530Z           with a version found
2024-02-20T21:48:41.1743814Z             should show the version specified
2024-02-20T21:48:41.1744885Z           with no version found
2024-02-20T21:48:41.2457082Z             should show N/A
2024-02-20T21:48:41.2457787Z       csv
2024-02-20T21:48:41.2967311Z         should be successful
2024-02-20T21:48:41.2968103Z     PUT #deactivate
2024-02-20T21:48:41.3169631Z       discards
2024-02-20T21:48:41.3170379Z       with inventory
2024-02-20T21:48:41.3649810Z         does not discard
2024-02-20T21:48:41.3650565Z     POST #import_csv
2024-02-20T21:48:41.3651705Z       csv file with wrong headers
2024-02-20T21:48:41.3781857Z         redirects
2024-02-20T21:48:41.3908486Z         presents a flash error message
2024-02-20T21:48:41.3909460Z       with a csv file
2024-02-20T21:48:41.4055824Z         redirects
2024-02-20T21:48:41.4201266Z         presents a flash notice message
2024-02-20T21:48:41.4252702Z         invokes .import_csv
2024-02-20T21:48:41.4253592Z       without a csv file
2024-02-20T21:48:41.4369925Z         presents a flash error message
2024-02-20T21:48:41.4484000Z         redirects to :index
2024-02-20T21:48:41.4484895Z   While not signed in
2024-02-20T21:48:41.4546409Z     redirects the user to the sign-in page for CRUD actions
2024-02-20T21:48:41.4547045Z 
2024-02-20T21:48:41.4547279Z Organization management
2024-02-20T21:48:41.4548519Z   while signed in as a normal user
2024-02-20T21:48:41.9062306Z     cannot see 'Make user' button for admins
2024-02-20T21:48:42.3597291Z     can see summary details about the organization as a user
2024-02-20T21:48:42.3597963Z   while signed in as an organization admin
2024-02-20T21:48:42.8567737Z     can re-invite a user to an organization after 7 days
2024-02-20T21:48:43.3356198Z     can see 'Make user' button for admins
2024-02-20T21:48:44.2796603Z     can add a new user to an organization
2024-02-20T21:48:45.2181942Z     can deactivate a user in the organization
2024-02-20T21:48:46.1859462Z     can re-activate a user in the organization
2024-02-20T21:48:46.1860505Z     Viewing the organization
2024-02-20T21:48:46.7217166Z       can view organization details
2024-02-20T21:48:46.7218128Z     Editing the organization
2024-02-20T21:48:47.5583576Z       can set a default storage location on the organization
2024-02-20T21:48:48.7415870Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-02-20T21:48:49.7027768Z       can select if the org repackages essentials
2024-02-20T21:48:50.6775225Z       can enable if the org uses single step invite and approve partner process
2024-02-20T21:48:52.2231419Z       can select and deselect Required Partner Fields
2024-02-20T21:48:53.0791767Z       can set a reminder and a deadline day
2024-02-20T21:48:54.0653822Z       can select if the org shows year-to-date values on the distribution printout
2024-02-20T21:48:55.0481225Z       can disable if the org does NOT use single step invite and approve partner process
2024-02-20T21:48:55.8800634Z       can set the NDBN Member ID
2024-02-20T21:48:56.8464588Z       can select if the org distributes essentials monthly
2024-02-20T21:48:56.8465712Z 
2024-02-20T21:48:56.8466130Z Managing requests
2024-02-20T21:48:56.8467797Z   creating a individuals/family request
2024-02-20T21:48:56.8468764Z     GIVEN a partner user is permitted to make a request
2024-02-20T21:48:56.8469796Z       WHEN they create a request properly
2024-02-20T21:48:56.8471312Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-02-20T21:48:58.9657066Z           AND the partner_user can view the details of the created individuals request in a seperate page
2024-02-20T21:48:58.9658533Z       WHEN they create a request inproperly
2024-02-20T21:48:59.8638812Z         should show an error message with the instructions
2024-02-20T21:48:59.8639885Z   creating a request
2024-02-20T21:48:59.8641149Z     GIVEN a partner user is permitted to make a request
2024-02-20T21:48:59.8642890Z       WHEN they create a request inproperly by not inputting anything
2024-02-20T21:49:00.8794865Z         should show an error message with the instructions
2024-02-20T21:49:00.8795843Z       WHEN they create a request properly
2024-02-20T21:49:00.8797221Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-02-20T21:49:03.1331158Z           AND the partner_user can view the details of the created request in a seperate page
2024-02-20T21:49:03.1332227Z       WHEN they create a request with only a comment
2024-02-20T21:49:04.0916438Z         should be created without any issue
2024-02-20T21:49:04.0918146Z 
2024-02-20T21:49:04.0918520Z /account_requests
2024-02-20T21:49:04.0920120Z   POST #create
2024-02-20T21:49:04.0921093Z     with invalid parameters
2024-02-20T21:49:04.1165808Z       renders a successful response (i.e. to display the 'new' template)
2024-02-20T21:49:04.1339158Z       does not create a new AccountRequest
2024-02-20T21:49:04.1339972Z     with valid parameters
2024-02-20T21:49:04.1462921Z       delivers the confirmation email via default queue
2024-02-20T21:49:04.1585485Z       redirects to the created account_request confirmation
2024-02-20T21:49:04.1702479Z       creates a new AccountRequest
2024-02-20T21:49:04.1703396Z   GET #confirmation
2024-02-20T21:49:04.1704486Z     when given a valid token
2024-02-20T21:49:04.1837258Z       should render the confirmation template
2024-02-20T21:49:04.1838381Z     when given a token that has already been confirmed
2024-02-20T21:49:04.3723456Z       should render a error that says that is code provided is invalid
2024-02-20T21:49:04.3724989Z     when given a invalid token
2024-02-20T21:49:04.3816679Z       should render a error that says that is code provided is invalid
2024-02-20T21:49:04.3817818Z   GET #new
2024-02-20T21:49:04.3978522Z     renders a successful response
2024-02-20T21:49:04.3979498Z   GET #received
2024-02-20T21:49:04.3980150Z     when given a valid token
2024-02-20T21:49:04.4177972Z       should render the received template
2024-02-20T21:49:04.4179165Z     when given a invalid token
2024-02-20T21:49:04.4266684Z       should render a error that says that is code provided is invalid
2024-02-20T21:49:04.4267707Z   GET #confirm
2024-02-20T21:49:04.4268570Z     when given a valid token
2024-02-20T21:49:04.4502847Z       should the update confirmed_at on the account_request, queue confirmation email and render confirm template
2024-02-20T21:49:04.4504251Z     when given a invalid token
2024-02-20T21:49:04.4583984Z       should render a error that says that is code provided is invalid
2024-02-20T21:49:04.4585169Z     when given a token that has already been confirmed
2024-02-20T21:49:04.6564720Z       should render a error that says that is code provided is invalid
2024-02-20T21:49:04.6565596Z 
2024-02-20T21:49:04.6565885Z Purchases
2024-02-20T21:49:04.6567710Z   while signed in as a normal user
2024-02-20T21:49:04.6568849Z     When visiting an existing purchase
2024-02-20T21:49:05.1457632Z       does not allow deletion of a purchase
2024-02-20T21:49:05.1458592Z     When creating a new purchase
2024-02-20T21:49:05.6726127Z       should not display inactive storage locations in dropdown
2024-02-20T21:49:05.6727839Z       via manual entry
2024-02-20T21:49:06.8072078Z         User can create a purchase IN THE PAST
2024-02-20T21:49:07.8375289Z         Does not include inactive items in the line item fields
2024-02-20T21:49:08.7575848Z         User can create a purchase using dollars decimal amount
2024-02-20T21:49:09.9520609Z         multiple line items for the same item type are accepted and combined on the backend
2024-02-20T21:49:10.9690788Z         User can create vendor from purchase
2024-02-20T21:49:10.9691411Z         when creating a purchase incorrectly
2024-02-20T21:49:11.9354459Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-02-20T21:49:12.7042677Z           should display failure with error messages
2024-02-20T21:49:12.7043986Z       via barcode entry
2024-02-20T21:49:13.9448197Z         a user can add items that do not yet have a barcode
2024-02-20T21:49:14.8720481Z         User scan same barcode 2 times
2024-02-20T21:49:15.5883187Z         a user can add items via scanning them in by barcode
2024-02-20T21:49:15.5884139Z       Editing purchase
2024-02-20T21:49:16.1115307Z         A user can see purchased_from value
2024-02-20T21:49:16.9492347Z         A user can view another organizations purchase
2024-02-20T21:49:16.9493431Z     When visiting the index page
2024-02-20T21:49:16.9494499Z       In the middle of the year
2024-02-20T21:49:17.6631066Z         User sees purchased date column
2024-02-20T21:49:18.3956460Z         User sees total purchases value
2024-02-20T21:49:19.1874567Z         User can click to the new purchase form
2024-02-20T21:49:19.1875228Z       When filtering on the index page
2024-02-20T21:49:19.9797338Z         User can filter the #index by storage location
2024-02-20T21:49:20.8147562Z         User can filter the #index by vendor
2024-02-20T21:49:20.8148634Z         behaves like Date Range Picker
2024-02-20T21:49:20.8149629Z           when choosing 'All Time'
2024-02-20T21:49:21.7863506Z             shows all the records
2024-02-20T21:49:21.7864340Z           when choosing 'Last Month'
2024-02-20T21:49:22.7461643Z             shows only 2 of the records
2024-02-20T21:49:22.7462407Z           when choosing a date range that only includes the previous week
2024-02-20T21:49:23.6945117Z             shows only 1 record
2024-02-20T21:49:23.6946440Z   while signed in as an organization admin
2024-02-20T21:49:24.7776079Z     allows deletion of a purchase
2024-02-20T21:49:24.7777586Z 
2024-02-20T21:49:24.7778175Z /partners/profiles
2024-02-20T21:49:24.7781490Z   GET #show
2024-02-20T21:49:24.8550558Z     shows correct values for yes/no buttons
2024-02-20T21:49:24.9098647Z     displays the partner
2024-02-20T21:49:24.9099316Z   PUT #update
2024-02-20T21:49:24.9713639Z     updates the partner and profile
2024-02-20T21:49:24.9714717Z     when updating an existing value to a blank value
2024-02-20T21:49:25.0290383Z       does not update other partner profile attributes to blank
2024-02-20T21:49:25.0872624Z       updates the partner profile attribute to a blank value
2024-02-20T21:49:25.1444908Z       does store N/A in the database
2024-02-20T21:49:25.1446166Z     with no social media
2024-02-20T21:49:25.2831393Z       shows an error
2024-02-20T21:49:25.2832783Z   GET #edit
2024-02-20T21:49:25.3939013Z     has "Yes" radio button value when value is true
2024-02-20T21:49:25.5052589Z     displays the partner
2024-02-20T21:49:25.6035010Z     does not have default radio button value when value is nil
2024-02-20T21:49:25.6952428Z     has "No" radio button value when value is false
2024-02-20T21:49:25.6955368Z 
2024-02-20T21:49:25.6955959Z Dashboard
2024-02-20T21:49:25.6957472Z   With a new essentials bank
2024-02-20T21:49:53.8393327Z     displays the getting started guide until the steps are completed
2024-02-20T21:49:53.8394586Z   With an existing essentials bank
2024-02-20T21:49:53.8395775Z     Inventory Totals
2024-02-20T21:49:53.8397267Z       Summary
2024-02-20T21:49:54.5910512Z         displays the on-hand totals
2024-02-20T21:49:54.5911418Z         when constrained to date range
2024-02-20T21:49:55.7126773Z           does not change
2024-02-20T21:49:55.7127860Z     Distributions
2024-02-20T21:49:56.6774145Z       has a link to create a new distribution
2024-02-20T21:49:56.6775712Z       given 1 Distribution on 2022-02-19  (unless 'All Time'), 3 during 2022-02-20..2024-02-01, and 1 on 2024-02-02
2024-02-20T21:49:56.6777131Z         filtering to '' (February 20, 2022 - February 1, 2024)
2024-02-20T21:49:58.2414530Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-20T21:49:58.2416724Z       given 1 Distribution on 2024-01-21  (unless 'All Time'), 2 during 2024-01-22..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:49:58.2418042Z         filtering to 'Last 30 Days'
2024-02-20T21:49:59.7083835Z           shows the correct total and 2 Recent Distribution link(s)
2024-02-20T21:49:59.7085738Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-20T21:49:59.7086991Z         filtering to 'This Year'
2024-02-20T21:50:01.1066229Z           shows the correct total and 1 Recent Distribution link(s)
2024-02-20T21:50:01.1068107Z       given 1 Distribution on 2024-02-13  (unless 'All Time'), 0 during 2024-02-14..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:50:01.1069068Z         filtering to 'Last 7 Days'
2024-02-20T21:50:04.5435597Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-20T21:50:04.5437619Z       given 1 Distribution on 2024-02-18  (unless 'All Time'), 2 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-20T21:50:04.5439152Z         filtering to 'Yesterday'
2024-02-20T21:50:06.0157566Z           shows the correct total and 2 Recent Distribution link(s)
2024-02-20T21:50:06.0159014Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 1 during 2000-01-01..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:50:06.0160019Z         filtering to 'All Time'
2024-02-20T21:50:07.4619069Z           shows the correct total and 1 Recent Distribution link(s)
2024-02-20T21:50:07.4621243Z       given 1 Distribution on 2024-02-19  (unless 'All Time'), 0 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:50:07.4622668Z         filtering to 'Today'
2024-02-20T21:50:10.8993411Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-20T21:50:10.8995107Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 0 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-20T21:50:10.8995980Z         filtering to 'Last Month'
2024-02-20T21:50:14.2550175Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-20T21:50:14.2552098Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-20T21:50:14.2553389Z         filtering to 'This Month'
2024-02-20T21:50:15.7080063Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-20T21:50:15.7081078Z     Product Drives
2024-02-20T21:50:16.3518816Z       has a widget for product drive summary data
2024-02-20T21:50:16.3520952Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 4 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-20T21:50:16.3522957Z         filtering to 'This Year'
2024-02-20T21:50:18.0156795Z           shows the correct total donations
2024-02-20T21:50:19.6755364Z           shows 3 Recent Donation link(s)
2024-02-20T21:50:21.2875394Z           shows the correct total money raised
2024-02-20T21:50:21.2877522Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-20T21:50:21.2878828Z         filtering to 'This Month'
2024-02-20T21:50:22.7253774Z           shows 1 Recent Donation link(s)
2024-02-20T21:50:24.1283443Z           shows the correct total money raised
2024-02-20T21:50:25.5319100Z           shows the correct total donations
2024-02-20T21:50:25.5320860Z       given 1 Product Drive Donation on 2022-02-19 (unless 'All Time'), 1 during 2022-02-20..2024-01-05, and 1 on 2024-01-06
2024-02-20T21:50:25.5324205Z         filtering to '' (February 20, 2022 - January 5, 2024)
2024-02-20T21:50:26.9219233Z           shows the correct total money raised
2024-02-20T21:50:28.3847271Z           shows the correct total donations
2024-02-20T21:50:29.9007988Z           shows 1 Recent Donation link(s)
2024-02-20T21:50:29.9008879Z       Product drive behaviour with Mixed Donation types
2024-02-20T21:50:30.6366027Z         only shows product drive donations as product drive donations
2024-02-20T21:50:31.3332891Z         only counts product drive money raised
2024-02-20T21:50:32.0557383Z         only counts product drive donations for product drive
2024-02-20T21:50:32.0559283Z       given 1 Product Drive Donation on 2024-02-19 (unless 'All Time'), 0 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:50:32.0561012Z         filtering to 'Today'
2024-02-20T21:50:33.3842209Z           shows the correct total donations
2024-02-20T21:50:34.7167222Z           shows the correct total money raised
2024-02-20T21:50:38.0486842Z           shows 0 Recent Donation link(s)
2024-02-20T21:50:38.0488799Z       given 1 Product Drive Donation on 2024-01-21 (unless 'All Time'), 2 during 2024-01-22..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:50:38.0490139Z         filtering to 'Last 30 Days'
2024-02-20T21:50:39.4967293Z           shows the correct total donations
2024-02-20T21:50:40.9603498Z           shows 2 Recent Donation link(s)
2024-02-20T21:50:42.3806338Z           shows the correct total money raised
2024-02-20T21:50:42.3808182Z       given 1 Product Drive Donation on 2024-02-13 (unless 'All Time'), 1 during 2024-02-14..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:50:42.3809502Z         filtering to 'Last 7 Days'
2024-02-20T21:50:43.7772554Z           shows 1 Recent Donation link(s)
2024-02-20T21:50:45.2189060Z           shows the correct total money raised
2024-02-20T21:50:46.6419737Z           shows the correct total donations
2024-02-20T21:50:46.6421742Z       given 1 Product Drive Donation on 2024-02-18 (unless 'All Time'), 0 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-20T21:50:46.6422655Z         filtering to 'Yesterday'
2024-02-20T21:50:47.9718422Z           shows the correct total donations
2024-02-20T21:50:49.3241808Z           shows the correct total money raised
2024-02-20T21:50:52.7251992Z           shows 0 Recent Donation link(s)
2024-02-20T21:50:52.7254053Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 0 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-20T21:50:52.7255528Z         filtering to 'Last Month'
2024-02-20T21:50:56.1421445Z           shows 0 Recent Donation link(s)
2024-02-20T21:50:57.5792676Z           shows the correct total money raised
2024-02-20T21:50:58.9780722Z           shows the correct total donations
2024-02-20T21:50:58.9782028Z     Donations
2024-02-20T21:50:59.8887828Z       has a link to create a new donation
2024-02-20T21:50:59.8889702Z       given 1 Donation on 2024-01-31 (only if a valid date), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-20T21:50:59.8890993Z         filtering to 'This Month'
2024-02-20T21:51:01.3188512Z           shows the correct total and 1 Recent Donation link(s)
2024-02-20T21:51:01.3190643Z       given 1 Donation on 2023-12-31 (only if a valid date), 4 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-20T21:51:01.3191981Z         filtering to 'This Year'
2024-02-20T21:51:02.8498838Z           shows the correct total and 3 Recent Donation link(s)
2024-02-20T21:51:02.8500671Z       given 1 Donation on 2023-12-31 (only if a valid date), 0 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-20T21:51:02.8502136Z         filtering to 'Last Month'
2024-02-20T21:51:06.2478179Z           shows the correct total and 0 Recent Donation link(s)
2024-02-20T21:51:06.2480030Z       given 1 Donation on 2022-02-19 (only if a valid date), 1 during 2022-02-20..2023-09-11, and 1 on 2023-09-12
2024-02-20T21:51:06.2481673Z         filtering to '' (February 20, 2022 - September 11, 2023)
2024-02-20T21:51:07.6036811Z           shows the correct total and 1 Recent Donation link(s)
2024-02-20T21:51:07.6038823Z       given 1 Donation on 2024-01-21 (only if a valid date), 0 during 2024-01-22..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:51:07.6040109Z         filtering to 'Last 30 Days'
2024-02-20T21:51:10.9407043Z           shows the correct total and 0 Recent Donation link(s)
2024-02-20T21:51:10.9408893Z       given 1 Donation on 2024-02-13 (only if a valid date), 1 during 2024-02-14..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:51:10.9410174Z         filtering to 'Last 7 Days'
2024-02-20T21:51:12.3383354Z           shows the correct total and 1 Recent Donation link(s)
2024-02-20T21:51:12.3385605Z       given 1 Donation on 2024-02-18 (only if a valid date), 3 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-20T21:51:12.3387027Z         filtering to 'Yesterday'
2024-02-20T21:51:13.8449131Z           shows the correct total and 3 Recent Donation link(s)
2024-02-20T21:51:13.8450968Z       given 1 Donation on 2024-02-19 (only if a valid date), 1 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:51:13.8451903Z         filtering to 'Today'
2024-02-20T21:51:15.2187452Z           shows the correct total and 1 Recent Donation link(s)
2024-02-20T21:51:15.2188469Z     Manufacturer Donations
2024-02-20T21:51:15.8014983Z       has a link to create a new donation
2024-02-20T21:51:15.8016784Z       given 1 Manufacturer donating on 2024-02-18  (unless 'All Time'), 0 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-20T21:51:15.8018059Z         filtering to 'Yesterday'
2024-02-20T21:51:17.1719026Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-02-20T21:51:17.1721077Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-20T21:51:17.1722622Z         filtering to 'Last Month'
2024-02-20T21:51:18.8249570Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-02-20T21:51:18.8251360Z       given 1 Manufacturer donating on 2024-02-13  (unless 'All Time'), 8 during 2024-02-14..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:51:18.8252215Z         filtering to 'Last 7 Days'
2024-02-20T21:51:21.1841920Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-20T21:51:21.1843999Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 1 during 2000-01-01..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:51:21.1845344Z         filtering to 'All Time'
2024-02-20T21:51:22.6914491Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-02-20T21:51:22.6916065Z       given 1 Manufacturer donating on 2024-01-21  (unless 'All Time'), 6 during 2024-01-22..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:51:22.6917104Z         filtering to 'Last 30 Days'
2024-02-20T21:51:24.7352227Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-02-20T21:51:24.7356305Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-20T21:51:24.7357699Z         filtering to 'This Month'
2024-02-20T21:51:26.0960772Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-02-20T21:51:26.0962327Z       given 1 Manufacturer donating on 2024-02-19  (unless 'All Time'), 7 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:51:26.0963383Z         filtering to 'Today'
2024-02-20T21:51:28.1245002Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-02-20T21:51:28.1247001Z       given 1 Manufacturer donating on 2022-02-19  (unless 'All Time'), 1 during 2022-02-20..2024-01-19, and 1 on 2024-01-20
2024-02-20T21:51:28.1247997Z         filtering to '' (February 20, 2022 - January 19, 2024)
2024-02-20T21:51:29.6569760Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-02-20T21:51:29.6571820Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 5 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-20T21:51:29.6573202Z         filtering to 'This Year'
2024-02-20T21:51:31.6585148Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-02-20T21:51:31.6586163Z     Signage
2024-02-20T21:51:34.5851404Z       shows their organization name unless they have a logo set
2024-02-20T21:51:34.5852389Z     Purchases
2024-02-20T21:51:35.5144155Z       has a link to create a new purchase
2024-02-20T21:51:35.5146678Z       given 1 Purchase on 2022-02-19  (unless 'All Time'), 0 during 2022-02-20..2024-02-04, and 1 on 2024-02-05
2024-02-20T21:51:35.5148940Z         filtering to '' (February 20, 2022 - February 4, 2024)
2024-02-20T21:51:39.0065921Z           shows correct 0 Recent Purchase link(s)
2024-02-20T21:51:39.0067579Z       given 1 Purchase on 2024-02-19  (unless 'All Time'), 3 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:51:39.0068454Z         filtering to 'Today'
2024-02-20T21:51:40.5539176Z           shows correct 3 Recent Purchase link(s)
2024-02-20T21:51:40.5540625Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-20T21:51:40.5541787Z         filtering to 'This Month'
2024-02-20T21:51:43.9355887Z           shows correct 0 Recent Purchase link(s)
2024-02-20T21:51:43.9357743Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 1 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-20T21:51:43.9359591Z         filtering to 'Last Month'
2024-02-20T21:51:45.3998043Z           shows correct 1 Recent Purchase link(s)
2024-02-20T21:51:45.3999960Z       given 1 Purchase on 2024-02-18  (unless 'All Time'), 0 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-20T21:51:45.4001210Z         filtering to 'Yesterday'
2024-02-20T21:51:48.8175675Z           shows correct 0 Recent Purchase link(s)
2024-02-20T21:51:48.8177056Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-20T21:51:48.8177993Z         filtering to 'This Year'
2024-02-20T21:51:50.3052808Z           shows correct 2 Recent Purchase link(s)
2024-02-20T21:51:50.3054815Z       given 1 Purchase on 2024-01-21  (unless 'All Time'), 4 during 2024-01-22..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:51:50.3055829Z         filtering to 'Last 30 Days'
2024-02-20T21:51:51.9223514Z           shows correct 3 Recent Purchase link(s)
2024-02-20T21:51:51.9228078Z       given 1 Purchase on 2024-02-13  (unless 'All Time'), 0 during 2024-02-14..2024-02-20, and 1 on 2024-02-21
2024-02-20T21:51:51.9229215Z         filtering to 'Last 7 Days'
2024-02-20T21:51:55.3322108Z           shows correct 0 Recent Purchase link(s)
2024-02-20T21:51:55.3324246Z 
2024-02-20T21:51:55.3324392Z Audits
2024-02-20T21:51:55.3326018Z   while signed in as an organization admin
2024-02-20T21:51:55.3327483Z     POST #create
2024-02-20T21:51:55.3328520Z       with valid params
2024-02-20T21:51:55.3828346Z         redirects to the #show after created audit
2024-02-20T21:51:55.4250657Z         assigns a newly created audit as @audit
2024-02-20T21:51:55.4674132Z         creates a new Audit
2024-02-20T21:51:55.5103129Z         creates a new Audit with status as `in_progress` if `save_progress` is passed as a param
2024-02-20T21:51:55.5534120Z         creates a new Audit with status as `confirmed` if `confirm_audit` is passed as a param
2024-02-20T21:51:55.5534910Z       with invalid params
2024-02-20T21:51:55.6618454Z         re-renders the 'new' template with an error message when an invalid storage location is given
2024-02-20T21:51:55.8019068Z         assigns a newly created but unsaved audit as @audit
2024-02-20T21:51:55.9333213Z         re-renders the 'new' template
2024-02-20T21:51:55.9333984Z     POST #finalize
2024-02-20T21:51:56.0239884Z       sets the finalize status and saves an event
2024-02-20T21:51:56.0240644Z     GET #index
2024-02-20T21:51:56.0935084Z       is successful
2024-02-20T21:51:56.0935765Z     GET #new
2024-02-20T21:51:56.1433724Z       is successful
2024-02-20T21:51:56.1434305Z     GET #show
2024-02-20T21:51:56.2045357Z       is successful
2024-02-20T21:51:56.2045941Z     DELETE #destroy
2024-02-20T21:51:56.2046413Z       with valid params
2024-02-20T21:51:56.2489544Z         destroys the audit if the audit's status is `in_progress`
2024-02-20T21:51:56.2897744Z         can not destroy the audit if the audit's status is `finalized`
2024-02-20T21:51:56.3336966Z         destroys the audit if the audit's status is `confirms`
2024-02-20T21:51:56.3337803Z     GET #edit
2024-02-20T21:51:56.4077369Z       redirects to #index if the status of audit is not `in_progress`
2024-02-20T21:51:56.4863705Z       is successful if the status of audit is `in_progress`
2024-02-20T21:51:56.4864924Z 
2024-02-20T21:51:56.4865055Z Vendor
2024-02-20T21:51:56.4866774Z   when creating a new vendor
2024-02-20T21:51:57.2403886Z     cannot add a new vendor instance with empty attributes
2024-02-20T21:51:58.0522989Z     can create a new vendor instance as a user
2024-02-20T21:51:58.0523713Z   When vendor have purchases associated with them already
2024-02-20T21:51:58.6927867Z     can have a single vendor show semi-detailed stats about purchases
2024-02-20T21:51:59.3055447Z     can have existing vendors show in the #index with some summary stats
2024-02-20T21:51:59.3056181Z   When a user views the index page
2024-02-20T21:51:59.7793047Z     should have the vendor names in alphabetical order
2024-02-20T21:51:59.7794075Z   when editing an existing vendor
2024-02-20T21:52:00.6113886Z     does not update a vendor with empty attributes
2024-02-20T21:52:01.4532750Z     can update the contact info for a vendor as a user
2024-02-20T21:52:01.4533504Z 
2024-02-20T21:52:01.4533688Z DonationSites
2024-02-20T21:52:01.4535346Z   while signed in
2024-02-20T21:52:01.4536165Z     GET #index
2024-02-20T21:52:01.4537313Z       html
2024-02-20T21:52:01.4943097Z         is expected to be successful
2024-02-20T21:52:01.4943790Z       csv
2024-02-20T21:52:01.5131899Z         is expected to be successful
2024-02-20T21:52:01.5304809Z W, [2024-02-20T13:52:01.530195 #2379]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-02-20T21:52:01.5306100Z W, [2024-02-20T13:52:01.530260 #2379]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-20T21:52:01.5308240Z W, [2024-02-20T13:52:01.530290 #2379]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-20T21:52:01.5311140Z W, [2024-02-20T13:52:01.530332 #2379]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-02-20T21:52:01.5311891Z 
2024-02-20T21:52:01.5312147Z Finished in 3 minutes 42.2 seconds (files took 8.62 seconds to load)
2024-02-20T21:52:01.5312632Z 235 examples, 0 failures
2024-02-20T21:52:01.5312817Z 
2024-02-20T21:52:01.5312928Z Randomized with seed 48225
2024-02-20T21:52:01.5313124Z 
2024-02-20T21:52:01.8316576Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3818 / 6403 LOC (59.63%) covered.
2024-02-20T21:52:02.4032774Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10651 LOC (0.36%) covered.
