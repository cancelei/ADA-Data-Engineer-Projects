2024-03-12T06:23:40.0603167Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-12T06:23:40.0604137Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-12T06:23:40.0654966Z shell: /usr/bin/bash -e {0}
2024-03-12T06:23:40.0655392Z env:
2024-03-12T06:23:40.0655718Z   POSTGRES_HOST: localhost
2024-03-12T06:23:40.0656224Z   DATABASE_HOST: localhost
2024-03-12T06:23:40.0656577Z   PG_USERNAME: postgres
2024-03-12T06:23:40.0656951Z   PG_PASSWORD: password
2024-03-12T06:23:40.0657440Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-12T06:23:40.0657874Z   POSTGRES_PORT: 5432
2024-03-12T06:23:40.0658205Z   PGHOST: localhost
2024-03-12T06:23:40.0658644Z   PGUSER: postgres
2024-03-12T06:23:40.0658988Z   RAILS_ENV: test
2024-03-12T06:23:40.0659473Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-12T06:23:40.0659929Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-12T06:23:40.0660316Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-03-12T06:23:40.0660863Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-12T06:23:40.0661473Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-12T06:23:40.0662198Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-12T06:23:40.0662891Z   EVENTS_READ: true
2024-03-12T06:23:40.0663203Z ##[endgroup]
2024-03-12T06:23:45.7808566Z W, [2024-03-12T06:23:45.780422 #2350]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-12T06:23:45.7810498Z W, [2024-03-12T06:23:45.780513 #2350]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:23:45.7812685Z W, [2024-03-12T06:23:45.780544 #2350]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:23:45.7816421Z W, [2024-03-12T06:23:45.780582 #2350]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-12T06:23:48.3508403Z W, [2024-03-12T06:23:48.350501 #2350]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-12T06:23:48.3511371Z W, [2024-03-12T06:23:48.350551 #2350]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:23:48.3515236Z W, [2024-03-12T06:23:48.350565 #2350]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:23:48.3521031Z W, [2024-03-12T06:23:48.350623 #2350]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-12T06:23:48.3574270Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/organization_requests_spec.rb" "spec/requests/partners/individuals_requests_controller_spec.rb" "spec/requests/product_drive_participants_requests_spec.rb" "spec/requests/sessions_requests_spec.rb" "spec/requests/vendors_requests_spec.rb" "spec/system/admin/base_items_system_spec.rb" "spec/system/authorization_system_spec.rb" "spec/system/donation_system_spec.rb" "spec/system/manufacturer_system_spec.rb" "spec/system/partners/family_requests_system_spec.rb" "spec/system/product_drive_system_spec.rb" "spec/system/storage_location_system_spec.rb"
2024-03-12T06:23:56.6773759Z 
2024-03-12T06:23:56.6774928Z Randomized with seed 48602
2024-03-12T06:23:57.6502556Z 
2024-03-12T06:23:57.6503308Z Partners::IndividualsRequestsController
2024-03-12T06:23:57.6505866Z   GET #new
2024-03-12T06:23:57.7254726Z     does not allow partners not verified
2024-03-12T06:23:57.7645246Z     does not allow deactivated partners
2024-03-12T06:23:57.7646432Z     when first reaching the new page
2024-03-12T06:23:57.8256697Z       has the correct select fields
2024-03-12T06:23:57.8257681Z   POST #create
2024-03-12T06:23:57.8756379Z     does not allow partners not verified
2024-03-12T06:23:57.9174962Z     does not allow deactivated partners
2024-03-12T06:23:57.9175944Z     when the request is valid
2024-03-12T06:23:57.9896670Z       submits the request
2024-03-12T06:23:57.9897251Z     when a request has only a comment
2024-03-12T06:23:58.0364316Z       is valid
2024-03-12T06:23:58.0365349Z     when a request is empty
2024-03-12T06:23:58.0886474Z       is invalid
2024-03-12T06:23:58.0887339Z     when the request has invalid inputs
2024-03-12T06:23:58.1476590Z       shows an error
2024-03-12T06:23:58.1477231Z     after invalid submission
2024-03-12T06:23:58.2022836Z       has the correct select fields
2024-03-12T06:23:58.2023678Z     when a request has an empty row
2024-03-12T06:23:58.2527450Z       is valid
2024-03-12T06:23:58.2528146Z 
2024-03-12T06:23:58.2528449Z Product Drives
2024-03-12T06:23:58.2530604Z   when creating a normal product drive
2024-03-12T06:24:05.1752730Z     must have correct attributes
2024-03-12T06:24:05.9712519Z     must create a new product drive
2024-03-12T06:24:06.7722976Z     must have the success message
2024-03-12T06:24:06.7724041Z   When visiting the index page without parameters
2024-03-12T06:24:07.2702718Z     shows two non-virtual product drives
2024-03-12T06:24:07.8009471Z     shows the expected product drives
2024-03-12T06:24:08.3145550Z     Shows the expected filters with the expected values and in alphabetical order for name filter
2024-03-12T06:24:08.8150722Z     shows in descending order of start date
2024-03-12T06:24:09.2983693Z     shows only one virtual product drives
2024-03-12T06:24:09.2984359Z   when creating a Virtual Product Drive
2024-03-12T06:24:10.2226098Z     must create a new virtual Product Drive
2024-03-12T06:24:11.1627264Z     must have the success message
2024-03-12T06:24:12.1681286Z     must have correct attributes
2024-03-12T06:24:12.1681984Z   when showing a Product Drive with no end date
2024-03-12T06:24:12.6119896Z     must be able to show the product drive
2024-03-12T06:24:12.6120752Z 
2024-03-12T06:24:12.6120933Z Storage Locations
2024-03-12T06:24:12.6122463Z   when creating a new storage location
2024-03-12T06:24:13.6564040Z     User creates a new storage location with optional fields
2024-03-12T06:24:14.4598006Z     User creates a new storage location
2024-03-12T06:24:15.2135446Z     User creates a new storage location with empty attributes
2024-03-12T06:24:15.2136143Z   when editing an existing storage location
2024-03-12T06:24:16.0100702Z     User updates an existing storage location
2024-03-12T06:24:16.7706955Z     User updates an existing storage location with empty name
2024-03-12T06:24:16.7708006Z   when viewing an existing storage location
2024-03-12T06:24:17.4697954Z     Items in (adjustments)
2024-03-12T06:24:18.1580308Z     Items out (distributions)
2024-03-12T06:24:18.1581133Z   when viewing the index
2024-03-12T06:24:18.9433123Z     Stops a user from deactivating storage locations with inventory
2024-03-12T06:24:19.5515425Z     Filter list presented to user is in alphabetical order by item name
2024-03-12T06:24:20.6804139Z     shows totals that are the sum totals of all inputs
2024-03-12T06:24:21.9078293Z     User can filter the #index by those that contain certain items
2024-03-12T06:24:22.8159807Z     Allows user to filter discarded storage locations
2024-03-12T06:24:24.1940816Z     Allows user to deactivate and reactivate storage locations
2024-03-12T06:24:24.1941746Z 
2024-03-12T06:24:24.1941966Z Manufacturer
2024-03-12T06:24:24.9466805Z   allows a user to update a manufacturer with empty attributes
2024-03-12T06:24:25.7231135Z   allows a user to update the contact info for a manufacturer
2024-03-12T06:24:26.4883568Z   allows a user to create a new manufacturer instance
2024-03-12T06:24:27.2072734Z   allows a user to add a new manufacturer instance with empty attributes
2024-03-12T06:24:27.2074168Z   When the Manufacturers have donations associated with them already
2024-03-12T06:24:27.8759382Z     shows existing Manufacturers in the #index with some summary stats
2024-03-12T06:24:28.5738191Z     allows single Manufacturers to show semi-detailed stats about donations from that manufacturer
2024-03-12T06:24:28.5739660Z   When a user views the index page
2024-03-12T06:24:29.0577026Z     alphabetizes the manufacturer names
2024-03-12T06:24:29.0578147Z 
2024-03-12T06:24:29.0579797Z Sessions
2024-03-12T06:24:29.0580532Z   Sign in as user without logging off as an admin
2024-03-12T06:24:29.0740244Z     cannot access admin dashboard
2024-03-12T06:24:29.0871784Z     properly accesses the organization dashboard
2024-03-12T06:24:29.0873020Z 
2024-03-12T06:24:29.0873288Z Organizations
2024-03-12T06:24:29.0874791Z   While signed in as a normal user
2024-03-12T06:24:29.0875863Z     GET #edit
2024-03-12T06:24:29.0999944Z       is expected to redirect to "/db_1/dashboard"
2024-03-12T06:24:29.1120224Z       is expected to have error
2024-03-12T06:24:29.1120954Z     GET #show
2024-03-12T06:24:29.1668681Z       load the current organization
2024-03-12T06:24:29.2097313Z       is expected to be successful
2024-03-12T06:24:29.2098473Z     PATCH #update
2024-03-12T06:24:29.2225563Z       is expected to redirect to "/db_1/dashboard"
2024-03-12T06:24:29.2340663Z       is expected to have error
2024-03-12T06:24:29.2341558Z   When signed in as a super admin
2024-03-12T06:24:29.2342371Z     POST #demote_to_user
2024-03-12T06:24:29.2734172Z       runs successfully
2024-03-12T06:24:29.2735041Z     PUT #deactivate_user
2024-03-12T06:24:29.2900979Z       redirect after update
2024-03-12T06:24:29.3077947Z       deactivates the user
2024-03-12T06:24:29.3078812Z     POST #promote_to_org_admin
2024-03-12T06:24:29.3320996Z       runs successfully
2024-03-12T06:24:29.3321633Z     PUT #reactivate_user
2024-03-12T06:24:29.3515425Z       reactivates the user
2024-03-12T06:24:29.3686334Z       redirect after update
2024-03-12T06:24:29.3687218Z   While signed in as an organization admin
2024-03-12T06:24:29.3688294Z     PATCH #update
2024-03-12T06:24:29.3871860Z       should be redirect after update
2024-03-12T06:24:29.4056073Z       can update name
2024-03-12T06:24:29.4058153Z       when organization can not be updated
2024-03-12T06:24:29.4611877Z         renders edit template with an error message
2024-03-12T06:24:29.4612992Z     GET #edit
2024-03-12T06:24:29.5044363Z       is expected to be successful
2024-03-12T06:24:29.5469775Z       is expected to render template matcher "edit"
2024-03-12T06:24:29.5911526Z       initializing the given organization
2024-03-12T06:24:29.5912861Z     when attempting to access a different organization
2024-03-12T06:24:29.5914339Z       GET #edit
2024-03-12T06:24:29.8091591Z         shows your own anyway
2024-03-12T06:24:29.8092459Z       POST #promote_to_org_admin
2024-03-12T06:24:30.0142924Z         redirects after update
2024-03-12T06:24:30.0143916Z       GET #show
2024-03-12T06:24:30.2436253Z         shows your own anyway
2024-03-12T06:24:30.2437103Z     PUT #deactivate_user
2024-03-12T06:24:30.2624408Z       deactivates the user
2024-03-12T06:24:30.2783745Z       redirect after update
2024-03-12T06:24:30.2784489Z     POST #promote_to_org_admin
2024-03-12T06:24:30.3005503Z       runs successfully
2024-03-12T06:24:30.3006137Z     POST #demote_to_user
2024-03-12T06:24:30.3354067Z       runs correctly
2024-03-12T06:24:30.3355145Z     PUT #reactivate_user
2024-03-12T06:24:30.3538794Z       reactivates the user
2024-03-12T06:24:30.3709086Z       redirect after update
2024-03-12T06:24:30.3710275Z 
2024-03-12T06:24:30.3710700Z /account_requests
2024-03-12T06:24:30.3712498Z   GET #confirm
2024-03-12T06:24:30.3713758Z     when given a token that has already been confirmed
2024-03-12T06:24:30.5694410Z       should render a error that says that is code provided is invalid
2024-03-12T06:24:30.5695341Z     when given a invalid token
2024-03-12T06:24:30.5760870Z       should render a error that says that is code provided is invalid
2024-03-12T06:24:30.5761857Z     when given a valid token
2024-03-12T06:24:30.5967582Z       should the update confirmed_at on the account_request, queue confirmation email and render confirm template
2024-03-12T06:24:30.5968940Z   GET #confirmation
2024-03-12T06:24:30.5969604Z     when given a invalid token
2024-03-12T06:24:30.6022638Z       should render a error that says that is code provided is invalid
2024-03-12T06:24:30.6023614Z     when given a valid token
2024-03-12T06:24:30.6153239Z       should render the confirmation template
2024-03-12T06:24:30.6154264Z     when given a token that has already been confirmed
2024-03-12T06:24:30.7959098Z       should render a error that says that is code provided is invalid
2024-03-12T06:24:30.7960170Z   GET #new
2024-03-12T06:24:30.8092218Z     renders a successful response
2024-03-12T06:24:30.8092906Z   GET #received
2024-03-12T06:24:30.8093649Z     when given a invalid token
2024-03-12T06:24:30.8149587Z       should render a error that says that is code provided is invalid
2024-03-12T06:24:30.8150683Z     when given a valid token
2024-03-12T06:24:30.8282819Z       should render the received template
2024-03-12T06:24:30.8283802Z   POST #create
2024-03-12T06:24:30.8284411Z     with valid parameters
2024-03-12T06:24:30.8400404Z       delivers the confirmation email via default queue
2024-03-12T06:24:30.8521532Z       creates a new AccountRequest
2024-03-12T06:24:30.8643118Z       redirects to the created account_request confirmation
2024-03-12T06:24:30.8644498Z     with invalid parameters
2024-03-12T06:24:30.8828774Z       does not create a new AccountRequest
2024-03-12T06:24:30.8993093Z       renders a successful response (i.e. to display the 'new' template)
2024-03-12T06:24:30.8993979Z 
2024-03-12T06:24:30.8994299Z Family requests
2024-03-12T06:24:30.8995561Z   for children with different items, from different families
2024-03-12T06:24:32.5936193Z     it creates family requests
2024-03-12T06:24:32.5937038Z   filtering children
2024-03-12T06:24:33.5637490Z     user can see a list of children filtered by guardian name
2024-03-12T06:24:34.4901966Z     user can see a list of children filtered by first_name
2024-03-12T06:24:34.4902734Z 
2024-03-12T06:24:34.4902959Z Donations
2024-03-12T06:24:34.4904678Z   When signed in as a normal user
2024-03-12T06:24:34.4905985Z     When visiting the index page
2024-03-12T06:24:35.0112081Z       Displays Total quantity on the index page
2024-03-12T06:24:35.8287150Z       Allows User to click to the new donation form
2024-03-12T06:24:36.6347444Z       doesn't die when an inactive item is in a donation
2024-03-12T06:24:37.5157281Z       should not display inactive storage locations in dropdown
2024-03-12T06:24:37.5158297Z     When creating a new donation
2024-03-12T06:24:38.0270696Z       should not display inactive storage locations in dropdown
2024-03-12T06:24:38.0271384Z       Via barcode entry
2024-03-12T06:24:38.9622792Z         Allows User to add items by barcode (FAILED - 1)
2024-03-12T06:24:38.9625452Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Allows-User-to-add-items-by-barcode_2024-03-11-23-24-38.825.html[0m
2024-03-12T06:24:38.9628325Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Allows-User-to-add-items-by-barcode_2024-03-11-23-24-38.825.png[0m
2024-03-12T06:24:39.8122914Z         Updates the line item when the same barcode is scanned twice (FAILED - 2)
2024-03-12T06:24:39.8125686Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Updates-the-line-item-when-the-same-barcode-is-scanned-twice_2024-03-11-23-24-39.678.html[0m
2024-03-12T06:24:39.8128650Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Updates-the-line-item-when-the-same-barcode-is-scanned-twice_2024-03-11-23-24-39.678.png[0m
2024-03-12T06:24:40.7400885Z         Allows User to add items that do not yet have a barcode
2024-03-12T06:24:40.7401685Z         When the barcode is a global barcode
2024-03-12T06:24:41.8777510Z           Adds the oldest item it can find for the global barcode (FAILED - 3)
2024-03-12T06:24:41.8780356Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Adds-the-oldest-item-it-can-find-for-the-global-barcode_2024-03-11-23-24-41.745.html[0m
2024-03-12T06:24:41.8783832Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Adds-the-oldest-item-it-can-find-for-the-global-barcode_2024-03-11-23-24-41.745.png[0m
2024-03-12T06:24:41.8785889Z       Via manual entry
2024-03-12T06:24:42.7662145Z         User can create a donation using dollars decimal amount for its money raised
2024-03-12T06:24:45.4136610Z         Ensures Barcode Entry fields have unique ids (FAILED - 4)
2024-03-12T06:24:45.4138082Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Ensures-Barcode-Entry-fields-have-unique-ids_2024-03-11-23-24-45.277.html[0m
2024-03-12T06:24:45.4140729Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Ensures-Barcode-Entry-fields-have-unique-ids_2024-03-11-23-24-45.277.png[0m
2024-03-12T06:24:46.2144511Z         Does not include inactive items in the line item fields
2024-03-12T06:24:47.1220157Z         Allows User to create a donation for Purchased Supplies
2024-03-12T06:24:48.0054852Z         Displays nested errors
2024-03-12T06:24:48.7931499Z         Allows User to create a Product Drive Participant from donation
2024-03-12T06:24:49.7014050Z         Allows User to create a donation for a Manufacturer source
2024-03-12T06:24:50.6940619Z         Repopulates items dropdown even if initial submission doesn't validate
2024-03-12T06:24:51.6571006Z         Strips extraneous data if the user adds both Donation Site and Product Drive Participant
2024-03-12T06:24:52.4104515Z         Allows User to create a Manufacturer from donation
2024-03-12T06:24:53.3061268Z         Verifies unusually large donation quantities
2024-03-12T06:24:54.0759733Z         Allows User to create a Product Drive from donation
2024-03-12T06:24:54.9841508Z         Allows User to create a donation for a ProductDrive Participant source
2024-03-12T06:24:57.6793504Z         Accepts and combines multiple line items for the same item type (FAILED - 5)
2024-03-12T06:24:57.6796368Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Accepts-and-combines-multiple-line-items-for-the-same-item-type_2024-03-11-23-24-57.544.html[0m
2024-03-12T06:24:57.6799240Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Accepts-and-combines-multiple-line-items-for-the-same-item-type_2024-03-11-23-24-57.544.png[0m
2024-03-12T06:24:58.5771205Z         Allows User to create a donation with a Miscellaneous source
2024-03-12T06:24:59.4805291Z         Allows donations to be created IN THE PAST
2024-03-12T06:25:00.3861237Z         Allows User to create a donation for a Donation Site source
2024-03-12T06:25:00.3862445Z     When filtering on the index page
2024-03-12T06:25:01.2023341Z       Filters by donation site
2024-03-12T06:25:02.0525816Z       Filters by manufacturer
2024-03-12T06:25:02.9522559Z       Filters by product drive participant
2024-03-12T06:25:03.7947390Z       Filter by product drive participant sticks around
2024-03-12T06:25:04.6174150Z       Filters by product drives
2024-03-12T06:25:05.4328574Z       Filters by storage location
2024-03-12T06:25:06.5230044Z       Filters by multiple attributes
2024-03-12T06:25:07.3492156Z       Filters by the source
2024-03-12T06:25:07.3493174Z       behaves like Date Range Picker
2024-03-12T06:25:07.3494106Z         when choosing a date range that only includes the previous week
2024-03-12T06:25:08.2863419Z           shows only 1 record
2024-03-12T06:25:08.2864365Z         when choosing 'Last Month'
2024-03-12T06:25:09.2518200Z           shows only 2 of the records
2024-03-12T06:25:09.2519366Z         when choosing 'All Time'
2024-03-12T06:25:10.1919033Z           shows all the records
2024-03-12T06:25:10.1919854Z     When viewing an existing donation
2024-03-12T06:25:10.7103644Z       displays donation comment
2024-03-12T06:25:11.2290076Z       does not allow deletion of a donation
2024-03-12T06:25:11.2290801Z       when there is no comment defined
2024-03-12T06:25:12.0504671Z         displays the None provided as the comment
2024-03-12T06:25:12.0505604Z     When editing an existing donation
2024-03-12T06:25:13.5638686Z       Allows the user to edit a donation
2024-03-12T06:25:15.4143568Z       Does not default a selection if item lookup fails
2024-03-12T06:25:15.4144774Z     When donation items have value
2024-03-12T06:25:16.1100770Z       Displays the total value on the index page
2024-03-12T06:25:17.0997419Z       Displays the total value on the show page
2024-03-12T06:25:17.8174792Z       Displays the individual value on the index page
2024-03-12T06:25:17.8175815Z   while signed in as an organization admin
2024-03-12T06:25:17.8176614Z     When viewing an existing donation
2024-03-12T06:25:18.7135279Z       allows deletion of a donation
2024-03-12T06:25:18.7136774Z 
2024-03-12T06:25:18.7137108Z Audits
2024-03-12T06:25:18.7138294Z   while signed in as an organization admin
2024-03-12T06:25:18.7139540Z     GET #show
2024-03-12T06:25:18.7747464Z       is successful
2024-03-12T06:25:18.7748430Z     DELETE #destroy
2024-03-12T06:25:18.7749034Z       with valid params
2024-03-12T06:25:18.8127445Z         destroys the audit if the audit's status is `confirms`
2024-03-12T06:25:18.8474233Z         can not destroy the audit if the audit's status is `finalized`
2024-03-12T06:25:18.8827874Z         destroys the audit if the audit's status is `in_progress`
2024-03-12T06:25:18.8829013Z     POST #finalize
2024-03-12T06:25:18.9413690Z       sets the finalize status and saves an event
2024-03-12T06:25:18.9414632Z     GET #index
2024-03-12T06:25:18.9935004Z       is successful
2024-03-12T06:25:18.9935741Z     GET #new
2024-03-12T06:25:19.0307696Z       is successful
2024-03-12T06:25:19.0308375Z     GET #edit
2024-03-12T06:25:19.0911186Z       redirects to #index if the status of audit is not `in_progress`
2024-03-12T06:25:19.1555536Z       is successful if the status of audit is `in_progress`
2024-03-12T06:25:19.1556681Z     POST #create
2024-03-12T06:25:19.1557421Z       with invalid params
2024-03-12T06:25:19.2137365Z         re-renders the 'new' template with an error message when an invalid storage location is given
2024-03-12T06:25:19.2532204Z         assigns a newly created but unsaved audit as @audit
2024-03-12T06:25:19.2912341Z         re-renders the 'new' template
2024-03-12T06:25:19.2913416Z       with valid params
2024-03-12T06:25:19.3302791Z         redirects to the #show after created audit
2024-03-12T06:25:19.3678946Z         creates a new Audit with status as `in_progress` if `save_progress` is passed as a param
2024-03-12T06:25:19.4056538Z         creates a new Audit
2024-03-12T06:25:19.4439639Z         creates a new Audit with status as `confirmed` if `confirm_audit` is passed as a param
2024-03-12T06:25:19.4802691Z         assigns a newly created audit as @audit
2024-03-12T06:25:19.4803732Z 
2024-03-12T06:25:19.4804198Z Base Item Admin
2024-03-12T06:25:19.4806993Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-12T06:25:19.9367262Z     can view a single Base Item
2024-03-12T06:25:20.4660598Z     can view a listing of all Base Items that shows a summary of its sub-items
2024-03-12T06:25:20.4661714Z     when updating an existing base item
2024-03-12T06:25:21.2655299Z       should succeed when changing the name
2024-03-12T06:25:22.0146046Z       should fail when updating the name to empty
2024-03-12T06:25:22.0146891Z     when creating a new base item
2024-03-12T06:25:22.7429200Z       should fail when creating a new base item with empty attributes
2024-03-12T06:25:23.5593744Z       should succeed when creating a new base item with good data
2024-03-12T06:25:23.5594672Z   While signed in as a normal user
2024-03-12T06:25:24.9808696Z     should have a normal user not see anything
2024-03-12T06:25:24.9809732Z   While signed in as an Administrative User (super admin)
2024-03-12T06:25:25.4297217Z     can view a single Base Item
2024-03-12T06:25:25.9542663Z     can view a listing of all Base Items that shows a summary of its sub-items
2024-03-12T06:25:25.9543890Z     when creating a new base item
2024-03-12T06:25:26.7652519Z       should succeed when creating a new base item with good data
2024-03-12T06:25:27.4839551Z       should fail when creating a new base item with empty attributes
2024-03-12T06:25:27.4840713Z     when updating an existing base item
2024-03-12T06:25:28.2485292Z       should fail when updating the name to empty
2024-03-12T06:25:29.0675919Z       should succeed when changing the name
2024-03-12T06:25:29.0677475Z 
2024-03-12T06:25:29.0677817Z ProductDriveParticipants
2024-03-12T06:25:29.0679190Z   While not signed in
2024-03-12T06:25:29.0755911Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:25:29.0756681Z   While signed in
2024-03-12T06:25:29.0758109Z     GET #new
2024-03-12T06:25:29.1074875Z       returns http success
2024-03-12T06:25:29.1075868Z     Looking at a different organization
2024-03-12T06:25:29.3277543Z       redirects the user to the sign-in page for CRUD actions
2024-03-12T06:25:29.3278817Z     XHR #create
2024-03-12T06:25:29.4067035Z       successful create
2024-03-12T06:25:29.4723480Z       flash error
2024-03-12T06:25:29.4724488Z     GET #index
2024-03-12T06:25:29.4725286Z       html
2024-03-12T06:25:29.5519379Z         is expected to be successful
2024-03-12T06:25:29.5520018Z       csv
2024-03-12T06:25:29.5688817Z         is expected to be successful
2024-03-12T06:25:29.5689982Z     POST #import_csv
2024-03-12T06:25:29.5690778Z       with a csv file
2024-03-12T06:25:29.5905281Z         redirects
2024-03-12T06:25:29.5942347Z         invokes .import_csv
2024-03-12T06:25:29.6129519Z         presents a flash notice message
2024-03-12T06:25:29.6130642Z       csv file with wrong headers
2024-03-12T06:25:29.6255311Z         redirects
2024-03-12T06:25:29.6379875Z         presents a flash error message
2024-03-12T06:25:29.6380844Z       without a csv file
2024-03-12T06:25:29.6498049Z         presents a flash error message
2024-03-12T06:25:29.6612161Z         redirects to :index
2024-03-12T06:25:29.6612965Z     GET #edit
2024-03-12T06:25:29.6949544Z       returns http success
2024-03-12T06:25:29.6950381Z     GET #show
2024-03-12T06:25:29.7244212Z       returns http success
2024-03-12T06:25:29.7245270Z     POST #create
2024-03-12T06:25:29.7565249Z       flash error
2024-03-12T06:25:29.7707347Z       successful create
2024-03-12T06:25:29.7708098Z 
2024-03-12T06:25:29.7708442Z Authorization
2024-03-12T06:25:30.3243082Z   redirects to the dashboard when unauthorized user attempts access
2024-03-12T06:25:30.8601532Z   redirects to the organization dashboard when authorized
2024-03-12T06:25:30.8602662Z 
2024-03-12T06:25:30.8603180Z Admin::Organizations
2024-03-12T06:25:30.8605159Z   When logged in as a non-admin user
2024-03-12T06:25:30.8606570Z     GET #edit
2024-03-12T06:25:30.8759985Z       redirects
2024-03-12T06:25:30.8760556Z     GET #new
2024-03-12T06:25:30.8886504Z       redirects
2024-03-12T06:25:30.8887205Z     GET #index
2024-03-12T06:25:30.9017145Z       redirects
2024-03-12T06:25:30.9017744Z     PUT #update
2024-03-12T06:25:30.9141534Z       redirects
2024-03-12T06:25:30.9142025Z     POST #create
2024-03-12T06:25:30.9278094Z       redirects
2024-03-12T06:25:30.9278728Z   When logged in as a super admin
2024-03-12T06:25:30.9280538Z     POST #create
2024-03-12T06:25:30.9281683Z       with invalid params
2024-03-12T06:25:30.9719882Z         does not create an organization and renders #create with an error message
2024-03-12T06:25:30.9721019Z       with valid params
2024-03-12T06:25:31.2608808Z         creates an organization and redirects to #index
2024-03-12T06:25:31.2609528Z     DELETE #destroy
2024-03-12T06:25:31.2610350Z       with a valid organization id
2024-03-12T06:25:31.7807961Z         redirects to #index
2024-03-12T06:25:31.7809030Z     PATCH #update
2024-03-12T06:25:31.7809661Z       with a valid update
2024-03-12T06:25:31.9689914Z         redirects to #index
2024-03-12T06:25:31.9690768Z       with an invalid update
2024-03-12T06:25:32.1850579Z         returns http success
2024-03-12T06:25:32.4016365Z         redirects to #edit with an error message
2024-03-12T06:25:32.4017430Z     GET #new
2024-03-12T06:25:32.4391858Z       returns http success
2024-03-12T06:25:32.4393308Z       when given a token that matches a account request that has already been processed
2024-03-12T06:25:32.6554727Z         should render new with a flash error message
2024-03-12T06:25:32.6555907Z       when given a valid account request token in the query parameters
2024-03-12T06:25:32.7091549Z         should render new with pre populate input fields from the account_request
2024-03-12T06:25:32.7092610Z     DELETE #destroy
2024-03-12T06:25:33.0694379Z       redirects
2024-03-12T06:25:33.0694989Z     GET #index
2024-03-12T06:25:33.1030125Z       returns http success
2024-03-12T06:25:33.1030843Z     GET #show
2024-03-12T06:25:33.3125489Z       returns http success
2024-03-12T06:25:33.3126283Z     PUT #update
2024-03-12T06:25:33.3310590Z       redirect
2024-03-12T06:25:33.3311646Z     GET #edit
2024-03-12T06:25:33.5368046Z       returns http success
2024-03-12T06:25:33.5368971Z 
2024-03-12T06:25:33.5369589Z DonationSites
2024-03-12T06:25:33.5370444Z   while signed in
2024-03-12T06:25:33.5371344Z     GET #index
2024-03-12T06:25:33.5372388Z       csv
2024-03-12T06:25:33.5538290Z         is expected to be successful
2024-03-12T06:25:33.5539046Z       html
2024-03-12T06:25:33.5860524Z         is expected to be successful
2024-03-12T06:25:33.5861812Z 
2024-03-12T06:25:33.5862156Z Vendors
2024-03-12T06:25:33.5863478Z   While signed in
2024-03-12T06:25:33.5865810Z     XHR #create
2024-03-12T06:25:33.6199302Z       successful create
2024-03-12T06:25:33.6491286Z       flash error
2024-03-12T06:25:33.6491894Z     POST #import_csv
2024-03-12T06:25:33.6492531Z       without a csv file
2024-03-12T06:25:33.6610894Z         redirects to :index
2024-03-12T06:25:33.6723295Z         presents a flash error message
2024-03-12T06:25:33.6724113Z       csv file with wrong headers
2024-03-12T06:25:33.6846709Z         redirects
2024-03-12T06:25:33.6964453Z         presents a flash error message
2024-03-12T06:25:33.6965448Z       with a csv file
2024-03-12T06:25:33.7152462Z         redirects
2024-03-12T06:25:33.7190505Z         invokes .import_csv
2024-03-12T06:25:33.7375056Z         presents a flash notice message
2024-03-12T06:25:33.7375849Z     GET #new
2024-03-12T06:25:33.7657477Z       returns http success
2024-03-12T06:25:33.7658387Z     GET #edit
2024-03-12T06:25:33.7952847Z       returns http success
2024-03-12T06:25:33.7954017Z     Looking at a different organization
2024-03-12T06:25:33.9658457Z       redirects the user to the sign-in page for CRUD actions
2024-03-12T06:25:33.9659437Z     GET #index
2024-03-12T06:25:33.9659940Z       html
2024-03-12T06:25:34.0002388Z         is expected to be successful
2024-03-12T06:25:34.0003248Z       csv
2024-03-12T06:25:34.0163068Z         is expected to be successful
2024-03-12T06:25:34.0164114Z     DELETE #destroy
2024-03-12T06:25:34.0251136Z       does not have a route for this
2024-03-12T06:25:34.0252189Z     GET #show
2024-03-12T06:25:34.0538340Z       returns http success
2024-03-12T06:25:34.0539389Z     when on vendors index page
2024-03-12T06:25:34.0893032Z       has the correct import type
2024-03-12T06:25:34.0893728Z     POST #create
2024-03-12T06:25:34.1216660Z       flash error
2024-03-12T06:25:34.1363952Z       successful create
2024-03-12T06:25:34.1364699Z   While not signed in
2024-03-12T06:25:34.1427234Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:25:34.1701881Z W, [2024-03-11T23:25:34.169937 #2399]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-12T06:25:34.1703304Z W, [2024-03-11T23:25:34.169979 #2399]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:25:34.1705167Z W, [2024-03-11T23:25:34.170002 #2399]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:25:34.1707168Z W, [2024-03-11T23:25:34.170032 #2399]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-12T06:25:34.2487752Z 
2024-03-12T06:25:34.2488785Z Failures:
2024-03-12T06:25:34.2489241Z 
2024-03-12T06:25:34.2490149Z   1) Donations When signed in as a normal user When creating a new donation Via barcode entry Allows User to add items by barcode
2024-03-12T06:25:34.2492051Z      Failure/Error: expect(page.has_select?("donation_line_items_attributes_0_item_id", selected: @existing_barcode.item.name)).to eq(true)
2024-03-12T06:25:34.2493090Z 
2024-03-12T06:25:34.2493375Z      Ferrum::JavaScriptError:
2024-03-12T06:25:34.2494456Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:25:34.2496675Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:43795/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:25:34.2498655Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:25:34.2500234Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:25:34.2501731Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:25:34.2503186Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:25:34.2504005Z 
2024-03-12T06:25:34.2505943Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/capybara/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_barcode_entry_allows_user_to_add_items_by_barcode_564.png
2024-03-12T06:25:34.2507968Z 
2024-03-12T06:25:34.2508038Z 
2024-03-12T06:25:34.2508626Z      # ./spec/system/donation_system_spec.rb:431:in `block (5 levels) in <top (required)>'
2024-03-12T06:25:34.2509446Z 
2024-03-12T06:25:34.2510791Z   2) Donations When signed in as a normal user When creating a new donation Via barcode entry Updates the line item when the same barcode is scanned twice
2024-03-12T06:25:34.2512532Z      Failure/Error: @__Condition__.wait @__Lock__, timeout
2024-03-12T06:25:34.2513113Z 
2024-03-12T06:25:34.2513414Z      Ferrum::JavaScriptError:
2024-03-12T06:25:34.2514491Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:25:34.2516745Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:43795/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:25:34.2519029Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:25:34.2520467Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:25:34.2521738Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:25:34.2523450Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:25:34.2524249Z 
2024-03-12T06:25:34.2526735Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_barcode_entry_updates_the_line_item_when_the_same_barcode_is_scanned_twice_851.png
2024-03-12T06:25:34.2528992Z 
2024-03-12T06:25:34.2529013Z 
2024-03-12T06:25:34.2530916Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `sleep'
2024-03-12T06:25:34.2534636Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `wait'
2024-03-12T06:25:34.2538846Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `ns_wait'
2024-03-12T06:25:34.2542241Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:44:in `block in ns_wait_until'
2024-03-12T06:25:34.2546094Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `loop'
2024-03-12T06:25:34.2549770Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `ns_wait_until'
2024-03-12T06:25:34.2553595Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:87:in `block in wait'
2024-03-12T06:25:34.2557638Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `block in synchronize'
2024-03-12T06:25:34.2561491Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:25:34.2565376Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:25:34.2568862Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:84:in `wait'
2024-03-12T06:25:34.2571753Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:75:in `wait'
2024-03-12T06:25:34.2574859Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:99:in `value!'
2024-03-12T06:25:34.2577541Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/browser/client.rb:42:in `command'
2024-03-12T06:25:34.2580078Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/page.rb:269:in `command'
2024-03-12T06:25:34.2582583Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:118:in `block in call'
2024-03-12T06:25:34.2585049Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/utils/attempt.rb:10:in `with_retry'
2024-03-12T06:25:34.2587740Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:105:in `call'
2024-03-12T06:25:34.2590336Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:97:in `evaluate_on'
2024-03-12T06:25:34.2592240Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:25:34.2593627Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:25:34.2595801Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/browser.rb:179:in `disabled?'
2024-03-12T06:25:34.2598385Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:21:in `command'
2024-03-12T06:25:34.2600974Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:143:in `disabled?'
2024-03-12T06:25:34.2603660Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `block in disabled?'
2024-03-12T06:25:34.2606529Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/base.rb:77:in `synchronize'
2024-03-12T06:25:34.2609215Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `disabled?'
2024-03-12T06:25:34.2612002Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector.rb:431:in `block (2 levels) in <top (required)>'
2024-03-12T06:25:34.2615063Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:14:in `block in initialize'
2024-03-12T06:25:34.2618141Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `instance_exec'
2024-03-12T06:25:34.2620915Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `apply'
2024-03-12T06:25:34.2623553Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:24:in `matches?'
2024-03-12T06:25:34.2627156Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:296:in `block (2 levels) in matches_node_filters?'
2024-03-12T06:25:34.2630018Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `each'
2024-03-12T06:25:34.2632872Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `all?'
2024-03-12T06:25:34.2635690Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `block in matches_node_filters?'
2024-03-12T06:25:34.2638555Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/selector.rb:89:in `with_filter_errors'
2024-03-12T06:25:34.2641636Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:283:in `matches_node_filters?'
2024-03-12T06:25:34.2644491Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:124:in `matches_filters?'
2024-03-12T06:25:34.2647716Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/result.rb:32:in `block in initialize'
2024-03-12T06:25:34.2650120Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:25:34.2652358Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:25:34.2654378Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:25:34.2656712Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:25:34.2657947Z      # 
2024-03-12T06:25:34.2658566Z      #   Showing full backtrace because every line was filtered out.
2024-03-12T06:25:34.2659701Z      #   See docs for RSpec::Configuration#backtrace_exclusion_patterns and
2024-03-12T06:25:34.2660817Z      #   RSpec::Configuration#backtrace_inclusion_patterns for more information.
2024-03-12T06:25:34.2661485Z 
2024-03-12T06:25:34.2662884Z   3) Donations When signed in as a normal user When creating a new donation Via barcode entry When the barcode is a global barcode Adds the oldest item it can find for the global barcode
2024-03-12T06:25:34.2665177Z      Failure/Error: expect(page.has_select?("donation_line_items_attributes_0_item_id", selected: @item.name)).to eq(true)
2024-03-12T06:25:34.2666141Z 
2024-03-12T06:25:34.2666424Z      Ferrum::JavaScriptError:
2024-03-12T06:25:34.2667322Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:25:34.2669358Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:43795/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:25:34.2671189Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:25:34.2672693Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:25:34.2673959Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:25:34.2675210Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:25:34.2676064Z 
2024-03-12T06:25:34.2678430Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_barcode_entry_when_the_barcode_is_a_global_barcode_adds_the_oldest_item_it_can_find_for_the_global_barc_215.png
2024-03-12T06:25:34.2680640Z 
2024-03-12T06:25:34.2680648Z 
2024-03-12T06:25:34.2681236Z      # ./spec/system/donation_system_spec.rb:501:in `block (6 levels) in <top (required)>'
2024-03-12T06:25:34.2681950Z 
2024-03-12T06:25:34.2682972Z   4) Donations When signed in as a normal user When creating a new donation Via manual entry Ensures Barcode Entry fields have unique ids
2024-03-12T06:25:34.2951801Z      Failure/Error: page.find(:css, "#__add_line_item").click
2024-03-12T06:25:34.2952356Z 
2024-03-12T06:25:34.2952568Z      Capybara::ElementNotFound:
2024-03-12T06:25:34.2953142Z        Unable to find css "#__add_line_item"
2024-03-12T06:25:34.2953561Z 
2024-03-12T06:25:34.2955844Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_ensures_barcode_entry_fields_have_unique_ids_837.png
2024-03-12T06:25:34.2958233Z 
2024-03-12T06:25:34.2958254Z 
2024-03-12T06:25:34.2958766Z      # ./spec/system/donation_system_spec.rb:378:in `block (5 levels) in <top (required)>'
2024-03-12T06:25:34.2959498Z 
2024-03-12T06:25:34.2960544Z   5) Donations When signed in as a normal user When creating a new donation Via manual entry Accepts and combines multiple line items for the same item type
2024-03-12T06:25:34.2962332Z      Failure/Error: page.find(:css, "#__add_line_item").click
2024-03-12T06:25:34.2962880Z 
2024-03-12T06:25:34.2963113Z      Capybara::ElementNotFound:
2024-03-12T06:25:34.2963661Z        Unable to find css "#__add_line_item"
2024-03-12T06:25:34.2964092Z 
2024-03-12T06:25:34.2966500Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_accepts_and_combines_multiple_line_items_for_the_same_item_type_487.png
2024-03-12T06:25:34.2968635Z 
2024-03-12T06:25:34.2968647Z 
2024-03-12T06:25:34.2969147Z      # ./spec/system/donation_system_spec.rb:202:in `block (5 levels) in <top (required)>'
2024-03-12T06:25:34.2969907Z 
2024-03-12T06:25:34.2970292Z Finished in 1 minute 37.49 seconds (files took 8.09 seconds to load)
2024-03-12T06:25:34.2971070Z 226 examples, 5 failures
2024-03-12T06:25:34.2971365Z 
2024-03-12T06:25:34.2971525Z Failed examples:
2024-03-12T06:25:34.2971771Z 
2024-03-12T06:25:34.2972929Z rspec ./spec/system/donation_system_spec.rb:422 # Donations When signed in as a normal user When creating a new donation Via barcode entry Allows User to add items by barcode
2024-03-12T06:25:34.2975613Z rspec ./spec/system/donation_system_spec.rb:437 # Donations When signed in as a normal user When creating a new donation Via barcode entry Updates the line item when the same barcode is scanned twice
2024-03-12T06:25:34.2978654Z rspec ./spec/system/donation_system_spec.rb:494 # Donations When signed in as a normal user When creating a new donation Via barcode entry When the barcode is a global barcode Adds the oldest item it can find for the global barcode
2024-03-12T06:25:34.2981615Z rspec ./spec/system/donation_system_spec.rb:377 # Donations When signed in as a normal user When creating a new donation Via manual entry Ensures Barcode Entry fields have unique ids
2024-03-12T06:25:34.2984404Z rspec ./spec/system/donation_system_spec.rb:197 # Donations When signed in as a normal user When creating a new donation Via manual entry Accepts and combines multiple line items for the same item type
2024-03-12T06:25:34.2985959Z 
2024-03-12T06:25:34.2986133Z Randomized with seed 48602
2024-03-12T06:25:34.2986451Z 
2024-03-12T06:25:34.7548499Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:25:34.7550360Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3687 / 6478 LOC (56.92%) covered.
2024-03-12T06:25:34.8606738Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/organization_requests_spec.rb" "spec/requests/partners/individuals_requests_controller_spec.rb" "spec/requests/product_drive_participants_requests_spec.rb" "spec/requests/sessions_requests_spec.rb" "spec/requests/vendors_requests_spec.rb" "spec/system/admin/base_items_system_spec.rb" "spec/system/authorization_system_spec.rb" "spec/system/donation_system_spec.rb" "spec/system/manufacturer_system_spec.rb" "spec/system/partners/family_requests_system_spec.rb" "spec/system/product_drive_system_spec.rb" "spec/system/storage_location_system_spec.rb" failed
2024-03-12T06:25:35.2493459Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:25:35.2494982Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10785 LOC (0.35%) covered.
2024-03-12T06:25:35.2758966Z ##[error]Process completed with exit code 1.
