2024-03-12T06:23:39.6394519Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-12T06:23:39.6395408Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-12T06:23:39.6451610Z shell: /usr/bin/bash -e {0}
2024-03-12T06:23:39.6452025Z env:
2024-03-12T06:23:39.6452416Z   POSTGRES_HOST: localhost
2024-03-12T06:23:39.6452825Z   DATABASE_HOST: localhost
2024-03-12T06:23:39.6453196Z   PG_USERNAME: postgres
2024-03-12T06:23:39.6453635Z   PG_PASSWORD: password
2024-03-12T06:23:39.6454032Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-12T06:23:39.6454429Z   POSTGRES_PORT: 5432
2024-03-12T06:23:39.6454866Z   PGHOST: localhost
2024-03-12T06:23:39.6455223Z   PGUSER: postgres
2024-03-12T06:23:39.6455630Z   RAILS_ENV: test
2024-03-12T06:23:39.6455963Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-12T06:23:39.6456425Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-12T06:23:39.6456883Z   KNAPSACK_PRO_CI_NODE_INDEX: 2
2024-03-12T06:23:39.6457340Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-12T06:23:39.6457872Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-12T06:23:39.6458576Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-12T06:23:39.6459213Z   EVENTS_READ: true
2024-03-12T06:23:39.6459616Z ##[endgroup]
2024-03-12T06:23:45.2578228Z W, [2024-03-12T06:23:45.257345 #2347]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-12T06:23:45.2581364Z W, [2024-03-12T06:23:45.257406 #2347]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:23:45.2584740Z W, [2024-03-12T06:23:45.257431 #2347]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:23:45.2591262Z W, [2024-03-12T06:23:45.257458 #2347]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-12T06:23:47.3674165Z W, [2024-03-12T06:23:47.367055 #2347]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-12T06:23:47.3676860Z W, [2024-03-12T06:23:47.367102 #2347]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:23:47.3680111Z W, [2024-03-12T06:23:47.367120 #2347]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:23:47.3684332Z W, [2024-03-12T06:23:47.367177 #2347]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-12T06:23:47.3736492Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-03-12T06:23:55.7215985Z 
2024-03-12T06:23:55.7216835Z Randomized with seed 14381
2024-03-12T06:23:56.6270619Z 
2024-03-12T06:23:56.6271548Z Vendor
2024-03-12T06:23:56.6273197Z   when editing an existing vendor
2024-03-12T06:24:05.7427562Z     can update the contact info for a vendor as a user
2024-03-12T06:24:06.4994743Z     does not update a vendor with empty attributes
2024-03-12T06:24:06.4995596Z   When a user views the index page
2024-03-12T06:24:06.9800088Z     should have the vendor names in alphabetical order
2024-03-12T06:24:06.9801017Z   When vendor have purchases associated with them already
2024-03-12T06:24:07.6149018Z     can have existing vendors show in the #index with some summary stats
2024-03-12T06:24:08.2090734Z     can have a single vendor show semi-detailed stats about purchases
2024-03-12T06:24:08.2091626Z   when creating a new vendor
2024-03-12T06:24:09.0056265Z     can create a new vendor instance as a user
2024-03-12T06:24:09.7255048Z     cannot add a new vendor instance with empty attributes
2024-03-12T06:24:09.7255978Z 
2024-03-12T06:24:09.7256976Z User account management
2024-03-12T06:24:09.7257590Z   when not in staging
2024-03-12T06:24:10.5086088Z     should fail when the email is invalid
2024-03-12T06:24:11.6286058Z     should change the email
2024-03-12T06:24:12.5128319Z     should change an user name
2024-03-12T06:24:12.5129110Z   when in staging
2024-03-12T06:24:12.9705389Z     should not allow the user to change staging credentials
2024-03-12T06:24:13.4378325Z     should display staging warning
2024-03-12T06:24:13.4378987Z 
2024-03-12T06:24:13.4379607Z Admin Organization Management
2024-03-12T06:24:13.4381113Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-12T06:24:15.7018255Z     creates a new organization
2024-03-12T06:24:15.7019340Z   While signed in as an Administrative User (super admin)
2024-03-12T06:24:17.5963637Z     creates a new organization
2024-03-12T06:24:18.8845820Z     can view organization details
2024-03-12T06:24:19.9550275Z     filters by organizations by name in organizations index page
2024-03-12T06:24:19.9551120Z 
2024-03-12T06:24:19.9551326Z Purchases
2024-03-12T06:24:19.9553474Z   while signed in as an organization admin
2024-03-12T06:24:20.8396459Z     allows deletion of a purchase
2024-03-12T06:24:20.8397256Z   while signed in as a normal user
2024-03-12T06:24:20.8398105Z     When visiting the index page
2024-03-12T06:24:20.8399218Z       When filtering on the index page
2024-03-12T06:24:21.6650629Z         User can filter the #index by vendor
2024-03-12T06:24:22.4921990Z         User can filter the #index by storage location
2024-03-12T06:24:22.4922970Z         behaves like Date Range Picker
2024-03-12T06:24:22.4923885Z           when choosing a date range that only includes the previous week
2024-03-12T06:24:23.4946658Z             shows only 1 record
2024-03-12T06:24:23.4950138Z           when choosing 'All Time'
2024-03-12T06:24:24.4492543Z             shows all the records
2024-03-12T06:24:24.4493442Z           when choosing 'Last Month'
2024-03-12T06:24:25.3922429Z             shows only 2 of the records
2024-03-12T06:24:25.3923339Z       In the middle of the year
2024-03-12T06:24:26.1585116Z         User sees total purchases value
2024-03-12T06:24:27.0610823Z         User can click to the new purchase form
2024-03-12T06:24:27.7966482Z         User sees purchased date column
2024-03-12T06:24:27.7967779Z     When creating a new purchase
2024-03-12T06:24:28.2901289Z       should not display inactive storage locations in dropdown
2024-03-12T06:24:28.2902068Z       Editing purchase
2024-03-12T06:24:28.9297281Z         A user can view another organizations purchase
2024-03-12T06:24:29.4454684Z         A user can see purchased_from value
2024-03-12T06:24:29.4455629Z       via manual entry
2024-03-12T06:24:30.4538660Z         Does not include inactive items in the line item fields
2024-03-12T06:24:31.3408103Z         User can create a purchase using dollars decimal amount
2024-03-12T06:24:32.4286651Z         User can create a purchase IN THE PAST
2024-03-12T06:24:33.4648320Z         User can create vendor from purchase
2024-03-12T06:24:36.1645402Z         multiple line items for the same item type are accepted and combined on the backend (FAILED - 1)
2024-03-12T06:24:36.1649634Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_multiple-line-items-for-the-same-item-type-are-accepted-and-combined-on-the-backend_2024-03-11-23-24-36.022.html[0m
2024-03-12T06:24:36.1654100Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_multiple-line-items-for-the-same-item-type-are-accepted-and-combined-on-the-backend_2024-03-11-23-24-36.022.png[0m
2024-03-12T06:24:36.1655747Z         when creating a purchase incorrectly
2024-03-12T06:24:37.1567262Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-03-12T06:24:37.9668502Z           should display failure with error messages
2024-03-12T06:24:37.9669493Z       via barcode entry
2024-03-12T06:24:38.9490455Z         User scan same barcode 2 times (FAILED - 2)
2024-03-12T06:24:38.9492650Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-scan-same-barcode-2-times_2024-03-11-23-24-38.812.html[0m
2024-03-12T06:24:38.9495662Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-scan-same-barcode-2-times_2024-03-11-23-24-38.812.png[0m
2024-03-12T06:24:40.1638984Z         a user can add items that do not yet have a barcode
2024-03-12T06:24:41.0309221Z         a user can add items via scanning them in by barcode (FAILED - 3)
2024-03-12T06:24:41.0311257Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_a-user-can-add-items-via-scanning-them-in-by-barcode_2024-03-11-23-24-40.895.html[0m
2024-03-12T06:24:41.0314025Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_a-user-can-add-items-via-scanning-them-in-by-barcode_2024-03-11-23-24-40.895.png[0m
2024-03-12T06:24:41.0315970Z     When visiting an existing purchase
2024-03-12T06:24:41.4970396Z       does not allow deletion of a purchase
2024-03-12T06:24:41.4971405Z 
2024-03-12T06:24:41.4971717Z /partners/profiles
2024-03-12T06:24:41.4973977Z   GET #show
2024-03-12T06:24:41.5717533Z     shows correct values for yes/no buttons
2024-03-12T06:24:41.6208391Z     displays the partner
2024-03-12T06:24:41.6210725Z   GET #edit
2024-03-12T06:24:41.7139936Z     displays the partner
2024-03-12T06:24:41.7930069Z     does not have default radio button value when value is nil
2024-03-12T06:24:41.8725909Z     has "No" radio button value when value is false
2024-03-12T06:24:41.9646673Z     has "Yes" radio button value when value is true
2024-03-12T06:24:41.9647438Z   PUT #update
2024-03-12T06:24:42.0225207Z     updates the partner and profile
2024-03-12T06:24:42.0226486Z     when updating an existing value to a blank value
2024-03-12T06:24:42.0738956Z       updates the partner profile attribute to a blank value
2024-03-12T06:24:42.1227399Z       does store N/A in the database
2024-03-12T06:24:42.1727680Z       does not update other partner profile attributes to blank
2024-03-12T06:24:42.1728870Z     with no social media
2024-03-12T06:24:42.2635583Z       shows an error
2024-03-12T06:24:42.2637178Z 
2024-03-12T06:24:42.2637529Z StorageLocations
2024-03-12T06:24:42.2639029Z   While not signed in
2024-03-12T06:24:42.2702183Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:24:42.2703171Z   While signed in
2024-03-12T06:24:42.2704646Z     POST #import_csv
2024-03-12T06:24:42.2706175Z       without a csv file
2024-03-12T06:24:42.2839568Z         redirects to :index
2024-03-12T06:24:42.2951977Z         presents a flash error message
2024-03-12T06:24:42.2952739Z       with a csv file
2024-03-12T06:24:42.3100521Z         redirects
2024-03-12T06:24:42.3157431Z         invokes .import_csv
2024-03-12T06:24:42.3305432Z         presents a flash notice message
2024-03-12T06:24:42.3306497Z       csv file with wrong headers
2024-03-12T06:24:42.3429752Z         presents a flash error message
2024-03-12T06:24:42.3549705Z         redirects
2024-03-12T06:24:42.3550369Z     GET #new
2024-03-12T06:24:42.5892526Z       returns http success
2024-03-12T06:24:42.5893386Z     GET #edit
2024-03-12T06:24:42.6237560Z       returns http success
2024-03-12T06:24:42.6238678Z     GET #destroy
2024-03-12T06:24:42.6535359Z       redirects to #index
2024-03-12T06:24:42.6536059Z     PUT #deactivate
2024-03-12T06:24:42.6730503Z       discards
2024-03-12T06:24:42.6731162Z       with inventory
2024-03-12T06:24:42.7196102Z         does not discard
2024-03-12T06:24:42.7196827Z     PUT #reactivate
2024-03-12T06:24:42.7352882Z       undiscards
2024-03-12T06:24:42.7353364Z     Looking at a different organization
2024-03-12T06:24:42.9053979Z       redirects the user to the sign-in page for CRUD actions
2024-03-12T06:24:42.9054876Z     GET #show
2024-03-12T06:24:42.9055380Z       html
2024-03-12T06:24:42.9715996Z         should return a correct response
2024-03-12T06:24:42.9717046Z         with version date set
2024-03-12T06:24:42.9717756Z           with no version found
2024-03-12T06:24:43.0522771Z             should show N/A
2024-03-12T06:24:43.0523683Z           with a version found
2024-03-12T06:24:43.1341407Z             should show the version specified
2024-03-12T06:24:43.1342373Z       csv
2024-03-12T06:24:43.1840067Z         should be successful
2024-03-12T06:24:43.1840946Z     GET #inventory
2024-03-12T06:24:43.1843648Z       when also including inactive items
2024-03-12T06:24:43.2489755Z         returns a collection that also includes items that have been deactivated
2024-03-12T06:24:43.2490745Z       without any overrides
2024-03-12T06:24:43.2994470Z         returns a collection that only includes items at the storage location
2024-03-12T06:24:43.2995347Z       when also including omitted items
2024-03-12T06:24:43.3467462Z         contains a collection of ducktyped entries that respond the same
2024-03-12T06:24:43.3963105Z         returns a collection that also includes all items, but with zeroed quantities
2024-03-12T06:24:43.3965003Z     GET #index
2024-03-12T06:24:43.3965752Z       csv
2024-03-12T06:24:43.4950504Z         includes headers followed by alphabetized item names
2024-03-12T06:24:43.5129301Z         succeeds
2024-03-12T06:24:43.5130023Z       html
2024-03-12T06:24:43.5478299Z         succeeds
2024-03-12T06:24:43.5479280Z         with inactive locations
2024-03-12T06:24:43.5825488Z           does not includes the inactive location
2024-03-12T06:24:43.5826636Z           with include_inactive_locations
2024-03-12T06:24:43.6178126Z             includes the inactive location
2024-03-12T06:24:43.6179833Z 
2024-03-12T06:24:43.6180065Z Events
2024-03-12T06:24:43.6181125Z   When not signed in
2024-03-12T06:24:43.6457190Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:24:43.6458079Z   When signed in
2024-03-12T06:24:43.6458472Z     GET #index
2024-03-12T06:24:44.1869404Z       should be successful
2024-03-12T06:24:44.1870167Z       with date filter
2024-03-12T06:24:44.7346619Z         should not include the old donation
2024-03-12T06:24:44.7347724Z       with storage location filter
2024-03-12T06:24:45.2572384Z         should not include the other storage location
2024-03-12T06:24:45.2573854Z       with eventable_id
2024-03-12T06:24:45.9715191Z         should only show events from that eventable
2024-03-12T06:24:45.9716415Z       with type filter
2024-03-12T06:24:46.5100340Z         should not include the adjustment
2024-03-12T06:24:46.5101611Z       with item filter
2024-03-12T06:24:47.0425973Z         should not include the other item
2024-03-12T06:24:47.0426984Z 
2024-03-12T06:24:47.0427694Z Admin::AccountRequestsController
2024-03-12T06:24:47.0428534Z   while signed in as a super admin
2024-03-12T06:24:47.0429614Z     GET #index
2024-03-12T06:24:47.0885665Z       returns success
2024-03-12T06:24:47.0886401Z     POST #reject
2024-03-12T06:24:47.1151773Z       should redirect back on success
2024-03-12T06:24:47.1152399Z     GET #for_rejection
2024-03-12T06:24:47.1152987Z       with an invalid token
2024-03-12T06:24:47.1471235Z         should show a not found message
2024-03-12T06:24:47.1472069Z       with a valid token
2024-03-12T06:24:47.1882937Z         should show the request
2024-03-12T06:24:47.1883941Z 
2024-03-12T06:24:47.1884300Z /partners/dashboard
2024-03-12T06:24:47.2994531Z   displays upcoming distributions
2024-03-12T06:24:47.2995556Z   with both roles
2024-03-12T06:24:47.3546266Z     should include the switch link
2024-03-12T06:24:47.3547104Z   with just partner role
2024-03-12T06:24:47.4062970Z     should not display the switch link
2024-03-12T06:24:47.4063785Z   GET #index
2024-03-12T06:24:47.4810993Z     does not display requests in other states
2024-03-12T06:24:47.5669403Z     displays requests that are pending
2024-03-12T06:24:47.5670246Z   BroadcastAnnouncement card
2024-03-12T06:24:47.6267504Z     doesn't display announcements if there are not valid ones
2024-03-12T06:24:47.6803137Z     displays announcements if there are valid ones
2024-03-12T06:24:47.7305144Z     doesn't display announcements from super admins
2024-03-12T06:24:47.7306256Z 
2024-03-12T06:24:47.7306539Z Kit management
2024-03-12T06:24:48.3351142Z   should not display inactive storage locations under allocations
2024-03-12T06:24:49.2194761Z   can create a new kit as a user with the proper quantity
2024-03-12T06:24:50.6755286Z   can allocate and deallocate quantity per storage location from kit index
2024-03-12T06:24:50.6756263Z   when there is no kit quantity
2024-03-12T06:24:51.8186442Z     will not change quantity amounts when deallocating
2024-03-12T06:24:51.8188232Z   when there is not enough quantity of the items contained in the kit on-hand
2024-03-12T06:24:52.9354063Z     will not change quantity amounts when allocating
2024-03-12T06:24:52.9355074Z 
2024-03-12T06:24:52.9355318Z Managing requests
2024-03-12T06:24:52.9356873Z   creating a # individuals request
2024-03-12T06:24:52.9357984Z     GIVEN a partner user is permitted to make a request
2024-03-12T06:24:52.9358922Z       WHEN a request is built using add and remove buttons
2024-03-12T06:24:52.9359884Z         THEN a request records will be created
2024-03-12T06:24:54.7488704Z           creates the correct request
2024-03-12T06:24:54.7489836Z   creating a new quantity request
2024-03-12T06:24:54.7490989Z     GIVEN a partner user is permitted to make a request
2024-03-12T06:24:54.7491970Z       WHEN a request is built using add and remove buttons
2024-03-12T06:24:54.7492780Z         THEN a request records will be created
2024-03-12T06:24:56.6727781Z           creates the correct request
2024-03-12T06:24:56.6731044Z 
2024-03-12T06:24:56.6731477Z Organization management
2024-03-12T06:24:56.6733178Z   while signed in as an organization admin
2024-03-12T06:24:57.7578713Z     can deactivate a user in the organization
2024-03-12T06:24:58.3238913Z     can re-invite a user to an organization after 7 days
2024-03-12T06:24:58.8340280Z     can see 'Make user' button for admins
2024-03-12T06:24:59.7820131Z     can add a new user to an organization
2024-03-12T06:25:00.7363599Z     can re-activate a user in the organization
2024-03-12T06:25:00.7364735Z     Editing the organization
2024-03-12T06:25:01.5994909Z       can set a reminder and a deadline day
2024-03-12T06:25:02.7720661Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-03-12T06:25:03.8076469Z       can disable if the org does NOT use single step invite and approve partner process
2024-03-12T06:25:04.7870100Z       can enable if the org uses single step invite and approve partner process
2024-03-12T06:25:05.6238598Z       can set the NDBN Member ID
2024-03-12T06:25:06.4645454Z       can set a default storage location on the organization
2024-03-12T06:25:07.4414012Z       can select if the org shows year-to-date values on the distribution printout
2024-03-12T06:25:08.4106146Z       can select if the org repackages essentials
2024-03-12T06:25:09.8674727Z       can select and deselect Required Partner Fields
2024-03-12T06:25:10.8446404Z       can select if the org distributes essentials monthly
2024-03-12T06:25:10.8447051Z     Viewing the organization
2024-03-12T06:25:11.4125904Z       can view organization details
2024-03-12T06:25:11.4126925Z   while signed in as a normal user
2024-03-12T06:25:11.8643017Z     cannot see 'Make user' button for admins
2024-03-12T06:25:12.3228440Z     can see summary details about the organization as a user
2024-03-12T06:25:12.3229215Z 
2024-03-12T06:25:12.3229523Z Admin::Questions
2024-03-12T06:25:12.3230615Z   while signed in as a super admin
2024-03-12T06:25:12.3231880Z     GET #edit
2024-03-12T06:25:12.3721073Z       lets the user load the edit question page
2024-03-12T06:25:12.3721959Z     GET #index
2024-03-12T06:25:12.4004911Z       lets the user load the page
2024-03-12T06:25:12.4005614Z     PATCH #update
2024-03-12T06:25:12.4209010Z       lets the user update questions
2024-03-12T06:25:12.4209943Z     POST #create
2024-03-12T06:25:12.4469506Z       lets the user create questions
2024-03-12T06:25:12.4470371Z     GET #new
2024-03-12T06:25:12.4780053Z       lets the user load the new question page
2024-03-12T06:25:12.4780962Z     DELETE #destroy
2024-03-12T06:25:12.4999022Z       lets the user delete questions
2024-03-12T06:25:12.5000051Z 
2024-03-12T06:25:12.5000341Z BroadcastAnnouncements
2024-03-12T06:25:12.5002319Z   DELETE /destroy
2024-03-12T06:25:12.5177383Z     destroys the requested announcement then redirects
2024-03-12T06:25:12.5178418Z   GET /index
2024-03-12T06:25:12.5494474Z     renders a successful response
2024-03-12T06:25:12.5495610Z   GET /edit
2024-03-12T06:25:12.5795599Z     render a successful response
2024-03-12T06:25:12.5796629Z   GET /new
2024-03-12T06:25:12.6056263Z     renders a successful response
2024-03-12T06:25:12.6057223Z   POST /create
2024-03-12T06:25:12.6057872Z     with invalid parameters
2024-03-12T06:25:12.6338471Z       does not create a new BroadcastAnnouncement
2024-03-12T06:25:12.6616165Z       does not render a successful response
2024-03-12T06:25:12.6617068Z     with valid parameters
2024-03-12T06:25:12.6769200Z       creates a new BroadcastAnnouncement then redirects
2024-03-12T06:25:12.6770223Z   PATCH /update
2024-03-12T06:25:12.6770904Z     with valid parameters
2024-03-12T06:25:12.6945895Z       updates the requested announcement and redirects
2024-03-12T06:25:12.6947107Z     with invalid parameters
2024-03-12T06:25:12.7254250Z       does not render a successful response
2024-03-12T06:25:12.7255005Z 
2024-03-12T06:25:12.7255369Z Profiles
2024-03-12T06:25:12.7256677Z   POST #update
2024-03-12T06:25:12.7257731Z     when updating an existing value to a blank value
2024-03-12T06:25:12.7701298Z       update partner
2024-03-12T06:25:12.8113566Z       should have blank values
2024-03-12T06:25:12.8114508Z     successful save
2024-03-12T06:25:12.8541359Z       update partner
2024-03-12T06:25:12.8953832Z       redirects to #show
2024-03-12T06:25:12.8954536Z   GET #edit
2024-03-12T06:25:12.9834267Z     returns http success
2024-03-12T06:25:12.9836870Z 
2024-03-12T06:25:12.9837205Z Dashboard
2024-03-12T06:25:12.9838473Z   With a new essentials bank
2024-03-12T06:25:41.0400349Z     displays the getting started guide until the steps are completed
2024-03-12T06:25:41.0401536Z   With an existing essentials bank
2024-03-12T06:25:41.0402556Z     Distributions
2024-03-12T06:25:41.9607666Z       has a link to create a new distribution
2024-03-12T06:25:41.9609310Z       given 1 Distribution on 2024-02-29  (unless 'All Time'), 3 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:25:41.9610594Z         filtering to 'This Month'
2024-03-12T06:25:43.3708011Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:25:43.3709852Z       given 1 Distribution on 2024-03-09  (unless 'All Time'), 3 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:25:43.3710816Z         filtering to 'Yesterday'
2024-03-12T06:25:44.7853744Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:25:44.7855797Z       given 1 Distribution on 2024-03-10  (unless 'All Time'), 0 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:25:44.7857295Z         filtering to 'Today'
2024-03-12T06:25:48.1434654Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-12T06:25:48.1436576Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:25:48.1437940Z         filtering to 'This Year'
2024-03-12T06:25:49.5451161Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-12T06:25:49.5452846Z       given 1 Distribution on 2024-02-10  (unless 'All Time'), 3 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:25:49.5454063Z         filtering to 'Last 30 Days'
2024-03-12T06:25:50.9852798Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:25:50.9854753Z       given 1 Distribution on 2024-03-04  (unless 'All Time'), 2 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:25:50.9858974Z         filtering to 'Last 7 Days'
2024-03-12T06:25:52.4818777Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-12T06:25:52.4820871Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 0 during 2000-01-01..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:25:52.4821988Z         filtering to 'All Time'
2024-03-12T06:25:55.8462816Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-12T06:25:55.8464946Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:25:55.8466507Z         filtering to 'Last Month'
2024-03-12T06:25:59.1845256Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-12T06:25:59.1847308Z       given 1 Distribution on 2022-03-10  (unless 'All Time'), 0 during 2022-03-11..2024-01-21, and 1 on 2024-01-22
2024-03-12T06:25:59.1848768Z         filtering to '' (March 11, 2022 - January 21, 2024)
2024-03-12T06:26:02.5838901Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-12T06:26:02.5839999Z     Inventory Totals
2024-03-12T06:26:02.5841069Z       Summary
2024-03-12T06:26:03.2904545Z         displays the on-hand totals
2024-03-12T06:26:03.2905493Z         when constrained to date range
2024-03-12T06:26:04.3079348Z           does not change
2024-03-12T06:26:04.3080170Z     Donations
2024-03-12T06:26:05.2239453Z       has a link to create a new donation
2024-03-12T06:26:05.2241376Z       given 1 Donation on 2022-03-10 (only if a valid date), 0 during 2022-03-11..2023-12-10, and 1 on 2023-12-11
2024-03-12T06:26:05.2242931Z         filtering to '' (March 11, 2022 - December 10, 2023)
2024-03-12T06:26:08.5762962Z           shows the correct total and 0 Recent Donation link(s)
2024-03-12T06:26:08.5764838Z       given 1 Donation on 2024-03-04 (only if a valid date), 1 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:26:08.5770501Z         filtering to 'Last 7 Days'
2024-03-12T06:26:09.9566070Z           shows the correct total and 1 Recent Donation link(s)
2024-03-12T06:26:09.9567840Z       given 1 Donation on 2023-12-31 (only if a valid date), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:26:09.9569262Z         filtering to 'This Year'
2024-03-12T06:26:13.2986182Z           shows the correct total and 0 Recent Donation link(s)
2024-03-12T06:26:13.2988387Z       given 1 Donation on 2024-02-10 (only if a valid date), 3 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:26:13.2989962Z         filtering to 'Last 30 Days'
2024-03-12T06:26:14.7416250Z           shows the correct total and 3 Recent Donation link(s)
2024-03-12T06:26:14.7418295Z       given 1 Donation on 2024-03-10 (only if a valid date), 2 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:26:14.7419369Z         filtering to 'Today'
2024-03-12T06:26:16.1638667Z           shows the correct total and 2 Recent Donation link(s)
2024-03-12T06:26:16.1640635Z       given 1 Donation on 2024-03-09 (only if a valid date), 3 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:26:16.1641628Z         filtering to 'Yesterday'
2024-03-12T06:26:17.6036136Z           shows the correct total and 3 Recent Donation link(s)
2024-03-12T06:26:17.6037956Z       given 1 Donation on 2024-02-29 (only if a valid date), 0 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:26:17.6039366Z         filtering to 'This Month'
2024-03-12T06:26:20.9461364Z           shows the correct total and 0 Recent Donation link(s)
2024-03-12T06:26:20.9463696Z       given 1 Donation on 2024-01-31 (only if a valid date), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:26:20.9464714Z         filtering to 'Last Month'
2024-03-12T06:26:22.3952150Z           shows the correct total and 3 Recent Donation link(s)
2024-03-12T06:26:22.3953190Z     Purchases
2024-03-12T06:26:23.2898783Z       has a link to create a new purchase
2024-03-12T06:26:23.2900723Z       given 1 Purchase on 2024-02-29  (unless 'All Time'), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:26:23.2902047Z         filtering to 'This Month'
2024-03-12T06:26:24.6907195Z           shows correct 2 Recent Purchase link(s)
2024-03-12T06:26:24.6910351Z       given 1 Purchase on 2024-03-10  (unless 'All Time'), 0 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:26:24.6911615Z         filtering to 'Today'
2024-03-12T06:26:28.0132737Z           shows correct 0 Recent Purchase link(s)
2024-03-12T06:26:28.0134353Z       given 1 Purchase on 2024-03-09  (unless 'All Time'), 4 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:26:28.0135463Z         filtering to 'Yesterday'
2024-03-12T06:26:29.5071475Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:26:29.5073148Z       given 1 Purchase on 2024-02-10  (unless 'All Time'), 0 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:26:29.5074091Z         filtering to 'Last 30 Days'
2024-03-12T06:26:32.8335810Z           shows correct 0 Recent Purchase link(s)
2024-03-12T06:26:32.8337254Z       given 1 Purchase on 2022-03-10  (unless 'All Time'), 1 during 2022-03-11..2024-01-05, and 1 on 2024-01-06
2024-03-12T06:26:32.8338268Z         filtering to '' (March 11, 2022 - January 5, 2024)
2024-03-12T06:26:34.2317420Z           shows correct 1 Recent Purchase link(s)
2024-03-12T06:26:34.2319456Z       given 1 Purchase on 2024-03-04  (unless 'All Time'), 4 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:26:34.2320562Z         filtering to 'Last 7 Days'
2024-03-12T06:26:35.7147859Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:26:35.7149656Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:26:35.7150731Z         filtering to 'This Year'
2024-03-12T06:26:37.1277796Z           shows correct 2 Recent Purchase link(s)
2024-03-12T06:26:37.1279601Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:26:37.1280958Z         filtering to 'Last Month'
2024-03-12T06:26:38.5806762Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:26:38.5807985Z     Signage
2024-03-12T06:26:41.4569765Z       shows their organization name unless they have a logo set
2024-03-12T06:26:41.4570696Z     Product Drives
2024-03-12T06:26:42.0447295Z       has a widget for product drive summary data
2024-03-12T06:26:42.0448303Z       Product drive behaviour with Mixed Donation types
2024-03-12T06:26:42.7527989Z         only counts product drive money raised
2024-03-12T06:26:43.4593867Z         only counts product drive donations for product drive
2024-03-12T06:26:44.1634772Z         only shows product drive donations as product drive donations
2024-03-12T06:26:44.1636831Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:26:44.1638015Z         filtering to 'This Year'
2024-03-12T06:26:45.5432214Z           shows the correct total donations
2024-03-12T06:26:46.9174561Z           shows the correct total money raised
2024-03-12T06:26:48.3142752Z           shows 1 Recent Donation link(s)
2024-03-12T06:26:48.3144825Z       given 1 Product Drive Donation on 2024-03-09 (unless 'All Time'), 4 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:26:48.3146722Z         filtering to 'Yesterday'
2024-03-12T06:26:49.8404102Z           shows the correct total donations
2024-03-12T06:26:51.3360986Z           shows 3 Recent Donation link(s)
2024-03-12T06:26:52.8294182Z           shows the correct total money raised
2024-03-12T06:26:52.8296531Z       given 1 Product Drive Donation on 2022-03-10 (unless 'All Time'), 1 during 2022-03-11..2024-01-14, and 1 on 2024-01-15
2024-03-12T06:26:52.8297979Z         filtering to '' (March 11, 2022 - January 14, 2024)
2024-03-12T06:26:54.2368106Z           shows 1 Recent Donation link(s)
2024-03-12T06:26:55.6189652Z           shows the correct total money raised
2024-03-12T06:26:57.1761663Z           shows the correct total donations
2024-03-12T06:26:57.1763407Z       given 1 Product Drive Donation on 2024-03-10 (unless 'All Time'), 4 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:26:57.1764744Z         filtering to 'Today'
2024-03-12T06:26:58.6848005Z           shows 3 Recent Donation link(s)
2024-03-12T06:27:00.1975144Z           shows the correct total donations
2024-03-12T06:27:01.7030694Z           shows the correct total money raised
2024-03-12T06:27:01.7032659Z       given 1 Product Drive Donation on 2024-02-10 (unless 'All Time'), 4 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:27:01.7034092Z         filtering to 'Last 30 Days'
2024-03-12T06:27:03.2337934Z           shows the correct total money raised
2024-03-12T06:27:04.7376254Z           shows 3 Recent Donation link(s)
2024-03-12T06:27:06.2518817Z           shows the correct total donations
2024-03-12T06:27:06.2520942Z       given 1 Product Drive Donation on 2024-02-29 (unless 'All Time'), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:27:06.2521966Z         filtering to 'This Month'
2024-03-12T06:27:07.6776153Z           shows the correct total money raised
2024-03-12T06:27:09.0996254Z           shows the correct total donations
2024-03-12T06:27:10.5129090Z           shows 2 Recent Donation link(s)
2024-03-12T06:27:10.5131562Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:27:10.5133287Z         filtering to 'Last Month'
2024-03-12T06:27:11.9038796Z           shows 1 Recent Donation link(s)
2024-03-12T06:27:13.2647717Z           shows the correct total money raised
2024-03-12T06:27:14.6386970Z           shows the correct total donations
2024-03-12T06:27:14.6388971Z       given 1 Product Drive Donation on 2024-03-04 (unless 'All Time'), 0 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:27:14.6390536Z         filtering to 'Last 7 Days'
2024-03-12T06:27:17.9772286Z           shows 0 Recent Donation link(s)
2024-03-12T06:27:19.3065499Z           shows the correct total donations
2024-03-12T06:27:20.6802906Z           shows the correct total money raised
2024-03-12T06:27:20.6804895Z     Manufacturer Donations
2024-03-12T06:27:21.2719177Z       has a link to create a new donation
2024-03-12T06:27:21.2721195Z       given 1 Manufacturer donating on 2024-02-29  (unless 'All Time'), 1 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:27:21.2722659Z         filtering to 'This Month'
2024-03-12T06:27:22.7266708Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-03-12T06:27:22.7269101Z       given 1 Manufacturer donating on 2024-02-10  (unless 'All Time'), 4 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:27:22.7270170Z         filtering to 'Last 30 Days'
2024-03-12T06:27:24.4644436Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-03-12T06:27:24.4646519Z       given 1 Manufacturer donating on 2022-03-10  (unless 'All Time'), 8 during 2022-03-11..2024-01-15, and 1 on 2024-01-16
2024-03-12T06:27:24.4648160Z         filtering to '' (March 11, 2022 - January 15, 2024)
2024-03-12T06:27:26.8579261Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-12T06:27:26.8581631Z       given 1 Manufacturer donating on 2024-03-04  (unless 'All Time'), 3 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:27:26.8582701Z         filtering to 'Last 7 Days'
2024-03-12T06:27:28.5120312Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-12T06:27:28.5123079Z       given 1 Manufacturer donating on 2024-03-09  (unless 'All Time'), 6 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:27:28.5125009Z         filtering to 'Yesterday'
2024-03-12T06:27:30.4966299Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-03-12T06:27:30.4968084Z       given 1 Manufacturer donating on 2024-03-10  (unless 'All Time'), 7 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:27:30.4969708Z         filtering to 'Today'
2024-03-12T06:27:32.8171864Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-03-12T06:27:32.8381156Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 7 during 2000-01-01..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:27:32.8383060Z         filtering to 'All Time'
2024-03-12T06:27:34.7540449Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-03-12T06:27:34.7542276Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 8 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:27:34.7543485Z         filtering to 'Last Month'
2024-03-12T06:27:37.0776037Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-12T06:27:37.0777710Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:27:37.0778643Z         filtering to 'This Year'
2024-03-12T06:27:38.5341070Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-03-12T06:27:38.5492628Z W, [2024-03-11T23:27:38.549050 #2382]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-12T06:27:38.5494127Z W, [2024-03-11T23:27:38.549102 #2382]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:27:38.5496035Z W, [2024-03-11T23:27:38.549118 #2382]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:27:38.5498371Z W, [2024-03-11T23:27:38.549142 #2382]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-12T06:27:38.5889063Z 
2024-03-12T06:27:38.5889345Z Failures:
2024-03-12T06:27:38.5889730Z 
2024-03-12T06:27:38.5891014Z   1) Purchases while signed in as a normal user When creating a new purchase via manual entry multiple line items for the same item type are accepted and combined on the backend
2024-03-12T06:27:38.5892717Z      Failure/Error: page.find(:css, "#__add_line_item").click
2024-03-12T06:27:38.5893597Z 
2024-03-12T06:27:38.5893810Z      Capybara::ElementNotFound:
2024-03-12T06:27:38.5894279Z        Unable to find css "#__add_line_item"
2024-03-12T06:27:38.5894609Z 
2024-03-12T06:27:38.5896586Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/capybara/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_manual_entry_multiple_line_items_for_the_same_item_type_are_accepted_and_combined_on_the_backend_154.png
2024-03-12T06:27:38.5898851Z 
2024-03-12T06:27:38.5898858Z 
2024-03-12T06:27:38.5899272Z      # ./spec/system/purchase_system_spec.rb:172:in `block (5 levels) in <top (required)>'
2024-03-12T06:27:38.5899851Z 
2024-03-12T06:27:38.5900488Z   2) Purchases while signed in as a normal user When creating a new purchase via barcode entry User scan same barcode 2 times
2024-03-12T06:27:38.5901509Z      Failure/Error: @__Condition__.wait @__Lock__, timeout
2024-03-12T06:27:38.5901909Z 
2024-03-12T06:27:38.5902060Z      Ferrum::JavaScriptError:
2024-03-12T06:27:38.5902682Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:27:38.5904274Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:36183/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:27:38.5905407Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:27:38.5906440Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:27:38.5907168Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:27:38.5907881Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:27:38.5908359Z 
2024-03-12T06:27:38.5909542Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_barcode_entry_user_scan_same_barcode_2_times_291.png
2024-03-12T06:27:38.5910674Z 
2024-03-12T06:27:38.5910679Z 
2024-03-12T06:27:38.5911662Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `sleep'
2024-03-12T06:27:38.5913587Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `wait'
2024-03-12T06:27:38.5915475Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `ns_wait'
2024-03-12T06:27:38.5917411Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:44:in `block in ns_wait_until'
2024-03-12T06:27:38.5919337Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `loop'
2024-03-12T06:27:38.5921234Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `ns_wait_until'
2024-03-12T06:27:38.5923008Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:87:in `block in wait'
2024-03-12T06:27:38.5924864Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `block in synchronize'
2024-03-12T06:27:38.5926974Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:27:38.5928864Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:27:38.5930719Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:84:in `wait'
2024-03-12T06:27:38.5932320Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:75:in `wait'
2024-03-12T06:27:38.5933960Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:99:in `value!'
2024-03-12T06:27:38.5935437Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/browser/client.rb:42:in `command'
2024-03-12T06:27:38.5936706Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/page.rb:269:in `command'
2024-03-12T06:27:38.5938011Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:109:in `block in call'
2024-03-12T06:27:38.5939367Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/utils/attempt.rb:10:in `with_retry'
2024-03-12T06:27:38.5940679Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:105:in `call'
2024-03-12T06:27:38.5941990Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:97:in `evaluate_on'
2024-03-12T06:27:38.5942996Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:27:38.5943728Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:27:38.5944859Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/browser.rb:179:in `disabled?'
2024-03-12T06:27:38.5946510Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:21:in `command'
2024-03-12T06:27:38.5947868Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:143:in `disabled?'
2024-03-12T06:27:38.5949297Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `block in disabled?'
2024-03-12T06:27:38.5950713Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/base.rb:77:in `synchronize'
2024-03-12T06:27:38.5952081Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `disabled?'
2024-03-12T06:27:38.5953576Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector.rb:431:in `block (2 levels) in <top (required)>'
2024-03-12T06:27:38.5955197Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:14:in `block in initialize'
2024-03-12T06:27:38.5956773Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `instance_exec'
2024-03-12T06:27:38.5958240Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `apply'
2024-03-12T06:27:38.5959899Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:24:in `matches?'
2024-03-12T06:27:38.5961575Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:296:in `block (2 levels) in matches_node_filters?'
2024-03-12T06:27:38.5963313Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `each'
2024-03-12T06:27:38.5964750Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `all?'
2024-03-12T06:27:38.5966326Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `block in matches_node_filters?'
2024-03-12T06:27:38.5967919Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/selector.rb:89:in `with_filter_errors'
2024-03-12T06:27:38.5969480Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:283:in `matches_node_filters?'
2024-03-12T06:27:38.5971055Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:124:in `matches_filters?'
2024-03-12T06:27:38.5972532Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/result.rb:32:in `block in initialize'
2024-03-12T06:27:38.5973799Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:27:38.5974920Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:27:38.5976035Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:27:38.5977137Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:27:38.5977794Z      # 
2024-03-12T06:27:38.5978113Z      #   Showing full backtrace because every line was filtered out.
2024-03-12T06:27:38.5978677Z      #   See docs for RSpec::Configuration#backtrace_exclusion_patterns and
2024-03-12T06:27:38.5979288Z      #   RSpec::Configuration#backtrace_inclusion_patterns for more information.
2024-03-12T06:27:38.5979672Z 
2024-03-12T06:27:38.5980221Z   3) Purchases while signed in as a normal user When creating a new purchase via barcode entry a user can add items via scanning them in by barcode
2024-03-12T06:27:38.5981317Z      Failure/Error: qty = page.find(:xpath, '//input[@id="purchase_line_items_attributes_0_quantity"]').value
2024-03-12T06:27:38.5981793Z 
2024-03-12T06:27:38.5981909Z      Ferrum::JavaScriptError:
2024-03-12T06:27:38.5982361Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:27:38.5983501Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:36183/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:27:38.5984552Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:27:38.5985263Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:27:38.5986098Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:27:38.5986777Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:27:38.5987370Z 
2024-03-12T06:27:38.5988575Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_barcode_entry_a_user_can_add_items_via_scanning_them_in_by_barcode_634.png
2024-03-12T06:27:38.5989718Z 
2024-03-12T06:27:38.5989722Z 
2024-03-12T06:27:38.5990191Z      # ./spec/system/purchase_system_spec.rb:235:in `block (5 levels) in <top (required)>'
2024-03-12T06:27:38.5990616Z 
2024-03-12T06:27:38.5990849Z Finished in 3 minutes 42.8 seconds (files took 8.11 seconds to load)
2024-03-12T06:27:38.5991296Z 212 examples, 3 failures
2024-03-12T06:27:38.5991482Z 
2024-03-12T06:27:38.5991572Z Failed examples:
2024-03-12T06:27:38.5991729Z 
2024-03-12T06:27:38.5992590Z rspec ./spec/system/purchase_system_spec.rb:167 # Purchases while signed in as a normal user When creating a new purchase via manual entry multiple line items for the same item type are accepted and combined on the backend
2024-03-12T06:27:38.5994206Z rspec ./spec/system/purchase_system_spec.rb:240 # Purchases while signed in as a normal user When creating a new purchase via barcode entry User scan same barcode 2 times
2024-03-12T06:27:38.5995678Z rspec ./spec/system/purchase_system_spec.rb:227 # Purchases while signed in as a normal user When creating a new purchase via barcode entry a user can add items via scanning them in by barcode
2024-03-12T06:27:38.5996528Z 
2024-03-12T06:27:38.5996639Z Randomized with seed 14381
2024-03-12T06:27:38.5996822Z 
2024-03-12T06:27:39.1294309Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:27:39.1296641Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3740 / 6478 LOC (57.73%) covered.
2024-03-12T06:27:39.2521937Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb" failed
2024-03-12T06:27:39.6474115Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:27:39.6476285Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10785 LOC (0.35%) covered.
2024-03-12T06:27:39.6754048Z ##[error]Process completed with exit code 1.
