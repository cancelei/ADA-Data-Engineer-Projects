2024-03-11T04:35:03.8455443Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-11T04:35:03.8456299Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-11T04:35:03.8507141Z shell: /usr/bin/bash -e {0}
2024-03-11T04:35:03.8507622Z env:
2024-03-11T04:35:03.8507980Z   POSTGRES_HOST: localhost
2024-03-11T04:35:03.8508376Z   DATABASE_HOST: localhost
2024-03-11T04:35:03.8508888Z   PG_USERNAME: postgres
2024-03-11T04:35:03.8509227Z   PG_PASSWORD: password
2024-03-11T04:35:03.8509614Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-11T04:35:03.8510111Z   POSTGRES_PORT: 5432
2024-03-11T04:35:03.8510466Z   PGHOST: localhost
2024-03-11T04:35:03.8510781Z   PGUSER: postgres
2024-03-11T04:35:03.8511205Z   RAILS_ENV: test
2024-03-11T04:35:03.8511575Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-11T04:35:03.8512034Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-11T04:35:03.8512511Z   KNAPSACK_PRO_CI_NODE_INDEX: 2
2024-03-11T04:35:03.8512920Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-11T04:35:03.8513634Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-11T04:35:03.8514259Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-11T04:35:03.8514913Z   EVENTS_READ: true
2024-03-11T04:35:03.8515283Z ##[endgroup]
2024-03-11T04:35:09.6840867Z W, [2024-03-11T04:35:09.683686 #2339]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-11T04:35:09.6844603Z W, [2024-03-11T04:35:09.683749 #2339]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-11T04:35:09.6847498Z W, [2024-03-11T04:35:09.683767 #2339]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-11T04:35:09.6853547Z W, [2024-03-11T04:35:09.683790 #2339]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-11T04:35:13.6085179Z W, [2024-03-11T04:35:13.608188 #2339]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-11T04:35:13.6087248Z W, [2024-03-11T04:35:13.608235 #2339]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-11T04:35:13.6089357Z W, [2024-03-11T04:35:13.608250 #2339]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-11T04:35:13.6092239Z W, [2024-03-11T04:35:13.608296 #2339]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-11T04:35:13.6144450Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-03-11T04:35:22.2956316Z 
2024-03-11T04:35:22.2957460Z Randomized with seed 35300
2024-03-11T04:35:23.2732944Z 
2024-03-11T04:35:23.2733817Z /partners/dashboard
2024-03-11T04:35:23.4876028Z   displays upcoming distributions
2024-03-11T04:35:23.4876901Z   GET #index
2024-03-11T04:35:23.5670255Z     does not display requests in other states
2024-03-11T04:35:23.6429429Z     displays requests that are pending
2024-03-11T04:35:23.6430348Z   with just partner role
2024-03-11T04:35:23.6961937Z     should not display the switch link
2024-03-11T04:35:23.6962801Z   with both roles
2024-03-11T04:35:23.7577038Z     should include the switch link
2024-03-11T04:35:23.7578063Z   BroadcastAnnouncement card
2024-03-11T04:35:23.8184781Z     doesn't display announcements if there are not valid ones
2024-03-11T04:35:23.8743975Z     doesn't display announcements from super admins
2024-03-11T04:35:23.9314868Z     displays announcements if there are valid ones
2024-03-11T04:35:23.9315665Z 
2024-03-11T04:35:23.9316046Z Admin::AccountRequestsController
2024-03-11T04:35:23.9317319Z   while signed in as a super admin
2024-03-11T04:35:23.9318373Z     GET #index
2024-03-11T04:35:23.9815949Z       returns success
2024-03-11T04:35:23.9816952Z     POST #reject
2024-03-11T04:35:24.0206367Z       should redirect back on success
2024-03-11T04:35:24.0207267Z     GET #for_rejection
2024-03-11T04:35:24.0208116Z       with an invalid token
2024-03-11T04:35:24.0523437Z         should show a not found message
2024-03-11T04:35:24.0524272Z       with a valid token
2024-03-11T04:35:24.0970636Z         should show the request
2024-03-11T04:35:24.0974854Z 
2024-03-11T04:35:24.0975241Z Dashboard
2024-03-11T04:35:24.0976708Z   With a new essentials bank
2024-03-11T04:35:58.5878327Z     displays the getting started guide until the steps are completed
2024-03-11T04:35:58.5879892Z   With an existing essentials bank
2024-03-11T04:35:58.5880944Z     Donations
2024-03-11T04:35:59.6360260Z       has a link to create a new donation
2024-03-11T04:35:59.6362237Z       given 1 Donation on 2024-03-08 (only if a valid date), 0 during 2024-03-09..2024-03-09, and 1 on 2024-03-10
2024-03-11T04:35:59.6363092Z         filtering to 'Yesterday'
2024-03-11T04:36:03.0734169Z           shows the correct total and 0 Recent Donation link(s)
2024-03-11T04:36:03.0736188Z       given 1 Donation on 2023-12-31 (only if a valid date), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-11T04:36:03.0737525Z         filtering to 'This Year'
2024-03-11T04:36:04.5217005Z           shows the correct total and 1 Recent Donation link(s)
2024-03-11T04:36:04.5218591Z       given 1 Donation on 2024-03-03 (only if a valid date), 3 during 2024-03-04..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:36:04.5219453Z         filtering to 'Last 7 Days'
2024-03-11T04:36:06.0303679Z           shows the correct total and 3 Recent Donation link(s)
2024-03-11T04:36:06.0305182Z       given 1 Donation on 2024-01-31 (only if a valid date), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-11T04:36:06.0306252Z         filtering to 'Last Month'
2024-03-11T04:36:07.5776244Z           shows the correct total and 3 Recent Donation link(s)
2024-03-11T04:36:07.5777874Z       given 1 Donation on 2024-02-29 (only if a valid date), 4 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-11T04:36:07.5778699Z         filtering to 'This Month'
2024-03-11T04:36:09.1515444Z           shows the correct total and 3 Recent Donation link(s)
2024-03-11T04:36:09.1517603Z       given 1 Donation on 2024-03-09 (only if a valid date), 1 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:36:09.1518851Z         filtering to 'Today'
2024-03-11T04:36:10.5999845Z           shows the correct total and 1 Recent Donation link(s)
2024-03-11T04:36:10.6003563Z       given 1 Donation on 2022-03-09 (only if a valid date), 0 during 2022-03-10..2023-12-13, and 1 on 2023-12-14
2024-03-11T04:36:10.6005388Z         filtering to '' (March 10, 2022 - December 13, 2023)
2024-03-11T04:36:14.0003630Z           shows the correct total and 0 Recent Donation link(s)
2024-03-11T04:36:14.0005514Z       given 1 Donation on 2024-02-09 (only if a valid date), 2 during 2024-02-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:36:14.0007118Z         filtering to 'Last 30 Days'
2024-03-11T04:36:15.4771347Z           shows the correct total and 2 Recent Donation link(s)
2024-03-11T04:36:15.4772419Z     Manufacturer Donations
2024-03-11T04:36:16.0902503Z       has a link to create a new donation
2024-03-11T04:36:16.0904449Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 9 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-11T04:36:16.0905988Z         filtering to 'This Year'
2024-03-11T04:36:18.7858492Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-11T04:36:18.7860667Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 7 during 2000-01-01..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:36:18.7862117Z         filtering to 'All Time'
2024-03-11T04:36:20.7178083Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-03-11T04:36:20.7179947Z       given 1 Manufacturer donating on 2024-02-09  (unless 'All Time'), 2 during 2024-02-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:36:20.7181198Z         filtering to 'Last 30 Days'
2024-03-11T04:36:22.3556723Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-03-11T04:36:22.3558342Z       given 1 Manufacturer donating on 2024-03-03  (unless 'All Time'), 7 during 2024-03-04..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:36:22.3559292Z         filtering to 'Last 7 Days'
2024-03-11T04:36:24.6501562Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-03-11T04:36:24.6503475Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-11T04:36:24.6504558Z         filtering to 'Last Month'
2024-03-11T04:36:26.4883598Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-03-11T04:36:26.4885792Z       given 1 Manufacturer donating on 2024-02-29  (unless 'All Time'), 5 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-11T04:36:26.4887161Z         filtering to 'This Month'
2024-03-11T04:36:28.2938715Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-03-11T04:36:28.2940787Z       given 1 Manufacturer donating on 2024-03-09  (unless 'All Time'), 6 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:36:28.2942152Z         filtering to 'Today'
2024-03-11T04:36:30.1013092Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-03-11T04:36:30.1015256Z       given 1 Manufacturer donating on 2024-03-08  (unless 'All Time'), 6 during 2024-03-09..2024-03-09, and 1 on 2024-03-10
2024-03-11T04:36:30.1016475Z         filtering to 'Yesterday'
2024-03-11T04:36:32.1250143Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-03-11T04:36:32.1252280Z       given 1 Manufacturer donating on 2022-03-09  (unless 'All Time'), 4 during 2022-03-10..2023-12-12, and 1 on 2023-12-13
2024-03-11T04:36:32.1253749Z         filtering to '' (March 10, 2022 - December 12, 2023)
2024-03-11T04:36:34.0817560Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-03-11T04:36:34.0820115Z     Signage
2024-03-11T04:36:36.9534389Z       shows their organization name unless they have a logo set
2024-03-11T04:36:36.9535047Z     Distributions
2024-03-11T04:36:37.9100992Z       has a link to create a new distribution
2024-03-11T04:36:37.9102384Z       given 1 Distribution on 2022-03-09  (unless 'All Time'), 4 during 2022-03-10..2023-11-29, and 1 on 2023-11-30
2024-03-11T04:36:37.9103865Z         filtering to '' (March 10, 2022 - November 29, 2023)
2024-03-11T04:36:39.3801678Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-11T04:36:39.3803947Z       given 1 Distribution on 2024-03-08  (unless 'All Time'), 0 during 2024-03-09..2024-03-09, and 1 on 2024-03-10
2024-03-11T04:36:39.3804931Z         filtering to 'Yesterday'
2024-03-11T04:36:42.7801987Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-11T04:36:42.7803874Z       given 1 Distribution on 2024-02-09  (unless 'All Time'), 4 during 2024-02-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:36:42.7805394Z         filtering to 'Last 30 Days'
2024-03-11T04:36:44.2419422Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-11T04:36:44.2421251Z       given 1 Distribution on 2024-03-09  (unless 'All Time'), 0 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:36:44.2422493Z         filtering to 'Today'
2024-03-11T04:36:47.6764709Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-11T04:36:47.6766827Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-11T04:36:47.6768436Z         filtering to 'Last Month'
2024-03-11T04:36:51.0756794Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-11T04:36:51.0758710Z       given 1 Distribution on 2024-02-29  (unless 'All Time'), 0 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-11T04:36:51.0760161Z         filtering to 'This Month'
2024-03-11T04:36:54.4449060Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-11T04:36:54.4450998Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-11T04:36:54.4452269Z         filtering to 'This Year'
2024-03-11T04:36:55.9343086Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-11T04:36:55.9344980Z       given 1 Distribution on 2024-03-03  (unless 'All Time'), 3 during 2024-03-04..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:36:55.9346525Z         filtering to 'Last 7 Days'
2024-03-11T04:36:57.3996430Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-11T04:36:57.3998602Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 3 during 2000-01-01..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:36:57.3999909Z         filtering to 'All Time'
2024-03-11T04:36:58.8793985Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-11T04:36:58.8797117Z     Product Drives
2024-03-11T04:36:59.5026049Z       has a widget for product drive summary data
2024-03-11T04:36:59.5027744Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-11T04:36:59.5028779Z         filtering to 'Last Month'
2024-03-11T04:37:01.2261422Z           shows the correct total money raised
2024-03-11T04:37:02.7860804Z           shows the correct total donations
2024-03-11T04:37:04.2954270Z           shows 3 Recent Donation link(s)
2024-03-11T04:37:04.2956267Z       given 1 Product Drive Donation on 2022-03-09 (unless 'All Time'), 2 during 2022-03-10..2023-11-23, and 1 on 2023-11-24
2024-03-11T04:37:04.2958098Z         filtering to '' (March 10, 2022 - November 23, 2023)
2024-03-11T04:37:05.7298736Z           shows the correct total donations
2024-03-11T04:37:07.1725294Z           shows the correct total money raised
2024-03-11T04:37:08.6198227Z           shows 2 Recent Donation link(s)
2024-03-11T04:37:08.6200134Z       given 1 Product Drive Donation on 2024-03-03 (unless 'All Time'), 2 during 2024-03-04..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:37:08.6201479Z         filtering to 'Last 7 Days'
2024-03-11T04:37:10.0702502Z           shows the correct total money raised
2024-03-11T04:37:11.5109351Z           shows 2 Recent Donation link(s)
2024-03-11T04:37:12.9418987Z           shows the correct total donations
2024-03-11T04:37:12.9421173Z       given 1 Product Drive Donation on 2024-02-09 (unless 'All Time'), 3 during 2024-02-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:37:12.9423068Z         filtering to 'Last 30 Days'
2024-03-11T04:37:14.3804027Z           shows the correct total money raised
2024-03-11T04:37:15.8544089Z           shows 3 Recent Donation link(s)
2024-03-11T04:37:17.3649012Z           shows the correct total donations
2024-03-11T04:37:17.3651015Z       given 1 Product Drive Donation on 2024-02-29 (unless 'All Time'), 1 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-11T04:37:17.3652357Z         filtering to 'This Month'
2024-03-11T04:37:18.7607302Z           shows the correct total money raised
2024-03-11T04:37:20.1788145Z           shows the correct total donations
2024-03-11T04:37:21.5960224Z           shows 1 Recent Donation link(s)
2024-03-11T04:37:21.5961300Z       Product drive behaviour with Mixed Donation types
2024-03-11T04:37:22.3532311Z         only counts product drive donations for product drive
2024-03-11T04:37:23.1486256Z         only shows product drive donations as product drive donations
2024-03-11T04:37:23.8505648Z         only counts product drive money raised
2024-03-11T04:37:23.8507290Z       given 1 Product Drive Donation on 2024-03-09 (unless 'All Time'), 1 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:37:23.8508383Z         filtering to 'Today'
2024-03-11T04:37:25.2298531Z           shows the correct total money raised
2024-03-11T04:37:26.6036384Z           shows 1 Recent Donation link(s)
2024-03-11T04:37:27.9880509Z           shows the correct total donations
2024-03-11T04:37:27.9882006Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-11T04:37:27.9884894Z         filtering to 'This Year'
2024-03-11T04:37:31.3093727Z           shows 0 Recent Donation link(s)
2024-03-11T04:37:32.6520001Z           shows the correct total money raised
2024-03-11T04:37:33.9631028Z           shows the correct total donations
2024-03-11T04:37:33.9633000Z       given 1 Product Drive Donation on 2024-03-08 (unless 'All Time'), 1 during 2024-03-09..2024-03-09, and 1 on 2024-03-10
2024-03-11T04:37:33.9634003Z         filtering to 'Yesterday'
2024-03-11T04:37:35.3398932Z           shows 1 Recent Donation link(s)
2024-03-11T04:37:36.7031792Z           shows the correct total money raised
2024-03-11T04:37:38.0751649Z           shows the correct total donations
2024-03-11T04:37:38.0752428Z     Inventory Totals
2024-03-11T04:37:38.0753902Z       Summary
2024-03-11T04:37:38.7808762Z         displays the on-hand totals
2024-03-11T04:37:38.7810129Z         when constrained to date range
2024-03-11T04:37:39.8215175Z           does not change
2024-03-11T04:37:39.8216141Z     Purchases
2024-03-11T04:37:40.7265499Z       has a link to create a new purchase
2024-03-11T04:37:40.7266978Z       given 1 Purchase on 2024-03-03  (unless 'All Time'), 0 during 2024-03-04..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:37:40.7268246Z         filtering to 'Last 7 Days'
2024-03-11T04:37:44.1385983Z           shows correct 0 Recent Purchase link(s)
2024-03-11T04:37:44.1388079Z       given 1 Purchase on 2024-03-08  (unless 'All Time'), 3 during 2024-03-09..2024-03-09, and 1 on 2024-03-10
2024-03-11T04:37:44.1389384Z         filtering to 'Yesterday'
2024-03-11T04:37:45.5617732Z           shows correct 3 Recent Purchase link(s)
2024-03-11T04:37:45.5619423Z       given 1 Purchase on 2024-02-29  (unless 'All Time'), 0 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-11T04:37:45.5620686Z         filtering to 'This Month'
2024-03-11T04:37:48.8797504Z           shows correct 0 Recent Purchase link(s)
2024-03-11T04:37:48.8799302Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-11T04:37:48.8800781Z         filtering to 'Last Month'
2024-03-11T04:37:50.3775331Z           shows correct 3 Recent Purchase link(s)
2024-03-11T04:37:50.3776856Z       given 1 Purchase on 2024-03-09  (unless 'All Time'), 3 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:37:50.3778049Z         filtering to 'Today'
2024-03-11T04:37:51.8646329Z           shows correct 3 Recent Purchase link(s)
2024-03-11T04:37:51.8648035Z       given 1 Purchase on 2024-02-09  (unless 'All Time'), 0 during 2024-02-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:37:51.8649299Z         filtering to 'Last 30 Days'
2024-03-11T04:37:55.2038429Z           shows correct 0 Recent Purchase link(s)
2024-03-11T04:37:55.2039805Z       given 1 Purchase on 2022-03-09  (unless 'All Time'), 1 during 2022-03-10..2024-01-25, and 1 on 2024-01-26
2024-03-11T04:37:55.2041052Z         filtering to '' (March 10, 2022 - January 25, 2024)
2024-03-11T04:37:56.7027477Z           shows correct 1 Recent Purchase link(s)
2024-03-11T04:37:56.7029599Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 4 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-11T04:37:56.7030769Z         filtering to 'This Year'
2024-03-11T04:37:58.2159918Z           shows correct 3 Recent Purchase link(s)
2024-03-11T04:37:58.2163400Z 
2024-03-11T04:37:58.2163755Z Vendor
2024-03-11T04:37:58.2165110Z   when editing an existing vendor
2024-03-11T04:37:58.9767718Z     does not update a vendor with empty attributes
2024-03-11T04:37:59.7602989Z     can update the contact info for a vendor as a user
2024-03-11T04:37:59.7604066Z   When vendor have purchases associated with them already
2024-03-11T04:38:00.3620838Z     can have a single vendor show semi-detailed stats about purchases
2024-03-11T04:38:00.9575797Z     can have existing vendors show in the #index with some summary stats
2024-03-11T04:38:00.9576868Z   when creating a new vendor
2024-03-11T04:38:01.7278731Z     can create a new vendor instance as a user
2024-03-11T04:38:02.4408821Z     cannot add a new vendor instance with empty attributes
2024-03-11T04:38:02.4409531Z   When a user views the index page
2024-03-11T04:38:02.9072940Z     should have the vendor names in alphabetical order
2024-03-11T04:38:02.9073618Z 
2024-03-11T04:38:02.9073899Z Organization management
2024-03-11T04:38:02.9075955Z   while signed in as an organization admin
2024-03-11T04:38:03.9138887Z     can re-activate a user in the organization
2024-03-11T04:38:04.8835506Z     can deactivate a user in the organization
2024-03-11T04:38:05.3628699Z     can re-invite a user to an organization after 7 days
2024-03-11T04:38:05.8699715Z     can see 'Make user' button for admins
2024-03-11T04:38:06.7980335Z     can add a new user to an organization
2024-03-11T04:38:06.7981238Z     Editing the organization
2024-03-11T04:38:07.9524856Z       can enable if the org uses single step invite and approve partner process
2024-03-11T04:38:08.9261860Z       can disable if the org does NOT use single step invite and approve partner process
2024-03-11T04:38:09.9040140Z       can select if the org repackages essentials
2024-03-11T04:38:10.8858898Z       can select if the org distributes essentials monthly
2024-03-11T04:38:12.0665925Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-03-11T04:38:12.8865988Z       can set a default storage location on the organization
2024-03-11T04:38:13.8570105Z       can select if the org shows year-to-date values on the distribution printout
2024-03-11T04:38:14.6822269Z       can set the NDBN Member ID
2024-03-11T04:38:16.1290760Z       can select and deselect Required Partner Fields
2024-03-11T04:38:16.9672196Z       can set a reminder and a deadline day
2024-03-11T04:38:16.9672847Z     Viewing the organization
2024-03-11T04:38:17.5284460Z       can view organization details
2024-03-11T04:38:17.5285359Z   while signed in as a normal user
2024-03-11T04:38:17.9717810Z     can see summary details about the organization as a user
2024-03-11T04:38:18.4381248Z     cannot see 'Make user' button for admins
2024-03-11T04:38:18.4381874Z 
2024-03-11T04:38:18.4382157Z BroadcastAnnouncements
2024-03-11T04:38:18.4384223Z   DELETE /destroy
2024-03-11T04:38:18.4586339Z     destroys the requested announcement then redirects
2024-03-11T04:38:18.4587286Z   PATCH /update
2024-03-11T04:38:18.4588244Z     with valid parameters
2024-03-11T04:38:18.4780597Z       updates the requested announcement and redirects
2024-03-11T04:38:18.4781639Z     with invalid parameters
2024-03-11T04:38:18.5131560Z       does not render a successful response
2024-03-11T04:38:18.5132599Z   POST /create
2024-03-11T04:38:18.5133244Z     with valid parameters
2024-03-11T04:38:18.5288776Z       creates a new BroadcastAnnouncement then redirects
2024-03-11T04:38:18.5291946Z     with invalid parameters
2024-03-11T04:38:18.5590747Z       does not create a new BroadcastAnnouncement
2024-03-11T04:38:18.5862315Z       does not render a successful response
2024-03-11T04:38:18.5862999Z   GET /new
2024-03-11T04:38:18.6115792Z     renders a successful response
2024-03-11T04:38:18.6116593Z   GET /index
2024-03-11T04:38:18.6408837Z     renders a successful response
2024-03-11T04:38:18.6410026Z   GET /edit
2024-03-11T04:38:18.6694244Z     render a successful response
2024-03-11T04:38:18.6695068Z 
2024-03-11T04:38:18.6695429Z Purchases
2024-03-11T04:38:18.6697487Z   while signed in as an organization admin
2024-03-11T04:38:19.5087130Z     allows deletion of a purchase
2024-03-11T04:38:19.5088008Z   while signed in as a normal user
2024-03-11T04:38:19.5088757Z     When visiting an existing purchase
2024-03-11T04:38:19.9423882Z       does not allow deletion of a purchase
2024-03-11T04:38:19.9424584Z     When visiting the index page
2024-03-11T04:38:19.9425337Z       In the middle of the year
2024-03-11T04:38:20.7419066Z         User can click to the new purchase form
2024-03-11T04:38:21.4892615Z         User sees total purchases value
2024-03-11T04:38:22.1999263Z         User sees purchased date column
2024-03-11T04:38:22.1999894Z       When filtering on the index page
2024-03-11T04:38:22.9924189Z         User can filter the #index by storage location
2024-03-11T04:38:23.8070096Z         User can filter the #index by vendor
2024-03-11T04:38:23.8071078Z         behaves like Date Range Picker
2024-03-11T04:38:23.8071812Z           when choosing 'Last Month'
2024-03-11T04:38:24.7822660Z             shows only 2 of the records
2024-03-11T04:38:24.7824005Z           when choosing a date range that only includes the previous week
2024-03-11T04:38:25.7173420Z             shows only 1 record
2024-03-11T04:38:25.7174234Z           when choosing 'All Time'
2024-03-11T04:38:26.6911881Z             shows all the records
2024-03-11T04:38:26.6913001Z     When creating a new purchase
2024-03-11T04:38:27.1707018Z       should not display inactive storage locations in dropdown
2024-03-11T04:38:27.1707763Z       via manual entry
2024-03-11T04:38:28.0330913Z         User can create a purchase using dollars decimal amount
2024-03-11T04:38:29.0651404Z         User can create vendor from purchase
2024-03-11T04:38:30.0474616Z         Does not include inactive items in the line item fields
2024-03-11T04:38:31.1539246Z         User can create a purchase IN THE PAST
2024-03-11T04:38:32.3072421Z         multiple line items for the same item type are accepted and combined on the backend
2024-03-11T04:38:32.3073767Z         when creating a purchase incorrectly
2024-03-11T04:38:33.2683643Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-03-11T04:38:34.0393566Z           should display failure with error messages
2024-03-11T04:38:34.0394484Z       via barcode entry
2024-03-11T04:38:34.7890550Z         a user can add items via scanning them in by barcode
2024-03-11T04:38:35.9859341Z         a user can add items that do not yet have a barcode
2024-03-11T04:38:36.8977237Z         User scan same barcode 2 times
2024-03-11T04:38:36.8977839Z       Editing purchase
2024-03-11T04:38:37.4003229Z         A user can see purchased_from value
2024-03-11T04:38:38.0021784Z         A user can view another organizations purchase
2024-03-11T04:38:38.0023037Z 
2024-03-11T04:38:38.0023492Z /partners/profiles
2024-03-11T04:38:38.0024792Z   GET #edit
2024-03-11T04:38:38.0861350Z     displays the partner (FAILED - 1)
2024-03-11T04:38:38.1523615Z     has "Yes" radio button value when value is true (FAILED - 2)
2024-03-11T04:38:38.2179334Z     has "No" radio button value when value is false (FAILED - 3)
2024-03-11T04:38:38.2834527Z     does not have default radio button value when value is nil (FAILED - 4)
2024-03-11T04:38:38.2835599Z   PUT #update
2024-03-11T04:38:38.3396882Z     updates the partner and profile
2024-03-11T04:38:38.3397792Z     when updating an existing value to a blank value
2024-03-11T04:38:38.3910073Z       does store N/A in the database
2024-03-11T04:38:38.4421418Z       updates the partner profile attribute to a blank value
2024-03-11T04:38:38.4945033Z       does not update other partner profile attributes to blank
2024-03-11T04:38:38.4945908Z     with no social media
2024-03-11T04:38:38.5677433Z       shows an error (FAILED - 5)
2024-03-11T04:38:38.5678130Z   GET #show
2024-03-11T04:38:38.6267815Z     displays the partner
2024-03-11T04:38:38.6799990Z     shows correct values for yes/no buttons
2024-03-11T04:38:38.6801707Z 
2024-03-11T04:38:38.6803289Z StorageLocations
2024-03-11T04:38:38.6804144Z   While not signed in
2024-03-11T04:38:38.6871839Z     redirects the user to the sign-in page for CRUD actions
2024-03-11T04:38:38.6872728Z   While signed in
2024-03-11T04:38:38.6873531Z     Looking at a different organization
2024-03-11T04:38:38.8593008Z       redirects the user to the sign-in page for CRUD actions
2024-03-11T04:38:38.8594067Z     GET #inventory
2024-03-11T04:38:38.8594441Z       when also including omitted items
2024-03-11T04:38:38.9112208Z         returns a collection that also includes all items, but with zeroed quantities
2024-03-11T04:38:38.9589406Z         contains a collection of ducktyped entries that respond the same
2024-03-11T04:38:38.9590437Z       without any overrides
2024-03-11T04:38:39.0105746Z         returns a collection that only includes items at the storage location
2024-03-11T04:38:39.0107277Z       when also including inactive items
2024-03-11T04:38:39.0888061Z         returns a collection that also includes items that have been deactivated
2024-03-11T04:38:39.0889288Z     POST #import_csv
2024-03-11T04:38:39.0890467Z       without a csv file
2024-03-11T04:38:39.1023610Z         presents a flash error message
2024-03-11T04:38:39.1148053Z         redirects to :index
2024-03-11T04:38:39.1148753Z       with a csv file
2024-03-11T04:38:39.1306960Z         presents a flash notice message
2024-03-11T04:38:39.1359882Z         invokes .import_csv
2024-03-11T04:38:39.1523331Z         redirects
2024-03-11T04:38:39.1524057Z       csv file with wrong headers
2024-03-11T04:38:39.1654652Z         presents a flash error message
2024-03-11T04:38:39.1789050Z         redirects
2024-03-11T04:38:39.1789875Z     GET #edit
2024-03-11T04:38:39.3297636Z       returns http success
2024-03-11T04:38:39.3298521Z     GET #destroy
2024-03-11T04:38:39.3598206Z       redirects to #index
2024-03-11T04:38:39.3598920Z     GET #index
2024-03-11T04:38:39.3599620Z       csv
2024-03-11T04:38:39.3785776Z         succeeds
2024-03-11T04:38:39.4751335Z         includes headers followed by alphabetized item names
2024-03-11T04:38:39.4752351Z       html
2024-03-11T04:38:39.5131342Z         succeeds
2024-03-11T04:38:39.5132093Z         with inactive locations
2024-03-11T04:38:39.5504866Z           does not includes the inactive location
2024-03-11T04:38:39.5505799Z           with include_inactive_locations
2024-03-11T04:38:39.5924850Z             includes the inactive location
2024-03-11T04:38:39.5925726Z     PUT #deactivate
2024-03-11T04:38:39.6141774Z       discards
2024-03-11T04:38:39.6142206Z       with inventory
2024-03-11T04:38:39.6615240Z         does not discard
2024-03-11T04:38:39.6615996Z     GET #new
2024-03-11T04:38:39.6919643Z       returns http success
2024-03-11T04:38:39.6920421Z     GET #show
2024-03-11T04:38:39.6921177Z       csv
2024-03-11T04:38:39.7424024Z         should be successful
2024-03-11T04:38:39.7424793Z       html
2024-03-11T04:38:39.8094337Z         should return a correct response
2024-03-11T04:38:39.8095938Z         with version date set
2024-03-11T04:38:39.8096890Z           with no version found
2024-03-11T04:38:39.8891815Z             should show N/A
2024-03-11T04:38:39.8892542Z           with a version found
2024-03-11T04:38:39.9713199Z             should show the version specified
2024-03-11T04:38:39.9714093Z     PUT #reactivate
2024-03-11T04:38:39.9886084Z       undiscards
2024-03-11T04:38:39.9886805Z 
2024-03-11T04:38:39.9887221Z Profiles
2024-03-11T04:38:39.9888124Z   POST #update
2024-03-11T04:38:39.9889018Z     when updating an existing value to a blank value
2024-03-11T04:38:40.0340573Z       should have blank values
2024-03-11T04:38:40.0809215Z       update partner
2024-03-11T04:38:40.0809991Z     successful save
2024-03-11T04:38:40.1229713Z       redirects to #show
2024-03-11T04:38:40.1678738Z       update partner
2024-03-11T04:38:40.1679752Z   GET #edit
2024-03-11T04:38:40.2284830Z     returns http success (FAILED - 6)
2024-03-11T04:38:40.2285612Z 
2024-03-11T04:38:40.2285910Z Kit management
2024-03-11T04:38:41.1351889Z   can create a new kit as a user with the proper quantity
2024-03-11T04:38:42.5845461Z   can allocate and deallocate quantity per storage location from kit index
2024-03-11T04:38:43.1460987Z   should not display inactive storage locations under allocations
2024-03-11T04:38:44.2468455Z   when there is not enough quantity of the items contained in the kit on-hand
2024-03-11T04:38:44.2469324Z     will not change quantity amounts when allocating
2024-03-11T04:38:44.2469996Z   when there is no kit quantity
2024-03-11T04:38:45.3935364Z     will not change quantity amounts when deallocating
2024-03-11T04:38:45.3936009Z 
2024-03-11T04:38:45.3936542Z Admin Organization Management
2024-03-11T04:38:45.3937881Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-11T04:38:47.3752812Z     creates a new organization
2024-03-11T04:38:47.3753622Z   While signed in as an Administrative User (super admin)
2024-03-11T04:38:48.4563946Z     filters by organizations by name in organizations index page
2024-03-11T04:38:50.3414708Z     creates a new organization
2024-03-11T04:38:51.6541047Z     can view organization details
2024-03-11T04:38:51.6542029Z 
2024-03-11T04:38:51.6542389Z Managing requests
2024-03-11T04:38:51.6543878Z   creating a new quantity request
2024-03-11T04:38:51.6545068Z     GIVEN a partner user is permitted to make a request
2024-03-11T04:38:51.6546098Z       WHEN a request is built using add and remove buttons
2024-03-11T04:38:51.6547167Z         THEN a request records will be created
2024-03-11T04:38:53.6265248Z           creates the correct request
2024-03-11T04:38:53.6266617Z   creating a # individuals request
2024-03-11T04:38:53.6267950Z     GIVEN a partner user is permitted to make a request
2024-03-11T04:38:53.6269151Z       WHEN a request is built using add and remove buttons
2024-03-11T04:38:53.6270224Z         THEN a request records will be created
2024-03-11T04:38:55.4440209Z           creates the correct request
2024-03-11T04:38:55.4442135Z 
2024-03-11T04:38:55.4442461Z Events
2024-03-11T04:38:55.4443820Z   When signed in
2024-03-11T04:38:55.4444459Z     GET #index
2024-03-11T04:38:56.0325658Z       should be successful
2024-03-11T04:38:56.0326664Z       with item filter
2024-03-11T04:38:56.6039604Z         should not include the other item
2024-03-11T04:38:56.6040626Z       with type filter
2024-03-11T04:38:57.1461225Z         should not include the adjustment
2024-03-11T04:38:57.1461822Z       with date filter
2024-03-11T04:38:57.6894339Z         should not include the old donation
2024-03-11T04:38:57.6895206Z       with eventable_id
2024-03-11T04:38:58.4177677Z         should only show events from that eventable
2024-03-11T04:38:58.4178429Z       with storage location filter
2024-03-11T04:38:58.9651401Z         should not include the other storage location
2024-03-11T04:38:58.9652337Z   When not signed in
2024-03-11T04:38:58.9865666Z     redirects the user to the sign-in page for CRUD actions
2024-03-11T04:38:58.9866555Z 
2024-03-11T04:38:58.9866710Z User account management
2024-03-11T04:38:58.9867655Z   when not in staging
2024-03-11T04:38:59.8686262Z     should change the email
2024-03-11T04:39:00.7428103Z     should change an user name
2024-03-11T04:39:01.5265392Z     should fail when the email is invalid
2024-03-11T04:39:01.5265998Z   when in staging
2024-03-11T04:39:01.9620613Z     should display staging warning
2024-03-11T04:39:02.5110882Z     should not allow the user to change staging credentials
2024-03-11T04:39:02.5111757Z 
2024-03-11T04:39:02.5111994Z Admin::Questions
2024-03-11T04:39:02.5112466Z   while signed in as a super admin
2024-03-11T04:39:02.5112980Z     GET #index
2024-03-11T04:39:02.5315935Z       lets the user load the page
2024-03-11T04:39:02.5316489Z     GET #edit
2024-03-11T04:39:02.5825876Z       lets the user load the edit question page
2024-03-11T04:39:02.5826350Z     PATCH #update
2024-03-11T04:39:02.6068679Z       lets the user update questions
2024-03-11T04:39:02.6069328Z     GET #new
2024-03-11T04:39:02.6403865Z       lets the user load the new question page
2024-03-11T04:39:02.6404562Z     DELETE #destroy
2024-03-11T04:39:02.6628260Z       lets the user delete questions
2024-03-11T04:39:02.6628711Z     POST #create
2024-03-11T04:39:02.6818018Z       lets the user create questions
2024-03-11T04:39:02.6909729Z W, [2024-03-10T21:39:02.690790 #2397]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-11T04:39:02.6910993Z W, [2024-03-10T21:39:02.690830 #2397]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-11T04:39:02.6912589Z W, [2024-03-10T21:39:02.690845 #2397]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-11T04:39:02.6914463Z W, [2024-03-10T21:39:02.690868 #2397]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-11T04:39:02.7465503Z 
2024-03-11T04:39:02.7466027Z Failures:
2024-03-11T04:39:02.7466515Z 
2024-03-11T04:39:02.7466814Z   1) /partners/profiles GET #edit displays the partner
2024-03-11T04:39:02.7467361Z      Failure/Error:
2024-03-11T04:39:02.7467766Z        link_to_add_association form, :served_areas,
2024-03-11T04:39:02.7468279Z                               data: {
2024-03-11T04:39:02.7468767Z                                 association_insertion_node: node,
2024-03-11T04:39:02.7469366Z                                 association_insertion_method: "append"
2024-03-11T04:39:02.7470635Z                               }, id: "__add_partner_served_area", class: "btn btn-#{size} btn-#{type} add-partner-served_area", partial: partial do
2024-03-11T04:39:02.7471533Z          fa_icon "plus", text: text
2024-03-11T04:39:02.7471947Z        end
2024-03-11T04:39:02.7472125Z 
2024-03-11T04:39:02.7472307Z      ActionView::Template::Error:
2024-03-11T04:39:02.7473213Z        undefined method `link_to_add_association' for #<ActionView::Base:0x000000000662d8>
2024-03-11T04:39:02.7474220Z      # ./app/helpers/ui_helper.rb:195:in `add_served_area_button'
2024-03-11T04:39:02.7475614Z      # ./app/views/partners/profiles/edit/_area_served.html.erb:27:in `_app_views_partners_profiles_edit__area_served_html_erb__852028071088283734_209240'
2024-03-11T04:39:02.7477389Z      # ./app/views/partners/profiles/edit.html.erb:38:in `block (3 levels) in _app_views_partners_profiles_edit_html_erb___803009129445360250_209120'
2024-03-11T04:39:02.7478515Z      # ./app/views/partners/profiles/edit.html.erb:36:in `each'
2024-03-11T04:39:02.7479441Z      # ./app/views/partners/profiles/edit.html.erb:36:in `block (2 levels) in _app_views_partners_profiles_edit_html_erb___803009129445360250_209120'
2024-03-11T04:39:02.7480684Z      # ./app/views/partners/profiles/edit.html.erb:31:in `block in _app_views_partners_profiles_edit_html_erb___803009129445360250_209120'
2024-03-11T04:39:02.7481847Z      # ./app/views/partners/profiles/edit.html.erb:30:in `_app_views_partners_profiles_edit_html_erb___803009129445360250_209120'
2024-03-11T04:39:02.7483315Z      # ./spec/requests/partners/profiles_requests_spec.rb:28:in `block (3 levels) in <top (required)>'
2024-03-11T04:39:02.7483982Z      # ------------------
2024-03-11T04:39:02.7484287Z      # --- Caused by: ---
2024-03-11T04:39:02.7484563Z      # NoMethodError:
2024-03-11T04:39:02.7485160Z      #   undefined method `link_to_add_association' for #<ActionView::Base:0x000000000662d8>
2024-03-11T04:39:02.7485816Z      #   ./app/helpers/ui_helper.rb:195:in `add_served_area_button'
2024-03-11T04:39:02.7486159Z 
2024-03-11T04:39:02.7486449Z   2) /partners/profiles GET #edit has "Yes" radio button value when value is true
2024-03-11T04:39:02.7486978Z      Failure/Error:
2024-03-11T04:39:02.7487286Z        link_to_add_association form, :served_areas,
2024-03-11T04:39:02.7487678Z                               data: {
2024-03-11T04:39:02.7488053Z                                 association_insertion_node: node,
2024-03-11T04:39:02.7488510Z                                 association_insertion_method: "append"
2024-03-11T04:39:02.7489325Z                               }, id: "__add_partner_served_area", class: "btn btn-#{size} btn-#{type} add-partner-served_area", partial: partial do
2024-03-11T04:39:02.7490243Z          fa_icon "plus", text: text
2024-03-11T04:39:02.7490551Z        end
2024-03-11T04:39:02.7490680Z 
2024-03-11T04:39:02.7490799Z      ActionView::Template::Error:
2024-03-11T04:39:02.7491403Z        undefined method `link_to_add_association' for #<ActionView::Base:0x00000000066350>
2024-03-11T04:39:02.7492004Z      # ./app/helpers/ui_helper.rb:195:in `add_served_area_button'
2024-03-11T04:39:02.7492880Z      # ./app/views/partners/profiles/edit/_area_served.html.erb:27:in `_app_views_partners_profiles_edit__area_served_html_erb__852028071088283734_209240'
2024-03-11T04:39:02.7494087Z      # ./app/views/partners/profiles/edit.html.erb:38:in `block (3 levels) in _app_views_partners_profiles_edit_html_erb___803009129445360250_209120'
2024-03-11T04:39:02.7494935Z      # ./app/views/partners/profiles/edit.html.erb:36:in `each'
2024-03-11T04:39:02.7495789Z      # ./app/views/partners/profiles/edit.html.erb:36:in `block (2 levels) in _app_views_partners_profiles_edit_html_erb___803009129445360250_209120'
2024-03-11T04:39:02.7496934Z      # ./app/views/partners/profiles/edit.html.erb:31:in `block in _app_views_partners_profiles_edit_html_erb___803009129445360250_209120'
2024-03-11T04:39:02.7498002Z      # ./app/views/partners/profiles/edit.html.erb:30:in `_app_views_partners_profiles_edit_html_erb___803009129445360250_209120'
2024-03-11T04:39:02.7498929Z      # ./spec/requests/partners/profiles_requests_spec.rb:41:in `block (3 levels) in <top (required)>'
2024-03-11T04:39:02.7499537Z      # ------------------
2024-03-11T04:39:02.7499831Z      # --- Caused by: ---
2024-03-11T04:39:02.7500103Z      # NoMethodError:
2024-03-11T04:39:02.7500655Z      #   undefined method `link_to_add_association' for #<ActionView::Base:0x00000000066350>
2024-03-11T04:39:02.7501265Z      #   ./app/helpers/ui_helper.rb:195:in `add_served_area_button'
2024-03-11T04:39:02.7501599Z 
2024-03-11T04:39:02.7501871Z   3) /partners/profiles GET #edit has "No" radio button value when value is false
2024-03-11T04:39:02.7502358Z      Failure/Error:
2024-03-11T04:39:02.7502658Z        link_to_add_association form, :served_areas,
2024-03-11T04:39:02.7503027Z                               data: {
2024-03-11T04:39:02.7503391Z                                 association_insertion_node: node,
2024-03-11T04:39:02.7503823Z                                 association_insertion_method: "append"
2024-03-11T04:39:02.7504612Z                               }, id: "__add_partner_served_area", class: "btn btn-#{size} btn-#{type} add-partner-served_area", partial: partial do
2024-03-11T04:39:02.7505249Z          fa_icon "plus", text: text
2024-03-11T04:39:02.7505554Z        end
2024-03-11T04:39:02.7505680Z 
2024-03-11T04:39:02.7505965Z      ActionView::Template::Error:
2024-03-11T04:39:02.7506561Z        undefined method `link_to_add_association' for #<ActionView::Base:0x000000000663c8>
2024-03-11T04:39:02.7507304Z      # ./app/helpers/ui_helper.rb:195:in `add_served_area_button'
2024-03-11T04:39:02.7508183Z      # ./app/views/partners/profiles/edit/_area_served.html.erb:27:in `_app_views_partners_profiles_edit__area_served_html_erb__852028071088283734_209240'
2024-03-11T04:39:02.7509394Z      # ./app/views/partners/profiles/edit.html.erb:38:in `block (3 levels) in _app_views_partners_profiles_edit_html_erb___803009129445360250_209120'
2024-03-11T04:39:02.7510239Z      # ./app/views/partners/profiles/edit.html.erb:36:in `each'
2024-03-11T04:39:02.7511087Z      # ./app/views/partners/profiles/edit.html.erb:36:in `block (2 levels) in _app_views_partners_profiles_edit_html_erb___803009129445360250_209120'
2024-03-11T04:39:02.7512228Z      # ./app/views/partners/profiles/edit.html.erb:31:in `block in _app_views_partners_profiles_edit_html_erb___803009129445360250_209120'
2024-03-11T04:39:02.7513292Z      # ./app/views/partners/profiles/edit.html.erb:30:in `_app_views_partners_profiles_edit_html_erb___803009129445360250_209120'
2024-03-11T04:39:02.7514223Z      # ./spec/requests/partners/profiles_requests_spec.rb:48:in `block (3 levels) in <top (required)>'
2024-03-11T04:39:02.7514821Z      # ------------------
2024-03-11T04:39:02.7515114Z      # --- Caused by: ---
2024-03-11T04:39:02.7515382Z      # NoMethodError:
2024-03-11T04:39:02.7515934Z      #   undefined method `link_to_add_association' for #<ActionView::Base:0x000000000663c8>
2024-03-11T04:39:02.7516541Z      #   ./app/helpers/ui_helper.rb:195:in `add_served_area_button'
2024-03-11T04:39:02.7516871Z 
2024-03-11T04:39:02.7517193Z   4) /partners/profiles GET #edit does not have default radio button value when value is nil
2024-03-11T04:39:02.7517727Z      Failure/Error:
2024-03-11T04:39:02.7518024Z        link_to_add_association form, :served_areas,
2024-03-11T04:39:02.7518393Z                               data: {
2024-03-11T04:39:02.7518753Z                                 association_insertion_node: node,
2024-03-11T04:39:02.7519196Z                                 association_insertion_method: "append"
2024-03-11T04:39:02.7519983Z                               }, id: "__add_partner_served_area", class: "btn btn-#{size} btn-#{type} add-partner-served_area", partial: partial do
2024-03-11T04:39:02.7520617Z          fa_icon "plus", text: text
2024-03-11T04:39:02.7520919Z        end
2024-03-11T04:39:02.7521045Z 
2024-03-11T04:39:02.7521162Z      ActionView::Template::Error:
2024-03-11T04:39:02.7521750Z        undefined method `link_to_add_association' for #<ActionView::Base:0x00000000066440>
2024-03-11T04:39:02.7522360Z      # ./app/helpers/ui_helper.rb:195:in `add_served_area_button'
2024-03-11T04:39:02.7523237Z      # ./app/views/partners/profiles/edit/_area_served.html.erb:27:in `_app_views_partners_profiles_edit__area_served_html_erb__852028071088283734_209240'
2024-03-11T04:39:02.7524454Z      # ./app/views/partners/profiles/edit.html.erb:38:in `block (3 levels) in _app_views_partners_profiles_edit_html_erb___803009129445360250_209120'
2024-03-11T04:39:02.7525303Z      # ./app/views/partners/profiles/edit.html.erb:36:in `each'
2024-03-11T04:39:02.7526150Z      # ./app/views/partners/profiles/edit.html.erb:36:in `block (2 levels) in _app_views_partners_profiles_edit_html_erb___803009129445360250_209120'
2024-03-11T04:39:02.7527289Z      # ./app/views/partners/profiles/edit.html.erb:31:in `block in _app_views_partners_profiles_edit_html_erb___803009129445360250_209120'
2024-03-11T04:39:02.7528365Z      # ./app/views/partners/profiles/edit.html.erb:30:in `_app_views_partners_profiles_edit_html_erb___803009129445360250_209120'
2024-03-11T04:39:02.7529296Z      # ./spec/requests/partners/profiles_requests_spec.rb:34:in `block (3 levels) in <top (required)>'
2024-03-11T04:39:02.7530179Z      # ------------------
2024-03-11T04:39:02.7530586Z      # --- Caused by: ---
2024-03-11T04:39:02.7531053Z      # NoMethodError:
2024-03-11T04:39:02.7531633Z      #   undefined method `link_to_add_association' for #<ActionView::Base:0x00000000066440>
2024-03-11T04:39:02.7532386Z      #   ./app/helpers/ui_helper.rb:195:in `add_served_area_button'
2024-03-11T04:39:02.7532711Z 
2024-03-11T04:39:02.7532959Z   5) /partners/profiles PUT #update with no social media shows an error
2024-03-11T04:39:02.7533416Z      Failure/Error:
2024-03-11T04:39:02.7533719Z        link_to_add_association form, :served_areas,
2024-03-11T04:39:02.7534088Z                               data: {
2024-03-11T04:39:02.7534447Z                                 association_insertion_node: node,
2024-03-11T04:39:02.7534884Z                                 association_insertion_method: "append"
2024-03-11T04:39:02.7535674Z                               }, id: "__add_partner_served_area", class: "btn btn-#{size} btn-#{type} add-partner-served_area", partial: partial do
2024-03-11T04:39:02.7536312Z          fa_icon "plus", text: text
2024-03-11T04:39:02.7536621Z        end
2024-03-11T04:39:02.7536746Z 
2024-03-11T04:39:02.7536857Z      ActionView::Template::Error:
2024-03-11T04:39:02.7537453Z        undefined method `link_to_add_association' for #<ActionView::Base:0x00000000066800>
2024-03-11T04:39:02.7538053Z      # ./app/helpers/ui_helper.rb:195:in `add_served_area_button'
2024-03-11T04:39:02.7538935Z      # ./app/views/partners/profiles/edit/_area_served.html.erb:27:in `_app_views_partners_profiles_edit__area_served_html_erb__852028071088283734_209240'
2024-03-11T04:39:02.7540148Z      # ./app/views/partners/profiles/edit.html.erb:38:in `block (3 levels) in _app_views_partners_profiles_edit_html_erb___803009129445360250_209120'
2024-03-11T04:39:02.7540993Z      # ./app/views/partners/profiles/edit.html.erb:36:in `each'
2024-03-11T04:39:02.7541825Z      # ./app/views/partners/profiles/edit.html.erb:36:in `block (2 levels) in _app_views_partners_profiles_edit_html_erb___803009129445360250_209120'
2024-03-11T04:39:02.7542959Z      # ./app/views/partners/profiles/edit.html.erb:31:in `block in _app_views_partners_profiles_edit_html_erb___803009129445360250_209120'
2024-03-11T04:39:02.7544032Z      # ./app/views/partners/profiles/edit.html.erb:30:in `_app_views_partners_profiles_edit_html_erb___803009129445360250_209120'
2024-03-11T04:39:02.7544831Z      # ./app/controllers/partners/profiles_controller.rb:18:in `update'
2024-03-11T04:39:02.7545573Z      # ./spec/requests/partners/profiles_requests_spec.rb:67:in `block (4 levels) in <top (required)>'
2024-03-11T04:39:02.7546169Z      # ------------------
2024-03-11T04:39:02.7546458Z      # --- Caused by: ---
2024-03-11T04:39:02.7546719Z      # NoMethodError:
2024-03-11T04:39:02.7547271Z      #   undefined method `link_to_add_association' for #<ActionView::Base:0x00000000066800>
2024-03-11T04:39:02.7547875Z      #   ./app/helpers/ui_helper.rb:195:in `add_served_area_button'
2024-03-11T04:39:02.7548192Z 
2024-03-11T04:39:02.7548333Z   6) Profiles GET #edit returns http success
2024-03-11T04:39:02.7548678Z      Failure/Error:
2024-03-11T04:39:02.7548972Z        link_to_add_association form, :served_areas,
2024-03-11T04:39:02.7549340Z                               data: {
2024-03-11T04:39:02.7549700Z                                 association_insertion_node: node,
2024-03-11T04:39:02.7550134Z                                 association_insertion_method: "append"
2024-03-11T04:39:02.7550920Z                               }, id: "__add_partner_served_area", class: "btn btn-#{size} btn-#{type} add-partner-served_area", partial: partial do
2024-03-11T04:39:02.7551549Z          fa_icon "plus", text: text
2024-03-11T04:39:02.7551842Z        end
2024-03-11T04:39:02.7551973Z 
2024-03-11T04:39:02.7552085Z      ActionView::Template::Error:
2024-03-11T04:39:02.7552675Z        undefined method `link_to_add_association' for #<ActionView::Base:0x000000000687e0>
2024-03-11T04:39:02.7553280Z      # ./app/helpers/ui_helper.rb:195:in `add_served_area_button'
2024-03-11T04:39:02.7554155Z      # ./app/views/partners/profiles/edit/_area_served.html.erb:27:in `_app_views_partners_profiles_edit__area_served_html_erb__852028071088283734_213980'
2024-03-11T04:39:02.7555511Z      # ./app/views/profiles/edit.html.erb:27:in `block (3 levels) in _app_views_profiles_edit_html_erb___2899197666949596078_213860'
2024-03-11T04:39:02.7556231Z      # ./app/views/profiles/edit.html.erb:25:in `each'
2024-03-11T04:39:02.7556996Z      # ./app/views/profiles/edit.html.erb:25:in `block (2 levels) in _app_views_profiles_edit_html_erb___2899197666949596078_213860'
2024-03-11T04:39:02.7557974Z      # ./app/views/profiles/edit.html.erb:19:in `block in _app_views_profiles_edit_html_erb___2899197666949596078_213860'
2024-03-11T04:39:02.7558879Z      # ./app/views/profiles/edit.html.erb:18:in `_app_views_profiles_edit_html_erb___2899197666949596078_213860'
2024-03-11T04:39:02.7559677Z      # ./spec/requests/profiles_requests_spec.rb:14:in `block (3 levels) in <top (required)>'
2024-03-11T04:39:02.7560224Z      # ------------------
2024-03-11T04:39:02.7560509Z      # --- Caused by: ---
2024-03-11T04:39:02.7560787Z      # NoMethodError:
2024-03-11T04:39:02.7561335Z      #   undefined method `link_to_add_association' for #<ActionView::Base:0x000000000687e0>
2024-03-11T04:39:02.7561949Z      #   ./app/helpers/ui_helper.rb:195:in `add_served_area_button'
2024-03-11T04:39:02.7562280Z 
2024-03-11T04:39:02.7562517Z Finished in 3 minutes 40.4 seconds (files took 8.44 seconds to load)
2024-03-11T04:39:02.7562966Z 212 examples, 6 failures
2024-03-11T04:39:02.7563142Z 
2024-03-11T04:39:02.7563233Z Failed examples:
2024-03-11T04:39:02.7563386Z 
2024-03-11T04:39:02.7563817Z rspec ./spec/requests/partners/profiles_requests_spec.rb:27 # /partners/profiles GET #edit displays the partner
2024-03-11T04:39:02.7564893Z rspec ./spec/requests/partners/profiles_requests_spec.rb:39 # /partners/profiles GET #edit has "Yes" radio button value when value is true
2024-03-11T04:39:02.7566066Z rspec ./spec/requests/partners/profiles_requests_spec.rb:46 # /partners/profiles GET #edit has "No" radio button value when value is false
2024-03-11T04:39:02.7567289Z rspec ./spec/requests/partners/profiles_requests_spec.rb:32 # /partners/profiles GET #edit does not have default radio button value when value is nil
2024-03-11T04:39:02.7568478Z rspec ./spec/requests/partners/profiles_requests_spec.rb:66 # /partners/profiles PUT #update with no social media shows an error
2024-03-11T04:39:02.7569412Z rspec ./spec/requests/profiles_requests_spec.rb:13 # Profiles GET #edit returns http success
2024-03-11T04:39:02.7570006Z 
2024-03-11T04:39:02.7570115Z Randomized with seed 35300
2024-03-11T04:39:02.7570310Z 
2024-03-11T04:39:03.0539433Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-11T04:39:03.0541971Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3741 / 6463 LOC (57.88%) covered.
2024-03-11T04:39:03.1767076Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb" failed
2024-03-11T04:39:03.5749161Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-11T04:39:03.5752362Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10759 LOC (0.35%) covered.
2024-03-11T04:39:03.6003824Z ##[error]Process completed with exit code 1.
