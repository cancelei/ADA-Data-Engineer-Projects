2024-02-18T21:07:26.3051485Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-02-18T21:07:26.3052395Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-02-18T21:07:26.3080949Z shell: /usr/bin/bash -e {0}
2024-02-18T21:07:26.3081520Z env:
2024-02-18T21:07:26.3081843Z   POSTGRES_HOST: localhost
2024-02-18T21:07:26.3082320Z   DATABASE_HOST: localhost
2024-02-18T21:07:26.3082719Z   PG_USERNAME: postgres
2024-02-18T21:07:26.3083067Z   PG_PASSWORD: password
2024-02-18T21:07:26.3083534Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-02-18T21:07:26.3083948Z   POSTGRES_PORT: 5432
2024-02-18T21:07:26.3084318Z   PGHOST: localhost
2024-02-18T21:07:26.3084728Z   PGUSER: postgres
2024-02-18T21:07:26.3085068Z   RAILS_ENV: test
2024-02-18T21:07:26.3085668Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: ***
2024-02-18T21:07:26.3086199Z   KNAPSACK_PRO_CI_NODE_TOTAL: 2
2024-02-18T21:07:26.3086726Z   KNAPSACK_PRO_CI_NODE_INDEX: 1
2024-02-18T21:07:26.3087308Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-02-18T21:07:26.3088016Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-02-18T21:07:26.3088690Z   KNAPSACK_PRO_TEST_FILE_EXCLUDE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-02-18T21:07:26.3089725Z   EVENTS_READ: true
2024-02-18T21:07:26.3090089Z ##[endgroup]
2024-02-18T21:07:36.0299196Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/events/inventory_aggregate_spec.rb" "spec/models/product_drive_spec.rb" "spec/models/distribution_spec.rb" "spec/services/kit_create_service_spec.rb" "spec/services/organization_update_service_spec.rb" "spec/models/partner_spec.rb" "spec/services/allocate_kit_inventory_service_spec.rb" "spec/models/storage_location_spec.rb" "spec/services/reports/adult_incontinence_report_service_spec.rb" "spec/services/transfer_destroy_service_spec.rb" "spec/services/add_role_service_spec.rb" "spec/models/item_spec.rb" "spec/queries/items_in_query_spec.rb" "spec/controllers/items_controller_spec.rb" "spec/services/remove_role_service_spec.rb" "spec/services/reports/acquisition_report_service_spec.rb" "spec/models/adjustment_spec.rb" "spec/controllers/application_controller_spec.rb" "spec/services/reports/period_supply_report_service_spec.rb" "spec/models/donation_spec.rb" "spec/services/reports/other_products_report_service_spec.rb" "spec/services/exports/export_distributions_csv_service_spec.rb" "spec/models/purchase_spec.rb" "spec/models/manufacturer_spec.rb" "spec/mailers/distribution_mailer_spec.rb" "spec/services/itemizable_update_service_spec.rb" "spec/services/user_invite_service_spec.rb" "spec/services/reports/partner_info_report_service_spec.rb" "spec/services/calendar_service_spec.rb" "spec/controllers/transfers_controller_spec.rb" "spec/services/historical_trend_service_spec.rb" "spec/services/distributions_by_county_report_service_spec.rb" "spec/services/donation_itemized_breakdown_service_spec.rb" "spec/services/partners/request_create_service_spec.rb" "spec/models/line_item_spec.rb" "spec/mailers/account_request_mailer_spec.rb" "spec/queries/items_out_query_spec.rb" "spec/models/donation_site_spec.rb" "spec/services/partner_approval_service_spec.rb" "spec/models/user_spec.rb" "spec/services/requests_total_items_service_spec.rb" "spec/models/partners/profile_spec.rb" "spec/services/partners/request_approval_service_spec.rb" "spec/mailers/user_mailer_spec.rb" "spec/mailers/reminder_deadline_mailer_spec.rb" "spec/queries/items_out_total_query_spec.rb" "spec/mailers/partner_mailer_spec.rb" "spec/models/broadcast_announcement_spec.rb" "spec/services/partner_fetch_requestable_items_service_spec.rb" "spec/mailers/organization_mailer_spec.rb" "spec/models/question_spec.rb" "spec/models/users_role_spec.rb" "spec/models/inventory_item_spec.rb" "spec/jobs/notify_partner_job_spec.rb" "spec/services/sync_ndbn_members_spec.rb" "spec/models/base_item_spec.rb" "spec/services/donation_destroy_service_spec.rb" "spec/models/partners/child_item_request_spec.rb" "spec/controllers/help_controller_spec.rb" "spec/mailers/request_mailer_spec.rb" "spec/jobs/reminder_deadline_job_spec.rb" "spec/models/role_spec.rb" "spec/models/concerns/deadlinable_spec.rb" "spec/helpers/product_drive_helper_spec.rb" "spec/models/county_spec.rb" "spec/models/kit_allocation_spec.rb" "spec/routing/account_requests_routing_spec.rb"
2024-02-18T21:07:44.5353527Z 
2024-02-18T21:07:44.5354365Z Randomized with seed 8369
2024-02-18T21:07:45.3841362Z 
2024-02-18T21:07:45.3842104Z User
2024-02-18T21:07:45.3843358Z   #role_added
2024-02-18T21:07:45.4369680Z     renders the body correctly
2024-02-18T21:07:45.4370667Z   #send_reset_password_instructions
2024-02-18T21:07:45.4371458Z     user gets an email with instructions
2024-02-18T21:07:45.5295909Z       sends an email with instructions
2024-02-18T21:07:45.5298125Z 
2024-02-18T21:07:45.5298535Z Distribution
2024-02-18T21:07:45.5300266Z   Scopes >
2024-02-18T21:07:45.5301630Z     this_week >
2024-02-18T21:07:45.5302800Z       When it's Sunday (end of the week)
2024-02-18T21:07:45.5941255Z         doesn't include distributions past Sunday
2024-02-18T21:07:45.5942002Z       When it's Tuesday (mid-week)
2024-02-18T21:07:45.6612162Z         includes distributions as early as Monday and as late as upcoming Sunday
2024-02-18T21:07:45.6612893Z     during >
2024-02-18T21:07:45.7291721Z       returns all distributions created between two dates
2024-02-18T21:07:45.7292306Z     by_partner >
2024-02-18T21:07:45.7755528Z       only returns distributions with given partner id
2024-02-18T21:07:45.7756127Z     by_location >
2024-02-18T21:07:45.8229336Z       only returns distributions with given location id
2024-02-18T21:07:45.8230237Z     by_item_id >
2024-02-18T21:07:45.9844638Z       only returns distributions with given item id
2024-02-18T21:07:45.9845472Z   Methods >
2024-02-18T21:07:45.9846371Z     #copy_from_request
2024-02-18T21:07:46.0152762Z       copy over relevant request information into the distrubution
2024-02-18T21:07:46.0153939Z     #copy_line_items
2024-02-18T21:07:46.0550897Z       replicates line_items from a donation into a distribution
2024-02-18T21:07:46.0551846Z     #future?
2024-02-18T21:07:46.0552624Z       when issued_at has not passed
2024-02-18T21:07:46.0813458Z         returns true
2024-02-18T21:07:46.0814488Z       when issued_at has passed
2024-02-18T21:07:46.1069626Z         returns false
2024-02-18T21:07:46.1070304Z     #combine_duplicates
2024-02-18T21:07:46.1470008Z       condenses duplicate line_items if the item_ids match
2024-02-18T21:07:46.1470925Z     #distributed_at
2024-02-18T21:07:46.1959415Z       shows the hour and minutes if it has been provided
2024-02-18T21:07:46.2447416Z       displays explicit issued_at date
2024-02-18T21:07:46.2448202Z   CSV export >
2024-02-18T21:07:46.2448759Z     csv_export_attributes
2024-02-18T21:07:46.6445596Z       returns the set of attributes which define a row in case of distribution export
2024-02-18T21:07:46.6446575Z     for_csv_export >
2024-02-18T21:07:46.9624691Z       filters only to the given organization
2024-02-18T21:07:47.2901382Z       filters only to the given issue time range
2024-02-18T21:07:47.6079548Z       filters only to the given filter
2024-02-18T21:07:47.6080339Z   behaves like itemizable
2024-02-18T21:07:47.6080901Z     .line_items
2024-02-18T21:07:47.6082254Z       total
2024-02-18T21:07:47.6947481Z         has an item total
2024-02-18T21:07:47.6948091Z       quantities_by_name
2024-02-18T21:07:47.7795158Z         returns a hash of items with id, name, and quantity
2024-02-18T21:07:47.8732746Z         leaves out zero-quantitied items if requested
2024-02-18T21:07:47.8733356Z       sorted
2024-02-18T21:07:47.9976682Z         displays the items, sorted by name
2024-02-18T21:07:47.9977929Z       combine!
2024-02-18T21:07:48.0548372Z         incrementally combines line_items on donations that have already been created
2024-02-18T21:07:48.0977986Z         combines multiple line_items with the same item_id into a single record
2024-02-18T21:07:48.0979015Z     .to_a
2024-02-18T21:07:48.0981522Z       with Flipper flag :deprecate_to_a enabled
2024-02-18T21:07:48.1341598Z         raises an error
2024-02-18T21:07:48.1342450Z       with Flipper flag :deprecate_to_a disabled
2024-02-18T21:07:48.1688188Z         calls line_item_values
2024-02-18T21:07:48.1688911Z   Callbacks >
2024-02-18T21:07:48.2197762Z     initializes the issued_at field to default to midnight if it wasn't explicitly set
2024-02-18T21:07:48.2198779Z     #before_save
2024-02-18T21:07:48.2199148Z       #reset_shipping_cost
2024-02-18T21:07:48.2199594Z         when delivery_method is other then shipped
2024-02-18T21:07:48.2494589Z           distribution will be created successfully and the shipping_cost will be zero
2024-02-18T21:07:48.2495543Z   versioning
2024-02-18T21:07:48.2533188Z     is expected to be versioned
2024-02-18T21:07:48.2533623Z   Validations >
2024-02-18T21:07:48.2691535Z     ensures the associated line_items are invalid with a zero quantity
2024-02-18T21:07:48.2744174Z     must belong to an organization
2024-02-18T21:07:48.2795583Z     requires a partner
2024-02-18T21:07:48.3208404Z     ensures the associated line_items are valid
2024-02-18T21:07:48.3366583Z     ensures the associated line_items are invalid with a nil quantity
2024-02-18T21:07:48.3417166Z     requires a storage location
2024-02-18T21:07:48.3475701Z     ensures that the issued at is no earlier than 2000
2024-02-18T21:07:48.3509463Z     ensures that any included items are found in the associated storage location
2024-02-18T21:07:48.3510152Z     when delivery method is shipped
2024-02-18T21:07:48.3510851Z       shipping cost is negative
2024-02-18T21:07:48.3570944Z         will not allow to save distribution
2024-02-18T21:07:48.3571458Z       shipping cost is none negative
2024-02-18T21:07:48.3838229Z         allows to save distribution
2024-02-18T21:07:48.3838839Z     when delivery method is other then shipped
2024-02-18T21:07:48.4107257Z       allows to save distribution
2024-02-18T21:07:48.4108194Z 
2024-02-18T21:07:48.4109303Z ItemsOutQuery
2024-02-18T21:07:48.4109773Z   items_out_query
2024-02-18T21:07:48.5409419Z     returns a collection with the fields name, item_id, quantity
2024-02-18T21:07:48.6565454Z     includes distributions, adjustments, transfers among sources
2024-02-18T21:07:48.6566284Z 
2024-02-18T21:07:48.6566456Z InventoryAggregate
2024-02-18T21:07:48.6567342Z   validation
2024-02-18T21:07:48.6568640Z     subsequent event is incorrect
2024-02-18T21:07:48.9661999Z       should add the event to the message
2024-02-18T21:07:48.9662911Z     current event is incorrect
2024-02-18T21:07:49.1896260Z       should raise a bare error
2024-02-18T21:07:49.1897315Z   individual events
2024-02-18T21:07:49.4919281Z     should process a donation destroyed event
2024-02-18T21:07:49.7989782Z     should process an audit event
2024-02-18T21:07:50.0856792Z     should process a donation event
2024-02-18T21:07:50.4110381Z     should process a purchase destroyed event
2024-02-18T21:07:50.6825671Z     should process a snapshot event
2024-02-18T21:07:50.9863090Z     should process a transfer destroy event
2024-02-18T21:07:51.2871592Z     should process a purchase event
2024-02-18T21:07:51.6285998Z     should process a distribution destroyed event
2024-02-18T21:07:51.9484461Z     should process a kit allocation event
2024-02-18T21:07:52.3319256Z     should process a kit deallocation event
2024-02-18T21:07:52.6254786Z     should process a distribution event
2024-02-18T21:07:52.9165708Z     should process a transfer event
2024-02-18T21:07:53.2057130Z     should process a donation event after a new storage location is created
2024-02-18T21:07:53.4995379Z     should process an adjustment event
2024-02-18T21:07:53.4996217Z   multiple events
2024-02-18T21:07:53.7531201Z     should handle changing storage location
2024-02-18T21:07:54.0545232Z     should handle intervening audits
2024-02-18T21:07:54.3110342Z     should handle timing correctly
2024-02-18T21:07:54.7115044Z     should process multiple events
2024-02-18T21:07:54.9756503Z     should ignore unusable snapshots
2024-02-18T21:07:54.9757073Z 
2024-02-18T21:07:54.9757510Z Reports::PeriodSupplyReportService
2024-02-18T21:07:54.9758647Z   #report
2024-02-18T21:07:55.1564793Z     should report zero values
2024-02-18T21:07:55.1565557Z     with values
2024-02-18T21:07:55.7572150Z       should report normal values
2024-02-18T21:07:55.7572849Z 
2024-02-18T21:07:55.7573476Z ProductDrive
2024-02-18T21:07:55.9192121Z   calculates donation quantity
2024-02-18T21:07:56.1493383Z   calculates donation quantity by date
2024-02-18T21:07:56.3049920Z   calculates in-kind value
2024-02-18T21:07:56.5444824Z   calculates and returns all donated organization item quantities by name and date
2024-02-18T21:07:56.5445952Z   .search_date_range
2024-02-18T21:07:56.6864764Z     is expected to eq {:end_date=>"2019-12-19", :start_date=>"2019-12-17"}
2024-02-18T21:07:56.6865442Z   donation_source_view
2024-02-18T21:07:56.8280509Z     returns formatted text
2024-02-18T21:07:56.8281837Z   validations
2024-02-18T21:07:56.9704128Z     is expected not to be valid
2024-02-18T21:07:57.1189702Z     is expected not to be valid
2024-02-18T21:07:57.2589758Z     is expected not to be valid
2024-02-18T21:07:57.2590603Z   distinct_items
2024-02-18T21:07:57.4350164Z     doesn't double_count the items if there are two donations for the same item
2024-02-18T21:07:57.6065688Z     counts the distince items correctly by given date
2024-02-18T21:07:57.7728723Z 140114021403    counts the items correctly for 1 donation with multiple items
2024-02-18T21:07:57.9545985Z     counts the distinct items correctly in overlapping donations
2024-02-18T21:07:57.9547144Z   scopes
2024-02-18T21:07:57.9547667Z     .by_name
2024-02-18T21:07:58.1070376Z       does not return other_name
2024-02-18T21:07:58.2526323Z       returns the product_drive with name some_name
2024-02-18T21:07:58.2527199Z     .within_date_range
2024-02-18T21:07:58.4011811Z       does not include product drive 2
2024-02-18T21:07:58.5499751Z       returns the product drive 1
2024-02-18T21:07:58.5500771Z   associations
2024-02-18T21:07:58.6447271Z     has_many product_drive_participants through donations
2024-02-18T21:07:58.7359015Z     has_many donations
2024-02-18T21:07:58.7359697Z   versioning
2024-02-18T21:07:58.8787296Z     is expected to be versioned
2024-02-18T21:07:58.8787938Z 
2024-02-18T21:07:58.8788269Z OrganizationUpdateService
2024-02-18T21:07:58.8789484Z   #update_partner_flags
2024-02-18T21:07:58.8790635Z     when request flags have changed
2024-02-18T21:07:59.1084770Z       should update partners when disabling quantity-based request flags
2024-02-18T21:07:59.3298857Z       should update partners when disabling child and individual request flags
2024-02-18T21:07:59.5386141Z       should NOT update partners' request flags when enabling request flags on the organization
2024-02-18T21:07:59.5387309Z     when request flags haven't changed
2024-02-18T21:07:59.7476341Z       should not update partners
2024-02-18T21:07:59.7477314Z   #update
2024-02-18T21:07:59.7477924Z     when object is valid
2024-02-18T21:07:59.9279454Z       should update and return true
2024-02-18T21:07:59.9280276Z     when organization has partners
2024-02-18T21:07:59.9281718Z       when all of a single partner's request flags WILL NOT be disabled
2024-02-18T21:08:00.1569109Z         should allow the disabling of request flags in organization and its partners
2024-02-18T21:08:00.1570198Z       when all of a single partner's request flags will be disabled
2024-02-18T21:08:00.3733466Z         should NOT change request flags in organization or its partners
2024-02-18T21:08:00.5827147Z         should add an error message to the organization
2024-02-18T21:08:00.5828326Z     when object is invalid
2024-02-18T21:08:00.7563365Z       should not update and return false
2024-02-18T21:08:00.7564290Z 
2024-02-18T21:08:00.7564508Z SyncNDBNMembers
2024-02-18T21:08:00.7565469Z   .sync
2024-02-18T21:08:00.7567744Z     when the HTTP request is successful
2024-02-18T21:08:00.7569014Z       when the account name of a NDBN Member has changed
2024-02-18T21:08:00.7924701Z         should update the account name of the corresponding NDBN Member
2024-02-18T21:08:00.7925584Z       when no new NDBN Member has been added
2024-02-18T21:08:00.8043973Z         should not add any new NDBN Members
2024-02-18T21:08:00.8044547Z       when there are no exisiting NDBN Member records
2024-02-18T21:08:00.8135137Z         should create the NDBN Member records
2024-02-18T21:08:00.8135851Z     when the HTTP request does not get a response of 200
2024-02-18T21:08:00.8175501Z       should raise an error regarding the response code
2024-02-18T21:08:00.8176193Z 
2024-02-18T21:08:00.8176607Z ItemsInQuery
2024-02-18T21:08:00.8177240Z   items_in
2024-02-18T21:08:01.0950502Z     returns a collection with the fields name, item_id, quantity
2024-02-18T21:08:01.4542974Z     does not count transfers going in the negative direction
2024-02-18T21:08:01.7226475Z     includes donations, purchases, adjustments, transfers among sources
2024-02-18T21:08:02.0529266Z     does not count negative adjustments towards in-flow
2024-02-18T21:08:02.0530172Z 
2024-02-18T21:08:02.0530413Z Manufacturer
2024-02-18T21:08:02.0531090Z   Methods
2024-02-18T21:08:02.0532001Z     volume
2024-02-18T21:08:02.3054061Z       retrieves the amount of product that has been donated by manufacturer from multiple donations
2024-02-18T21:08:02.4314842Z       retrieves the amount of product that has been donated by manufacturer
2024-02-18T21:08:02.5775003Z       ignores the amount of product from other manufacturers
2024-02-18T21:08:02.5775949Z   Validations
2024-02-18T21:08:02.5870833Z     must have a unique name within organization
2024-02-18T21:08:02.7586279Z     must belong to an organization
2024-02-18T21:08:02.7587065Z   versioning
2024-02-18T21:08:02.7624114Z     is expected to be versioned
2024-02-18T21:08:02.7624596Z   Private Methods
2024-02-18T21:08:02.7625135Z     #exists_in_org?
2024-02-18T21:08:02.9378804Z       returns true if manufacturer exists in an organization
2024-02-18T21:08:02.9379497Z 
2024-02-18T21:08:02.9379715Z InventoryItem
2024-02-18T21:08:02.9417749Z   initializes the quantity to 0 if it was not specified
2024-02-18T21:08:02.9418397Z   versioning
2024-02-18T21:08:02.9453209Z     is expected to be versioned
2024-02-18T21:08:02.9453841Z   Validations >
2024-02-18T21:08:02.9505031Z     requires an inventory association
2024-02-18T21:08:02.9547883Z     requires an item
2024-02-18T21:08:02.9548297Z     quantity >
2024-02-18T21:08:02.9603523Z       is required
2024-02-18T21:08:02.9742319Z       is gte 0
2024-02-18T21:08:02.9797340Z       is numerical
2024-02-18T21:08:02.9851030Z       is less than the max integer
2024-02-18T21:08:02.9851698Z   Filtering >
2024-02-18T21:08:02.9852522Z     ->by_partner_key
2024-02-18T21:08:02.9978369Z       shows the Base Items by partner_key
2024-02-18T21:08:02.9979379Z 
2024-02-18T21:08:02.9979589Z TransferDestroyService
2024-02-18T21:08:02.9980499Z   #call
2024-02-18T21:08:02.9981866Z     when there are no issues
2024-02-18T21:08:03.1951377Z       should execute the expected methods
2024-02-18T21:08:03.3919483Z       should return an OpenStruct with success? set to true
2024-02-18T21:08:03.3920346Z     because transfer should not be deleted
2024-02-18T21:08:03.5773485Z       should return an OpenStruct with the raised error
2024-02-18T21:08:03.5774732Z     when an issue occurs in transaction
2024-02-18T21:08:03.5775609Z       because the transfer_id does not match any Transfer
2024-02-18T21:08:03.7557111Z         should return a OpenStruct with an ActiveRecord::RecordNotFound error
2024-02-18T21:08:03.7558470Z       because undoing the transfer inventory changes by decreasing the inventory of `to` failed
2024-02-18T21:08:03.9356583Z         should return a OpenStruct with the raised error
2024-02-18T21:08:03.9357489Z       because the transfer destroy raised an error
2024-02-18T21:08:04.1360108Z         should return a OpenStruct with the raised error
2024-02-18T21:08:04.1361324Z       because undoing the transfer inventory changes by increasing the inventory of `from` failed
2024-02-18T21:08:04.3176963Z         should return a OpenStruct with the raised error
2024-02-18T21:08:04.3178928Z 
2024-02-18T21:08:04.3179653Z Donation
2024-02-18T21:08:04.3180983Z   Callbacks >
2024-02-18T21:08:04.3312665Z     inititalizes the issued_at field to default to midnight if it wasn't explicitly set
2024-02-18T21:08:04.3468480Z     automatically combines duplicate line_item records when they're created
2024-02-18T21:08:04.3469127Z   SOURCES
2024-02-18T21:08:04.3501967Z     the hash values are immutable
2024-02-18T21:08:04.3536569Z     the hash is immutable
2024-02-18T21:08:04.3568819Z     is a hash that is referenceable by key to avoid 'magic strings'
2024-02-18T21:08:04.3569485Z   Methods >
2024-02-18T21:08:04.3570002Z     remove
2024-02-18T21:08:04.4258426Z       fails gracefully if the item doesn't exist
2024-02-18T21:08:04.4929814Z       removes the item from the donation
2024-02-18T21:08:04.5555436Z       works with either an id or an object
2024-02-18T21:08:04.5556599Z     money_raised
2024-02-18T21:08:04.6169889Z       tracks the money raised in a donation
2024-02-18T21:08:04.6170729Z     source_view
2024-02-18T21:08:04.6171508Z       not from a drive
2024-02-18T21:08:04.6281303Z         returns source
2024-02-18T21:08:04.6281935Z       from a drive
2024-02-18T21:08:04.6282861Z         unknown participant
2024-02-18T21:08:04.6385247Z           returns drive display name
2024-02-18T21:08:04.6386050Z         participant known
2024-02-18T21:08:04.6387020Z           no contact name
2024-02-18T21:08:04.6510536Z             returns drive display name
2024-02-18T21:08:04.6511382Z           contact name present
2024-02-18T21:08:04.6633740Z             returns participant display name
2024-02-18T21:08:04.6634573Z   Associations >
2024-02-18T21:08:04.6635372Z     items >
2024-02-18T21:08:04.6791066Z       has_many
2024-02-18T21:08:04.6791698Z   versioning
2024-02-18T21:08:04.6828437Z     is expected to be versioned
2024-02-18T21:08:04.6829129Z   behaves like itemizable
2024-02-18T21:08:04.6829834Z     .line_items
2024-02-18T21:08:04.6830911Z       quantities_by_name
2024-02-18T21:08:04.7168526Z         leaves out zero-quantitied items if requested
2024-02-18T21:08:04.7483465Z         returns a hash of items with id, name, and quantity
2024-02-18T21:08:04.7484392Z       combine!
2024-02-18T21:08:04.7930265Z         incrementally combines line_items on donations that have already been created
2024-02-18T21:08:04.8321755Z         combines multiple line_items with the same item_id into a single record
2024-02-18T21:08:04.8322407Z       total
2024-02-18T21:08:04.8652177Z         has an item total
2024-02-18T21:08:04.8652872Z       sorted
2024-02-18T21:08:04.9156005Z         displays the items, sorted by name
2024-02-18T21:08:04.9156868Z     .to_a
2024-02-18T21:08:04.9157561Z       with Flipper flag :deprecate_to_a disabled
2024-02-18T21:08:04.9498074Z         calls line_item_values
2024-02-18T21:08:04.9498654Z       with Flipper flag :deprecate_to_a enabled
2024-02-18T21:08:04.9829323Z         raises an error
2024-02-18T21:08:04.9830265Z   Validations >
2024-02-18T21:08:04.9949393Z     requires a donation_site if the source is 'Donation Site'
2024-02-18T21:08:05.0000900Z     ensures that the issued at is no earlier than 2000
2024-02-18T21:08:05.0122932Z     requires a manufacturer if the source is 'Manufacturer'
2024-02-18T21:08:05.0168017Z     must belong to an organization
2024-02-18T21:08:05.0318289Z     is invalid when the line items are invalid
2024-02-18T21:08:05.0384526Z     requires a source from the list of available sources
2024-02-18T21:08:05.0426345Z     requires an inventory (storage location)
2024-02-18T21:08:05.0548345Z     requires a product drive participant if the source is 'Product Drive'
2024-02-18T21:08:05.0549109Z   Scopes >
2024-02-18T21:08:05.0549766Z     during >
2024-02-18T21:08:05.0745419Z       returns all donations created between two dates
2024-02-18T21:08:05.0746262Z     by_source >
2024-02-18T21:08:05.0746590Z       when source is not a symbol
2024-02-18T21:08:05.0747576Z         when source is invalid
2024-02-18T21:08:05.0926264Z           does not throw errors, returns no results
2024-02-18T21:08:05.0927098Z         when source comes from the SOURCES hash
2024-02-18T21:08:05.1099463Z           returns all donations with the provided source
2024-02-18T21:08:05.1100136Z       when source is a symbol
2024-02-18T21:08:05.1100981Z         when source is valid
2024-02-18T21:08:05.1275775Z           allows a symbol as an argument, referencing the SOURCES hash
2024-02-18T21:08:05.1276789Z         when source is invalid
2024-02-18T21:08:05.1449883Z           does not throw errors, returns no results
2024-02-18T21:08:05.1451074Z 
2024-02-18T21:08:05.1452019Z Exports::ExportDistributionsCSVService
2024-02-18T21:08:05.1452848Z   #generate_csv_data
2024-02-18T21:08:05.3187782Z     should match the expected content for the csv
2024-02-18T21:08:05.3188687Z     when a new item is added
2024-02-18T21:08:05.5031584Z       should add it to the end of the row
2024-02-18T21:08:05.6810461Z       should show up with a 0 quantity if there are none of this item in any distribution
2024-02-18T21:08:05.6811693Z     when there are no distributions but the report is requested
2024-02-18T21:08:05.8552159Z       returns a csv with only headers and no rows
2024-02-18T21:08:05.8553982Z 
2024-02-18T21:08:05.8554667Z AllocateKitInventoryService
2024-02-18T21:08:05.8555415Z   #error
2024-02-18T21:08:05.8556641Z     when the Store location organization doesn't match
2024-02-18T21:08:06.0709816Z       returns error
2024-02-18T21:08:06.0710540Z   #allocate
2024-02-18T21:08:06.0711496Z     when inventory items are available
2024-02-18T21:08:06.3499555Z       allocates items, increases the quantity of the Kit Item and inventory in, and decreases inventory out
2024-02-18T21:08:06.3500975Z       when there are more then one line items
2024-02-18T21:08:06.3501805Z         when same kit is allocated multiple times
2024-02-18T21:08:06.6637976Z           inventory out for that kit contains both line_items with their respective quantity
2024-02-18T21:08:06.6639191Z         when there kit is allocated once
2024-02-18T21:08:06.9310431Z           inventory out for that kit contains both line_items with their respective quantity
2024-02-18T21:08:06.9311600Z       When kit is allocated more then once
2024-02-18T21:08:07.2395074Z         increases the already existed inventory in and decreases the already existed inventory out
2024-02-18T21:08:07.2396315Z     when more than one kit is requested
2024-02-18T21:08:07.2397122Z       but one of the items is out of stock
2024-02-18T21:08:07.5020579Z         returns error and does not change kit or item quantity
2024-02-18T21:08:07.5021958Z 
2024-02-18T21:08:07.5022241Z Item
2024-02-18T21:08:07.5023738Z   after update
2024-02-18T21:08:07.5024491Z     when item does not have kit
2024-02-18T21:08:07.5156487Z       does not raise any errors
2024-02-18T21:08:07.5157143Z     when item has the kit
2024-02-18T21:08:07.7063036Z       updates kit name
2024-02-18T21:08:07.7065411Z   Validations >
2024-02-18T21:08:07.7204475Z     requires a unique name
2024-02-18T21:08:07.7257483Z     requires a Base Item base
2024-02-18T21:08:07.7311629Z     must belong to an organization
2024-02-18T21:08:07.7424836Z     requires that items quantity are not a negative number
2024-02-18T21:08:07.7425954Z   default_quantity
2024-02-18T21:08:07.7505355Z     should return the value of distribution_quantity if it is set
2024-02-18T21:08:07.7583666Z     should return the value of on_hand_minimum_quantity if it is set
2024-02-18T21:08:07.7661184Z     should return 0 if on_hand_minimum_quantity is not set
2024-02-18T21:08:07.7739555Z     should return 50 if column is not set
2024-02-18T21:08:07.7740387Z   Assocations >
2024-02-18T21:08:07.7785646Z     is expected to belong to item_category optional: true
2024-02-18T21:08:07.7787182Z   versioning
2024-02-18T21:08:07.7821753Z     is expected to be versioned
2024-02-18T21:08:07.7822728Z   distribution_quantity and package size
2024-02-18T21:08:07.7945260Z     have nil values if an empty string is passed
2024-02-18T21:08:07.7946281Z   Filtering >
2024-02-18T21:08:07.8127606Z     ->alphabetized retrieves items in alphabetical order
2024-02-18T21:08:07.8332574Z     ->by_size returns all items with the same size, per their BaseItem parent
2024-02-18T21:08:07.8600336Z     ->active shows items that are still active
2024-02-18T21:08:07.8633298Z     can filter
2024-02-18T21:08:07.8634045Z     ->by_base_item
2024-02-18T21:08:07.8793959Z       shows the items for a particular base_item
2024-02-18T21:08:08.0714474Z       can be chained to organization to constrain it to just 1 org's items
2024-02-18T21:08:08.0715215Z     ->cloth_diapers
2024-02-18T21:08:08.0987997Z       returns records associated with disposable diapers
2024-02-18T21:08:08.0989265Z     ->by_partner_key
2024-02-18T21:08:08.1136714Z       filters by partner key
2024-02-18T21:08:08.1137549Z     ->disposable
2024-02-18T21:08:08.1412746Z       returns records associated with disposable diapers
2024-02-18T21:08:08.1413966Z   Methods >
2024-02-18T21:08:08.1414833Z     barcoded_items >
2024-02-18T21:08:08.1833189Z       returns a collection of items that have barcodes associated with them
2024-02-18T21:08:08.1834273Z     storage_locations_containing
2024-02-18T21:08:08.2185214Z       retrieves all storage locations that contain an item
2024-02-18T21:08:08.2186124Z     barcodes_for
2024-02-18T21:08:08.2383833Z       retrieves all BarcodeItems associated with an item
2024-02-18T21:08:08.2384853Z     destroy
2024-02-18T21:08:08.2550838Z       actually destroys an item that doesn't have history
2024-02-18T21:08:08.2775869Z       only hides an item that has history
2024-02-18T21:08:08.4872006Z       deactivates the kit if it exists
2024-02-18T21:08:08.4872552Z     #reactivate!
2024-02-18T21:08:08.4873534Z       given a single item id
2024-02-18T21:08:08.4996572Z         sets the active trait to true for that item
2024-02-18T21:08:08.4997608Z       given an array of item ids
2024-02-18T21:08:08.5268533Z         sets the active trait to true for all of them
2024-02-18T21:08:08.5269419Z     other?
2024-02-18T21:08:08.5395047Z       is true for items that are partner_key 'other'
2024-02-18T21:08:08.5395915Z     has_history?
2024-02-18T21:08:08.6115128Z       identifies items that have been used previously
2024-02-18T21:08:08.6116094Z 
2024-02-18T21:08:08.6116479Z ApplicationController
2024-02-18T21:08:08.6117797Z   current_partner
2024-02-18T21:08:08.6118600Z     As a partner user
2024-02-18T21:08:08.6665937Z       should return the first partner role
2024-02-18T21:08:08.6666625Z       with a changed current role
2024-02-18T21:08:08.7202218Z         should return the first partner role
2024-02-18T21:08:08.7204418Z     As an org user
2024-02-18T21:08:08.7340468Z       should return nil
2024-02-18T21:08:08.7341343Z   dashboard_path_from_current_role
2024-02-18T21:08:08.7342339Z     As a user without super admin status
2024-02-18T21:08:08.7547238Z       links to the general dashboard
2024-02-18T21:08:08.7548290Z     As a super admin
2024-02-18T21:08:08.7748975Z       links to the admin dashboard
2024-02-18T21:08:08.7749877Z   current_organization
2024-02-18T21:08:08.7750597Z     As a partner user
2024-02-18T21:08:08.7895826Z       should return nil
2024-02-18T21:08:08.7896665Z     As an org user
2024-02-18T21:08:09.1425607Z       should return the first org role
2024-02-18T21:08:09.1427013Z       with a changed current role
2024-02-18T21:08:09.5018906Z         should return the first org role
2024-02-18T21:08:09.5019960Z 
2024-02-18T21:08:09.5020274Z Partners::RequestCreateService
2024-02-18T21:08:09.5021367Z   #call
2024-02-18T21:08:09.5022603Z     when the arguments are correct
2024-02-18T21:08:09.5467650Z       should have no errors
2024-02-18T21:08:09.5838985Z       should create a Request record
2024-02-18T21:08:09.6203395Z       should notify the Partner via email
2024-02-18T21:08:09.6204053Z       but a unexpected error occured during the save
2024-02-18T21:08:09.6204614Z         for the Request record
2024-02-18T21:08:09.6535784Z           should NOT create a Request record
2024-02-18T21:08:09.6856206Z           should have an error with the raised error
2024-02-18T21:08:09.7179462Z           should NOT notify the Partner via email
2024-02-18T21:08:09.7180408Z     when the arguments are incorrect
2024-02-18T21:08:09.7181483Z       because no item_requests_attributes and comments were defined
2024-02-18T21:08:09.7430361Z         should return the Request object with an error
2024-02-18T21:08:09.7431305Z       because a unrecogonized item_id was provided
2024-02-18T21:08:09.7708740Z         should return the Request object with an error
2024-02-18T21:08:09.7709952Z 
2024-02-18T21:08:09.7710364Z DistributionMailer
2024-02-18T21:08:09.7711565Z   #reminder_email
2024-02-18T21:08:09.7712889Z     Text format
2024-02-18T21:08:09.8308603Z       renders the body with organization's email text
2024-02-18T21:08:09.8309525Z     with deliver_method: :pick_up
2024-02-18T21:08:09.8829759Z       renders the body with 'pick up' specified
2024-02-18T21:08:09.8831265Z     HTML format
2024-02-18T21:08:09.9401358Z       renders the body with organization's email text
2024-02-18T21:08:09.9401987Z     with deliver_method: :delivery
2024-02-18T21:08:10.0117698Z       renders the body with 'delivery' specified
2024-02-18T21:08:10.0118591Z   #partner_mailer
2024-02-18T21:08:10.0634785Z     renders the body with distributions text
2024-02-18T21:08:10.1114576Z     renders the body with organization's email text
2024-02-18T21:08:10.1115378Z     with deliver_method: :delivery
2024-02-18T21:08:10.1648819Z       renders the body with 'delivered' specified
2024-02-18T21:08:10.2174641Z       sends copy of email only to the partner
2024-02-18T21:08:10.2175769Z     with distribution changes
2024-02-18T21:08:10.2734122Z       renders the body with changes that happened in the distribution
2024-02-18T21:08:10.2735078Z     with deliver_method: :pick_up
2024-02-18T21:08:10.3261592Z       renders the body with 'picked up' specified
2024-02-18T21:08:10.3262206Z       when parners profile pick_up_email is present
2024-02-18T21:08:10.3758020Z         sends email to the primary contact and partner`s pickup person
2024-02-18T21:08:10.3759008Z         when pickup person happens to be the same as the primary contact
2024-02-18T21:08:10.4255296Z           does not send email twice
2024-02-18T21:08:10.4256758Z 
2024-02-18T21:08:10.4257015Z LineItem
2024-02-18T21:08:10.4258244Z   Methods >
2024-02-18T21:08:10.4258988Z     item packages
2024-02-18T21:08:10.4259719Z       #package_count
2024-02-18T21:08:10.4260787Z         does not have packages
2024-02-18T21:08:10.4390457Z           is expected to be falsy
2024-02-18T21:08:10.4390933Z         has packages
2024-02-18T21:08:10.4561265Z           is expected to eq "1"
2024-02-18T21:08:10.4561795Z       #has_packages
2024-02-18T21:08:10.4562538Z         item has no package size
2024-02-18T21:08:10.4688178Z           is expected to be falsy
2024-02-18T21:08:10.4688673Z         item has package size
2024-02-18T21:08:10.4859338Z           is expected to be truthy
2024-02-18T21:08:10.4860300Z     #value_per_line_item
2024-02-18T21:08:10.4861041Z       item has value and quantity
2024-02-18T21:08:10.5031427Z         is expected to eq 25
2024-02-18T21:08:10.5031891Z       item has no value
2024-02-18T21:08:10.5154228Z         is expected to eq 0
2024-02-18T21:08:10.5155197Z   Scopes >
2024-02-18T21:08:10.5156010Z     ->active
2024-02-18T21:08:10.5470730Z       retrieves only those with active status
2024-02-18T21:08:10.5471591Z   versioning
2024-02-18T21:08:10.5507328Z     is expected to be versioned
2024-02-18T21:08:10.5508842Z   package_count
2024-02-18T21:08:10.5686731Z     is nil if there is no package_size
2024-02-18T21:08:10.5867205Z     is equal to the quanity divided by the package_size
2024-02-18T21:08:10.5868561Z   Validations >
2024-02-18T21:08:10.5998712Z     requires a quantity
2024-02-18T21:08:10.6084678Z     requires an item
2024-02-18T21:08:10.6930807Z     the quantity must be a valid integer and cannot be 0
2024-02-18T21:08:10.6931429Z 
2024-02-18T21:08:10.6931623Z PartnerMailer
2024-02-18T21:08:10.6933469Z   #recertification_request
2024-02-18T21:08:10.7175977Z     renders the body with text that indicates to recertify and link to where
2024-02-18T21:08:10.7407978Z     should be sent to the partner main email with the correct subject line
2024-02-18T21:08:10.7408876Z   #application_approved
2024-02-18T21:08:10.7651147Z     should be sent to the partner main email with the correct subject line
2024-02-18T21:08:10.7902773Z     renders the body with text that indicates the result and a link to their dashboard
2024-02-18T21:08:10.7905481Z 
2024-02-18T21:08:10.7905881Z KitCreateService
2024-02-18T21:08:10.7906314Z   #call
2024-02-18T21:08:10.9832653Z     should return an the instance
2024-02-18T21:08:10.9834110Z     when the parameters are valid
2024-02-18T21:08:11.1737302Z       should create a new Kit
2024-02-18T21:08:11.3759466Z       should create the new Item associated with the Kit
2024-02-18T21:08:11.5739386Z       should create a new Item
2024-02-18T21:08:11.5740656Z       but the ItemCreationService is unsuccesful
2024-02-18T21:08:11.7661871Z         should not create the Kit
2024-02-18T21:08:11.9559129Z         should not create a Item
2024-02-18T21:08:12.1494628Z         should have an error that includes the error
2024-02-18T21:08:12.1495542Z       but an unexpected error gets raised
2024-02-18T21:08:12.3384947Z         should not create the Kit
2024-02-18T21:08:12.5281350Z         should not create a Item
2024-02-18T21:08:12.7107314Z         should have an error that includes the raised error
2024-02-18T21:08:12.7108558Z     when the parameters provided are invalid
2024-02-18T21:08:12.7109654Z       because the kit_params is invalid for kit creation
2024-02-18T21:08:12.8887975Z         should have errors saying why the kit_params are invalid
2024-02-18T21:08:12.8888850Z       because the organization_id does not match any Organization
2024-02-18T21:08:12.8944369Z         should have an error on organization_id saying it does not match any Organization
2024-02-18T21:08:12.8945344Z 
2024-02-18T21:08:12.8945626Z Partners::ChildItemRequest
2024-02-18T21:08:12.8947466Z   associations
2024-02-18T21:08:12.9055991Z     is expected to belong to child required: true
2024-02-18T21:08:12.9093814Z     is expected to belong to authorized_family_member optional: true
2024-02-18T21:08:12.9133996Z     is expected to belong to item_request required: true
2024-02-18T21:08:12.9134891Z   versioning
2024-02-18T21:08:12.9169348Z     is expected to be versioned
2024-02-18T21:08:12.9170107Z   #ordered_item_diaperid
2024-02-18T21:08:12.9229522Z     should return the item_id on the item_request
2024-02-18T21:08:12.9230542Z   #quantity
2024-02-18T21:08:12.9269765Z     should return the quantity divided by the number of children
2024-02-18T21:08:12.9270492Z 
2024-02-18T21:08:12.9270707Z DonationSite
2024-02-18T21:08:12.9271911Z   versioning
2024-02-18T21:08:12.9349528Z     is expected to be versioned
2024-02-18T21:08:12.9350748Z   Validations >
2024-02-18T21:08:12.9392784Z     must belong to an organization
2024-02-18T21:08:12.9438090Z     is invalid without an address
2024-02-18T21:08:12.9484520Z     is invalid without a name
2024-02-18T21:08:12.9485005Z   geocode
2024-02-18T21:08:12.9553804Z     adds coordinates to the database
2024-02-18T21:08:12.9554443Z   import_csv
2024-02-18T21:08:13.1325482Z     imports storage locations from a csv file
2024-02-18T21:08:13.1326107Z 
2024-02-18T21:08:13.1326687Z RequestsTotalItemsService
2024-02-18T21:08:13.1327258Z   #calculate
2024-02-18T21:08:13.1333871Z     when item name is nil
2024-02-18T21:08:13.1460046Z       return Unknown Item
2024-02-18T21:08:13.1460779Z     when provided requests is nil
2024-02-18T21:08:13.1496756Z       is expected to be blank
2024-02-18T21:08:13.1497662Z     when the request items is not blank
2024-02-18T21:08:13.1629267Z       return items with correct quantities calculated
2024-02-18T21:08:13.1763164Z       return the names of items correctly
2024-02-18T21:08:13.1764327Z     when provided with requests that have no request items
2024-02-18T21:08:13.1838490Z       is expected to be blank
2024-02-18T21:08:13.1839097Z 
2024-02-18T21:08:13.1839715Z Reports::OtherProductsReportService
2024-02-18T21:08:13.1840596Z   #report
2024-02-18T21:08:13.7844031Z     should report normal values
2024-02-18T21:08:13.9562875Z     should report zero values
2024-02-18T21:08:13.9563754Z 
2024-02-18T21:08:13.9564250Z PartnerFetchRequestableItemsService
2024-02-18T21:08:13.9565182Z   #call
2024-02-18T21:08:13.9566556Z     when the partner id does not match any Partner
2024-02-18T21:08:13.9609317Z       raise an error indiciating the partner does not exist
2024-02-18T21:08:13.9609921Z     when the partner is in a partner group
2024-02-18T21:08:14.0122026Z       should return all active and visible items specified by the item associated with
2024-02-18T21:08:14.0123101Z     when the partner is not in any partner group
2024-02-18T21:08:14.0447913Z       should return all active and visible items
2024-02-18T21:08:14.0448916Z 
2024-02-18T21:08:14.0449120Z Question
2024-02-18T21:08:14.0450250Z   validations
2024-02-18T21:08:14.0564082Z     is expected to validate that :answer cannot be empty/falsy
2024-02-18T21:08:14.0627542Z     is expected to validate that :title cannot be empty/falsy
2024-02-18T21:08:14.0737080Z     question for_banks and for_partners attributes can't both be false
2024-02-18T21:08:14.0737770Z   scope for_partners
2024-02-18T21:08:14.0963100Z     should filter out questions that aren't meant for partners
2024-02-18T21:08:14.0966045Z   scope for_banks
2024-02-18T21:08:14.1184212Z     should filter out questions that aren't meant for banks
2024-02-18T21:08:14.1185334Z   remove_redundant_error
2024-02-18T21:08:14.1225038Z     should return an array with only one error message related to the checkboxes.
2024-02-18T21:08:14.1226339Z   punctuate
2024-02-18T21:08:14.1263366Z     should punctuate each string in a given array
2024-02-18T21:08:14.1264216Z   versioning
2024-02-18T21:08:14.1299569Z     is expected to be versioned
2024-02-18T21:08:14.1300252Z 
2024-02-18T21:08:14.1300564Z BaseItem
2024-02-18T21:08:14.1301970Z   versioning
2024-02-18T21:08:14.1336701Z     is expected to be versioned
2024-02-18T21:08:14.1337434Z   Associations >
2024-02-18T21:08:14.1456669Z     keeps count of its associated items
2024-02-18T21:08:14.1459481Z   Filtering >
2024-02-18T21:08:14.1460387Z     ->by_partner_key
2024-02-18T21:08:14.1509257Z       shows the Base Items by partner_key
2024-02-18T21:08:14.1510140Z     ->without_kit
2024-02-18T21:08:14.1559958Z       should not include the Kit BaseItem
2024-02-18T21:08:14.1560944Z   Validations >
2024-02-18T21:08:14.1607011Z     is invalid without a partner key
2024-02-18T21:08:14.1672427Z     is invalid without a unique name
2024-02-18T21:08:14.1716084Z     is invalid without a name
2024-02-18T21:08:14.1781063Z     is invalid without a uniqueness key
2024-02-18T21:08:14.1781899Z 
2024-02-18T21:08:14.1782626Z Adjustment
2024-02-18T21:08:14.1783880Z   Validations >
2024-02-18T21:08:14.1953063Z     allows you to add inventory that doesn't yet exist in the storage location
2024-02-18T21:08:14.2355884Z     allows you to remove all the inventory that exists in the storage location
2024-02-18T21:08:14.2437087Z     must belong to an organization
2024-02-18T21:08:14.2437808Z   Scopes >
2024-02-18T21:08:14.2609456Z     `at_location` can filter out adjustments to a specific location
2024-02-18T21:08:14.2767083Z     `by_user` can filter out adjustments to a specific user
2024-02-18T21:08:14.2767946Z   versioning
2024-02-18T21:08:14.2804550Z     is expected to be versioned
2024-02-18T21:08:14.2805283Z   behaves like itemizable
2024-02-18T21:08:14.2805907Z     .to_a
2024-02-18T21:08:14.2806766Z       with Flipper flag :deprecate_to_a enabled
2024-02-18T21:08:14.3165264Z         raises an error
2024-02-18T21:08:14.3168375Z       with Flipper flag :deprecate_to_a disabled
2024-02-18T21:08:14.3547611Z         calls line_item_values
2024-02-18T21:08:14.3548260Z     .line_items
2024-02-18T21:08:14.3549219Z       quantities_by_name
2024-02-18T21:08:14.3971742Z         returns a hash of items with id, name, and quantity
2024-02-18T21:08:14.4376096Z         leaves out zero-quantitied items if requested
2024-02-18T21:08:14.4376868Z       combine!
2024-02-18T21:08:14.4780851Z         combines multiple line_items with the same item_id into a single record
2024-02-18T21:08:14.5254449Z         incrementally combines line_items on donations that have already been created
2024-02-18T21:08:14.5255513Z       total
2024-02-18T21:08:14.5633542Z         has an item total
2024-02-18T21:08:14.5634108Z       sorted
2024-02-18T21:08:14.6195776Z         displays the items, sorted by name
2024-02-18T21:08:14.6196560Z   Methods >
2024-02-18T21:08:14.8184208Z     `self.storage_locations_adjusted_for` returns only storage_locations that are used in adjustments for one org
2024-02-18T21:08:14.8185403Z     split_difference
2024-02-18T21:08:14.8966435Z       returns two adjustment objects
2024-02-18T21:08:14.9712748Z       gracefully handles adjustments with only positive
2024-02-18T21:08:15.0445448Z       gracefully handles adjustments with only negative
2024-02-18T21:08:15.0446371Z   nested line item attributes
2024-02-18T21:08:15.0846120Z     accepts them
2024-02-18T21:08:15.0846771Z 
2024-02-18T21:08:15.0847126Z ProductDriveHelper
2024-02-18T21:08:15.0849119Z   #is_virtual
2024-02-18T21:08:15.0850442Z     when a product drive was not provided
2024-02-18T21:08:15.0899757Z       with blank argument
2024-02-18T21:08:15.0942704Z       without argument
2024-02-18T21:08:15.0943467Z     when the product drive was held virtually
2024-02-18T21:08:15.0994891Z       is expected to eq "Yes"
2024-02-18T21:08:15.0996168Z     when the product drive wasn't held virtually
2024-02-18T21:08:15.1046509Z       is expected to eq "No"
2024-02-18T21:08:15.1047758Z 
2024-02-18T21:08:15.1048124Z TransfersController
2024-02-18T21:08:15.1049359Z   While not signed in
2024-02-18T21:08:15.1183554Z     redirects the user to the sign-in page for CRUD actions
2024-02-18T21:08:15.1184529Z   While signed in
2024-02-18T21:08:15.1185276Z     POST #create
2024-02-18T21:08:15.1644101Z       redirects to #show when successful
2024-02-18T21:08:15.1789838Z       renders to #new when failing
2024-02-18T21:08:15.1790596Z     GET #index
2024-02-18T21:08:15.1915649Z       returns http success
2024-02-18T21:08:15.1916444Z       when filtering by date
2024-02-18T21:08:15.1917177Z         when date parameters are supplied
2024-02-18T21:08:15.2402312Z           only returns the correct obejects
2024-02-18T21:08:15.2403518Z         when date parameters are not supplied
2024-02-18T21:08:15.2780147Z           returns all objects
2024-02-18T21:08:15.2780928Z     Looking at a different organization
2024-02-18T21:08:15.4579303Z       redirects the user to the sign-in page for CRUD actions
2024-02-18T21:08:15.4580456Z     GET #show
2024-02-18T21:08:15.4823253Z       returns http success
2024-02-18T21:08:15.4823879Z     GET #new
2024-02-18T21:08:15.4940641Z       returns http success
2024-02-18T21:08:15.4941476Z 
2024-02-18T21:08:15.4941752Z AddRoleService
2024-02-18T21:08:15.4942736Z   #call
2024-02-18T21:08:15.4943740Z     when the role already exists
2024-02-18T21:08:15.6883323Z       should raise an error
2024-02-18T21:08:15.8775623Z       should raise an error for super admin
2024-02-18T21:08:15.8776629Z     when the role does not yet exist
2024-02-18T21:08:16.0684549Z       works with super admin
2024-02-18T21:08:16.2838555Z       works with a partner
2024-02-18T21:08:16.4697352Z       should add the role
2024-02-18T21:08:16.6642095Z       should add the user role when asked to add admin
2024-02-18T21:08:16.6642811Z 
2024-02-18T21:08:16.6643074Z Reports::AcquisitionReportService
2024-02-18T21:08:16.6647426Z   acquisition report
2024-02-18T21:08:17.7669522Z     should return the proper results on #report
2024-02-18T21:08:17.7670587Z 
2024-02-18T21:08:17.7671137Z PartnerApprovalService
2024-02-18T21:08:17.7671818Z   #call
2024-02-18T21:08:17.7672374Z     when the arguments are incorrect
2024-02-18T21:08:17.7673326Z       because the partner is not approvable
2024-02-18T21:08:17.7939489Z         should return the PartnerApprovalService object with an error
2024-02-18T21:08:17.7940530Z     when the arguments are correct
2024-02-18T21:08:17.8253039Z       should change the partner status to approved
2024-02-18T21:08:17.8533365Z       should have no errors
2024-02-18T21:08:17.8814750Z       should send an email notification to the partner
2024-02-18T21:08:17.8815468Z       but a unexpected error occured during the save
2024-02-18T21:08:17.8816162Z         for partner approval
2024-02-18T21:08:17.9082215Z           should have an error with the raised error
2024-02-18T21:08:17.9341454Z           should not change the partner status to approved
2024-02-18T21:08:17.9586148Z           should not send an email notification to the partner
2024-02-18T21:08:17.9587333Z 
2024-02-18T21:08:17.9587677Z RemoveRoleService
2024-02-18T21:08:17.9588571Z   #call
2024-02-18T21:08:17.9589548Z     when the role does not exist
2024-02-18T21:08:18.1511839Z       should raise an error
2024-02-18T21:08:18.1513166Z     when not enough information provided
2024-02-18T21:08:18.3430886Z       should raise an error
2024-02-18T21:08:18.3431528Z     when the role exists
2024-02-18T21:08:18.5432943Z       should work with a type and ID instead of role ID
2024-02-18T21:08:18.7387706Z       should remove the role
2024-02-18T21:08:18.9410214Z       should remove the admin role when removing user role
2024-02-18T21:08:18.9411074Z 
2024-02-18T21:08:18.9411360Z HelpController
2024-02-18T21:08:18.9412681Z   While signed in as a normal user >
2024-02-18T21:08:18.9413512Z     GET #show
2024-02-18T21:08:18.9541263Z       returns http success
2024-02-18T21:08:18.9602793Z       does not display help page when the user logs out
2024-02-18T21:08:18.9603491Z 
2024-02-18T21:08:18.9603849Z DonationItemizedBreakdownService
2024-02-18T21:08:18.9604711Z   #fetch
2024-02-18T21:08:19.3552036Z     return the list of items donated with distributed
2024-02-18T21:08:19.3552676Z 
2024-02-18T21:08:19.3552874Z AccountRequestsController
2024-02-18T21:08:19.3553387Z   routing
2024-02-18T21:08:19.3597656Z     routes to #new
2024-02-18T21:08:19.3634354Z     routes to #create
2024-02-18T21:08:19.3635131Z 
2024-02-18T21:08:19.3635424Z AccountRequestMailer
2024-02-18T21:08:19.3636744Z   #confirmation
2024-02-18T21:08:19.3862316Z     should have the correct subject
2024-02-18T21:08:19.3983236Z     should be from no-reply@humanessentials.app
2024-02-18T21:08:19.4097358Z     should be sent to the specified account_request email
2024-02-18T21:08:19.4098121Z     Text format
2024-02-18T21:08:19.4217324Z       should include the instruction video link
2024-02-18T21:08:19.4338092Z       should include the staging/demo account information
2024-02-18T21:08:19.4456217Z       should include the button to confirm the request
2024-02-18T21:08:19.4457245Z     when the account_request_id provided does not match any AccountRequest
2024-02-18T21:08:19.4504292Z       should trigger raise a ActiveRecord::RecordNotFound error
2024-02-18T21:08:19.4505108Z     HTML format
2024-02-18T21:08:19.4619868Z       should include the instruction video link
2024-02-18T21:08:19.4731917Z       should include the button to confirm the request
2024-02-18T21:08:19.4855507Z       should include the staging/demo account information
2024-02-18T21:08:19.4856230Z   #rejection
2024-02-18T21:08:19.4983301Z     should have the correct subject
2024-02-18T21:08:19.5095420Z     should include the rejection reason
2024-02-18T21:08:19.5203860Z     should be sent to the correct email address
2024-02-18T21:08:19.5204831Z     when the account_request_id provided does not match any AccountRequest
2024-02-18T21:08:19.5250244Z       should trigger raise a ActiveRecord::RecordNotFound error
2024-02-18T21:08:19.5251021Z   #approval_request
2024-02-18T21:08:19.5386061Z     should include the admin link to create the new organization from the account request
2024-02-18T21:08:19.5506025Z     should have the correct subject
2024-02-18T21:08:19.5631418Z     should include the admin link to reject the organization
2024-02-18T21:08:19.5749717Z     should be sent to the info@humanessentials.app email address
2024-02-18T21:08:19.6028931Z     should include details of the account request
2024-02-18T21:08:19.6029928Z     when the account_request_id provided does not match any AccountRequest
2024-02-18T21:08:19.6076470Z       should trigger raise a ActiveRecord::RecordNotFound error
2024-02-18T21:08:19.6077181Z 
2024-02-18T21:08:19.6077401Z RequestMailer
2024-02-18T21:08:19.6078233Z   #request_cancel_partner_notification
2024-02-18T21:08:19.6233905Z     should be sent to the partner main email with the correct subject line
2024-02-18T21:08:19.6364352Z     renders the body with correct text with partner information
2024-02-18T21:08:19.6364941Z 
2024-02-18T21:08:19.6365723Z Partners::RequestApprovalService
2024-02-18T21:08:19.6366402Z   #call
2024-02-18T21:08:19.6367772Z     when the partner is not yet awaiting approval
2024-02-18T21:08:19.6659264Z       should send an email notification to the partner's organization
2024-02-18T21:08:19.6935656Z       should set the status on the partner record to awaiting_review
2024-02-18T21:08:19.6936835Z     when the partner is not yet waiting for approval and there is no profile error
2024-02-18T21:08:19.7233971Z       does not have an error
2024-02-18T21:08:19.7234637Z     when the partner is already awaiting approval
2024-02-18T21:08:19.7500683Z       should return an error saying it the partner is already requested approval
2024-02-18T21:08:19.7501966Z     when the partner is not yet waiting for approval and there is a profile error
2024-02-18T21:08:19.7742179Z       should return an error re social media
2024-02-18T21:08:19.7743723Z       should return an error re agency_type (PENDING: Temporarily skipped with xit)
2024-02-18T21:08:19.7744556Z 
2024-02-18T21:08:19.7744765Z NotifyPartnerJob
2024-02-18T21:08:19.7745437Z   #perform
2024-02-18T21:08:19.7793056Z     avoids exception when request doesn't exist
2024-02-18T21:08:19.7891994Z     is expected to call RequestsConfirmationMailer
2024-02-18T21:08:19.7892910Z     when the request's partner is deactivated
2024-02-18T21:08:19.8155561Z       does not send the confirmation email
2024-02-18T21:08:19.8156268Z 
2024-02-18T21:08:19.8156470Z County
2024-02-18T21:08:19.8236612Z   is expected to have many served_areas
2024-02-18T21:08:19.8237253Z   versioning
2024-02-18T21:08:19.8272675Z     is expected to be versioned
2024-02-18T21:08:19.8273363Z 
2024-02-18T21:08:19.8273609Z UsersRole
2024-02-18T21:08:19.8274688Z   #current_role_for
2024-02-18T21:08:19.8275811Z     for super admin
2024-02-18T21:08:19.8433517Z       should return super admin
2024-02-18T21:08:19.8434106Z     for org user
2024-02-18T21:08:19.8558003Z       should return org user
2024-02-18T21:08:19.8558609Z     for partner user
2024-02-18T21:08:19.8686512Z       should return partner user
2024-02-18T21:08:19.8687090Z     for org admin
2024-02-18T21:08:19.8881775Z       should return org admin
2024-02-18T21:08:19.8882346Z   versioning
2024-02-18T21:08:19.8919627Z     is expected to be versioned
2024-02-18T21:08:19.8920053Z 
2024-02-18T21:08:19.8920266Z Deadlinable
2024-02-18T21:08:19.8921241Z   validations
2024-02-18T21:08:19.9000971Z     is expected to validate that :reminder_day looks like an integer greater than or equal to 1 and less than or equal to 28 as long as it is not nil
2024-02-18T21:08:19.9046414Z     validates that reminder day is not the same as deadline day
2024-02-18T21:08:19.9119320Z     is expected to validate that :deadline_day looks like an integer greater than or equal to 1 and less than or equal to 28 as long as it is not nil
2024-02-18T21:08:19.9120462Z 
2024-02-18T21:08:19.9120618Z Purchase
2024-02-18T21:08:19.9121333Z   versioning
2024-02-18T21:08:19.9157481Z     is expected to be versioned
2024-02-18T21:08:19.9158339Z   Scopes >
2024-02-18T21:08:19.9158696Z     during >
2024-02-18T21:08:19.9406390Z       returns all purchases created between two dates
2024-02-18T21:08:19.9407075Z   behaves like itemizable
2024-02-18T21:08:19.9407848Z     .to_a
2024-02-18T21:08:19.9408704Z       with Flipper flag :deprecate_to_a enabled
2024-02-18T21:08:19.9760423Z         raises an error
2024-02-18T21:08:19.9761000Z       with Flipper flag :deprecate_to_a disabled
2024-02-18T21:08:20.0105482Z         calls line_item_values
2024-02-18T21:08:20.0105999Z     .line_items
2024-02-18T21:08:20.0107230Z       sorted
2024-02-18T21:08:20.0653278Z         displays the items, sorted by name
2024-02-18T21:08:20.0653926Z       quantities_by_name
2024-02-18T21:08:20.1030634Z         returns a hash of items with id, name, and quantity
2024-02-18T21:08:20.1417888Z         leaves out zero-quantitied items if requested
2024-02-18T21:08:20.1418569Z       combine!
2024-02-18T21:08:20.1828928Z         combines multiple line_items with the same item_id into a single record
2024-02-18T21:08:20.2408536Z         incrementally combines line_items on donations that have already been created
2024-02-18T21:08:20.2409470Z       total
2024-02-18T21:08:20.2842851Z         has an item total
2024-02-18T21:08:20.2843382Z   Validations >
2024-02-18T21:08:20.2932230Z     ensures that the issued at is no earlier than 2000
2024-02-18T21:08:20.3006849Z     requires an inventory (storage location)
2024-02-18T21:08:20.3093011Z     is valid if all categories add up to total
2024-02-18T21:08:20.3266525Z     is not valid if any category is non-zero but does not add up to the total
2024-02-18T21:08:20.3355165Z     is not valid if period supplies is non-zero but no other category is
2024-02-18T21:08:20.3433238Z     is valid if categories have no values
2024-02-18T21:08:20.3612706Z     is invalid when the line items are invalid
2024-02-18T21:08:20.3696643Z     is not valid if categories do not add up
2024-02-18T21:08:20.3773340Z     must belong to an organization
2024-02-18T21:08:20.3773952Z   Associations >
2024-02-18T21:08:20.3774498Z     items >
2024-02-18T21:08:20.3956986Z       has_many
2024-02-18T21:08:20.3957415Z   Methods >
2024-02-18T21:08:20.3958240Z     remove
2024-02-18T21:08:20.4707248Z       fails gracefully if the item doesn't exist
2024-02-18T21:08:20.5387501Z       removes the item from the purchase
2024-02-18T21:08:20.5388147Z     storage_view
2024-02-18T21:08:20.6042595Z       returns name of storage location
2024-02-18T21:08:20.6043206Z   Callbacks >
2024-02-18T21:08:20.6242290Z     inititalizes the issued_at field to default to midnight if it wasn't explicitly set
2024-02-18T21:08:20.6429896Z     automatically combines duplicate line_item records when they're created
2024-02-18T21:08:20.6430599Z 
2024-02-18T21:08:20.6430746Z KitAllocation
2024-02-18T21:08:20.6433337Z   add some examples to (or delete) /home/runner/work/human-essentials/human-essentials/spec/models/kit_allocation_spec.rb (PENDING: Not yet implemented)
2024-02-18T21:08:20.6434299Z   versioning
2024-02-18T21:08:20.6469211Z     is expected to be versioned
2024-02-18T21:08:20.6469648Z 
2024-02-18T21:08:20.6469888Z OrganizationMailer
2024-02-18T21:08:20.6470861Z   #partner_approval_request
2024-02-18T21:08:20.6743628Z     includes a link to the relevant partner
2024-02-18T21:08:20.6982391Z     should be sent to the partner main email with the correct subject line
2024-02-18T21:08:20.7216570Z     renders the body with correct text with partner information
2024-02-18T21:08:20.7217261Z 
2024-02-18T21:08:20.7217469Z ItemizableUpdateService
2024-02-18T21:08:20.7218431Z   decreases
2024-02-18T21:08:20.8639472Z     should update quantity in different locations
2024-02-18T21:08:21.0061103Z     should update quantity in same storage location
2024-02-18T21:08:21.0061849Z   increases
2024-02-18T21:08:21.1493383Z     should update quantity in same storage location
2024-02-18T21:08:21.2890924Z     should update quantity in different locations
2024-02-18T21:08:21.2891506Z 
2024-02-18T21:08:21.2892010Z ItemsOutTotalQuery
2024-02-18T21:08:21.2892447Z   items_out_total_query
2024-02-18T21:08:21.3998369Z     returns a sum total of all out-flows
2024-02-18T21:08:21.3998874Z 
2024-02-18T21:08:21.3999076Z BroadcastAnnouncement
2024-02-18T21:08:21.4118748Z   should validate a valid announcement
2024-02-18T21:08:21.4173235Z   should validate a good link
2024-02-18T21:08:21.4210344Z   is expected to belong to organization optional: true
2024-02-18T21:08:21.4262521Z   is expected to validate that :message cannot be empty/falsy
2024-02-18T21:08:21.4301017Z   is expected to belong to user required: true
2024-02-18T21:08:21.4355096Z   should roughly check if link is valid
2024-02-18T21:08:21.4355720Z   expired?
2024-02-18T21:08:21.4411084Z     should be true if the announcement is expired
2024-02-18T21:08:21.4463480Z     should be false if the announcement has not expired
2024-02-18T21:08:21.4464229Z   filter_announcements
2024-02-18T21:08:21.4604571Z     sorts announcements from most recently created to last
2024-02-18T21:08:21.4727390Z     shouldn't include expired announcements
2024-02-18T21:08:21.4848476Z     should include only announcements from the passed organization
2024-02-18T21:08:21.4849310Z   versioning
2024-02-18T21:08:21.4944610Z     is expected to be versioned
2024-02-18T21:08:21.4945077Z 
2024-02-18T21:08:21.4945313Z Role
2024-02-18T21:08:21.4983842Z   is expected to accepts_nested_attributes_for :users
2024-02-18T21:08:21.4984592Z   Associations
2024-02-18T21:08:21.5046819Z     is expected to have and belong to many users
2024-02-18T21:08:21.5087383Z     is expected to belong to resource optional: true
2024-02-18T21:08:21.5088123Z   Validations
2024-02-18T21:08:21.5148342Z     is expected to validate that :resource_type is either ‹"Organization"› or ‹"Partner"›
2024-02-18T21:08:21.5149729Z   versioning
2024-02-18T21:08:21.5192522Z     is expected to be versioned
2024-02-18T21:08:21.5193801Z 
2024-02-18T21:08:21.5194225Z DistributionByCountyReportService
2024-02-18T21:08:21.5194876Z   get_breakdown
2024-02-18T21:08:21.6046253Z     will have 100% unspecified shows if no served_areas
2024-02-18T21:08:21.7829167Z     handles multiple partners with overlapping service areas properly
2024-02-18T21:08:21.8660565Z     divides the item numbers and values according to the partner profile
2024-02-18T21:08:21.8661338Z 
2024-02-18T21:08:21.8661595Z Reports::PartnerInfoReportService
2024-02-18T21:08:21.8662154Z   #report
2024-02-18T21:08:22.1032083Z     should report normal values
2024-02-18T21:08:22.2755203Z     should report zero values
2024-02-18T21:08:22.2755709Z 
2024-02-18T21:08:22.2755967Z DonationDestroyService
2024-02-18T21:08:22.2757335Z   #call
2024-02-18T21:08:22.2758406Z     when the donation succesfully gets destroyed
2024-02-18T21:08:22.3021925Z       to be a success
2024-02-18T21:08:22.3022710Z     when storage_location fails to decrease the inventory of the donation
2024-02-18T21:08:22.3085010Z       to not be a success
2024-02-18T21:08:22.3085792Z     when the donation_id matches no Donation owned by the organization
2024-02-18T21:08:22.3125503Z       to not be a success
2024-02-18T21:08:22.3126161Z     when the organization_id matches no Organization
2024-02-18T21:08:22.3164233Z       to not be a success
2024-02-18T21:08:22.3164820Z     when the donation destroy fails
2024-02-18T21:08:22.3211764Z       to not be a success
2024-02-18T21:08:22.3212839Z 
2024-02-18T21:08:22.3213015Z User
2024-02-18T21:08:22.3273916Z   has a valid factory
2024-02-18T21:08:22.3274432Z   Validations >
2024-02-18T21:08:22.3461133Z     requires an email that is formatted correctly
2024-02-18T21:08:22.3544247Z     requires a name
2024-02-18T21:08:22.3544728Z   versioning
2024-02-18T21:08:22.3581370Z     is expected to be versioned
2024-02-18T21:08:22.3581935Z   Methods >
2024-02-18T21:08:22.3632273Z     discarded?
2024-02-18T21:08:22.3709311Z     #invitation_status
2024-02-18T21:08:22.3787081Z     #reinvitable?
2024-02-18T21:08:22.4255313Z     #kind
2024-02-18T21:08:22.4255827Z   omniauth
2024-02-18T21:08:22.4392978Z     retrieves the user from an omniauth context
2024-02-18T21:08:22.4394012Z   Scopes >
2024-02-18T21:08:22.4394627Z     ->alphabetized
2024-02-18T21:08:22.4616413Z       retrieves users in the correct order
2024-02-18T21:08:22.4617087Z   Scopes >
2024-02-18T21:08:22.4617712Z     ->alphabetized
2024-02-18T21:08:22.5007087Z       retrieves users in the correct order
2024-02-18T21:08:22.5008460Z 
2024-02-18T21:08:22.5008686Z StorageLocation
2024-02-18T21:08:22.5010498Z   Filtering >
2024-02-18T21:08:22.5678533Z     ->containing yields only inventories that have that item
2024-02-18T21:08:22.5766281Z     ->active_locations yields only storage locations that haven't been discarded
2024-02-18T21:08:22.5766846Z   versioning
2024-02-18T21:08:22.5802344Z     is expected to be versioned
2024-02-18T21:08:22.5802781Z   Validations >
2024-02-18T21:08:22.5865950Z     is expected to validate that :name cannot be empty/falsy
2024-02-18T21:08:22.5920718Z     is expected to validate that :organization cannot be empty/falsy
2024-02-18T21:08:22.5978174Z     is expected to validate that :address cannot be empty/falsy
2024-02-18T21:08:22.5978734Z   Callbacks >
2024-02-18T21:08:22.5979135Z     before_destroy
2024-02-18T21:08:22.6550857Z       deletes storage locations with no inventory items on it
2024-02-18T21:08:22.6911914Z       does not delete storage locations with inventory items on it
2024-02-18T21:08:22.6912537Z   Methods >
2024-02-18T21:08:22.6914214Z     decrease_inventory
2024-02-18T21:08:22.7893159Z       decreases inventory quantities from an itemizable object
2024-02-18T21:08:22.7893778Z       when there is insufficient inventory available
2024-02-18T21:08:22.7973302Z         gives informative errors
2024-02-18T21:08:22.8125248Z         does not change inventory quantities if there is an error
2024-02-18T21:08:22.8125886Z     StorageLocation.items_inventoried
2024-02-18T21:08:22.8931986Z       returns a collection of items that are stored within inventories
2024-02-18T21:08:22.8932845Z     item_total
2024-02-18T21:08:22.9317958Z       retrieves the total for a single item
2024-02-18T21:08:22.9319098Z     increase_inventory
2024-02-18T21:08:22.9320442Z       when increasing with an inactive item
2024-02-18T21:08:23.0457220Z         re-activates the item as part of the creation process
2024-02-18T21:08:23.0457829Z       With existing inventory
2024-02-18T21:08:23.1542611Z         increases inventory quantities from an itemizable object
2024-02-18T21:08:23.1543407Z       when providing a new item that does not yet exist
2024-02-18T21:08:23.2690493Z         creates those new inventory items in the storage location
2024-02-18T21:08:23.2691381Z     csv_export_attributes
2024-02-18T21:08:23.3352114Z       returns an array of storage location attributes, followed by inventory item quantities that are sorted by alphabetized item names
2024-02-18T21:08:23.3353006Z     inventory_total_value_in_dollars
2024-02-18T21:08:23.3833083Z       returns total value of all items in this storage location
2024-02-18T21:08:23.4226157Z       returns a value including cents if the total isn't an even dollar amount
2024-02-18T21:08:23.4342996Z       returns 0 when there are no items in this storage location
2024-02-18T21:08:23.4343800Z     import_inventory
2024-02-18T21:08:23.8077109Z       imports storage locations from a csv file
2024-02-18T21:08:23.8077805Z     import_csv
2024-02-18T21:08:23.8199838Z       imports storage locations from a csv file
2024-02-18T21:08:23.8200445Z     geocode
2024-02-18T21:08:23.8303880Z       adds coordinates to the database
2024-02-18T21:08:23.8304437Z     size
2024-02-18T21:08:23.8768293Z       returns total quantity of all items in this storage location
2024-02-18T21:08:23.8768995Z 
2024-02-18T21:08:23.8769252Z HistoricalTrendService
2024-02-18T21:08:23.8770008Z   #series
2024-02-18T21:08:24.1883241Z     returns an array of items with their monthly data
2024-02-18T21:08:24.1884499Z 
2024-02-18T21:08:24.1884776Z Reports::AdultIncontinenceReportService
2024-02-18T21:08:24.1885363Z   #report
2024-02-18T21:08:24.3712592Z     should report zero values
2024-02-18T21:08:24.3713385Z     with values
2024-02-18T21:08:24.9846031Z       should handle null distribution quantity
2024-02-18T21:08:25.5964151Z       should report normal values
2024-02-18T21:08:25.5964876Z 
2024-02-18T21:08:25.5965189Z Partners::Profile
2024-02-18T21:08:25.6016517Z   must allow deleting served_areas
2024-02-18T21:08:25.6017248Z   client share behaviour
2024-02-18T21:08:25.6017869Z     no served areas
2024-02-18T21:08:25.6075330Z       has 0 client share
2024-02-18T21:08:25.6076180Z     multiple
2024-02-18T21:08:25.6262190Z       is valid if client share sum is 100
2024-02-18T21:08:25.6417814Z       sums the client shares
2024-02-18T21:08:25.6418371Z   associations
2024-02-18T21:08:25.6460764Z     is expected to have a has_one_attached called proof_of_form_990
2024-02-18T21:08:25.6498928Z     is expected to have a has_many_attached called documents
2024-02-18T21:08:25.6535377Z     is expected to have a has_one_attached called proof_of_partner_status
2024-02-18T21:08:25.6570048Z     is expected to have many served_areas
2024-02-18T21:08:25.6570769Z   social media info validation for profile
2024-02-18T21:08:25.6571836Z     no social media presence and the checkbox isn't checked
2024-02-18T21:08:25.6667665Z       should be valid if media_information is not needed
2024-02-18T21:08:25.6722816Z       should not be valid
2024-02-18T21:08:25.6723518Z     has social media presence and the checkbox is unchecked
2024-02-18T21:08:25.6793236Z       with just a website it should be valid
2024-02-18T21:08:25.6863348Z       with just twitter it should be valid
2024-02-18T21:08:25.6931353Z       with just instagram it should be valid
2024-02-18T21:08:25.6999918Z       with every social media option it should be valid
2024-02-18T21:08:25.7070148Z       with just facebook it should be valid
2024-02-18T21:08:25.7070960Z     no social media presence and the checkbox is checked
2024-02-18T21:08:25.7125385Z       should be valid
2024-02-18T21:08:25.7125954Z   request settings validation for profile
2024-02-18T21:08:25.7126976Z     at least one request type is set to true
2024-02-18T21:08:25.7197636Z       should be valid when enable_individual_requests is true
2024-02-18T21:08:25.7265440Z       should be valid when enable_child_based_requests is true
2024-02-18T21:08:25.7335669Z       should be valid when enable_quantity_based_requests is true
2024-02-18T21:08:25.7336539Z     no settings are set to true
2024-02-18T21:08:25.7384354Z       should not be valid
2024-02-18T21:08:25.7384889Z   versioning
2024-02-18T21:08:25.7420772Z     is expected to be versioned
2024-02-18T21:08:25.7421904Z 
2024-02-18T21:08:25.7422990Z ItemsController
2024-02-18T21:08:25.7423588Z   While not signed in
2024-02-18T21:08:25.7509102Z     redirects the user to the sign-in page for CRUD actions
2024-02-18T21:08:25.7510140Z   While signed in
2024-02-18T21:08:25.7511180Z     GET #new
2024-02-18T21:08:25.7637727Z       returns http success
2024-02-18T21:08:25.7638341Z     Looking at a different organization
2024-02-18T21:08:25.9383603Z       redirects the user to the sign-in page for CRUD actions
2024-02-18T21:08:25.9384847Z     GET #edit
2024-02-18T21:08:25.9552456Z       returns http success
2024-02-18T21:08:25.9553004Z     POST #create
2024-02-18T21:08:25.9553672Z       with invalid params
2024-02-18T21:08:25.9692340Z         should show an error
2024-02-18T21:08:25.9692913Z       with valid params
2024-02-18T21:08:25.9868647Z         should redirect to the item page
2024-02-18T21:08:26.0037391Z         should accept params with dollar signs, periods, and commas
2024-02-18T21:08:26.0217368Z         should create an item
2024-02-18T21:08:26.0217932Z     GET #index
2024-02-18T21:08:26.0382368Z       returns http success
2024-02-18T21:08:26.0382920Z     DELETE #destroy
2024-02-18T21:08:26.0607740Z       redirects to #index
2024-02-18T21:08:26.0608255Z     PATCH #restore
2024-02-18T21:08:26.0609315Z       with a soft-deleted item
2024-02-18T21:08:26.0817389Z         re-activates the item
2024-02-18T21:08:26.0817985Z       with another organizations item
2024-02-18T21:08:26.2635988Z         does nothing
2024-02-18T21:08:26.2636534Z       with an active item
2024-02-18T21:08:26.2848594Z         does nothing
2024-02-18T21:08:26.2849075Z     GET #show
2024-02-18T21:08:26.3031404Z       returns http success
2024-02-18T21:08:26.3032071Z     PATCH #remove_category
2024-02-18T21:08:26.4999410Z       should redirect to the previous category page
2024-02-18T21:08:26.6918915Z       should remove an item's category
2024-02-18T21:08:26.6919592Z     PUT #update
2024-02-18T21:08:26.6920029Z       invisible
2024-02-18T21:08:26.7115034Z         should update visible_to_partners to false
2024-02-18T21:08:26.7115685Z       visible
2024-02-18T21:08:26.7302391Z         should update visible_to_partners to true
2024-02-18T21:08:26.7303296Z 
2024-02-18T21:08:26.7303579Z UserInviteService
2024-02-18T21:08:26.7304700Z   with existing user
2024-02-18T21:08:26.9298916Z     should add roles to existing user
2024-02-18T21:08:26.9388887Z     should raise an error when reinviting an existing user with the same role
2024-02-18T21:08:26.9391241Z     with force: true
2024-02-18T21:08:27.0290231Z       should reinvite the user
2024-02-18T21:08:27.0290862Z   with a new user
2024-02-18T21:08:27.2238398Z     should create the user with roles
2024-02-18T21:08:27.2240128Z 
2024-02-18T21:08:27.2240386Z Partner
2024-02-18T21:08:27.2242569Z   #deactivated?
2024-02-18T21:08:27.2243761Z     when the status is 'deactivated'
2024-02-18T21:08:27.2290907Z       should return true
2024-02-18T21:08:27.2291628Z     when the status is not 'deactivated'
2024-02-18T21:08:27.2333258Z       should return false
2024-02-18T21:08:27.2333783Z   associations
2024-02-18T21:08:27.2390436Z     is expected to belong to partner_group optional: true
2024-02-18T21:08:27.2427707Z     is expected to have many distributions
2024-02-18T21:08:27.2463108Z     is expected to have many children through families
2024-02-18T21:08:27.2522152Z     is expected to have many families dependent => destroy
2024-02-18T21:08:27.2580185Z     is expected to belong to organization required: true
2024-02-18T21:08:27.2616294Z     is expected to have many requests
2024-02-18T21:08:27.2651189Z     is expected to have many requests
2024-02-18T21:08:27.2684607Z     is expected to have many users dependent => destroy
2024-02-18T21:08:27.2721341Z     is expected to have many requestable_items through item_categories source => items
2024-02-18T21:08:27.2754344Z     is expected to have many item_categories through partner_group
2024-02-18T21:08:27.2755163Z     primary_user
2024-02-18T21:08:27.3039848Z       should return the first user ever created for a partner
2024-02-18T21:08:27.3040611Z   #deletable?
2024-02-18T21:08:27.3041180Z     when status is not uninvited
2024-02-18T21:08:27.3118390Z       should return false
2024-02-18T21:08:27.3118948Z     when status is uninvited
2024-02-18T21:08:27.3120008Z       when it has no other associations
2024-02-18T21:08:27.3230917Z         should return true
2024-02-18T21:08:27.3231517Z       when it has a profile but no users
2024-02-18T21:08:27.3385203Z         should return true
2024-02-18T21:08:27.3385784Z       when it has a profile and users
2024-02-18T21:08:27.3629162Z         should return false
2024-02-18T21:08:27.3629761Z       when it has a distribution
2024-02-18T21:08:27.3770209Z         should return false
2024-02-18T21:08:27.3770762Z       when it has a request
2024-02-18T21:08:27.3910886Z         should return false
2024-02-18T21:08:27.3911527Z   #impact_metrics
2024-02-18T21:08:27.3912478Z     when partner has related information
2024-02-18T21:08:27.4911542Z       is expected to eq {:children_served=>4, :families_served=>3, :family_zipcodes=>2, :family_zipcodes_list=>["45612-123", "45612-126"]}
2024-02-18T21:08:27.4912466Z     when partner don't have any related information
2024-02-18T21:08:27.5377263Z       is expected to eq {:children_served=>0, :families_served=>0, :family_zipcodes=>0, :family_zipcodes_list=>[]}
2024-02-18T21:08:27.5378144Z   Validations >
2024-02-18T21:08:27.5512280Z     must belong to an organization
2024-02-18T21:08:27.6055732Z     still requires a unique email between organizations
2024-02-18T21:08:27.7166728Z     requires a unique name within an organization
2024-02-18T21:08:27.7414647Z     does not require a unique name between organizations
2024-02-18T21:08:27.7504825Z     validates the quota is a number but it is not required
2024-02-18T21:08:27.7807937Z     requires a unique email that is formatted correctly
2024-02-18T21:08:27.7808632Z   #quantity_year_to_date
2024-02-18T21:08:27.9558340Z     includes all item quantities from distributions issued during the current year
2024-02-18T21:08:28.1417969Z     does not include quantities from distributions issued during the previous year
2024-02-18T21:08:28.1418930Z   #profile
2024-02-18T21:08:28.1662733Z     should return the associated Partners::Profile record
2024-02-18T21:08:28.1663483Z   import_csv
2024-02-18T21:08:28.4884968Z     imports partners from a csv file with BOM encodings
2024-02-18T21:08:28.7014004Z     imports partners from a csv file and prevents multiple imports
2024-02-18T21:08:28.7014760Z   Filters
2024-02-18T21:08:28.7015041Z     by_status
2024-02-18T21:08:28.7401646Z       yields partners with the provided status
2024-02-18T21:08:28.7779522Z       yields deactivated partner when deactivated status provided
2024-02-18T21:08:28.7780199Z   #csv_export_attributes
2024-02-18T21:08:28.8015850Z     includes contact person information from parnerbase
2024-02-18T21:08:28.8016400Z   callbacks
2024-02-18T21:08:28.8225969Z     properly downcases email
2024-02-18T21:08:28.8226507Z   versioning
2024-02-18T21:08:28.8261753Z     is expected to be versioned
2024-02-18T21:08:28.8262235Z   #approvable?
2024-02-18T21:08:28.8263459Z     when status is not invited or awaiting_review
2024-02-18T21:08:28.8330968Z       should return false
2024-02-18T21:08:28.8331431Z     when status is awaiting_review
2024-02-18T21:08:28.8371535Z       should return true
2024-02-18T21:08:28.8372078Z     when status is invited
2024-02-18T21:08:28.8410976Z       should return true
2024-02-18T21:08:28.8411528Z   ActiveStorage validation
2024-02-18T21:08:28.8519191Z     validates that attachments are pdf or docs
2024-02-18T21:08:28.8519868Z   changing emails
2024-02-18T21:08:28.8763230Z     should call the UserInviteService.invite when the partner has status approved and the email is changed
2024-02-18T21:08:28.8999495Z     should not call the UserInviteService.invite when the partner has status deactivated and the email is changed
2024-02-18T21:08:28.9250417Z     should call the UserInviteService.invite when the partner has status invited and the email is changed
2024-02-18T21:08:28.9502222Z     should call the UserInviteService.invite when the partner has status recertification_required and the email is changed
2024-02-18T21:08:28.9750385Z     should call the UserInviteService.invite when the partner has status awaiting_review and the email is changed
2024-02-18T21:08:28.9985814Z     should not call the UserInviteService.invite when the partner has status uninvited and the email is changed
2024-02-18T21:08:29.0350062Z     should not call the UserInviteService.invite when the partner is changing email to previously used email
2024-02-18T21:08:29.0351006Z 
2024-02-18T21:08:29.0351136Z CalendarService
2024-02-18T21:08:29.1617290Z   #time_zones
2024-02-18T21:08:29.1617882Z   .calendar
2024-02-18T21:08:29.2223334Z     should print the calendar correctly
2024-02-18T21:08:29.2223842Z 
2024-02-18T21:08:29.2224016Z ReminderDeadlineJob
2024-02-18T21:08:29.2224849Z   #perform
2024-02-18T21:08:29.2450763Z     should queue up reminder deadline emails for all partners that should be reminded
2024-02-18T21:08:29.2451721Z 
2024-02-18T21:08:29.2451937Z ReminderDeadlineMailer
2024-02-18T21:08:29.2452480Z   notify deadline
2024-02-18T21:08:29.2737162Z     renders the subject
2024-02-18T21:08:29.3002256Z     renders the sender email
2024-02-18T21:08:29.3267835Z     renders the receiver email
2024-02-18T21:08:29.3550038Z     renders the body
2024-02-18T21:08:29.7614907Z 
2024-02-18T21:08:29.7616032Z Pending: (Failures listed here are expected and do not affect your suite's status)
2024-02-18T21:08:29.7616618Z 
2024-02-18T21:08:29.7617441Z   1) Partners::RequestApprovalService#call when the partner is not yet waiting for approval and there is a profile error should return an error re agency_type
2024-02-18T21:08:29.7618527Z      # Temporarily skipped with xit
2024-02-18T21:08:29.7619080Z      # ./spec/services/partners/request_approval_service_spec.rb:28
2024-02-18T21:08:29.7619530Z 
2024-02-18T21:08:29.7620370Z   2) KitAllocation add some examples to (or delete) /home/runner/work/human-essentials/human-essentials/spec/models/kit_allocation_spec.rb
2024-02-18T21:08:29.7621318Z      # Not yet implemented
2024-02-18T21:08:29.7621718Z      # ./spec/models/kit_allocation_spec.rb:16
2024-02-18T21:08:29.7622041Z 
2024-02-18T21:08:29.7622279Z Finished in 45.23 seconds (files took 8.28 seconds to load)
2024-02-18T21:08:29.7622846Z 595 examples, 0 failures, 2 pending
2024-02-18T21:08:29.7623103Z 
2024-02-18T21:08:29.7623209Z Randomized with seed 8369
2024-02-18T21:08:29.7623402Z 
2024-02-18T21:08:30.0737300Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3777 / 6430 LOC (58.74%) covered.
2024-02-18T21:08:30.5140359Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10695 LOC (0.36%) covered.
