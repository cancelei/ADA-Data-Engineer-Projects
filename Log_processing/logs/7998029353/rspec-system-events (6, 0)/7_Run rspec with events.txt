2024-02-22T01:27:58.1847171Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-02-22T01:27:58.1848017Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-02-22T01:27:58.1875569Z shell: /usr/bin/bash -e {0}
2024-02-22T01:27:58.1875958Z env:
2024-02-22T01:27:58.1876376Z   POSTGRES_HOST: localhost
2024-02-22T01:27:58.1876763Z   DATABASE_HOST: localhost
2024-02-22T01:27:58.1877150Z   PG_USERNAME: postgres
2024-02-22T01:27:58.1877543Z   PG_PASSWORD: password
2024-02-22T01:27:58.1877918Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-02-22T01:27:58.1878335Z   POSTGRES_PORT: 5432
2024-02-22T01:27:58.1878756Z   PGHOST: localhost
2024-02-22T01:27:58.1879094Z   PGUSER: postgres
2024-02-22T01:27:58.1879407Z   RAILS_ENV: test
2024-02-22T01:27:58.1879819Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-02-22T01:27:58.1880635Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-02-22T01:27:58.1881246Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-02-22T01:27:58.1881759Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-02-22T01:27:58.1882373Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-02-22T01:27:58.1883054Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-02-22T01:27:58.1883701Z   EVENTS_READ: true
2024-02-22T01:27:58.1884035Z ##[endgroup]
2024-02-22T01:28:03.9477019Z W, [2024-02-22T01:28:03.947328 #2354]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-02-22T01:28:03.9479550Z W, [2024-02-22T01:28:03.947387 #2354]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-22T01:28:03.9481626Z W, [2024-02-22T01:28:03.947409 #2354]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-22T01:28:03.9485082Z W, [2024-02-22T01:28:03.947441 #2354]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-02-22T01:28:06.5989901Z W, [2024-02-22T01:28:06.598690 #2354]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-02-22T01:28:06.5991225Z W, [2024-02-22T01:28:06.598736 #2354]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-22T01:28:06.5992899Z W, [2024-02-22T01:28:06.598756 #2354]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-22T01:28:06.5995198Z W, [2024-02-22T01:28:06.598805 #2354]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-02-22T01:28:06.6047853Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/partners/children_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-02-22T01:28:15.0961153Z 
2024-02-22T01:28:15.0962078Z Randomized with seed 37285
2024-02-22T01:28:16.0984795Z 
2024-02-22T01:28:16.0985653Z DonationSites
2024-02-22T01:28:16.0986572Z   while signed in
2024-02-22T01:28:16.0987644Z     GET #index
2024-02-22T01:28:16.0989027Z       html
2024-02-22T01:28:16.1866763Z         is expected to be successful
2024-02-22T01:28:16.1867329Z       csv
2024-02-22T01:28:16.2042511Z         is expected to be successful
2024-02-22T01:28:16.2045963Z 
2024-02-22T01:28:16.2046228Z Dashboard
2024-02-22T01:28:16.2048037Z   With an existing essentials bank
2024-02-22T01:28:16.2049102Z     Distributions
2024-02-22T01:28:51.7943362Z       has a link to create a new distribution
2024-02-22T01:28:51.7945279Z       given 1 Distribution on 2024-01-22  (unless 'All Time'), 2 during 2024-01-23..2024-02-21, and 1 on 2024-02-22
2024-02-22T01:28:51.7946638Z         filtering to 'Last 30 Days'
2024-02-22T01:28:53.4191217Z           shows the correct total and 2 Recent Distribution link(s)
2024-02-22T01:28:53.4193136Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-22T01:28:53.4193986Z         filtering to 'This Year'
2024-02-22T01:28:56.8444448Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-22T01:28:56.8446242Z       given 1 Distribution on 2024-02-20  (unless 'All Time'), 1 during 2024-02-21..2024-02-21, and 1 on 2024-02-22
2024-02-22T01:28:56.8447102Z         filtering to 'Today'
2024-02-22T01:28:58.3118470Z           shows the correct total and 1 Recent Distribution link(s)
2024-02-22T01:28:58.3120526Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 1 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-22T01:28:58.3121950Z         filtering to 'Last Month'
2024-02-22T01:28:59.7488485Z           shows the correct total and 1 Recent Distribution link(s)
2024-02-22T01:28:59.7492359Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-22T01:28:59.7493704Z         filtering to 'This Month'
2024-02-22T01:29:03.1635914Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-22T01:29:03.1637320Z       given 1 Distribution on 2024-02-14  (unless 'All Time'), 1 during 2024-02-15..2024-02-21, and 1 on 2024-02-22
2024-02-22T01:29:03.1638123Z         filtering to 'Last 7 Days'
2024-02-22T01:29:04.5822274Z           shows the correct total and 1 Recent Distribution link(s)
2024-02-22T01:29:04.5824114Z       given 1 Distribution on 2022-02-20  (unless 'All Time'), 3 during 2022-02-21..2023-11-01, and 1 on 2023-11-02
2024-02-22T01:29:04.5825164Z         filtering to '' (February 21, 2022 - November 1, 2023)
2024-02-22T01:29:06.1492992Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-22T01:29:06.1494991Z       given 1 Distribution on 2024-02-19  (unless 'All Time'), 0 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-22T01:29:06.1496252Z         filtering to 'Yesterday'
2024-02-22T01:29:09.5163018Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-22T01:29:09.5164800Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 3 during 2000-01-01..2024-02-21, and 1 on 2024-02-22
2024-02-22T01:29:09.5166248Z         filtering to 'All Time'
2024-02-22T01:29:10.9155639Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-22T01:29:10.9157002Z     Inventory Totals
2024-02-22T01:29:10.9157828Z       Summary
2024-02-22T01:29:11.6558215Z         displays the on-hand totals
2024-02-22T01:29:11.6559010Z         when constrained to date range
2024-02-22T01:29:12.7289242Z           does not change
2024-02-22T01:29:12.7290394Z     Product Drives
2024-02-22T01:29:13.3090064Z       has a widget for product drive summary data
2024-02-22T01:29:13.3091482Z       Product drive behaviour with Mixed Donation types
2024-02-22T01:29:14.0361522Z         only counts product drive money raised
2024-02-22T01:29:14.7699561Z         only counts product drive donations for product drive
2024-02-22T01:29:15.4826274Z         only shows product drive donations as product drive donations
2024-02-22T01:29:15.4828478Z       given 1 Product Drive Donation on 2024-02-19 (unless 'All Time'), 1 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-22T01:29:15.4829829Z         filtering to 'Yesterday'
2024-02-22T01:29:17.0636419Z           shows the correct total donations
2024-02-22T01:29:18.4506155Z           shows the correct total money raised
2024-02-22T01:29:19.8616696Z           shows 1 Recent Donation link(s)
2024-02-22T01:29:19.8618500Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-22T01:29:19.8619519Z         filtering to 'This Year'
2024-02-22T01:29:21.3452306Z           shows 2 Recent Donation link(s)
2024-02-22T01:29:22.7811370Z           shows the correct total donations
2024-02-22T01:29:24.2252092Z           shows the correct total money raised
2024-02-22T01:29:24.2253866Z       given 1 Product Drive Donation on 2024-02-20 (unless 'All Time'), 2 during 2024-02-21..2024-02-21, and 1 on 2024-02-22
2024-02-22T01:29:24.2255113Z         filtering to 'Today'
2024-02-22T01:29:25.7168813Z           shows the correct total money raised
2024-02-22T01:29:27.1712679Z           shows the correct total donations
2024-02-22T01:29:28.6109812Z           shows 2 Recent Donation link(s)
2024-02-22T01:29:28.6115289Z       given 1 Product Drive Donation on 2022-02-20 (unless 'All Time'), 0 during 2022-02-21..2023-10-28, and 1 on 2023-10-29
2024-02-22T01:29:28.6118227Z         filtering to '' (February 21, 2022 - October 28, 2023)
2024-02-22T01:29:30.0152011Z           shows the correct total money raised
2024-02-22T01:29:31.3894385Z           shows the correct total donations
2024-02-22T01:29:34.7478237Z           shows 0 Recent Donation link(s)
2024-02-22T01:29:34.7480306Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 0 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-22T01:29:34.7481691Z         filtering to 'Last Month'
2024-02-22T01:29:36.0872294Z           shows the correct total money raised
2024-02-22T01:29:39.4205641Z           shows 0 Recent Donation link(s)
2024-02-22T01:29:40.7765873Z           shows the correct total donations
2024-02-22T01:29:40.7767896Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-22T01:29:40.7769345Z         filtering to 'This Month'
2024-02-22T01:29:42.1759269Z           shows the correct total donations
2024-02-22T01:29:43.7003210Z           shows the correct total money raised
2024-02-22T01:29:45.0893293Z           shows 1 Recent Donation link(s)
2024-02-22T01:29:45.0895209Z       given 1 Product Drive Donation on 2024-01-22 (unless 'All Time'), 1 during 2024-01-23..2024-02-21, and 1 on 2024-02-22
2024-02-22T01:29:45.0896823Z         filtering to 'Last 30 Days'
2024-02-22T01:29:46.4766364Z           shows the correct total donations
2024-02-22T01:29:47.8801087Z           shows 1 Recent Donation link(s)
2024-02-22T01:29:49.3490476Z           shows the correct total money raised
2024-02-22T01:29:49.3492151Z       given 1 Product Drive Donation on 2024-02-14 (unless 'All Time'), 2 during 2024-02-15..2024-02-21, and 1 on 2024-02-22
2024-02-22T01:29:49.3493004Z         filtering to 'Last 7 Days'
2024-02-22T01:29:50.8317747Z           shows the correct total money raised
2024-02-22T01:29:52.4955923Z           shows 2 Recent Donation link(s)
2024-02-22T01:29:54.0151871Z           shows the correct total donations
2024-02-22T01:29:54.0152974Z     Purchases
2024-02-22T01:29:54.9708022Z       has a link to create a new purchase
2024-02-22T01:29:54.9709722Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-22T01:29:54.9711540Z         filtering to 'This Month'
2024-02-22T01:29:56.4259161Z           shows correct 1 Recent Purchase link(s)
2024-02-22T01:29:56.4260513Z       given 1 Purchase on 2024-02-14  (unless 'All Time'), 4 during 2024-02-15..2024-02-21, and 1 on 2024-02-22
2024-02-22T01:29:56.4261791Z         filtering to 'Last 7 Days'
2024-02-22T01:29:58.0192076Z           shows correct 3 Recent Purchase link(s)
2024-02-22T01:29:58.0193946Z       given 1 Purchase on 2024-02-20  (unless 'All Time'), 1 during 2024-02-21..2024-02-21, and 1 on 2024-02-22
2024-02-22T01:29:58.0195180Z         filtering to 'Today'
2024-02-22T01:29:59.4366257Z           shows correct 1 Recent Purchase link(s)
2024-02-22T01:29:59.4368221Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 4 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-22T01:29:59.4369458Z         filtering to 'This Year'
2024-02-22T01:30:00.9955828Z           shows correct 3 Recent Purchase link(s)
2024-02-22T01:30:00.9957885Z       given 1 Purchase on 2024-02-19  (unless 'All Time'), 2 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-22T01:30:00.9959150Z         filtering to 'Yesterday'
2024-02-22T01:30:02.4553838Z           shows correct 2 Recent Purchase link(s)
2024-02-22T01:30:02.4556333Z       given 1 Purchase on 2024-01-22  (unless 'All Time'), 4 during 2024-01-23..2024-02-21, and 1 on 2024-02-22
2024-02-22T01:30:02.4558126Z         filtering to 'Last 30 Days'
2024-02-22T01:30:04.0322398Z           shows correct 3 Recent Purchase link(s)
2024-02-22T01:30:04.0324146Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 1 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-22T01:30:04.0325168Z         filtering to 'Last Month'
2024-02-22T01:30:05.4548365Z           shows correct 1 Recent Purchase link(s)
2024-02-22T01:30:05.4550017Z       given 1 Purchase on 2022-02-20  (unless 'All Time'), 0 during 2022-02-21..2023-12-06, and 1 on 2023-12-07
2024-02-22T01:30:05.4551679Z         filtering to '' (February 21, 2022 - December 6, 2023)
2024-02-22T01:30:08.8269918Z           shows correct 0 Recent Purchase link(s)
2024-02-22T01:30:08.8271035Z     Manufacturer Donations
2024-02-22T01:30:09.4230507Z       has a link to create a new donation
2024-02-22T01:30:09.4232409Z       given 1 Manufacturer donating on 2024-02-20  (unless 'All Time'), 0 during 2024-02-21..2024-02-21, and 1 on 2024-02-22
2024-02-22T01:30:09.4233418Z         filtering to 'Today'
2024-02-22T01:30:10.7643164Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-02-22T01:30:10.7645109Z       given 1 Manufacturer donating on 2024-01-22  (unless 'All Time'), 2 during 2024-01-23..2024-02-21, and 1 on 2024-02-22
2024-02-22T01:30:10.7646473Z         filtering to 'Last 30 Days'
2024-02-22T01:30:12.3526275Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-02-22T01:30:12.3527925Z       given 1 Manufacturer donating on 2024-02-14  (unless 'All Time'), 0 during 2024-02-15..2024-02-21, and 1 on 2024-02-22
2024-02-22T01:30:12.3529029Z         filtering to 'Last 7 Days'
2024-02-22T01:30:13.7147455Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-02-22T01:30:13.7149498Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 5 during 2000-01-01..2024-02-21, and 1 on 2024-02-22
2024-02-22T01:30:13.7150295Z         filtering to 'All Time'
2024-02-22T01:30:15.6512273Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-02-22T01:30:15.6514194Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-22T01:30:15.6515403Z         filtering to 'This Month'
2024-02-22T01:30:17.4399913Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-02-22T01:30:17.4401869Z       given 1 Manufacturer donating on 2022-02-20  (unless 'All Time'), 0 during 2022-02-21..2024-01-18, and 1 on 2024-01-19
2024-02-22T01:30:17.4403534Z         filtering to '' (February 21, 2022 - January 18, 2024)
2024-02-22T01:30:18.8316548Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-02-22T01:30:18.8318781Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 8 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-22T01:30:18.8320370Z         filtering to 'This Year'
2024-02-22T01:30:21.2699865Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-22T01:30:21.2701903Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 6 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-22T01:30:21.2703449Z         filtering to 'Last Month'
2024-02-22T01:30:23.4058863Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-02-22T01:30:23.4060773Z       given 1 Manufacturer donating on 2024-02-19  (unless 'All Time'), 8 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-22T01:30:23.4061737Z         filtering to 'Yesterday'
2024-02-22T01:30:25.5928780Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-22T01:30:25.5929770Z     Donations
2024-02-22T01:30:26.5015107Z       has a link to create a new donation
2024-02-22T01:30:26.5016802Z       given 1 Donation on 2023-12-31 (only if a valid date), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-22T01:30:26.5017936Z         filtering to 'This Year'
2024-02-22T01:30:29.8462839Z           shows the correct total and 0 Recent Donation link(s)
2024-02-22T01:30:29.8466220Z       given 1 Donation on 2022-02-20 (only if a valid date), 2 during 2022-02-21..2023-12-02, and 1 on 2023-12-03
2024-02-22T01:30:29.8467668Z         filtering to '' (February 21, 2022 - December 2, 2023)
2024-02-22T01:30:31.2823142Z           shows the correct total and 2 Recent Donation link(s)
2024-02-22T01:30:31.2825158Z       given 1 Donation on 2024-01-22 (only if a valid date), 4 during 2024-01-23..2024-02-21, and 1 on 2024-02-22
2024-02-22T01:30:31.2826433Z         filtering to 'Last 30 Days'
2024-02-22T01:30:32.7714522Z           shows the correct total and 3 Recent Donation link(s)
2024-02-22T01:30:32.7716525Z       given 1 Donation on 2024-02-14 (only if a valid date), 1 during 2024-02-15..2024-02-21, and 1 on 2024-02-22
2024-02-22T01:30:32.7717825Z         filtering to 'Last 7 Days'
2024-02-22T01:30:34.1614643Z           shows the correct total and 1 Recent Donation link(s)
2024-02-22T01:30:34.1616495Z       given 1 Donation on 2024-02-20 (only if a valid date), 3 during 2024-02-21..2024-02-21, and 1 on 2024-02-22
2024-02-22T01:30:34.1617807Z         filtering to 'Today'
2024-02-22T01:30:35.6538689Z           shows the correct total and 3 Recent Donation link(s)
2024-02-22T01:30:35.6540465Z       given 1 Donation on 2023-12-31 (only if a valid date), 2 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-22T01:30:35.6542147Z         filtering to 'Last Month'
2024-02-22T01:30:37.0469746Z           shows the correct total and 2 Recent Donation link(s)
2024-02-22T01:30:37.0471506Z       given 1 Donation on 2024-01-31 (only if a valid date), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-22T01:30:37.0472395Z         filtering to 'This Month'
2024-02-22T01:30:38.4554866Z           shows the correct total and 1 Recent Donation link(s)
2024-02-22T01:30:38.4556608Z       given 1 Donation on 2024-02-19 (only if a valid date), 4 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-22T01:30:38.4557840Z         filtering to 'Yesterday'
2024-02-22T01:30:40.1840646Z           shows the correct total and 3 Recent Donation link(s)
2024-02-22T01:30:40.1841780Z     Signage
2024-02-22T01:30:43.0930741Z       shows their organization name unless they have a logo set
2024-02-22T01:30:43.0931449Z   With a new essentials bank
2024-02-22T01:31:11.1042411Z     displays the getting started guide until the steps are completed
2024-02-22T01:31:11.1043136Z 
2024-02-22T01:31:11.1043358Z /partners/profiles
2024-02-22T01:31:11.1047546Z   GET #edit
2024-02-22T01:31:11.2172188Z     displays the partner
2024-02-22T01:31:11.3087272Z     does not have default radio button value when value is nil
2024-02-22T01:31:11.4033973Z     has "Yes" radio button value when value is true
2024-02-22T01:31:11.4982953Z     has "No" radio button value when value is false
2024-02-22T01:31:11.4983780Z   GET #show
2024-02-22T01:31:11.5576110Z     shows correct values for yes/no buttons
2024-02-22T01:31:11.6076213Z     displays the partner
2024-02-22T01:31:11.6076916Z   PUT #update
2024-02-22T01:31:11.6692372Z     updates the partner and profile
2024-02-22T01:31:11.6693342Z     with no social media
2024-02-22T01:31:11.7644559Z       shows an error
2024-02-22T01:31:11.7645394Z     when updating an existing value to a blank value
2024-02-22T01:31:11.8183352Z       updates the partner profile attribute to a blank value
2024-02-22T01:31:11.8701653Z       does not update other partner profile attributes to blank
2024-02-22T01:31:11.9277801Z       does store N/A in the database
2024-02-22T01:31:11.9278550Z 
2024-02-22T01:31:11.9278925Z Admin Organization Management
2024-02-22T01:31:11.9280287Z   While signed in as an Administrative User (super admin)
2024-02-22T01:31:13.0240313Z     filters by organizations by name in organizations index page
2024-02-22T01:31:14.3554943Z     can view organization details
2024-02-22T01:31:16.3442910Z     creates a new organization
2024-02-22T01:31:16.3443897Z   While signed in as an Administrative User with no organization (super admin no org)
2024-02-22T01:31:18.1866416Z     creates a new organization
2024-02-22T01:31:18.1867132Z 
2024-02-22T01:31:18.1867445Z Organization management
2024-02-22T01:31:18.1869022Z   while signed in as an organization admin
2024-02-22T01:31:18.6831803Z     can re-invite a user to an organization after 7 days
2024-02-22T01:31:19.1847027Z     can see 'Make user' button for admins
2024-02-22T01:31:20.1570403Z     can add a new user to an organization
2024-02-22T01:31:21.1150059Z     can re-activate a user in the organization
2024-02-22T01:31:22.0813233Z     can deactivate a user in the organization
2024-02-22T01:31:22.0814333Z     Editing the organization
2024-02-22T01:31:23.0597701Z       can disable if the org does NOT use single step invite and approve partner process
2024-02-22T01:31:24.0313400Z       can select if the org distributes essentials monthly
2024-02-22T01:31:25.0053718Z       can select if the org shows year-to-date values on the distribution printout
2024-02-22T01:31:26.0659371Z       can enable if the org uses single step invite and approve partner process
2024-02-22T01:31:27.5739342Z       can select and deselect Required Partner Fields
2024-02-22T01:31:28.4408749Z       can set the NDBN Member ID
2024-02-22T01:31:29.6347594Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-02-22T01:31:30.6289118Z       can select if the org repackages essentials
2024-02-22T01:31:31.5068931Z       can set a reminder and a deadline day
2024-02-22T01:31:32.3391724Z       can set a default storage location on the organization
2024-02-22T01:31:32.3392419Z     Viewing the organization
2024-02-22T01:31:32.8949948Z       can view organization details
2024-02-22T01:31:32.8950819Z   while signed in as a normal user
2024-02-22T01:31:33.3463826Z     can see summary details about the organization as a user
2024-02-22T01:31:33.8053134Z     cannot see 'Make user' button for admins
2024-02-22T01:31:33.8053829Z 
2024-02-22T01:31:33.8054080Z /account_requests
2024-02-22T01:31:33.8056280Z   POST #create
2024-02-22T01:31:33.8057182Z     with invalid parameters
2024-02-22T01:31:33.8374537Z       renders a successful response (i.e. to display the 'new' template)
2024-02-22T01:31:33.8561234Z       does not create a new AccountRequest
2024-02-22T01:31:33.8561847Z     with valid parameters
2024-02-22T01:31:33.8728850Z       creates a new AccountRequest
2024-02-22T01:31:33.8846821Z       delivers the confirmation email via default queue
2024-02-22T01:31:33.8974348Z       redirects to the created account_request confirmation
2024-02-22T01:31:33.8975941Z   GET #received
2024-02-22T01:31:33.8976546Z     when given a invalid token
2024-02-22T01:31:33.9035303Z       should render a error that says that is code provided is invalid
2024-02-22T01:31:33.9036319Z     when given a valid token
2024-02-22T01:31:33.9184890Z       should render the received template
2024-02-22T01:31:33.9185875Z   GET #new
2024-02-22T01:31:33.9294001Z     renders a successful response
2024-02-22T01:31:33.9294721Z   GET #confirm
2024-02-22T01:31:33.9295559Z     when given a invalid token
2024-02-22T01:31:33.9351501Z       should render a error that says that is code provided is invalid
2024-02-22T01:31:33.9352658Z     when given a token that has already been confirmed
2024-02-22T01:31:34.1161734Z       should render a error that says that is code provided is invalid
2024-02-22T01:31:34.1162760Z     when given a valid token
2024-02-22T01:31:34.1344290Z       should the update confirmed_at on the account_request, queue confirmation email and render confirm template
2024-02-22T01:31:34.1345661Z   GET #confirmation
2024-02-22T01:31:34.1346457Z     when given a valid token
2024-02-22T01:31:34.1482874Z       should render the confirmation template
2024-02-22T01:31:34.1483732Z     when given a invalid token
2024-02-22T01:31:34.1540879Z       should render a error that says that is code provided is invalid
2024-02-22T01:31:34.1541778Z     when given a token that has already been confirmed
2024-02-22T01:31:34.3431949Z       should render a error that says that is code provided is invalid
2024-02-22T01:31:34.3433166Z 
2024-02-22T01:31:34.3433474Z /partners/children
2024-02-22T01:31:34.3434185Z   GET #index
2024-02-22T01:31:34.4272513Z     should render without any issues
2024-02-22T01:31:34.4722455Z     should export CSV
2024-02-22T01:31:34.4724536Z 
2024-02-22T01:31:34.4724891Z StorageLocations
2024-02-22T01:31:34.4726055Z   While not signed in
2024-02-22T01:31:34.4788069Z     redirects the user to the sign-in page for CRUD actions
2024-02-22T01:31:34.4788949Z   While signed in
2024-02-22T01:31:34.4790257Z     GET #new
2024-02-22T01:31:34.8419958Z       returns http success
2024-02-22T01:31:34.8420799Z     POST #import_csv
2024-02-22T01:31:34.8421402Z       without a csv file
2024-02-22T01:31:34.8550988Z         presents a flash error message
2024-02-22T01:31:34.8666969Z         redirects to :index
2024-02-22T01:31:34.8667612Z       with a csv file
2024-02-22T01:31:34.8961214Z         redirects
2024-02-22T01:31:34.9015598Z         invokes .import_csv
2024-02-22T01:31:34.9172014Z         presents a flash notice message
2024-02-22T01:31:34.9172795Z       csv file with wrong headers
2024-02-22T01:31:34.9304746Z         presents a flash error message
2024-02-22T01:31:34.9430622Z         redirects
2024-02-22T01:31:34.9431356Z     GET #edit
2024-02-22T01:31:34.9782136Z       returns http success
2024-02-22T01:31:34.9783084Z     GET #inventory
2024-02-22T01:31:34.9783748Z       when also including inactive items
2024-02-22T01:31:35.0464870Z         returns a collection that also includes items that have been deactivated
2024-02-22T01:31:35.0465833Z       without any overrides
2024-02-22T01:31:35.1004889Z         returns a collection that only includes items at the storage location
2024-02-22T01:31:35.1005665Z       when also including omitted items
2024-02-22T01:31:35.1483821Z         returns a collection that also includes all items, but with zeroed quantities
2024-02-22T01:31:35.1966321Z         contains a collection of ducktyped entries that respond the same
2024-02-22T01:31:35.1967292Z     PUT #reactivate
2024-02-22T01:31:35.2135722Z       undiscards
2024-02-22T01:31:35.2136301Z     PUT #deactivate
2024-02-22T01:31:35.2350093Z       discards
2024-02-22T01:31:35.2350946Z       with inventory
2024-02-22T01:31:35.2833345Z         does not discard
2024-02-22T01:31:35.2834389Z     Looking at a different organization
2024-02-22T01:31:35.4537314Z       redirects the user to the sign-in page for CRUD actions
2024-02-22T01:31:35.4538506Z     GET #show
2024-02-22T01:31:35.4539089Z       csv
2024-02-22T01:31:35.5043354Z         should be successful
2024-02-22T01:31:35.5044222Z       html
2024-02-22T01:31:35.5699990Z         should return a correct response
2024-02-22T01:31:35.5700790Z         with version date set
2024-02-22T01:31:35.5701622Z           with a version found
2024-02-22T01:31:35.6464725Z             should show the version specified
2024-02-22T01:31:35.6465499Z           with no version found
2024-02-22T01:31:35.7140820Z             should show N/A
2024-02-22T01:31:35.7141965Z     GET #destroy
2024-02-22T01:31:35.7418125Z       redirects to #index
2024-02-22T01:31:35.7418909Z     GET #index
2024-02-22T01:31:35.7419675Z       html
2024-02-22T01:31:35.7757800Z         succeeds
2024-02-22T01:31:35.7758393Z         with inactive locations
2024-02-22T01:31:35.8099276Z           does not includes the inactive location
2024-02-22T01:31:35.8100356Z           with include_inactive_locations
2024-02-22T01:31:35.8471219Z             includes the inactive location
2024-02-22T01:31:35.8472164Z       csv
2024-02-22T01:31:35.8649555Z         succeeds
2024-02-22T01:31:35.9593021Z         includes headers followed by alphabetized item names
2024-02-22T01:31:35.9593788Z 
2024-02-22T01:31:35.9594077Z Profiles
2024-02-22T01:31:35.9595312Z   POST #update
2024-02-22T01:31:35.9596320Z     successful save
2024-02-22T01:31:36.0025606Z       redirects to #show
2024-02-22T01:31:36.0465875Z       update partner
2024-02-22T01:31:36.0466864Z     when updating an existing value to a blank value
2024-02-22T01:31:36.0920594Z       update partner
2024-02-22T01:31:36.1350903Z       should have blank values
2024-02-22T01:31:36.1351752Z   GET #edit
2024-02-22T01:31:36.2237516Z     returns http success
2024-02-22T01:31:36.2238051Z 
2024-02-22T01:31:36.2238514Z Audits
2024-02-22T01:31:36.2239467Z   while signed in as an organization admin
2024-02-22T01:31:36.2241637Z     POST #finalize
2024-02-22T01:31:36.3056394Z       sets the finalize status and saves an event
2024-02-22T01:31:36.3057191Z     GET #show
2024-02-22T01:31:36.3609321Z       is successful
2024-02-22T01:31:36.3610260Z     DELETE #destroy
2024-02-22T01:31:36.3610788Z       with valid params
2024-02-22T01:31:36.3971896Z         destroys the audit if the audit's status is `confirms`
2024-02-22T01:31:36.4318742Z         destroys the audit if the audit's status is `in_progress`
2024-02-22T01:31:36.4670615Z         can not destroy the audit if the audit's status is `finalized`
2024-02-22T01:31:36.4671768Z     GET #edit
2024-02-22T01:31:36.5280559Z       is successful if the status of audit is `in_progress`
2024-02-22T01:31:36.5871890Z       redirects to #index if the status of audit is not `in_progress`
2024-02-22T01:31:36.5872887Z     POST #create
2024-02-22T01:31:36.5873320Z       with valid params
2024-02-22T01:31:36.6238055Z         redirects to the #show after created audit
2024-02-22T01:31:36.6618571Z         creates a new Audit with status as `in_progress` if `save_progress` is passed as a param
2024-02-22T01:31:36.6995503Z         creates a new Audit
2024-02-22T01:31:36.7359132Z         assigns a newly created audit as @audit
2024-02-22T01:31:36.7724784Z         creates a new Audit with status as `confirmed` if `confirm_audit` is passed as a param
2024-02-22T01:31:36.7725978Z       with invalid params
2024-02-22T01:31:36.8107279Z         re-renders the 'new' template
2024-02-22T01:31:36.8660375Z         re-renders the 'new' template with an error message when an invalid storage location is given
2024-02-22T01:31:36.9038192Z         assigns a newly created but unsaved audit as @audit
2024-02-22T01:31:36.9039067Z     GET #index
2024-02-22T01:31:36.9571448Z       is successful
2024-02-22T01:31:36.9572380Z     GET #new
2024-02-22T01:31:36.9932379Z       is successful
2024-02-22T01:31:36.9933284Z 
2024-02-22T01:31:36.9933848Z Vendor
2024-02-22T01:31:36.9935695Z   when creating a new vendor
2024-02-22T01:31:37.7228111Z     cannot add a new vendor instance with empty attributes
2024-02-22T01:31:38.4947361Z     can create a new vendor instance as a user
2024-02-22T01:31:38.4948113Z   When a user views the index page
2024-02-22T01:31:38.9631475Z     should have the vendor names in alphabetical order
2024-02-22T01:31:38.9632629Z   When vendor have purchases associated with them already
2024-02-22T01:31:39.5512861Z     can have existing vendors show in the #index with some summary stats
2024-02-22T01:31:40.1838021Z     can have a single vendor show semi-detailed stats about purchases
2024-02-22T01:31:40.1839111Z   when editing an existing vendor
2024-02-22T01:31:40.9608538Z     can update the contact info for a vendor as a user
2024-02-22T01:31:41.7224310Z     does not update a vendor with empty attributes
2024-02-22T01:31:41.7225156Z 
2024-02-22T01:31:41.7225599Z Managing requests
2024-02-22T01:31:41.7226766Z   creating a request
2024-02-22T01:31:41.7227991Z     GIVEN a partner user is permitted to make a request
2024-02-22T01:31:41.7229073Z       WHEN they create a request inproperly by not inputting anything
2024-02-22T01:31:42.6295879Z         should show an error message with the instructions
2024-02-22T01:31:42.6297114Z       WHEN they create a request properly
2024-02-22T01:31:42.6298451Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-02-22T01:31:44.8457279Z           AND the partner_user can view the details of the created request in a seperate page
2024-02-22T01:31:44.8458516Z       WHEN they create a request with only a comment
2024-02-22T01:31:45.7868723Z         should be created without any issue
2024-02-22T01:31:45.7869657Z   creating a individuals/family request
2024-02-22T01:31:45.7870785Z     GIVEN a partner user is permitted to make a request
2024-02-22T01:31:45.7871913Z       WHEN they create a request inproperly
2024-02-22T01:31:46.6694704Z         should show an error message with the instructions
2024-02-22T01:31:46.6695743Z       WHEN they create a request properly
2024-02-22T01:31:46.6696975Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-02-22T01:31:48.7597420Z           AND the partner_user can view the details of the created individuals request in a seperate page
2024-02-22T01:31:48.7598395Z 
2024-02-22T01:31:48.7598665Z Kit management
2024-02-22T01:31:49.3478846Z   should not display inactive storage locations under allocations
2024-02-22T01:31:50.2540800Z   can create a new kit as a user with the proper quantity
2024-02-22T01:31:51.6821879Z   can allocate and deallocate quantity per storage location from kit index
2024-02-22T01:31:51.6823081Z   when there is not enough quantity of the items contained in the kit on-hand
2024-02-22T01:31:52.7786174Z     will not change quantity amounts when allocating
2024-02-22T01:31:52.7786937Z   when there is no kit quantity
2024-02-22T01:31:53.9073942Z     will not change quantity amounts when deallocating
2024-02-22T01:31:53.9074927Z 
2024-02-22T01:31:53.9075236Z Admin::Organizations
2024-02-22T01:31:53.9076952Z   When logged in as a non-admin user
2024-02-22T01:31:53.9077757Z     GET #edit
2024-02-22T01:31:53.9224560Z       redirects
2024-02-22T01:31:53.9225270Z     PUT #update
2024-02-22T01:31:53.9345581Z       redirects
2024-02-22T01:31:53.9346113Z     POST #create
2024-02-22T01:31:53.9479116Z       redirects
2024-02-22T01:31:53.9479781Z     GET #index
2024-02-22T01:31:53.9597508Z       redirects
2024-02-22T01:31:53.9598156Z     GET #new
2024-02-22T01:31:53.9812525Z       redirects
2024-02-22T01:31:53.9813413Z   When logged in as a super admin
2024-02-22T01:31:53.9814993Z     DELETE #destroy
2024-02-22T01:31:53.9816010Z       with a valid organization id
2024-02-22T01:31:54.4903308Z         redirects to #index
2024-02-22T01:31:54.4904326Z     PUT #update
2024-02-22T01:31:54.5095571Z       redirect
2024-02-22T01:31:54.5096167Z     PATCH #update
2024-02-22T01:31:54.5097080Z       with an invalid update
2024-02-22T01:31:54.7170126Z         returns http success
2024-02-22T01:31:54.9227815Z         redirects to #edit with an error message
2024-02-22T01:31:54.9229154Z       with a valid update
2024-02-22T01:31:55.1069134Z         redirects to #index
2024-02-22T01:31:55.1070137Z     GET #new
2024-02-22T01:31:55.1414071Z       returns http success
2024-02-22T01:31:55.1414973Z       when given a valid account request token in the query parameters
2024-02-22T01:31:55.1905279Z         should render new with pre populate input fields from the account_request
2024-02-22T01:31:55.1907081Z       when given a token that matches a account request that has already been processed
2024-02-22T01:31:55.4000233Z         should render new with a flash error message
2024-02-22T01:31:55.4001458Z     POST #create
2024-02-22T01:31:55.4002097Z       with invalid params
2024-02-22T01:31:55.4501229Z         does not create an organization and renders #create with an error message
2024-02-22T01:31:55.4502542Z       with valid params
2024-02-22T01:31:55.6624472Z         creates an organization and redirects to #index
2024-02-22T01:31:55.6625406Z     DELETE #destroy
2024-02-22T01:31:56.0116641Z       redirects
2024-02-22T01:31:56.0117552Z     GET #edit
2024-02-22T01:31:56.2199289Z       returns http success
2024-02-22T01:31:56.2200293Z     GET #show
2024-02-22T01:31:56.4215846Z       returns http success
2024-02-22T01:31:56.4216554Z     GET #index
2024-02-22T01:31:56.4511139Z       returns http success
2024-02-22T01:31:56.4512179Z 
2024-02-22T01:31:56.4512556Z Purchases
2024-02-22T01:31:56.4514053Z   while signed in as an organization admin
2024-02-22T01:31:57.2956108Z     allows deletion of a purchase
2024-02-22T01:31:57.2956891Z   while signed in as a normal user
2024-02-22T01:31:57.2957758Z     When creating a new purchase
2024-02-22T01:31:57.7919951Z       should not display inactive storage locations in dropdown
2024-02-22T01:31:57.8121332Z       via barcode entry
2024-02-22T01:31:58.5179212Z         a user can add items via scanning them in by barcode
2024-02-22T01:31:59.4226534Z         User scan same barcode 2 times
2024-02-22T01:32:00.6255108Z         a user can add items that do not yet have a barcode
2024-02-22T01:32:00.6255905Z       via manual entry
2024-02-22T01:32:01.8042427Z         multiple line items for the same item type are accepted and combined on the backend
2024-02-22T01:32:02.6881240Z         User can create a purchase using dollars decimal amount
2024-02-22T01:32:03.7222130Z         User can create vendor from purchase
2024-02-22T01:32:04.7400681Z         Does not include inactive items in the line item fields
2024-02-22T01:32:05.8498541Z         User can create a purchase IN THE PAST
2024-02-22T01:32:05.8499380Z         when creating a purchase incorrectly
2024-02-22T01:32:06.8229827Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-02-22T01:32:07.6219816Z           should display failure with error messages
2024-02-22T01:32:07.6220572Z       Editing purchase
2024-02-22T01:32:08.1251917Z         A user can see purchased_from value
2024-02-22T01:32:08.7645337Z         A user can view another organizations purchase
2024-02-22T01:32:08.7646037Z     When visiting the index page
2024-02-22T01:32:08.7647220Z       When filtering on the index page
2024-02-22T01:32:09.6072568Z         User can filter the #index by vendor
2024-02-22T01:32:10.4411386Z         User can filter the #index by storage location
2024-02-22T01:32:10.4411979Z         behaves like Date Range Picker
2024-02-22T01:32:10.4412808Z           when choosing a date range that only includes the previous week
2024-02-22T01:32:11.3782892Z             shows only 1 record
2024-02-22T01:32:11.3783673Z           when choosing 'All Time'
2024-02-22T01:32:12.3395819Z             shows all the records
2024-02-22T01:32:12.3396755Z           when choosing 'Last Month'
2024-02-22T01:32:13.2673927Z             shows only 2 of the records
2024-02-22T01:32:13.2674830Z       In the middle of the year
2024-02-22T01:32:14.0117739Z         User sees total purchases value
2024-02-22T01:32:14.7629774Z         User can click to the new purchase form
2024-02-22T01:32:15.5137843Z         User sees purchased date column
2024-02-22T01:32:15.5138954Z     When visiting an existing purchase
2024-02-22T01:32:15.9879377Z       does not allow deletion of a purchase
2024-02-22T01:32:15.9881077Z 
2024-02-22T01:32:15.9881329Z User account management
2024-02-22T01:32:15.9882773Z   when not in staging
2024-02-22T01:32:16.8574667Z     should change an user name
2024-02-22T01:32:17.7262552Z     should change the email
2024-02-22T01:32:18.4555591Z     should fail when the email is invalid
2024-02-22T01:32:18.4556064Z   when in staging
2024-02-22T01:32:18.9201648Z     should display staging warning
2024-02-22T01:32:19.3807085Z     should not allow the user to change staging credentials
2024-02-22T01:32:19.4098566Z W, [2024-02-21T17:32:19.409628 #2384]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-02-22T01:32:19.4100352Z W, [2024-02-21T17:32:19.409675 #2384]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-22T01:32:19.4164676Z W, [2024-02-21T17:32:19.409691 #2384]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-22T01:32:19.4167607Z W, [2024-02-21T17:32:19.409714 #2384]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-02-22T01:32:19.4168801Z 
2024-02-22T01:32:19.4169186Z Finished in 4 minutes 4.3 seconds (files took 8.27 seconds to load)
2024-02-22T01:32:19.4169956Z 235 examples, 0 failures
2024-02-22T01:32:19.4170261Z 
2024-02-22T01:32:19.4170428Z Randomized with seed 37285
2024-02-22T01:32:19.4170743Z 
2024-02-22T01:32:19.7201095Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3819 / 6403 LOC (59.64%) covered.
2024-02-22T01:32:20.2656789Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10651 LOC (0.36%) covered.
