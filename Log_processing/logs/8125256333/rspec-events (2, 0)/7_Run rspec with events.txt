2024-03-02T20:31:53.1811385Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-02T20:31:53.1812660Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-02T20:31:53.1841020Z shell: /usr/bin/bash -e {0}
2024-03-02T20:31:53.1841444Z env:
2024-03-02T20:31:53.1841821Z   POSTGRES_HOST: localhost
2024-03-02T20:31:53.1842205Z   DATABASE_HOST: localhost
2024-03-02T20:31:53.1842610Z   PG_USERNAME: postgres
2024-03-02T20:31:53.1843046Z   PG_PASSWORD: password
2024-03-02T20:31:53.1843440Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-02T20:31:53.1843816Z   POSTGRES_PORT: 5432
2024-03-02T20:31:53.1844256Z   PGHOST: localhost
2024-03-02T20:31:53.1844615Z   PGUSER: postgres
2024-03-02T20:31:53.1845028Z   RAILS_ENV: test
2024-03-02T20:31:53.1845617Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: ***
2024-03-02T20:31:53.1846098Z   KNAPSACK_PRO_CI_NODE_TOTAL: 2
2024-03-02T20:31:53.1846573Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-03-02T20:31:53.1847030Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-02T20:31:53.1847628Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-02T20:31:53.1848295Z   KNAPSACK_PRO_TEST_FILE_EXCLUDE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-02T20:31:53.1849162Z   EVENTS_READ: true
2024-03-02T20:31:53.1849574Z ##[endgroup]
2024-03-02T20:32:02.8676306Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/models/organization_spec.rb" "spec/services/allocate_kit_inventory_service_spec.rb" "spec/queries/low_inventory_query_spec.rb" "spec/services/distribution_destroy_service_spec.rb" "spec/services/deallocate_kit_inventory_service_spec.rb" "spec/models/storage_location_spec.rb" "spec/services/reports/adult_incontinence_report_service_spec.rb" "spec/queries/items_in_query_spec.rb" "spec/services/reports/children_served_report_service_spec.rb" "spec/services/add_role_service_spec.rb" "spec/controllers/items_controller_spec.rb" "spec/models/donation_spec.rb" "spec/models/transfer_spec.rb" "spec/models/adjustment_spec.rb" "spec/controllers/application_controller_spec.rb" "spec/services/item_create_service_spec.rb" "spec/services/reports/other_products_report_service_spec.rb" "spec/controllers/donations_controller_spec.rb" "spec/models/purchase_spec.rb" "spec/services/exports/export_distributions_csv_service_spec.rb" "spec/controllers/distributions_controller_spec.rb" "spec/services/itemizable_update_service_spec.rb" "spec/services/user_invite_service_spec.rb" "spec/models/product_drive_participant_spec.rb" "spec/services/donation_itemized_breakdown_service_spec.rb" "spec/services/exports/export_request_service_spec.rb" "spec/services/calendar_service_spec.rb" "spec/jobs/historical_data_cache_job_spec.rb" "spec/services/distributions_by_county_report_service_spec.rb" "spec/services/historical_trend_service_spec.rb" "spec/services/partners/request_create_service_spec.rb" "spec/models/line_item_spec.rb" "spec/mailers/account_request_mailer_spec.rb" "spec/services/partners/family_request_create_service_spec.rb" "spec/models/donation_site_spec.rb" "spec/models/user_spec.rb" "spec/services/distribution_reminder_spec.rb" "spec/models/partners/profile_spec.rb" "spec/pdfs/distribution_pdf_spec.rb" "spec/mailers/user_mailer_spec.rb" "spec/queries/items_out_total_query_spec.rb" "spec/services/exports/export_donations_csv_service_spec.rb" "spec/mailers/partner_mailer_spec.rb" "spec/services/partner_invite_service_spec.rb" "spec/models/broadcast_announcement_spec.rb" "spec/services/partner_fetch_requestable_items_service_spec.rb" "spec/services/partners/update_family_spec.rb" "spec/models/organization_stats_spec.rb" "spec/models/item_category_spec.rb" "spec/models/inventory_item_spec.rb" "spec/services/requests_total_items_service_spec.rb" "spec/models/base_item_spec.rb" "spec/jobs/notify_partner_job_spec.rb" "spec/models/partners/child_spec.rb" "spec/services/deadline_service_spec.rb" "spec/models/ndbn_member_spec.rb" "spec/jobs/reminder_deadline_job_spec.rb" "spec/models/role_spec.rb" "spec/models/concerns/deadlinable_spec.rb" "spec/services/text_interpolator_service_spec.rb" "spec/helpers/ui_helper_spec.rb" "spec/lib/dispersed_past_dates_generator_spec.rb" "spec/services/exports/export_report_csv_service_spec.rb" "spec/models/county_spec.rb" "spec/controllers/admins_controller_spec.rb"
2024-03-02T20:32:11.3323793Z 
2024-03-02T20:32:11.3325020Z Randomized with seed 47347
2024-03-02T20:32:12.2860482Z 
2024-03-02T20:32:12.2861486Z DonationItemizedBreakdownService
2024-03-02T20:32:12.2862594Z   #fetch
2024-03-02T20:32:12.7360068Z     return the list of items donated with distributed
2024-03-02T20:32:12.7360963Z 
2024-03-02T20:32:12.7361228Z AccountRequestMailer
2024-03-02T20:32:12.7361980Z   #confirmation
2024-03-02T20:32:12.7617253Z     should have the correct subject
2024-03-02T20:32:12.7737299Z     should be from no-reply@humanessentials.app
2024-03-02T20:32:12.7854309Z     should be sent to the specified account_request email
2024-03-02T20:32:12.7855588Z     when the account_request_id provided does not match any AccountRequest
2024-03-02T20:32:12.7919484Z       should trigger raise a ActiveRecord::RecordNotFound error
2024-03-02T20:32:12.7920444Z     Text format
2024-03-02T20:32:12.8048901Z       should include the staging/demo account information
2024-03-02T20:32:12.8191138Z       should include the instruction video link
2024-03-02T20:32:12.8310246Z       should include the button to confirm the request
2024-03-02T20:32:12.8311099Z     HTML format
2024-03-02T20:32:12.8429238Z       should include the staging/demo account information
2024-03-02T20:32:12.8544112Z       should include the button to confirm the request
2024-03-02T20:32:12.8652058Z       should include the instruction video link
2024-03-02T20:32:12.8653005Z   #rejection
2024-03-02T20:32:12.8769632Z     should include the rejection reason
2024-03-02T20:32:12.8872978Z     should be sent to the correct email address
2024-03-02T20:32:12.8976426Z     should have the correct subject
2024-03-02T20:32:12.8977696Z     when the account_request_id provided does not match any AccountRequest
2024-03-02T20:32:12.9020646Z       should trigger raise a ActiveRecord::RecordNotFound error
2024-03-02T20:32:12.9021513Z   #approval_request
2024-03-02T20:32:12.9296308Z     should include details of the account request
2024-03-02T20:32:12.9418867Z     should include the admin link to reject the organization
2024-03-02T20:32:12.9655467Z     should include the admin link to create the new organization from the account request
2024-03-02T20:32:12.9781121Z     should have the correct subject
2024-03-02T20:32:12.9906055Z     should be sent to the info@humanessentials.app email address
2024-03-02T20:32:12.9906858Z     when the account_request_id provided does not match any AccountRequest
2024-03-02T20:32:12.9952022Z       should trigger raise a ActiveRecord::RecordNotFound error
2024-03-02T20:32:12.9952957Z 
2024-03-02T20:32:12.9953335Z DeallocateKitInventoryService
2024-03-02T20:32:12.9954631Z   #deallocate
2024-03-02T20:32:12.9955298Z     when inventory items are available
2024-03-02T20:32:12.9957096Z       when  decrease_by is equal to kit's quantity in inventory_in
2024-03-02T20:32:13.3464418Z         increases the quantity of the loose items contained in the kit and decrease kit quantity, and delete inventory_in and inventory_out
2024-03-02T20:32:13.3466092Z       when decrease_by is greater then kit's quantity in inventory_in
2024-03-02T20:32:13.6452660Z         raises error about inconsistent inventory in or out
2024-03-02T20:32:13.6453818Z       when decrease_by is less then kit's quantity in inventory_in
2024-03-02T20:32:13.9712677Z         will add items in inventory_out and remove kits for decrease_by from inventory_in
2024-03-02T20:32:13.9714408Z       when kit_allocation not exist for inventory_in or inventory_out
2024-03-02T20:32:14.2448221Z         raises error about KitAllocation not found
2024-03-02T20:32:14.2449430Z   #error
2024-03-02T20:32:14.2450449Z     when the storage location organization doesn't match
2024-03-02T20:32:14.4802384Z       returns error
2024-03-02T20:32:14.4802848Z 
2024-03-02T20:32:14.4803183Z Partners::FamilyRequestCreateService
2024-03-02T20:32:14.4803976Z   #call
2024-03-02T20:32:14.4804856Z     when the arguments are correct
2024-03-02T20:32:14.4805661Z       with children
2024-03-02T20:32:14.6474577Z         should create the appropriate organization Request, Partners::ItemRequest and Partners::ChildItemRequests
2024-03-02T20:32:14.6476254Z       without children
2024-03-02T20:32:14.6810158Z         should send the correct request payload to the Partners::RequestCreateService and call it
2024-03-02T20:32:14.6813699Z     when the arguments are incorrect
2024-03-02T20:32:14.6814640Z       because no family_requests_attributes were defined
2024-03-02T20:32:14.7068471Z         should return the Partners::FamilyRequestCreateService object with an error
2024-03-02T20:32:14.7069932Z       because a unrecognized item_id was provided
2024-03-02T20:32:14.7315959Z         should return the Partners::FamilyRequestCreateService object with an error
2024-03-02T20:32:14.7316867Z 
2024-03-02T20:32:14.7317114Z County
2024-03-02T20:32:14.7414001Z   is expected to have many served_areas
2024-03-02T20:32:14.7414777Z   versioning
2024-03-02T20:32:14.7450999Z     is expected to be versioned
2024-03-02T20:32:14.7451941Z 
2024-03-02T20:32:14.7452192Z TextInterpolatorService
2024-03-02T20:32:14.7453313Z   #call
2024-03-02T20:32:14.7489321Z     returns interpolated text
2024-03-02T20:32:14.7490148Z     when interpolations are not present
2024-03-02T20:32:14.7524788Z       returns text
2024-03-02T20:32:14.7525604Z     when text is nil
2024-03-02T20:32:14.7559187Z       returns nil
2024-03-02T20:32:14.7559802Z     when interpolations are empty
2024-03-02T20:32:14.7593593Z       returns text
2024-03-02T20:32:14.7594192Z     when text is empty
2024-03-02T20:32:14.7627466Z       returns empty string
2024-03-02T20:32:14.7628202Z     when interpolations are nil
2024-03-02T20:32:14.7662981Z       returns text
2024-03-02T20:32:14.7663858Z 
2024-03-02T20:32:14.7664099Z NDBNMember
2024-03-02T20:32:14.7665412Z   versioning
2024-03-02T20:32:14.7725668Z     is expected to be versioned
2024-03-02T20:32:14.7726181Z   #full_name
2024-03-02T20:32:14.7764071Z     should equal the id and the account name
2024-03-02T20:32:14.7764747Z   validations
2024-03-02T20:32:14.7840558Z     is expected to validate that :account_name cannot be empty/falsy
2024-03-02T20:32:14.7896767Z     is expected to validate that :ndbn_member_id cannot be empty/falsy
2024-03-02T20:32:14.7971120Z     is expected to validate that :ndbn_member_id is case-sensitively unique
2024-03-02T20:32:14.7971962Z 
2024-03-02T20:32:14.7972172Z ReminderDeadlineJob
2024-03-02T20:32:14.7972748Z   #perform
2024-03-02T20:32:14.8215101Z     should queue up reminder deadline emails for all partners that should be reminded
2024-03-02T20:32:14.8215831Z 
2024-03-02T20:32:14.8216024Z RequestsTotalItemsService
2024-03-02T20:32:14.8217078Z   #calculate
2024-03-02T20:32:14.8218911Z     when provided with requests that have no request items
2024-03-02T20:32:14.8322303Z       is expected to be blank
2024-03-02T20:32:14.8323345Z     when the request items is not blank
2024-03-02T20:32:14.8469264Z       return the names of items correctly
2024-03-02T20:32:14.8606985Z       return items with correct quantities calculated
2024-03-02T20:32:14.8607905Z     when provided requests is nil
2024-03-02T20:32:14.8643264Z       is expected to be blank
2024-03-02T20:32:14.8644042Z     when item name is nil
2024-03-02T20:32:14.8765203Z       return Unknown Item
2024-03-02T20:32:14.8765960Z 
2024-03-02T20:32:14.8766541Z Exports::ExportReportCSVService
2024-03-02T20:32:14.8767485Z   .generate_csv_data
2024-03-02T20:32:14.8805992Z     creates a CSV string
2024-03-02T20:32:14.8946594Z     creates CSV data including headers
2024-03-02T20:32:14.8947258Z 
2024-03-02T20:32:14.8947488Z UserInviteService
2024-03-02T20:32:14.8948649Z   with a new user
2024-03-02T20:32:15.1709457Z     should create the user with roles
2024-03-02T20:32:15.1710388Z   with existing user
2024-03-02T20:32:15.1805723Z     should raise an error when reinviting an existing user with the same role
2024-03-02T20:32:15.3737062Z     should add roles to existing user
2024-03-02T20:32:15.3737971Z     with force: true
2024-03-02T20:32:15.3955138Z       should reinvite the user
2024-03-02T20:32:15.3955987Z 
2024-03-02T20:32:15.3956280Z ItemizableUpdateService
2024-03-02T20:32:15.3957326Z   increases
2024-03-02T20:32:15.5488426Z     should update quantity in same storage location
2024-03-02T20:32:15.6917086Z     should update quantity in different locations
2024-03-02T20:32:15.6917667Z   decreases
2024-03-02T20:32:15.8414638Z     should update quantity in different locations
2024-03-02T20:32:15.9902839Z     should update quantity in same storage location
2024-03-02T20:32:15.9903459Z 
2024-03-02T20:32:15.9905547Z ItemCreateService
2024-03-02T20:32:15.9906580Z   #call
2024-03-02T20:32:15.9907165Z     when there are no issues
2024-03-02T20:32:16.1619243Z       should execute the expected methods
2024-03-02T20:32:16.3364582Z       should return an OpenStruct with success? set to true and the item
2024-03-02T20:32:16.3365956Z     when an issue occurs in transaction
2024-03-02T20:32:16.3367122Z       because a inventory item creation failed and raised an error
2024-03-02T20:32:16.5109915Z         should return a OpenStruct with the raised error
2024-03-02T20:32:16.5110914Z       because the organization_id does not match any Organization
2024-03-02T20:32:16.6807201Z         should return a OpenStruct with an ActiveRecord::RecordNotFound error
2024-03-02T20:32:16.6807949Z       because the item create raised an error
2024-03-02T20:32:16.8596925Z         should return a OpenStruct with the raised error
2024-03-02T20:32:16.8598091Z 
2024-03-02T20:32:16.8598422Z Transfer
2024-03-02T20:32:16.8600007Z   behaves like itemizable
2024-03-02T20:32:16.8600741Z     .to_a
2024-03-02T20:32:16.8601693Z       with Flipper flag :deprecate_to_a disabled
2024-03-02T20:32:16.9038597Z         calls line_item_values
2024-03-02T20:32:16.9039119Z       with Flipper flag :deprecate_to_a enabled
2024-03-02T20:32:16.9392184Z         raises an error
2024-03-02T20:32:16.9393054Z     .line_items
2024-03-02T20:32:16.9394129Z       combine!
2024-03-02T20:32:16.9866480Z         combines multiple line_items with the same item_id into a single record
2024-03-02T20:32:17.0127149Z         incrementally combines line_items on donations that have already been created
2024-03-02T20:32:17.0645875Z       quantities_by_name
2024-03-02T20:32:17.0647139Z         leaves out zero-quantitied items if requested
2024-03-02T20:32:17.1116640Z         returns a hash of items with id, name, and quantity
2024-03-02T20:32:17.1117500Z       total
2024-03-02T20:32:17.1618563Z         has an item total
2024-03-02T20:32:17.1619275Z       sorted
2024-03-02T20:32:17.2312710Z         displays the items, sorted by name
2024-03-02T20:32:17.2313634Z   Scopes >
2024-03-02T20:32:17.2526195Z     `to_location` can filter out transfers to a specific location
2024-03-02T20:32:17.2745519Z     `from_location` can filter out transfers from a specific location
2024-03-02T20:32:17.2746483Z   versioning
2024-03-02T20:32:17.2779881Z     is expected to be versioned
2024-03-02T20:32:17.2780663Z   Validations >
2024-03-02T20:32:17.3429927Z     requires that the line items must have sufficient quantity in the inventory
2024-03-02T20:32:17.3551875Z     must have storage locations set
2024-03-02T20:32:17.3670793Z     must have different storage locations
2024-03-02T20:32:17.5508869Z     must only use storage locations that belong to the organization (no hacks!)
2024-03-02T20:32:17.5589151Z     must belong to an organization
2024-03-02T20:32:17.5825300Z     requires that each line item exists in the inventory
2024-03-02T20:32:17.5826356Z   Methods >
2024-03-02T20:32:17.7905169Z     `self.storage_locations_transferred_to` and `..._from` constrains appropriately
2024-03-02T20:32:17.7906120Z 
2024-03-02T20:32:17.7906399Z User
2024-03-02T20:32:17.7976920Z   has a valid factory
2024-03-02T20:32:17.7977589Z   Scopes >
2024-03-02T20:32:17.7978559Z     ->alphabetized
2024-03-02T20:32:17.8227172Z       retrieves users in the correct order
2024-03-02T20:32:17.8228087Z   Validations >
2024-03-02T20:32:17.8434218Z     requires an email that is formatted correctly
2024-03-02T20:32:17.8526363Z     requires a name
2024-03-02T20:32:17.8526915Z   Methods >
2024-03-02T20:32:17.9036014Z     #kind
2024-03-02T20:32:17.9134361Z     #reinvitable?
2024-03-02T20:32:17.9186944Z     discarded?
2024-03-02T20:32:17.9267801Z     #invitation_status
2024-03-02T20:32:17.9268594Z   omniauth
2024-03-02T20:32:17.9415572Z     retrieves the user from an omniauth context
2024-03-02T20:32:17.9416436Z   versioning
2024-03-02T20:32:17.9452783Z     is expected to be versioned
2024-03-02T20:32:17.9453595Z   Scopes >
2024-03-02T20:32:17.9456357Z     ->alphabetized
2024-03-02T20:32:17.9860746Z       retrieves users in the correct order
2024-03-02T20:32:17.9861789Z 
2024-03-02T20:32:17.9862055Z OrganizationStats
2024-03-02T20:32:17.9863343Z   storage_locations_added method >
2024-03-02T20:32:17.9864340Z     current org is nil >
2024-03-02T20:32:17.9903434Z       should return 0
2024-03-02T20:32:17.9904058Z     current org is not nil >
2024-03-02T20:32:17.9940410Z       should return actual count of locations
2024-03-02T20:32:17.9941073Z   donation_sites_added method >
2024-03-02T20:32:17.9942097Z     current org is not nil >
2024-03-02T20:32:17.9980271Z       should return actual count of donation sites
2024-03-02T20:32:17.9981187Z     current org is nil >
2024-03-02T20:32:18.0017963Z       should return 0
2024-03-02T20:32:18.0018658Z   partners_added method >
2024-03-02T20:32:18.0019486Z     current org is not nil >
2024-03-02T20:32:18.0057009Z       should return actual count of partners
2024-03-02T20:32:18.0057850Z     current org is nil >
2024-03-02T20:32:18.0091153Z       should return 0
2024-03-02T20:32:18.0092247Z   locations_with_inventory method >
2024-03-02T20:32:18.0093216Z     current org is nil >
2024-03-02T20:32:18.0130549Z       should return an empty array
2024-03-02T20:32:18.0131822Z     current org is not nil + locations have items >
2024-03-02T20:32:18.0493627Z       should return storage location
2024-03-02T20:32:18.0494844Z     current org is not nil + no locations have items >
2024-03-02T20:32:18.0567049Z       should return an empty array
2024-03-02T20:32:18.0567848Z 
2024-03-02T20:32:18.0568191Z DistributionReminder
2024-03-02T20:32:18.0569494Z   conditionally sending the emails
2024-03-02T20:32:18.0882699Z     sends mail for future distributions where the partner wants reminders
2024-03-02T20:32:18.1179087Z     sends mail for future distributions
2024-03-02T20:32:18.1466261Z     does not send mail for past distributions
2024-03-02T20:32:18.1754472Z     does not send mail for future distributions if the partner wants no reminders
2024-03-02T20:32:18.1755735Z     when the distribution_id does not match any Distribution
2024-03-02T20:32:18.1800853Z       does not send mail for non existent distributions
2024-03-02T20:32:18.1801726Z     when the partner is deactivated
2024-03-02T20:32:18.2110241Z       does not send mail
2024-03-02T20:32:18.2110741Z 
2024-03-02T20:32:18.2111138Z Exports::ExportDonationsCSVService
2024-03-02T20:32:18.2112012Z   #generate_csv_data
2024-03-02T20:32:18.3348776Z     should match the expected content for the csv
2024-03-02T20:32:18.3349458Z 
2024-03-02T20:32:18.3349749Z AllocateKitInventoryService
2024-03-02T20:32:18.3350382Z   #error
2024-03-02T20:32:18.3351940Z     when the Store location organization doesn't match
2024-03-02T20:32:18.5747318Z       returns error
2024-03-02T20:32:18.5747920Z   #allocate
2024-03-02T20:32:18.5749064Z     when more than one kit is requested
2024-03-02T20:32:18.5749986Z       but one of the items is out of stock
2024-03-02T20:32:18.8490202Z         returns error and does not change kit or item quantity
2024-03-02T20:32:18.8491385Z     when inventory items are available
2024-03-02T20:32:19.1440934Z       allocates items, increases the quantity of the Kit Item and inventory in, and decreases inventory out
2024-03-02T20:32:19.1441975Z       When kit is allocated more then once
2024-03-02T20:32:19.4420091Z         increases the already existed inventory in and decreases the already existed inventory out
2024-03-02T20:32:19.4421202Z       when there are more then one line items
2024-03-02T20:32:19.4421774Z         when there kit is allocated once
2024-03-02T20:32:19.7181880Z           inventory out for that kit contains both line_items with their respective quantity
2024-03-02T20:32:19.7183412Z         when same kit is allocated multiple times
2024-03-02T20:32:20.0335369Z           inventory out for that kit contains both line_items with their respective quantity
2024-03-02T20:32:20.0337949Z 
2024-03-02T20:32:20.0338234Z Role
2024-03-02T20:32:20.0376605Z   is expected to accepts_nested_attributes_for :users
2024-03-02T20:32:20.0377415Z   Associations
2024-03-02T20:32:20.0440060Z     is expected to have and belong to many users
2024-03-02T20:32:20.0480365Z     is expected to belong to resource optional: true
2024-03-02T20:32:20.0481181Z   versioning
2024-03-02T20:32:20.0517273Z     is expected to be versioned
2024-03-02T20:32:20.0517829Z   Validations
2024-03-02T20:32:20.0568816Z     is expected to validate that :resource_type is either ‹"Organization"› or ‹"Partner"›
2024-03-02T20:32:20.0569511Z 
2024-03-02T20:32:20.0569687Z Exports::ExportRequestService
2024-03-02T20:32:20.0570240Z   .generate_csv_data
2024-03-02T20:32:20.2551572Z     includes rows for each request with correct columns of item quantity
2024-03-02T20:32:20.4530948Z     includes headers as the first row with ordered item names alphabetically with deleted item included at the end
2024-03-02T20:32:20.4532307Z 
2024-03-02T20:32:20.4532584Z ItemCategory
2024-03-02T20:32:20.4533053Z   versioning
2024-03-02T20:32:20.4611090Z     is expected to be versioned
2024-03-02T20:32:20.4612044Z   validations
2024-03-02T20:32:20.4808594Z     is expected to validate that :name is case-sensitively unique within the scope of :organization_id
2024-03-02T20:32:20.4929117Z     is expected to validate that :organization cannot be empty/falsy
2024-03-02T20:32:20.5012404Z     is expected to validate that the length of :description is at most 250
2024-03-02T20:32:20.5101273Z     is expected to validate that :name cannot be empty/falsy
2024-03-02T20:32:20.5102201Z   assocations
2024-03-02T20:32:20.5165155Z     is expected to have and belong to many partner_groups
2024-03-02T20:32:20.5217742Z     is expected to belong to organization required: true
2024-03-02T20:32:20.5255773Z     is expected to have many items
2024-03-02T20:32:20.5256327Z 
2024-03-02T20:32:20.5256596Z HistoricalDataCacheJob
2024-03-02T20:32:20.7163592Z   caches the historical data
2024-03-02T20:32:20.8906108Z   queues the job
2024-03-02T20:32:20.8906835Z 
2024-03-02T20:32:20.8907073Z LowInventoryQuery
2024-03-02T20:32:21.0658174Z   is expected to eq []
2024-03-02T20:32:21.0659010Z   with inventory items
2024-03-02T20:32:21.2484647Z     is expected to eq []
2024-03-02T20:32:21.2485625Z     when minimum_quantity is equal to quantity
2024-03-02T20:32:21.4320626Z       is expected to eq []
2024-03-02T20:32:21.4321438Z     when inventory quantity is over minimum quantity
2024-03-02T20:32:21.6169976Z       is expected to eq []
2024-03-02T20:32:21.6170692Z     when inventory quantity drops below recommended quantity
2024-03-02T20:32:21.8003632Z       is expected to include #<InventoryItem id: 75, storage_location_id: 113, item_id: 1468, quantity: 100, created_at: "2024-03-02 12:32:21.796227849 -0800", updated_at: "2024-03-02 12:32:21.796227849 -0800">
2024-03-02T20:32:21.8005153Z     when inventory quantity drops below minimum quantity
2024-03-02T20:32:21.9804830Z       is expected to include #<InventoryItem id: 76, storage_location_id: 114, item_id: 1514, quantity: 100, created_at: "2024-03-02 12:32:21.976350522 -0800", updated_at: "2024-03-02 12:32:21.976350522 -0800">
2024-03-02T20:32:21.9807080Z     when inventory quantity equals recommended quantity
2024-03-02T20:32:22.1586417Z       is expected to eq []
2024-03-02T20:32:22.1587127Z     when minimum_quantity and recommended_quantity is nil
2024-03-02T20:32:22.3398052Z       is expected to eq []
2024-03-02T20:32:22.3399321Z     when minimum_quantity is 0 and recommended_quantity is nil and item quantity is 0
2024-03-02T20:32:22.5224763Z       is expected to eq []
2024-03-02T20:32:22.5225631Z 
2024-03-02T20:32:22.5226032Z Partners::UpdateFamily
2024-03-02T20:32:22.5227102Z   #call
2024-03-02T20:32:22.5227973Z     when family has children
2024-03-02T20:32:22.5657599Z       archives the family and its children
2024-03-02T20:32:22.5658340Z     when an error occurs during archiving
2024-03-02T20:32:22.6027682Z       does not archive the family or its children and adds error to the service
2024-03-02T20:32:22.6028585Z 
2024-03-02T20:32:22.6031316Z ItemsInQuery
2024-03-02T20:32:22.6032066Z   items_in
2024-03-02T20:32:22.9894809Z     does not count transfers going in the negative direction
2024-03-02T20:32:23.2735775Z     returns a collection with the fields name, item_id, quantity
2024-03-02T20:32:23.5568681Z     includes donations, purchases, adjustments, transfers among sources
2024-03-02T20:32:24.0609002Z     does not count negative adjustments towards in-flow
2024-03-02T20:32:24.0609773Z 
2024-03-02T20:32:24.0609986Z InventoryItem
2024-03-02T20:32:24.0649507Z   initializes the quantity to 0 if it was not specified
2024-03-02T20:32:24.0650445Z   Filtering >
2024-03-02T20:32:24.0651146Z     ->by_partner_key
2024-03-02T20:32:24.0785896Z       shows the Base Items by partner_key
2024-03-02T20:32:24.0786627Z   versioning
2024-03-02T20:32:24.0825008Z     is expected to be versioned
2024-03-02T20:32:24.0827047Z   Validations >
2024-03-02T20:32:24.0873264Z     requires an item
2024-03-02T20:32:24.0923344Z     requires an inventory association
2024-03-02T20:32:24.0924128Z     quantity >
2024-03-02T20:32:24.0983399Z       is required
2024-03-02T20:32:24.1039962Z       is numerical
2024-03-02T20:32:24.1097671Z       is less than the max integer
2024-03-02T20:32:24.1242287Z       is gte 0
2024-03-02T20:32:24.1243516Z 
2024-03-02T20:32:24.1243793Z DistributionsController
2024-03-02T20:32:24.1244666Z   While signed in
2024-03-02T20:32:24.1245644Z     POST #create
2024-03-02T20:32:24.1247100Z       when line item quantity is not positive
2024-03-02T20:32:24.1923253Z         flashes an error
2024-03-02T20:32:24.1924208Z       multiple line_items that have inventory quantity below minimum quantity
2024-03-02T20:32:24.2829614Z         redirects with a flash notice and a flash error
2024-03-02T20:32:24.2830664Z       when distribution causes inventory quantity to be below minimum quantity
2024-03-02T20:32:24.3543357Z         redirects with a flash notice and a flash error
2024-03-02T20:32:24.3544378Z       multiple line_items that have inventory quantity below recommended quantity
2024-03-02T20:32:24.4368042Z         redirects with a flash notice and a flash alert
2024-03-02T20:32:24.4368901Z     PUT #update
2024-03-02T20:32:24.4369992Z       when distribution causes inventory quantity to be below recommended quantity
2024-03-02T20:32:24.5516459Z         redirects with a flash notice and a flash error
2024-03-02T20:32:24.5517659Z       when distribution causes inventory quantity to be below minimum quantity
2024-03-02T20:32:24.6616661Z         redirects with a flash notice and a flash error
2024-03-02T20:32:24.6617346Z       when distribution has items updated for minimum quantity
2024-03-02T20:32:24.8028799Z         redirects with a flash notice and send send_notification
2024-03-02T20:32:24.8029772Z 
2024-03-02T20:32:24.8030003Z DistributionPdf
2024-03-02T20:32:24.8708559Z   #request_data
2024-03-02T20:32:24.9285029Z   #non_request_data
2024-03-02T20:32:24.9285836Z 
2024-03-02T20:32:24.9286077Z HistoricalTrendService
2024-03-02T20:32:24.9287124Z   #series
2024-03-02T20:32:25.2174421Z     returns an array of items with their monthly data
2024-03-02T20:32:25.2177095Z 
2024-03-02T20:32:25.2177374Z ItemsController
2024-03-02T20:32:25.2178668Z   While not signed in
2024-03-02T20:32:25.2267903Z     redirects the user to the sign-in page for CRUD actions
2024-03-02T20:32:25.2268834Z   While signed in
2024-03-02T20:32:25.2270003Z     Looking at a different organization
2024-03-02T20:32:25.4069807Z       redirects the user to the sign-in page for CRUD actions
2024-03-02T20:32:25.4070916Z     DELETE #destroy
2024-03-02T20:32:25.4357729Z       redirects to #index
2024-03-02T20:32:25.4358410Z     POST #create
2024-03-02T20:32:25.4359199Z       with valid params
2024-03-02T20:32:25.4547849Z         should create an item
2024-03-02T20:32:25.4721129Z         should accept params with dollar signs, periods, and commas
2024-03-02T20:32:25.4898154Z         should redirect to the item page
2024-03-02T20:32:25.5052946Z       with invalid params
2024-03-02T20:32:25.5053884Z         should show an error
2024-03-02T20:32:25.5054578Z     PATCH #restore
2024-03-02T20:32:25.5055161Z       with another organizations item
2024-03-02T20:32:25.7053311Z         does nothing
2024-03-02T20:32:25.7054356Z       with a soft-deleted item
2024-03-02T20:32:25.7273092Z         re-activates the item
2024-03-02T20:32:25.7273994Z       with an active item
2024-03-02T20:32:25.7481361Z         does nothing
2024-03-02T20:32:25.7481958Z     GET #new
2024-03-02T20:32:25.7591974Z       returns http success
2024-03-02T20:32:25.7592800Z     GET #index
2024-03-02T20:32:25.7762761Z       returns http success
2024-03-02T20:32:25.7763590Z     PATCH #remove_category
2024-03-02T20:32:25.9709747Z       should redirect to the previous category page
2024-03-02T20:32:26.1689611Z       should remove an item's category
2024-03-02T20:32:26.1690423Z     GET #show
2024-03-02T20:32:26.1878843Z       returns http success
2024-03-02T20:32:26.1879527Z     PUT #update
2024-03-02T20:32:26.1882712Z       invisible
2024-03-02T20:32:26.2079482Z         should update visible_to_partners to false
2024-03-02T20:32:26.2080314Z       visible
2024-03-02T20:32:26.2278709Z         should update visible_to_partners to true
2024-03-02T20:32:26.2279537Z     GET #edit
2024-03-02T20:32:26.2433826Z       returns http success
2024-03-02T20:32:26.2434593Z 
2024-03-02T20:32:26.2434975Z UiHelper
2024-03-02T20:32:26.2436622Z   optional_data_text
2024-03-02T20:32:26.2437558Z     when the field provided is not blank
2024-03-02T20:32:26.2486555Z       should return the content
2024-03-02T20:32:26.2487459Z     when the field provided is blank
2024-03-02T20:32:26.2530106Z       should return the text Not-Provided in gray text
2024-03-02T20:32:26.2530839Z 
2024-03-02T20:32:26.2531203Z Partners::RequestCreateService
2024-03-02T20:32:26.2532212Z   #call
2024-03-02T20:32:26.2533197Z     when the arguments are correct
2024-03-02T20:32:26.2892911Z       should have no errors
2024-03-02T20:32:26.3251738Z       should notify the Partner via email
2024-03-02T20:32:26.3616900Z       should create a Request record
2024-03-02T20:32:26.3618008Z       but a unexpected error occured during the save
2024-03-02T20:32:26.3618906Z         for the Request record
2024-03-02T20:32:26.4027384Z           should NOT notify the Partner via email
2024-03-02T20:32:26.4391928Z           should have an error with the raised error
2024-03-02T20:32:26.4755050Z           should NOT create a Request record
2024-03-02T20:32:26.4755935Z     when the arguments are incorrect
2024-03-02T20:32:26.4757228Z       because no item_requests_attributes and comments were defined
2024-03-02T20:32:26.5023755Z         should return the Request object with an error
2024-03-02T20:32:26.5024722Z       because a unrecogonized item_id was provided
2024-03-02T20:32:26.5323889Z         should return the Request object with an error
2024-03-02T20:32:26.5325463Z 
2024-03-02T20:32:26.5325817Z Purchase
2024-03-02T20:32:26.5327894Z   versioning
2024-03-02T20:32:26.5365138Z     is expected to be versioned
2024-03-02T20:32:26.5365907Z   Methods >
2024-03-02T20:32:26.5366609Z     remove
2024-03-02T20:32:26.6078976Z       removes the item from the purchase
2024-03-02T20:32:26.6792038Z       fails gracefully if the item doesn't exist
2024-03-02T20:32:26.6792860Z     storage_view
2024-03-02T20:32:26.7455264Z       returns name of storage location
2024-03-02T20:32:26.7456211Z   Validations >
2024-03-02T20:32:26.7544486Z     ensures that the issued at is no earlier than 2000
2024-03-02T20:32:26.7622058Z     must belong to an organization
2024-03-02T20:32:26.7801672Z     is not valid if any category is non-zero but does not add up to the total
2024-03-02T20:32:26.7892285Z     is valid if all categories add up to total
2024-03-02T20:32:26.7976614Z     is valid if categories have no values
2024-03-02T20:32:26.8155238Z     is invalid when the line items are invalid
2024-03-02T20:32:26.8245322Z     is not valid if period supplies is non-zero but no other category is
2024-03-02T20:32:26.8331184Z     is not valid if categories do not add up
2024-03-02T20:32:26.8408020Z     requires an inventory (storage location)
2024-03-02T20:32:26.8409039Z   Callbacks >
2024-03-02T20:32:26.8595184Z     automatically combines duplicate line_item records when they're created
2024-03-02T20:32:26.8766732Z     inititalizes the issued_at field to default to midnight if it wasn't explicitly set
2024-03-02T20:32:26.8767990Z   behaves like itemizable
2024-03-02T20:32:26.8768585Z     .to_a
2024-03-02T20:32:26.8769175Z       with Flipper flag :deprecate_to_a disabled
2024-03-02T20:32:26.9126046Z         calls line_item_values
2024-03-02T20:32:26.9126803Z       with Flipper flag :deprecate_to_a enabled
2024-03-02T20:32:26.9473904Z         raises an error
2024-03-02T20:32:26.9474477Z     .line_items
2024-03-02T20:32:26.9475334Z       quantities_by_name
2024-03-02T20:32:26.9864261Z         leaves out zero-quantitied items if requested
2024-03-02T20:32:27.0239162Z         returns a hash of items with id, name, and quantity
2024-03-02T20:32:27.0240304Z       total
2024-03-02T20:32:27.0619996Z         has an item total
2024-03-02T20:32:27.0620669Z       sorted
2024-03-02T20:32:27.1225453Z         displays the items, sorted by name
2024-03-02T20:32:27.1226407Z       combine!
2024-03-02T20:32:27.1733028Z         incrementally combines line_items on donations that have already been created
2024-03-02T20:32:27.2162289Z         combines multiple line_items with the same item_id into a single record
2024-03-02T20:32:27.2163563Z   Scopes >
2024-03-02T20:32:27.2164037Z     during >
2024-03-02T20:32:27.2402716Z       returns all purchases created between two dates
2024-03-02T20:32:27.2403516Z   Associations >
2024-03-02T20:32:27.2403979Z     items >
2024-03-02T20:32:27.2588769Z       has_many
2024-03-02T20:32:27.2589823Z 
2024-03-02T20:32:27.2590143Z LineItem
2024-03-02T20:32:27.2591291Z   versioning
2024-03-02T20:32:27.2625174Z     is expected to be versioned
2024-03-02T20:32:27.2625846Z   package_count
2024-03-02T20:32:27.2810164Z     is equal to the quanity divided by the package_size
2024-03-02T20:32:27.2999227Z     is nil if there is no package_size
2024-03-02T20:32:27.2999955Z   Validations >
2024-03-02T20:32:27.3091763Z     requires an item
2024-03-02T20:32:27.3226170Z     requires a quantity
2024-03-02T20:32:27.4097079Z     the quantity must be a valid integer and cannot be 0
2024-03-02T20:32:27.4097875Z   Methods >
2024-03-02T20:32:27.4098348Z     item packages
2024-03-02T20:32:27.4099065Z       #has_packages
2024-03-02T20:32:27.4099801Z         item has package size
2024-03-02T20:32:27.4279435Z           is expected to be truthy
2024-03-02T20:32:27.4280145Z         item has no package size
2024-03-02T20:32:27.4408422Z           is expected to be falsy
2024-03-02T20:32:27.4409238Z       #package_count
2024-03-02T20:32:27.4409916Z         does not have packages
2024-03-02T20:32:27.4538813Z           is expected to be falsy
2024-03-02T20:32:27.4539615Z         has packages
2024-03-02T20:32:27.4713583Z           is expected to eq "1"
2024-03-02T20:32:27.4714265Z     #value_per_line_item
2024-03-02T20:32:27.4715240Z       item has no value
2024-03-02T20:32:27.4842913Z         is expected to eq 0
2024-03-02T20:32:27.4843676Z       item has value and quantity
2024-03-02T20:32:27.5020922Z         is expected to eq 25
2024-03-02T20:32:27.5021563Z   Scopes >
2024-03-02T20:32:27.5022732Z     ->active
2024-03-02T20:32:27.5347498Z       retrieves only those with active status
2024-03-02T20:32:27.5348163Z 
2024-03-02T20:32:27.5348755Z DistributionDestroyService
2024-03-02T20:32:27.5349688Z   #call
2024-03-02T20:32:27.5350406Z     when the distribution_id does match a Distribution
2024-03-02T20:32:27.5351573Z       and the destroy! operation fails
2024-03-02T20:32:27.7458753Z         should not delete the Distribution
2024-03-02T20:32:27.9555925Z         should not be successful and have the error message
2024-03-02T20:32:27.9556659Z       and the operations succeed
2024-03-02T20:32:28.1726753Z         should destroy the Distribution
2024-03-02T20:32:28.3928484Z         should increase the inventory of the storage location
2024-03-02T20:32:28.6046592Z         should be successful
2024-03-02T20:32:28.6048573Z       and the increase inventory operations fails
2024-03-02T20:32:28.8189885Z         should not be successful and have the error message
2024-03-02T20:32:29.0348783Z         should not delete the Distribution
2024-03-02T20:32:29.0349803Z     when the distribution_id matches no Distribution
2024-03-02T20:32:29.0392843Z       to not be a success
2024-03-02T20:32:29.0393528Z 
2024-03-02T20:32:29.0393781Z DeadlineService
2024-03-02T20:32:29.0394755Z   #next_deadline
2024-03-02T20:32:29.0395725Z     from the organization
2024-03-02T20:32:29.0396598Z       when the deadline is before today
2024-03-02T20:32:29.0507912Z         returns a date in the next month
2024-03-02T20:32:29.0509047Z       when the deadline is today
2024-03-02T20:32:29.0566066Z         returns a date in the next month
2024-03-02T20:32:29.0566964Z       when the deadline is after today
2024-03-02T20:32:29.0620692Z         returns a date within the current month
2024-03-02T20:32:29.0621547Z     do from the partner group
2024-03-02T20:32:29.0622474Z       when the deadline is after today
2024-03-02T20:32:29.0676369Z         returns a date within the current month
2024-03-02T20:32:29.0677108Z       when the deadline is before today
2024-03-02T20:32:29.0732537Z         returns a date in the next month
2024-03-02T20:32:29.0733377Z       when the deadline is today
2024-03-02T20:32:29.0787463Z         returns a date in the next month
2024-03-02T20:32:29.0789466Z 
2024-03-02T20:32:29.0789875Z Donation
2024-03-02T20:32:29.0791574Z   Callbacks >
2024-03-02T20:32:29.0952186Z     automatically combines duplicate line_item records when they're created
2024-03-02T20:32:29.1084297Z     inititalizes the issued_at field to default to midnight if it wasn't explicitly set
2024-03-02T20:32:29.1085406Z   behaves like itemizable
2024-03-02T20:32:29.1085937Z     .line_items
2024-03-02T20:32:29.1086634Z       combine!
2024-03-02T20:32:29.1594284Z         incrementally combines line_items on donations that have already been created
2024-03-02T20:32:29.2047625Z         combines multiple line_items with the same item_id into a single record
2024-03-02T20:32:29.2048825Z       sorted
2024-03-02T20:32:29.2592145Z         displays the items, sorted by name
2024-03-02T20:32:29.2593237Z       quantities_by_name
2024-03-02T20:32:29.2918006Z         returns a hash of items with id, name, and quantity
2024-03-02T20:32:29.3255842Z         leaves out zero-quantitied items if requested
2024-03-02T20:32:29.3256858Z       total
2024-03-02T20:32:29.3592450Z         has an item total
2024-03-02T20:32:29.3593161Z     .to_a
2024-03-02T20:32:29.3593896Z       with Flipper flag :deprecate_to_a disabled
2024-03-02T20:32:29.3928322Z         calls line_item_values
2024-03-02T20:32:29.3929190Z       with Flipper flag :deprecate_to_a enabled
2024-03-02T20:32:29.4253937Z         raises an error
2024-03-02T20:32:29.4254971Z   Validations >
2024-03-02T20:32:29.4321991Z     requires a source from the list of available sources
2024-03-02T20:32:29.4364735Z     requires an inventory (storage location)
2024-03-02T20:32:29.4414623Z     ensures that the issued at is no earlier than 2000
2024-03-02T20:32:29.4564993Z     requires a donation_site if the source is 'Donation Site'
2024-03-02T20:32:29.4707683Z     requires a product drive participant if the source is 'Product Drive'
2024-03-02T20:32:29.4848241Z     requires a manufacturer if the source is 'Manufacturer'
2024-03-02T20:32:29.4890789Z     must belong to an organization
2024-03-02T20:32:29.5032971Z     is invalid when the line items are invalid
2024-03-02T20:32:29.5033827Z   versioning
2024-03-02T20:32:29.5068168Z     is expected to be versioned
2024-03-02T20:32:29.5068864Z   Scopes >
2024-03-02T20:32:29.5069434Z     by_source >
2024-03-02T20:32:29.5070227Z       when source is not a symbol
2024-03-02T20:32:29.5071206Z         when source comes from the SOURCES hash
2024-03-02T20:32:29.5321636Z           returns all donations with the provided source
2024-03-02T20:32:29.5322558Z         when source is invalid
2024-03-02T20:32:29.5508561Z           does not throw errors, returns no results
2024-03-02T20:32:29.5509718Z       when source is a symbol
2024-03-02T20:32:29.5510521Z         when source is invalid
2024-03-02T20:32:29.5691263Z           does not throw errors, returns no results
2024-03-02T20:32:29.5692228Z         when source is valid
2024-03-02T20:32:29.5871119Z           allows a symbol as an argument, referencing the SOURCES hash
2024-03-02T20:32:29.5871994Z     during >
2024-03-02T20:32:29.6062816Z       returns all donations created between two dates
2024-03-02T20:32:29.6063445Z   Associations >
2024-03-02T20:32:29.6064010Z     items >
2024-03-02T20:32:29.6233952Z       has_many
2024-03-02T20:32:29.6234366Z   SOURCES
2024-03-02T20:32:29.6272569Z     is a hash that is referenceable by key to avoid 'magic strings'
2024-03-02T20:32:29.6308791Z     the hash is immutable
2024-03-02T20:32:29.6342849Z     the hash values are immutable
2024-03-02T20:32:29.6343622Z   Methods >
2024-03-02T20:32:29.6344353Z     source_view
2024-03-02T20:32:29.6345495Z       details
2024-03-02T20:32:29.6348873Z         donation site
2024-03-02T20:32:29.6458219Z           returns donation_site name
2024-03-02T20:32:29.6458893Z         manufacturer
2024-03-02T20:32:29.6575391Z           returns manufacturer name
2024-03-02T20:32:29.6576071Z         misc
2024-03-02T20:32:29.6663913Z           returns a truncated comment
2024-03-02T20:32:29.6664840Z         product drive
2024-03-02T20:32:29.6767103Z           returns product_drive name
2024-03-02T20:32:29.6767979Z       not from a drive
2024-03-02T20:32:29.6878456Z         returns source
2024-03-02T20:32:29.6879038Z       from a drive
2024-03-02T20:32:29.6879777Z         unknown participant
2024-03-02T20:32:29.6986633Z           returns drive display name
2024-03-02T20:32:29.6987360Z         participant known
2024-03-02T20:32:29.6988103Z           no contact name
2024-03-02T20:32:29.7112903Z             returns drive display name
2024-03-02T20:32:29.7113653Z           contact name present
2024-03-02T20:32:29.7238019Z             returns participant display name
2024-03-02T20:32:29.7238853Z     money_raised
2024-03-02T20:32:29.7900313Z       tracks the money raised in a donation
2024-03-02T20:32:29.7900901Z     remove
2024-03-02T20:32:29.8608475Z       removes the item from the donation
2024-03-02T20:32:29.9343188Z       fails gracefully if the item doesn't exist
2024-03-02T20:32:30.0009352Z       works with either an id or an object
2024-03-02T20:32:30.0009981Z 
2024-03-02T20:32:30.0010189Z Partners::Child
2024-03-02T20:32:30.0011326Z   associations
2024-03-02T20:32:30.0061681Z     is expected to belong to family required: true
2024-03-02T20:32:30.0099533Z     is expected to have many child_item_requests dependent => destroy
2024-03-02T20:32:30.0100155Z   versioning
2024-03-02T20:32:30.0137118Z     is expected to be versioned
2024-03-02T20:32:30.0137867Z   #display_name
2024-03-02T20:32:30.0441883Z     should return a child's first and last name
2024-03-02T20:32:30.0445223Z 
2024-03-02T20:32:30.0445486Z Organization
2024-03-02T20:32:30.0448068Z   versioning
2024-03-02T20:32:30.0486013Z     is expected to be versioned
2024-03-02T20:32:30.0486434Z   Associations >
2024-03-02T20:32:30.0523850Z     is expected to have many item_categories
2024-03-02T20:32:30.0561283Z     is expected to have many users through roles
2024-03-02T20:32:30.0608537Z     is expected to belong to ndbn_member class_name => NDBNMember optional: true
2024-03-02T20:32:30.0609291Z     distributions
2024-03-02T20:32:30.0609893Z       upcoming
2024-03-02T20:32:30.1339242Z         retrieves the distributions scheduled for this week that have not yet happened
2024-03-02T20:32:30.1339984Z     items
2024-03-02T20:32:30.1340814Z       .during.bottom
2024-03-02T20:32:32.1839875Z         return 3 least used items
2024-03-02T20:32:34.1623713Z         return just 3 elements
2024-03-02T20:32:34.1624502Z       .other
2024-03-02T20:32:36.1701878Z         returns all items for this organization designated 'other'
2024-03-02T20:32:36.1703219Z       .during.top
2024-03-02T20:32:38.1734464Z         return 3 most used items
2024-03-02T20:32:40.1786570Z         return just 3 elements
2024-03-02T20:32:40.1787152Z       .during
2024-03-02T20:32:42.1683858Z         return ranking of all items
2024-03-02T20:32:42.1684753Z     barcode_items
2024-03-02T20:32:42.3673796Z       returns only this organization's barcodes, no globals
2024-03-02T20:32:42.3674425Z       .all
2024-03-02T20:32:42.5549895Z         includes global barcode items also
2024-03-02T20:32:42.5551062Z     users
2024-03-02T20:32:42.5551754Z       when a organizaton has a user that has two roles
2024-03-02T20:32:42.7513650Z         should returns users without duplications
2024-03-02T20:32:42.7514857Z   from_email
2024-03-02T20:32:42.9472427Z     returns admin email when it's empty space
2024-03-02T20:32:43.1461681Z     returns admin email when it's empty
2024-03-02T20:32:43.3272875Z     returns email when present
2024-03-02T20:32:43.5206017Z     returns admin email when not present
2024-03-02T20:32:43.5207022Z   #assign_attributes_from_account_request
2024-03-02T20:32:43.5301401Z     should assign the proper attributes to the organization
2024-03-02T20:32:43.5302557Z   .seed_items
2024-03-02T20:32:43.5303132Z     when no organization is provided
2024-03-02T20:32:44.3442956Z       updates all organizations
2024-03-02T20:32:44.3443970Z     when provided with an organization to seed
2024-03-02T20:32:44.6726886Z       loads the base items into Item records
2024-03-02T20:32:44.6728066Z   #seed_items
2024-03-02T20:32:44.8551228Z     allows a single base item to be seeded
2024-03-02T20:32:45.0500155Z     allows a collection of items to be seeded
2024-03-02T20:32:45.0500885Z     when given an item that already exists
2024-03-02T20:32:45.2375688Z       gracefully skips the item
2024-03-02T20:32:45.2376837Z     when given an item name that already exists, but with an 'other' partner key
2024-03-02T20:32:45.4428772Z       updates the old item to use the new base item as its base
2024-03-02T20:32:45.4429459Z   #ordered_requests
2024-03-02T20:32:45.6360675Z     puts active requests before fulfilled requests
2024-03-02T20:32:45.6362036Z     ordering of requests with matching status
2024-03-02T20:32:45.8396457Z       puts the most recently updated request before older requests
2024-03-02T20:32:45.8397652Z   valid_items
2024-03-02T20:32:46.0246594Z     returns an array of item partner keys
2024-03-02T20:32:46.2140898Z     only shows active valid items
2024-03-02T20:32:46.2142036Z     with invisible items
2024-03-02T20:32:46.2475358Z       only shows active and visible items
2024-03-02T20:32:46.2476204Z   address
2024-03-02T20:32:46.2518967Z     does not add any separators after street when city, state, and zip are missing
2024-03-02T20:32:46.2555853Z     does not add any separators before the city when street is missing
2024-03-02T20:32:46.2590633Z     returns an empty string when the org has no address components
2024-03-02T20:32:46.2627337Z     does not add a trailing space when the zip code is missing
2024-03-02T20:32:46.2661587Z     correctly formats an address string with commas and spaces
2024-03-02T20:32:46.2662650Z   after_create
2024-03-02T20:32:46.2888818Z     should update the state of the account request
2024-03-02T20:32:46.2889485Z   deadline_day
2024-03-02T20:32:46.2998474Z     can only contain numbers 1-28
2024-03-02T20:32:46.2999195Z   geocode
2024-03-02T20:32:46.4842676Z     adds coordinates to the database
2024-03-02T20:32:46.4843394Z   reminder_day
2024-03-02T20:32:46.4973612Z     can only contain numbers 1-28
2024-03-02T20:32:46.4974273Z   default storage location
2024-03-02T20:32:46.5019499Z     associates the default storage location with a storage location
2024-03-02T20:32:46.5055219Z     returns nil when not set
2024-03-02T20:32:46.5055779Z   total_inventory
2024-03-02T20:32:46.7609862Z     returns a sum total of all inventory at all storage locations
2024-03-02T20:32:46.9512546Z     returns 0 if there is nothing
2024-03-02T20:32:46.9515129Z   is_active
2024-03-02T20:32:47.3254523Z     returns active organizations
2024-03-02T20:32:47.3329473Z   #short_name
2024-03-02T20:32:47.3330312Z     can only contain valid characters
2024-03-02T20:32:47.3330691Z   earliest reporting year
2024-03-02T20:32:47.5790568Z     is the year of the earliest of donation, purchase, or distribution if they are earlier
2024-03-02T20:32:47.7585531Z     is the organization created year if no associated data
2024-03-02T20:32:47.7586064Z   validations
2024-03-02T20:32:47.7666103Z     validates that attachment file size is not higher than 1 MB
2024-03-02T20:32:47.7743833Z     validates that attachments are png or jpgs
2024-03-02T20:32:47.7850536Z     validates that at least one distribution type is enabled
2024-03-02T20:32:47.9711287Z     validates that short names are unique
2024-03-02T20:32:47.9711763Z 
2024-03-02T20:32:47.9711908Z DistributionByCountyReportService
2024-03-02T20:32:47.9712926Z   get_breakdown
2024-03-02T20:32:48.0692364Z     divides the item numbers and values according to the partner profile
2024-03-02T20:32:48.1438994Z     will have 100% unspecified shows if no served_areas
2024-03-02T20:32:48.3361689Z     handles multiple partners with overlapping service areas properly
2024-03-02T20:32:48.3362468Z 
2024-03-02T20:32:48.3362738Z Exports::ExportDistributionsCSVService
2024-03-02T20:32:48.3363354Z   #generate_csv_data
2024-03-02T20:32:48.5295449Z     should match the expected content for the csv
2024-03-02T20:32:48.5296196Z     when a new item is added
2024-03-02T20:32:48.7313571Z       should show up with a 0 quantity if there are none of this item in any distribution
2024-03-02T20:32:48.9249476Z       should add it to the end of the row
2024-03-02T20:32:48.9250361Z     when there are no distributions but the report is requested
2024-03-02T20:32:49.1166925Z       returns a csv with only headers and no rows
2024-03-02T20:32:49.1167644Z 
2024-03-02T20:32:49.1167874Z BroadcastAnnouncement
2024-03-02T20:32:49.1294939Z   is expected to validate that :message cannot be empty/falsy
2024-03-02T20:32:49.1363802Z   should validate a valid announcement
2024-03-02T20:32:49.1427127Z   should roughly check if link is valid
2024-03-02T20:32:49.1469898Z   is expected to belong to user required: true
2024-03-02T20:32:49.1509568Z   is expected to belong to organization optional: true
2024-03-02T20:32:49.1569098Z   should validate a good link
2024-03-02T20:32:49.1569661Z   versioning
2024-03-02T20:32:49.1607825Z     is expected to be versioned
2024-03-02T20:32:49.1608425Z   filter_announcements
2024-03-02T20:32:49.1758297Z     shouldn't include expired announcements
2024-03-02T20:32:49.1893503Z     should include only announcements from the passed organization
2024-03-02T20:32:49.2042253Z     sorts announcements from most recently created to last
2024-03-02T20:32:49.2042986Z   expired?
2024-03-02T20:32:49.2109415Z     should be true if the announcement is expired
2024-03-02T20:32:49.2169204Z     should be false if the announcement has not expired
2024-03-02T20:32:49.2170230Z 
2024-03-02T20:32:49.2170471Z ProductDriveParticipant
2024-03-02T20:32:49.2171883Z   behaves like provideable
2024-03-02T20:32:49.2172879Z     Validations
2024-03-02T20:32:49.2213693Z       is invalid without an organization
2024-03-02T20:32:49.2278947Z       is invalid unless it has either a contact name or a business name
2024-03-02T20:32:49.2279747Z     import_csv
2024-03-02T20:32:49.4301821Z       imports from a csv file
2024-03-02T20:32:49.4302477Z     geocode
2024-03-02T20:32:49.4369687Z       adds coordinates to the database
2024-03-02T20:32:49.4370335Z   versioning
2024-03-02T20:32:49.4412757Z     is expected to be versioned
2024-03-02T20:32:49.4413330Z   Methods
2024-03-02T20:32:49.4414296Z     donation_source_view
2024-03-02T20:32:49.4415340Z       contact name present
2024-03-02T20:32:49.4478972Z         is expected to eq "Contact Name (participant)"
2024-03-02T20:32:49.4479707Z       no contact name
2024-03-02T20:32:49.4541201Z         is expected to be nil
2024-03-02T20:32:49.4541746Z     volume
2024-03-02T20:32:49.5307905Z       retrieves the amount of product that has been donated by participant
2024-03-02T20:32:49.5308800Z     volume_by_product_drive
2024-03-02T20:32:49.6909477Z       retrieves the amount of product that has been donated through specific product drive
2024-03-02T20:32:49.6910481Z   Validations
2024-03-02T20:32:49.6974881Z     is invalid unless it has either a phone number or an email
2024-03-02T20:32:49.7011476Z     is invalid without an organization
2024-03-02T20:32:49.7012360Z 
2024-03-02T20:32:49.7012734Z Reports::ChildrenServedReportService
2024-03-02T20:32:49.7013665Z   #report
2024-03-02T20:32:49.8904392Z     should report zero values
2024-03-02T20:32:50.4125600Z     should report normal values
2024-03-02T20:32:50.9437485Z     should work with no distribution_quantity
2024-03-02T20:32:50.9438007Z 
2024-03-02T20:32:50.9438356Z PartnerFetchRequestableItemsService
2024-03-02T20:32:50.9439114Z   #call
2024-03-02T20:32:50.9575395Z     raises an error indiciating the partner does not exist with invalid id
2024-03-02T20:32:50.9576333Z     when the partner is not in any partner group
2024-03-02T20:32:50.9895543Z       is expected to be nil
2024-03-02T20:32:50.9896172Z       when the organization has no items
2024-03-02T20:32:51.0213655Z         should return no items
2024-03-02T20:32:51.0214268Z       when the organization has items
2024-03-02T20:32:51.0551341Z         is expected to eq [#<Item id: 3930, name: "Item 1", category: nil, created_at: "2024-03-02 12:32:51.039845482 -0800", u... on_hand_recommended_quantity: nil, visible_to_partners: false, kit_id: nil, item_category_id: nil>]
2024-03-02T20:32:51.1062348Z         should return only active and visible items
2024-03-02T20:32:51.1063103Z     org with any amount of items
2024-03-02T20:32:51.1063971Z       when the partner is in a partner group and has items
2024-03-02T20:32:51.3492057Z         should return only active and visible items from partner
2024-03-02T20:32:51.3492946Z       when the partner is in a partner group and has no items
2024-03-02T20:32:51.5529143Z         should return only active and visible items from partner
2024-03-02T20:32:51.5529788Z 
2024-03-02T20:32:51.5530113Z ItemsOutTotalQuery
2024-03-02T20:32:51.5530870Z   items_out_total_query
2024-03-02T20:32:51.6741794Z     returns a sum total of all out-flows
2024-03-02T20:32:51.6742327Z 
2024-03-02T20:32:51.6742608Z Adjustment
2024-03-02T20:32:51.6743946Z   nested line item attributes
2024-03-02T20:32:51.7169232Z     accepts them
2024-03-02T20:32:51.7169696Z   versioning
2024-03-02T20:32:51.7214486Z     is expected to be versioned
2024-03-02T20:32:51.7215156Z   Scopes >
2024-03-02T20:32:51.7393424Z     `at_location` can filter out adjustments to a specific location
2024-03-02T20:32:51.7554682Z     `by_user` can filter out adjustments to a specific user
2024-03-02T20:32:51.7555386Z   Methods >
2024-03-02T20:32:51.9598844Z     `self.storage_locations_adjusted_for` returns only storage_locations that are used in adjustments for one org
2024-03-02T20:32:51.9599898Z     split_difference
2024-03-02T20:32:52.0470700Z       gracefully handles adjustments with only positive
2024-03-02T20:32:52.1228034Z       gracefully handles adjustments with only negative
2024-03-02T20:32:52.2010460Z       returns two adjustment objects
2024-03-02T20:32:52.2011144Z   behaves like itemizable
2024-03-02T20:32:52.2012452Z     .line_items
2024-03-02T20:32:52.2013694Z       quantities_by_name
2024-03-02T20:32:52.2412285Z         returns a hash of items with id, name, and quantity
2024-03-02T20:32:52.2812355Z         leaves out zero-quantitied items if requested
2024-03-02T20:32:52.2813070Z       combine!
2024-03-02T20:32:52.3282704Z         incrementally combines line_items on donations that have already been created
2024-03-02T20:32:52.3704428Z         combines multiple line_items with the same item_id into a single record
2024-03-02T20:32:52.3705316Z       sorted
2024-03-02T20:32:52.4279770Z         displays the items, sorted by name
2024-03-02T20:32:52.4280430Z       total
2024-03-02T20:32:52.4684870Z         has an item total
2024-03-02T20:32:52.4685531Z     .to_a
2024-03-02T20:32:52.4686480Z       with Flipper flag :deprecate_to_a disabled
2024-03-02T20:32:52.5051471Z         calls line_item_values
2024-03-02T20:32:52.5052362Z       with Flipper flag :deprecate_to_a enabled
2024-03-02T20:32:52.5417565Z         raises an error
2024-03-02T20:32:52.5418488Z   Validations >
2024-03-02T20:32:52.5844312Z     allows you to remove all the inventory that exists in the storage location
2024-03-02T20:32:52.5925444Z     must belong to an organization
2024-03-02T20:32:52.6088990Z     allows you to add inventory that doesn't yet exist in the storage location
2024-03-02T20:32:52.6089596Z 
2024-03-02T20:32:52.6089788Z ApplicationController
2024-03-02T20:32:52.6090905Z   current_organization
2024-03-02T20:32:52.6092092Z     As an org user
2024-03-02T20:32:52.9810394Z       should return the first org role
2024-03-02T20:32:52.9811129Z       with a changed current role
2024-03-02T20:32:53.4288392Z         should return the first org role
2024-03-02T20:32:53.4289066Z     As a partner user
2024-03-02T20:32:53.4709524Z       should return nil
2024-03-02T20:32:53.4710191Z   current_partner
2024-03-02T20:32:53.4724138Z     As a partner user
2024-03-02T20:32:53.5904595Z       should return the first partner role
2024-03-02T20:32:53.5905225Z       with a changed current role
2024-03-02T20:32:53.6466648Z         should return the first partner role
2024-03-02T20:32:53.6467307Z     As an org user
2024-03-02T20:32:53.6604360Z       should return nil
2024-03-02T20:32:53.6605000Z   dashboard_path_from_current_role
2024-03-02T20:32:53.6605829Z     As a user without super admin status
2024-03-02T20:32:53.6802884Z       links to the general dashboard
2024-03-02T20:32:53.6803486Z     As a super admin
2024-03-02T20:32:53.6997096Z       links to the admin dashboard
2024-03-02T20:32:53.6997859Z 
2024-03-02T20:32:53.6998163Z PartnerInviteService
2024-03-02T20:32:53.7303769Z   should update the status of the partner to invited
2024-03-02T20:32:53.7604172Z   should create invite
2024-03-02T20:32:53.7605410Z   with force: true
2024-03-02T20:32:53.7909047Z     should send the force setting forward
2024-03-02T20:32:53.7910048Z 
2024-03-02T20:32:53.7911111Z StorageLocation
2024-03-02T20:32:53.7911536Z   Callbacks >
2024-03-02T20:32:53.7912208Z     before_destroy
2024-03-02T20:32:53.8298251Z       does not delete storage locations with inventory items on it
2024-03-02T20:32:53.8902248Z       deletes storage locations with no inventory items on it
2024-03-02T20:32:53.8903015Z   versioning
2024-03-02T20:32:53.8940857Z     is expected to be versioned
2024-03-02T20:32:53.8941436Z   Validations >
2024-03-02T20:32:53.9005479Z     is expected to validate that :name cannot be empty/falsy
2024-03-02T20:32:53.9065450Z     is expected to validate that :organization cannot be empty/falsy
2024-03-02T20:32:53.9125027Z     is expected to validate that :address cannot be empty/falsy
2024-03-02T20:32:53.9126220Z   Filtering >
2024-03-02T20:32:53.9213635Z     ->active_locations yields only storage locations that haven't been discarded
2024-03-02T20:32:53.9952457Z     ->containing yields only inventories that have that item
2024-03-02T20:32:53.9953231Z   Methods >
2024-03-02T20:32:53.9954376Z     decrease_inventory
2024-03-02T20:32:54.1027158Z       decreases inventory quantities from an itemizable object
2024-03-02T20:32:54.1028075Z       when there is insufficient inventory available
2024-03-02T20:32:54.1109974Z         does not change inventory quantities if there is an error
2024-03-02T20:32:54.1190870Z         gives informative errors
2024-03-02T20:32:54.1191470Z     increase_inventory
2024-03-02T20:32:54.1192632Z       when increasing with an inactive item
2024-03-02T20:32:54.2308162Z         re-activates the item as part of the creation process
2024-03-02T20:32:54.2308659Z       With existing inventory
2024-03-02T20:32:54.3458467Z         increases inventory quantities from an itemizable object
2024-03-02T20:32:54.3459135Z       when providing a new item that does not yet exist
2024-03-02T20:32:54.4567922Z         creates those new inventory items in the storage location
2024-03-02T20:32:54.4568679Z     inventory_total_value_in_dollars
2024-03-02T20:32:54.5055812Z       returns total value of all items in this storage location
2024-03-02T20:32:54.5456750Z       returns a value including cents if the total isn't an even dollar amount
2024-03-02T20:32:54.5571065Z       returns 0 when there are no items in this storage location
2024-03-02T20:32:54.5571983Z     import_csv
2024-03-02T20:32:54.5686195Z       imports storage locations from a csv file
2024-03-02T20:32:54.5686841Z     csv_export_attributes
2024-03-02T20:32:54.6326953Z       returns an array of storage location attributes, followed by inventory item quantities that are sorted by alphabetized item names
2024-03-02T20:32:54.6328274Z     size
2024-03-02T20:32:54.6780133Z       returns total quantity of all items in this storage location
2024-03-02T20:32:54.6781025Z     StorageLocation.items_inventoried
2024-03-02T20:32:54.7620090Z       returns a collection of items that are stored within inventories
2024-03-02T20:32:54.7620951Z     import_inventory
2024-03-02T20:32:55.1401495Z       imports storage locations from a csv file
2024-03-02T20:32:55.1403996Z     geocode
2024-03-02T20:32:55.1515081Z       adds coordinates to the database
2024-03-02T20:32:55.1515602Z     item_total
2024-03-02T20:32:55.1920349Z       retrieves the total for a single item
2024-03-02T20:32:55.1921893Z 
2024-03-02T20:32:55.1922157Z DonationsController
2024-03-02T20:32:55.1923626Z   While signed in as a normal user >
2024-03-02T20:32:55.1925175Z     GET #new
2024-03-02T20:32:55.2079651Z       returns http success
2024-03-02T20:32:55.2080187Z     GET #show
2024-03-02T20:32:55.2245205Z       returns http success
2024-03-02T20:32:55.2245743Z     GET #edit
2024-03-02T20:32:55.2446459Z       returns http success
2024-03-02T20:32:55.2446995Z     PUT#update
2024-03-02T20:32:55.2786693Z       redirects to index after update
2024-03-02T20:32:55.3951558Z       updates storage quantity correctly
2024-03-02T20:32:55.3952238Z       when changing storage location
2024-03-02T20:32:55.5078250Z         updates storage quantity correctly
2024-03-02T20:32:55.5117140Z         rolls back updates if quantity would go below 0
2024-03-02T20:32:55.5117888Z       when removing a line item
2024-03-02T20:32:55.6172177Z         updates storage invetory item quantity correctly
2024-03-02T20:32:55.6172906Z     DELETE #destroy
2024-03-02T20:32:55.6334757Z       redirects to the dashboard path
2024-03-02T20:32:55.6335382Z     POST#create
2024-03-02T20:32:55.6511530Z       renders GET#new with error on failure
2024-03-02T20:32:55.6885128Z       redirects to GET#edit on success
2024-03-02T20:32:55.6885744Z     GET #index
2024-03-02T20:32:55.7024268Z       returns http success
2024-03-02T20:32:55.7024916Z   While signed in as an organization admin >
2024-03-02T20:32:55.7026009Z     DELETE #destroy
2024-03-02T20:32:55.7419905Z       redirects to the index
2024-03-02T20:32:55.7420569Z   calculating total value of multiple donations
2024-03-02T20:32:55.8804202Z     works correctly for multiple line items per donation
2024-03-02T20:32:55.8844927Z     returns zero for an empty array of donations
2024-03-02T20:32:55.8845689Z   calculating total money raised for all donations
2024-03-02T20:32:55.8981609Z     correctly calculates the total
2024-03-02T20:32:55.9019708Z     returns zero for an empty array of donations
2024-03-02T20:32:55.9020260Z 
2024-03-02T20:32:55.9020450Z PartnerMailer
2024-03-02T20:32:55.9021920Z   #recertification_request
2024-03-02T20:32:55.9290409Z     should be sent to the partner main email with the correct subject line
2024-03-02T20:32:55.9531161Z     renders the body with text that indicates to recertify and link to where
2024-03-02T20:32:55.9532291Z   #application_approved
2024-03-02T20:32:55.9808981Z     renders the body with text that indicates the result and a link to their dashboard
2024-03-02T20:32:56.0057500Z     should be sent to the partner main email with the correct subject line
2024-03-02T20:32:56.0058202Z 
2024-03-02T20:32:56.0058380Z DonationSite
2024-03-02T20:32:56.0059575Z   Validations >
2024-03-02T20:32:56.0101061Z     must belong to an organization
2024-03-02T20:32:56.0143992Z     is invalid without an address
2024-03-02T20:32:56.0185460Z     is invalid without a name
2024-03-02T20:32:56.0185823Z   versioning
2024-03-02T20:32:56.0221888Z     is expected to be versioned
2024-03-02T20:32:56.0222284Z   import_csv
2024-03-02T20:32:56.1979294Z     imports storage locations from a csv file
2024-03-02T20:32:56.1979722Z   geocode
2024-03-02T20:32:56.2036910Z     adds coordinates to the database
2024-03-02T20:32:56.2037507Z 
2024-03-02T20:32:56.2037682Z DispersedPastDatesGenerator
2024-03-02T20:32:56.2038971Z   #next
2024-03-02T20:32:56.2092344Z     returns equally dispersed dates between all time ranges
2024-03-02T20:32:56.2092898Z   constants
2024-03-02T20:32:56.2125615Z     has 4 day ranges for generation of past dates
2024-03-02T20:32:56.2126232Z 
2024-03-02T20:32:56.2126443Z User
2024-03-02T20:32:56.2127746Z   #send_reset_password_instructions
2024-03-02T20:32:56.2128612Z     user gets an email with instructions
2024-03-02T20:32:56.2999462Z       sends an email with instructions
2024-03-02T20:32:56.3000079Z   #role_added
2024-03-02T20:32:56.3349810Z     renders the body correctly
2024-03-02T20:32:56.3350365Z 
2024-03-02T20:32:56.3350537Z Deadlinable
2024-03-02T20:32:56.3351499Z   validations
2024-03-02T20:32:56.3430764Z     is expected to validate that :deadline_day looks like an integer greater than or equal to 1 and less than or equal to 28 as long as it is not nil
2024-03-02T20:32:56.3501560Z     is expected to validate that :reminder_day looks like an integer greater than or equal to 1 and less than or equal to 28 as long as it is not nil
2024-03-02T20:32:56.3544884Z     validates that reminder day is not the same as deadline day
2024-03-02T20:32:56.3545453Z 
2024-03-02T20:32:56.3545707Z Reports::OtherProductsReportService
2024-03-02T20:32:56.3546428Z   #report
2024-03-02T20:32:56.5484142Z     should report zero values
2024-03-02T20:32:57.1704158Z     should report normal values
2024-03-02T20:32:57.1704611Z 
2024-03-02T20:32:57.1704827Z AddRoleService
2024-03-02T20:32:57.1705849Z   #call
2024-03-02T20:32:57.1706625Z     when the role does not yet exist
2024-03-02T20:32:57.3715891Z       should add the user role when asked to add admin
2024-03-02T20:32:57.5665037Z       should add the role
2024-03-02T20:32:57.7859993Z       works with a partner
2024-03-02T20:32:57.9847200Z       works with super admin
2024-03-02T20:32:57.9847803Z     when the role already exists
2024-03-02T20:32:58.1827848Z       should raise an error
2024-03-02T20:32:58.3812753Z       should raise an error for super admin
2024-03-02T20:32:58.3814043Z 
2024-03-02T20:32:58.3814219Z BaseItem
2024-03-02T20:32:58.3815687Z   versioning
2024-03-02T20:32:58.3854616Z     is expected to be versioned
2024-03-02T20:32:58.3855318Z   Filtering >
2024-03-02T20:32:58.3856225Z     ->by_partner_key
2024-03-02T20:32:58.3907899Z       shows the Base Items by partner_key
2024-03-02T20:32:58.3908677Z     ->without_kit
2024-03-02T20:32:58.3960530Z       should not include the Kit BaseItem
2024-03-02T20:32:58.3961207Z   Validations >
2024-03-02T20:32:58.4007932Z     is invalid without a name
2024-03-02T20:32:58.4055622Z     is invalid without a partner key
2024-03-02T20:32:58.4128471Z     is invalid without a uniqueness key
2024-03-02T20:32:58.4196513Z     is invalid without a unique name
2024-03-02T20:32:58.4197129Z   Associations >
2024-03-02T20:32:58.4320320Z     keeps count of its associated items
2024-03-02T20:32:58.4321181Z 
2024-03-02T20:32:58.4321492Z Partners::Profile
2024-03-02T20:32:58.4358274Z   must allow deleting served_areas
2024-03-02T20:32:58.4358957Z   social media info validation for profile
2024-03-02T20:32:58.4360191Z     no social media presence and the checkbox is checked
2024-03-02T20:32:58.4423963Z       should be valid
2024-03-02T20:32:58.4424665Z     has social media presence and the checkbox is unchecked
2024-03-02T20:32:58.4505920Z       with just a website it should be valid
2024-03-02T20:32:58.4627753Z       with just instagram it should be valid
2024-03-02T20:32:58.4940823Z       with just twitter it should be valid
2024-03-02T20:32:58.5256037Z       with every social media option it should be valid
2024-03-02T20:32:58.5516503Z       with just facebook it should be valid
2024-03-02T20:32:58.5530427Z     no social media presence and the checkbox isn't checked
2024-03-02T20:32:58.5872769Z       should be valid if media_information is not needed
2024-03-02T20:32:58.6036880Z       should not be valid
2024-03-02T20:32:58.6045845Z   request settings validation for profile
2024-03-02T20:32:58.6046888Z     at least one request type is set to true
2024-03-02T20:32:58.6201043Z       should be valid when enable_individual_requests is true
2024-03-02T20:32:58.6334768Z       should be valid when enable_quantity_based_requests is true
2024-03-02T20:32:58.6484277Z       should be valid when enable_child_based_requests is true
2024-03-02T20:32:58.6499420Z     no settings are set to true
2024-03-02T20:32:58.6686649Z       should not be valid
2024-03-02T20:32:58.6687478Z   versioning
2024-03-02T20:32:58.6815614Z     is expected to be versioned
2024-03-02T20:32:58.6816506Z   client share behaviour
2024-03-02T20:32:58.6817204Z     multiple
2024-03-02T20:32:58.7146859Z       is valid if client share sum is 100
2024-03-02T20:32:58.7313004Z       sums the client shares
2024-03-02T20:32:58.7313658Z     no served areas
2024-03-02T20:32:58.7374254Z       has 0 client share
2024-03-02T20:32:58.7374983Z   associations
2024-03-02T20:32:58.7420836Z     is expected to have a has_one_attached called proof_of_form_990
2024-03-02T20:32:58.7462748Z     is expected to have a has_many_attached called documents
2024-03-02T20:32:58.7497476Z     is expected to have many served_areas
2024-03-02T20:32:58.7538461Z     is expected to have a has_one_attached called proof_of_partner_status
2024-03-02T20:32:58.7540011Z 
2024-03-02T20:32:58.7540289Z Reports::AdultIncontinenceReportService
2024-03-02T20:32:58.7540855Z   #report
2024-03-02T20:32:58.9417519Z     should report zero values
2024-03-02T20:32:58.9418111Z     with values
2024-03-02T20:32:59.5844123Z       should handle null distribution quantity
2024-03-02T20:33:00.2150632Z       should report normal values
2024-03-02T20:33:00.2151471Z 
2024-03-02T20:33:00.2151755Z CalendarService
2024-03-02T20:33:00.6188570Z   #time_zones
2024-03-02T20:33:00.6189027Z   .calendar
2024-03-02T20:33:00.6796583Z     should print the calendar correctly
2024-03-02T20:33:00.6797274Z 
2024-03-02T20:33:00.6797521Z NotifyPartnerJob
2024-03-02T20:33:00.6798710Z   #perform
2024-03-02T20:33:00.6970786Z     is expected to call RequestsConfirmationMailer
2024-03-02T20:33:00.7019732Z     avoids exception when request doesn't exist
2024-03-02T20:33:00.7020560Z     when the request's partner is deactivated
2024-03-02T20:33:00.7311919Z       does not send the confirmation email
2024-03-02T20:33:01.0257352Z 
2024-03-02T20:33:01.0257974Z Finished in 49.69 seconds (files took 8.24 seconds to load)
2024-03-02T20:33:01.0258633Z 515 examples, 0 failures
2024-03-02T20:33:01.0258945Z 
2024-03-02T20:33:01.0292769Z Randomized with seed 47347
2024-03-02T20:33:01.0293122Z 
2024-03-02T20:33:01.5047905Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3902 / 6462 LOC (60.38%) covered.
2024-03-02T20:33:01.9365522Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10731 LOC (0.35%) covered.
