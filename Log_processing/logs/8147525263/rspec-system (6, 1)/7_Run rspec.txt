2024-03-04T21:57:37.3792880Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-04T21:57:37.3793717Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-04T21:57:37.3823257Z shell: /usr/bin/bash -e {0}
2024-03-04T21:57:37.3823771Z env:
2024-03-04T21:57:37.3824093Z   POSTGRES_HOST: localhost
2024-03-04T21:57:37.3824560Z   DATABASE_HOST: localhost
2024-03-04T21:57:37.3824904Z   PG_USERNAME: postgres
2024-03-04T21:57:37.3825276Z   PG_PASSWORD: password
2024-03-04T21:57:37.3825734Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-04T21:57:37.3826161Z   POSTGRES_PORT: 5432
2024-03-04T21:57:37.3826524Z   PGHOST: localhost
2024-03-04T21:57:37.3826888Z   PGUSER: postgres
2024-03-04T21:57:37.3827222Z   RAILS_ENV: test
2024-03-04T21:57:37.3827596Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-04T21:57:37.3828104Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-04T21:57:37.3828500Z   KNAPSACK_PRO_CI_NODE_INDEX: 1
2024-03-04T21:57:37.3828912Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-04T21:57:37.3829561Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-04T21:57:37.3830158Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-04T21:57:37.3830867Z ##[endgroup]
2024-03-04T21:57:43.2192472Z W, [2024-03-04T21:57:43.218823 #2414]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-04T21:57:43.2195444Z W, [2024-03-04T21:57:43.218888 #2414]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-04T21:57:43.2199285Z W, [2024-03-04T21:57:43.218906 #2414]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-04T21:57:43.2207305Z W, [2024-03-04T21:57:43.218940 #2414]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-04T21:57:46.0750728Z W, [2024-03-04T21:57:46.074673 #2414]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-04T21:57:46.0752578Z W, [2024-03-04T21:57:46.074720 #2414]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-04T21:57:46.0754634Z W, [2024-03-04T21:57:46.074739 #2414]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-04T21:57:46.0758051Z W, [2024-03-04T21:57:46.074788 #2414]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-04T21:57:46.0810766Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/adjustments_requests_spec.rb" "spec/requests/admin/partners_requests_spec.rb" "spec/requests/barcode_items_requests_spec.rb" "spec/requests/donations_requests_spec.rb" "spec/requests/partners/children_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-03-04T21:57:54.8278511Z 
2024-03-04T21:57:54.8279512Z Randomized with seed 55214
2024-03-04T21:57:55.7793065Z 
2024-03-04T21:57:55.7793827Z BarcodeItems
2024-03-04T21:57:55.7794936Z   While signed in
2024-03-04T21:57:55.7796420Z     GET #index
2024-03-04T21:57:55.7797189Z       csv
2024-03-04T21:57:55.8298457Z         is expected to be successful
2024-03-04T21:57:55.8299641Z       html
2024-03-04T21:57:55.8898540Z         is expected to be successful
2024-03-04T21:57:55.8899704Z     Looking at a different organization
2024-03-04T21:57:56.0728701Z       redirects the user to the sign-in page for CRUD actions
2024-03-04T21:57:56.0729987Z     GET #find
2024-03-04T21:57:56.0730670Z       via ajax
2024-03-04T21:57:56.2841440Z         can find a barcode that's universally available
2024-03-04T21:57:56.4897358Z         can find a barcode that is scoped to just this organization
2024-03-04T21:57:56.4898372Z         when it's missing
2024-03-04T21:57:56.6934227Z           returns a 404
2024-03-04T21:57:56.6934788Z     GET #show
2024-03-04T21:57:56.6935404Z       with a normal barcode item
2024-03-04T21:57:56.7309595Z         returns http success
2024-03-04T21:57:56.7310302Z       with a global barcode item
2024-03-04T21:57:56.7629899Z         returns a 404
2024-03-04T21:57:56.7630924Z     GET #new
2024-03-04T21:57:56.7976487Z       returns http success
2024-03-04T21:57:56.7977341Z     GET #edit
2024-03-04T21:57:56.7978469Z       with a global barcode item
2024-03-04T21:57:56.8286027Z         returns a 404
2024-03-04T21:57:56.8286943Z       with a normal barcode item
2024-03-04T21:57:56.8697887Z         returns http success
2024-03-04T21:57:56.8698693Z     DELETE #destroy
2024-03-04T21:57:57.0868880Z       disallows a user to delete someone else's barcode
2024-03-04T21:57:57.1132088Z       disallows a non-superadmin to delete a global barcode
2024-03-04T21:57:57.1533367Z       redirects to the index
2024-03-04T21:57:57.1534031Z 
2024-03-04T21:57:57.1534250Z Profiles
2024-03-04T21:57:57.1535438Z   POST #update
2024-03-04T21:57:57.1536622Z     when updating an existing value to a blank value
2024-03-04T21:57:57.2020960Z       should have blank values
2024-03-04T21:57:57.2457192Z       update partner
2024-03-04T21:57:57.2458146Z     successful save
2024-03-04T21:57:57.2908957Z       update partner
2024-03-04T21:57:57.3341319Z       redirects to #show
2024-03-04T21:57:57.3342432Z   GET #edit
2024-03-04T21:57:57.4428440Z     returns http success
2024-03-04T21:57:57.4428968Z 
2024-03-04T21:57:57.4429537Z Purchases
2024-03-04T21:57:57.4430719Z   while signed in as an organization admin
2024-03-04T21:57:59.5766817Z     allows deletion of a purchase
2024-03-04T21:57:59.5767902Z   while signed in as a normal user
2024-03-04T21:57:59.5768721Z     When creating a new purchase
2024-03-04T21:58:00.0831559Z       should not display inactive storage locations in dropdown
2024-03-04T21:58:00.0832665Z       via barcode entry
2024-03-04T21:58:00.8553083Z         a user can add items via scanning them in by barcode
2024-03-04T21:58:01.7904239Z         User scan same barcode 2 times
2024-03-04T21:58:03.0076861Z         a user can add items that do not yet have a barcode
2024-03-04T21:58:03.0078279Z       via manual entry
2024-03-04T21:58:04.0384187Z         Does not include inactive items in the line item fields
2024-03-04T21:58:05.0846015Z         User can create vendor from purchase
2024-03-04T21:58:06.0137586Z         User can create a purchase using dollars decimal amount
2024-03-04T21:58:07.1449689Z         User can create a purchase IN THE PAST
2024-03-04T21:58:08.4331551Z         multiple line items for the same item type are accepted and combined on the backend
2024-03-04T21:58:08.4333238Z         when creating a purchase incorrectly
2024-03-04T21:58:09.5017482Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-03-04T21:58:10.3230978Z           should display failure with error messages
2024-03-04T21:58:10.3232393Z       Editing purchase
2024-03-04T21:58:10.9818690Z         A user can view another organizations purchase
2024-03-04T21:58:11.4815061Z         A user can see purchased_from value
2024-03-04T21:58:11.4816065Z     When visiting an existing purchase
2024-03-04T21:58:11.9513687Z       does not allow deletion of a purchase
2024-03-04T21:58:11.9514571Z     When visiting the index page
2024-03-04T21:58:11.9515417Z       In the middle of the year
2024-03-04T21:58:12.8041233Z         User can click to the new purchase form
2024-03-04T21:58:13.5486352Z         User sees purchased date column
2024-03-04T21:58:14.3245587Z         User sees total purchases value
2024-03-04T21:58:14.3246312Z       When filtering on the index page
2024-03-04T21:58:15.1595404Z         User can filter the #index by storage location
2024-03-04T21:58:16.0131853Z         User can filter the #index by vendor
2024-03-04T21:58:16.0133104Z         behaves like Date Range Picker
2024-03-04T21:58:16.0134312Z           when choosing 'All Time'
2024-03-04T21:58:16.9702423Z             shows all the records
2024-03-04T21:58:16.9703530Z           when choosing a date range that only includes the previous week
2024-03-04T21:58:17.9375931Z             shows only 1 record
2024-03-04T21:58:17.9377263Z           when choosing 'Last Month'
2024-03-04T21:58:18.9207069Z             shows only 2 of the records
2024-03-04T21:58:18.9209084Z 
2024-03-04T21:58:18.9209614Z Organization management
2024-03-04T21:58:18.9210777Z   while signed in as an organization admin
2024-03-04T21:58:20.0605770Z     can re-activate a user in the organization
2024-03-04T21:58:20.5841365Z     can re-invite a user to an organization after 7 days
2024-03-04T21:58:21.1063805Z     can see 'Make user' button for admins
2024-03-04T21:58:22.0890146Z     can deactivate a user in the organization
2024-03-04T21:58:23.0621409Z     can add a new user to an organization
2024-03-04T21:58:23.0622282Z     Editing the organization
2024-03-04T21:58:23.9764032Z       can set a default storage location on the organization
2024-03-04T21:58:24.9857353Z       can disable if the org does NOT use single step invite and approve partner process
2024-03-04T21:58:25.9802445Z       can enable if the org uses single step invite and approve partner process
2024-03-04T21:58:26.9742523Z       can select if the org shows year-to-date values on the distribution printout
2024-03-04T21:58:28.4516576Z       can select and deselect Required Partner Fields
2024-03-04T21:58:29.6409471Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-03-04T21:58:30.5070348Z       can set the NDBN Member ID
2024-03-04T21:58:31.5350227Z       can select if the org distributes essentials monthly
2024-03-04T21:58:32.6649285Z       can select if the org repackages essentials
2024-03-04T21:58:33.5578549Z       can set a reminder and a deadline day
2024-03-04T21:58:33.5579435Z     Viewing the organization
2024-03-04T21:58:34.1251959Z       can view organization details
2024-03-04T21:58:34.1252887Z   while signed in as a normal user
2024-03-04T21:58:34.6015520Z     cannot see 'Make user' button for admins
2024-03-04T21:58:35.0722068Z     can see summary details about the organization as a user
2024-03-04T21:58:35.0723449Z 
2024-03-04T21:58:35.0723690Z StorageLocations
2024-03-04T21:58:35.0725699Z   While signed in
2024-03-04T21:58:35.0727781Z     GET #index
2024-03-04T21:58:35.0728544Z       csv
2024-03-04T21:58:35.0967185Z         succeeds
2024-03-04T21:58:35.1957222Z         includes headers followed by alphabetized item names
2024-03-04T21:58:35.1958940Z       html
2024-03-04T21:58:35.2347705Z         succeeds
2024-03-04T21:58:35.2348442Z         with inactive locations
2024-03-04T21:58:35.2765453Z           does not includes the inactive location
2024-03-04T21:58:35.3193522Z           with include_inactive_locations
2024-03-04T21:58:35.3194756Z             includes the inactive location
2024-03-04T21:58:35.3195525Z     PUT #deactivate
2024-03-04T21:58:35.3393032Z       discards
2024-03-04T21:58:35.3393995Z       with inventory
2024-03-04T21:58:35.3938775Z         does not discard
2024-03-04T21:58:35.3939672Z     POST #import_csv
2024-03-04T21:58:35.3940736Z       csv file with wrong headers
2024-03-04T21:58:35.4091175Z         redirects
2024-03-04T21:58:35.4226470Z         presents a flash error message
2024-03-04T21:58:35.4227099Z       without a csv file
2024-03-04T21:58:35.4359645Z         redirects to :index
2024-03-04T21:58:35.4493346Z         presents a flash error message
2024-03-04T21:58:35.4494369Z       with a csv file
2024-03-04T21:58:35.4663885Z         presents a flash notice message
2024-03-04T21:58:35.4715668Z         invokes .import_csv
2024-03-04T21:58:35.4868336Z         redirects
2024-03-04T21:58:35.4869207Z     GET #edit
2024-03-04T21:58:35.6403504Z       returns http success
2024-03-04T21:58:35.6404263Z     GET #inventory
2024-03-04T21:58:35.6405067Z       without any overrides
2024-03-04T21:58:35.6966705Z         returns a collection that only includes items at the storage location
2024-03-04T21:58:35.6967814Z       when also including omitted items
2024-03-04T21:58:35.7453431Z         contains a collection of ducktyped entries that respond the same
2024-03-04T21:58:35.7960732Z         returns a collection that also includes all items, but with zeroed quantities
2024-03-04T21:58:35.7962211Z       when also including inactive items
2024-03-04T21:58:35.8641413Z         returns a collection that also includes items that have been deactivated
2024-03-04T21:58:35.8642526Z     GET #show
2024-03-04T21:58:35.8643206Z       html
2024-03-04T21:58:35.9355970Z         should return a correct response
2024-03-04T21:58:35.9356951Z         with version date set
2024-03-04T21:58:35.9357879Z           with a version found
2024-03-04T21:58:36.0199757Z             should show the version specified
2024-03-04T21:58:36.0200890Z           with no version found
2024-03-04T21:58:36.0961045Z             should show N/A
2024-03-04T21:58:36.0961954Z       csv
2024-03-04T21:58:36.1432487Z         should be successful
2024-03-04T21:58:36.1433335Z     PUT #reactivate
2024-03-04T21:58:36.1616874Z       undiscards
2024-03-04T21:58:36.1617872Z     GET #destroy
2024-03-04T21:58:36.1922856Z       redirects to #index
2024-03-04T21:58:36.1924183Z     Looking at a different organization
2024-03-04T21:58:36.3704530Z       redirects the user to the sign-in page for CRUD actions
2024-03-04T21:58:36.3705254Z     GET #new
2024-03-04T21:58:36.4033466Z       returns http success
2024-03-04T21:58:36.4034472Z   While not signed in
2024-03-04T21:58:36.4099289Z     redirects the user to the sign-in page for CRUD actions
2024-03-04T21:58:36.4100078Z 
2024-03-04T21:58:36.4100694Z User account management
2024-03-04T21:58:36.4101790Z   when in staging
2024-03-04T21:58:36.8804510Z     should display staging warning
2024-03-04T21:58:37.3372809Z     should not allow the user to change staging credentials
2024-03-04T21:58:37.3373989Z   when not in staging
2024-03-04T21:58:38.2403509Z     should change an user name
2024-03-04T21:58:39.1387506Z     should change the email
2024-03-04T21:58:39.9199515Z     should fail when the email is invalid
2024-03-04T21:58:39.9200389Z 
2024-03-04T21:58:39.9200649Z /partners/children
2024-03-04T21:58:39.9201504Z   GET #index
2024-03-04T21:58:40.0216178Z     should render without any issues
2024-03-04T21:58:40.0740379Z     should export CSV
2024-03-04T21:58:40.0740916Z 
2024-03-04T21:58:40.0741131Z /partners/profiles
2024-03-04T21:58:40.0742407Z   PUT #update
2024-03-04T21:58:40.1297274Z     updates the partner and profile
2024-03-04T21:58:40.1298177Z     when updating an existing value to a blank value
2024-03-04T21:58:40.1822625Z       updates the partner profile attribute to a blank value
2024-03-04T21:58:40.2354443Z       does not update other partner profile attributes to blank
2024-03-04T21:58:40.2901176Z       does store N/A in the database
2024-03-04T21:58:40.2902148Z     with no social media
2024-03-04T21:58:40.3993088Z       shows an error
2024-03-04T21:58:40.3993945Z   GET #show
2024-03-04T21:58:40.4604336Z     shows correct values for yes/no buttons
2024-03-04T21:58:40.5148496Z     displays the partner
2024-03-04T21:58:40.5149288Z   GET #edit
2024-03-04T21:58:40.6073654Z     has "Yes" radio button value when value is true
2024-03-04T21:58:40.6996730Z     does not have default radio button value when value is nil
2024-03-04T21:58:40.7859844Z     displays the partner
2024-03-04T21:58:40.8713256Z     has "No" radio button value when value is false
2024-03-04T21:58:40.8716357Z 
2024-03-04T21:58:40.8716688Z Dashboard
2024-03-04T21:58:40.8718290Z   With an existing essentials bank
2024-03-04T21:58:40.8720139Z     Donations
2024-03-04T21:58:41.7926882Z       has a link to create a new donation
2024-03-04T21:58:41.7928891Z       given 1 Donation on 2023-12-31 (only if a valid date), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T21:58:41.7930353Z         filtering to 'This Year'
2024-03-04T21:58:45.1045554Z           shows the correct total and 0 Recent Donation link(s)
2024-03-04T21:58:45.1047495Z       given 1 Donation on 2024-03-03 (only if a valid date), 1 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:58:45.1048749Z         filtering to 'Today'
2024-03-04T21:58:46.4836238Z           shows the correct total and 1 Recent Donation link(s)
2024-03-04T21:58:46.4838297Z       given 1 Donation on 2024-02-26 (only if a valid date), 4 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:58:46.4839632Z         filtering to 'Last 7 Days'
2024-03-04T21:58:47.9273745Z           shows the correct total and 3 Recent Donation link(s)
2024-03-04T21:58:47.9275764Z       given 1 Donation on 2024-02-03 (only if a valid date), 0 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:58:47.9276716Z         filtering to 'Last 30 Days'
2024-03-04T21:58:51.2510505Z           shows the correct total and 0 Recent Donation link(s)
2024-03-04T21:58:51.2512685Z       given 1 Donation on 2024-03-02 (only if a valid date), 2 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T21:58:51.2514389Z         filtering to 'Yesterday'
2024-03-04T21:58:52.6307773Z           shows the correct total and 2 Recent Donation link(s)
2024-03-04T21:58:52.6310042Z       given 1 Donation on 2022-03-03 (only if a valid date), 4 during 2022-03-04..2024-01-02, and 1 on 2024-01-03
2024-03-04T21:58:52.6311854Z         filtering to '' (March 4, 2022 - January 2, 2024)
2024-03-04T21:58:54.1408287Z           shows the correct total and 3 Recent Donation link(s)
2024-03-04T21:58:54.1410068Z       given 1 Donation on 2024-01-31 (only if a valid date), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T21:58:54.1411356Z         filtering to 'Last Month'
2024-03-04T21:58:57.5000227Z           shows the correct total and 0 Recent Donation link(s)
2024-03-04T21:58:57.5002023Z       given 1 Donation on 2024-02-29 (only if a valid date), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T21:58:57.5003183Z         filtering to 'This Month'
2024-03-04T21:58:58.8836826Z           shows the correct total and 2 Recent Donation link(s)
2024-03-04T21:58:58.8838142Z     Inventory Totals
2024-03-04T21:58:58.8838820Z       Summary
2024-03-04T21:58:59.7254585Z         displays the on-hand totals
2024-03-04T21:58:59.7255309Z         when constrained to date range
2024-03-04T21:59:00.7478768Z           does not change
2024-03-04T21:59:00.7479387Z     Purchases
2024-03-04T21:59:01.6472078Z       has a link to create a new purchase
2024-03-04T21:59:01.6473859Z       given 1 Purchase on 2024-03-03  (unless 'All Time'), 0 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:59:01.6475700Z         filtering to 'Today'
2024-03-04T21:59:04.9772915Z           shows correct 0 Recent Purchase link(s)
2024-03-04T21:59:04.9774690Z       given 1 Purchase on 2024-03-02  (unless 'All Time'), 3 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T21:59:04.9776261Z         filtering to 'Yesterday'
2024-03-04T21:59:06.3795405Z           shows correct 3 Recent Purchase link(s)
2024-03-04T21:59:06.3797933Z       given 1 Purchase on 2024-02-26  (unless 'All Time'), 2 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:59:06.3798943Z         filtering to 'Last 7 Days'
2024-03-04T21:59:07.7735607Z           shows correct 2 Recent Purchase link(s)
2024-03-04T21:59:07.7737762Z       given 1 Purchase on 2024-02-29  (unless 'All Time'), 1 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T21:59:07.7739363Z         filtering to 'This Month'
2024-03-04T21:59:09.1394856Z           shows correct 1 Recent Purchase link(s)
2024-03-04T21:59:09.1396794Z       given 1 Purchase on 2022-03-03  (unless 'All Time'), 3 during 2022-03-04..2023-10-11, and 1 on 2023-10-12
2024-03-04T21:59:09.1398483Z         filtering to '' (March 4, 2022 - October 11, 2023)
2024-03-04T21:59:10.5375130Z           shows correct 3 Recent Purchase link(s)
2024-03-04T21:59:10.5377039Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T21:59:10.5378264Z         filtering to 'Last Month'
2024-03-04T21:59:11.9786748Z           shows correct 3 Recent Purchase link(s)
2024-03-04T21:59:11.9788612Z       given 1 Purchase on 2024-02-03  (unless 'All Time'), 1 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:59:11.9789853Z         filtering to 'Last 30 Days'
2024-03-04T21:59:13.3167453Z           shows correct 1 Recent Purchase link(s)
2024-03-04T21:59:13.3169521Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T21:59:13.3171249Z         filtering to 'This Year'
2024-03-04T21:59:14.6717978Z           shows correct 1 Recent Purchase link(s)
2024-03-04T21:59:14.6719037Z     Signage
2024-03-04T21:59:17.5525803Z       shows their organization name unless they have a logo set
2024-03-04T21:59:17.5526884Z     Distributions
2024-03-04T21:59:18.4558664Z       has a link to create a new distribution
2024-03-04T21:59:18.4560952Z       given 1 Distribution on 2022-03-03  (unless 'All Time'), 0 during 2022-03-04..2024-01-02, and 1 on 2024-01-03
2024-03-04T21:59:18.4563096Z         filtering to '' (March 4, 2022 - January 2, 2024)
2024-03-04T21:59:21.8649631Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-04T21:59:21.8651698Z       given 1 Distribution on 2024-03-03  (unless 'All Time'), 1 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:59:21.8652535Z         filtering to 'Today'
2024-03-04T21:59:23.3012105Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-04T21:59:23.3014115Z       given 1 Distribution on 2024-02-29  (unless 'All Time'), 3 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T21:59:23.3015675Z         filtering to 'This Month'
2024-03-04T21:59:24.7482659Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-04T21:59:24.7484792Z       given 1 Distribution on 2024-03-02  (unless 'All Time'), 0 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T21:59:24.7486212Z         filtering to 'Yesterday'
2024-03-04T21:59:28.1402559Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-04T21:59:28.1404905Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T21:59:28.1406315Z         filtering to 'Last Month'
2024-03-04T21:59:31.5307641Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-04T21:59:31.5309832Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 0 during 2000-01-01..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:59:31.5311804Z         filtering to 'All Time'
2024-03-04T21:59:34.9052231Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-04T21:59:34.9054656Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 4 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T21:59:34.9056270Z         filtering to 'This Year'
2024-03-04T21:59:36.5074466Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-04T21:59:36.5076370Z       given 1 Distribution on 2024-02-03  (unless 'All Time'), 4 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:59:36.5077665Z         filtering to 'Last 30 Days'
2024-03-04T21:59:37.9848171Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-04T21:59:37.9850119Z       given 1 Distribution on 2024-02-26  (unless 'All Time'), 1 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:59:37.9851738Z         filtering to 'Last 7 Days'
2024-03-04T21:59:39.4048053Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-04T21:59:39.4048984Z     Manufacturer Donations
2024-03-04T21:59:40.0071641Z       has a link to create a new donation
2024-03-04T21:59:40.0073193Z       given 1 Manufacturer donating on 2024-03-03  (unless 'All Time'), 6 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:59:40.0074525Z         filtering to 'Today'
2024-03-04T21:59:41.9042035Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-03-04T21:59:41.9044606Z       given 1 Manufacturer donating on 2024-02-29  (unless 'All Time'), 7 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T21:59:41.9045779Z         filtering to 'This Month'
2024-03-04T21:59:43.7869265Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-03-04T21:59:43.7871289Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 7 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T21:59:43.7872705Z         filtering to 'This Year'
2024-03-04T21:59:45.6751952Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-03-04T21:59:45.6754131Z       given 1 Manufacturer donating on 2024-02-03  (unless 'All Time'), 4 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:59:45.6755756Z         filtering to 'Last 30 Days'
2024-03-04T21:59:47.3801990Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-03-04T21:59:47.3804092Z       given 1 Manufacturer donating on 2024-02-26  (unless 'All Time'), 8 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:59:47.3805483Z         filtering to 'Last 7 Days'
2024-03-04T21:59:49.2836431Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-04T21:59:49.2838509Z       given 1 Manufacturer donating on 2022-03-03  (unless 'All Time'), 1 during 2022-03-04..2024-02-17, and 1 on 2024-02-18
2024-03-04T21:59:49.2839992Z         filtering to '' (March 4, 2022 - February 17, 2024)
2024-03-04T21:59:50.6978199Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-03-04T21:59:50.6980282Z       given 1 Manufacturer donating on 2024-03-02  (unless 'All Time'), 7 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T21:59:50.6981860Z         filtering to 'Yesterday'
2024-03-04T21:59:52.6105929Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-03-04T21:59:52.6108559Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 9 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T21:59:52.6110171Z         filtering to 'Last Month'
2024-03-04T21:59:54.7789690Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-04T21:59:54.7792326Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 1 during 2000-01-01..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:59:54.7794413Z         filtering to 'All Time'
2024-03-04T21:59:56.1654788Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-03-04T21:59:56.1655989Z     Product Drives
2024-03-04T21:59:56.7744011Z       has a widget for product drive summary data
2024-03-04T21:59:56.7746428Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T21:59:56.7747992Z         filtering to 'Last Month'
2024-03-04T21:59:58.2693701Z           shows the correct total money raised
2024-03-04T21:59:59.7513885Z           shows 3 Recent Donation link(s)
2024-03-04T22:00:01.2041524Z           shows the correct total donations
2024-03-04T22:00:01.2045086Z       given 1 Product Drive Donation on 2024-02-29 (unless 'All Time'), 4 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T22:00:01.2046352Z         filtering to 'This Month'
2024-03-04T22:00:02.6758012Z           shows the correct total donations
2024-03-04T22:00:04.1391222Z           shows the correct total money raised
2024-03-04T22:00:05.6307721Z           shows 3 Recent Donation link(s)
2024-03-04T22:00:05.6309875Z       given 1 Product Drive Donation on 2024-02-26 (unless 'All Time'), 1 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T22:00:05.6311078Z         filtering to 'Last 7 Days'
2024-03-04T22:00:07.0695674Z           shows the correct total money raised
2024-03-04T22:00:08.4534356Z           shows 1 Recent Donation link(s)
2024-03-04T22:00:09.8458183Z           shows the correct total donations
2024-03-04T22:00:09.8459545Z       Product drive behaviour with Mixed Donation types
2024-03-04T22:00:10.5260728Z         only counts product drive donations for product drive
2024-03-04T22:00:11.1974758Z         only counts product drive money raised
2024-03-04T22:00:11.8965892Z         only shows product drive donations as product drive donations
2024-03-04T22:00:11.8968554Z       given 1 Product Drive Donation on 2024-02-03 (unless 'All Time'), 4 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T22:00:11.8970350Z         filtering to 'Last 30 Days'
2024-03-04T22:00:13.3548640Z           shows the correct total money raised
2024-03-04T22:00:14.8280893Z           shows the correct total donations
2024-03-04T22:00:16.2818669Z           shows 3 Recent Donation link(s)
2024-03-04T22:00:16.2821214Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T22:00:16.2823126Z         filtering to 'This Year'
2024-03-04T22:00:17.7351350Z           shows 2 Recent Donation link(s)
2024-03-04T22:00:19.2091295Z           shows the correct total donations
2024-03-04T22:00:20.6598494Z           shows the correct total money raised
2024-03-04T22:00:20.6600357Z       given 1 Product Drive Donation on 2022-03-03 (unless 'All Time'), 4 during 2022-03-04..2023-10-10, and 1 on 2023-10-11
2024-03-04T22:00:20.6601662Z         filtering to '' (March 4, 2022 - October 10, 2023)
2024-03-04T22:00:22.1649805Z           shows the correct total donations
2024-03-04T22:00:23.6762647Z           shows 3 Recent Donation link(s)
2024-03-04T22:00:25.1368422Z           shows the correct total money raised
2024-03-04T22:00:25.1370905Z       given 1 Product Drive Donation on 2024-03-02 (unless 'All Time'), 0 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T22:00:25.1372317Z         filtering to 'Yesterday'
2024-03-04T22:00:26.4451410Z           shows the correct total donations
2024-03-04T22:00:27.7936000Z           shows the correct total money raised
2024-03-04T22:00:31.1228117Z           shows 0 Recent Donation link(s)
2024-03-04T22:00:31.1229865Z       given 1 Product Drive Donation on 2024-03-03 (unless 'All Time'), 4 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T22:00:31.1230992Z         filtering to 'Today'
2024-03-04T22:00:32.6262248Z           shows the correct total donations
2024-03-04T22:00:34.1268694Z           shows 3 Recent Donation link(s)
2024-03-04T22:00:35.6753456Z           shows the correct total money raised
2024-03-04T22:00:35.6754985Z   With a new essentials bank
2024-03-04T22:01:03.7397969Z     displays the getting started guide until the steps are completed
2024-03-04T22:01:03.7400106Z 
2024-03-04T22:01:03.7400710Z Kit management
2024-03-04T22:01:05.2439851Z   can allocate and deallocate quantity per storage location from kit index
2024-03-04T22:01:05.8263432Z   should not display inactive storage locations under allocations
2024-03-04T22:01:06.7396141Z   can create a new kit as a user with the proper quantity
2024-03-04T22:01:06.7398139Z   when there is not enough quantity of the items contained in the kit on-hand
2024-03-04T22:01:07.8531896Z     will not change quantity amounts when allocating
2024-03-04T22:01:07.8533234Z   when there is no kit quantity
2024-03-04T22:01:08.9917060Z     will not change quantity amounts when deallocating
2024-03-04T22:01:08.9918284Z 
2024-03-04T22:01:08.9920527Z Managing requests
2024-03-04T22:01:08.9921200Z   creating a new quantity request
2024-03-04T22:01:08.9922137Z     GIVEN a partner user is permitted to make a request
2024-03-04T22:01:08.9923239Z       WHEN they create a request completely empty request
2024-03-04T22:01:09.9448645Z         should show an error message with the instructions
2024-03-04T22:01:09.9449788Z       WHEN they create a request with only a comment
2024-03-04T22:01:10.9450181Z         should be created without any issue
2024-03-04T22:01:10.9450901Z       WHEN they create a request properly
2024-03-04T22:01:10.9452263Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-03-04T22:01:13.2200265Z           AND the partner_user can view the details of the created request in a seperate page
2024-03-04T22:01:13.2201648Z       WHEN they create a request with blank lines
2024-03-04T22:01:14.6363042Z         should be created without any issue
2024-03-04T22:01:14.6364085Z       Select Input Tests
2024-03-04T22:01:14.6365080Z         WHEN they reach the page
2024-03-04T22:01:15.5256997Z           should show the proper items in the select box
2024-03-04T22:01:15.5258070Z           WHEN they create a request improperly
2024-03-04T22:01:16.9103287Z             should show the proper items in the select box
2024-03-04T22:01:16.9104915Z   creating a # individuals request
2024-03-04T22:01:16.9106384Z     GIVEN a partner user is permitted to make a request
2024-03-04T22:01:16.9109176Z       WHEN they create a request completely empty request
2024-03-04T22:01:17.8717310Z         should show an error message with the instructions
2024-03-04T22:01:17.8718507Z       Select Input Tests
2024-03-04T22:01:17.8719387Z         WHEN they reach the page
2024-03-04T22:01:18.7648907Z           should show the proper items in the select box
2024-03-04T22:01:18.7649950Z           WHEN they create a request improperly
2024-03-04T22:01:20.1476800Z             should show the proper items in the select box
2024-03-04T22:01:20.1477895Z       WHEN they create a request properly
2024-03-04T22:01:20.1479207Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-03-04T22:01:22.2846941Z           AND the partner_user can view the details of the created individuals request in a seperate page
2024-03-04T22:01:22.2848252Z       WHEN they create a request improperly by not inputting anything
2024-03-04T22:01:23.2091935Z         should show an error message with the instructions
2024-03-04T22:01:23.2092999Z       WHEN they create a request with blank lines
2024-03-04T22:01:24.6185273Z         should be created without any issue
2024-03-04T22:01:24.6186410Z       WHEN they create a request with only a comment
2024-03-04T22:01:25.6047745Z         should be created without any issue
2024-03-04T22:01:25.6048643Z 
2024-03-04T22:01:25.6048996Z Admin Organization Management
2024-03-04T22:01:25.6050920Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-04T22:01:27.6464992Z     creates a new organization
2024-03-04T22:01:27.6466181Z   While signed in as an Administrative User (super admin)
2024-03-04T22:01:28.7409717Z     filters by organizations by name in organizations index page
2024-03-04T22:01:30.1257771Z     can view organization details
2024-03-04T22:01:32.0655006Z     creates a new organization
2024-03-04T22:01:32.0655807Z 
2024-03-04T22:01:32.0656234Z Adjustments
2024-03-04T22:01:32.0657716Z   while signed in
2024-03-04T22:01:32.0658790Z     POST #create
2024-03-04T22:01:32.0659846Z       with valid params
2024-03-04T22:01:32.1068377Z         redirects to the #show after created adjustment
2024-03-04T22:01:32.1457589Z         creates a new Adjustment
2024-03-04T22:01:32.1753605Z         assigns a user id from the current user
2024-03-04T22:01:32.2055406Z         assigns a newly created adjustment as @adjustment
2024-03-04T22:01:32.2056367Z       with invalid params
2024-03-04T22:01:32.2473080Z         re-renders the 'new' template
2024-03-04T22:01:32.2867194Z         assigns a newly created but unsaved adjustment as @adjustment
2024-03-04T22:01:32.2868365Z     GET #index
2024-03-04T22:01:32.3132355Z       html
2024-03-04T22:01:32.3401695Z         is successful
2024-03-04T22:01:32.3402337Z         when filtering by date
2024-03-04T22:01:32.3403263Z           when date parameters are supplied
2024-03-04T22:01:32.3951772Z             only returns the correct objects
2024-03-04T22:01:32.3952536Z           when date parameters are not supplied
2024-03-04T22:01:32.4503081Z             returns all objects
2024-03-04T22:01:32.4503881Z       csv
2024-03-04T22:01:32.4753948Z         is expected to be successful
2024-03-04T22:01:32.4754570Z     GET #show
2024-03-04T22:01:32.5126067Z       is expected to be successful
2024-03-04T22:01:32.5126743Z     GET #new
2024-03-04T22:01:32.5542477Z       is successful
2024-03-04T22:01:32.5543155Z 
2024-03-04T22:01:32.5543310Z Vendor
2024-03-04T22:01:32.5545667Z   When vendor have purchases associated with them already
2024-03-04T22:01:33.1482339Z     can have existing vendors show in the #index with some summary stats
2024-03-04T22:01:33.7560101Z     can have a single vendor show semi-detailed stats about purchases
2024-03-04T22:01:33.7561063Z   when editing an existing vendor
2024-03-04T22:01:34.5313165Z     can update the contact info for a vendor as a user
2024-03-04T22:01:35.2977768Z     does not update a vendor with empty attributes
2024-03-04T22:01:35.2978676Z   when creating a new vendor
2024-03-04T22:01:36.0355999Z     cannot add a new vendor instance with empty attributes
2024-03-04T22:01:36.8229307Z     can create a new vendor instance as a user
2024-03-04T22:01:36.8230067Z   When a user views the index page
2024-03-04T22:01:37.3106008Z     should have the vendor names in alphabetical order
2024-03-04T22:01:37.3108118Z 
2024-03-04T22:01:37.3128665Z Admin::Partners
2024-03-04T22:01:37.3130525Z   When logged in as a super admin
2024-03-04T22:01:37.3131615Z     GET #edit
2024-03-04T22:01:37.3767813Z       returns http success
2024-03-04T22:01:37.3768512Z     GET #index
2024-03-04T22:01:37.4079249Z       returns http success
2024-03-04T22:01:37.4079967Z     PUT #update
2024-03-04T22:01:37.4080673Z       unsuccessful save due to empty params
2024-03-04T22:01:37.4727800Z         renders #edit template with error message
2024-03-04T22:01:37.4728544Z       successful save
2024-03-04T22:01:37.5144886Z         updates partner
2024-03-04T22:01:37.5521813Z         redirects
2024-03-04T22:01:37.5522520Z     GET #show
2024-03-04T22:01:37.6024074Z       returns http success
2024-03-04T22:01:37.6025506Z 
2024-03-04T22:01:37.6025822Z Donations
2024-03-04T22:01:37.6026884Z   while signed in
2024-03-04T22:01:37.6028351Z     GET #edit
2024-03-04T22:01:37.6029293Z       when an finalized audit has been performed on the donated items
2024-03-04T22:01:37.7430722Z         shows a warning
2024-03-04T22:01:37.7431313Z     GET #index
2024-03-04T22:01:37.7432463Z       csv
2024-03-04T22:01:37.7742416Z         is expected to be successful
2024-03-04T22:01:37.7743098Z       html
2024-03-04T22:01:37.8192364Z         is expected to be successful
2024-03-04T22:01:37.8644863Z         should have the columns source and details
2024-03-04T22:01:37.8645647Z         when given a product drive
2024-03-04T22:01:37.9174399Z           should display Product Drive and the name of the drive
2024-03-04T22:01:37.9175211Z         when given a manufacturer
2024-03-04T22:01:37.9703354Z           should display Manufacturer and the manufacturer name
2024-03-04T22:01:37.9704140Z         when given a donation site
2024-03-04T22:01:38.0227955Z           should display Donation Site and the name of the site
2024-03-04T22:01:38.0228779Z         when given a misc donation
2024-03-04T22:01:38.0707119Z           should display Misc Donation and a truncated comment
2024-03-04T22:01:38.0708634Z     when an non-finalized audit has been performed on the donated items
2024-03-04T22:01:38.2078208Z       does not shows a warning
2024-03-04T22:01:38.2078916Z     when no audit has been performed
2024-03-04T22:01:38.3092783Z       doesn't show a warning
2024-03-04T22:01:38.3330671Z W, [2024-03-04T14:01:38.332780 #2468]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-04T22:01:38.3332704Z W, [2024-03-04T14:01:38.332841 #2468]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-04T22:01:38.3338680Z W, [2024-03-04T14:01:38.332869 #2468]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-04T22:01:38.3342624Z W, [2024-03-04T14:01:38.332906 #2468]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-04T22:01:38.3343776Z 
2024-03-04T22:01:38.3344167Z Finished in 3 minutes 43.5 seconds (files took 8.51 seconds to load)
2024-03-04T22:01:38.3344937Z 233 examples, 0 failures
2024-03-04T22:01:38.3345252Z 
2024-03-04T22:01:38.3345432Z Randomized with seed 55214
2024-03-04T22:01:38.3345741Z 
2024-03-04T22:01:38.8735498Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3868 / 6475 LOC (59.74%) covered.
2024-03-04T22:01:39.4079702Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10762 LOC (0.35%) covered.
