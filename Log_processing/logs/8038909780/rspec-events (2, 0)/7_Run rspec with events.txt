2024-02-25T15:16:16.6990050Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-02-25T15:16:16.6990887Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-02-25T15:16:16.7018730Z shell: /usr/bin/bash -e {0}
2024-02-25T15:16:16.7019114Z env:
2024-02-25T15:16:16.7019523Z   POSTGRES_HOST: localhost
2024-02-25T15:16:16.7019924Z   DATABASE_HOST: localhost
2024-02-25T15:16:16.7020353Z   PG_USERNAME: postgres
2024-02-25T15:16:16.7020754Z   PG_PASSWORD: password
2024-02-25T15:16:16.7021128Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-02-25T15:16:16.7021558Z   POSTGRES_PORT: 5432
2024-02-25T15:16:16.7021927Z   PGHOST: localhost
2024-02-25T15:16:16.7022267Z   PGUSER: postgres
2024-02-25T15:16:16.7022664Z   RAILS_ENV: test
2024-02-25T15:16:16.7023317Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: ***
2024-02-25T15:16:16.7023783Z   KNAPSACK_PRO_CI_NODE_TOTAL: 2
2024-02-25T15:16:16.7024275Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-02-25T15:16:16.7024724Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-02-25T15:16:16.7025332Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-02-25T15:16:16.7025997Z   KNAPSACK_PRO_TEST_FILE_EXCLUDE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-02-25T15:16:16.7026883Z   EVENTS_READ: true
2024-02-25T15:16:16.7027307Z ##[endgroup]
2024-02-25T15:16:28.5270858Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/models/organization_spec.rb" "spec/services/allocate_kit_inventory_service_spec.rb" "spec/queries/low_inventory_query_spec.rb" "spec/services/distribution_destroy_service_spec.rb" "spec/services/partner_create_service_spec.rb" "spec/models/storage_location_spec.rb" "spec/queries/items_in_total_query_spec.rb" "spec/services/reports/children_served_report_service_spec.rb" "spec/models/item_spec.rb" "spec/services/reports/summary_report_service_spec.rb" "spec/models/view/inventory_spec.rb" "spec/controllers/items_controller_spec.rb" "spec/services/remove_role_service_spec.rb" "spec/models/transfer_spec.rb" "spec/services/item_create_service_spec.rb" "spec/services/reports/period_supply_report_service_spec.rb" "spec/services/adjustment_create_service_spec.rb" "spec/services/distribution_itemized_breakdown_service_spec.rb" "spec/models/manufacturer_spec.rb" "spec/jobs/partner_mailer_job_spec.rb" "spec/mailers/distribution_mailer_spec.rb" "spec/services/calendar_service_spec.rb" "spec/models/account_request_spec.rb" "spec/services/user_invite_service_spec.rb" "spec/models/product_drive_participant_spec.rb" "spec/services/distribution_update_service_spec.rb" "spec/controllers/transfers_controller_spec.rb" "spec/services/donation_itemized_breakdown_service_spec.rb" "spec/jobs/historical_data_cache_job_spec.rb" "spec/services/partners/fetch_partners_to_remind_now_service_spec.rb" "spec/services/partners/request_create_service_spec.rb" "spec/models/partners/family_spec.rb" "spec/services/partner_request_recertification_service_spec.rb" "spec/mailers/partner_mailer_spec.rb" "spec/services/partner_approval_service_spec.rb" "spec/models/user_spec.rb" "spec/services/partner_profile_update_service_spec.rb" "spec/services/inventory_check_service_spec.rb" "spec/services/partners/request_approval_service_spec.rb" "spec/queries/items_out_total_query_spec.rb" "spec/mailers/custom_devise_mailer_spec.rb" "spec/mailers/reminder_deadline_mailer_spec.rb" "spec/services/exports/export_donations_csv_service_spec.rb" "spec/services/request_destroy_service_spec.rb" "spec/services/partner_invite_service_spec.rb" "spec/models/partner_group_spec.rb" "spec/models/users_role_spec.rb" "spec/models/organization_stats_spec.rb" "spec/services/sync_ndbn_members_spec.rb" "spec/mailers/request_mailer_spec.rb" "spec/models/base_item_spec.rb" "spec/services/donation_destroy_service_spec.rb" "spec/models/partners/item_request_spec.rb" "spec/models/partners/authorized_family_member_spec.rb" "spec/services/deadline_service_spec.rb" "spec/services/profile_update_service_spec.rb" "spec/services/text_interpolator_service_spec.rb" "spec/models/role_spec.rb" "spec/controllers/help_controller_spec.rb" "spec/models/concerns/deadlinable_spec.rb" "spec/helpers/historical_trends_helper_spec.rb" "spec/helpers/ui_helper_spec.rb" "spec/lib/dispersed_past_dates_generator_spec.rb" "spec/models/kit_allocation_spec.rb" "spec/controllers/admins_controller_spec.rb"
2024-02-25T15:16:37.3965355Z 
2024-02-25T15:16:37.3966231Z Randomized with seed 12192
2024-02-25T15:16:38.4664814Z 
2024-02-25T15:16:38.4665655Z ItemsInTotalQuery
2024-02-25T15:16:38.4666394Z   items_in_total_query
2024-02-25T15:16:38.7963536Z     does not count negative adjustments towards in-flow
2024-02-25T15:16:39.2018062Z     counts shared items together
2024-02-25T15:16:39.5111629Z     does not count donations, purchases, adjustments to other storage locations
2024-02-25T15:16:39.6914783Z     returns a sum total of all in-flows
2024-02-25T15:16:39.9505423Z     does not count transfers going in the negative direction
2024-02-25T15:16:39.9506124Z 
2024-02-25T15:16:39.9506451Z LowInventoryQuery
2024-02-25T15:16:40.1368003Z   is expected to eq []
2024-02-25T15:16:40.1368712Z   with inventory items
2024-02-25T15:16:40.3222996Z     is expected to eq []
2024-02-25T15:16:40.3223880Z     when inventory quantity equals recommended quantity
2024-02-25T15:16:40.5064955Z       is expected to eq []
2024-02-25T15:16:40.5066101Z     when minimum_quantity is equal to quantity
2024-02-25T15:16:40.6978229Z       is expected to eq []
2024-02-25T15:16:40.6979279Z     when minimum_quantity is 0 and recommended_quantity is nil and item quantity is 0
2024-02-25T15:16:40.8783904Z       is expected to eq []
2024-02-25T15:16:40.8784804Z     when minimum_quantity and recommended_quantity is nil
2024-02-25T15:16:41.0612429Z       is expected to eq []
2024-02-25T15:16:41.0613358Z     when inventory quantity is over minimum quantity
2024-02-25T15:16:41.2459138Z       is expected to eq []
2024-02-25T15:16:41.2460098Z     when inventory quantity drops below recommended quantity
2024-02-25T15:16:41.4320863Z       is expected to include #<InventoryItem id: 27, storage_location_id: 17, item_id: 440, quantity: 100, created_at: "2024-02-25 07:16:41.424422806 -0800", updated_at: "2024-02-25 07:16:41.424422806 -0800">
2024-02-25T15:16:41.4322450Z     when inventory quantity drops below minimum quantity
2024-02-25T15:16:41.6159896Z       is expected to include #<InventoryItem id: 28, storage_location_id: 18, item_id: 486, quantity: 100, created_at: "2024-02-25 07:16:41.611412678 -0800", updated_at: "2024-02-25 07:16:41.611412678 -0800">
2024-02-25T15:16:41.6161863Z 
2024-02-25T15:16:41.6162304Z SyncNDBNMembers
2024-02-25T15:16:41.6162739Z   .sync
2024-02-25T15:16:41.6163332Z     when the HTTP request does not get a response of 200
2024-02-25T15:16:41.6491418Z       should raise an error regarding the response code
2024-02-25T15:16:41.6492209Z     when the HTTP request is successful
2024-02-25T15:16:41.6493252Z       when the account name of a NDBN Member has changed
2024-02-25T15:16:41.6703823Z         should update the account name of the corresponding NDBN Member
2024-02-25T15:16:41.6704909Z       when there are no exisiting NDBN Member records
2024-02-25T15:16:41.6815769Z         should create the NDBN Member records
2024-02-25T15:16:41.6816427Z       when no new NDBN Member has been added
2024-02-25T15:16:41.6951360Z         should not add any new NDBN Members
2024-02-25T15:16:41.6951863Z 
2024-02-25T15:16:41.6952187Z Partners::ItemRequest
2024-02-25T15:16:41.6953251Z   associations
2024-02-25T15:16:41.7070432Z     is expected to have many child_item_requests dependent => destroy
2024-02-25T15:16:41.7114352Z     is expected to have many children through child_item_requests
2024-02-25T15:16:41.7166783Z     is expected to belong to request class_name => ::Request required: true
2024-02-25T15:16:41.7167703Z   validations
2024-02-25T15:16:41.7232001Z     is expected to validate that :partner_key cannot be empty/falsy
2024-02-25T15:16:41.7298620Z     is expected to validate that :quantity looks like an integer greater than or equal to 1
2024-02-25T15:16:41.7364600Z     is expected to validate that :quantity cannot be empty/falsy
2024-02-25T15:16:41.7423164Z     is expected to validate that :name cannot be empty/falsy
2024-02-25T15:16:41.7424061Z   versioning
2024-02-25T15:16:41.7463085Z     is expected to be versioned
2024-02-25T15:16:41.7463617Z 
2024-02-25T15:16:41.7463896Z ProfileUpdateService
2024-02-25T15:16:41.7464977Z   #update
2024-02-25T15:16:41.7787490Z     updates the profile with the filtered and prepared params
2024-02-25T15:16:41.7788310Z 
2024-02-25T15:16:41.7788511Z RequestMailer
2024-02-25T15:16:41.7789295Z   #request_cancel_partner_notification
2024-02-25T15:16:41.8092255Z     renders the body with correct text with partner information
2024-02-25T15:16:41.8251971Z     should be sent to the partner main email with the correct subject line
2024-02-25T15:16:41.8253272Z 
2024-02-25T15:16:41.8253529Z OrganizationStats
2024-02-25T15:16:41.8254307Z   donation_sites_added method >
2024-02-25T15:16:41.8255539Z     current org is not nil >
2024-02-25T15:16:41.8299047Z       should return actual count of donation sites
2024-02-25T15:16:41.8299925Z     current org is nil >
2024-02-25T15:16:41.8335800Z       should return 0
2024-02-25T15:16:41.8336510Z   storage_locations_added method >
2024-02-25T15:16:41.8337444Z     current org is nil >
2024-02-25T15:16:41.8375460Z       should return 0
2024-02-25T15:16:41.8376131Z     current org is not nil >
2024-02-25T15:16:41.8411243Z       should return actual count of locations
2024-02-25T15:16:41.8412036Z   partners_added method >
2024-02-25T15:16:41.8415089Z     current org is not nil >
2024-02-25T15:16:41.8450403Z       should return actual count of partners
2024-02-25T15:16:41.8451201Z     current org is nil >
2024-02-25T15:16:41.8487442Z       should return 0
2024-02-25T15:16:41.8488352Z   locations_with_inventory method >
2024-02-25T15:16:41.8489309Z     current org is nil >
2024-02-25T15:16:41.8522818Z       should return an empty array
2024-02-25T15:16:41.8523412Z     current org is not nil + locations have items >
2024-02-25T15:16:41.8893796Z       should return storage location
2024-02-25T15:16:41.8895070Z     current org is not nil + no locations have items >
2024-02-25T15:16:41.8972021Z       should return an empty array
2024-02-25T15:16:41.8972800Z 
2024-02-25T15:16:41.8973468Z DonationDestroyService
2024-02-25T15:16:41.8974338Z   #call
2024-02-25T15:16:41.8976145Z     when the donation succesfully gets destroyed
2024-02-25T15:16:41.9295747Z       to be a success
2024-02-25T15:16:41.9296557Z     when the donation destroy fails
2024-02-25T15:16:41.9356202Z       to not be a success
2024-02-25T15:16:41.9357148Z     when the organization_id matches no Organization
2024-02-25T15:16:41.9396819Z       to not be a success
2024-02-25T15:16:41.9397796Z     when the donation_id matches no Donation owned by the organization
2024-02-25T15:16:41.9443262Z       to not be a success
2024-02-25T15:16:41.9444214Z     when storage_location fails to decrease the inventory of the donation
2024-02-25T15:16:41.9507659Z       to not be a success
2024-02-25T15:16:41.9508391Z 
2024-02-25T15:16:41.9508734Z RemoveRoleService
2024-02-25T15:16:41.9509760Z   #call
2024-02-25T15:16:41.9511208Z     when the role exists
2024-02-25T15:16:42.1646279Z       should remove the admin role when removing user role
2024-02-25T15:16:42.3663087Z       should remove the role
2024-02-25T15:16:42.5693737Z       should work with a type and ID instead of role ID
2024-02-25T15:16:42.5694686Z     when not enough information provided
2024-02-25T15:16:42.7672890Z       should raise an error
2024-02-25T15:16:42.7674477Z     when the role does not exist
2024-02-25T15:16:42.9563345Z       should raise an error
2024-02-25T15:16:42.9564235Z 
2024-02-25T15:16:42.9564520Z PartnerApprovalService
2024-02-25T15:16:42.9565363Z   #call
2024-02-25T15:16:42.9566090Z     when the arguments are correct
2024-02-25T15:16:42.9895528Z       should have no errors
2024-02-25T15:16:43.0238458Z       should send an email notification to the partner
2024-02-25T15:16:43.0585071Z       should change the partner status to approved
2024-02-25T15:16:43.0586376Z       but a unexpected error occured during the save
2024-02-25T15:16:43.0587152Z         for partner approval
2024-02-25T15:16:43.0887800Z           should not change the partner status to approved
2024-02-25T15:16:43.1174564Z           should have an error with the raised error
2024-02-25T15:16:43.1458929Z           should not send an email notification to the partner
2024-02-25T15:16:43.1460214Z     when the arguments are incorrect
2024-02-25T15:16:43.1461064Z       because the partner is not approvable
2024-02-25T15:16:43.1748922Z         should return the PartnerApprovalService object with an error
2024-02-25T15:16:43.1749754Z 
2024-02-25T15:16:43.1750020Z PartnerGroup
2024-02-25T15:16:43.1751180Z   associations
2024-02-25T15:16:43.1844613Z     is expected to have many partners
2024-02-25T15:16:43.1906650Z     is expected to belong to organization required: true
2024-02-25T15:16:43.1976689Z     is expected to have and belong to many item_categories
2024-02-25T15:16:43.1977912Z   Validations >
2024-02-25T15:16:43.2034413Z     must belong to an organization
2024-02-25T15:16:43.2145050Z     requires a unique name within an organization
2024-02-25T15:16:43.2434860Z     does not require a unique name between organizations
2024-02-25T15:16:43.2435632Z     deadline_day && reminder_day must be defined if send_reminders=true
2024-02-25T15:16:43.2501641Z       should not be valid
2024-02-25T15:16:43.2502253Z   versioning
2024-02-25T15:16:43.2543706Z     is expected to be versioned
2024-02-25T15:16:43.2544506Z   DB constraints
2024-02-25T15:16:43.2545453Z     reminder_day <= 28
2024-02-25T15:16:43.2629459Z       raises error if unmet
2024-02-25T15:16:43.2630155Z     deadline_day <= 28
2024-02-25T15:16:43.2708344Z       raises error if unmet
2024-02-25T15:16:43.2708849Z     send_reminders IS NOT NULL
2024-02-25T15:16:43.2781523Z       raises error if unmet
2024-02-25T15:16:43.2782448Z 
2024-02-25T15:16:43.2783153Z ItemCreateService
2024-02-25T15:16:43.2783995Z   #call
2024-02-25T15:16:43.2784758Z     when an issue occurs in transaction
2024-02-25T15:16:43.2785851Z       because the item create raised an error
2024-02-25T15:16:43.4474721Z         should return a OpenStruct with the raised error
2024-02-25T15:16:43.4475846Z       because a inventory item creation failed and raised an error
2024-02-25T15:16:43.6328254Z         should return a OpenStruct with the raised error
2024-02-25T15:16:43.6329980Z       because the organization_id does not match any Organization
2024-02-25T15:16:43.8089019Z         should return a OpenStruct with an ActiveRecord::RecordNotFound error
2024-02-25T15:16:43.8090349Z     when there are no issues
2024-02-25T15:16:43.9835398Z       should return an OpenStruct with success? set to true and the item
2024-02-25T15:16:44.1633032Z       should execute the expected methods
2024-02-25T15:16:44.1633628Z 
2024-02-25T15:16:44.1633909Z DistributionDestroyService
2024-02-25T15:16:44.1634989Z   #call
2024-02-25T15:16:44.1635707Z     when the distribution_id does match a Distribution
2024-02-25T15:16:44.1636687Z       and the increase inventory operations fails
2024-02-25T15:16:44.3870574Z         should not delete the Distribution
2024-02-25T15:16:44.6006402Z         should not be successful and have the error message
2024-02-25T15:16:44.6007377Z       and the operations succeed
2024-02-25T15:16:44.8210311Z         should destroy the Distribution
2024-02-25T15:16:45.0471713Z         should be successful
2024-02-25T15:16:45.2634135Z         should increase the inventory of the storage location
2024-02-25T15:16:45.2635150Z       and the destroy! operation fails
2024-02-25T15:16:45.4726387Z         should not delete the Distribution
2024-02-25T15:16:45.6871803Z         should not be successful and have the error message
2024-02-25T15:16:45.6872762Z     when the distribution_id matches no Distribution
2024-02-25T15:16:45.6914811Z       to not be a success
2024-02-25T15:16:45.6915597Z 
2024-02-25T15:16:45.6915896Z Deadlinable
2024-02-25T15:16:45.6916882Z   validations
2024-02-25T15:16:45.7002152Z     is expected to validate that :deadline_day looks like an integer greater than or equal to 1 and less than or equal to 28 as long as it is not nil
2024-02-25T15:16:45.7050343Z     validates that reminder day is not the same as deadline day
2024-02-25T15:16:45.7126848Z     is expected to validate that :reminder_day looks like an integer greater than or equal to 1 and less than or equal to 28 as long as it is not nil
2024-02-25T15:16:45.7128500Z 
2024-02-25T15:16:45.7128708Z InventoryCheckService
2024-02-25T15:16:45.7129555Z   call
2024-02-25T15:16:45.7129987Z     error
2024-02-25T15:16:45.7957610Z       should set the error
2024-02-25T15:16:45.7958412Z     alert
2024-02-25T15:16:45.8790949Z       should set the alert
2024-02-25T15:16:45.8791567Z 
2024-02-25T15:16:45.8792363Z PartnerMailerJob
2024-02-25T15:16:45.8793521Z   conditionally sending the emails
2024-02-25T15:16:46.0880655Z     does not send mail for past distributions
2024-02-25T15:16:46.4158201Z     sends mail for future distributions immediately
2024-02-25T15:16:46.4159656Z     when the distribution is for a deactivated partner
2024-02-25T15:16:46.6285186Z       does not send the email
2024-02-25T15:16:46.6285783Z 
2024-02-25T15:16:46.6286009Z ReminderDeadlineMailer
2024-02-25T15:16:46.6287195Z   notify deadline
2024-02-25T15:16:46.6620892Z     renders the sender email
2024-02-25T15:16:46.6937945Z     renders the subject
2024-02-25T15:16:46.7252361Z     renders the body
2024-02-25T15:16:46.7554558Z     renders the receiver email
2024-02-25T15:16:46.7555666Z 
2024-02-25T15:16:46.7556052Z Reports::PeriodSupplyReportService
2024-02-25T15:16:46.7556855Z   #report
2024-02-25T15:16:46.9496918Z     should report zero values
2024-02-25T15:16:46.9497971Z     with values
2024-02-25T15:16:47.5946629Z       should report normal values
2024-02-25T15:16:47.5947502Z 
2024-02-25T15:16:47.5948335Z PartnerRequestRecertificationService
2024-02-25T15:16:47.5949160Z   #call
2024-02-25T15:16:47.5950346Z     when the partner is deactivated
2024-02-25T15:16:47.6278338Z       does not send an email
2024-02-25T15:16:47.6279451Z     when the arguments are incorrect
2024-02-25T15:16:47.6280679Z       because the partner has already been requested to recertify
2024-02-25T15:16:47.6599776Z         should return the PartnerRequestRecertificationService object with an error
2024-02-25T15:16:47.6600795Z     when the arguments are correct
2024-02-25T15:16:47.6939797Z       should queue sending the notice to the partner
2024-02-25T15:16:47.7272943Z       should have no errors
2024-02-25T15:16:47.7634091Z       should change the partner status to approved
2024-02-25T15:16:47.7635065Z       but a unexpected error occurred during the save
2024-02-25T15:16:47.7635709Z         for partner approval
2024-02-25T15:16:47.7933221Z           should have an error with the raised error
2024-02-25T15:16:47.8259457Z           should NOT queue sending the notice to the partner
2024-02-25T15:16:47.8590445Z           should not change the partner status to recertification_required
2024-02-25T15:16:47.8591332Z 
2024-02-25T15:16:47.8591591Z ProductDriveParticipant
2024-02-25T15:16:47.8592969Z   behaves like provideable
2024-02-25T15:16:47.8597587Z     Validations
2024-02-25T15:16:47.8733321Z       is invalid unless it has either a contact name or a business name
2024-02-25T15:16:47.8777101Z       is invalid without an organization
2024-02-25T15:16:47.8778203Z     import_csv
2024-02-25T15:16:48.0657910Z       imports from a csv file
2024-02-25T15:16:48.0658670Z     geocode
2024-02-25T15:16:48.0722199Z       adds coordinates to the database
2024-02-25T15:16:48.0722814Z   Validations
2024-02-25T15:16:48.0765024Z     is invalid without an organization
2024-02-25T15:16:48.0827948Z     is invalid unless it has either a phone number or an email
2024-02-25T15:16:48.0828547Z   Methods
2024-02-25T15:16:48.0829625Z     volume_by_product_drive
2024-02-25T15:16:48.2591259Z       retrieves the amount of product that has been donated through specific product drive
2024-02-25T15:16:48.2592232Z     volume
2024-02-25T15:16:48.3371109Z       retrieves the amount of product that has been donated by participant
2024-02-25T15:16:48.3372553Z     donation_source_view
2024-02-25T15:16:48.3374233Z       no contact name
2024-02-25T15:16:48.3443082Z         is expected to be nil
2024-02-25T15:16:48.3444037Z       contact name present
2024-02-25T15:16:48.3506375Z         is expected to eq "Contact Name (participant)"
2024-02-25T15:16:48.3507210Z   versioning
2024-02-25T15:16:48.3548114Z     is expected to be versioned
2024-02-25T15:16:48.3549217Z 
2024-02-25T15:16:48.3549462Z ItemsController
2024-02-25T15:16:48.3550816Z   While signed in
2024-02-25T15:16:48.3553133Z     PATCH #restore
2024-02-25T15:16:48.3554240Z       with an active item
2024-02-25T15:16:48.3916361Z         does nothing
2024-02-25T15:16:48.3918020Z       with a soft-deleted item
2024-02-25T15:16:48.4159470Z         re-activates the item
2024-02-25T15:16:48.4160618Z       with another organizations item
2024-02-25T15:16:48.6108014Z         does nothing
2024-02-25T15:16:48.6108669Z     GET #show
2024-02-25T15:16:48.6333035Z       returns http success
2024-02-25T15:16:48.6333796Z     GET #edit
2024-02-25T15:16:48.6527470Z       returns http success
2024-02-25T15:16:48.6528252Z     PUT #update
2024-02-25T15:16:48.6529116Z       visible
2024-02-25T15:16:48.6792697Z         should update visible_to_partners to true
2024-02-25T15:16:48.6793357Z       invisible
2024-02-25T15:16:48.7026729Z         should update visible_to_partners to false
2024-02-25T15:16:48.7027701Z     DELETE #destroy
2024-02-25T15:16:48.7328894Z       redirects to #index
2024-02-25T15:16:48.7329959Z     GET #new
2024-02-25T15:16:48.7455948Z       returns http success
2024-02-25T15:16:48.7456677Z     PATCH #remove_category
2024-02-25T15:16:48.9519662Z       should remove an item's category
2024-02-25T15:16:49.1573860Z       should redirect to the previous category page
2024-02-25T15:16:49.1575064Z     GET #index
2024-02-25T15:16:49.1791329Z       returns http success
2024-02-25T15:16:49.1792449Z     Looking at a different organization
2024-02-25T15:16:49.3622972Z       redirects the user to the sign-in page for CRUD actions
2024-02-25T15:16:49.3623862Z     POST #create
2024-02-25T15:16:49.3624703Z       with valid params
2024-02-25T15:16:49.3851901Z         should create an item
2024-02-25T15:16:49.4067938Z         should accept params with dollar signs, periods, and commas
2024-02-25T15:16:49.4280611Z         should redirect to the item page
2024-02-25T15:16:49.4281394Z       with invalid params
2024-02-25T15:16:49.4454257Z         should show an error
2024-02-25T15:16:49.4455294Z   While not signed in
2024-02-25T15:16:49.4559288Z     redirects the user to the sign-in page for CRUD actions
2024-02-25T15:16:49.4560029Z 
2024-02-25T15:16:49.4560505Z Partners::AuthorizedFamilyMember
2024-02-25T15:16:49.4561250Z   versioning
2024-02-25T15:16:49.4670649Z     is expected to be versioned
2024-02-25T15:16:49.4671634Z   #display_name
2024-02-25T15:16:49.5137334Z     should return the family member's first and last name
2024-02-25T15:16:49.5138245Z   associations
2024-02-25T15:16:49.5189812Z     is expected to belong to family required: true
2024-02-25T15:16:49.5229733Z     is expected to have many child_item_requests dependent => nullify
2024-02-25T15:16:49.5230544Z 
2024-02-25T15:16:49.5231011Z View::Inventory
2024-02-25T15:16:49.5233202Z   #storage_location_name
2024-02-25T15:16:49.7026496Z     should return the right name
2024-02-25T15:16:49.7027211Z   #total_value_in_dollars
2024-02-25T15:16:49.8884142Z     should return total value across the given location
2024-02-25T15:16:49.8885052Z   #storage_locations_for_item
2024-02-25T15:16:49.9828973Z     should return all relevant IDs
2024-02-25T15:16:49.9829575Z   .total_inventory
2024-02-25T15:16:50.0771303Z     should return the total quantity
2024-02-25T15:16:50.0771935Z   #all_items
2024-02-25T15:16:50.1675420Z     should return all items across storage locations
2024-02-25T15:16:50.1676298Z   #quantity_for
2024-02-25T15:16:50.1676759Z     with item id
2024-02-25T15:16:50.1677429Z       with no storage location
2024-02-25T15:16:50.2622355Z         should return quantities across all storage locations
2024-02-25T15:16:50.2623018Z       with storage location
2024-02-25T15:16:50.3574214Z         should return the quantity at that location
2024-02-25T15:16:50.3575110Z     with storage location but no item id
2024-02-25T15:16:50.4468388Z       should return all items at that location
2024-02-25T15:16:50.4469587Z   .items_for_location
2024-02-25T15:16:50.5346589Z     should return the right values
2024-02-25T15:16:50.5347720Z     with include_omitted_items
2024-02-25T15:16:50.6270003Z       should add items not in the storage location
2024-02-25T15:16:50.6270833Z   #items_for_location
2024-02-25T15:16:50.7178849Z     should return the right values
2024-02-25T15:16:50.7179822Z     with include_omitted_items
2024-02-25T15:16:50.8103433Z       should add items not in the storage location
2024-02-25T15:16:50.8104085Z 
2024-02-25T15:16:50.8104347Z CalendarService
2024-02-25T15:16:51.1401086Z   #time_zones
2024-02-25T15:16:51.1401639Z   .calendar
2024-02-25T15:16:51.2033383Z     should print the calendar correctly
2024-02-25T15:16:51.2034313Z 
2024-02-25T15:16:51.2034600Z DonationItemizedBreakdownService
2024-02-25T15:16:51.2035334Z   #fetch
2024-02-25T15:16:51.6356986Z     return the list of items donated with distributed
2024-02-25T15:16:51.6357682Z 
2024-02-25T15:16:51.6357915Z AdjustmentCreateService
2024-02-25T15:16:51.6358539Z   call
2024-02-25T15:16:51.6941102Z     gives an error if we attempt to adjust inventory below 0
2024-02-25T15:16:51.7954779Z     handles adjustments to multiple items
2024-02-25T15:16:51.8813114Z     saves a new adjustment with line items relating to the current (simple case) negative adjustment
2024-02-25T15:16:51.9732864Z     increases stored inventory on a positive adjustment
2024-02-25T15:16:52.0572436Z     saves a new adjustment with line items relating to the current (simple case) positive adjustment
2024-02-25T15:16:52.1503941Z     increases handles mixed adjustments to same appropriately (total is negative version)
2024-02-25T15:16:52.2446624Z     decreases stored inventory on a negative adjustment
2024-02-25T15:16:52.3419025Z     handles mixed adjustments to same item appropriately (total is positive version)
2024-02-25T15:16:52.4075420Z     does not allow inventory to be adjusted below 0
2024-02-25T15:16:52.4076178Z 
2024-02-25T15:16:52.4076574Z UiHelper
2024-02-25T15:16:52.4078144Z   optional_data_text
2024-02-25T15:16:52.4079573Z     when the field provided is not blank
2024-02-25T15:16:52.4138076Z       should return the content
2024-02-25T15:16:52.4138914Z     when the field provided is blank
2024-02-25T15:16:52.4187096Z       should return the text Not-Provided in gray text
2024-02-25T15:16:52.4187814Z 
2024-02-25T15:16:52.4188414Z PartnerMailer
2024-02-25T15:16:52.4189253Z   #application_approved
2024-02-25T15:16:52.4467239Z     should be sent to the partner main email with the correct subject line
2024-02-25T15:16:52.4746977Z     renders the body with text that indicates the result and a link to their dashboard
2024-02-25T15:16:52.4748150Z   #recertification_request
2024-02-25T15:16:52.5006235Z     renders the body with text that indicates to recertify and link to where
2024-02-25T15:16:52.5252567Z     should be sent to the partner main email with the correct subject line
2024-02-25T15:16:52.5253434Z 
2024-02-25T15:16:52.5253683Z DeadlineService
2024-02-25T15:16:52.5254460Z   #next_deadline
2024-02-25T15:16:52.5255243Z     do from the partner group
2024-02-25T15:16:52.5256234Z       when the deadline is after today
2024-02-25T15:16:52.5320016Z         returns a date within the current month
2024-02-25T15:16:52.5321460Z       when the deadline is today
2024-02-25T15:16:52.5376285Z         returns a date in the next month
2024-02-25T15:16:52.5377072Z       when the deadline is before today
2024-02-25T15:16:52.5430463Z         returns a date in the next month
2024-02-25T15:16:52.5431499Z     from the organization
2024-02-25T15:16:52.5432260Z       when the deadline is today
2024-02-25T15:16:52.5485493Z         returns a date in the next month
2024-02-25T15:16:52.5486424Z       when the deadline is after today
2024-02-25T15:16:52.5539916Z         returns a date within the current month
2024-02-25T15:16:52.5540919Z       when the deadline is before today
2024-02-25T15:16:52.5594093Z         returns a date in the next month
2024-02-25T15:16:52.5595082Z 
2024-02-25T15:16:52.5595517Z DistributionMailer
2024-02-25T15:16:52.5596861Z   #reminder_email
2024-02-25T15:16:52.5597876Z     Text format
2024-02-25T15:16:52.6184673Z       renders the body with organization's email text
2024-02-25T15:16:52.6185658Z     with deliver_method: :pick_up
2024-02-25T15:16:52.6740605Z       renders the body with 'pick up' specified
2024-02-25T15:16:52.6741648Z     HTML format
2024-02-25T15:16:52.7273506Z       renders the body with organization's email text
2024-02-25T15:16:52.7274394Z     with deliver_method: :delivery
2024-02-25T15:16:52.7831921Z       renders the body with 'delivery' specified
2024-02-25T15:16:52.7832663Z   #partner_mailer
2024-02-25T15:16:52.8388170Z     renders the body with organization's email text
2024-02-25T15:16:52.8906273Z     renders the body with distributions text
2024-02-25T15:16:52.8907060Z     with deliver_method: :pick_up
2024-02-25T15:16:52.9589957Z       renders the body with 'picked up' specified
2024-02-25T15:16:52.9590653Z       when parners profile pick_up_email is present
2024-02-25T15:16:53.0157703Z         sends email to the primary contact and partner`s pickup person
2024-02-25T15:16:53.0159141Z         when pickup person happens to be the same as the primary contact
2024-02-25T15:16:53.0729961Z           does not send email twice
2024-02-25T15:16:53.0730629Z     with deliver_method: :delivery
2024-02-25T15:16:53.1305075Z       renders the body with 'delivered' specified
2024-02-25T15:16:53.1856484Z       sends copy of email only to the partner
2024-02-25T15:16:53.1857287Z     with distribution changes
2024-02-25T15:16:53.2474064Z       renders the body with changes that happened in the distribution
2024-02-25T15:16:53.2475009Z 
2024-02-25T15:16:53.2475361Z PartnerCreateService
2024-02-25T15:16:53.2475970Z   #call
2024-02-25T15:16:53.4426932Z     should return an instance of itself
2024-02-25T15:16:53.4427791Z     when the arguments are valid
2024-02-25T15:16:53.6329096Z       should create the associated partner profile data
2024-02-25T15:16:53.8182981Z       should create a new partner record with the organization provided
2024-02-25T15:16:53.8184032Z       but there was an unexpected issue with saving the
2024-02-25T15:16:53.8184748Z         Partner record
2024-02-25T15:16:54.0012012Z           should not create the associated partner records
2024-02-25T15:16:54.1822648Z           should not create the partner record for the organization
2024-02-25T15:16:54.1823345Z         Partners::Profile record
2024-02-25T15:16:54.3650636Z           should not create the associated partner records
2024-02-25T15:16:54.5589074Z           should not create the partner record for the organization
2024-02-25T15:16:54.5590145Z     when the arguments are incorrect
2024-02-25T15:16:54.5590892Z       beacuse the partner_attrs are invalid
2024-02-25T15:16:54.7472217Z         should contain errors related to invalid partner attributes
2024-02-25T15:16:54.7473116Z 
2024-02-25T15:16:54.7473605Z Partners::FetchPartnersToRemindNowService
2024-02-25T15:16:54.7474610Z   .fetch
2024-02-25T15:16:54.7475286Z     when there is a partner
2024-02-25T15:16:54.7476655Z       that does NOT have a organization with a global reminder & deadline
2024-02-25T15:16:54.7477577Z         and is a part of a partner group that does have them defined
2024-02-25T15:16:54.7478959Z           that is not for today
2024-02-25T15:16:54.7879553Z             should NOT include that partner
2024-02-25T15:16:54.7880451Z           that is for today
2024-02-25T15:16:54.8271520Z             should include that partner
2024-02-25T15:16:54.8272302Z             but the partner is deactivated
2024-02-25T15:16:54.8693178Z               should NOT include that partner
2024-02-25T15:16:54.8694226Z       that has an organization with a global reminder & deadline
2024-02-25T15:16:54.8695403Z         that is not for today
2024-02-25T15:16:54.9031505Z           should NOT include that partner
2024-02-25T15:16:54.9032697Z         AND a partner group that does have them defined
2024-02-25T15:16:54.9442067Z           should remind based on the partner group instead of the organization level reminder
2024-02-25T15:16:54.9443243Z           but the partner is deactivated
2024-02-25T15:16:54.9894789Z             should NOT include that partner
2024-02-25T15:16:54.9895640Z         that is for today
2024-02-25T15:16:55.0246931Z           should include that partner
2024-02-25T15:16:55.0248105Z           but the partner is deactivated
2024-02-25T15:16:55.0619431Z             should NOT include that partner
2024-02-25T15:16:55.0620623Z           and has send_reminder=false
2024-02-25T15:16:55.0997065Z             should NOT include that partner
2024-02-25T15:16:55.0998126Z 
2024-02-25T15:16:55.0998461Z UsersRole
2024-02-25T15:16:55.1000350Z   versioning
2024-02-25T15:16:55.1045835Z     is expected to be versioned
2024-02-25T15:16:55.1046604Z   #current_role_for
2024-02-25T15:16:55.1047396Z     for super admin
2024-02-25T15:16:55.1231726Z       should return super admin
2024-02-25T15:16:55.1232517Z     for org user
2024-02-25T15:16:55.1375918Z       should return org user
2024-02-25T15:16:55.1376700Z     for partner user
2024-02-25T15:16:55.1525639Z       should return partner user
2024-02-25T15:16:55.1526462Z     for org admin
2024-02-25T15:16:55.1742694Z       should return org admin
2024-02-25T15:16:55.1743307Z 
2024-02-25T15:16:55.1743634Z Partners::RequestApprovalService
2024-02-25T15:16:55.1744576Z   #call
2024-02-25T15:16:55.1746235Z     when the partner is not yet awaiting approval
2024-02-25T15:16:55.2075916Z       should set the status on the partner record to awaiting_review
2024-02-25T15:16:55.2405671Z       should send an email notification to the partner's organization
2024-02-25T15:16:55.2406977Z     when the partner is not yet waiting for approval and there is no profile error
2024-02-25T15:16:55.2749455Z       does not have an error
2024-02-25T15:16:55.2750595Z     when the partner is already awaiting approval
2024-02-25T15:16:55.3054364Z       should return an error saying it the partner is already requested approval
2024-02-25T15:16:55.3055772Z     when the partner is not yet waiting for approval and there is a profile error
2024-02-25T15:16:55.3057415Z       should return an error re agency_type (PENDING: Temporarily skipped with xit)
2024-02-25T15:16:55.3332544Z       should return an error re social media
2024-02-25T15:16:55.3333183Z 
2024-02-25T15:16:55.3333495Z DistributionUpdateService
2024-02-25T15:16:55.3334733Z   resend_notification?
2024-02-25T15:16:55.4362058Z     changes the delivery_method, resulting in resend_notification? = true
2024-02-25T15:16:55.5324462Z     changes the issue_date, resulting in resend_notification? = true
2024-02-25T15:16:55.6390625Z     changes any distribution content, resulting in resend_notification? = true
2024-02-25T15:16:55.6391846Z   call
2024-02-25T15:16:55.7495649Z     replaces a big distribution with a smaller one, resulting in increased stored quantities
2024-02-25T15:16:55.7496721Z 
2024-02-25T15:16:55.7497023Z Exports::ExportDonationsCSVService
2024-02-25T15:16:55.7498024Z   #generate_csv_data
2024-02-25T15:16:55.8649855Z     should match the expected content for the csv
2024-02-25T15:16:55.8650569Z 
2024-02-25T15:16:55.8651014Z BaseItem
2024-02-25T15:16:55.8651722Z   Filtering >
2024-02-25T15:16:55.8653045Z     ->by_partner_key
2024-02-25T15:16:55.8709026Z       shows the Base Items by partner_key
2024-02-25T15:16:55.8709646Z     ->without_kit
2024-02-25T15:16:55.8763255Z       should not include the Kit BaseItem
2024-02-25T15:16:55.8764170Z   Associations >
2024-02-25T15:16:55.8897429Z     keeps count of its associated items
2024-02-25T15:16:55.8898195Z   Validations >
2024-02-25T15:16:55.8972689Z     is invalid without a unique name
2024-02-25T15:16:55.9044155Z     is invalid without a uniqueness key
2024-02-25T15:16:55.9091021Z     is invalid without a name
2024-02-25T15:16:55.9137331Z     is invalid without a partner key
2024-02-25T15:16:55.9138031Z   versioning
2024-02-25T15:16:55.9174262Z     is expected to be versioned
2024-02-25T15:16:55.9175555Z 
2024-02-25T15:16:55.9175860Z StorageLocation
2024-02-25T15:16:55.9177050Z   Callbacks >
2024-02-25T15:16:55.9177814Z     before_destroy
2024-02-25T15:16:55.9860772Z       deletes storage locations with no inventory items on it
2024-02-25T15:16:56.0420788Z       does not delete storage locations with inventory items on it
2024-02-25T15:16:56.0421974Z   Filtering >
2024-02-25T15:16:56.0530241Z     ->active_locations yields only storage locations that haven't been discarded
2024-02-25T15:16:56.1336416Z     ->containing yields only inventories that have that item
2024-02-25T15:16:56.1337579Z   Methods >
2024-02-25T15:16:56.1338152Z     StorageLocation.items_inventoried
2024-02-25T15:16:56.2290020Z       returns a collection of items that are stored within inventories
2024-02-25T15:16:56.2291031Z     decrease_inventory
2024-02-25T15:16:56.3428718Z       decreases inventory quantities from an itemizable object
2024-02-25T15:16:56.3429477Z       when there is insufficient inventory available
2024-02-25T15:16:56.3523876Z         gives informative errors
2024-02-25T15:16:56.3613856Z         does not change inventory quantities if there is an error
2024-02-25T15:16:56.3614655Z     import_csv
2024-02-25T15:16:56.3746474Z       imports storage locations from a csv file
2024-02-25T15:16:56.3747401Z     increase_inventory
2024-02-25T15:16:56.3748009Z       With existing inventory
2024-02-25T15:16:56.4954359Z         increases inventory quantities from an itemizable object
2024-02-25T15:16:56.4955147Z       when increasing with an inactive item
2024-02-25T15:16:56.6163189Z         re-activates the item as part of the creation process
2024-02-25T15:16:56.6164218Z       when providing a new item that does not yet exist
2024-02-25T15:16:56.7333608Z         creates those new inventory items in the storage location
2024-02-25T15:16:56.7334634Z     geocode
2024-02-25T15:16:56.7454783Z       adds coordinates to the database
2024-02-25T15:16:56.7455902Z     csv_export_attributes
2024-02-25T15:16:56.8143420Z       returns an array of storage location attributes, followed by inventory item quantities that are sorted by alphabetized item names
2024-02-25T15:16:56.8144365Z     size
2024-02-25T15:16:56.8634723Z       returns total quantity of all items in this storage location
2024-02-25T15:16:56.8635422Z     item_total
2024-02-25T15:16:56.9050572Z       retrieves the total for a single item
2024-02-25T15:16:56.9051743Z     import_inventory
2024-02-25T15:16:57.2917020Z       imports storage locations from a csv file
2024-02-25T15:16:57.2918205Z     inventory_total_value_in_dollars
2024-02-25T15:16:57.3334338Z       returns a value including cents if the total isn't an even dollar amount
2024-02-25T15:16:57.3455814Z       returns 0 when there are no items in this storage location
2024-02-25T15:16:57.3918874Z       returns total value of all items in this storage location
2024-02-25T15:16:57.3919788Z   versioning
2024-02-25T15:16:57.3959572Z     is expected to be versioned
2024-02-25T15:16:57.3960314Z   Validations >
2024-02-25T15:16:57.4023210Z     is expected to validate that :address cannot be empty/falsy
2024-02-25T15:16:57.4078326Z     is expected to validate that :organization cannot be empty/falsy
2024-02-25T15:16:57.4136739Z     is expected to validate that :name cannot be empty/falsy
2024-02-25T15:16:57.4137726Z 
2024-02-25T15:16:57.4137970Z KitAllocation
2024-02-25T15:16:57.4141163Z   add some examples to (or delete) /home/runner/work/human-essentials/human-essentials/spec/models/kit_allocation_spec.rb (PENDING: Not yet implemented)
2024-02-25T15:16:57.4142768Z   versioning
2024-02-25T15:16:57.4210711Z     is expected to be versioned
2024-02-25T15:16:57.4211229Z 
2024-02-25T15:16:57.4211532Z TextInterpolatorService
2024-02-25T15:16:57.4212325Z   #call
2024-02-25T15:16:57.4247846Z     returns interpolated text
2024-02-25T15:16:57.4248457Z     when interpolations are not present
2024-02-25T15:16:57.4282177Z       returns text
2024-02-25T15:16:57.4282997Z     when text is empty
2024-02-25T15:16:57.4314469Z       returns empty string
2024-02-25T15:16:57.4315362Z     when interpolations are nil
2024-02-25T15:16:57.4347847Z       returns text
2024-02-25T15:16:57.4348511Z     when interpolations are empty
2024-02-25T15:16:57.4381029Z       returns text
2024-02-25T15:16:57.4381720Z     when text is nil
2024-02-25T15:16:57.4414012Z       returns nil
2024-02-25T15:16:57.4415032Z 
2024-02-25T15:16:57.4415354Z Partners::RequestCreateService
2024-02-25T15:16:57.4416579Z   #call
2024-02-25T15:16:57.4417672Z     when the arguments are incorrect
2024-02-25T15:16:57.4418908Z       because no item_requests_attributes and comments were defined
2024-02-25T15:16:57.4777746Z         should return the Request object with an error
2024-02-25T15:16:57.4779060Z       because a unrecogonized item_id was provided
2024-02-25T15:16:57.5122617Z         should return the Request object with an error
2024-02-25T15:16:57.5123537Z     when the arguments are correct
2024-02-25T15:16:57.5532848Z       should have no errors
2024-02-25T15:16:57.5961041Z       should notify the Partner via email
2024-02-25T15:16:57.6374236Z       should create a Request record
2024-02-25T15:16:57.6375140Z       but a unexpected error occured during the save
2024-02-25T15:16:57.6375871Z         for the Request record
2024-02-25T15:16:57.6788159Z           should NOT create a Request record
2024-02-25T15:16:57.7179718Z           should NOT notify the Partner via email
2024-02-25T15:16:57.7572663Z           should have an error with the raised error
2024-02-25T15:16:57.7573370Z 
2024-02-25T15:16:57.7573721Z Partners::Family
2024-02-25T15:16:57.7574916Z   #search_non_archived
2024-02-25T15:16:57.8640439Z     should return all families if one is passed in
2024-02-25T15:16:57.9651632Z     should return non-archived families if zero is passed in
2024-02-25T15:16:57.9652696Z   #guardian_display_name
2024-02-25T15:16:57.9714212Z     should return the guardian's first and last name
2024-02-25T15:16:57.9715168Z   #total_children_count
2024-02-25T15:16:57.9771034Z     should return the family's total children count
2024-02-25T15:16:57.9771826Z   versioning
2024-02-25T15:16:57.9811081Z     is expected to be versioned
2024-02-25T15:16:57.9811768Z   validations
2024-02-25T15:16:57.9901347Z     is expected to validate that :guardian_last_name cannot be empty/falsy
2024-02-25T15:16:57.9985580Z     is expected to validate that :guardian_zip_code cannot be empty/falsy
2024-02-25T15:16:58.0071628Z     is expected to validate that :guardian_first_name cannot be empty/falsy
2024-02-25T15:16:58.0072446Z   associations
2024-02-25T15:16:58.0115041Z     is expected to have many authorized_family_members dependent => destroy
2024-02-25T15:16:58.0176584Z     is expected to have many children dependent => destroy
2024-02-25T15:16:58.0223926Z     is expected to belong to partner required: true
2024-02-25T15:16:58.0225061Z   #create_authorized
2024-02-25T15:16:58.0536532Z     should include authorized family members
2024-02-25T15:16:58.0537190Z 
2024-02-25T15:16:58.0537700Z User
2024-02-25T15:16:58.0604595Z   has a valid factory
2024-02-25T15:16:58.0605423Z   Scopes >
2024-02-25T15:16:58.0606319Z     ->alphabetized
2024-02-25T15:16:58.1034487Z       retrieves users in the correct order
2024-02-25T15:16:58.1035337Z   Methods >
2024-02-25T15:16:58.1092498Z     discarded?
2024-02-25T15:16:58.1592887Z     #kind
2024-02-25T15:16:58.1680977Z     #reinvitable?
2024-02-25T15:16:58.1765374Z     #invitation_status
2024-02-25T15:16:58.1766396Z   Validations >
2024-02-25T15:16:58.1859506Z     requires a name
2024-02-25T15:16:58.2057507Z     requires an email that is formatted correctly
2024-02-25T15:16:58.2058676Z   Scopes >
2024-02-25T15:16:58.2059494Z     ->alphabetized
2024-02-25T15:16:58.2305063Z       retrieves users in the correct order
2024-02-25T15:16:58.2306197Z   omniauth
2024-02-25T15:16:58.2464531Z     retrieves the user from an omniauth context
2024-02-25T15:16:58.2465439Z   versioning
2024-02-25T15:16:58.2507294Z     is expected to be versioned
2024-02-25T15:16:58.2508150Z 
2024-02-25T15:16:58.2508879Z DistributionItemizedBreakdownService
2024-02-25T15:16:58.2509986Z   #fetch_csv
2024-02-25T15:16:58.6353833Z     should output the expected output but in CSV format
2024-02-25T15:16:58.6354704Z   #fetch
2024-02-25T15:16:59.0394109Z     should include the break down of items distributed with onhand data
2024-02-25T15:16:59.0394955Z 
2024-02-25T15:16:59.0395078Z Role
2024-02-25T15:16:59.0438564Z   is expected to accepts_nested_attributes_for :users
2024-02-25T15:16:59.0440063Z   versioning
2024-02-25T15:16:59.0480282Z     is expected to be versioned
2024-02-25T15:16:59.0481031Z   Associations
2024-02-25T15:16:59.0521302Z     is expected to belong to resource optional: true
2024-02-25T15:16:59.0585593Z     is expected to have and belong to many users
2024-02-25T15:16:59.0586463Z   Validations
2024-02-25T15:16:59.0644043Z     is expected to validate that :resource_type is either ‹"Organization"› or ‹"Partner"›
2024-02-25T15:16:59.0645255Z 
2024-02-25T15:16:59.0645488Z RequestDestroyService
2024-02-25T15:16:59.0646051Z   #call
2024-02-25T15:16:59.0786778Z     should return an instance of itself
2024-02-25T15:16:59.0788008Z     when the request's partner is deactivated
2024-02-25T15:16:59.1084214Z       should have errors
2024-02-25T15:16:59.1085319Z     when the request_id matches no request
2024-02-25T15:16:59.1128561Z       should not be successful and have errors indicating request id is invalid
2024-02-25T15:16:59.1129704Z     when there are no validation errors
2024-02-25T15:16:59.1274208Z       should update the status column on the request
2024-02-25T15:16:59.1431081Z       should update the discarded_at column on the request
2024-02-25T15:16:59.1576937Z       should send a email notification to the partner
2024-02-25T15:16:59.1577619Z     when the request is already discarded
2024-02-25T15:16:59.1700239Z       should not be successful and have errors
2024-02-25T15:16:59.1701572Z 
2024-02-25T15:16:59.1701849Z Item
2024-02-25T15:16:59.1704125Z   versioning
2024-02-25T15:16:59.1754516Z     is expected to be versioned
2024-02-25T15:16:59.1755286Z   after update
2024-02-25T15:16:59.1755858Z     when item does not have kit
2024-02-25T15:16:59.1939409Z       does not raise any errors
2024-02-25T15:16:59.1940231Z     when item has the kit
2024-02-25T15:16:59.4077178Z       updates kit name
2024-02-25T15:16:59.4078414Z   distribution_quantity and package size
2024-02-25T15:16:59.4229775Z     have nil values if an empty string is passed
2024-02-25T15:16:59.4230872Z   Filtering >
2024-02-25T15:16:59.4285883Z     can filter
2024-02-25T15:16:59.4519063Z     ->by_size returns all items with the same size, per their BaseItem parent
2024-02-25T15:16:59.4712361Z     ->alphabetized retrieves items in alphabetical order
2024-02-25T15:16:59.5001824Z     ->active shows items that are still active
2024-02-25T15:16:59.5002470Z     ->cloth_diapers
2024-02-25T15:16:59.5292714Z       returns records associated with disposable diapers
2024-02-25T15:16:59.5293573Z     ->disposable
2024-02-25T15:16:59.5596817Z       returns records associated with disposable diapers
2024-02-25T15:16:59.5597899Z     ->by_base_item
2024-02-25T15:16:59.7636187Z       can be chained to organization to constrain it to just 1 org's items
2024-02-25T15:16:59.7809618Z       shows the items for a particular base_item
2024-02-25T15:16:59.7811045Z     ->by_partner_key
2024-02-25T15:16:59.7977917Z       filters by partner key
2024-02-25T15:16:59.7978481Z   default_quantity
2024-02-25T15:16:59.8075478Z     should return the value of on_hand_minimum_quantity if it is set
2024-02-25T15:16:59.8167539Z     should return 0 if on_hand_minimum_quantity is not set
2024-02-25T15:16:59.8258601Z     should return the value of distribution_quantity if it is set
2024-02-25T15:16:59.8344375Z     should return 50 if column is not set
2024-02-25T15:16:59.8345440Z   Assocations >
2024-02-25T15:16:59.8396557Z     is expected to belong to item_category optional: true
2024-02-25T15:16:59.8397451Z   Validations >
2024-02-25T15:16:59.8457035Z     must belong to an organization
2024-02-25T15:16:59.8578102Z     requires that items quantity are not a negative number
2024-02-25T15:16:59.8644375Z     requires a Base Item base
2024-02-25T15:16:59.8780563Z     requires a unique name
2024-02-25T15:16:59.8781268Z   Methods >
2024-02-25T15:16:59.8782322Z     other?
2024-02-25T15:16:59.8909876Z       is true for items that are partner_key 'other'
2024-02-25T15:16:59.8910765Z     #reactivate!
2024-02-25T15:16:59.8911775Z       given a single item id
2024-02-25T15:16:59.9041595Z         sets the active trait to true for that item
2024-02-25T15:16:59.9042459Z       given an array of item ids
2024-02-25T15:16:59.9259238Z         sets the active trait to true for all of them
2024-02-25T15:16:59.9260085Z     has_history?
2024-02-25T15:17:00.0283951Z       identifies items that have been used previously
2024-02-25T15:17:00.0284917Z     destroy
2024-02-25T15:17:00.0418820Z       only hides an item that has history
2024-02-25T15:17:00.2636680Z       deactivates the kit if it exists
2024-02-25T15:17:00.2821343Z       actually destroys an item that doesn't have history
2024-02-25T15:17:00.2822079Z     barcodes_for
2024-02-25T15:17:00.3033535Z       retrieves all BarcodeItems associated with an item
2024-02-25T15:17:00.3034282Z     storage_locations_containing
2024-02-25T15:17:00.3412698Z       retrieves all storage locations that contain an item
2024-02-25T15:17:00.3413489Z     barcoded_items >
2024-02-25T15:17:00.3777567Z       returns a collection of items that have barcodes associated with them
2024-02-25T15:17:00.3778336Z 
2024-02-25T15:17:00.3778558Z PartnerProfileUpdateService
2024-02-25T15:17:00.3779280Z   #call
2024-02-25T15:17:00.3780813Z     when served area client shares pre-exist
2024-02-25T15:17:00.3781446Z       and the new values are incorrect
2024-02-25T15:17:00.4211581Z         maintains the old values and returns failure
2024-02-25T15:17:00.4212335Z       and the new values are correct
2024-02-25T15:17:00.4212947Z         and there are errors on the profile
2024-02-25T15:17:00.4561889Z           maintains the old values and returns failure
2024-02-25T15:17:00.4562495Z         and there are no other errors
2024-02-25T15:17:00.4918494Z           replaces the old values and returns success
2024-02-25T15:17:00.4919738Z     when there are no pre-existing served areas
2024-02-25T15:17:00.4920430Z       and the new values are correct
2024-02-25T15:17:00.5196815Z         stores the new values and returns success
2024-02-25T15:17:00.5197589Z         and there are other errors in the profile
2024-02-25T15:17:00.5448385Z           does not store the new values and it returns a failure
2024-02-25T15:17:00.5449119Z       and the new values are incorrect
2024-02-25T15:17:00.5670246Z 0
2024-02-25T15:17:00.5682087Z         does not store the new values and returns a failure
2024-02-25T15:17:00.5683526Z 
2024-02-25T15:17:00.5683794Z Reports::ChildrenServedReportService
2024-02-25T15:17:00.5684680Z   #report
2024-02-25T15:17:01.0775707Z     should report normal values
2024-02-25T15:17:01.5916512Z     should work with no distribution_quantity
2024-02-25T15:17:01.7731734Z     should report zero values
2024-02-25T15:17:01.7732220Z 
2024-02-25T15:17:01.7732397Z CustomDeviseMailer
2024-02-25T15:17:01.7733429Z   #invitation_instructions
2024-02-25T15:17:01.7734442Z     when user is invited
2024-02-25T15:17:01.7988990Z       invites to user
2024-02-25T15:17:01.8193473Z       has invite expiration message
2024-02-25T15:17:01.8194146Z     when other partner users invited
2024-02-25T15:17:01.8649268Z       invites to partner user
2024-02-25T15:17:01.8649908Z     when partner is invited
2024-02-25T15:17:01.9105348Z       invites to primary user
2024-02-25T15:17:01.9105869Z 
2024-02-25T15:17:01.9106051Z ItemsOutTotalQuery
2024-02-25T15:17:01.9107041Z   items_out_total_query
2024-02-25T15:17:02.0343289Z     returns a sum total of all out-flows
2024-02-25T15:17:02.0343844Z 
2024-02-25T15:17:02.0344011Z UserInviteService
2024-02-25T15:17:02.0344739Z   with existing user
2024-02-25T15:17:02.0441478Z     should raise an error when reinviting an existing user with the same role
2024-02-25T15:17:02.2351598Z     should add roles to existing user
2024-02-25T15:17:02.2352303Z     with force: true
2024-02-25T15:17:02.3282711Z       should reinvite the user
2024-02-25T15:17:02.3283360Z   with a new user
2024-02-25T15:17:02.5548853Z     should create the user with roles
2024-02-25T15:17:02.5549365Z 
2024-02-25T15:17:02.5549534Z HistoricalTrendsHelper
2024-02-25T15:17:02.5551310Z   #last_12_months
2024-02-25T15:17:02.5658513Z     returns the last 12 months starting from Jan when the current month is Dec
2024-02-25T15:17:02.5743772Z     returns the last 12 months starting from July when the current month is June
2024-02-25T15:17:02.5839562Z     returns the last 12 months starting from Feb when the current month is Jan
2024-02-25T15:17:02.5840459Z 
2024-02-25T15:17:02.5840745Z Manufacturer
2024-02-25T15:17:02.5850256Z   versioning
2024-02-25T15:17:02.5994047Z     is expected to be versioned
2024-02-25T15:17:02.5994680Z   Private Methods
2024-02-25T15:17:02.5995119Z     #exists_in_org?
2024-02-25T15:17:02.9129085Z       returns true if manufacturer exists in an organization
2024-02-25T15:17:02.9129888Z   Methods
2024-02-25T15:17:02.9130249Z     volume
2024-02-25T15:17:03.0582774Z       retrieves the amount of product that has been donated by manufacturer from multiple donations
2024-02-25T15:17:03.2077771Z       ignores the amount of product from other manufacturers
2024-02-25T15:17:03.2760079Z       retrieves the amount of product that has been donated by manufacturer
2024-02-25T15:17:03.2761007Z   Validations
2024-02-25T15:17:03.2857915Z     must have a unique name within organization
2024-02-25T15:17:03.4694996Z     must belong to an organization
2024-02-25T15:17:03.4695926Z 
2024-02-25T15:17:03.4696227Z TransfersController
2024-02-25T15:17:03.4697346Z   While signed in
2024-02-25T15:17:03.4699137Z     GET #show
2024-02-25T15:17:03.4982259Z       returns http success
2024-02-25T15:17:03.4982900Z     Looking at a different organization
2024-02-25T15:17:03.6792149Z       redirects the user to the sign-in page for CRUD actions
2024-02-25T15:17:03.6792915Z     POST #create
2024-02-25T15:17:03.7199680Z       redirects to #show when successful
2024-02-25T15:17:03.7345886Z       renders to #new when failing
2024-02-25T15:17:03.7346516Z     GET #index
2024-02-25T15:17:03.7478504Z       returns http success
2024-02-25T15:17:03.7479265Z       when filtering by date
2024-02-25T15:17:03.7479837Z         when date parameters are supplied
2024-02-25T15:17:03.7876116Z           only returns the correct obejects
2024-02-25T15:17:03.7876886Z         when date parameters are not supplied
2024-02-25T15:17:03.8272662Z           returns all objects
2024-02-25T15:17:03.8273306Z     GET #new
2024-02-25T15:17:03.8402953Z       returns http success
2024-02-25T15:17:03.8403525Z   While not signed in
2024-02-25T15:17:03.8548545Z     redirects the user to the sign-in page for CRUD actions
2024-02-25T15:17:03.8549171Z 
2024-02-25T15:17:03.8549353Z HistoricalDataCacheJob
2024-02-25T15:17:04.0264312Z   queues the job
2024-02-25T15:17:04.2068270Z   caches the historical data
2024-02-25T15:17:04.2069366Z 
2024-02-25T15:17:04.2069552Z Organization
2024-02-25T15:17:04.2072757Z   valid_items
2024-02-25T15:17:04.3839756Z     returns an array of item partner keys
2024-02-25T15:17:04.5681712Z     only shows active valid items
2024-02-25T15:17:04.5682288Z     with invisible items
2024-02-25T15:17:04.5989230Z       only shows active and visible items
2024-02-25T15:17:04.5989953Z   #ordered_requests
2024-02-25T15:17:04.8021026Z     puts active requests before fulfilled requests
2024-02-25T15:17:04.8021737Z     ordering of requests with matching status
2024-02-25T15:17:05.0025035Z       puts the most recently updated request before older requests
2024-02-25T15:17:05.0025848Z   validations
2024-02-25T15:17:05.1892671Z     validates that short names are unique
2024-02-25T15:17:05.1970066Z     validates that attachment file size is not higher than 1 MB
2024-02-25T15:17:05.2049897Z     validates that attachments are png or jpgs
2024-02-25T15:17:05.2157024Z     validates that at least one distribution type is enabled
2024-02-25T15:17:05.2157790Z   default storage location
2024-02-25T15:17:05.2198557Z     returns nil when not set
2024-02-25T15:17:05.2241703Z     associates the default storage location with a storage location
2024-02-25T15:17:05.2242511Z   reminder_day
2024-02-25T15:17:05.2363360Z     can only contain numbers 1-28
2024-02-25T15:17:05.2363983Z   #assign_attributes_from_account_request
2024-02-25T15:17:05.2550601Z     should assign the proper attributes to the organization
2024-02-25T15:17:05.2551215Z   #short_name
2024-02-25T15:17:05.2628339Z     can only contain valid characters
2024-02-25T15:17:05.2628954Z   total_inventory
2024-02-25T15:17:05.5069397Z     returns a sum total of all inventory at all storage locations
2024-02-25T15:17:05.6881043Z     returns 0 if there is nothing
2024-02-25T15:17:05.6881686Z   geocode
2024-02-25T15:17:05.8554753Z     adds coordinates to the database
2024-02-25T15:17:05.8555426Z   deadline_day
2024-02-25T15:17:05.8668279Z     can only contain numbers 1-28
2024-02-25T15:17:05.8668905Z   versioning
2024-02-25T15:17:05.8706227Z     is expected to be versioned
2024-02-25T15:17:05.8706771Z   from_email
2024-02-25T15:17:06.0767975Z     returns admin email when it's empty
2024-02-25T15:17:06.2818669Z     returns admin email when not present
2024-02-25T15:17:06.4591261Z     returns email when present
2024-02-25T15:17:06.6554549Z     returns admin email when it's empty space
2024-02-25T15:17:06.6555121Z   Associations >
2024-02-25T15:17:06.6610169Z     is expected to belong to ndbn_member class_name => NDBNMember optional: true
2024-02-25T15:17:06.6648159Z     is expected to have many item_categories
2024-02-25T15:17:06.6688237Z     is expected to have many users through roles
2024-02-25T15:17:06.6688897Z     items
2024-02-25T15:17:06.6690380Z       .during.bottom
2024-02-25T15:17:08.6979344Z         return 3 least used items
2024-02-25T15:17:10.7290567Z         return just 3 elements
2024-02-25T15:17:10.7291207Z       .during
2024-02-25T15:17:12.7922620Z         return ranking of all items
2024-02-25T15:17:12.7923186Z       .other
2024-02-25T15:17:14.9547598Z         returns all items for this organization designated 'other'
2024-02-25T15:17:14.9548198Z       .during.top
2024-02-25T15:17:16.9428204Z         return 3 most used items
2024-02-25T15:17:18.9515749Z         return just 3 elements
2024-02-25T15:17:18.9516403Z     distributions
2024-02-25T15:17:18.9516908Z       upcoming
2024-02-25T15:17:19.0347967Z         retrieves the distributions scheduled for this week that have not yet happened
2024-02-25T15:17:19.0348964Z     barcode_items
2024-02-25T15:17:19.2196575Z       returns only this organization's barcodes, no globals
2024-02-25T15:17:19.2197077Z       .all
2024-02-25T15:17:19.4177732Z         includes global barcode items also
2024-02-25T15:17:19.4178196Z     users
2024-02-25T15:17:19.4178715Z       when a organizaton has a user that has two roles
2024-02-25T15:17:19.6197013Z         should returns users without duplications
2024-02-25T15:17:19.6197723Z   #seed_items
2024-02-25T15:17:19.8183053Z     allows a collection of items to be seeded
2024-02-25T15:17:20.0073558Z     allows a single base item to be seeded
2024-02-25T15:17:20.0074584Z     when given an item name that already exists, but with an 'other' partner key
2024-02-25T15:17:20.2070714Z       updates the old item to use the new base item as its base
2024-02-25T15:17:20.2071583Z     when given an item that already exists
2024-02-25T15:17:20.3920139Z       gracefully skips the item
2024-02-25T15:17:20.3920905Z   earliest reporting year
2024-02-25T15:17:20.6352549Z     is the year of the earliest of donation, purchase, or distribution if they are earlier
2024-02-25T15:17:20.8092031Z     is the organization created year if no associated data
2024-02-25T15:17:20.8092828Z   .seed_items
2024-02-25T15:17:20.8093314Z     when provided with an organization to seed
2024-02-25T15:17:21.1468512Z       loads the base items into Item records
2024-02-25T15:17:21.1469284Z     when no organization is provided
2024-02-25T15:17:21.8097877Z       updates all organizations
2024-02-25T15:17:21.8098404Z   after_create
2024-02-25T15:17:21.8343998Z     should update the state of the account request
2024-02-25T15:17:21.8344782Z   address
2024-02-25T15:17:21.8389436Z     does not add a trailing space when the zip code is missing
2024-02-25T15:17:21.8427953Z     does not add any separators before the city when street is missing
2024-02-25T15:17:21.8467853Z     returns an empty string when the org has no address components
2024-02-25T15:17:21.8504566Z     correctly formats an address string with commas and spaces
2024-02-25T15:17:21.8542917Z     does not add any separators after street when city, state, and zip are missing
2024-02-25T15:17:21.8543814Z   is_active
2024-02-25T15:17:22.2257323Z     returns active organizations
2024-02-25T15:17:22.2257870Z 
2024-02-25T15:17:22.2258038Z HelpController
2024-02-25T15:17:22.2258803Z   While signed in as a normal user >
2024-02-25T15:17:22.2259649Z     GET #show
2024-02-25T15:17:22.2413226Z       returns http success
2024-02-25T15:17:22.2483619Z       does not display help page when the user logs out
2024-02-25T15:17:22.2484706Z 
2024-02-25T15:17:22.2485230Z Transfer
2024-02-25T15:17:22.2486394Z   versioning
2024-02-25T15:17:22.2526954Z     is expected to be versioned
2024-02-25T15:17:22.2527541Z   behaves like itemizable
2024-02-25T15:17:22.2528275Z     .line_items
2024-02-25T15:17:22.2529415Z       quantities_by_name
2024-02-25T15:17:22.3143678Z         leaves out zero-quantitied items if requested
2024-02-25T15:17:22.3694365Z         returns a hash of items with id, name, and quantity
2024-02-25T15:17:22.3697161Z       sorted
2024-02-25T15:17:22.4469736Z         displays the items, sorted by name
2024-02-25T15:17:22.4470413Z       total
2024-02-25T15:17:22.4990839Z         has an item total
2024-02-25T15:17:22.4991385Z       combine!
2024-02-25T15:17:22.5306427Z         incrementally combines line_items on donations that have already been created
2024-02-25T15:17:22.5823048Z         combines multiple line_items with the same item_id into a single record
2024-02-25T15:17:22.5823974Z     .to_a
2024-02-25T15:17:22.5824442Z       with Flipper flag :deprecate_to_a disabled
2024-02-25T15:17:22.6215504Z         calls line_item_values
2024-02-25T15:17:22.6216204Z       with Flipper flag :deprecate_to_a enabled
2024-02-25T15:17:22.6612838Z         raises an error
2024-02-25T15:17:22.6613507Z   Validations >
2024-02-25T15:17:22.6910484Z     requires that each line item exists in the inventory
2024-02-25T15:17:22.7049472Z     must have storage locations set
2024-02-25T15:17:22.7771390Z     requires that the line items must have sufficient quantity in the inventory
2024-02-25T15:17:22.9751234Z     must only use storage locations that belong to the organization (no hacks!)
2024-02-25T15:17:22.9841246Z     must belong to an organization
2024-02-25T15:17:22.9970054Z     must have different storage locations
2024-02-25T15:17:22.9970762Z   Scopes >
2024-02-25T15:17:23.0213777Z     `to_location` can filter out transfers to a specific location
2024-02-25T15:17:23.0457399Z     `from_location` can filter out transfers from a specific location
2024-02-25T15:17:23.0458057Z   Methods >
2024-02-25T15:17:23.2600720Z     `self.storage_locations_transferred_to` and `..._from` constrains appropriately
2024-02-25T15:17:23.2601891Z 
2024-02-25T15:17:23.2602073Z AccountRequest
2024-02-25T15:17:23.2761303Z   #reject!
2024-02-25T15:17:23.2910993Z   #confirm!
2024-02-25T15:17:23.2911538Z   #identity_token
2024-02-25T15:17:23.3019948Z     should return a JWT token that contains the id of the account_request_id
2024-02-25T15:17:23.3020940Z     when the account_request is not persisted
2024-02-25T15:17:23.3124128Z       should raise an error
2024-02-25T15:17:23.3124782Z   versioning
2024-02-25T15:17:23.3166643Z     is expected to be versioned
2024-02-25T15:17:23.3167225Z   validations
2024-02-25T15:17:23.3337199Z     is expected to validate that :name cannot be empty/falsy
2024-02-25T15:17:23.3452910Z     is expected to allow :email to be ‹"jeri@wolf-kris.example"›
2024-02-25T15:17:23.3605267Z     is expected to validate that :email is case-sensitively unique
2024-02-25T15:17:23.3773878Z     is expected to validate that :email cannot be empty/falsy
2024-02-25T15:17:23.3891993Z     is expected not to allow :email to be ‹"not_email"›
2024-02-25T15:17:23.4033475Z     is expected to validate that the length of :request_details is at least 50
2024-02-25T15:17:23.4180585Z     is expected to validate that :request_details cannot be empty/falsy
2024-02-25T15:17:23.4181667Z     when the email provided is already used by an existing user
2024-02-25T15:17:23.4409332Z       should not allow the email
2024-02-25T15:17:23.4410265Z     when the email provided is already used by an existing organization
2024-02-25T15:17:23.6372798Z       should not allow the email
2024-02-25T15:17:23.6373424Z   #processed?
2024-02-25T15:17:23.6374528Z     when the account request has a associated organization
2024-02-25T15:17:23.8364810Z       should return true
2024-02-25T15:17:23.8365433Z     when the account request has no associated organization
2024-02-25T15:17:23.8474118Z       should return false
2024-02-25T15:17:23.8474712Z   .get_by_identity_token
2024-02-25T15:17:23.8475682Z     when the identity_token corresponds to an existing AccountRequest
2024-02-25T15:17:23.8585397Z       should return the corresponding AccountRequest
2024-02-25T15:17:23.8586114Z     when the identity_token provided does not match any AccountRequest
2024-02-25T15:17:23.8629504Z       should return nil
2024-02-25T15:17:23.8630116Z   associations
2024-02-25T15:17:23.8673335Z     is expected to have one organization class_name => Organization
2024-02-25T15:17:23.8737677Z     is expected to belong to ndbn_member class_name => NDBNMember optional: true
2024-02-25T15:17:23.8738383Z 
2024-02-25T15:17:23.8738603Z Reports::SummaryReportService
2024-02-25T15:17:23.8739282Z   #report
2024-02-25T15:17:24.3522370Z     should report positive values
2024-02-25T15:17:24.5467468Z     should report zero values
2024-02-25T15:17:25.2171314Z     should report negative values
2024-02-25T15:17:25.2171774Z 
2024-02-25T15:17:25.2171901Z DispersedPastDatesGenerator
2024-02-25T15:17:25.2172951Z   constants
2024-02-25T15:17:25.2214410Z     has 4 day ranges for generation of past dates
2024-02-25T15:17:25.2214829Z   #next
2024-02-25T15:17:25.2268899Z     returns equally dispersed dates between all time ranges
2024-02-25T15:17:25.2269650Z 
2024-02-25T15:17:25.2269883Z AllocateKitInventoryService
2024-02-25T15:17:25.2270982Z   #allocate
2024-02-25T15:17:25.2271958Z     when more than one kit is requested
2024-02-25T15:17:25.2272871Z       but one of the items is out of stock
2024-02-25T15:17:25.5141871Z         returns error and does not change kit or item quantity
2024-02-25T15:17:25.5142539Z     when inventory items are available
2024-02-25T15:17:25.8222874Z       allocates items, increases the quantity of the Kit Item and inventory in, and decreases inventory out
2024-02-25T15:17:25.8223975Z       when there are more then one line items
2024-02-25T15:17:25.8224487Z         when same kit is allocated multiple times
2024-02-25T15:17:26.1605792Z           inventory out for that kit contains both line_items with their respective quantity
2024-02-25T15:17:26.1606815Z         when there kit is allocated once
2024-02-25T15:17:26.4465322Z           inventory out for that kit contains both line_items with their respective quantity
2024-02-25T15:17:26.4466424Z       When kit is allocated more then once
2024-02-25T15:17:26.7556616Z         increases the already existed inventory in and decreases the already existed inventory out
2024-02-25T15:17:26.7557800Z   #error
2024-02-25T15:17:26.7558581Z     when the Store location organization doesn't match
2024-02-25T15:17:26.9873861Z       returns error
2024-02-25T15:17:26.9874346Z 
2024-02-25T15:17:26.9874622Z PartnerInviteService
2024-02-25T15:17:27.0214224Z   should create invite
2024-02-25T15:17:27.0552429Z   should update the status of the partner to invited
2024-02-25T15:17:27.0553092Z   with force: true
2024-02-25T15:17:27.0897696Z     should send the force setting forward
2024-02-25T15:17:27.5727888Z 
2024-02-25T15:17:27.5729117Z Pending: (Failures listed here are expected and do not affect your suite's status)
2024-02-25T15:17:27.5729910Z 
2024-02-25T15:17:27.5731998Z   1) Partners::RequestApprovalService#call when the partner is not yet waiting for approval and there is a profile error should return an error re agency_type
2024-02-25T15:17:27.5733744Z      # Temporarily skipped with xit
2024-02-25T15:17:27.5734376Z      # ./spec/services/partners/request_approval_service_spec.rb:28
2024-02-25T15:17:27.5734863Z 
2024-02-25T15:17:27.5735916Z   2) KitAllocation add some examples to (or delete) /home/runner/work/human-essentials/human-essentials/spec/models/kit_allocation_spec.rb
2024-02-25T15:17:27.5737163Z      # Not yet implemented
2024-02-25T15:17:27.5737725Z      # ./spec/models/kit_allocation_spec.rb:16
2024-02-25T15:17:27.5738172Z 
2024-02-25T15:17:27.5738501Z Finished in 50.18 seconds (files took 8.57 seconds to load)
2024-02-25T15:17:27.5739236Z 476 examples, 0 failures, 2 pending
2024-02-25T15:17:27.5739632Z 
2024-02-25T15:17:27.5739810Z Randomized with seed 12192
2024-02-25T15:17:27.5740141Z 
2024-02-25T15:17:27.8964105Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3822 / 6454 LOC (59.22%) covered.
2024-02-25T15:17:28.3555078Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10719 LOC (0.35%) covered.
