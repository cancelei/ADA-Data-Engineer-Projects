2024-03-11T02:29:38.7545246Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-11T02:29:38.7546147Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-11T02:29:38.7596973Z shell: /usr/bin/bash -e {0}
2024-03-11T02:29:38.7597388Z env:
2024-03-11T02:29:38.7597669Z   POSTGRES_HOST: localhost
2024-03-11T02:29:38.7598149Z   DATABASE_HOST: localhost
2024-03-11T02:29:38.7598526Z   PG_USERNAME: postgres
2024-03-11T02:29:38.7598914Z   PG_PASSWORD: password
2024-03-11T02:29:38.7599367Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-11T02:29:38.7599748Z   POSTGRES_PORT: 5432
2024-03-11T02:29:38.7600119Z   PGHOST: localhost
2024-03-11T02:29:38.7600546Z   PGUSER: postgres
2024-03-11T02:29:38.7600887Z   RAILS_ENV: test
2024-03-11T02:29:38.7601229Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-11T02:29:38.7601737Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-11T02:29:38.7602155Z   KNAPSACK_PRO_CI_NODE_INDEX: 2
2024-03-11T02:29:38.7602607Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-11T02:29:38.7603193Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-11T02:29:38.7603836Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-11T02:29:38.7604539Z   EVENTS_READ: true
2024-03-11T02:29:38.7604891Z ##[endgroup]
2024-03-11T02:29:44.5619415Z W, [2024-03-11T02:29:44.561608 #2488]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-11T02:29:44.5620883Z W, [2024-03-11T02:29:44.561660 #2488]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-11T02:29:44.5622492Z W, [2024-03-11T02:29:44.561683 #2488]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-11T02:29:44.5626079Z W, [2024-03-11T02:29:44.561718 #2488]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-11T02:29:47.2467469Z W, [2024-03-11T02:29:47.246361 #2488]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-11T02:29:47.2469886Z W, [2024-03-11T02:29:47.246406 #2488]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-11T02:29:47.2472711Z W, [2024-03-11T02:29:47.246419 #2488]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-11T02:29:47.2476619Z W, [2024-03-11T02:29:47.246464 #2488]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-11T02:29:47.2532206Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-03-11T02:29:55.7559667Z 
2024-03-11T02:29:55.7560757Z Randomized with seed 226
2024-03-11T02:29:56.6792070Z 
2024-03-11T02:29:56.6792909Z Profiles
2024-03-11T02:29:56.6793901Z   POST #update
2024-03-11T02:29:56.6795139Z     successful save
2024-03-11T02:29:56.7586324Z       update partner
2024-03-11T02:29:56.8019920Z       redirects to #show
2024-03-11T02:29:56.8020841Z     when updating an existing value to a blank value
2024-03-11T02:29:56.8460475Z       should have blank values
2024-03-11T02:29:56.8901885Z       update partner
2024-03-11T02:29:56.8902620Z   GET #edit
2024-03-11T02:29:57.0127547Z     returns http success
2024-03-11T02:29:57.0128694Z 
2024-03-11T02:29:57.0129066Z Purchases
2024-03-11T02:29:57.0130208Z   while signed in as an organization admin
2024-03-11T02:29:58.6420539Z     allows deletion of a purchase
2024-03-11T02:29:58.6421450Z   while signed in as a normal user
2024-03-11T02:29:58.6422447Z     When visiting an existing purchase
2024-03-11T02:29:59.1123453Z       does not allow deletion of a purchase
2024-03-11T02:29:59.1124314Z     When visiting the index page
2024-03-11T02:29:59.1125554Z       In the middle of the year
2024-03-11T02:29:59.8529656Z         User sees purchased date column
2024-03-11T02:30:00.6593148Z         User can click to the new purchase form
2024-03-11T02:30:01.4310033Z         User sees total purchases value
2024-03-11T02:30:01.4310961Z       When filtering on the index page
2024-03-11T02:30:02.2618210Z         User can filter the #index by storage location
2024-03-11T02:30:03.0840170Z         User can filter the #index by vendor
2024-03-11T02:30:03.0840970Z         behaves like Date Range Picker
2024-03-11T02:30:03.0841858Z           when choosing 'Last Month'
2024-03-11T02:30:04.0406021Z             shows only 2 of the records
2024-03-11T02:30:04.0407226Z           when choosing 'All Time'
2024-03-11T02:30:05.0515319Z             shows all the records
2024-03-11T02:30:05.0516425Z           when choosing a date range that only includes the previous week
2024-03-11T02:30:06.0559396Z             shows only 1 record
2024-03-11T02:30:06.0560658Z     When creating a new purchase
2024-03-11T02:30:06.5554931Z       should not display inactive storage locations in dropdown
2024-03-11T02:30:06.5555742Z       Editing purchase
2024-03-11T02:30:07.1871269Z         A user can view another organizations purchase
2024-03-11T02:30:07.6759678Z         A user can see purchased_from value
2024-03-11T02:30:07.6760573Z       via manual entry
2024-03-11T02:30:08.8560152Z         multiple line items for the same item type are accepted and combined on the backend
2024-03-11T02:30:09.9450230Z         User can create a purchase IN THE PAST
2024-03-11T02:30:10.9501667Z         Does not include inactive items in the line item fields
2024-03-11T02:30:11.8386692Z         User can create a purchase using dollars decimal amount
2024-03-11T02:30:12.8767008Z         User can create vendor from purchase
2024-03-11T02:30:12.8767926Z         when creating a purchase incorrectly
2024-03-11T02:30:13.8616257Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-03-11T02:30:14.6718311Z           should display failure with error messages
2024-03-11T02:30:14.6719207Z       via barcode entry
2024-03-11T02:30:15.8707823Z         a user can add items that do not yet have a barcode
2024-03-11T02:30:16.7554674Z         User scan same barcode 2 times
2024-03-11T02:30:17.4975220Z         a user can add items via scanning them in by barcode
2024-03-11T02:30:17.4976590Z 
2024-03-11T02:30:17.4976901Z BroadcastAnnouncements
2024-03-11T02:30:17.4978708Z   POST /create
2024-03-11T02:30:17.4979217Z     with invalid parameters
2024-03-11T02:30:17.5384581Z       does not render a successful response
2024-03-11T02:30:17.5687332Z       does not create a new BroadcastAnnouncement
2024-03-11T02:30:17.5688644Z     with valid parameters
2024-03-11T02:30:17.5866797Z       creates a new BroadcastAnnouncement then redirects
2024-03-11T02:30:17.5867703Z   GET /edit
2024-03-11T02:30:17.6201323Z     render a successful response
2024-03-11T02:30:17.6201925Z   PATCH /update
2024-03-11T02:30:17.6202492Z     with invalid parameters
2024-03-11T02:30:17.6546975Z       does not render a successful response
2024-03-11T02:30:17.6547801Z     with valid parameters
2024-03-11T02:30:17.6742544Z       updates the requested announcement and redirects
2024-03-11T02:30:17.6743557Z   GET /new
2024-03-11T02:30:17.7021037Z     renders a successful response
2024-03-11T02:30:17.7021767Z   DELETE /destroy
2024-03-11T02:30:17.7202256Z     destroys the requested announcement then redirects
2024-03-11T02:30:17.7203063Z   GET /index
2024-03-11T02:30:17.7524992Z     renders a successful response
2024-03-11T02:30:17.7525764Z 
2024-03-11T02:30:17.7526031Z Organization management
2024-03-11T02:30:17.7527305Z   while signed in as a normal user
2024-03-11T02:30:18.2457152Z     can see summary details about the organization as a user
2024-03-11T02:30:18.7194282Z     cannot see 'Make user' button for admins
2024-03-11T02:30:18.7195356Z   while signed in as an organization admin
2024-03-11T02:30:19.2188870Z     can see 'Make user' button for admins
2024-03-11T02:30:20.1832341Z     can add a new user to an organization
2024-03-11T02:30:20.6724470Z     can re-invite a user to an organization after 7 days
2024-03-11T02:30:21.6472331Z     can re-activate a user in the organization
2024-03-11T02:30:22.6132278Z     can deactivate a user in the organization
2024-03-11T02:30:22.6132909Z     Editing the organization
2024-03-11T02:30:23.4782313Z       can set a default storage location on the organization
2024-03-11T02:30:24.4364415Z       can disable if the org does NOT use single step invite and approve partner process
2024-03-11T02:30:25.2856586Z       can set the NDBN Member ID
2024-03-11T02:30:26.2750414Z       can enable if the org uses single step invite and approve partner process
2024-03-11T02:30:27.1243659Z       can set a reminder and a deadline day
2024-03-11T02:30:28.5706652Z       can select and deselect Required Partner Fields
2024-03-11T02:30:29.7339116Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-03-11T02:30:30.8953984Z       can select if the org distributes essentials monthly
2024-03-11T02:30:31.9709019Z       can select if the org shows year-to-date values on the distribution printout
2024-03-11T02:30:33.0152485Z       can select if the org repackages essentials
2024-03-11T02:30:33.0153789Z     Viewing the organization
2024-03-11T02:30:33.6038442Z       can view organization details
2024-03-11T02:30:33.6039548Z 
2024-03-11T02:30:33.6040102Z Kit management
2024-03-11T02:30:34.2450825Z   should not display inactive storage locations under allocations
2024-03-11T02:30:35.8589687Z   can allocate and deallocate quantity per storage location from kit index
2024-03-11T02:30:36.8035821Z   can create a new kit as a user with the proper quantity
2024-03-11T02:30:36.8037024Z   when there is no kit quantity
2024-03-11T02:30:37.9581458Z     will not change quantity amounts when deallocating
2024-03-11T02:30:37.9582825Z   when there is not enough quantity of the items contained in the kit on-hand
2024-03-11T02:30:39.0971293Z     will not change quantity amounts when allocating
2024-03-11T02:30:39.0972066Z 
2024-03-11T02:30:39.0972481Z Admin::Questions
2024-03-11T02:30:39.0973720Z   while signed in as a super admin
2024-03-11T02:30:39.0975369Z     GET #new
2024-03-11T02:30:39.1400449Z       lets the user load the new question page
2024-03-11T02:30:39.1401317Z     PATCH #update
2024-03-11T02:30:39.1651000Z       lets the user update questions
2024-03-11T02:30:39.1651859Z     GET #index
2024-03-11T02:30:39.1954986Z       lets the user load the page
2024-03-11T02:30:39.1956117Z     POST #create
2024-03-11T02:30:39.2158055Z       lets the user create questions
2024-03-11T02:30:39.2159392Z     DELETE #destroy
2024-03-11T02:30:39.2373246Z       lets the user delete questions
2024-03-11T02:30:39.2374023Z     GET #edit
2024-03-11T02:30:39.2758601Z       lets the user load the edit question page
2024-03-11T02:30:39.2759376Z 
2024-03-11T02:30:39.2759604Z StorageLocations
2024-03-11T02:30:39.2761141Z   While signed in
2024-03-11T02:30:39.2762937Z     GET #index
2024-03-11T02:30:39.2763570Z       html
2024-03-11T02:30:39.3160792Z         succeeds
2024-03-11T02:30:39.3161501Z         with inactive locations
2024-03-11T02:30:39.3578021Z           does not includes the inactive location
2024-03-11T02:30:39.3579147Z           with include_inactive_locations
2024-03-11T02:30:39.3964972Z             includes the inactive location
2024-03-11T02:30:39.3965842Z       csv
2024-03-11T02:30:39.4959622Z         includes headers followed by alphabetized item names
2024-03-11T02:30:39.5145808Z         succeeds
2024-03-11T02:30:39.5146611Z     GET #destroy
2024-03-11T02:30:39.5439377Z       redirects to #index
2024-03-11T02:30:39.5440151Z     GET #show
2024-03-11T02:30:39.5440735Z       html
2024-03-11T02:30:39.6114945Z         should return a correct response
2024-03-11T02:30:39.6115802Z         with version date set
2024-03-11T02:30:39.6116662Z           with a version found
2024-03-11T02:30:39.6922626Z             should show the version specified
2024-03-11T02:30:39.6923687Z           with no version found
2024-03-11T02:30:39.7763096Z             should show N/A
2024-03-11T02:30:39.7763982Z       csv
2024-03-11T02:30:39.8317249Z         should be successful
2024-03-11T02:30:39.8318064Z     POST #import_csv
2024-03-11T02:30:39.8318667Z       csv file with wrong headers
2024-03-11T02:30:39.8468119Z         presents a flash error message
2024-03-11T02:30:39.8605150Z         redirects
2024-03-11T02:30:39.8605893Z       with a csv file
2024-03-11T02:30:39.8762946Z         presents a flash notice message
2024-03-11T02:30:39.8917061Z         redirects
2024-03-11T02:30:39.8970683Z         invokes .import_csv
2024-03-11T02:30:39.8971781Z       without a csv file
2024-03-11T02:30:39.9093248Z         redirects to :index
2024-03-11T02:30:39.9212779Z         presents a flash error message
2024-03-11T02:30:39.9213595Z     GET #new
2024-03-11T02:30:40.0639893Z       returns http success
2024-03-11T02:30:40.0640687Z     PUT #reactivate
2024-03-11T02:30:40.0829310Z       undiscards
2024-03-11T02:30:40.0829963Z     PUT #deactivate
2024-03-11T02:30:40.1036691Z       discards
2024-03-11T02:30:40.1037301Z       with inventory
2024-03-11T02:30:40.1526502Z         does not discard
2024-03-11T02:30:40.1527258Z     GET #inventory
2024-03-11T02:30:40.1527864Z       without any overrides
2024-03-11T02:30:40.2075672Z         returns a collection that only includes items at the storage location
2024-03-11T02:30:40.2076737Z       when also including inactive items
2024-03-11T02:30:40.2745583Z         returns a collection that also includes items that have been deactivated
2024-03-11T02:30:40.2747004Z       when also including omitted items
2024-03-11T02:30:40.3252866Z         contains a collection of ducktyped entries that respond the same
2024-03-11T02:30:40.3799994Z         returns a collection that also includes all items, but with zeroed quantities
2024-03-11T02:30:40.3801206Z     GET #edit
2024-03-11T02:30:40.4143129Z       returns http success
2024-03-11T02:30:40.4144264Z     Looking at a different organization
2024-03-11T02:30:40.5876599Z       redirects the user to the sign-in page for CRUD actions
2024-03-11T02:30:40.5877457Z   While not signed in
2024-03-11T02:30:40.5938132Z     redirects the user to the sign-in page for CRUD actions
2024-03-11T02:30:40.5938791Z 
2024-03-11T02:30:40.5938974Z Events
2024-03-11T02:30:40.5940000Z   When signed in
2024-03-11T02:30:40.5940743Z     GET #index
2024-03-11T02:30:41.1594065Z       should be successful
2024-03-11T02:30:41.1594871Z       with eventable_id
2024-03-11T02:30:41.8670319Z         should only show events from that eventable
2024-03-11T02:30:42.4258488Z       with type filter
2024-03-11T02:30:42.4259292Z         should not include the adjustment
2024-03-11T02:30:42.4259964Z       with item filter
2024-03-11T02:30:42.9706045Z         should not include the other item
2024-03-11T02:30:42.9706861Z       with storage location filter
2024-03-11T02:30:43.5150221Z         should not include the other storage location
2024-03-11T02:30:43.5151109Z       with date filter
2024-03-11T02:30:44.0592294Z         should not include the old donation
2024-03-11T02:30:44.0593631Z   When not signed in
2024-03-11T02:30:44.0825781Z     redirects the user to the sign-in page for CRUD actions
2024-03-11T02:30:44.0826502Z 
2024-03-11T02:30:44.0826686Z /partners/profiles
2024-03-11T02:30:44.0827508Z   PUT #update
2024-03-11T02:30:44.1382244Z     updates the partner and profile
2024-03-11T02:30:44.1383252Z     when updating an existing value to a blank value
2024-03-11T02:30:44.1920160Z       does not update other partner profile attributes to blank
2024-03-11T02:30:44.2417943Z       does store N/A in the database
2024-03-11T02:30:44.3456582Z       updates the partner profile attribute to a blank value
2024-03-11T02:30:44.3457561Z     with no social media
2024-03-11T02:30:44.5638594Z       shows an error
2024-03-11T02:30:44.5639212Z   GET #show
2024-03-11T02:30:44.6243645Z     displays the partner
2024-03-11T02:30:44.6790590Z     shows correct values for yes/no buttons
2024-03-11T02:30:44.6791343Z   GET #edit
2024-03-11T02:30:44.7691751Z     has "Yes" radio button value when value is true
2024-03-11T02:30:44.8623029Z     has "No" radio button value when value is false
2024-03-11T02:30:44.9509049Z     does not have default radio button value when value is nil
2024-03-11T02:30:45.0368274Z     displays the partner
2024-03-11T02:30:45.0371022Z 
2024-03-11T02:30:45.0371253Z Dashboard
2024-03-11T02:30:45.0372981Z   With an existing essentials bank
2024-03-11T02:30:45.0374402Z     Inventory Totals
2024-03-11T02:30:45.0375068Z       Summary
2024-03-11T02:30:45.7557154Z         displays the on-hand totals
2024-03-11T02:30:45.7558009Z         when constrained to date range
2024-03-11T02:30:46.8030704Z           does not change
2024-03-11T02:30:46.8031520Z     Manufacturer Donations
2024-03-11T02:30:47.3840359Z       has a link to create a new donation
2024-03-11T02:30:47.3842090Z       given 1 Manufacturer donating on 2024-03-03  (unless 'All Time'), 2 during 2024-03-04..2024-03-10, and 1 on 2024-03-11
2024-03-11T02:30:47.3843128Z         filtering to 'Last 7 Days'
2024-03-11T02:30:48.9496494Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-03-11T02:30:48.9498384Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 2 during 2000-01-01..2024-03-10, and 1 on 2024-03-11
2024-03-11T02:30:48.9499564Z         filtering to 'All Time'
2024-03-11T02:30:50.3854182Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-03-11T02:30:50.3855995Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 9 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-11T02:30:50.3856922Z         filtering to 'This Year'
2024-03-11T02:30:52.6960484Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-11T02:30:52.6962050Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 7 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-11T02:30:52.6963262Z         filtering to 'Last Month'
2024-03-11T02:30:54.6307805Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-03-11T02:30:54.6309427Z       given 1 Manufacturer donating on 2024-02-29  (unless 'All Time'), 8 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-11T02:30:54.6310777Z         filtering to 'This Month'
2024-03-11T02:30:57.1183692Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-11T02:30:57.1185642Z       given 1 Manufacturer donating on 2024-03-08  (unless 'All Time'), 3 during 2024-03-09..2024-03-09, and 1 on 2024-03-10
2024-03-11T02:30:57.1186556Z         filtering to 'Yesterday'
2024-03-11T02:30:58.6714156Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-11T02:30:58.6715955Z       given 1 Manufacturer donating on 2022-03-09  (unless 'All Time'), 1 during 2022-03-10..2024-02-24, and 1 on 2024-02-25
2024-03-11T02:30:58.6717206Z         filtering to '' (March 10, 2022 - February 24, 2024)
2024-03-11T02:31:00.1359306Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-03-11T02:31:00.1361116Z       given 1 Manufacturer donating on 2024-03-09  (unless 'All Time'), 5 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T02:31:00.1362654Z         filtering to 'Today'
2024-03-11T02:31:02.2363445Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-03-11T02:31:02.2365447Z       given 1 Manufacturer donating on 2024-02-09  (unless 'All Time'), 9 during 2024-02-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T02:31:02.2367216Z         filtering to 'Last 30 Days'
2024-03-11T02:31:04.6743167Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-11T02:31:04.6744218Z     Purchases
2024-03-11T02:31:05.5626858Z       has a link to create a new purchase
2024-03-11T02:31:05.5628640Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-11T02:31:05.5629975Z         filtering to 'Last Month'
2024-03-11T02:31:08.8961565Z           shows correct 0 Recent Purchase link(s)
2024-03-11T02:31:08.8963034Z       given 1 Purchase on 2024-02-29  (unless 'All Time'), 1 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-11T02:31:08.8964078Z         filtering to 'This Month'
2024-03-11T02:31:10.2704237Z           shows correct 1 Recent Purchase link(s)
2024-03-11T02:31:10.2707575Z       given 1 Purchase on 2024-03-09  (unless 'All Time'), 3 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T02:31:10.2708521Z         filtering to 'Today'
2024-03-11T02:31:11.7274941Z           shows correct 3 Recent Purchase link(s)
2024-03-11T02:31:11.7276596Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-11T02:31:11.7277402Z         filtering to 'This Year'
2024-03-11T02:31:15.0877973Z           shows correct 0 Recent Purchase link(s)
2024-03-11T02:31:15.0879699Z       given 1 Purchase on 2024-03-03  (unless 'All Time'), 2 during 2024-03-04..2024-03-10, and 1 on 2024-03-11
2024-03-11T02:31:15.0888300Z         filtering to 'Last 7 Days'
2024-03-11T02:31:16.5973983Z           shows correct 2 Recent Purchase link(s)
2024-03-11T02:31:16.5976074Z       given 1 Purchase on 2022-03-09  (unless 'All Time'), 0 during 2022-03-10..2024-03-04, and 1 on 2024-03-05
2024-03-11T02:31:16.5977522Z         filtering to '' (March 10, 2022 - March 4, 2024)
2024-03-11T02:31:19.9725754Z           shows correct 0 Recent Purchase link(s)
2024-03-11T02:31:19.9727689Z       given 1 Purchase on 2024-03-08  (unless 'All Time'), 1 during 2024-03-09..2024-03-09, and 1 on 2024-03-10
2024-03-11T02:31:19.9728969Z         filtering to 'Yesterday'
2024-03-11T02:31:21.3308805Z           shows correct 1 Recent Purchase link(s)
2024-03-11T02:31:21.3310571Z       given 1 Purchase on 2024-02-09  (unless 'All Time'), 0 during 2024-02-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T02:31:21.3312044Z         filtering to 'Last 30 Days'
2024-03-11T02:31:24.6699710Z           shows correct 0 Recent Purchase link(s)
2024-03-11T02:31:24.6700757Z     Signage
2024-03-11T02:31:27.5584717Z       shows their organization name unless they have a logo set
2024-03-11T02:31:27.5585806Z     Distributions
2024-03-11T02:31:28.4941121Z       has a link to create a new distribution
2024-03-11T02:31:28.4942905Z       given 1 Distribution on 2024-02-29  (unless 'All Time'), 1 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-11T02:31:28.4944123Z         filtering to 'This Month'
2024-03-11T02:31:29.8960989Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-11T02:31:29.8962853Z       given 1 Distribution on 2024-03-09  (unless 'All Time'), 3 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T02:31:29.8964528Z         filtering to 'Today'
2024-03-11T02:31:31.3151439Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-11T02:31:31.3153316Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-11T02:31:31.3154820Z         filtering to 'Last Month'
2024-03-11T02:31:34.6637059Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-11T02:31:34.6638898Z       given 1 Distribution on 2024-03-08  (unless 'All Time'), 3 during 2024-03-09..2024-03-09, and 1 on 2024-03-10
2024-03-11T02:31:34.6640332Z         filtering to 'Yesterday'
2024-03-11T02:31:36.0936655Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-11T02:31:36.0938190Z       given 1 Distribution on 2022-03-09  (unless 'All Time'), 2 during 2022-03-10..2023-10-25, and 1 on 2023-10-26
2024-03-11T02:31:36.0939164Z         filtering to '' (March 10, 2022 - October 25, 2023)
2024-03-11T02:31:37.5317592Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-11T02:31:37.5319020Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 0 during 2000-01-01..2024-03-10, and 1 on 2024-03-11
2024-03-11T02:31:37.5320033Z         filtering to 'All Time'
2024-03-11T02:31:40.8894226Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-11T02:31:40.8896104Z       given 1 Distribution on 2024-02-09  (unless 'All Time'), 3 during 2024-02-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T02:31:40.8897006Z         filtering to 'Last 30 Days'
2024-03-11T02:31:42.3550926Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-11T02:31:42.3552525Z       given 1 Distribution on 2024-03-03  (unless 'All Time'), 0 during 2024-03-04..2024-03-10, and 1 on 2024-03-11
2024-03-11T02:31:42.3553391Z         filtering to 'Last 7 Days'
2024-03-11T02:31:45.7310331Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-11T02:31:45.7312212Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-11T02:31:45.7313618Z         filtering to 'This Year'
2024-03-11T02:31:49.1491210Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-11T02:31:49.1492505Z     Product Drives
2024-03-11T02:31:49.7319135Z       has a widget for product drive summary data
2024-03-11T02:31:49.7321151Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-11T02:31:49.7322722Z         filtering to 'Last Month'
2024-03-11T02:31:51.0501190Z           shows the correct total money raised
2024-03-11T02:31:54.3882727Z           shows 0 Recent Donation link(s)
2024-03-11T02:31:55.7027274Z           shows the correct total donations
2024-03-11T02:31:55.7028232Z       Product drive behaviour with Mixed Donation types
2024-03-11T02:31:56.4142850Z         only counts product drive money raised
2024-03-11T02:31:57.1284951Z         only shows product drive donations as product drive donations
2024-03-11T02:31:57.8243667Z         only counts product drive donations for product drive
2024-03-11T02:31:57.8245531Z       given 1 Product Drive Donation on 2024-02-29 (unless 'All Time'), 3 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-11T02:31:57.8247264Z         filtering to 'This Month'
2024-03-11T02:31:59.2979891Z           shows 3 Recent Donation link(s)
2024-03-11T02:32:00.9066502Z           shows the correct total money raised
2024-03-11T02:32:02.3595266Z           shows the correct total donations
2024-03-11T02:32:02.3597186Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-11T02:32:02.3598061Z         filtering to 'This Year'
2024-03-11T02:32:03.7713107Z           shows the correct total donations
2024-03-11T02:32:05.2063730Z           shows 2 Recent Donation link(s)
2024-03-11T02:32:06.6333987Z           shows the correct total money raised
2024-03-11T02:32:06.6335351Z       given 1 Product Drive Donation on 2024-03-08 (unless 'All Time'), 2 during 2024-03-09..2024-03-09, and 1 on 2024-03-10
2024-03-11T02:32:06.6336496Z         filtering to 'Yesterday'
2024-03-11T02:32:08.0543526Z           shows the correct total money raised
2024-03-11T02:32:09.4892356Z           shows 2 Recent Donation link(s)
2024-03-11T02:32:10.9003977Z           shows the correct total donations
2024-03-11T02:32:10.9005745Z       given 1 Product Drive Donation on 2024-03-03 (unless 'All Time'), 2 during 2024-03-04..2024-03-10, and 1 on 2024-03-11
2024-03-11T02:32:10.9007348Z         filtering to 'Last 7 Days'
2024-03-11T02:32:12.3158947Z           shows the correct total money raised
2024-03-11T02:32:13.7372294Z           shows the correct total donations
2024-03-11T02:32:15.1722774Z           shows 2 Recent Donation link(s)
2024-03-11T02:32:15.1724508Z       given 1 Product Drive Donation on 2024-03-09 (unless 'All Time'), 4 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T02:32:15.1725763Z         filtering to 'Today'
2024-03-11T02:32:16.6838255Z           shows 3 Recent Donation link(s)
2024-03-11T02:32:18.1839767Z           shows the correct total donations
2024-03-11T02:32:19.6821984Z           shows the correct total money raised
2024-03-11T02:32:19.6823635Z       given 1 Product Drive Donation on 2024-02-09 (unless 'All Time'), 2 during 2024-02-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T02:32:19.6824568Z         filtering to 'Last 30 Days'
2024-03-11T02:32:21.1226219Z           shows the correct total donations
2024-03-11T02:32:42.5578560Z           shows the correct total money raised (FAILED - 1)
2024-03-11T02:32:43.9844029Z           shows 2 Recent Donation link(s)
2024-03-11T02:32:43.9845473Z       given 1 Product Drive Donation on 2022-03-09 (unless 'All Time'), 4 during 2022-03-10..2024-03-09, and 1 on 2024-03-10
2024-03-11T02:32:43.9846919Z         filtering to '' (March 10, 2022 - March 9, 2024)
2024-03-11T02:32:45.4877236Z           shows the correct total money raised
2024-03-11T02:32:46.9882935Z           shows 3 Recent Donation link(s)
2024-03-11T02:32:48.4859898Z           shows the correct total donations
2024-03-11T02:32:48.4861119Z     Donations
2024-03-11T02:32:49.3997652Z       has a link to create a new donation
2024-03-11T02:32:49.3999356Z       given 1 Donation on 2023-12-31 (only if a valid date), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-11T02:32:49.4000635Z         filtering to 'This Year'
2024-03-11T02:32:50.8454240Z           shows the correct total and 3 Recent Donation link(s)
2024-03-11T02:32:50.8456006Z       given 1 Donation on 2024-03-09 (only if a valid date), 0 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T02:32:50.8457397Z         filtering to 'Today'
2024-03-11T02:32:54.1650394Z           shows the correct total and 0 Recent Donation link(s)
2024-03-11T02:32:54.1651968Z       given 1 Donation on 2024-03-08 (only if a valid date), 1 during 2024-03-09..2024-03-09, and 1 on 2024-03-10
2024-03-11T02:32:54.1652991Z         filtering to 'Yesterday'
2024-03-11T02:32:55.5332926Z           shows the correct total and 1 Recent Donation link(s)
2024-03-11T02:32:55.5334616Z       given 1 Donation on 2022-03-09 (only if a valid date), 3 during 2022-03-10..2024-01-26, and 1 on 2024-01-27
2024-03-11T02:32:55.5335612Z         filtering to '' (March 10, 2022 - January 26, 2024)
2024-03-11T02:32:57.0128963Z           shows the correct total and 3 Recent Donation link(s)
2024-03-11T02:32:57.0131262Z       given 1 Donation on 2024-02-29 (only if a valid date), 3 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-11T02:32:57.0132571Z         filtering to 'This Month'
2024-03-11T02:32:58.4860895Z           shows the correct total and 3 Recent Donation link(s)
2024-03-11T02:32:58.4862908Z       given 1 Donation on 2024-02-09 (only if a valid date), 1 during 2024-02-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T02:32:58.4864860Z         filtering to 'Last 30 Days'
2024-03-11T02:32:59.8609599Z           shows the correct total and 1 Recent Donation link(s)
2024-03-11T02:32:59.8610960Z       given 1 Donation on 2024-01-31 (only if a valid date), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-11T02:32:59.8611932Z         filtering to 'Last Month'
2024-03-11T02:33:01.3129947Z           shows the correct total and 3 Recent Donation link(s)
2024-03-11T02:33:01.3131947Z       given 1 Donation on 2024-03-03 (only if a valid date), 4 during 2024-03-04..2024-03-10, and 1 on 2024-03-11
2024-03-11T02:33:01.3133272Z         filtering to 'Last 7 Days'
2024-03-11T02:33:02.8135126Z           shows the correct total and 3 Recent Donation link(s)
2024-03-11T02:33:02.8136357Z   With a new essentials bank
2024-03-11T02:33:30.8081188Z     displays the getting started guide until the steps are completed
2024-03-11T02:33:30.8081994Z 
2024-03-11T02:33:30.8082205Z /partners/dashboard
2024-03-11T02:33:30.9170949Z   displays upcoming distributions
2024-03-11T02:33:30.9171850Z   with both roles
2024-03-11T02:33:30.9846774Z     should include the switch link
2024-03-11T02:33:30.9847394Z   with just partner role
2024-03-11T02:33:31.0372894Z     should not display the switch link
2024-03-11T02:33:31.0373550Z   GET #index
2024-03-11T02:33:31.1173809Z     displays requests that are pending
2024-03-11T02:33:31.1882710Z     does not display requests in other states
2024-03-11T02:33:31.1883629Z   BroadcastAnnouncement card
2024-03-11T02:33:31.2460099Z     doesn't display announcements if there are not valid ones
2024-03-11T02:33:31.3004893Z     displays announcements if there are valid ones
2024-03-11T02:33:31.3553024Z     doesn't display announcements from super admins
2024-03-11T02:33:31.3553487Z 
2024-03-11T02:33:31.3553677Z Admin::AccountRequestsController
2024-03-11T02:33:31.3554331Z   while signed in as a super admin
2024-03-11T02:33:31.3555349Z     GET #for_rejection
2024-03-11T02:33:31.3556294Z       with an invalid token
2024-03-11T02:33:31.3940150Z         should show a not found message
2024-03-11T02:33:31.3940872Z       with a valid token
2024-03-11T02:33:31.4390318Z         should show the request
2024-03-11T02:33:31.4391002Z     GET #index
2024-03-11T02:33:31.4733471Z       returns success
2024-03-11T02:33:31.4734458Z     POST #reject
2024-03-11T02:33:31.4998466Z       should redirect back on success
2024-03-11T02:33:31.4999188Z 
2024-03-11T02:33:31.4999430Z Managing requests
2024-03-11T02:33:31.5001224Z   creating a new quantity request
2024-03-11T02:33:31.5002365Z     GIVEN a partner user is permitted to make a request
2024-03-11T02:33:31.5003573Z       WHEN a request is built using add and remove buttons
2024-03-11T02:33:31.5004534Z         THEN a request records will be created
2024-03-11T02:33:33.4750286Z           creates the correct request
2024-03-11T02:33:33.4751290Z   creating a # individuals request
2024-03-11T02:33:33.4752562Z     GIVEN a partner user is permitted to make a request
2024-03-11T02:33:33.4753672Z       WHEN a request is built using add and remove buttons
2024-03-11T02:33:33.4754570Z         THEN a request records will be created
2024-03-11T02:33:35.2961522Z           creates the correct request
2024-03-11T02:33:35.2966856Z 
2024-03-11T02:33:35.2967138Z Admin Organization Management
2024-03-11T02:33:35.2968726Z   While signed in as an Administrative User (super admin)
2024-03-11T02:33:36.5794065Z     can view organization details
2024-03-11T02:33:38.6139646Z     creates a new organization
2024-03-11T02:33:39.8800546Z     filters by organizations by name in organizations index page
2024-03-11T02:33:39.8801862Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-11T02:33:41.7822914Z     creates a new organization
2024-03-11T02:33:41.7823753Z 
2024-03-11T02:33:41.7823965Z Vendor
2024-03-11T02:33:41.7825824Z   when editing an existing vendor
2024-03-11T02:33:42.5338989Z     does not update a vendor with empty attributes
2024-03-11T02:33:43.3128027Z     can update the contact info for a vendor as a user
2024-03-11T02:33:43.3129431Z   When vendor have purchases associated with them already
2024-03-11T02:33:43.9271204Z     can have existing vendors show in the #index with some summary stats
2024-03-11T02:33:44.5077281Z     can have a single vendor show semi-detailed stats about purchases
2024-03-11T02:33:44.5078011Z   when creating a new vendor
2024-03-11T02:33:45.2887985Z     can create a new vendor instance as a user
2024-03-11T02:33:46.0178229Z     cannot add a new vendor instance with empty attributes
2024-03-11T02:33:46.0179399Z   When a user views the index page
2024-03-11T02:33:46.5109294Z     should have the vendor names in alphabetical order
2024-03-11T02:33:46.5110064Z 
2024-03-11T02:33:46.5110646Z User account management
2024-03-11T02:33:46.5111802Z   when in staging
2024-03-11T02:33:46.9689622Z     should not allow the user to change staging credentials
2024-03-11T02:33:47.4386718Z     should display staging warning
2024-03-11T02:33:47.4387672Z   when not in staging
2024-03-11T02:33:48.2055505Z     should fail when the email is invalid
2024-03-11T02:33:49.0772396Z     should change the email
2024-03-11T02:33:49.9821734Z     should change an user name
2024-03-11T02:33:50.0762733Z W, [2024-03-10T19:33:50.075895 #2521]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-11T02:33:50.0764896Z W, [2024-03-10T19:33:50.075969 #2521]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-11T02:33:50.1010185Z W, [2024-03-10T19:33:50.075997 #2521]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-11T02:33:50.1013189Z W, [2024-03-10T19:33:50.076038 #2521]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-11T02:33:50.1508599Z 
2024-03-11T02:33:50.1509038Z Failures:
2024-03-11T02:33:50.1509367Z 
2024-03-11T02:33:50.1512038Z   1) Dashboard With an existing essentials bank Product Drives given 1 Product Drive Donation on 2024-02-09 (unless 'All Time'), 2 during 2024-02-10..2024-03-10, and 1 on 2024-03-11 filtering to 'Last 30 Days' shows the correct total money raised
2024-03-11T02:33:50.1514699Z      Failure/Error: example.run
2024-03-11T02:33:50.1514931Z 
2024-03-11T02:33:50.1515053Z      Ferrum::TimeoutError:
2024-03-11T02:33:50.1516286Z        Timed out waiting for response. It's possible that this happened because something took a very long time (for example a page load was slow). If so, setting the :timeout option to a higher value might help.
2024-03-11T02:33:50.1518228Z      # ./spec/system/dashboard_system_spec.rb:363:in `block (4 levels) in <top (required)>'
2024-03-11T02:33:50.1518995Z 
2024-03-11T02:33:50.1519390Z Finished in 3 minutes 54.3 seconds (files took 8.27 seconds to load)
2024-03-11T02:33:50.1520163Z 212 examples, 1 failure
2024-03-11T02:33:50.1520460Z 
2024-03-11T02:33:50.1520622Z Failed examples:
2024-03-11T02:33:50.1520869Z 
2024-03-11T02:33:50.1523287Z rspec './spec/system/dashboard_system_spec.rb[1:2:5:5:1:2]' # Dashboard With an existing essentials bank Product Drives given 1 Product Drive Donation on 2024-02-09 (unless 'All Time'), 2 during 2024-02-10..2024-03-10, and 1 on 2024-03-11 filtering to 'Last 30 Days' shows the correct total money raised
2024-03-11T02:33:50.1524918Z 
2024-03-11T02:33:50.1525034Z Randomized with seed 226
2024-03-11T02:33:50.1525226Z 
2024-03-11T02:33:50.4529390Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-11T02:33:50.4531838Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3760 / 6476 LOC (58.06%) covered.
2024-03-11T02:33:50.5744650Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb" failed
2024-03-11T02:33:50.9580640Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-11T02:33:50.9582139Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10780 LOC (0.35%) covered.
2024-03-11T02:33:50.9837995Z ##[error]Process completed with exit code 1.
