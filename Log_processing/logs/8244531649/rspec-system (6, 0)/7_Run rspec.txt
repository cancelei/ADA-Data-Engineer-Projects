2024-03-12T06:29:49.4523056Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-12T06:29:49.4524009Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-12T06:29:49.4574844Z shell: /usr/bin/bash -e {0}
2024-03-12T06:29:49.4575242Z env:
2024-03-12T06:29:49.4575587Z   POSTGRES_HOST: localhost
2024-03-12T06:29:49.4576056Z   DATABASE_HOST: localhost
2024-03-12T06:29:49.4576454Z   PG_USERNAME: postgres
2024-03-12T06:29:49.4576787Z   PG_PASSWORD: password
2024-03-12T06:29:49.4577228Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-12T06:29:49.4577663Z   POSTGRES_PORT: 5432
2024-03-12T06:29:49.4578074Z   PGHOST: localhost
2024-03-12T06:29:49.4578395Z   PGUSER: postgres
2024-03-12T06:29:49.4578756Z   RAILS_ENV: test
2024-03-12T06:29:49.4579197Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-12T06:29:49.4579660Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-12T06:29:49.4580064Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-03-12T06:29:49.4580534Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-12T06:29:49.4581148Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-12T06:29:49.4581821Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-12T06:29:49.4582480Z ##[endgroup]
2024-03-12T06:29:55.0424185Z W, [2024-03-12T06:29:55.042040 #2478]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-12T06:29:55.0426273Z W, [2024-03-12T06:29:55.042102 #2478]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:29:55.0428766Z W, [2024-03-12T06:29:55.042122 #2478]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:29:55.0434170Z W, [2024-03-12T06:29:55.042148 #2478]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-12T06:29:57.7596111Z W, [2024-03-12T06:29:57.759202 #2478]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-12T06:29:57.7598895Z W, [2024-03-12T06:29:57.759241 #2478]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:29:57.7602073Z W, [2024-03-12T06:29:57.759258 #2478]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:29:57.7606504Z W, [2024-03-12T06:29:57.759300 #2478]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-12T06:29:57.7658509Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/organization_requests_spec.rb" "spec/requests/partners/individuals_requests_controller_spec.rb" "spec/requests/product_drive_participants_requests_spec.rb" "spec/requests/sessions_requests_spec.rb" "spec/requests/vendors_requests_spec.rb" "spec/system/admin/base_items_system_spec.rb" "spec/system/authorization_system_spec.rb" "spec/system/donation_system_spec.rb" "spec/system/manufacturer_system_spec.rb" "spec/system/partners/family_requests_system_spec.rb" "spec/system/product_drive_system_spec.rb" "spec/system/storage_location_system_spec.rb"
2024-03-12T06:30:06.0194275Z 
2024-03-12T06:30:06.0195004Z Randomized with seed 50208
2024-03-12T06:30:06.9309403Z 
2024-03-12T06:30:06.9310196Z Organizations
2024-03-12T06:30:06.9311423Z   While signed in as an organization admin
2024-03-12T06:30:06.9313781Z     when attempting to access a different organization
2024-03-12T06:30:06.9314649Z       GET #show
2024-03-12T06:30:07.1861700Z         shows your own anyway
2024-03-12T06:30:07.1862621Z       GET #edit
2024-03-12T06:30:07.3980111Z         shows your own anyway
2024-03-12T06:30:07.3981131Z       POST #promote_to_org_admin
2024-03-12T06:30:07.6112705Z         redirects after update
2024-03-12T06:30:07.6113519Z     PUT #deactivate_user
2024-03-12T06:30:07.6314044Z       deactivates the user
2024-03-12T06:30:07.6479426Z       redirect after update
2024-03-12T06:30:07.6479926Z     POST #promote_to_org_admin
2024-03-12T06:30:07.6694605Z       runs successfully
2024-03-12T06:30:07.6695215Z     PATCH #update
2024-03-12T06:30:07.6886185Z       should be redirect after update
2024-03-12T06:30:07.7058813Z       can update name
2024-03-12T06:30:07.7059483Z       when organization can not be updated
2024-03-12T06:30:07.7519770Z         renders edit template with an error message
2024-03-12T06:30:07.7520728Z     PUT #reactivate_user
2024-03-12T06:30:07.7697806Z       reactivates the user
2024-03-12T06:30:07.7857989Z       redirect after update
2024-03-12T06:30:07.7858667Z     POST #demote_to_user
2024-03-12T06:30:07.8216780Z       runs correctly
2024-03-12T06:30:07.8217426Z     GET #edit
2024-03-12T06:30:07.8628326Z       is expected to render template matcher "edit"
2024-03-12T06:30:07.9058863Z       initializing the given organization
2024-03-12T06:30:07.9458662Z       is expected to be successful
2024-03-12T06:30:07.9459434Z   When signed in as a super admin
2024-03-12T06:30:07.9460415Z     POST #demote_to_user
2024-03-12T06:30:07.9812666Z       runs successfully
2024-03-12T06:30:07.9813273Z     POST #promote_to_org_admin
2024-03-12T06:30:08.0192383Z       runs successfully
2024-03-12T06:30:08.0192852Z     PUT #deactivate_user
2024-03-12T06:30:08.0354878Z       redirect after update
2024-03-12T06:30:08.0523963Z       deactivates the user
2024-03-12T06:30:08.0524464Z     PUT #reactivate_user
2024-03-12T06:30:08.0710152Z       reactivates the user
2024-03-12T06:30:08.0876844Z       redirect after update
2024-03-12T06:30:08.0877668Z   While signed in as a normal user
2024-03-12T06:30:08.0879062Z     GET #edit
2024-03-12T06:30:08.0991591Z       is expected to redirect to "/db_1/dashboard"
2024-03-12T06:30:08.1101487Z       is expected to have error
2024-03-12T06:30:08.1102387Z     PATCH #update
2024-03-12T06:30:08.1213571Z       is expected to redirect to "/db_1/dashboard"
2024-03-12T06:30:08.1319805Z       is expected to have error
2024-03-12T06:30:08.1320541Z     GET #show
2024-03-12T06:30:08.1722919Z       is expected to be successful
2024-03-12T06:30:08.2125842Z       load the current organization
2024-03-12T06:30:08.2127350Z 
2024-03-12T06:30:08.2127615Z /account_requests
2024-03-12T06:30:08.2129313Z   GET #received
2024-03-12T06:30:08.2129865Z     when given a valid token
2024-03-12T06:30:08.2386286Z       should render the received template
2024-03-12T06:30:08.2386983Z     when given a invalid token
2024-03-12T06:30:08.2442704Z       should render a error that says that is code provided is invalid
2024-03-12T06:30:08.2443847Z   POST #create
2024-03-12T06:30:08.2444684Z     with valid parameters
2024-03-12T06:30:08.2590645Z       redirects to the created account_request confirmation
2024-03-12T06:30:08.2705214Z       delivers the confirmation email via default queue
2024-03-12T06:30:08.2823297Z       creates a new AccountRequest
2024-03-12T06:30:08.2824013Z     with invalid parameters
2024-03-12T06:30:08.3012838Z       does not create a new AccountRequest
2024-03-12T06:30:08.3166087Z       renders a successful response (i.e. to display the 'new' template)
2024-03-12T06:30:08.3167113Z   GET #confirm
2024-03-12T06:30:08.3167798Z     when given a invalid token
2024-03-12T06:30:08.3221296Z       should render a error that says that is code provided is invalid
2024-03-12T06:30:08.3222439Z     when given a token that has already been confirmed
2024-03-12T06:30:08.5020751Z       should render a error that says that is code provided is invalid
2024-03-12T06:30:08.5194992Z     when given a valid token
2024-03-12T06:30:08.5196449Z       should the update confirmed_at on the account_request, queue confirmation email and render confirm template
2024-03-12T06:30:08.5197618Z   GET #confirmation
2024-03-12T06:30:08.5198834Z     when given a valid token
2024-03-12T06:30:08.5327587Z       should render the confirmation template
2024-03-12T06:30:08.5328568Z     when given a token that has already been confirmed
2024-03-12T06:30:08.7117714Z       should render a error that says that is code provided is invalid
2024-03-12T06:30:08.7121618Z     when given a invalid token
2024-03-12T06:30:08.7185367Z       should render a error that says that is code provided is invalid
2024-03-12T06:30:08.7186298Z   GET #new
2024-03-12T06:30:08.7292776Z     renders a successful response
2024-03-12T06:30:08.7293923Z 
2024-03-12T06:30:08.7294150Z ProductDriveParticipants
2024-03-12T06:30:08.7296684Z   While not signed in
2024-03-12T06:30:08.7427686Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:30:08.7428376Z   While signed in
2024-03-12T06:30:08.7429395Z     Looking at a different organization
2024-03-12T06:30:08.9107669Z       redirects the user to the sign-in page for CRUD actions
2024-03-12T06:30:08.9108590Z     GET #show
2024-03-12T06:30:08.9441937Z       returns http success
2024-03-12T06:30:08.9442647Z     GET #edit
2024-03-12T06:30:08.9756481Z       returns http success
2024-03-12T06:30:08.9757320Z     GET #new
2024-03-12T06:30:09.0031403Z       returns http success
2024-03-12T06:30:09.0032168Z     POST #create
2024-03-12T06:30:09.0168172Z       successful create
2024-03-12T06:30:09.0460675Z       flash error
2024-03-12T06:30:09.0461366Z     XHR #create
2024-03-12T06:30:09.0745912Z       flash error
2024-03-12T06:30:09.1019517Z       successful create
2024-03-12T06:30:09.1020288Z     POST #import_csv
2024-03-12T06:30:09.1020906Z       with a csv file
2024-03-12T06:30:09.1054959Z         invokes .import_csv
2024-03-12T06:30:09.1254177Z         redirects
2024-03-12T06:30:09.1428640Z         presents a flash notice message
2024-03-12T06:30:09.1429422Z       without a csv file
2024-03-12T06:30:09.1539551Z         redirects to :index
2024-03-12T06:30:09.1649523Z         presents a flash error message
2024-03-12T06:30:09.1650287Z       csv file with wrong headers
2024-03-12T06:30:09.1768222Z         presents a flash error message
2024-03-12T06:30:09.1882824Z         redirects
2024-03-12T06:30:09.1883479Z     GET #index
2024-03-12T06:30:09.1884751Z       html
2024-03-12T06:30:09.2188999Z         is expected to be successful
2024-03-12T06:30:09.2189495Z       csv
2024-03-12T06:30:09.2342717Z         is expected to be successful
2024-03-12T06:30:09.2343660Z 
2024-03-12T06:30:09.2343850Z Sessions
2024-03-12T06:30:09.2344985Z   Sign in as user without logging off as an admin
2024-03-12T06:30:09.2465628Z     cannot access admin dashboard
2024-03-12T06:30:09.2581845Z     properly accesses the organization dashboard
2024-03-12T06:30:09.2582480Z 
2024-03-12T06:30:09.2582690Z Authorization
2024-03-12T06:30:10.5139292Z   redirects to the organization dashboard when authorized
2024-03-12T06:30:11.0920699Z   redirects to the dashboard when unauthorized user attempts access
2024-03-12T06:30:11.0921523Z 
2024-03-12T06:30:11.0921742Z Base Item Admin
2024-03-12T06:30:11.0923118Z   While signed in as a normal user
2024-03-12T06:30:12.4561819Z     should have a normal user not see anything
2024-03-12T06:30:12.4563012Z   While signed in as an Administrative User (super admin)
2024-03-12T06:30:12.9646789Z     can view a listing of all Base Items that shows a summary of its sub-items
2024-03-12T06:30:13.4064673Z     can view a single Base Item
2024-03-12T06:30:13.4065591Z     when updating an existing base item
2024-03-12T06:30:14.1227418Z       should fail when updating the name to empty
2024-03-12T06:30:14.9158733Z       should succeed when changing the name
2024-03-12T06:30:14.9159607Z     when creating a new base item
2024-03-12T06:30:15.6294701Z       should fail when creating a new base item with empty attributes
2024-03-12T06:30:16.4181336Z       should succeed when creating a new base item with good data
2024-03-12T06:30:16.4182656Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-12T06:30:17.0150080Z     can view a listing of all Base Items that shows a summary of its sub-items
2024-03-12T06:30:17.4738858Z     can view a single Base Item
2024-03-12T06:30:17.4739468Z     when updating an existing base item
2024-03-12T06:30:18.2040026Z       should fail when updating the name to empty
2024-03-12T06:30:18.9808747Z       should succeed when changing the name
2024-03-12T06:30:18.9809554Z     when creating a new base item
2024-03-12T06:30:19.6718315Z       should fail when creating a new base item with empty attributes
2024-03-12T06:30:20.4706634Z       should succeed when creating a new base item with good data
2024-03-12T06:30:20.4708375Z 
2024-03-12T06:30:20.4708672Z Admin::Organizations
2024-03-12T06:30:20.4709805Z   When logged in as a super admin
2024-03-12T06:30:20.4711547Z     PATCH #update
2024-03-12T06:30:20.4712282Z       with a valid update
2024-03-12T06:30:20.6563766Z         redirects to #index
2024-03-12T06:30:20.6564515Z       with an invalid update
2024-03-12T06:30:20.8904185Z         returns http success
2024-03-12T06:30:21.0959362Z         redirects to #edit with an error message
2024-03-12T06:30:21.0960539Z     GET #edit
2024-03-12T06:30:21.3002944Z       returns http success
2024-03-12T06:30:21.3003880Z     DELETE #destroy
2024-03-12T06:30:21.5936194Z       redirects
2024-03-12T06:30:21.5936829Z     POST #create
2024-03-12T06:30:21.5937701Z       with invalid params
2024-03-12T06:30:21.6371704Z         does not create an organization and renders #create with an error message
2024-03-12T06:30:21.6372514Z       with valid params
2024-03-12T06:30:21.9313311Z         creates an organization and redirects to #index
2024-03-12T06:30:21.9314126Z     GET #index
2024-03-12T06:30:21.9618227Z       returns http success
2024-03-12T06:30:21.9618937Z     GET #new
2024-03-12T06:30:21.9956892Z       returns http success
2024-03-12T06:30:21.9957953Z       when given a valid account request token in the query parameters
2024-03-12T06:30:22.0464613Z         should render new with pre populate input fields from the account_request
2024-03-12T06:30:22.0466028Z       when given a token that matches a account request that has already been processed
2024-03-12T06:30:22.2549599Z         should render new with a flash error message
2024-03-12T06:30:22.2550581Z     PUT #update
2024-03-12T06:30:22.2825865Z       redirect
2024-03-12T06:30:22.2826422Z     GET #show
2024-03-12T06:30:22.4858711Z       returns http success
2024-03-12T06:30:22.4859497Z     DELETE #destroy
2024-03-12T06:30:22.4860120Z       with a valid organization id
2024-03-12T06:30:22.8897341Z         redirects to #index
2024-03-12T06:30:22.8898340Z   When logged in as a non-admin user
2024-03-12T06:30:22.8899742Z     GET #edit
2024-03-12T06:30:22.9027812Z       redirects
2024-03-12T06:30:22.9028786Z     POST #create
2024-03-12T06:30:22.9165155Z       redirects
2024-03-12T06:30:22.9165683Z     PUT #update
2024-03-12T06:30:22.9285768Z       redirects
2024-03-12T06:30:22.9286280Z     GET #new
2024-03-12T06:30:22.9404007Z       redirects
2024-03-12T06:30:22.9404679Z     GET #index
2024-03-12T06:30:22.9522148Z       redirects
2024-03-12T06:30:22.9523516Z 
2024-03-12T06:30:22.9523731Z Donations
2024-03-12T06:30:22.9525522Z   while signed in as an organization admin
2024-03-12T06:30:22.9526381Z     When viewing an existing donation
2024-03-12T06:30:23.8274209Z       allows deletion of a donation
2024-03-12T06:30:23.8275131Z   When signed in as a normal user
2024-03-12T06:30:23.8277444Z     When visiting the index page
2024-03-12T06:30:24.6073659Z       doesn't die when an inactive item is in a donation
2024-03-12T06:30:25.0962562Z       Displays Total quantity on the index page
2024-03-12T06:30:25.8362194Z       should not display inactive storage locations in dropdown
2024-03-12T06:30:26.6334416Z       Allows User to click to the new donation form
2024-03-12T06:30:26.6335339Z     When editing an existing donation
2024-03-12T06:30:28.0962198Z       Allows the user to edit a donation
2024-03-12T06:30:29.9035287Z       Does not default a selection if item lookup fails
2024-03-12T06:30:29.9036362Z     When donation items have value
2024-03-12T06:30:30.7764710Z       Displays the total value on the show page
2024-03-12T06:30:31.4424253Z       Displays the individual value on the index page
2024-03-12T06:30:32.1025278Z       Displays the total value on the index page
2024-03-12T06:30:32.1026252Z     When creating a new donation
2024-03-12T06:30:32.6014254Z       should not display inactive storage locations in dropdown
2024-03-12T06:30:32.6015202Z       Via barcode entry
2024-03-12T06:30:33.4659049Z         Updates the line item when the same barcode is scanned twice (FAILED - 1)
2024-03-12T06:30:33.4661974Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Updates-the-line-item-when-the-same-barcode-is-scanned-twice_2024-03-11-23-30-33.332.html[0m
2024-03-12T06:30:33.4669410Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Updates-the-line-item-when-the-same-barcode-is-scanned-twice_2024-03-11-23-30-33.332.png[0m
2024-03-12T06:30:34.2806137Z         Allows User to add items by barcode (FAILED - 2)
2024-03-12T06:30:34.2808448Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Allows-User-to-add-items-by-barcode_2024-03-11-23-30-34.148.html[0m
2024-03-12T06:30:34.2811498Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Allows-User-to-add-items-by-barcode_2024-03-11-23-30-34.148.png[0m
2024-03-12T06:30:35.1769506Z         Allows User to add items that do not yet have a barcode
2024-03-12T06:30:35.1770625Z         When the barcode is a global barcode
2024-03-12T06:30:36.2817668Z           Adds the oldest item it can find for the global barcode (FAILED - 3)
2024-03-12T06:30:36.2820362Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Adds-the-oldest-item-it-can-find-for-the-global-barcode_2024-03-11-23-30-36.147.html[0m
2024-03-12T06:30:36.2822824Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Adds-the-oldest-item-it-can-find-for-the-global-barcode_2024-03-11-23-30-36.147.png[0m
2024-03-12T06:30:36.2824657Z       Via manual entry
2024-03-12T06:30:37.0673657Z         Does not include inactive items in the line item fields
2024-03-12T06:30:37.7955895Z         Allows User to create a Product Drive from donation
2024-03-12T06:30:40.4897332Z         Accepts and combines multiple line items for the same item type (FAILED - 4)
2024-03-12T06:30:40.4900157Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Accepts-and-combines-multiple-line-items-for-the-same-item-type_2024-03-11-23-30-40.335.html[0m
2024-03-12T06:30:40.4902806Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Accepts-and-combines-multiple-line-items-for-the-same-item-type_2024-03-11-23-30-40.335.png[0m
2024-03-12T06:30:41.4377422Z         User can create a donation using dollars decimal amount for its money raised
2024-03-12T06:30:42.4120688Z         Repopulates items dropdown even if initial submission doesn't validate
2024-03-12T06:30:43.2982408Z         Allows donations to be created IN THE PAST
2024-03-12T06:30:44.1683720Z         Verifies unusually large donation quantities
2024-03-12T06:30:45.0489777Z         Allows User to create a donation with a Miscellaneous source
2024-03-12T06:30:45.9270819Z         Displays nested errors
2024-03-12T06:30:46.8107566Z         Allows User to create a donation for Purchased Supplies
2024-03-12T06:30:47.5624092Z         Allows User to create a Product Drive Participant from donation
2024-03-12T06:30:50.1982675Z         Ensures Barcode Entry fields have unique ids (FAILED - 5)
2024-03-12T06:30:50.1984181Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Ensures-Barcode-Entry-fields-have-unique-ids_2024-03-11-23-30-50.063.html[0m
2024-03-12T06:30:50.1986373Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Ensures-Barcode-Entry-fields-have-unique-ids_2024-03-11-23-30-50.063.png[0m
2024-03-12T06:30:51.0807620Z         Allows User to create a donation for a Manufacturer source
2024-03-12T06:30:51.9970401Z         Allows User to create a donation for a ProductDrive Participant source
2024-03-12T06:30:52.8792019Z         Allows User to create a donation for a Donation Site source
2024-03-12T06:30:53.8165732Z         Strips extraneous data if the user adds both Donation Site and Product Drive Participant
2024-03-12T06:30:54.5452443Z         Allows User to create a Manufacturer from donation
2024-03-12T06:30:54.5453371Z     When viewing an existing donation
2024-03-12T06:30:55.0547738Z       displays donation comment
2024-03-12T06:30:55.5497877Z       does not allow deletion of a donation
2024-03-12T06:30:55.5498800Z       when there is no comment defined
2024-03-12T06:30:56.3411294Z         displays the None provided as the comment
2024-03-12T06:30:56.3414052Z     When filtering on the index page
2024-03-12T06:30:57.4291180Z       Filters by multiple attributes
2024-03-12T06:30:58.2324226Z       Filters by storage location
2024-03-12T06:30:59.0492145Z       Filters by the source
2024-03-12T06:30:59.8893650Z       Filters by product drives
2024-03-12T06:31:00.6880524Z       Filters by manufacturer
2024-03-12T06:31:01.5190443Z       Filter by product drive participant sticks around
2024-03-12T06:31:02.3223718Z       Filters by donation site
2024-03-12T06:31:03.1355657Z       Filters by product drive participant
2024-03-12T06:31:03.1356708Z       behaves like Date Range Picker
2024-03-12T06:31:03.1357659Z         when choosing 'Last Month'
2024-03-12T06:31:04.1079035Z           shows only 2 of the records
2024-03-12T06:31:04.1080340Z         when choosing 'All Time'
2024-03-12T06:31:05.1522573Z           shows all the records
2024-03-12T06:31:05.1523563Z         when choosing a date range that only includes the previous week
2024-03-12T06:31:06.0627797Z           shows only 1 record
2024-03-12T06:31:06.0630096Z 
2024-03-12T06:31:06.0630298Z Vendors
2024-03-12T06:31:06.0631772Z   While signed in
2024-03-12T06:31:06.0633728Z     GET #new
2024-03-12T06:31:06.1012142Z       returns http success
2024-03-12T06:31:06.1012726Z     GET #show
2024-03-12T06:31:06.1313943Z       returns http success
2024-03-12T06:31:06.1314643Z     DELETE #destroy
2024-03-12T06:31:06.1405408Z       does not have a route for this
2024-03-12T06:31:06.1406089Z     POST #import_csv
2024-03-12T06:31:06.1406963Z       without a csv file
2024-03-12T06:31:06.1525815Z         redirects to :index
2024-03-12T06:31:06.1640662Z         presents a flash error message
2024-03-12T06:31:06.1641222Z       with a csv file
2024-03-12T06:31:06.1835675Z         presents a flash notice message
2024-03-12T06:31:06.2020084Z         redirects
2024-03-12T06:31:06.2055238Z         invokes .import_csv
2024-03-12T06:31:06.2055745Z       csv file with wrong headers
2024-03-12T06:31:06.2177608Z         redirects
2024-03-12T06:31:06.2297679Z         presents a flash error message
2024-03-12T06:31:06.2298356Z     POST #create
2024-03-12T06:31:06.2614039Z       flash error
2024-03-12T06:31:06.2749116Z       successful create
2024-03-12T06:31:06.2749787Z     XHR #create
2024-03-12T06:31:06.3062641Z       successful create
2024-03-12T06:31:06.3365476Z       flash error
2024-03-12T06:31:06.3366099Z     when on vendors index page
2024-03-12T06:31:06.3643536Z       has the correct import type
2024-03-12T06:31:06.3644519Z     GET #index
2024-03-12T06:31:06.3645418Z       html
2024-03-12T06:31:06.3950407Z         is expected to be successful
2024-03-12T06:31:06.3951355Z       csv
2024-03-12T06:31:06.4104534Z         is expected to be successful
2024-03-12T06:31:06.4105638Z     Looking at a different organization
2024-03-12T06:31:06.5776249Z       redirects the user to the sign-in page for CRUD actions
2024-03-12T06:31:06.5777250Z     GET #edit
2024-03-12T06:31:06.6093392Z       returns http success
2024-03-12T06:31:06.6094095Z   While not signed in
2024-03-12T06:31:06.6151940Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:31:06.6152842Z 
2024-03-12T06:31:06.6153207Z Partners::IndividualsRequestsController
2024-03-12T06:31:06.6156819Z   POST #create
2024-03-12T06:31:06.6601455Z     does not allow deactivated partners
2024-03-12T06:31:06.7022658Z     does not allow partners not verified
2024-03-12T06:31:06.7023888Z     when a request has an empty row
2024-03-12T06:31:06.7666466Z       is valid
2024-03-12T06:31:06.7667361Z     when a request is empty
2024-03-12T06:31:06.8320707Z       is invalid
2024-03-12T06:31:06.8321398Z     when a request has only a comment
2024-03-12T06:31:06.8806016Z       is valid
2024-03-12T06:31:06.8806694Z     after invalid submission
2024-03-12T06:31:06.9445986Z       has the correct select fields
2024-03-12T06:31:06.9448350Z     when the request is valid
2024-03-12T06:31:06.9980852Z       submits the request
2024-03-12T06:31:06.9981533Z     when the request has invalid inputs
2024-03-12T06:31:07.0614508Z       shows an error
2024-03-12T06:31:07.0615241Z   GET #new
2024-03-12T06:31:07.1055072Z     does not allow deactivated partners
2024-03-12T06:31:07.1514431Z     does not allow partners not verified
2024-03-12T06:31:07.1515331Z     when first reaching the new page
2024-03-12T06:31:07.2032377Z       has the correct select fields
2024-03-12T06:31:07.2033072Z 
2024-03-12T06:31:07.2033543Z DonationSites
2024-03-12T06:31:07.2034442Z   while signed in
2024-03-12T06:31:07.2037703Z     GET #index
2024-03-12T06:31:07.2038485Z       html
2024-03-12T06:31:07.2412644Z         is expected to be successful
2024-03-12T06:31:07.2413481Z       csv
2024-03-12T06:31:07.2574941Z         is expected to be successful
2024-03-12T06:31:07.2576134Z 
2024-03-12T06:31:07.2576638Z Storage Locations
2024-03-12T06:31:07.2578669Z   when viewing an existing storage location
2024-03-12T06:31:07.9392214Z     Items in (adjustments)
2024-03-12T06:31:08.6729320Z     Items out (distributions)
2024-03-12T06:31:08.6730291Z   when viewing the index
2024-03-12T06:31:09.2880149Z     Filter list presented to user is in alphabetical order by item name
2024-03-12T06:31:10.1781145Z     Allows user to filter discarded storage locations
2024-03-12T06:31:10.9592942Z     Stops a user from deactivating storage locations with inventory
2024-03-12T06:31:12.0440001Z     shows totals that are the sum totals of all inputs
2024-03-12T06:31:13.2551755Z     User can filter the #index by those that contain certain items
2024-03-12T06:31:14.6065916Z     Allows user to deactivate and reactivate storage locations
2024-03-12T06:31:14.6066881Z   when creating a new storage location
2024-03-12T06:31:15.4550072Z     User creates a new storage location with empty attributes
2024-03-12T06:31:16.2374691Z     User creates a new storage location
2024-03-12T06:31:17.0719728Z     User creates a new storage location with optional fields
2024-03-12T06:31:17.0720553Z   when editing an existing storage location
2024-03-12T06:31:17.8185742Z     User updates an existing storage location with empty name
2024-03-12T06:31:18.6102039Z     User updates an existing storage location
2024-03-12T06:31:18.6102807Z 
2024-03-12T06:31:18.6103617Z Manufacturer
2024-03-12T06:31:19.3260536Z   allows a user to update a manufacturer with empty attributes
2024-03-12T06:31:20.1087459Z   allows a user to update the contact info for a manufacturer
2024-03-12T06:31:20.8205173Z   allows a user to add a new manufacturer instance with empty attributes
2024-03-12T06:31:21.5919218Z   allows a user to create a new manufacturer instance
2024-03-12T06:31:21.5920160Z   When a user views the index page
2024-03-12T06:31:22.0614729Z     alphabetizes the manufacturer names
2024-03-12T06:31:22.0615833Z   When the Manufacturers have donations associated with them already
2024-03-12T06:31:22.6846788Z     allows single Manufacturers to show semi-detailed stats about donations from that manufacturer
2024-03-12T06:31:23.3325995Z     shows existing Manufacturers in the #index with some summary stats
2024-03-12T06:31:23.3326807Z 
2024-03-12T06:31:23.3327054Z Audits
2024-03-12T06:31:23.3328120Z   while signed in as an organization admin
2024-03-12T06:31:23.3329942Z     GET #edit
2024-03-12T06:31:23.3989890Z       redirects to #index if the status of audit is not `in_progress`
2024-03-12T06:31:23.4600896Z       is successful if the status of audit is `in_progress`
2024-03-12T06:31:23.4602089Z     POST #create
2024-03-12T06:31:23.4602660Z       with valid params
2024-03-12T06:31:23.4975799Z         creates a new Audit
2024-03-12T06:31:23.5327874Z         assigns a newly created audit as @audit
2024-03-12T06:31:23.5691147Z         redirects to the #show after created audit
2024-03-12T06:31:23.6059371Z         creates a new Audit with status as `confirmed` if `confirm_audit` is passed as a param
2024-03-12T06:31:23.6427866Z         creates a new Audit with status as `in_progress` if `save_progress` is passed as a param
2024-03-12T06:31:23.6428596Z       with invalid params
2024-03-12T06:31:23.6815878Z         assigns a newly created but unsaved audit as @audit
2024-03-12T06:31:23.7188475Z         re-renders the 'new' template
2024-03-12T06:31:23.7710011Z         re-renders the 'new' template with an error message when an invalid storage location is given
2024-03-12T06:31:23.7710777Z     GET #index
2024-03-12T06:31:23.8240907Z       is successful
2024-03-12T06:31:23.8241753Z     DELETE #destroy
2024-03-12T06:31:23.8242373Z       with valid params
2024-03-12T06:31:23.8612535Z         destroys the audit if the audit's status is `confirms`
2024-03-12T06:31:23.8957201Z         can not destroy the audit if the audit's status is `finalized`
2024-03-12T06:31:23.9305638Z         destroys the audit if the audit's status is `in_progress`
2024-03-12T06:31:23.9306587Z     GET #show
2024-03-12T06:31:23.9789359Z       is successful
2024-03-12T06:31:23.9790040Z     GET #new
2024-03-12T06:31:24.0130243Z       is successful
2024-03-12T06:31:24.0130952Z     POST #finalize
2024-03-12T06:31:24.0702331Z       sets the finalize status and saves an event
2024-03-12T06:31:24.0703042Z 
2024-03-12T06:31:24.0703856Z Product Drives
2024-03-12T06:31:24.0704898Z   when creating a Virtual Product Drive
2024-03-12T06:31:24.9941666Z     must create a new virtual Product Drive
2024-03-12T06:31:25.9327091Z     must have the success message
2024-03-12T06:31:26.8352777Z     must have correct attributes
2024-03-12T06:31:26.8353553Z   when showing a Product Drive with no end date
2024-03-12T06:31:27.2667250Z     must be able to show the product drive
2024-03-12T06:31:27.2668155Z   when creating a normal product drive
2024-03-12T06:31:28.0517613Z     must create a new product drive
2024-03-12T06:31:28.8470849Z     must have the success message
2024-03-12T06:31:29.6194257Z     must have correct attributes
2024-03-12T06:31:29.6195102Z   When visiting the index page without parameters
2024-03-12T06:31:30.1303988Z     Shows the expected filters with the expected values and in alphabetical order for name filter
2024-03-12T06:31:30.6168299Z     shows only one virtual product drives
2024-03-12T06:31:31.1288280Z     shows the expected product drives
2024-03-12T06:31:31.6268863Z     shows in descending order of start date
2024-03-12T06:31:32.1160639Z     shows two non-virtual product drives
2024-03-12T06:31:32.1161578Z 
2024-03-12T06:31:32.1161780Z Family requests
2024-03-12T06:31:32.1162888Z   for children with different items, from different families
2024-03-12T06:31:33.7863636Z     it creates family requests
2024-03-12T06:31:33.7864460Z   filtering children
2024-03-12T06:31:34.8154138Z     user can see a list of children filtered by guardian name
2024-03-12T06:31:35.7537490Z     user can see a list of children filtered by first_name
2024-03-12T06:31:35.7795533Z W, [2024-03-11T23:31:35.779267 #2529]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-12T06:31:35.7797005Z W, [2024-03-11T23:31:35.779328 #2529]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:31:35.7847404Z W, [2024-03-11T23:31:35.779344 #2529]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:31:35.7850472Z W, [2024-03-11T23:31:35.779368 #2529]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-12T06:31:35.8696220Z 
2024-03-12T06:31:35.8697895Z Failures:
2024-03-12T06:31:35.8698254Z 
2024-03-12T06:31:35.8699306Z   1) Donations When signed in as a normal user When creating a new donation Via barcode entry Updates the line item when the same barcode is scanned twice
2024-03-12T06:31:35.8701368Z      Failure/Error: @__Condition__.wait @__Lock__, timeout
2024-03-12T06:31:35.8702446Z 
2024-03-12T06:31:35.8702893Z      Ferrum::JavaScriptError:
2024-03-12T06:31:35.8703948Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:31:35.8706145Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:46519/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:31:35.8708269Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:31:35.8709678Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:31:35.8711273Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:31:35.8712706Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:31:35.8713734Z 
2024-03-12T06:31:35.8715935Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/capybara/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_barcode_entry_updates_the_line_item_when_the_same_barcode_is_scanned_twice_316.png
2024-03-12T06:31:35.8718038Z 
2024-03-12T06:31:35.8718050Z 
2024-03-12T06:31:35.8719946Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `sleep'
2024-03-12T06:31:35.8723835Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `wait'
2024-03-12T06:31:35.8727698Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `ns_wait'
2024-03-12T06:31:35.8731457Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:44:in `block in ns_wait_until'
2024-03-12T06:31:35.8735064Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `loop'
2024-03-12T06:31:35.8738809Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `ns_wait_until'
2024-03-12T06:31:35.8743397Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:87:in `block in wait'
2024-03-12T06:31:35.8746810Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `block in synchronize'
2024-03-12T06:31:35.8750673Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:31:35.8754579Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:31:35.8757973Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:84:in `wait'
2024-03-12T06:31:35.8761202Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:75:in `wait'
2024-03-12T06:31:35.8764250Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:99:in `value!'
2024-03-12T06:31:35.8767454Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/browser/client.rb:42:in `command'
2024-03-12T06:31:35.8770070Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/page.rb:269:in `command'
2024-03-12T06:31:35.8772466Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:109:in `block in call'
2024-03-12T06:31:35.8775060Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/utils/attempt.rb:10:in `with_retry'
2024-03-12T06:31:35.8777689Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:105:in `call'
2024-03-12T06:31:35.8779994Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:97:in `evaluate_on'
2024-03-12T06:31:35.8782012Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:31:35.8783444Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:31:35.8785507Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/browser.rb:179:in `disabled?'
2024-03-12T06:31:35.8788089Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:21:in `command'
2024-03-12T06:31:35.8790610Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:143:in `disabled?'
2024-03-12T06:31:35.8793246Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `block in disabled?'
2024-03-12T06:31:35.8796089Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/base.rb:77:in `synchronize'
2024-03-12T06:31:35.8798664Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `disabled?'
2024-03-12T06:31:35.8801470Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector.rb:431:in `block (2 levels) in <top (required)>'
2024-03-12T06:31:35.8805252Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:14:in `block in initialize'
2024-03-12T06:31:35.8808268Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `instance_exec'
2024-03-12T06:31:35.8811155Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `apply'
2024-03-12T06:31:35.8813957Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:24:in `matches?'
2024-03-12T06:31:35.8817139Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:296:in `block (2 levels) in matches_node_filters?'
2024-03-12T06:31:35.8820271Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `each'
2024-03-12T06:31:35.8822945Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `all?'
2024-03-12T06:31:35.8825716Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `block in matches_node_filters?'
2024-03-12T06:31:35.8828584Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/selector.rb:89:in `with_filter_errors'
2024-03-12T06:31:35.8831315Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:283:in `matches_node_filters?'
2024-03-12T06:31:35.8834085Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:124:in `matches_filters?'
2024-03-12T06:31:35.8836854Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/result.rb:32:in `block in initialize'
2024-03-12T06:31:35.8839173Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:31:35.8841295Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:31:35.8843331Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:31:35.8845615Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:31:35.8847000Z      # 
2024-03-12T06:31:35.8847673Z      #   Showing full backtrace because every line was filtered out.
2024-03-12T06:31:35.8848737Z      #   See docs for RSpec::Configuration#backtrace_exclusion_patterns and
2024-03-12T06:31:35.8849963Z      #   RSpec::Configuration#backtrace_inclusion_patterns for more information.
2024-03-12T06:31:35.8850646Z 
2024-03-12T06:31:35.8851472Z   2) Donations When signed in as a normal user When creating a new donation Via barcode entry Allows User to add items by barcode
2024-03-12T06:31:35.8853410Z      Failure/Error: expect(page.has_select?("donation_line_items_attributes_0_item_id", selected: @existing_barcode.item.name)).to eq(true)
2024-03-12T06:31:35.8854615Z 
2024-03-12T06:31:35.8854851Z      Ferrum::JavaScriptError:
2024-03-12T06:31:35.8855702Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:31:35.8857720Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:46519/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:31:35.8860102Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:31:35.8861386Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:31:35.8862634Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:31:35.8863973Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:31:35.8864798Z 
2024-03-12T06:31:35.8866775Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_barcode_entry_allows_user_to_add_items_by_barcode_620.png
2024-03-12T06:31:35.8868739Z 
2024-03-12T06:31:35.8868755Z 
2024-03-12T06:31:35.8869383Z      # ./spec/system/donation_system_spec.rb:431:in `block (5 levels) in <top (required)>'
2024-03-12T06:31:35.8870160Z 
2024-03-12T06:31:35.8871386Z   3) Donations When signed in as a normal user When creating a new donation Via barcode entry When the barcode is a global barcode Adds the oldest item it can find for the global barcode
2024-03-12T06:31:35.8873612Z      Failure/Error: expect(page.has_select?("donation_line_items_attributes_0_item_id", selected: @item.name)).to eq(true)
2024-03-12T06:31:35.8874687Z 
2024-03-12T06:31:35.8875051Z      Ferrum::JavaScriptError:
2024-03-12T06:31:35.8875935Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:31:35.8877895Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:46519/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:31:35.8879848Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:31:35.8881158Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:31:35.8882425Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:31:35.9126724Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:31:35.9127264Z 
2024-03-12T06:31:35.9129268Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_barcode_entry_when_the_barcode_is_a_global_barcode_adds_the_oldest_item_it_can_find_for_the_global_barc_723.png
2024-03-12T06:31:35.9130786Z 
2024-03-12T06:31:35.9130794Z 
2024-03-12T06:31:35.9131119Z      # ./spec/system/donation_system_spec.rb:501:in `block (6 levels) in <top (required)>'
2024-03-12T06:31:35.9131556Z 
2024-03-12T06:31:35.9132163Z   4) Donations When signed in as a normal user When creating a new donation Via manual entry Accepts and combines multiple line items for the same item type
2024-03-12T06:31:35.9133090Z      Failure/Error: page.find(:css, "#__add_line_item").click
2024-03-12T06:31:35.9133400Z 
2024-03-12T06:31:35.9133531Z      Capybara::ElementNotFound:
2024-03-12T06:31:35.9133874Z        Unable to find css "#__add_line_item"
2024-03-12T06:31:35.9134135Z 
2024-03-12T06:31:35.9135399Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_accepts_and_combines_multiple_line_items_for_the_same_item_type_781.png
2024-03-12T06:31:35.9136578Z 
2024-03-12T06:31:35.9136582Z 
2024-03-12T06:31:35.9136880Z      # ./spec/system/donation_system_spec.rb:202:in `block (5 levels) in <top (required)>'
2024-03-12T06:31:35.9137311Z 
2024-03-12T06:31:35.9137826Z   5) Donations When signed in as a normal user When creating a new donation Via manual entry Ensures Barcode Entry fields have unique ids
2024-03-12T06:31:35.9139143Z      Failure/Error: page.find(:css, "#__add_line_item").click
2024-03-12T06:31:35.9139450Z 
2024-03-12T06:31:35.9139572Z      Capybara::ElementNotFound:
2024-03-12T06:31:35.9139911Z        Unable to find css "#__add_line_item"
2024-03-12T06:31:35.9140170Z 
2024-03-12T06:31:35.9141339Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_ensures_barcode_entry_fields_have_unique_ids_892.png
2024-03-12T06:31:35.9142463Z 
2024-03-12T06:31:35.9142467Z 
2024-03-12T06:31:35.9142765Z      # ./spec/system/donation_system_spec.rb:378:in `block (5 levels) in <top (required)>'
2024-03-12T06:31:35.9143198Z 
2024-03-12T06:31:35.9143431Z Finished in 1 minute 29.76 seconds (files took 8.02 seconds to load)
2024-03-12T06:31:35.9143886Z 226 examples, 5 failures
2024-03-12T06:31:35.9144079Z 
2024-03-12T06:31:35.9144172Z Failed examples:
2024-03-12T06:31:35.9144324Z 
2024-03-12T06:31:35.9145108Z rspec ./spec/system/donation_system_spec.rb:437 # Donations When signed in as a normal user When creating a new donation Via barcode entry Updates the line item when the same barcode is scanned twice
2024-03-12T06:31:35.9146660Z rspec ./spec/system/donation_system_spec.rb:422 # Donations When signed in as a normal user When creating a new donation Via barcode entry Allows User to add items by barcode
2024-03-12T06:31:35.9148330Z rspec ./spec/system/donation_system_spec.rb:494 # Donations When signed in as a normal user When creating a new donation Via barcode entry When the barcode is a global barcode Adds the oldest item it can find for the global barcode
2024-03-12T06:31:35.9150101Z rspec ./spec/system/donation_system_spec.rb:197 # Donations When signed in as a normal user When creating a new donation Via manual entry Accepts and combines multiple line items for the same item type
2024-03-12T06:31:35.9151679Z rspec ./spec/system/donation_system_spec.rb:377 # Donations When signed in as a normal user When creating a new donation Via manual entry Ensures Barcode Entry fields have unique ids
2024-03-12T06:31:35.9152492Z 
2024-03-12T06:31:35.9152596Z Randomized with seed 50208
2024-03-12T06:31:35.9152795Z 
2024-03-12T06:31:36.1834470Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:31:36.1836976Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3669 / 6452 LOC (56.87%) covered.
2024-03-12T06:31:36.2980215Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/organization_requests_spec.rb" "spec/requests/partners/individuals_requests_controller_spec.rb" "spec/requests/product_drive_participants_requests_spec.rb" "spec/requests/sessions_requests_spec.rb" "spec/requests/vendors_requests_spec.rb" "spec/system/admin/base_items_system_spec.rb" "spec/system/authorization_system_spec.rb" "spec/system/donation_system_spec.rb" "spec/system/manufacturer_system_spec.rb" "spec/system/partners/family_requests_system_spec.rb" "spec/system/product_drive_system_spec.rb" "spec/system/storage_location_system_spec.rb" failed
2024-03-12T06:31:36.6879385Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:31:36.6881491Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10742 LOC (0.35%) covered.
2024-03-12T06:31:36.7203154Z ##[error]Process completed with exit code 1.
