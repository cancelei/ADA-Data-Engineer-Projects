2024-03-12T06:30:04.1422670Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-12T06:30:04.1423507Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-12T06:30:04.1489863Z shell: /usr/bin/bash -e {0}
2024-03-12T06:30:04.1490274Z env:
2024-03-12T06:30:04.1490678Z   POSTGRES_HOST: localhost
2024-03-12T06:30:04.1491083Z   DATABASE_HOST: localhost
2024-03-12T06:30:04.1491414Z   PG_USERNAME: postgres
2024-03-12T06:30:04.1491836Z   PG_PASSWORD: password
2024-03-12T06:30:04.1492607Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-12T06:30:04.1493016Z   POSTGRES_PORT: 5432
2024-03-12T06:30:04.1493451Z   PGHOST: localhost
2024-03-12T06:30:04.1493970Z   PGUSER: postgres
2024-03-12T06:30:04.1494297Z   RAILS_ENV: test
2024-03-12T06:30:04.1494729Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-12T06:30:04.1495171Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-12T06:30:04.1495587Z   KNAPSACK_PRO_CI_NODE_INDEX: 2
2024-03-12T06:30:04.1496049Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-12T06:30:04.1496627Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-12T06:30:04.1497289Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-12T06:30:04.1497921Z ##[endgroup]
2024-03-12T06:30:09.9140471Z W, [2024-03-12T06:30:09.913712 #2313]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-12T06:30:09.9142140Z W, [2024-03-12T06:30:09.913774 #2313]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:30:09.9143881Z W, [2024-03-12T06:30:09.913807 #2313]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:30:09.9147476Z W, [2024-03-12T06:30:09.913844 #2313]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-12T06:30:12.8291170Z W, [2024-03-12T06:30:12.828809 #2313]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-12T06:30:12.8293587Z W, [2024-03-12T06:30:12.828855 #2313]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:30:12.8296244Z W, [2024-03-12T06:30:12.828868 #2313]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:30:12.8300183Z W, [2024-03-12T06:30:12.828921 #2313]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-12T06:30:12.8353518Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-03-12T06:30:21.2568075Z 
2024-03-12T06:30:21.2569000Z Randomized with seed 51593
2024-03-12T06:30:22.1583341Z 
2024-03-12T06:30:22.1584153Z BroadcastAnnouncements
2024-03-12T06:30:22.1585956Z   GET /index
2024-03-12T06:30:22.2289544Z     renders a successful response
2024-03-12T06:30:22.2290328Z   DELETE /destroy
2024-03-12T06:30:22.2552102Z     destroys the requested announcement then redirects
2024-03-12T06:30:22.2866870Z   GET /new
2024-03-12T06:30:22.2867480Z     renders a successful response
2024-03-12T06:30:22.2868430Z   POST /create
2024-03-12T06:30:22.2868758Z     with invalid parameters
2024-03-12T06:30:22.3184936Z       does not create a new BroadcastAnnouncement
2024-03-12T06:30:22.3461844Z       does not render a successful response
2024-03-12T06:30:22.3462628Z     with valid parameters
2024-03-12T06:30:22.3615538Z       creates a new BroadcastAnnouncement then redirects
2024-03-12T06:30:22.3616451Z   GET /edit
2024-03-12T06:30:22.3910805Z     render a successful response
2024-03-12T06:30:22.3911322Z   PATCH /update
2024-03-12T06:30:22.3911881Z     with valid parameters
2024-03-12T06:30:22.4094875Z       updates the requested announcement and redirects
2024-03-12T06:30:22.4095794Z     with invalid parameters
2024-03-12T06:30:22.4400465Z       does not render a successful response
2024-03-12T06:30:22.4401373Z 
2024-03-12T06:30:22.4401941Z /partners/profiles
2024-03-12T06:30:22.4403255Z   GET #show
2024-03-12T06:30:22.5068719Z     shows correct values for yes/no buttons
2024-03-12T06:30:22.5546176Z     displays the partner
2024-03-12T06:30:22.5546816Z   PUT #update
2024-03-12T06:30:22.6245069Z     updates the partner and profile
2024-03-12T06:30:22.6246454Z     with no social media
2024-03-12T06:30:22.7274736Z       shows an error
2024-03-12T06:30:22.7275745Z     when updating an existing value to a blank value
2024-03-12T06:30:22.7798764Z       does store N/A in the database
2024-03-12T06:30:22.8305378Z       does not update other partner profile attributes to blank
2024-03-12T06:30:22.8810470Z       updates the partner profile attribute to a blank value
2024-03-12T06:30:22.8811482Z   GET #edit
2024-03-12T06:30:22.9659293Z     displays the partner
2024-03-12T06:30:23.0516452Z     has "No" radio button value when value is false
2024-03-12T06:30:23.1370250Z     does not have default radio button value when value is nil
2024-03-12T06:30:23.2204039Z     has "Yes" radio button value when value is true
2024-03-12T06:30:23.2204769Z 
2024-03-12T06:30:23.2205019Z /partners/dashboard
2024-03-12T06:30:23.3824164Z   displays upcoming distributions
2024-03-12T06:30:23.3825334Z   BroadcastAnnouncement card
2024-03-12T06:30:23.4323445Z     doesn't display announcements if there are not valid ones
2024-03-12T06:30:23.4817251Z     displays announcements if there are valid ones
2024-03-12T06:30:23.5323334Z     doesn't display announcements from super admins
2024-03-12T06:30:23.5324630Z   with just partner role
2024-03-12T06:30:23.5817299Z     should not display the switch link
2024-03-12T06:30:23.5818166Z   with both roles
2024-03-12T06:30:23.6432918Z     should include the switch link
2024-03-12T06:30:23.6433459Z   GET #index
2024-03-12T06:30:23.7243324Z     displays requests that are pending
2024-03-12T06:30:23.7898904Z     does not display requests in other states
2024-03-12T06:30:23.7899519Z 
2024-03-12T06:30:23.7899802Z User account management
2024-03-12T06:30:23.7901199Z   when not in staging
2024-03-12T06:30:25.0812902Z     should fail when the email is invalid
2024-03-12T06:30:26.0015658Z     should change an user name
2024-03-12T06:30:26.8818155Z     should change the email
2024-03-12T06:30:26.8819043Z   when in staging
2024-03-12T06:30:27.3228426Z     should display staging warning
2024-03-12T06:30:27.7833189Z     should not allow the user to change staging credentials
2024-03-12T06:30:27.7836364Z 
2024-03-12T06:30:27.7838237Z StorageLocations
2024-03-12T06:30:27.7839401Z   While signed in
2024-03-12T06:30:27.7840387Z     GET #index
2024-03-12T06:30:27.7841534Z       csv
2024-03-12T06:30:27.8073960Z         succeeds
2024-03-12T06:30:27.9039229Z         includes headers followed by alphabetized item names
2024-03-12T06:30:27.9039851Z       html
2024-03-12T06:30:27.9432160Z         succeeds
2024-03-12T06:30:27.9432729Z         with inactive locations
2024-03-12T06:30:27.9797922Z           does not includes the inactive location
2024-03-12T06:30:27.9799261Z           with include_inactive_locations
2024-03-12T06:30:28.0190659Z             includes the inactive location
2024-03-12T06:30:28.0191773Z     GET #edit
2024-03-12T06:30:28.3919580Z       returns http success
2024-03-12T06:30:28.3920748Z     GET #new
2024-03-12T06:30:28.4222313Z       returns http success
2024-03-12T06:30:28.4223122Z     Looking at a different organization
2024-03-12T06:30:28.6042175Z       redirects the user to the sign-in page for CRUD actions
2024-03-12T06:30:28.6043127Z     POST #import_csv
2024-03-12T06:30:28.6043800Z       csv file with wrong headers
2024-03-12T06:30:28.6219237Z         redirects
2024-03-12T06:30:28.6343963Z         presents a flash error message
2024-03-12T06:30:28.6344903Z       without a csv file
2024-03-12T06:30:28.6458000Z         redirects to :index
2024-03-12T06:30:28.6567693Z         presents a flash error message
2024-03-12T06:30:28.6568612Z       with a csv file
2024-03-12T06:30:28.6713484Z         presents a flash notice message
2024-03-12T06:30:28.6854089Z         redirects
2024-03-12T06:30:28.6903037Z         invokes .import_csv
2024-03-12T06:30:28.6903769Z     PUT #reactivate
2024-03-12T06:30:28.7071982Z       undiscards
2024-03-12T06:30:28.7072808Z     GET #show
2024-03-12T06:30:28.7075620Z       html
2024-03-12T06:30:28.7733491Z         should return a correct response
2024-03-12T06:30:28.7734438Z         with version date set
2024-03-12T06:30:28.7735079Z           with a version found
2024-03-12T06:30:28.8552737Z             should show the version specified
2024-03-12T06:30:28.8553687Z           with no version found
2024-03-12T06:30:28.9256991Z             should show N/A
2024-03-12T06:30:28.9258106Z       csv
2024-03-12T06:30:28.9709869Z         should be successful
2024-03-12T06:30:28.9710816Z     GET #inventory
2024-03-12T06:30:28.9711809Z       when also including inactive items
2024-03-12T06:30:29.0348300Z         returns a collection that also includes items that have been deactivated
2024-03-12T06:30:29.0349622Z       when also including omitted items
2024-03-12T06:30:29.0819483Z         returns a collection that also includes all items, but with zeroed quantities
2024-03-12T06:30:29.1271166Z         contains a collection of ducktyped entries that respond the same
2024-03-12T06:30:29.1272145Z       without any overrides
2024-03-12T06:30:29.1744707Z         returns a collection that only includes items at the storage location
2024-03-12T06:30:29.1745975Z     GET #destroy
2024-03-12T06:30:29.2000375Z       redirects to #index
2024-03-12T06:30:29.2001066Z     PUT #deactivate
2024-03-12T06:30:29.2170961Z       discards
2024-03-12T06:30:29.2171529Z       with inventory
2024-03-12T06:30:29.2563553Z         does not discard
2024-03-12T06:30:29.2564318Z   While not signed in
2024-03-12T06:30:29.2624228Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:30:29.2625628Z 
2024-03-12T06:30:29.2626124Z Organization management
2024-03-12T06:30:29.2626838Z   while signed in as an organization admin
2024-03-12T06:30:29.7918715Z     can see 'Make user' button for admins
2024-03-12T06:30:30.7404343Z     can add a new user to an organization
2024-03-12T06:30:31.6874597Z     can deactivate a user in the organization
2024-03-12T06:30:32.6522469Z     can re-activate a user in the organization
2024-03-12T06:30:33.1292264Z     can re-invite a user to an organization after 7 days
2024-03-12T06:30:33.1293124Z     Viewing the organization
2024-03-12T06:30:33.6756577Z       can view organization details
2024-03-12T06:30:33.6757136Z     Editing the organization
2024-03-12T06:30:34.6527606Z       can select if the org repackages essentials
2024-03-12T06:30:35.6349408Z       can select if the org distributes essentials monthly
2024-03-12T06:30:36.5021175Z       can set a default storage location on the organization
2024-03-12T06:30:37.3451348Z       can set the NDBN Member ID
2024-03-12T06:30:38.3425191Z       can enable if the org uses single step invite and approve partner process
2024-03-12T06:30:39.3274607Z       can select if the org shows year-to-date values on the distribution printout
2024-03-12T06:30:40.4839444Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-03-12T06:30:41.3446011Z       can set a reminder and a deadline day
2024-03-12T06:30:42.3285090Z       can disable if the org does NOT use single step invite and approve partner process
2024-03-12T06:30:43.7563966Z       can select and deselect Required Partner Fields
2024-03-12T06:30:43.7564967Z   while signed in as a normal user
2024-03-12T06:30:44.2246117Z     can see summary details about the organization as a user
2024-03-12T06:30:44.6918335Z     cannot see 'Make user' button for admins
2024-03-12T06:30:44.6918906Z 
2024-03-12T06:30:44.6919206Z Profiles
2024-03-12T06:30:44.6920625Z   GET #edit
2024-03-12T06:30:44.7923355Z     returns http success
2024-03-12T06:30:44.7924092Z   POST #update
2024-03-12T06:30:44.7925019Z     successful save
2024-03-12T06:30:44.8387072Z       update partner
2024-03-12T06:30:44.8800638Z       redirects to #show
2024-03-12T06:30:44.8801748Z     when updating an existing value to a blank value
2024-03-12T06:30:44.9233527Z       should have blank values
2024-03-12T06:30:44.9668380Z       update partner
2024-03-12T06:30:44.9669096Z 
2024-03-12T06:30:44.9669373Z Kit management
2024-03-12T06:30:46.4077434Z   can allocate and deallocate quantity per storage location from kit index
2024-03-12T06:30:46.9742996Z   should not display inactive storage locations under allocations
2024-03-12T06:30:48.0404461Z   can create a new kit as a user with the proper quantity
2024-03-12T06:30:48.0405121Z   when there is no kit quantity
2024-03-12T06:30:49.1543380Z     will not change quantity amounts when deallocating
2024-03-12T06:30:49.1544898Z   when there is not enough quantity of the items contained in the kit on-hand
2024-03-12T06:30:50.2762454Z     will not change quantity amounts when allocating
2024-03-12T06:30:50.2763111Z 
2024-03-12T06:30:50.2763551Z Admin::AccountRequestsController
2024-03-12T06:30:50.2764824Z   while signed in as a super admin
2024-03-12T06:30:50.2765926Z     GET #index
2024-03-12T06:30:50.3210184Z       returns success
2024-03-12T06:30:50.3211042Z     GET #for_rejection
2024-03-12T06:30:50.3212222Z       with an invalid token
2024-03-12T06:30:50.3498223Z         should show a not found message
2024-03-12T06:30:50.3499032Z       with a valid token
2024-03-12T06:30:50.3913927Z         should show the request
2024-03-12T06:30:50.3914693Z     POST #reject
2024-03-12T06:30:50.4141936Z       should redirect back on success
2024-03-12T06:30:50.4142881Z 
2024-03-12T06:30:50.4143214Z Admin::Questions
2024-03-12T06:30:50.4144276Z   while signed in as a super admin
2024-03-12T06:30:50.4145449Z     GET #new
2024-03-12T06:30:50.4501191Z       lets the user load the new question page
2024-03-12T06:30:50.4502019Z     POST #create
2024-03-12T06:30:50.4705885Z       lets the user create questions
2024-03-12T06:30:50.4706723Z     PATCH #update
2024-03-12T06:30:50.4903306Z       lets the user update questions
2024-03-12T06:30:50.4904171Z     GET #edit
2024-03-12T06:30:50.5357371Z       lets the user load the edit question page
2024-03-12T06:30:50.5358391Z     DELETE #destroy
2024-03-12T06:30:50.5582219Z       lets the user delete questions
2024-03-12T06:30:50.5582965Z     GET #index
2024-03-12T06:30:50.5883804Z       lets the user load the page
2024-03-12T06:30:50.5884472Z 
2024-03-12T06:30:50.5884673Z Events
2024-03-12T06:30:50.5886043Z   When not signed in
2024-03-12T06:30:50.6101494Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:30:50.6102776Z   When signed in
2024-03-12T06:30:50.6103276Z     GET #index
2024-03-12T06:30:51.0918303Z       should be successful
2024-03-12T06:30:51.0919023Z       with eventable_id
2024-03-12T06:30:51.6948087Z         should only show events from that eventable
2024-03-12T06:30:51.6949139Z       with type filter
2024-03-12T06:30:52.1829386Z         should not include the adjustment
2024-03-12T06:30:52.1830144Z       with date filter
2024-03-12T06:30:52.6554594Z         should not include the old donation
2024-03-12T06:30:52.6555153Z       with item filter
2024-03-12T06:30:53.1285400Z         should not include the other item
2024-03-12T06:30:53.1286385Z       with storage location filter
2024-03-12T06:30:53.6057815Z         should not include the other storage location
2024-03-12T06:30:53.6058881Z 
2024-03-12T06:30:53.6059208Z Admin Organization Management
2024-03-12T06:30:53.6060140Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-12T06:30:55.5728351Z     creates a new organization
2024-03-12T06:30:55.5729304Z   While signed in as an Administrative User (super admin)
2024-03-12T06:30:57.4705644Z     creates a new organization
2024-03-12T06:30:58.6994758Z     filters by organizations by name in organizations index page
2024-03-12T06:30:59.9840290Z     can view organization details
2024-03-12T06:30:59.9843810Z 
2024-03-12T06:30:59.9844426Z Dashboard
2024-03-12T06:30:59.9845443Z   With an existing essentials bank
2024-03-12T06:30:59.9847108Z     Manufacturer Donations
2024-03-12T06:31:00.5666191Z       has a link to create a new donation
2024-03-12T06:31:00.5668016Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 5 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:31:00.5669626Z         filtering to 'Last Month'
2024-03-12T06:31:02.3318861Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-03-12T06:31:02.3320867Z       given 1 Manufacturer donating on 2024-03-04  (unless 'All Time'), 5 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:31:02.3321830Z         filtering to 'Last 7 Days'
2024-03-12T06:31:04.0468364Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-03-12T06:31:04.0470363Z       given 1 Manufacturer donating on 2022-03-10  (unless 'All Time'), 0 during 2022-03-11..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:31:04.0471790Z         filtering to '' (March 11, 2022 - February 29, 2024)
2024-03-12T06:31:05.4021594Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-03-12T06:31:05.4023189Z       given 1 Manufacturer donating on 2024-03-10  (unless 'All Time'), 2 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:31:05.4024067Z         filtering to 'Today'
2024-03-12T06:31:06.8337619Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-03-12T06:31:06.8339811Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 6 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:31:06.8341183Z         filtering to 'This Year'
2024-03-12T06:31:08.8060400Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-03-12T06:31:08.8062433Z       given 1 Manufacturer donating on 2024-03-09  (unless 'All Time'), 7 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:31:08.8063381Z         filtering to 'Yesterday'
2024-03-12T06:31:10.8228529Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-03-12T06:31:10.8230438Z       given 1 Manufacturer donating on 2024-02-29  (unless 'All Time'), 7 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:31:10.8231916Z         filtering to 'This Month'
2024-03-12T06:31:12.6675867Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-03-12T06:31:12.6677458Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 2 during 2000-01-01..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:31:12.6678301Z         filtering to 'All Time'
2024-03-12T06:31:14.0947487Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-03-12T06:31:14.0949318Z       given 1 Manufacturer donating on 2024-02-10  (unless 'All Time'), 5 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:31:14.0950437Z         filtering to 'Last 30 Days'
2024-03-12T06:31:16.0235256Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-03-12T06:31:16.0236312Z     Purchases
2024-03-12T06:31:16.9253188Z       has a link to create a new purchase
2024-03-12T06:31:16.9255085Z       given 1 Purchase on 2024-02-10  (unless 'All Time'), 3 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:31:16.9256959Z         filtering to 'Last 30 Days'
2024-03-12T06:31:18.3535850Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:31:18.3537498Z       given 1 Purchase on 2024-03-10  (unless 'All Time'), 4 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:31:18.3538873Z         filtering to 'Today'
2024-03-12T06:31:19.7842938Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:31:19.7844866Z       given 1 Purchase on 2024-02-29  (unless 'All Time'), 3 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:31:19.7846121Z         filtering to 'This Month'
2024-03-12T06:31:21.2040464Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:31:21.2042208Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:31:21.2043506Z         filtering to 'This Year'
2024-03-12T06:31:24.5288414Z           shows correct 0 Recent Purchase link(s)
2024-03-12T06:31:24.5290178Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 2 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:31:24.5291458Z         filtering to 'Last Month'
2024-03-12T06:31:25.8768263Z           shows correct 2 Recent Purchase link(s)
2024-03-12T06:31:25.8769901Z       given 1 Purchase on 2022-03-10  (unless 'All Time'), 2 during 2022-03-11..2023-09-17, and 1 on 2023-09-18
2024-03-12T06:31:25.8771054Z         filtering to '' (March 11, 2022 - September 17, 2023)
2024-03-12T06:31:27.2522451Z           shows correct 2 Recent Purchase link(s)
2024-03-12T06:31:27.2524168Z       given 1 Purchase on 2024-03-04  (unless 'All Time'), 1 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:31:27.2526995Z         filtering to 'Last 7 Days'
2024-03-12T06:31:28.5717525Z           shows correct 1 Recent Purchase link(s)
2024-03-12T06:31:28.5719233Z       given 1 Purchase on 2024-03-09  (unless 'All Time'), 1 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:31:28.5720634Z         filtering to 'Yesterday'
2024-03-12T06:31:29.9082505Z           shows correct 1 Recent Purchase link(s)
2024-03-12T06:31:29.9083635Z     Product Drives
2024-03-12T06:31:30.4986361Z       has a widget for product drive summary data
2024-03-12T06:31:30.4988001Z       given 1 Product Drive Donation on 2024-03-04 (unless 'All Time'), 2 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:31:30.4989220Z         filtering to 'Last 7 Days'
2024-03-12T06:31:31.8880174Z           shows the correct total money raised
2024-03-12T06:31:33.3199613Z           shows 2 Recent Donation link(s)
2024-03-12T06:31:34.6934220Z           shows the correct total donations
2024-03-12T06:31:34.6935710Z       given 1 Product Drive Donation on 2022-03-10 (unless 'All Time'), 4 during 2022-03-11..2023-12-27, and 1 on 2023-12-28
2024-03-12T06:31:34.6936737Z         filtering to '' (March 11, 2022 - December 27, 2023)
2024-03-12T06:31:36.1457464Z           shows the correct total money raised
2024-03-12T06:31:37.5841432Z           shows the correct total donations
2024-03-12T06:31:39.0848831Z           shows 3 Recent Donation link(s)
2024-03-12T06:31:39.0850707Z       given 1 Product Drive Donation on 2024-03-10 (unless 'All Time'), 2 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:31:39.0851723Z         filtering to 'Today'
2024-03-12T06:31:40.4528141Z           shows the correct total money raised
2024-03-12T06:31:41.8196307Z           shows the correct total donations
2024-03-12T06:31:43.2003695Z           shows 2 Recent Donation link(s)
2024-03-12T06:31:43.2005322Z       given 1 Product Drive Donation on 2024-03-09 (unless 'All Time'), 2 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:31:43.2006423Z         filtering to 'Yesterday'
2024-03-12T06:31:44.5768255Z           shows the correct total money raised
2024-03-12T06:31:46.0960267Z           shows the correct total donations
2024-03-12T06:31:47.4704651Z           shows 2 Recent Donation link(s)
2024-03-12T06:31:47.4706629Z       given 1 Product Drive Donation on 2024-02-29 (unless 'All Time'), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:31:47.4707928Z         filtering to 'This Month'
2024-03-12T06:31:48.8560545Z           shows 2 Recent Donation link(s)
2024-03-12T06:31:50.2136919Z           shows the correct total money raised
2024-03-12T06:31:51.5829051Z           shows the correct total donations
2024-03-12T06:31:51.5829995Z       Product drive behaviour with Mixed Donation types
2024-03-12T06:31:52.2603303Z         only shows product drive donations as product drive donations
2024-03-12T06:31:52.9408954Z         only counts product drive money raised
2024-03-12T06:31:53.6148339Z         only counts product drive donations for product drive
2024-03-12T06:31:53.6149708Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:31:53.6150555Z         filtering to 'Last Month'
2024-03-12T06:31:54.9295976Z           shows the correct total money raised
2024-03-12T06:31:56.2658415Z           shows the correct total donations
2024-03-12T06:31:57.6129570Z           shows 1 Recent Donation link(s)
2024-03-12T06:31:57.6131324Z       given 1 Product Drive Donation on 2024-02-10 (unless 'All Time'), 0 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:31:57.6132920Z         filtering to 'Last 30 Days'
2024-03-12T06:32:00.9254267Z           shows 0 Recent Donation link(s)
2024-03-12T06:32:02.2278411Z           shows the correct total money raised
2024-03-12T06:32:03.5386032Z           shows the correct total donations
2024-03-12T06:32:03.5387800Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:32:03.5389287Z         filtering to 'This Year'
2024-03-12T06:32:04.9124707Z           shows the correct total money raised
2024-03-12T06:32:06.2967914Z           shows the correct total donations
2024-03-12T06:32:07.6841749Z           shows 3 Recent Donation link(s)
2024-03-12T06:32:07.6842801Z     Signage
2024-03-12T06:32:10.5668249Z       shows their organization name unless they have a logo set
2024-03-12T06:32:10.5669135Z     Donations
2024-03-12T06:32:11.4437951Z       has a link to create a new donation
2024-03-12T06:32:11.4439546Z       given 1 Donation on 2023-12-31 (only if a valid date), 4 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:32:11.4440680Z         filtering to 'This Year'
2024-03-12T06:32:12.9773580Z           shows the correct total and 3 Recent Donation link(s)
2024-03-12T06:32:12.9775352Z       given 1 Donation on 2022-03-10 (only if a valid date), 3 during 2022-03-11..2023-11-27, and 1 on 2023-11-28
2024-03-12T06:32:12.9776599Z         filtering to '' (March 11, 2022 - November 27, 2023)
2024-03-12T06:32:14.4234723Z           shows the correct total and 3 Recent Donation link(s)
2024-03-12T06:32:14.4236073Z       given 1 Donation on 2024-03-04 (only if a valid date), 1 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:32:14.4237140Z         filtering to 'Last 7 Days'
2024-03-12T06:32:15.7563172Z           shows the correct total and 1 Recent Donation link(s)
2024-03-12T06:32:15.7564843Z       given 1 Donation on 2024-02-10 (only if a valid date), 3 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:32:15.7565774Z         filtering to 'Last 30 Days'
2024-03-12T06:32:17.1402434Z           shows the correct total and 3 Recent Donation link(s)
2024-03-12T06:32:17.1403911Z       given 1 Donation on 2024-02-29 (only if a valid date), 1 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:32:17.1404707Z         filtering to 'This Month'
2024-03-12T06:32:18.4839375Z           shows the correct total and 1 Recent Donation link(s)
2024-03-12T06:32:18.4841183Z       given 1 Donation on 2024-01-31 (only if a valid date), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:32:18.4842579Z         filtering to 'Last Month'
2024-03-12T06:32:21.8047158Z           shows the correct total and 0 Recent Donation link(s)
2024-03-12T06:32:21.8049526Z       given 1 Donation on 2024-03-09 (only if a valid date), 3 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:32:21.8050791Z         filtering to 'Yesterday'
2024-03-12T06:32:23.1943038Z           shows the correct total and 3 Recent Donation link(s)
2024-03-12T06:32:23.1944795Z       given 1 Donation on 2024-03-10 (only if a valid date), 1 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:32:23.1946020Z         filtering to 'Today'
2024-03-12T06:32:24.5172665Z           shows the correct total and 1 Recent Donation link(s)
2024-03-12T06:32:24.5173682Z     Distributions
2024-03-12T06:32:25.4124529Z       has a link to create a new distribution
2024-03-12T06:32:25.4126397Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:32:25.4127827Z         filtering to 'Last Month'
2024-03-12T06:32:28.7931523Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-12T06:32:28.7933739Z       given 1 Distribution on 2024-03-04  (unless 'All Time'), 1 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:32:28.7934985Z         filtering to 'Last 7 Days'
2024-03-12T06:32:30.1878992Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-12T06:32:30.1880547Z       given 1 Distribution on 2024-03-09  (unless 'All Time'), 0 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:32:30.1881368Z         filtering to 'Yesterday'
2024-03-12T06:32:33.5467811Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-12T06:32:33.5469709Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 3 during 2000-01-01..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:32:33.5470916Z         filtering to 'All Time'
2024-03-12T06:32:34.9653167Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:32:34.9655269Z       given 1 Distribution on 2024-03-10  (unless 'All Time'), 1 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:32:34.9656551Z         filtering to 'Today'
2024-03-12T06:32:36.3778063Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-12T06:32:36.3779888Z       given 1 Distribution on 2022-03-10  (unless 'All Time'), 4 during 2022-03-11..2023-12-20, and 1 on 2023-12-21
2024-03-12T06:32:36.3781321Z         filtering to '' (March 11, 2022 - December 20, 2023)
2024-03-12T06:32:37.8586212Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:32:37.8587717Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:32:37.8588717Z         filtering to 'This Year'
2024-03-12T06:32:39.2924749Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:32:39.2926072Z       given 1 Distribution on 2024-02-29  (unless 'All Time'), 1 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:32:39.2926864Z         filtering to 'This Month'
2024-03-12T06:32:40.6427197Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-12T06:32:40.6429085Z       given 1 Distribution on 2024-02-10  (unless 'All Time'), 4 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:32:40.6430565Z         filtering to 'Last 30 Days'
2024-03-12T06:32:42.1214767Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:32:42.1215719Z     Inventory Totals
2024-03-12T06:32:42.1216606Z       Summary
2024-03-12T06:32:42.8017486Z         displays the on-hand totals
2024-03-12T06:32:42.8018147Z         when constrained to date range
2024-03-12T06:32:43.8040614Z           does not change
2024-03-12T06:32:43.8041757Z   With a new essentials bank
2024-03-12T06:33:11.7720007Z     displays the getting started guide until the steps are completed
2024-03-12T06:33:11.7720881Z 
2024-03-12T06:33:11.7721112Z Purchases
2024-03-12T06:33:11.7724645Z   while signed in as a normal user
2024-03-12T06:33:11.7725722Z     When visiting the index page
2024-03-12T06:33:11.7726767Z       In the middle of the year
2024-03-12T06:33:12.5359394Z         User sees total purchases value
2024-03-12T06:33:13.3125242Z         User can click to the new purchase form
2024-03-12T06:33:14.0570790Z         User sees purchased date column
2024-03-12T06:33:14.0572397Z       When filtering on the index page
2024-03-12T06:33:14.8808216Z         User can filter the #index by vendor
2024-03-12T06:33:15.6964037Z         User can filter the #index by storage location
2024-03-12T06:33:15.6964697Z         behaves like Date Range Picker
2024-03-12T06:33:15.6965919Z           when choosing 'All Time'
2024-03-12T06:33:16.6533521Z             shows all the records
2024-03-12T06:33:16.6534723Z           when choosing a date range that only includes the previous week
2024-03-12T06:33:17.5942120Z             shows only 1 record
2024-03-12T06:33:17.5943450Z           when choosing 'Last Month'
2024-03-12T06:33:18.5328508Z             shows only 2 of the records
2024-03-12T06:33:18.5329966Z     When visiting an existing purchase
2024-03-12T06:33:18.9974954Z       does not allow deletion of a purchase
2024-03-12T06:33:18.9976000Z     When creating a new purchase
2024-03-12T06:33:19.4949214Z       should not display inactive storage locations in dropdown
2024-03-12T06:33:19.4950423Z       Editing purchase
2024-03-12T06:33:19.9975152Z         A user can see purchased_from value
2024-03-12T06:33:20.6339899Z         A user can view another organizations purchase
2024-03-12T06:33:20.6340775Z       via manual entry
2024-03-12T06:33:21.5297951Z         User can create a purchase using dollars decimal amount
2024-03-12T06:33:22.5835997Z         User can create vendor from purchase
2024-03-12T06:33:23.6827039Z         User can create a purchase IN THE PAST
2024-03-12T06:33:26.3716663Z         multiple line items for the same item type are accepted and combined on the backend (FAILED - 1)
2024-03-12T06:33:26.3723163Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_multiple-line-items-for-the-same-item-type-are-accepted-and-combined-on-the-backend_2024-03-11-23-33-26.237.html[0m
2024-03-12T06:33:26.3727223Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_multiple-line-items-for-the-same-item-type-are-accepted-and-combined-on-the-backend_2024-03-11-23-33-26.237.png[0m
2024-03-12T06:33:27.3772552Z         Does not include inactive items in the line item fields
2024-03-12T06:33:28.1851247Z         when creating a purchase incorrectly
2024-03-12T06:33:28.1852154Z           should display failure with error messages
2024-03-12T06:33:29.1554577Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-03-12T06:33:29.1555728Z       via barcode entry
2024-03-12T06:33:30.3607234Z         a user can add items that do not yet have a barcode
2024-03-12T06:33:31.2208012Z         User scan same barcode 2 times (FAILED - 2)
2024-03-12T06:33:31.2210420Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-scan-same-barcode-2-times_2024-03-11-23-33-31.087.html[0m
2024-03-12T06:33:31.2212879Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-scan-same-barcode-2-times_2024-03-11-23-33-31.087.png[0m
2024-03-12T06:33:32.0731602Z         a user can add items via scanning them in by barcode (FAILED - 3)
2024-03-12T06:33:32.0733585Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_a-user-can-add-items-via-scanning-them-in-by-barcode_2024-03-11-23-33-31.937.html[0m
2024-03-12T06:33:32.0737161Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_a-user-can-add-items-via-scanning-them-in-by-barcode_2024-03-11-23-33-31.937.png[0m
2024-03-12T06:33:32.0738638Z   while signed in as an organization admin
2024-03-12T06:33:32.9314792Z     allows deletion of a purchase
2024-03-12T06:33:32.9315619Z 
2024-03-12T06:33:32.9315831Z Vendor
2024-03-12T06:33:32.9318103Z   When a user views the index page
2024-03-12T06:33:33.4216038Z     should have the vendor names in alphabetical order
2024-03-12T06:33:33.4216985Z   when editing an existing vendor
2024-03-12T06:33:34.1876168Z     can update the contact info for a vendor as a user
2024-03-12T06:33:34.9428497Z     does not update a vendor with empty attributes
2024-03-12T06:33:34.9429787Z   When vendor have purchases associated with them already
2024-03-12T06:33:35.5161298Z     can have existing vendors show in the #index with some summary stats
2024-03-12T06:33:36.0918792Z     can have a single vendor show semi-detailed stats about purchases
2024-03-12T06:33:36.0919515Z   when creating a new vendor
2024-03-12T06:33:36.8150249Z     cannot add a new vendor instance with empty attributes
2024-03-12T06:33:37.6100868Z     can create a new vendor instance as a user
2024-03-12T06:33:37.6101613Z 
2024-03-12T06:33:37.6101912Z Managing requests
2024-03-12T06:33:37.6103592Z   creating a new quantity request
2024-03-12T06:33:37.6104605Z     GIVEN a partner user is permitted to make a request
2024-03-12T06:33:37.6105530Z       WHEN a request is built using add and remove buttons
2024-03-12T06:33:37.6106378Z         THEN a request records will be created
2024-03-12T06:33:39.5558845Z           creates the correct request
2024-03-12T06:33:39.5562560Z   creating a # individuals request
2024-03-12T06:33:39.5563957Z     GIVEN a partner user is permitted to make a request
2024-03-12T06:33:39.5564840Z       WHEN a request is built using add and remove buttons
2024-03-12T06:33:39.5565791Z         THEN a request records will be created
2024-03-12T06:33:41.5488136Z           creates the correct request
2024-03-12T06:33:41.5694603Z W, [2024-03-11T23:33:41.569101 #2363]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-12T06:33:41.5696911Z W, [2024-03-11T23:33:41.569166 #2363]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:33:41.5698714Z W, [2024-03-11T23:33:41.569219 #2363]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:33:41.5700929Z W, [2024-03-11T23:33:41.569301 #2363]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-12T06:33:41.6098233Z 
2024-03-12T06:33:41.6098992Z Failures:
2024-03-12T06:33:41.6099393Z 
2024-03-12T06:33:41.6101962Z   1) Purchases while signed in as a normal user When creating a new purchase via manual entry multiple line items for the same item type are accepted and combined on the backend
2024-03-12T06:33:41.6103741Z      Failure/Error: page.find(:css, "#__add_line_item").click
2024-03-12T06:33:41.6104311Z 
2024-03-12T06:33:41.6104556Z      Capybara::ElementNotFound:
2024-03-12T06:33:41.6439511Z        Unable to find css "#__add_line_item"
2024-03-12T06:33:41.6440021Z 
2024-03-12T06:33:41.6442375Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/capybara/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_manual_entry_multiple_line_items_for_the_same_item_type_are_accepted_and_combined_on_the_backend_587.png
2024-03-12T06:33:41.6445034Z 
2024-03-12T06:33:41.6445044Z 
2024-03-12T06:33:41.6445521Z      # ./spec/system/purchase_system_spec.rb:172:in `block (5 levels) in <top (required)>'
2024-03-12T06:33:41.6446227Z 
2024-03-12T06:33:41.6446977Z   2) Purchases while signed in as a normal user When creating a new purchase via barcode entry User scan same barcode 2 times
2024-03-12T06:33:41.6448175Z      Failure/Error: @__Condition__.wait @__Lock__, timeout
2024-03-12T06:33:41.6448657Z 
2024-03-12T06:33:41.6448862Z      Ferrum::JavaScriptError:
2024-03-12T06:33:41.6449556Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:33:41.6451684Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:38627/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:33:41.6453525Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:33:41.6454566Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:33:41.6455490Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:33:41.6456507Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:33:41.6457265Z 
2024-03-12T06:33:41.6459058Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_barcode_entry_user_scan_same_barcode_2_times_48.png
2024-03-12T06:33:41.6460804Z 
2024-03-12T06:33:41.6460814Z 
2024-03-12T06:33:41.6462381Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `sleep'
2024-03-12T06:33:41.6465388Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `wait'
2024-03-12T06:33:41.6468380Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `ns_wait'
2024-03-12T06:33:41.6471309Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:44:in `block in ns_wait_until'
2024-03-12T06:33:41.6474387Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `loop'
2024-03-12T06:33:41.6477645Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `ns_wait_until'
2024-03-12T06:33:41.6481017Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:87:in `block in wait'
2024-03-12T06:33:41.6484367Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `block in synchronize'
2024-03-12T06:33:41.6487862Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:33:41.6498794Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:33:41.6501902Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:84:in `wait'
2024-03-12T06:33:41.6505199Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:75:in `wait'
2024-03-12T06:33:41.6508215Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:99:in `value!'
2024-03-12T06:33:41.6510885Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/browser/client.rb:42:in `command'
2024-03-12T06:33:41.6514449Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/page.rb:269:in `command'
2024-03-12T06:33:41.6516812Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:109:in `block in call'
2024-03-12T06:33:41.6519211Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/utils/attempt.rb:10:in `with_retry'
2024-03-12T06:33:41.6521527Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:105:in `call'
2024-03-12T06:33:41.6523821Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:97:in `evaluate_on'
2024-03-12T06:33:41.6525499Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:33:41.6526727Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:33:41.6528608Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/browser.rb:171:in `value'
2024-03-12T06:33:41.6530922Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:21:in `command'
2024-03-12T06:33:41.6533294Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:89:in `value'
2024-03-12T06:33:41.6535538Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:106:in `block in value'
2024-03-12T06:33:41.6537722Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/base.rb:77:in `synchronize'
2024-03-12T06:33:41.6539797Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:106:in `value'
2024-03-12T06:33:41.6542202Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/definition/field.rb:27:in `block (2 levels) in <top (required)>'
2024-03-12T06:33:41.6544715Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `instance_exec'
2024-03-12T06:33:41.6546932Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `apply'
2024-03-12T06:33:41.6549271Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:24:in `matches?'
2024-03-12T06:33:41.6551914Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:294:in `block (2 levels) in matches_node_filters?'
2024-03-12T06:33:41.6554421Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `each'
2024-03-12T06:33:41.6557156Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `all?'
2024-03-12T06:33:41.6559589Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `block in matches_node_filters?'
2024-03-12T06:33:41.6562270Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/selector.rb:89:in `with_filter_errors'
2024-03-12T06:33:41.6564945Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:283:in `matches_node_filters?'
2024-03-12T06:33:41.6568002Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:124:in `matches_filters?'
2024-03-12T06:33:41.6570592Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/result.rb:32:in `block in initialize'
2024-03-12T06:33:41.6573116Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:33:41.6575157Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:33:41.6577189Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:33:41.6579205Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:33:41.6580385Z      # 
2024-03-12T06:33:41.6580919Z      #   Showing full backtrace because every line was filtered out.
2024-03-12T06:33:41.6581881Z      #   See docs for RSpec::Configuration#backtrace_exclusion_patterns and
2024-03-12T06:33:41.6582952Z      #   RSpec::Configuration#backtrace_inclusion_patterns for more information.
2024-03-12T06:33:41.6583615Z 
2024-03-12T06:33:41.6584596Z   3) Purchases while signed in as a normal user When creating a new purchase via barcode entry a user can add items via scanning them in by barcode
2024-03-12T06:33:41.6586584Z      Failure/Error: qty = page.find(:xpath, '//input[@id="purchase_line_items_attributes_0_quantity"]').value
2024-03-12T06:33:41.6587432Z 
2024-03-12T06:33:41.6587602Z      Ferrum::JavaScriptError:
2024-03-12T06:33:41.6588291Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:33:41.6590133Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:38627/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:33:41.6591774Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:33:41.6592902Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:33:41.6594010Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:33:41.6595091Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:33:41.6595809Z 
2024-03-12T06:33:41.6597812Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_barcode_entry_a_user_can_add_items_via_scanning_them_in_by_barcode_288.png
2024-03-12T06:33:41.6599736Z 
2024-03-12T06:33:41.6599752Z 
2024-03-12T06:33:41.6600213Z      # ./spec/system/purchase_system_spec.rb:235:in `block (5 levels) in <top (required)>'
2024-03-12T06:33:41.6600890Z 
2024-03-12T06:33:41.6601283Z Finished in 3 minutes 20.3 seconds (files took 8.19 seconds to load)
2024-03-12T06:33:41.6602261Z 212 examples, 3 failures
2024-03-12T06:33:41.6602542Z 
2024-03-12T06:33:41.6602690Z Failed examples:
2024-03-12T06:33:41.6602919Z 
2024-03-12T06:33:41.6604339Z rspec ./spec/system/purchase_system_spec.rb:167 # Purchases while signed in as a normal user When creating a new purchase via manual entry multiple line items for the same item type are accepted and combined on the backend
2024-03-12T06:33:41.6607009Z rspec ./spec/system/purchase_system_spec.rb:240 # Purchases while signed in as a normal user When creating a new purchase via barcode entry User scan same barcode 2 times
2024-03-12T06:33:41.6609485Z rspec ./spec/system/purchase_system_spec.rb:227 # Purchases while signed in as a normal user When creating a new purchase via barcode entry a user can add items via scanning them in by barcode
2024-03-12T06:33:41.6611100Z 
2024-03-12T06:33:41.6611262Z Randomized with seed 51593
2024-03-12T06:33:41.6611562Z 
2024-03-12T06:33:41.9274721Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:33:41.9277210Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3731 / 6452 LOC (57.83%) covered.
2024-03-12T06:33:42.0515812Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb" failed
2024-03-12T06:33:42.4472589Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:33:42.4474091Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10742 LOC (0.35%) covered.
2024-03-12T06:33:42.4740928Z ##[error]Process completed with exit code 1.
