2024-03-07T01:31:09.0227008Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-07T01:31:09.0227986Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-07T01:31:09.0278816Z shell: /usr/bin/bash -e {0}
2024-03-07T01:31:09.0279233Z env:
2024-03-07T01:31:09.0279649Z   POSTGRES_HOST: localhost
2024-03-07T01:31:09.0280047Z   DATABASE_HOST: localhost
2024-03-07T01:31:09.0280438Z   PG_USERNAME: postgres
2024-03-07T01:31:09.0280838Z   PG_PASSWORD: password
2024-03-07T01:31:09.0281232Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-07T01:31:09.0281659Z   POSTGRES_PORT: 5432
2024-03-07T01:31:09.0282083Z   PGHOST: localhost
2024-03-07T01:31:09.0282426Z   PGUSER: postgres
2024-03-07T01:31:09.0282789Z   RAILS_ENV: test
2024-03-07T01:31:09.0283444Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: ***
2024-03-07T01:31:09.0283930Z   KNAPSACK_PRO_CI_NODE_TOTAL: 2
2024-03-07T01:31:09.0284299Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-03-07T01:31:09.0284819Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-07T01:31:09.0285398Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-07T01:31:09.0286122Z   KNAPSACK_PRO_TEST_FILE_EXCLUDE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-07T01:31:09.0286814Z   EVENTS_READ: true
2024-03-07T01:31:09.0287433Z ##[endgroup]
2024-03-07T01:31:17.7035443Z W, [2024-03-07T01:31:17.703139 #2212]  WARN -- : [knapsack_pro] POST https://api.knapsackpro.com/v1/build_distributions/subset
2024-03-07T01:31:17.7037297Z W, [2024-03-07T01:31:17.703213 #2212]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-07T01:31:17.7040200Z W, [2024-03-07T01:31:17.703261 #2212]  WARN -- : [knapsack_pro] #<KnapsackPro::Client::Connection::ServerError: {"message"=>"Another parallel CI node is initializing the test suite split for this CI build. If you see this message, everything works as expected. Knapsack Pro client will automatically retry this request."}>
2024-03-07T01:31:17.7043159Z W, [2024-03-07T01:31:17.703321 #2212]  WARN -- : [knapsack_pro] Wait for 8s before retrying the request to Knapsack Pro API.
2024-03-07T01:31:19.7057785Z W, [2024-03-07T01:31:19.705464 #2212]  WARN -- : [knapsack_pro] 6s left before retry...
2024-03-07T01:31:21.7080062Z W, [2024-03-07T01:31:21.707648 #2212]  WARN -- : [knapsack_pro] 4s left before retry...
2024-03-07T01:31:23.7101599Z W, [2024-03-07T01:31:23.709804 #2212]  WARN -- : [knapsack_pro] 2s left before retry...
2024-03-07T01:31:25.9809513Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/models/organization_spec.rb" "spec/models/kit_spec.rb" "spec/services/distribution_destroy_service_spec.rb" "spec/models/audit_spec.rb" "spec/services/partner_create_service_spec.rb" "spec/models/storage_location_spec.rb" "spec/services/transfer_destroy_service_spec.rb" "spec/queries/items_in_query_spec.rb" "spec/services/add_role_service_spec.rb" "spec/services/reports/summary_report_service_spec.rb" "spec/controllers/application_controller_spec.rb" "spec/models/request_item_spec.rb" "spec/services/remove_role_service_spec.rb" "spec/services/distribution_create_service_spec.rb" "spec/models/adjustment_spec.rb" "spec/services/reports/other_products_report_service_spec.rb" "spec/services/reports/period_supply_report_service_spec.rb" "spec/services/adjustment_create_service_spec.rb" "spec/models/purchase_spec.rb" "spec/jobs/partner_mailer_job_spec.rb" "spec/services/itemizable_update_service_spec.rb" "spec/models/account_request_spec.rb" "spec/services/partner_fetch_requestable_items_service_spec.rb" "spec/models/product_drive_participant_spec.rb" "spec/helpers/application_helper_spec.rb" "spec/services/reports/partner_info_report_service_spec.rb" "spec/services/calendar_service_spec.rb" "spec/services/donation_itemized_breakdown_service_spec.rb" "spec/services/distributions_by_county_report_service_spec.rb" "spec/jobs/historical_data_cache_job_spec.rb" "spec/models/line_item_spec.rb" "spec/services/historical_trend_service_spec.rb" "spec/models/partners/family_spec.rb" "spec/queries/items_out_query_spec.rb" "spec/models/donation_site_spec.rb" "spec/services/partners/family_request_create_service_spec.rb" "spec/pdfs/distribution_pdf_spec.rb" "spec/services/distribution_reminder_spec.rb" "spec/services/partner_profile_update_service_spec.rb" "spec/services/partners/request_approval_service_spec.rb" "spec/mailers/reminder_deadline_mailer_spec.rb" "spec/services/exports/export_donations_csv_service_spec.rb" "spec/services/exports/export_purchases_csv_service_spec.rb" "spec/models/question_spec.rb" "spec/models/broadcast_announcement_spec.rb" "spec/services/request_destroy_service_spec.rb" "spec/services/partners/update_family_spec.rb" "spec/models/inventory_item_spec.rb" "spec/models/partners/child_spec.rb" "spec/models/item_category_spec.rb" "spec/services/requests_total_items_service_spec.rb" "spec/models/partners/served_area_spec.rb" "spec/models/request_spec.rb" "spec/models/partners/authorized_family_member_spec.rb" "spec/models/partners/child_item_request_spec.rb" "spec/services/profile_update_service_spec.rb" "spec/jobs/reminder_deadline_job_spec.rb" "spec/services/donation_create_service_spec.rb" "spec/controllers/help_controller_spec.rb" "spec/helpers/product_drive_helper_spec.rb" "spec/services/distribution_content_change_service_spec.rb" "spec/lib/dispersed_past_dates_generator_spec.rb" "spec/models/kit_allocation_spec.rb" "spec/models/county_spec.rb" "spec/controllers/admins_controller_spec.rb"
2024-03-07T01:31:34.4999643Z 
2024-03-07T01:31:34.5000572Z Randomized with seed 60001
2024-03-07T01:31:35.3971287Z 
2024-03-07T01:31:35.3971951Z Organization
2024-03-07T01:31:35.3974981Z   #ordered_requests
2024-03-07T01:31:35.6122934Z     puts active requests before fulfilled requests
2024-03-07T01:31:35.6123812Z     ordering of requests with matching status
2024-03-07T01:31:35.8221836Z       puts the most recently updated request before older requests
2024-03-07T01:31:35.8223095Z   from_email
2024-03-07T01:31:36.0106396Z     returns admin email when it's empty
2024-03-07T01:31:36.2003754Z     returns admin email when it's empty space
2024-03-07T01:31:36.3682895Z     returns email when present
2024-03-07T01:31:36.5564914Z     returns admin email when not present
2024-03-07T01:31:36.5566015Z   versioning
2024-03-07T01:31:36.5603369Z     is expected to be versioned
2024-03-07T01:31:36.5604132Z   is_active
2024-03-07T01:31:36.9147370Z     returns active organizations
2024-03-07T01:31:36.9148173Z   #seed_items
2024-03-07T01:31:37.1001047Z     allows a single base item to be seeded
2024-03-07T01:31:37.2821828Z     allows a collection of items to be seeded
2024-03-07T01:31:37.2823370Z     when given an item name that already exists, but with an 'other' partner key
2024-03-07T01:31:37.4761298Z       updates the old item to use the new base item as its base
2024-03-07T01:31:37.4762324Z     when given an item that already exists
2024-03-07T01:31:37.6550919Z       gracefully skips the item
2024-03-07T01:31:37.6551668Z   validations
2024-03-07T01:31:37.6630093Z     validates that attachments are png or jpgs
2024-03-07T01:31:37.6724416Z     validates that at least one distribution type is enabled
2024-03-07T01:31:37.8442833Z     validates that short names are unique
2024-03-07T01:31:37.8511380Z     validates that attachment file size is not higher than 1 MB
2024-03-07T01:31:37.8512612Z   total_inventory
2024-03-07T01:31:38.0313375Z     returns 0 if there is nothing
2024-03-07T01:31:38.3013982Z     returns a sum total of all inventory at all storage locations
2024-03-07T01:31:38.3014994Z   Associations >
2024-03-07T01:31:38.3069209Z     is expected to have many item_categories
2024-03-07T01:31:38.3104915Z     is expected to have many users through roles
2024-03-07T01:31:38.3153137Z     is expected to belong to ndbn_member class_name => NDBNMember optional: true
2024-03-07T01:31:38.3154365Z     barcode_items
2024-03-07T01:31:38.5096499Z       returns only this organization's barcodes, no globals (FAILED - 1)
2024-03-07T01:31:38.5097571Z       .all
2024-03-07T01:31:38.6892877Z         includes global barcode items also (FAILED - 2)
2024-03-07T01:31:38.6894021Z     distributions
2024-03-07T01:31:38.6894547Z       upcoming
2024-03-07T01:31:38.7724777Z         retrieves the distributions scheduled for this week that have not yet happened
2024-03-07T01:31:38.7726163Z     users
2024-03-07T01:31:38.7726829Z       when a organizaton has a user that has two roles
2024-03-07T01:31:38.9618092Z         should returns users without duplications
2024-03-07T01:31:38.9619232Z     items
2024-03-07T01:31:38.9620673Z       .during.bottom
2024-03-07T01:31:40.9300816Z         return 3 least used items
2024-03-07T01:31:42.8747232Z         return just 3 elements
2024-03-07T01:31:42.8747910Z       .during
2024-03-07T01:31:44.8621716Z         return ranking of all items
2024-03-07T01:31:44.8622517Z       .other
2024-03-07T01:31:46.8322401Z         returns all items for this organization designated 'other'
2024-03-07T01:31:46.8323263Z       .during.top
2024-03-07T01:31:48.7803090Z         return just 3 elements
2024-03-07T01:31:50.7455200Z         return 3 most used items
2024-03-07T01:31:50.7456083Z   #assign_attributes_from_account_request
2024-03-07T01:31:50.7661425Z     should assign the proper attributes to the organization
2024-03-07T01:31:50.7662470Z   geocode
2024-03-07T01:31:50.9391436Z     adds coordinates to the database
2024-03-07T01:31:50.9392237Z   deadline_day
2024-03-07T01:31:50.9493093Z     can only contain numbers 1-28
2024-03-07T01:31:50.9493831Z   #short_name
2024-03-07T01:31:50.9557579Z     can only contain valid characters
2024-03-07T01:31:50.9558475Z   reminder_day
2024-03-07T01:31:50.9668776Z     can only contain numbers 1-28
2024-03-07T01:31:50.9669523Z   address
2024-03-07T01:31:50.9704854Z     does not add any separators before the city when street is missing
2024-03-07T01:31:50.9736466Z     correctly formats an address string with commas and spaces
2024-03-07T01:31:50.9783246Z     returns an empty string when the org has no address components
2024-03-07T01:31:50.9817408Z     does not add any separators after street when city, state, and zip are missing
2024-03-07T01:31:50.9848899Z     does not add a trailing space when the zip code is missing
2024-03-07T01:31:50.9849801Z   after_create
2024-03-07T01:31:51.0048993Z     should update the state of the account request
2024-03-07T01:31:51.0049857Z   .seed_items
2024-03-07T01:31:51.0050635Z     when no organization is provided
2024-03-07T01:31:51.6309848Z       updates all organizations
2024-03-07T01:31:51.6310969Z     when provided with an organization to seed
2024-03-07T01:31:51.9607281Z       loads the base items into Item records
2024-03-07T01:31:51.9608085Z   earliest reporting year
2024-03-07T01:31:52.2143051Z     is the year of the earliest of donation, purchase, or distribution if they are earlier
2024-03-07T01:31:52.3937535Z     is the organization created year if no associated data
2024-03-07T01:31:52.3938185Z   default storage location
2024-03-07T01:31:52.3973809Z     returns nil when not set
2024-03-07T01:31:52.4016600Z     associates the default storage location with a storage location
2024-03-07T01:31:52.4017276Z   valid_items
2024-03-07T01:31:52.5773305Z     only shows active valid items
2024-03-07T01:31:52.7589413Z     returns an array of item partner keys
2024-03-07T01:31:52.7590036Z     with invisible items
2024-03-07T01:31:52.7878939Z       only shows active and visible items
2024-03-07T01:31:52.7879457Z 
2024-03-07T01:31:52.7879693Z ItemsInQuery
2024-03-07T01:31:52.7880425Z   items_in
2024-03-07T01:31:53.0688859Z     includes donations, purchases, adjustments, transfers among sources
2024-03-07T01:31:53.3285639Z     returns a collection with the fields name, item_id, quantity
2024-03-07T01:31:53.6493426Z     does not count negative adjustments towards in-flow
2024-03-07T01:31:53.9782674Z     does not count transfers going in the negative direction
2024-03-07T01:31:53.9783709Z 
2024-03-07T01:31:53.9784076Z RequestDestroyService
2024-03-07T01:31:53.9785164Z   #call
2024-03-07T01:31:53.9946413Z     should return an instance of itself
2024-03-07T01:31:53.9947268Z     when the request is already discarded
2024-03-07T01:31:54.0054237Z       should not be successful and have errors
2024-03-07T01:31:54.0055201Z     when there are no validation errors
2024-03-07T01:31:54.0189930Z       should send a email notification to the partner
2024-03-07T01:31:54.0333308Z       should update the status column on the request
2024-03-07T01:31:54.0456923Z       should update the discarded_at column on the request
2024-03-07T01:31:54.0457918Z     when the request_id matches no request
2024-03-07T01:31:54.0495521Z       should not be successful and have errors indicating request id is invalid
2024-03-07T01:31:54.0496957Z     when the request's partner is deactivated
2024-03-07T01:31:54.0753757Z       should have errors
2024-03-07T01:31:54.0754531Z 
2024-03-07T01:31:54.0754812Z TransferDestroyService
2024-03-07T01:31:54.0755647Z   #call
2024-03-07T01:31:54.0756883Z     because transfer should not be deleted
2024-03-07T01:31:54.2713983Z       should return an OpenStruct with the raised error
2024-03-07T01:31:54.2714902Z     when there are no issues
2024-03-07T01:31:54.4693843Z       should return an OpenStruct with success? set to true
2024-03-07T01:31:54.6632871Z       should execute the expected methods
2024-03-07T01:31:54.6633988Z     when an issue occurs in transaction
2024-03-07T01:31:54.6635119Z       because undoing the transfer inventory changes by increasing the inventory of `from` failed
2024-03-07T01:31:54.8483320Z         should return a OpenStruct with the raised error
2024-03-07T01:31:54.8484370Z       because the transfer_id does not match any Transfer
2024-03-07T01:31:55.1787471Z         should return a OpenStruct with an ActiveRecord::RecordNotFound error
2024-03-07T01:31:55.1788982Z       because undoing the transfer inventory changes by decreasing the inventory of `to` failed
2024-03-07T01:31:55.3621207Z         should return a OpenStruct with the raised error
2024-03-07T01:31:55.3622188Z       because the transfer destroy raised an error
2024-03-07T01:31:55.5487928Z         should return a OpenStruct with the raised error
2024-03-07T01:31:55.5488614Z 
2024-03-07T01:31:55.5489115Z ProductDriveHelper
2024-03-07T01:31:55.5490792Z   #is_virtual
2024-03-07T01:31:55.5491853Z     when a product drive was not provided
2024-03-07T01:31:55.5578570Z       with blank argument
2024-03-07T01:31:55.5625304Z       without argument
2024-03-07T01:31:55.5626312Z     when the product drive wasn't held virtually
2024-03-07T01:31:55.5738225Z       is expected to eq "No"
2024-03-07T01:31:55.5738998Z     when the product drive was held virtually
2024-03-07T01:31:55.5792156Z       is expected to eq "Yes"
2024-03-07T01:31:55.5793020Z 
2024-03-07T01:31:55.5793344Z PartnerCreateService
2024-03-07T01:31:55.5794086Z   #call
2024-03-07T01:31:55.7607073Z     should return an instance of itself
2024-03-07T01:31:55.7607956Z     when the arguments are incorrect
2024-03-07T01:31:55.7608700Z       beacuse the partner_attrs are invalid
2024-03-07T01:31:55.9361043Z         should contain errors related to invalid partner attributes
2024-03-07T01:31:55.9362093Z     when the arguments are valid
2024-03-07T01:31:56.1105463Z       should create a new partner record with the organization provided
2024-03-07T01:31:56.2980034Z       should create the associated partner profile data
2024-03-07T01:31:56.2981742Z       but there was an unexpected issue with saving the
2024-03-07T01:31:56.2982556Z         Partner record
2024-03-07T01:31:56.4813842Z           should not create the associated partner records
2024-03-07T01:31:56.6651159Z           should not create the partner record for the organization
2024-03-07T01:31:56.6651860Z         Partners::Profile record
2024-03-07T01:31:56.8456894Z           should not create the partner record for the organization
2024-03-07T01:31:57.0182239Z           should not create the associated partner records
2024-03-07T01:31:57.0183620Z 
2024-03-07T01:31:57.0184022Z Request
2024-03-07T01:31:57.0185494Z   total_items
2024-03-07T01:31:57.0282384Z     adds the quantity of all items in the request
2024-03-07T01:31:57.0283326Z   versioning
2024-03-07T01:31:57.0315686Z     is expected to be versioned
2024-03-07T01:31:57.0316322Z   item data
2024-03-07T01:31:57.0398822Z     coerces item quantity and id to always be an integer before saving
2024-03-07T01:31:57.0399718Z   Enums >
2024-03-07T01:31:57.0400078Z     #status
2024-03-07T01:31:57.0589792Z       scopes
2024-03-07T01:31:57.0590592Z 
2024-03-07T01:31:57.0590909Z Reports::PeriodSupplyReportService
2024-03-07T01:31:57.0591898Z   #report
2024-03-07T01:31:57.2500007Z     should report zero values
2024-03-07T01:31:57.2501033Z     with values
2024-03-07T01:31:57.8653680Z       should report normal values
2024-03-07T01:31:57.8654359Z 
2024-03-07T01:31:57.8654568Z ItemCategory
2024-03-07T01:31:57.8656226Z   versioning
2024-03-07T01:31:57.8726302Z     is expected to be versioned
2024-03-07T01:31:57.8727171Z   validations
2024-03-07T01:31:57.8823636Z     is expected to validate that :name cannot be empty/falsy
2024-03-07T01:31:57.8890385Z     is expected to validate that the length of :description is at most 250
2024-03-07T01:31:57.8960846Z     is expected to validate that :organization cannot be empty/falsy
2024-03-07T01:31:57.9221443Z     is expected to validate that :name is case-sensitively unique within the scope of :organization_id
2024-03-07T01:31:57.9222739Z   assocations
2024-03-07T01:31:57.9259469Z     is expected to have many items
2024-03-07T01:31:57.9305754Z     is expected to belong to organization required: true
2024-03-07T01:31:57.9366776Z     is expected to have and belong to many partner_groups
2024-03-07T01:31:57.9367413Z 
2024-03-07T01:31:57.9367734Z InventoryItem
2024-03-07T01:31:57.9403997Z   initializes the quantity to 0 if it was not specified
2024-03-07T01:31:57.9405098Z   Validations >
2024-03-07T01:31:57.9456523Z     requires an inventory association
2024-03-07T01:31:57.9499863Z     requires an item
2024-03-07T01:31:57.9500838Z     quantity >
2024-03-07T01:31:57.9643132Z       is gte 0
2024-03-07T01:31:57.9700796Z       is numerical
2024-03-07T01:31:57.9757471Z       is less than the max integer
2024-03-07T01:31:57.9811872Z       is required
2024-03-07T01:31:57.9812491Z   Filtering >
2024-03-07T01:31:57.9813374Z     ->by_partner_key
2024-03-07T01:31:57.9942780Z       shows the Base Items by partner_key
2024-03-07T01:31:57.9943590Z   versioning
2024-03-07T01:31:57.9978816Z     is expected to be versioned
2024-03-07T01:31:57.9979354Z 
2024-03-07T01:31:57.9979599Z ItemizableUpdateService
2024-03-07T01:31:57.9980881Z   increases
2024-03-07T01:31:58.1327967Z     should update quantity in different locations
2024-03-07T01:31:58.2209923Z     should raise an error if any item is inactive
2024-03-07T01:31:58.3617113Z     should update quantity in same storage location
2024-03-07T01:31:58.3618409Z   decreases
2024-03-07T01:31:58.4946054Z     should update quantity in different locations
2024-03-07T01:31:58.6217847Z     should update quantity in same storage location
2024-03-07T01:31:58.7268539Z     should raise an error if any item is inactive
2024-03-07T01:31:58.7269377Z 
2024-03-07T01:31:58.7269685Z DistributionCreateService
2024-03-07T01:31:58.7270541Z   call
2024-03-07T01:31:58.8087423Z     replaces a big distribution with a smaller one, resulting in increased stored quantities
2024-03-07T01:31:58.8767168Z     returns a successful object with Scheduled distribution
2024-03-07T01:31:58.8768454Z     partner has send reminders setting set to false
2024-03-07T01:31:58.9490265Z       does not send a PartnerMailer
2024-03-07T01:31:58.9491098Z     when it fails to save
2024-03-07T01:31:58.9993678Z       preserves the error and is unsuccessful
2024-03-07T01:31:58.9995868Z     partner has send reminders setting set to true
2024-03-07T01:31:59.1845588Z       Sends a PartnerMailer
2024-03-07T01:31:59.1846891Z     when there's not sufficient inventory
2024-03-07T01:31:59.2530869Z       preserves the Insufficiency error and is unsuccessful
2024-03-07T01:31:59.2531730Z     when the line item quantity is not positive
2024-03-07T01:31:59.3028895Z       preserves the RecordInvalid error and is unsuccessful
2024-03-07T01:31:59.3030160Z     when there's multiple line items and one has insufficient inventory
2024-03-07T01:31:59.3681106Z       preserves the Insufficiency error and is unsuccessful
2024-03-07T01:31:59.3681846Z     when provided with a request ID
2024-03-07T01:31:59.4456177Z       changes the status of the request
2024-03-07T01:31:59.4457200Z       and the request already has a distribution associated with it
2024-03-07T01:31:59.5184255Z         should not be successful
2024-03-07T01:31:59.5185238Z     partner is deactivated
2024-03-07T01:31:59.5930105Z       does not send an email
2024-03-07T01:31:59.5930977Z 
2024-03-07T01:31:59.5931205Z County
2024-03-07T01:31:59.6025829Z   is expected to have many served_areas
2024-03-07T01:31:59.6026596Z   versioning
2024-03-07T01:31:59.6061775Z     is expected to be versioned
2024-03-07T01:31:59.6062294Z 
2024-03-07T01:31:59.6062570Z DonationSite
2024-03-07T01:31:59.6063666Z   import_csv
2024-03-07T01:31:59.7817194Z     imports storage locations from a csv file
2024-03-07T01:31:59.7818073Z   versioning
2024-03-07T01:31:59.7854719Z     is expected to be versioned
2024-03-07T01:31:59.7855632Z   Validations >
2024-03-07T01:31:59.7900498Z     is invalid without a name
2024-03-07T01:31:59.7940998Z     is invalid without an address
2024-03-07T01:31:59.7977041Z     must belong to an organization
2024-03-07T01:31:59.7977781Z   geocode
2024-03-07T01:31:59.8032409Z     adds coordinates to the database
2024-03-07T01:31:59.8032931Z 
2024-03-07T01:31:59.8033305Z Partners::Child
2024-03-07T01:31:59.8034474Z   versioning
2024-03-07T01:31:59.8147631Z     is expected to be versioned
2024-03-07T01:31:59.8148394Z   associations
2024-03-07T01:31:59.8192503Z     is expected to belong to family required: true
2024-03-07T01:31:59.8241624Z     is expected to have many child_item_requests dependent => destroy
2024-03-07T01:31:59.8242664Z   #display_name
2024-03-07T01:31:59.8674248Z     should return a child's first and last name
2024-03-07T01:31:59.8674879Z 
2024-03-07T01:31:59.8675100Z HelpController
2024-03-07T01:31:59.8675877Z   While signed in as a normal user >
2024-03-07T01:31:59.8676653Z     GET #show
2024-03-07T01:31:59.8777026Z       does not display help page when the user logs out
2024-03-07T01:31:59.8933704Z       returns http success
2024-03-07T01:31:59.8934772Z 
2024-03-07T01:31:59.8935095Z Purchase
2024-03-07T01:31:59.8937045Z   Associations >
2024-03-07T01:31:59.8937632Z     items >
2024-03-07T01:31:59.9125646Z       has_many
2024-03-07T01:31:59.9126425Z   Validations >
2024-03-07T01:31:59.9208139Z     ensures that the issued at is no earlier than 2000
2024-03-07T01:31:59.9289524Z     is valid if categories have no values
2024-03-07T01:31:59.9365519Z     must belong to an organization
2024-03-07T01:31:59.9437825Z     requires an inventory (storage location)
2024-03-07T01:31:59.9610847Z     is not valid if period supplies is non-zero but no other category is
2024-03-07T01:31:59.9702627Z     is not valid if categories do not add up
2024-03-07T01:31:59.9885812Z     is invalid when the line items are invalid
2024-03-07T01:31:59.9971966Z     is valid if all categories add up to total
2024-03-07T01:32:00.0157179Z     is not valid if any category is non-zero but does not add up to the total
2024-03-07T01:32:00.0158394Z   Methods >
2024-03-07T01:32:00.0159226Z     storage_view
2024-03-07T01:32:00.0806581Z       returns name of storage location
2024-03-07T01:32:00.0807297Z     remove
2024-03-07T01:32:00.1469834Z       removes the item from the purchase
2024-03-07T01:32:00.2157947Z       fails gracefully if the item doesn't exist
2024-03-07T01:32:00.2158803Z   versioning
2024-03-07T01:32:00.2194844Z     is expected to be versioned
2024-03-07T01:32:00.2195966Z   Callbacks >
2024-03-07T01:32:00.2377537Z     automatically combines duplicate line_item records when they're created
2024-03-07T01:32:00.2549584Z     inititalizes the issued_at field to default to midnight if it wasn't explicitly set
2024-03-07T01:32:00.2550735Z   Scopes >
2024-03-07T01:32:00.2551212Z     during >
2024-03-07T01:32:00.2799880Z       returns all purchases created between two dates
2024-03-07T01:32:00.2800694Z   behaves like itemizable
2024-03-07T01:32:00.2801435Z     .to_a
2024-03-07T01:32:00.2802083Z       with Flipper flag :deprecate_to_a disabled
2024-03-07T01:32:00.3163449Z         calls line_item_values
2024-03-07T01:32:00.3164409Z       with Flipper flag :deprecate_to_a enabled
2024-03-07T01:32:00.3534894Z         raises an error
2024-03-07T01:32:00.3537037Z     .line_items
2024-03-07T01:32:00.3538135Z       sorted
2024-03-07T01:32:00.4103967Z         displays the items, sorted by name
2024-03-07T01:32:00.4104493Z       total
2024-03-07T01:32:00.4500577Z         has an item total
2024-03-07T01:32:00.4501211Z       quantities_by_name
2024-03-07T01:32:00.4890622Z         leaves out zero-quantitied items if requested
2024-03-07T01:32:00.5258028Z         returns a hash of items with id, name, and quantity
2024-03-07T01:32:00.5259027Z       combine!
2024-03-07T01:32:00.5738294Z         incrementally combines line_items on donations that have already been created
2024-03-07T01:32:00.6157858Z         combines multiple line_items with the same item_id into a single record
2024-03-07T01:32:00.6158656Z 
2024-03-07T01:32:00.6159052Z Reports::PartnerInfoReportService
2024-03-07T01:32:00.6160061Z   #report
2024-03-07T01:32:00.7919839Z     should report zero values
2024-03-07T01:32:01.0318829Z     should report normal values
2024-03-07T01:32:01.0319652Z 
2024-03-07T01:32:01.0319856Z Partners::AuthorizedFamilyMember
2024-03-07T01:32:01.0320944Z   versioning
2024-03-07T01:32:01.0359750Z     is expected to be versioned
2024-03-07T01:32:01.0360235Z   #display_name
2024-03-07T01:32:01.0620710Z     should return the family member's first and last name
2024-03-07T01:32:01.0621510Z   associations
2024-03-07T01:32:01.0663149Z     is expected to belong to family required: true
2024-03-07T01:32:01.0700722Z     is expected to have many child_item_requests dependent => nullify
2024-03-07T01:32:01.0702105Z 
2024-03-07T01:32:01.0702437Z DistributionDestroyService
2024-03-07T01:32:01.0702870Z   #call
2024-03-07T01:32:01.0703469Z     when the distribution_id does match a Distribution
2024-03-07T01:32:01.0704585Z       and the increase inventory operations fails
2024-03-07T01:32:01.2807891Z         should not be successful and have the error message
2024-03-07T01:32:01.4922830Z         should not delete the Distribution
2024-03-07T01:32:01.4923678Z       and the destroy! operation fails
2024-03-07T01:32:01.6959551Z         should not delete the Distribution
2024-03-07T01:32:01.8982078Z         should not be successful and have the error message
2024-03-07T01:32:01.8982906Z       and the operations succeed
2024-03-07T01:32:02.1000643Z         should be successful
2024-03-07T01:32:02.3099884Z         should destroy the Distribution
2024-03-07T01:32:02.5144483Z         should increase the inventory of the storage location
2024-03-07T01:32:02.5145250Z     when the distribution_id matches no Distribution
2024-03-07T01:32:02.5184989Z       to not be a success
2024-03-07T01:32:02.5185871Z 
2024-03-07T01:32:02.5186125Z DispersedPastDatesGenerator
2024-03-07T01:32:02.5187457Z   constants
2024-03-07T01:32:02.5222376Z     has 4 day ranges for generation of past dates
2024-03-07T01:32:02.5222897Z   #next
2024-03-07T01:32:02.5272782Z     returns equally dispersed dates between all time ranges
2024-03-07T01:32:02.5273401Z 
2024-03-07T01:32:02.5273582Z DistributionByCountyReportService
2024-03-07T01:32:02.5274213Z   get_breakdown
2024-03-07T01:32:02.7079609Z     handles multiple partners with overlapping service areas properly
2024-03-07T01:32:02.7898322Z     divides the item numbers and values according to the partner profile
2024-03-07T01:32:02.8571263Z     will have 100% unspecified shows if no served_areas
2024-03-07T01:32:02.8571874Z 
2024-03-07T01:32:02.8572153Z PartnerMailerJob
2024-03-07T01:32:02.8573399Z   conditionally sending the emails
2024-03-07T01:32:03.2480423Z     sends mail for future distributions immediately
2024-03-07T01:32:03.5080032Z     does not send mail for past distributions
2024-03-07T01:32:03.5081050Z     when the distribution is for a deactivated partner
2024-03-07T01:32:03.7031121Z       does not send the email
2024-03-07T01:32:03.7031942Z 
2024-03-07T01:32:03.7032156Z ItemsOutQuery
2024-03-07T01:32:03.7034380Z   items_out_query
2024-03-07T01:32:03.8119040Z     returns a collection with the fields name, item_id, quantity
2024-03-07T01:32:03.9233911Z     includes distributions, adjustments, transfers among sources
2024-03-07T01:32:03.9234920Z 
2024-03-07T01:32:03.9235224Z AccountRequest
2024-03-07T01:32:03.9367867Z   #reject!
2024-03-07T01:32:03.9488771Z   #confirm!
2024-03-07T01:32:03.9489604Z   #identity_token
2024-03-07T01:32:03.9572045Z     should return a JWT token that contains the id of the account_request_id
2024-03-07T01:32:03.9572933Z     when the account_request is not persisted
2024-03-07T01:32:03.9651852Z       should raise an error
2024-03-07T01:32:03.9652851Z   validations
2024-03-07T01:32:03.9796531Z     is expected to validate that :email cannot be empty/falsy
2024-03-07T01:32:03.9921812Z     is expected to validate that :email is case-sensitively unique
2024-03-07T01:32:04.0050914Z     is expected to validate that :name cannot be empty/falsy
2024-03-07T01:32:04.0148420Z     is expected not to allow :email to be â€¹"not_email"â€º
2024-03-07T01:32:04.0334553Z     is expected to validate that :request_details cannot be empty/falsy
2024-03-07T01:32:04.0489626Z     is expected to validate that the length of :request_details is at least 50
2024-03-07T01:32:04.0598190Z     is expected to allow :email to be â€¹"raymond@breitenberg.example"â€º
2024-03-07T01:32:04.0599540Z     when the email provided is already used by an existing organization
2024-03-07T01:32:04.2551136Z       should not allow the email
2024-03-07T01:32:04.2552733Z     when the email provided is already used by an existing user
2024-03-07T01:32:04.2758090Z       should not allow the email
2024-03-07T01:32:04.2758741Z   versioning
2024-03-07T01:32:04.2796506Z     is expected to be versioned
2024-03-07T01:32:04.2797044Z   associations
2024-03-07T01:32:04.2853753Z     is expected to belong to ndbn_member class_name => NDBNMember optional: true
2024-03-07T01:32:04.2889194Z     is expected to have one organization class_name => Organization
2024-03-07T01:32:04.2890052Z   #processed?
2024-03-07T01:32:04.2890771Z     when the account request has a associated organization
2024-03-07T01:32:04.4708980Z       should return true
2024-03-07T01:32:04.4709766Z     when the account request has no associated organization
2024-03-07T01:32:04.4805660Z       should return false
2024-03-07T01:32:04.4806669Z   .get_by_identity_token
2024-03-07T01:32:04.4807775Z     when the identity_token provided does not match any AccountRequest
2024-03-07T01:32:04.4844159Z       should return nil
2024-03-07T01:32:04.4845241Z     when the identity_token corresponds to an existing AccountRequest
2024-03-07T01:32:04.4934599Z       should return the corresponding AccountRequest
2024-03-07T01:32:04.4935355Z 
2024-03-07T01:32:04.4935621Z Partners::Family
2024-03-07T01:32:04.4937776Z   #guardian_display_name
2024-03-07T01:32:04.4990413Z     should return the guardian's first and last name
2024-03-07T01:32:04.4991317Z   versioning
2024-03-07T01:32:04.5026275Z     is expected to be versioned
2024-03-07T01:32:04.5027019Z   validations
2024-03-07T01:32:04.5108660Z     is expected to validate that :guardian_zip_code cannot be empty/falsy
2024-03-07T01:32:04.5183486Z     is expected to validate that :guardian_first_name cannot be empty/falsy
2024-03-07T01:32:04.5258550Z     is expected to validate that :guardian_last_name cannot be empty/falsy
2024-03-07T01:32:04.5260009Z   associations
2024-03-07T01:32:04.5298649Z     is expected to belong to partner required: true
2024-03-07T01:32:04.5332250Z     is expected to have many authorized_family_members dependent => destroy
2024-03-07T01:32:04.5366660Z     is expected to have many children dependent => destroy
2024-03-07T01:32:04.5367632Z   #total_children_count
2024-03-07T01:32:04.5414114Z     should return the family's total children count
2024-03-07T01:32:04.5415184Z   #search_non_archived
2024-03-07T01:32:04.6275786Z     should return non-archived families if zero is passed in
2024-03-07T01:32:04.7189693Z     should return all families if one is passed in
2024-03-07T01:32:04.7190896Z   #create_authorized
2024-03-07T01:32:04.7456507Z     should include authorized family members
2024-03-07T01:32:04.7457070Z 
2024-03-07T01:32:04.7457668Z AddRoleService
2024-03-07T01:32:04.7458333Z   #call
2024-03-07T01:32:04.7459454Z     when the role does not yet exist
2024-03-07T01:32:04.9353905Z       should add the role
2024-03-07T01:32:05.1246650Z       works with super admin
2024-03-07T01:32:05.3196689Z       should add the user role when asked to add admin
2024-03-07T01:32:05.5308753Z       works with a partner
2024-03-07T01:32:05.5309695Z     when the role already exists
2024-03-07T01:32:05.7196390Z       should raise an error for super admin
2024-03-07T01:32:05.9104321Z       should raise an error
2024-03-07T01:32:05.9105402Z 
2024-03-07T01:32:05.9106174Z Exports::ExportPurchasesCSVService
2024-03-07T01:32:05.9109964Z   #generate_csv_data
2024-03-07T01:32:06.0230086Z     should match the expected content for the csv
2024-03-07T01:32:06.0230830Z 
2024-03-07T01:32:06.0231145Z PartnerFetchRequestableItemsService
2024-03-07T01:32:06.0232042Z   #call
2024-03-07T01:32:06.0349525Z     raises an error indiciating the partner does not exist with invalid id
2024-03-07T01:32:06.0350605Z     org with any amount of items
2024-03-07T01:32:06.0351598Z       when the partner is in a partner group and has no items
2024-03-07T01:32:06.2490564Z         should return only active and visible items from partner
2024-03-07T01:32:06.2491924Z       when the partner is in a partner group and has items
2024-03-07T01:32:06.4764901Z         should return only active and visible items from partner
2024-03-07T01:32:06.4766244Z     when the partner is not in any partner group
2024-03-07T01:32:06.5052799Z       is expected to be nil
2024-03-07T01:32:06.5053516Z       when the organization has items
2024-03-07T01:32:06.5551299Z         should return only active and visible items
2024-03-07T01:32:06.5871942Z         is expected to eq [#<Item id: 3352, name: "Item 1", category: nil, created_at: "2024-03-06 17:32:06.572559975 -0800", u... on_hand_recommended_quantity: nil, visible_to_partners: false, kit_id: nil, item_category_id: nil>]
2024-03-07T01:32:06.5873878Z       when the organization has no items
2024-03-07T01:32:06.6173928Z         should return no items
2024-03-07T01:32:06.6174873Z 
2024-03-07T01:32:06.6175224Z Partners::FamilyRequestCreateService
2024-03-07T01:32:06.6176005Z   #call
2024-03-07T01:32:06.6176927Z     when the arguments are incorrect
2024-03-07T01:32:06.6177794Z       because a unrecognized item_id was provided
2024-03-07T01:32:06.6414898Z         should return the Partners::FamilyRequestCreateService object with an error
2024-03-07T01:32:06.6416181Z       because no family_requests_attributes were defined
2024-03-07T01:32:06.6650585Z         should return the Partners::FamilyRequestCreateService object with an error
2024-03-07T01:32:06.6651867Z     when the arguments are correct
2024-03-07T01:32:06.6652544Z       with children
2024-03-07T01:32:06.7758836Z         should create the appropriate organization Request, Partners::ItemRequest and Partners::ChildItemRequests
2024-03-07T01:32:06.7760358Z       without children
2024-03-07T01:32:06.8043790Z         should send the correct request payload to the Partners::RequestCreateService and call it
2024-03-07T01:32:06.8044586Z 
2024-03-07T01:32:06.8044939Z PartnerProfileUpdateService
2024-03-07T01:32:06.8046077Z   #call
2024-03-07T01:32:06.8046920Z     when there are no pre-existing served areas
2024-03-07T01:32:06.8047720Z       and the new values are correct
2024-03-07T01:32:06.8255474Z         stores the new values and returns success
2024-03-07T01:32:06.8256320Z         and there are other errors in the profile
2024-03-07T01:32:06.8513625Z           does not store the new values and it returns a failure
2024-03-07T01:32:06.8516999Z       and the new values are incorrect
2024-03-07T01:32:06.8688750Z 0
2024-03-07T01:32:06.8696792Z         does not store the new values and returns a failure
2024-03-07T01:32:06.8697948Z     when served area client shares pre-exist
2024-03-07T01:32:06.8698798Z       and the new values are incorrect
2024-03-07T01:32:06.8967344Z         maintains the old values and returns failure
2024-03-07T01:32:06.8968419Z       and the new values are correct
2024-03-07T01:32:06.8969157Z         and there are errors on the profile
2024-03-07T01:32:06.9236347Z           maintains the old values and returns failure
2024-03-07T01:32:06.9237459Z         and there are no other errors
2024-03-07T01:32:06.9520054Z           replaces the old values and returns success
2024-03-07T01:32:06.9521251Z 
2024-03-07T01:32:06.9521551Z Question
2024-03-07T01:32:06.9523025Z   scope for_partners
2024-03-07T01:32:06.9855464Z     should filter out questions that aren't meant for partners
2024-03-07T01:32:06.9856235Z   scope for_banks
2024-03-07T01:32:07.0082764Z     should filter out questions that aren't meant for banks
2024-03-07T01:32:07.0083727Z   remove_redundant_error
2024-03-07T01:32:07.0122735Z     should return an array with only one error message related to the checkboxes.
2024-03-07T01:32:07.0123838Z   punctuate
2024-03-07T01:32:07.0160220Z     should punctuate each string in a given array
2024-03-07T01:32:07.0161179Z   versioning
2024-03-07T01:32:07.0195894Z     is expected to be versioned
2024-03-07T01:32:07.0196805Z   validations
2024-03-07T01:32:07.0286708Z     question for_banks and for_partners attributes can't both be false
2024-03-07T01:32:07.0345929Z     is expected to validate that :answer cannot be empty/falsy
2024-03-07T01:32:07.0403055Z     is expected to validate that :title cannot be empty/falsy
2024-03-07T01:32:07.0403718Z 
2024-03-07T01:32:07.0404011Z ProfileUpdateService
2024-03-07T01:32:07.0404810Z   #update
2024-03-07T01:32:07.0657761Z     updates the profile with the filtered and prepared params
2024-03-07T01:32:07.0658633Z 
2024-03-07T01:32:07.0659049Z StorageLocation
2024-03-07T01:32:07.0660798Z   Callbacks >
2024-03-07T01:32:07.0661514Z     before_destroy
2024-03-07T01:32:07.1054136Z       does not delete storage locations with inventory items on it
2024-03-07T01:32:07.1668744Z       deletes storage locations with no inventory items on it
2024-03-07T01:32:07.1669697Z   Validations >
2024-03-07T01:32:07.1730837Z     is expected to validate that :address cannot be empty/falsy
2024-03-07T01:32:07.1789477Z     is expected to validate that :organization cannot be empty/falsy
2024-03-07T01:32:07.1847950Z     is expected to validate that :name cannot be empty/falsy
2024-03-07T01:32:07.1848976Z   Methods >
2024-03-07T01:32:07.1850117Z     import_inventory
2024-03-07T01:32:07.6362075Z       imports storage locations from a csv file
2024-03-07T01:32:07.6363011Z     increase_inventory
2024-03-07T01:32:07.6363632Z       With existing inventory
2024-03-07T01:32:07.7412672Z         increases inventory quantities from an itemizable object
2024-03-07T01:32:07.7413734Z       when providing a new item that does not yet exist
2024-03-07T01:32:07.8479890Z         creates those new inventory items in the storage location
2024-03-07T01:32:07.8480821Z     import_csv
2024-03-07T01:32:07.8600933Z       imports storage locations from a csv file
2024-03-07T01:32:07.8601668Z     item_total
2024-03-07T01:32:07.8983866Z       retrieves the total for a single item
2024-03-07T01:32:07.8984604Z     geocode
2024-03-07T01:32:07.9088604Z       adds coordinates to the database
2024-03-07T01:32:07.9089442Z     inventory_total_value_in_dollars
2024-03-07T01:32:07.9563459Z       returns total value of all items in this storage location
2024-03-07T01:32:07.9675101Z       returns 0 when there are no items in this storage location
2024-03-07T01:32:08.0057637Z       returns a value including cents if the total isn't an even dollar amount
2024-03-07T01:32:08.0058915Z     csv_export_attributes
2024-03-07T01:32:08.0697347Z       returns an array of storage location attributes, followed by inventory item quantities that are sorted by alphabetized item names
2024-03-07T01:32:08.0699160Z     StorageLocation.items_inventoried
2024-03-07T01:32:08.1486527Z       returns a collection of items that are stored within inventories
2024-03-07T01:32:08.1487513Z     size
2024-03-07T01:32:08.1924444Z       returns total quantity of all items in this storage location
2024-03-07T01:32:08.1925427Z     decrease_inventory
2024-03-07T01:32:08.2970610Z       decreases inventory quantities from an itemizable object
2024-03-07T01:32:08.2971879Z       when there is insufficient inventory available
2024-03-07T01:32:08.3054833Z         does not change inventory quantities if there is an error
2024-03-07T01:32:08.3133526Z         gives informative errors
2024-03-07T01:32:08.3134428Z   versioning
2024-03-07T01:32:08.3171699Z     is expected to be versioned
2024-03-07T01:32:08.3172924Z   Filtering >
2024-03-07T01:32:08.3264501Z     ->active_locations yields only storage locations that haven't been discarded
2024-03-07T01:32:08.3952542Z     ->containing yields only inventories that have that item
2024-03-07T01:32:08.3953284Z 
2024-03-07T01:32:08.3953553Z RequestsTotalItemsService
2024-03-07T01:32:08.3954256Z   #calculate
2024-03-07T01:32:08.3955497Z     when provided requests is nil
2024-03-07T01:32:08.3993985Z       is expected to be blank
2024-03-07T01:32:08.3994958Z     when provided with requests that have no request items
2024-03-07T01:32:08.4074529Z       is expected to be blank
2024-03-07T01:32:08.4075279Z     when the request items is not blank
2024-03-07T01:32:08.4216185Z       return items with correct quantities calculated
2024-03-07T01:32:08.4353005Z       return the names of items correctly
2024-03-07T01:32:08.4353707Z     when item name is nil
2024-03-07T01:32:08.4474011Z       return Unknown Item
2024-03-07T01:32:08.4474969Z 
2024-03-07T01:32:08.4475225Z ProductDriveParticipant
2024-03-07T01:32:08.4478342Z   versioning
2024-03-07T01:32:08.4569733Z     is expected to be versioned
2024-03-07T01:32:08.4570556Z   Validations
2024-03-07T01:32:08.4612555Z     is invalid without an organization
2024-03-07T01:32:08.4672188Z     is invalid unless it has either a phone number or an email
2024-03-07T01:32:08.4672988Z   Methods
2024-03-07T01:32:08.4673651Z     volume_by_product_drive
2024-03-07T01:32:08.6123886Z       retrieves the amount of product that has been donated through specific product drive
2024-03-07T01:32:08.6124708Z     volume
2024-03-07T01:32:08.6781217Z       retrieves the amount of product that has been donated by participant
2024-03-07T01:32:08.6782236Z     donation_source_view
2024-03-07T01:32:08.6782847Z       no contact name
2024-03-07T01:32:08.6839027Z         is expected to be nil
2024-03-07T01:32:08.6839705Z       contact name present
2024-03-07T01:32:08.6896118Z         is expected to eq "Contact Name (participant)"
2024-03-07T01:32:08.6897059Z   behaves like provideable
2024-03-07T01:32:08.6897803Z     geocode
2024-03-07T01:32:08.6957096Z       adds coordinates to the database
2024-03-07T01:32:08.6957903Z     Validations
2024-03-07T01:32:08.6995547Z       is invalid without an organization
2024-03-07T01:32:08.7058423Z       is invalid unless it has either a contact name or a business name
2024-03-07T01:32:08.7059435Z     import_csv
2024-03-07T01:32:08.8837123Z       imports from a csv file
2024-03-07T01:32:08.8837909Z 
2024-03-07T01:32:08.8838135Z RequestItem
2024-03-07T01:32:08.8839332Z   Methods >
2024-03-07T01:32:08.8840240Z     #from_json
2024-03-07T01:32:09.1365116Z       has the correct amount on hand for location
2024-03-07T01:32:09.3886951Z       has the correct quantity
2024-03-07T01:32:09.6341244Z       has the correct amount on hand
2024-03-07T01:32:09.8693715Z       has the correct name
2024-03-07T01:32:09.8694740Z 
2024-03-07T01:32:09.8694986Z Partners::RequestApprovalService
2024-03-07T01:32:09.8696047Z   #call
2024-03-07T01:32:09.8697660Z     when the partner is not yet waiting for approval and there is a profile error
2024-03-07T01:32:09.8942556Z       should return an error re social media
2024-03-07T01:32:09.8944089Z       should return an error re agency_type (PENDING: Temporarily skipped with xit)
2024-03-07T01:32:09.8944868Z     when the partner is already awaiting approval
2024-03-07T01:32:09.9191410Z       should return an error saying it the partner is already requested approval
2024-03-07T01:32:09.9464247Z     when the partner is not yet awaiting approval
2024-03-07T01:32:09.9465160Z       should send an email notification to the partner's organization
2024-03-07T01:32:09.9742213Z       should set the status on the partner record to awaiting_review
2024-03-07T01:32:09.9743099Z     when the partner is not yet waiting for approval and there is no profile error
2024-03-07T01:32:10.0021277Z       does not have an error
2024-03-07T01:32:10.0022144Z 
2024-03-07T01:32:10.0022350Z BroadcastAnnouncement
2024-03-07T01:32:10.0131326Z   is expected to validate that :message cannot be empty/falsy
2024-03-07T01:32:10.0170739Z   is expected to belong to user required: true
2024-03-07T01:32:10.0229133Z   should validate a valid announcement
2024-03-07T01:32:10.0282583Z   should validate a good link
2024-03-07T01:32:10.0335524Z   should roughly check if link is valid
2024-03-07T01:32:10.0370916Z   is expected to belong to organization optional: true
2024-03-07T01:32:10.0371578Z   expired?
2024-03-07T01:32:10.0426058Z     should be false if the announcement has not expired
2024-03-07T01:32:10.0479831Z     should be true if the announcement is expired
2024-03-07T01:32:10.0480771Z   versioning
2024-03-07T01:32:10.0516414Z     is expected to be versioned
2024-03-07T01:32:10.0517184Z   filter_announcements
2024-03-07T01:32:10.0652809Z     should include only announcements from the passed organization
2024-03-07T01:32:10.0774966Z     shouldn't include expired announcements
2024-03-07T01:32:10.0906322Z     sorts announcements from most recently created to last
2024-03-07T01:32:10.0906989Z 
2024-03-07T01:32:10.0907510Z ApplicationHelper
2024-03-07T01:32:10.0909954Z   confirm_delete_msg
2024-03-07T01:32:10.0954656Z     subs in string
2024-03-07T01:32:10.0955425Z   step_container_helper
2024-03-07T01:32:10.0956273Z     active_index is equal to index
2024-03-07T01:32:10.0997719Z       returns active
2024-03-07T01:32:10.0998664Z     active_index is less than index
2024-03-07T01:32:10.1040119Z       returns empty string
2024-03-07T01:32:10.1040867Z     active_index is greater than index
2024-03-07T01:32:10.1081489Z       returns done
2024-03-07T01:32:10.1082113Z   flash_class
2024-03-07T01:32:10.1124244Z     returns appropriate class for success
2024-03-07T01:32:10.1164493Z     returns appropriate class for error
2024-03-07T01:32:10.1204633Z     returns appropriate class for notice
2024-03-07T01:32:10.1244885Z     returns appropriate class for alert
2024-03-07T01:32:10.1245450Z   active_class
2024-03-07T01:32:10.1286396Z     Returns the controller name
2024-03-07T01:32:10.1287105Z   default_title_content
2024-03-07T01:32:10.1287960Z     Organization exists
2024-03-07T01:32:10.2972446Z       returns the organization's name
2024-03-07T01:32:10.2973195Z     Organization does not exist
2024-03-07T01:32:10.3019773Z       returns a default name
2024-03-07T01:32:10.3020770Z   can_administrate?
2024-03-07T01:32:10.3021934Z     User is org admin and not part of org
2024-03-07T01:32:10.5061389Z       cannot administrate
2024-03-07T01:32:10.5062177Z     User is part of org but not org admin
2024-03-07T01:32:10.5223385Z       cannot administrate
2024-03-07T01:32:10.5224137Z     User is org admin and part of org
2024-03-07T01:32:10.5436865Z       can administrate
2024-03-07T01:32:10.5437712Z 
2024-03-07T01:32:10.5437935Z KitAllocation
2024-03-07T01:32:10.5441204Z   add some examples to (or delete) /home/runner/work/human-essentials/human-essentials/spec/models/kit_allocation_spec.rb (PENDING: Not yet implemented)
2024-03-07T01:32:10.5442500Z   versioning
2024-03-07T01:32:10.5511155Z     is expected to be versioned
2024-03-07T01:32:10.5511607Z 
2024-03-07T01:32:10.5512003Z Partners::ServedArea
2024-03-07T01:32:10.5558906Z   is expected to belong to county required: true
2024-03-07T01:32:10.5809181Z   must only allow valid client share values
2024-03-07T01:32:10.5851807Z   is expected to belong to partner_profile required: true
2024-03-07T01:32:10.5992446Z   must only allow integer client shares
2024-03-07T01:32:10.5993166Z   versioning
2024-03-07T01:32:10.6030514Z     is expected to be versioned
2024-03-07T01:32:10.6031025Z 
2024-03-07T01:32:10.6031266Z Partners::ChildItemRequest
2024-03-07T01:32:10.6032603Z   associations
2024-03-07T01:32:10.6074564Z     is expected to belong to authorized_family_member optional: true
2024-03-07T01:32:10.6114030Z     is expected to belong to child required: true
2024-03-07T01:32:10.6155357Z     is expected to belong to item_request required: true
2024-03-07T01:32:10.6156134Z   #ordered_item_diaperid
2024-03-07T01:32:10.6217010Z     should return the item_id on the item_request
2024-03-07T01:32:10.6217913Z   versioning
2024-03-07T01:32:10.6253814Z     is expected to be versioned
2024-03-07T01:32:10.6254516Z   #quantity
2024-03-07T01:32:10.6296090Z     should return the quantity divided by the number of children
2024-03-07T01:32:10.6296804Z 
2024-03-07T01:32:10.6297062Z DistributionPdf
2024-03-07T01:32:10.6902352Z   #non_request_data
2024-03-07T01:32:10.7576300Z   #request_data
2024-03-07T01:32:10.7576739Z 
2024-03-07T01:32:10.7576946Z Kit
2024-03-07T01:32:10.9679069Z   deactivate and reactivate
2024-03-07T01:32:10.9680451Z   Value >
2024-03-07T01:32:10.9838283Z     converts dollars to cents
2024-03-07T01:32:10.9991355Z     converts cents to dollars
2024-03-07T01:32:10.9992316Z     .value_per_itemizable
2024-03-07T01:32:11.0359063Z       calculates values from associated items
2024-03-07T01:32:11.0359810Z   Filtering >
2024-03-07T01:32:11.5789954Z     ->alphabetized retrieves items in alphabetical order
2024-03-07T01:32:11.5841598Z     can filter
2024-03-07T01:32:11.5842588Z     ->by_partner_key
2024-03-07T01:32:11.8230528Z       shows the kits for a particular item
2024-03-07T01:32:11.8231160Z   Validations >
2024-03-07T01:32:11.8404258Z     requires a name
2024-03-07T01:32:11.8571625Z     must belong to an organization
2024-03-07T01:32:11.8730365Z     requires at least one item
2024-03-07T01:32:11.8888105Z     is valid as built
2024-03-07T01:32:11.9059258Z     can't have negative value
2024-03-07T01:32:12.1042086Z     requires a unique name
2024-03-07T01:32:12.1042897Z   #can_deactivate?
2024-03-07T01:32:12.1043748Z     with inventory items
2024-03-07T01:32:12.3211906Z       should return false
2024-03-07T01:32:12.3212702Z     without inventory items
2024-03-07T01:32:12.5136355Z       should return true
2024-03-07T01:32:12.5137118Z   versioning
2024-03-07T01:32:12.5173917Z     is expected to be versioned
2024-03-07T01:32:12.5174429Z 
2024-03-07T01:32:12.5174650Z DonationCreateService
2024-03-07T01:32:12.5175797Z   #call
2024-03-07T01:32:12.5380071Z     should create the donation
2024-03-07T01:32:12.5380763Z 
2024-03-07T01:32:12.5381140Z RemoveRoleService
2024-03-07T01:32:12.5382045Z   #call
2024-03-07T01:32:12.5382888Z     when the role does not exist
2024-03-07T01:32:12.7191564Z       should raise an error
2024-03-07T01:32:12.7192533Z     when not enough information provided
2024-03-07T01:32:12.9044851Z       should raise an error
2024-03-07T01:32:12.9256754Z     when the role exists
2024-03-07T01:32:13.1031706Z       should remove the admin role when removing user role
2024-03-07T01:32:13.3020869Z       should work with a type and ID instead of role ID
2024-03-07T01:32:13.4955159Z       should remove the role
2024-03-07T01:32:13.4955695Z 
2024-03-07T01:32:13.4955994Z HistoricalTrendService
2024-03-07T01:32:13.4957030Z   #series
2024-03-07T01:32:13.7728150Z     returns an array of items with their monthly data
2024-03-07T01:32:13.7728752Z 
2024-03-07T01:32:13.7729143Z DistributionContentChangeService
2024-03-07T01:32:13.7729967Z   #any_change?
2024-03-07T01:32:13.7731111Z     when there are line items removed and updated
2024-03-07T01:32:13.7768536Z       returns true
2024-03-07T01:32:13.7769057Z     when there are no changes in the line items
2024-03-07T01:32:13.7803808Z       returns true
2024-03-07T01:32:13.7804278Z     when there are line items removed
2024-03-07T01:32:13.7836751Z       returns true
2024-03-07T01:32:13.7837209Z     when there are line items updated
2024-03-07T01:32:13.7871820Z       returns true
2024-03-07T01:32:13.7872316Z   #changes
2024-03-07T01:32:13.7873217Z     when there are line items removed and updated
2024-03-07T01:32:13.7907991Z       returns true
2024-03-07T01:32:13.7908640Z 
2024-03-07T01:32:13.7908841Z AdjustmentCreateService
2024-03-07T01:32:13.7909689Z   call
2024-03-07T01:32:13.8769174Z     increases stored inventory on a positive adjustment
2024-03-07T01:32:13.9572712Z     handles adjustments to multiple items
2024-03-07T01:32:14.0448644Z     increases handles mixed adjustments to same appropriately (total is negative version)
2024-03-07T01:32:14.0970199Z     gives an error if we attempt to adjust inventory below 0
2024-03-07T01:32:14.1790743Z     saves a new adjustment with line items relating to the current (simple case) positive adjustment
2024-03-07T01:32:14.2432922Z     does not allow inventory to be adjusted below 0
2024-03-07T01:32:14.3287245Z     handles mixed adjustments to same item appropriately (total is positive version)
2024-03-07T01:32:14.4033915Z     saves a new adjustment with line items relating to the current (simple case) negative adjustment
2024-03-07T01:32:14.4975433Z     decreases stored inventory on a negative adjustment
2024-03-07T01:32:14.4976043Z 
2024-03-07T01:32:14.4976268Z Reports::SummaryReportService
2024-03-07T01:32:14.4976801Z   #report
2024-03-07T01:32:14.9606093Z     should report negative values
2024-03-07T01:32:15.1343402Z     should report zero values
2024-03-07T01:32:15.5797542Z     should report positive values
2024-03-07T01:32:15.5798174Z 
2024-03-07T01:32:15.5798450Z DistributionReminder
2024-03-07T01:32:15.5799339Z   conditionally sending the emails
2024-03-07T01:32:15.6080229Z     does not send mail for past distributions
2024-03-07T01:32:15.6363871Z     sends mail for future distributions
2024-03-07T01:32:15.6641859Z     does not send mail for future distributions if the partner wants no reminders
2024-03-07T01:32:15.6924001Z     sends mail for future distributions where the partner wants reminders
2024-03-07T01:32:15.6924770Z     when the distribution_id does not match any Distribution
2024-03-07T01:32:15.6972234Z       does not send mail for non existent distributions
2024-03-07T01:32:15.6972947Z     when the partner is deactivated
2024-03-07T01:32:15.7254696Z       does not send mail
2024-03-07T01:32:15.7255857Z 
2024-03-07T01:32:15.7256138Z LineItem
2024-03-07T01:32:15.7257697Z   Validations >
2024-03-07T01:32:15.7349798Z     requires an item
2024-03-07T01:32:15.7487313Z     requires a quantity
2024-03-07T01:32:15.8404070Z     the quantity must be a valid integer and cannot be 0
2024-03-07T01:32:15.8404850Z   package_count
2024-03-07T01:32:15.8599164Z     is equal to the quanity divided by the package_size
2024-03-07T01:32:15.8782513Z     is nil if there is no package_size
2024-03-07T01:32:15.8783961Z   Methods >
2024-03-07T01:32:15.8784398Z     item packages
2024-03-07T01:32:15.8784845Z       #has_packages
2024-03-07T01:32:15.8785666Z         item has no package size
2024-03-07T01:32:15.8913408Z           is expected to be falsy
2024-03-07T01:32:15.8914026Z         item has package size
2024-03-07T01:32:15.9086650Z           is expected to be truthy
2024-03-07T01:32:15.9087247Z       #package_count
2024-03-07T01:32:15.9088046Z         has packages
2024-03-07T01:32:15.9260021Z           is expected to eq "1"
2024-03-07T01:32:15.9261192Z         does not have packages
2024-03-07T01:32:15.9388522Z           is expected to be falsy
2024-03-07T01:32:15.9389227Z     #value_per_line_item
2024-03-07T01:32:15.9390134Z       item has value and quantity
2024-03-07T01:32:15.9561090Z         is expected to eq 25
2024-03-07T01:32:15.9562027Z       item has no value
2024-03-07T01:32:15.9690259Z         is expected to eq 0
2024-03-07T01:32:15.9690926Z   Scopes >
2024-03-07T01:32:15.9691769Z     ->active
2024-03-07T01:32:16.0009679Z       retrieves only those with active status
2024-03-07T01:32:16.0010471Z   versioning
2024-03-07T01:32:16.0046605Z     is expected to be versioned
2024-03-07T01:32:16.0047060Z 
2024-03-07T01:32:16.0047716Z Reports::OtherProductsReportService
2024-03-07T01:32:16.0049245Z   #report
2024-03-07T01:32:16.1865577Z     should report zero values
2024-03-07T01:32:16.7891569Z     should report normal values
2024-03-07T01:32:16.7892509Z 
2024-03-07T01:32:16.7892715Z Partners::UpdateFamily
2024-03-07T01:32:16.7893802Z   #call
2024-03-07T01:32:16.7894940Z     when family has children
2024-03-07T01:32:16.8284498Z       archives the family and its children
2024-03-07T01:32:16.8285199Z     when an error occurs during archiving
2024-03-07T01:32:16.8623028Z       does not archive the family or its children and adds error to the service
2024-03-07T01:32:16.8624091Z 
2024-03-07T01:32:16.8624259Z Audit
2024-03-07T01:32:16.8625764Z   Scopes >
2024-03-07T01:32:16.9059018Z     `at_location` can filter out audits to a specific location
2024-03-07T01:32:16.9059524Z   versioning
2024-03-07T01:32:16.9093329Z     is expected to be versioned
2024-03-07T01:32:16.9093747Z   Methods >
2024-03-07T01:32:17.1494740Z     `self.storage_locations_audited_for` returns only storage_locations that are used for one org
2024-03-07T01:32:17.4734890Z     `self.finalized_since?` returns true iff some finalized audit occurred after itemizable created_at that shares item for location(s)
2024-03-07T01:32:17.4736266Z   behaves like itemizable
2024-03-07T01:32:17.4736766Z     .to_a
2024-03-07T01:32:17.4737212Z       with Flipper flag :deprecate_to_a disabled
2024-03-07T01:32:17.5232926Z         calls line_item_values
2024-03-07T01:32:17.5233607Z       with Flipper flag :deprecate_to_a enabled
2024-03-07T01:32:17.5722951Z         raises an error
2024-03-07T01:32:17.5723463Z     .line_items
2024-03-07T01:32:17.5724662Z       total
2024-03-07T01:32:17.6520343Z         has an item total
2024-03-07T01:32:17.6520871Z       combine!
2024-03-07T01:32:17.6889225Z         incrementally combines line_items on donations that have already been created
2024-03-07T01:32:17.7418867Z         combines multiple line_items with the same item_id into a single record
2024-03-07T01:32:17.7419648Z       sorted
2024-03-07T01:32:17.8506205Z         displays the items, sorted by name
2024-03-07T01:32:17.8506865Z       quantities_by_name
2024-03-07T01:32:17.9319839Z         returns a hash of items with id, name, and quantity
2024-03-07T01:32:18.0965904Z         leaves out zero-quantitied items if requested
2024-03-07T01:32:18.0969759Z   Validations >
2024-03-07T01:32:18.1805339Z     can have line items that has quantity as a positive integer
2024-03-07T01:32:18.2714985Z     can have line items that has quantity as zero
2024-03-07T01:32:18.3189791Z     must belong to an organization
2024-03-07T01:32:18.3791115Z     can not have line items that has quantity as a string that cannot be reduced to an integer
2024-03-07T01:32:18.4321594Z     cannot have duplicate line items
2024-03-07T01:32:18.4422813Z     must belong to an organization admin of its organization
2024-03-07T01:32:18.4943758Z     can not have line items that has quantity as negative integer
2024-03-07T01:32:18.4944636Z 
2024-03-07T01:32:18.4944827Z Adjustment
2024-03-07T01:32:18.4947028Z   nested line item attributes
2024-03-07T01:32:18.5372282Z     accepts them
2024-03-07T01:32:18.5372752Z   behaves like itemizable
2024-03-07T01:32:18.5374186Z     .line_items
2024-03-07T01:32:18.5374907Z       total
2024-03-07T01:32:18.5761992Z         has an item total
2024-03-07T01:32:18.5762511Z       combine!
2024-03-07T01:32:18.6225807Z         incrementally combines line_items on donations that have already been created
2024-03-07T01:32:18.6638140Z         combines multiple line_items with the same item_id into a single record
2024-03-07T01:32:18.6638936Z       sorted
2024-03-07T01:32:18.7195108Z         displays the items, sorted by name
2024-03-07T01:32:18.7195764Z       quantities_by_name
2024-03-07T01:32:18.7592096Z         returns a hash of items with id, name, and quantity
2024-03-07T01:32:18.7989199Z         leaves out zero-quantitied items if requested
2024-03-07T01:32:18.7989862Z     .to_a
2024-03-07T01:32:18.7990380Z       with Flipper flag :deprecate_to_a disabled
2024-03-07T01:32:18.8332126Z         calls line_item_values
2024-03-07T01:32:18.8332885Z       with Flipper flag :deprecate_to_a enabled
2024-03-07T01:32:18.8671359Z         raises an error
2024-03-07T01:32:18.8671968Z   Methods >
2024-03-07T01:32:19.0647187Z     `self.storage_locations_adjusted_for` returns only storage_locations that are used in adjustments for one org
2024-03-07T01:32:19.0648001Z     split_difference
2024-03-07T01:32:19.1391184Z       returns two adjustment objects
2024-03-07T01:32:19.2134924Z       gracefully handles adjustments with only negative
2024-03-07T01:32:19.2872802Z       gracefully handles adjustments with only positive
2024-03-07T01:32:19.2873608Z   Validations >
2024-03-07T01:32:19.3270225Z     allows you to remove all the inventory that exists in the storage location
2024-03-07T01:32:19.3348639Z     must belong to an organization
2024-03-07T01:32:19.3510848Z     allows you to add inventory that doesn't yet exist in the storage location
2024-03-07T01:32:19.3511748Z   versioning
2024-03-07T01:32:19.3546543Z     is expected to be versioned
2024-03-07T01:32:19.3547112Z   Scopes >
2024-03-07T01:32:19.3708509Z     `at_location` can filter out adjustments to a specific location
2024-03-07T01:32:19.3856809Z     `by_user` can filter out adjustments to a specific user
2024-03-07T01:32:19.3857404Z 
2024-03-07T01:32:19.3857573Z CalendarService
2024-03-07T01:32:19.5954881Z   #time_zones
2024-03-07T01:32:19.5955394Z   .calendar
2024-03-07T01:32:19.6552316Z     should print the calendar correctly
2024-03-07T01:32:19.6552817Z 
2024-03-07T01:32:19.6552982Z ReminderDeadlineJob
2024-03-07T01:32:19.6553804Z   #perform
2024-03-07T01:32:19.6779825Z     should queue up reminder deadline emails for all partners that should be reminded
2024-03-07T01:32:19.6781040Z 
2024-03-07T01:32:19.6781283Z ReminderDeadlineMailer
2024-03-07T01:32:19.6781872Z   notify deadline
2024-03-07T01:32:19.7066223Z     renders the body
2024-03-07T01:32:19.7329482Z     renders the subject
2024-03-07T01:32:19.7593027Z     renders the receiver email
2024-03-07T01:32:19.7853072Z     renders the sender email
2024-03-07T01:32:19.7853632Z 
2024-03-07T01:32:19.7854023Z DonationItemizedBreakdownService
2024-03-07T01:32:19.7854743Z   #fetch
2024-03-07T01:32:20.1664984Z     return the list of items donated with distributed
2024-03-07T01:32:20.1665679Z 
2024-03-07T01:32:20.1665970Z ApplicationController
2024-03-07T01:32:20.1667547Z   dashboard_path_from_current_role
2024-03-07T01:32:20.1668413Z     As a super admin
2024-03-07T01:32:20.1869037Z       links to the admin dashboard
2024-03-07T01:32:20.1869708Z     As a user without super admin status
2024-03-07T01:32:20.2060566Z       links to the general dashboard
2024-03-07T01:32:20.2061182Z   current_partner
2024-03-07T01:32:20.2062179Z     As a partner user
2024-03-07T01:32:20.2573765Z       should return the first partner role
2024-03-07T01:32:20.2574456Z       with a changed current role
2024-03-07T01:32:20.3091963Z         should return the first partner role
2024-03-07T01:32:20.3092638Z     As an org user
2024-03-07T01:32:20.3221920Z       should return nil
2024-03-07T01:32:20.3222807Z   current_organization
2024-03-07T01:32:20.3223908Z     As an org user
2024-03-07T01:32:20.6741031Z       should return the first org role
2024-03-07T01:32:20.6742121Z       with a changed current role
2024-03-07T01:32:21.0376850Z         should return the first org role
2024-03-07T01:32:21.0377336Z     As a partner user
2024-03-07T01:32:21.0528940Z       should return nil
2024-03-07T01:32:21.0529749Z 
2024-03-07T01:32:21.0530094Z HistoricalDataCacheJob
2024-03-07T01:32:21.2259838Z   queues the job
2024-03-07T01:32:21.4136107Z   caches the historical data
2024-03-07T01:32:21.4136544Z 
2024-03-07T01:32:21.4136784Z Exports::ExportDonationsCSVService
2024-03-07T01:32:21.4137656Z   #generate_csv_data
2024-03-07T01:32:21.5250496Z     should match the expected content for the csv
2024-03-07T01:32:21.7807670Z 
2024-03-07T01:32:21.7808650Z Pending: (Failures listed here are expected and do not affect your suite's status)
2024-03-07T01:32:21.7809458Z 
2024-03-07T01:32:21.7811156Z   1) Partners::RequestApprovalService#call when the partner is not yet waiting for approval and there is a profile error should return an error re agency_type
2024-03-07T01:32:21.7812735Z      # Temporarily skipped with xit
2024-03-07T01:32:21.7813533Z      # ./spec/services/partners/request_approval_service_spec.rb:28
2024-03-07T01:32:21.7814158Z 
2024-03-07T01:32:21.7815341Z   2) KitAllocation add some examples to (or delete) /home/runner/work/human-essentials/human-essentials/spec/models/kit_allocation_spec.rb
2024-03-07T01:32:21.7817056Z      # Not yet implemented
2024-03-07T01:32:21.7817589Z      # ./spec/models/kit_allocation_spec.rb:16
2024-03-07T01:32:21.8389063Z 
2024-03-07T01:32:21.8389395Z Failures:
2024-03-07T01:32:21.8389647Z 
2024-03-07T01:32:21.8391264Z   1) Organization Associations > barcode_items returns only this organization's barcodes, no globals
2024-03-07T01:32:21.8392389Z      Failure/Error: create(:global_barcode_item) # global
2024-03-07T01:32:21.8392890Z 
2024-03-07T01:32:21.8393118Z      ActiveModel::MissingAttributeError:
2024-03-07T01:32:21.8393759Z        can't write unknown attribute `barcode_count`
2024-03-07T01:32:21.8394343Z      # ./spec/models/organization_spec.rb:111:in `block (4 levels) in <top (required)>'
2024-03-07T01:32:21.8394794Z 
2024-03-07T01:32:21.8395096Z   2) Organization Associations > barcode_items .all includes global barcode items also
2024-03-07T01:32:21.8395694Z      Failure/Error: create(:global_barcode_item) # global
2024-03-07T01:32:21.8395992Z 
2024-03-07T01:32:21.8396130Z      ActiveModel::MissingAttributeError:
2024-03-07T01:32:21.8396575Z        can't write unknown attribute `barcode_count`
2024-03-07T01:32:21.8397137Z      # ./spec/models/organization_spec.rb:111:in `block (4 levels) in <top (required)>'
2024-03-07T01:32:21.8406714Z 
2024-03-07T01:32:21.8407128Z Finished in 47.28 seconds (files took 8.29 seconds to load)
2024-03-07T01:32:21.8408154Z 459 examples, 2 failures, 2 pending
2024-03-07T01:32:21.8408556Z 
2024-03-07T01:32:21.8408708Z Failed examples:
2024-03-07T01:32:21.8472588Z 
2024-03-07T01:32:21.8473899Z rspec ./spec/models/organization_spec.rb:113 # Organization Associations > barcode_items returns only this organization's barcodes, no globals
2024-03-07T01:32:21.8475960Z rspec ./spec/models/organization_spec.rb:117 # Organization Associations > barcode_items .all includes global barcode items also
2024-03-07T01:32:21.8477275Z 
2024-03-07T01:32:21.8477389Z Randomized with seed 60001
2024-03-07T01:32:21.8477591Z 
2024-03-07T01:32:22.3258898Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-07T01:32:22.3261086Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3642 / 6473 LOC (56.26%) covered.
2024-03-07T01:32:22.3803261Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/models/organization_spec.rb" "spec/models/kit_spec.rb" "spec/services/distribution_destroy_service_spec.rb" "spec/models/audit_spec.rb" "spec/services/partner_create_service_spec.rb" "spec/models/storage_location_spec.rb" "spec/services/transfer_destroy_service_spec.rb" "spec/queries/items_in_query_spec.rb" "spec/services/add_role_service_spec.rb" "spec/services/reports/summary_report_service_spec.rb" "spec/controllers/application_controller_spec.rb" "spec/models/request_item_spec.rb" "spec/services/remove_role_service_spec.rb" "spec/services/distribution_create_service_spec.rb" "spec/models/adjustment_spec.rb" "spec/services/reports/other_products_report_service_spec.rb" "spec/services/reports/period_supply_report_service_spec.rb" "spec/services/adjustment_create_service_spec.rb" "spec/models/purchase_spec.rb" "spec/jobs/partner_mailer_job_spec.rb" "spec/services/itemizable_update_service_spec.rb" "spec/models/account_request_spec.rb" "spec/services/partner_fetch_requestable_items_service_spec.rb" "spec/models/product_drive_participant_spec.rb" "spec/helpers/application_helper_spec.rb" "spec/services/reports/partner_info_report_service_spec.rb" "spec/services/calendar_service_spec.rb" "spec/services/donation_itemized_breakdown_service_spec.rb" "spec/services/distributions_by_county_report_service_spec.rb" "spec/jobs/historical_data_cache_job_spec.rb" "spec/models/line_item_spec.rb" "spec/services/historical_trend_service_spec.rb" "spec/models/partners/family_spec.rb" "spec/queries/items_out_query_spec.rb" "spec/models/donation_site_spec.rb" "spec/services/partners/family_request_create_service_spec.rb" "spec/pdfs/distribution_pdf_spec.rb" "spec/services/distribution_reminder_spec.rb" "spec/services/partner_profile_update_service_spec.rb" "spec/services/partners/request_approval_service_spec.rb" "spec/mailers/reminder_deadline_mailer_spec.rb" "spec/services/exports/export_donations_csv_service_spec.rb" "spec/services/exports/export_purchases_csv_service_spec.rb" "spec/models/question_spec.rb" "spec/models/broadcast_announcement_spec.rb" "spec/services/request_destroy_service_spec.rb" "spec/services/partners/update_family_spec.rb" "spec/models/inventory_item_spec.rb" "spec/models/partners/child_spec.rb" "spec/models/item_category_spec.rb" "spec/services/requests_total_items_service_spec.rb" "spec/models/partners/served_area_spec.rb" "spec/models/request_spec.rb" "spec/models/partners/authorized_family_member_spec.rb" "spec/models/partners/child_item_request_spec.rb" "spec/services/profile_update_service_spec.rb" "spec/jobs/reminder_deadline_job_spec.rb" "spec/services/donation_create_service_spec.rb" "spec/controllers/help_controller_spec.rb" "spec/helpers/product_drive_helper_spec.rb" "spec/services/distribution_content_change_service_spec.rb" "spec/lib/dispersed_past_dates_generator_spec.rb" "spec/models/kit_allocation_spec.rb" "spec/models/county_spec.rb" "spec/controllers/admins_controller_spec.rb" failed
2024-03-07T01:32:22.7683112Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-07T01:32:22.7685294Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10760 LOC (0.35%) covered.
2024-03-07T01:32:22.7938724Z ##[error]Process completed with exit code 1.
