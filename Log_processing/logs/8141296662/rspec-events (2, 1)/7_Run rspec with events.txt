2024-03-04T13:51:45.5941662Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-04T13:51:45.5942512Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-04T13:51:45.5970708Z shell: /usr/bin/bash -e {0}
2024-03-04T13:51:45.5971197Z env:
2024-03-04T13:51:45.5971516Z   POSTGRES_HOST: localhost
2024-03-04T13:51:45.5971917Z   DATABASE_HOST: localhost
2024-03-04T13:51:45.5972362Z   PG_USERNAME: postgres
2024-03-04T13:51:45.5972696Z   PG_PASSWORD: password
2024-03-04T13:51:45.5973090Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-04T13:51:45.5973565Z   POSTGRES_PORT: 5432
2024-03-04T13:51:45.5973930Z   PGHOST: localhost
2024-03-04T13:51:45.5974308Z   PGUSER: postgres
2024-03-04T13:51:45.5975127Z   RAILS_ENV: test
2024-03-04T13:51:45.5975512Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-04T13:51:45.5975949Z   KNAPSACK_PRO_CI_NODE_TOTAL: 2
2024-03-04T13:51:45.5976416Z   KNAPSACK_PRO_CI_NODE_INDEX: 1
2024-03-04T13:51:45.5976842Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-04T13:51:45.5977489Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-04T13:51:45.5978180Z   KNAPSACK_PRO_TEST_FILE_EXCLUDE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-04T13:51:45.5979082Z   EVENTS_READ: true
2024-03-04T13:51:45.5979461Z ##[endgroup]
2024-03-04T13:51:51.5808090Z W, [2024-03-04T13:51:51.580415 #2289]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-04T13:51:51.5810561Z W, [2024-03-04T13:51:51.580481 #2289]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-04T13:51:51.5813093Z W, [2024-03-04T13:51:51.580497 #2289]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-04T13:51:51.5818999Z W, [2024-03-04T13:51:51.580521 #2289]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-04T13:51:54.1887573Z W, [2024-03-04T13:51:54.188403 #2289]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-04T13:51:54.1889329Z W, [2024-03-04T13:51:54.188453 #2289]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-04T13:51:54.1891086Z W, [2024-03-04T13:51:54.188476 #2289]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-04T13:51:54.1893658Z W, [2024-03-04T13:51:54.188532 #2289]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-04T13:51:54.1960063Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/models/adjustment_spec.rb" "spec/models/barcode_item_spec.rb" "spec/models/broadcast_announcement_spec.rb" "spec/models/county_spec.rb" "spec/models/donation_site_spec.rb" "spec/models/event_spec.rb" "spec/models/item_category_spec.rb" "spec/models/kit_allocation_spec.rb" "spec/models/line_item_spec.rb" "spec/models/ndbn_member_spec.rb" "spec/models/organization_stats_spec.rb" "spec/models/partner_spec.rb" "spec/models/partners/child_item_request_spec.rb" "spec/models/partners/family_spec.rb" "spec/models/partners/profile_spec.rb" "spec/models/product_drive_participant_spec.rb" "spec/models/purchase_spec.rb" "spec/models/request_item_spec.rb" "spec/models/role_spec.rb" "spec/models/transfer_spec.rb" "spec/models/users_role_spec.rb" "spec/models/view/inventory_spec.rb" "spec/controllers/application_controller_spec.rb" "spec/controllers/donation_sites_controller_spec.rb" "spec/controllers/help_controller_spec.rb" "spec/controllers/transfers_controller_spec.rb" "spec/events/inventory_aggregate_spec.rb" "spec/helpers/historical_trends_helper_spec.rb" "spec/helpers/ui_helper_spec.rb" "spec/jobs/notify_partner_job_spec.rb" "spec/jobs/reminder_deadline_job_spec.rb" "spec/mailers/account_request_mailer_spec.rb" "spec/mailers/distribution_mailer_spec.rb" "spec/mailers/partner_mailer_spec.rb" "spec/mailers/request_mailer_spec.rb" "spec/mailers/user_mailer_spec.rb" "spec/queries/items_in_query_spec.rb" "spec/queries/items_out_query_spec.rb" "spec/routing/account_requests_routing_spec.rb" "spec/services/adjustment_create_service_spec.rb" "spec/services/calendar_service_spec.rb" "spec/services/deallocate_kit_inventory_service_spec.rb" "spec/services/distribution_create_service_spec.rb" "spec/services/distribution_itemized_breakdown_service_spec.rb" "spec/services/distribution_update_service_spec.rb" "spec/services/donation_create_service_spec.rb" "spec/services/donation_itemized_breakdown_service_spec.rb" "spec/services/exports/export_donations_csv_service_spec.rb" "spec/services/exports/export_report_csv_service_spec.rb" "spec/services/historical_trend_service_spec.rb" "spec/services/item_create_service_spec.rb" "spec/services/kit_create_service_spec.rb" "spec/services/partner_approval_service_spec.rb" "spec/services/partner_fetch_requestable_items_service_spec.rb" "spec/services/partner_profile_update_service_spec.rb" "spec/services/partners/family_request_create_service_spec.rb" "spec/services/partners/request_approval_service_spec.rb" "spec/services/partners/update_family_spec.rb" "spec/services/remove_role_service_spec.rb" "spec/services/reports/adult_incontinence_report_service_spec.rb" "spec/services/reports/other_products_report_service_spec.rb" "spec/services/reports/period_supply_report_service_spec.rb" "spec/services/reports/warehouse_report_service_spec.rb" "spec/services/requests_total_items_service_spec.rb" "spec/services/sync_ndbn_members_spec.rb" "spec/services/transfer_destroy_service_spec.rb"
2024-03-04T13:52:03.1624989Z 
2024-03-04T13:52:03.1625903Z Randomized with seed 55217
2024-03-04T13:52:04.0026750Z 
2024-03-04T13:52:04.0027588Z HistoricalTrendsHelper
2024-03-04T13:52:04.0028791Z   #last_12_months
2024-03-04T13:52:04.0251967Z     returns the last 12 months starting from Feb when the current month is Jan
2024-03-04T13:52:04.0302111Z     returns the last 12 months starting from July when the current month is June
2024-03-04T13:52:04.0345340Z     returns the last 12 months starting from Jan when the current month is Dec
2024-03-04T13:52:04.0346431Z 
2024-03-04T13:52:04.0346701Z Reports::WarehouseReportService
2024-03-04T13:52:04.0347836Z   #report
2024-03-04T13:52:04.3956496Z     should print normal values
2024-03-04T13:52:04.5740590Z     should print zero values
2024-03-04T13:52:04.7531959Z     should print unknown square footage
2024-03-04T13:52:05.1375506Z     should print unknown warehouse type
2024-03-04T13:52:05.1376131Z 
2024-03-04T13:52:05.1376635Z DonationSitesController
2024-03-04T13:52:05.1379034Z   While not signed in
2024-03-04T13:52:05.1550172Z     redirects the user to the sign-in page for CRUD actions (FAILED - 1)
2024-03-04T13:52:05.1551077Z   While signed in
2024-03-04T13:52:05.1551567Z     GET #index
2024-03-04T13:52:05.1780857Z       returns http success
2024-03-04T13:52:05.1781626Z     GET #edit
2024-03-04T13:52:05.1842860Z       returns http success (FAILED - 2)
2024-03-04T13:52:05.1843882Z     GET #show
2024-03-04T13:52:05.1902099Z       returns http success (FAILED - 3)
2024-03-04T13:52:05.1902978Z     Looking at a different organization
2024-03-04T13:52:05.3638650Z       redirects the user to the sign-in page for CRUD actions (FAILED - 4)
2024-03-04T13:52:05.3639844Z     GET #new
2024-03-04T13:52:05.3768466Z       returns http success
2024-03-04T13:52:05.3769106Z     POST #import_csv
2024-03-04T13:52:05.3769669Z       behaves like csv import
2024-03-04T13:52:05.3770529Z         with a csv file
2024-03-04T13:52:05.4005528Z           presents a flash notice message (FAILED - 5)
2024-03-04T13:52:05.4151257Z           redirects to :index (FAILED - 6)
2024-03-04T13:52:05.4207735Z           invokes .import_csv
2024-03-04T13:52:05.4208539Z         without a csv file
2024-03-04T13:52:05.4324755Z           presents a flash error message
2024-03-04T13:52:05.4449496Z           redirects to :index
2024-03-04T13:52:05.4450484Z         csv file with wrong headers
2024-03-04T13:52:05.4589046Z           presents a flash error message
2024-03-04T13:52:05.4713342Z           redirects to :index
2024-03-04T13:52:05.4714366Z     DELETE #destroy
2024-03-04T13:52:05.4775479Z       returns http success (FAILED - 7)
2024-03-04T13:52:05.4776218Z 
2024-03-04T13:52:05.4776593Z Partners::ChildItemRequest
2024-03-04T13:52:05.4778106Z   #ordered_item_diaperid
2024-03-04T13:52:05.4909451Z     should return the item_id on the item_request
2024-03-04T13:52:05.4910301Z   #quantity
2024-03-04T13:52:05.4955712Z     should return the quantity divided by the number of children
2024-03-04T13:52:05.4956663Z   versioning
2024-03-04T13:52:05.4993410Z     is expected to be versioned
2024-03-04T13:52:05.4994337Z   associations
2024-03-04T13:52:05.5043460Z     is expected to belong to child required: true
2024-03-04T13:52:05.5083982Z     is expected to belong to authorized_family_member optional: true
2024-03-04T13:52:05.5126235Z     is expected to belong to item_request required: true
2024-03-04T13:52:05.5126862Z 
2024-03-04T13:52:05.5127163Z HelpController
2024-03-04T13:52:05.5128097Z   While signed in as a normal user >
2024-03-04T13:52:05.5129305Z     GET #show
2024-03-04T13:52:05.5221980Z       does not display help page when the user logs out
2024-03-04T13:52:05.5362854Z       returns http success
2024-03-04T13:52:05.5363915Z 
2024-03-04T13:52:05.5364560Z DistributionUpdateService
2024-03-04T13:52:05.5365247Z   call
2024-03-04T13:52:05.6881111Z     replaces a big distribution with a smaller one, resulting in increased stored quantities
2024-03-04T13:52:05.6882174Z   resend_notification?
2024-03-04T13:52:05.7793177Z     changes the delivery_method, resulting in resend_notification? = true
2024-03-04T13:52:05.8714228Z     changes the issue_date, resulting in resend_notification? = true
2024-03-04T13:52:05.9711091Z     changes any distribution content, resulting in resend_notification? = true
2024-03-04T13:52:05.9713579Z 
2024-03-04T13:52:05.9713831Z View::Inventory
2024-03-04T13:52:05.9714412Z   .items_for_location
2024-03-04T13:52:06.0650999Z     should return the right values
2024-03-04T13:52:06.0652161Z     with include_omitted_items
2024-03-04T13:52:06.1561298Z       should add items not in the storage location
2024-03-04T13:52:06.1561980Z   #items_for_location
2024-03-04T13:52:06.2491090Z     should return the right values
2024-03-04T13:52:06.2491717Z     with include_omitted_items
2024-03-04T13:52:06.3377514Z       should add items not in the storage location
2024-03-04T13:52:06.3378274Z   .total_inventory
2024-03-04T13:52:06.4240431Z     should return the total quantity
2024-03-04T13:52:06.4240986Z   #total_value_in_dollars
2024-03-04T13:52:06.5142381Z     should return total value across the given location
2024-03-04T13:52:06.5143563Z   #storage_location_name
2024-03-04T13:52:06.6022464Z     should return the right name
2024-03-04T13:52:06.6023587Z   #quantity_for
2024-03-04T13:52:06.6024149Z     with storage location but no item id
2024-03-04T13:52:06.6920351Z       should return all items at that location
2024-03-04T13:52:06.6921335Z     with item id
2024-03-04T13:52:06.6921817Z       with storage location
2024-03-04T13:52:06.8183105Z         should return the quantity at that location
2024-03-04T13:52:06.8183985Z       with no storage location
2024-03-04T13:52:06.9080253Z         should return quantities across all storage locations
2024-03-04T13:52:06.9081274Z   #all_items
2024-03-04T13:52:06.9970774Z     should return all items across storage locations
2024-03-04T13:52:06.9971380Z   #storage_locations_for_item
2024-03-04T13:52:07.0917240Z     should return all relevant IDs
2024-03-04T13:52:07.0917888Z 
2024-03-04T13:52:07.0918118Z Exports::ExportDonationsCSVService
2024-03-04T13:52:07.0918790Z   #generate_csv_data
2024-03-04T13:52:07.1245611Z     should match the expected content for the csv (FAILED - 8)
2024-03-04T13:52:07.1246196Z 
2024-03-04T13:52:07.1246521Z Reports::AdultIncontinenceReportService
2024-03-04T13:52:07.1247242Z   #report
2024-03-04T13:52:07.3244848Z     should report zero values
2024-03-04T13:52:07.3245439Z     with values
2024-03-04T13:52:07.9499969Z       should handle null distribution quantity
2024-03-04T13:52:08.5849721Z       should report normal values
2024-03-04T13:52:08.5850506Z 
2024-03-04T13:52:08.5850690Z TransfersController
2024-03-04T13:52:08.5851670Z   While not signed in
2024-03-04T13:52:08.6095353Z     redirects the user to the sign-in page for CRUD actions
2024-03-04T13:52:08.6096598Z   While signed in
2024-03-04T13:52:08.6096944Z     GET #new
2024-03-04T13:52:08.6254973Z       returns http success
2024-03-04T13:52:08.6255783Z     POST #create
2024-03-04T13:52:08.6415901Z       renders to #new when failing
2024-03-04T13:52:08.6872982Z       redirects to #show when successful
2024-03-04T13:52:08.6873637Z     GET #show
2024-03-04T13:52:08.7151723Z       returns http success
2024-03-04T13:52:08.7152766Z     GET #index
2024-03-04T13:52:08.7294190Z       returns http success
2024-03-04T13:52:08.7295238Z       when filtering by date
2024-03-04T13:52:08.7296136Z         when date parameters are supplied
2024-03-04T13:52:08.7745454Z           only returns the correct obejects
2024-03-04T13:52:08.7746055Z         when date parameters are not supplied
2024-03-04T13:52:08.8147074Z           returns all objects
2024-03-04T13:52:08.8147988Z     Looking at a different organization
2024-03-04T13:52:08.9985621Z       redirects the user to the sign-in page for CRUD actions
2024-03-04T13:52:08.9986401Z 
2024-03-04T13:52:08.9986700Z ItemCategory
2024-03-04T13:52:08.9987461Z   validations
2024-03-04T13:52:09.0263769Z     is expected to validate that :name is case-sensitively unique within the scope of :organization_id
2024-03-04T13:52:09.0351939Z     is expected to validate that :organization cannot be empty/falsy
2024-03-04T13:52:09.0443293Z     is expected to validate that :name cannot be empty/falsy
2024-03-04T13:52:09.0519370Z     is expected to validate that the length of :description is at most 250
2024-03-04T13:52:09.0520450Z   assocations
2024-03-04T13:52:09.0588280Z     is expected to have and belong to many partner_groups
2024-03-04T13:52:09.0630475Z     is expected to have many items
2024-03-04T13:52:09.0682425Z     is expected to belong to organization required: true
2024-03-04T13:52:09.0683613Z   versioning
2024-03-04T13:52:09.0722002Z     is expected to be versioned
2024-03-04T13:52:09.0722885Z 
2024-03-04T13:52:09.0723533Z TransferDestroyService
2024-03-04T13:52:09.0724353Z   #call
2024-03-04T13:52:09.0725575Z     because transfer should not be deleted
2024-03-04T13:52:09.2618559Z       should return an OpenStruct with the raised error
2024-03-04T13:52:09.2619425Z     when there are no issues
2024-03-04T13:52:09.4614670Z       should execute the expected methods
2024-03-04T13:52:09.6606482Z       should return an OpenStruct with success? set to true
2024-03-04T13:52:09.6607256Z     when an issue occurs in transaction
2024-03-04T13:52:09.6608209Z       because the transfer_id does not match any Transfer
2024-03-04T13:52:09.8536171Z         should return a OpenStruct with an ActiveRecord::RecordNotFound error
2024-03-04T13:52:09.8537226Z       because the transfer destroy raised an error
2024-03-04T13:52:10.0481317Z         should return a OpenStruct with the raised error
2024-03-04T13:52:10.0482227Z       because undoing the transfer inventory changes by decreasing the inventory of `to` failed
2024-03-04T13:52:10.2462085Z         should return a OpenStruct with the raised error
2024-03-04T13:52:10.2463440Z       because undoing the transfer inventory changes by increasing the inventory of `from` failed
2024-03-04T13:52:10.4350984Z         should return a OpenStruct with the raised error
2024-03-04T13:52:10.4352258Z 
2024-03-04T13:52:10.4352604Z Partner
2024-03-04T13:52:10.4355237Z   #profile
2024-03-04T13:52:10.4623655Z     should return the associated Partners::Profile record
2024-03-04T13:52:10.4624563Z   changing emails
2024-03-04T13:52:10.4917777Z     should call the UserInviteService.invite when the partner has status invited and the email is changed
2024-03-04T13:52:10.5201689Z     should not call the UserInviteService.invite when the partner has status deactivated and the email is changed
2024-03-04T13:52:10.5476328Z     should call the UserInviteService.invite when the partner has status approved and the email is changed
2024-03-04T13:52:10.5823288Z     should not call the UserInviteService.invite when the partner is changing email to previously used email
2024-03-04T13:52:10.6115721Z     should call the UserInviteService.invite when the partner has status recertification_required and the email is changed
2024-03-04T13:52:10.6390026Z     should not call the UserInviteService.invite when the partner has status uninvited and the email is changed
2024-03-04T13:52:10.6673464Z     should call the UserInviteService.invite when the partner has status awaiting_review and the email is changed
2024-03-04T13:52:10.6674462Z   #deactivated?
2024-03-04T13:52:10.6675069Z     when the status is 'deactivated'
2024-03-04T13:52:10.6724173Z       should return true
2024-03-04T13:52:10.6725121Z     when the status is not 'deactivated'
2024-03-04T13:52:10.6766925Z       should return false
2024-03-04T13:52:10.6767856Z   versioning
2024-03-04T13:52:10.6806191Z     is expected to be versioned
2024-03-04T13:52:10.6807167Z   #approvable?
2024-03-04T13:52:10.6807838Z     when status is not invited or awaiting_review
2024-03-04T13:52:10.6901681Z       should return false
2024-03-04T13:52:10.6902681Z     when status is invited
2024-03-04T13:52:10.6946609Z       should return true
2024-03-04T13:52:10.6947365Z     when status is awaiting_review
2024-03-04T13:52:10.6990959Z       should return true
2024-03-04T13:52:10.6991665Z   import_csv
2024-03-04T13:52:10.9170373Z     imports partners from a csv file and prevents multiple imports
2024-03-04T13:52:11.2276698Z     imports partners from a csv file with BOM encodings
2024-03-04T13:52:11.2277861Z   callbacks
2024-03-04T13:52:11.2494839Z     properly downcases email
2024-03-04T13:52:11.2495618Z   #quantity_year_to_date
2024-03-04T13:52:11.4320477Z     includes all item quantities from distributions issued during the current year
2024-03-04T13:52:11.6370225Z     does not include quantities from distributions issued during the previous year
2024-03-04T13:52:11.6371515Z   #deletable?
2024-03-04T13:52:11.6371943Z     when status is not uninvited
2024-03-04T13:52:11.6461005Z       should return false
2024-03-04T13:52:11.6462357Z     when status is uninvited
2024-03-04T13:52:11.6463061Z       when it has no other associations
2024-03-04T13:52:11.6614318Z         should return true
2024-03-04T13:52:11.6615566Z       when it has a request
2024-03-04T13:52:11.6849517Z         should return false
2024-03-04T13:52:11.6850453Z       when it has a profile and users
2024-03-04T13:52:11.7124822Z         should return false
2024-03-04T13:52:11.7125513Z       when it has a profile but no users
2024-03-04T13:52:11.7295623Z         should return true
2024-03-04T13:52:11.7296276Z       when it has a distribution
2024-03-04T13:52:11.7457633Z         should return false
2024-03-04T13:52:11.7458571Z   #impact_metrics
2024-03-04T13:52:11.7459327Z     when partner has related information
2024-03-04T13:52:11.8255630Z       is expected to eq {:children_served=>4, :families_served=>3, :family_zipcodes=>2, :family_zipcodes_list=>["45612-123", "45612-126"]}
2024-03-04T13:52:11.8258015Z     when partner don't have any related information
2024-03-04T13:52:11.8524408Z       is expected to eq {:children_served=>0, :families_served=>0, :family_zipcodes=>0, :family_zipcodes_list=>[]}
2024-03-04T13:52:11.8525853Z   Filters
2024-03-04T13:52:11.8526211Z     by_status
2024-03-04T13:52:11.8975322Z       yields deactivated partner when deactivated status provided
2024-03-04T13:52:11.9403775Z       yields partners with the provided status
2024-03-04T13:52:11.9404682Z   ActiveStorage validation
2024-03-04T13:52:11.9537879Z     validates that attachments are pdf or docs
2024-03-04T13:52:11.9538749Z   #csv_export_attributes
2024-03-04T13:52:11.9848669Z     includes contact person information from parnerbase
2024-03-04T13:52:11.9849499Z   associations
2024-03-04T13:52:11.9891221Z     is expected to have many requests
2024-03-04T13:52:11.9925559Z     is expected to have many requests
2024-03-04T13:52:11.9961520Z     is expected to have many users dependent => destroy
2024-03-04T13:52:11.9995868Z     is expected to have many children through families
2024-03-04T13:52:12.0054194Z     is expected to belong to partner_group optional: true
2024-03-04T13:52:12.0092347Z     is expected to have many requestable_items through item_categories source => items
2024-03-04T13:52:12.0128142Z     is expected to have many item_categories through partner_group
2024-03-04T13:52:12.0164025Z     is expected to have many families dependent => destroy
2024-03-04T13:52:12.0224827Z     is expected to belong to organization required: true
2024-03-04T13:52:12.0259762Z     is expected to have many distributions
2024-03-04T13:52:12.0260454Z     primary_user
2024-03-04T13:52:12.0562080Z       should return the first user ever created for a partner
2024-03-04T13:52:12.0563015Z   Validations >
2024-03-04T13:52:12.0846310Z     still requires a unique email between organizations
2024-03-04T13:52:12.1167157Z     requires a unique email that is formatted correctly
2024-03-04T13:52:12.1461663Z     requires a unique name within an organization
2024-03-04T13:52:12.1517712Z     must belong to an organization
2024-03-04T13:52:12.1772309Z     does not require a unique name between organizations
2024-03-04T13:52:12.1867342Z     validates the quota is a number but it is not required
2024-03-04T13:52:12.1868372Z 
2024-03-04T13:52:12.1868688Z Reports::PeriodSupplyReportService
2024-03-04T13:52:12.1869474Z   #report
2024-03-04T13:52:12.3688774Z     should report zero values
2024-03-04T13:52:12.3689514Z     with values
2024-03-04T13:52:13.0356758Z       should report normal values
2024-03-04T13:52:13.0357247Z 
2024-03-04T13:52:13.0357499Z KitCreateService
2024-03-04T13:52:13.0358517Z   #call
2024-03-04T13:52:13.2477434Z     should return an the instance
2024-03-04T13:52:13.2478546Z     when the parameters provided are invalid
2024-03-04T13:52:13.2479389Z       because the kit_params is invalid for kit creation
2024-03-04T13:52:13.4408780Z         should have errors saying why the kit_params are invalid
2024-03-04T13:52:13.4409962Z       because the organization_id does not match any Organization
2024-03-04T13:52:13.4475813Z         should have an error on organization_id saying it does not match any Organization
2024-03-04T13:52:13.4476734Z     when the parameters are valid
2024-03-04T13:52:13.6474672Z       should create the new Item associated with the Kit
2024-03-04T13:52:13.8531185Z       should create a new Kit
2024-03-04T13:52:14.0508375Z       should create a new Item
2024-03-04T13:52:14.0509314Z       but the ItemCreationService is unsuccesful
2024-03-04T13:52:14.2449498Z         should not create a Item
2024-03-04T13:52:14.4368668Z         should not create the Kit
2024-03-04T13:52:14.6259141Z         should have an error that includes the error
2024-03-04T13:52:14.6259858Z       but an unexpected error gets raised
2024-03-04T13:52:14.8356750Z         should have an error that includes the raised error
2024-03-04T13:52:15.0412700Z         should not create the Kit
2024-03-04T13:52:15.2590934Z         should not create a Item
2024-03-04T13:52:15.2592065Z 
2024-03-04T13:52:15.2593351Z DonationCreateService
2024-03-04T13:52:15.2594325Z   #call
2024-03-04T13:52:15.2911661Z     should create the donation
2024-03-04T13:52:15.2914646Z 
2024-03-04T13:52:15.2915188Z InventoryAggregate
2024-03-04T13:52:15.2916293Z   multiple events
2024-03-04T13:52:15.5651656Z     should ignore unusable snapshots
2024-03-04T13:52:15.8914558Z     should handle intervening audits
2024-03-04T13:52:16.1558364Z     should handle changing storage location
2024-03-04T13:52:16.4267745Z     should handle timing correctly
2024-03-04T13:52:16.8533893Z     should process multiple events
2024-03-04T13:52:16.8535009Z   individual events
2024-03-04T13:52:17.1658379Z     should process a transfer event
2024-03-04T13:52:17.4503884Z     should process a snapshot event
2024-03-04T13:52:17.7614303Z     should process a kit allocation event
2024-03-04T13:52:18.0576398Z     should process a purchase event
2024-03-04T13:52:18.3832584Z     should process a transfer destroy event
2024-03-04T13:52:18.7215246Z     should process a distribution destroyed event
2024-03-04T13:52:19.0198388Z     should process a donation event after a new storage location is created
2024-03-04T13:52:19.3341315Z     should process an adjustment event
2024-03-04T13:52:19.6512344Z     should process a donation destroyed event
2024-03-04T13:52:19.9710175Z     should process an audit event
2024-03-04T13:52:20.2685197Z     should process a donation event
2024-03-04T13:52:20.5912489Z     should process a purchase destroyed event
2024-03-04T13:52:20.9164318Z     should process a distribution event
2024-03-04T13:52:21.3236413Z     should process a kit deallocation event
2024-03-04T13:52:21.3237339Z   validation
2024-03-04T13:52:21.3238192Z     current event is incorrect
2024-03-04T13:52:21.5786172Z       should raise a bare error
2024-03-04T13:52:21.5787409Z     subsequent event is incorrect
2024-03-04T13:52:21.8909423Z       should add the event to the message
2024-03-04T13:52:21.8910066Z 
2024-03-04T13:52:21.8910543Z PartnerMailer
2024-03-04T13:52:21.8911312Z   #application_approved
2024-03-04T13:52:21.9220897Z     should be sent to the partner main email with the correct subject line
2024-03-04T13:52:21.9506124Z     renders the body with text that indicates the result and a link to their dashboard
2024-03-04T13:52:21.9506916Z   #recertification_request
2024-03-04T13:52:21.9764671Z     renders the body with text that indicates to recertify and link to where
2024-03-04T13:52:22.0011198Z     should be sent to the partner main email with the correct subject line
2024-03-04T13:52:22.0011999Z 
2024-03-04T13:52:22.0012348Z BarcodeItem
2024-03-04T13:52:22.0013170Z   versioning
2024-03-04T13:52:22.0111296Z     is expected to be versioned
2024-03-04T13:52:22.0111994Z   Organization barcodes
2024-03-04T13:52:22.0255962Z     updates a counter in Item whenever it tracks a new barcode
2024-03-04T13:52:22.0257066Z     filters >
2024-03-04T13:52:22.0463771Z       ->item_id shows only barcodes for a specific item_id
2024-03-04T13:52:22.0464857Z     when searching for a barcode where there is a global and local with the same value
2024-03-04T13:52:22.0799488Z       favors the local barcode
2024-03-04T13:52:22.0800100Z     to_h >
2024-03-04T13:52:22.0925398Z       emits a hash for a line_item
2024-03-04T13:52:22.0926105Z     scopes >
2024-03-04T13:52:22.1144856Z       #by_item_partner_key returns barcodes that match the partner key
2024-03-04T13:52:22.3114685Z       ->for_csv_export will accept an organization and provide all barcodes for that org
2024-03-04T13:52:22.3236599Z       ->by_value returns the barcode with that value
2024-03-04T13:52:22.3237588Z     validations >
2024-03-04T13:52:22.3376713Z       does not enforce value uniqueness compared with the global scope
2024-03-04T13:52:22.3502097Z       allows multiple barcodes to point at the same item
2024-03-04T13:52:22.3661346Z       is valid only with an organization
2024-03-04T13:52:22.3826228Z       enforces value uniqueness within the organization
2024-03-04T13:52:22.4085189Z       does not enforces value uniqueness across organizations
2024-03-04T13:52:22.4188364Z       quantity >
2024-03-04T13:52:22.4188980Z         is an integer
2024-03-04T13:52:22.4285792Z         is not nil
2024-03-04T13:52:22.4384809Z         is not a negative number
2024-03-04T13:52:22.4385509Z       value >
2024-03-04T13:52:22.4484252Z         requires a value
2024-03-04T13:52:22.4484952Z       item >
2024-03-04T13:52:22.4583997Z         is invalid without an item associated with it
2024-03-04T13:52:22.4585300Z   Barcodes of BaseItems ('Global')
2024-03-04T13:52:22.4719025Z     updates a counter in BaseItem whenever it tracks a new barcode
2024-03-04T13:52:22.4725112Z     validations >
2024-03-04T13:52:22.4952075Z       enforces uniqueness in the global scope
2024-03-04T13:52:22.5118581Z       allows multiple barcodes to point at the same base item
2024-03-04T13:52:22.5326953Z       is valid with or without an organization
2024-03-04T13:52:22.5328017Z       quantity >
2024-03-04T13:52:22.5490130Z         is an integer
2024-03-04T13:52:22.5628506Z         is not a negative number
2024-03-04T13:52:22.5799850Z         is not nil
2024-03-04T13:52:22.5800501Z       item >
2024-03-04T13:52:22.6098217Z         is invalid without an item associated with it
2024-03-04T13:52:22.6099097Z       value >
2024-03-04T13:52:22.6207833Z         requires a value
2024-03-04T13:52:22.6208563Z     scopes >
2024-03-04T13:52:22.6210079Z       global
2024-03-04T13:52:22.6469413Z         includes all barcodes, for both base items and regular items
2024-03-04T13:52:22.6476109Z     filters >
2024-03-04T13:52:22.6777673Z       ->barcodeable_id shows only barcodes for a specific barcodeable_id
2024-03-04T13:52:22.7053047Z       #by_base_item_partner_key returns barcodes that match the partner key
2024-03-04T13:52:22.7260353Z       ->by_value returns the barcode with that value
2024-03-04T13:52:22.7261109Z 
2024-03-04T13:52:22.7261322Z ItemCreateService
2024-03-04T13:52:22.7263647Z   #call
2024-03-04T13:52:22.7264578Z     when an issue occurs in transaction
2024-03-04T13:52:22.7268734Z       because a inventory item creation failed and raised an error
2024-03-04T13:52:22.9598501Z         should return a OpenStruct with the raised error
2024-03-04T13:52:22.9599752Z       because the organization_id does not match any Organization
2024-03-04T13:52:23.1396803Z         should return a OpenStruct with an ActiveRecord::RecordNotFound error
2024-03-04T13:52:23.1398030Z       because the item create raised an error
2024-03-04T13:52:23.3186658Z         should return a OpenStruct with the raised error
2024-03-04T13:52:23.3187624Z     when there are no issues
2024-03-04T13:52:23.4985413Z       should return an OpenStruct with success? set to true and the item
2024-03-04T13:52:23.6766189Z       should execute the expected methods
2024-03-04T13:52:23.6766857Z 
2024-03-04T13:52:23.6769733Z DistributionItemizedBreakdownService
2024-03-04T13:52:23.6770447Z   #fetch_csv
2024-03-04T13:52:24.0869148Z     should output the expected output but in CSV format
2024-03-04T13:52:24.0869814Z   #fetch
2024-03-04T13:52:24.4750004Z     should include the break down of items distributed with onhand data
2024-03-04T13:52:24.4751211Z 
2024-03-04T13:52:24.4751482Z PartnerProfileUpdateService
2024-03-04T13:52:24.4751989Z   #call
2024-03-04T13:52:24.4753232Z     when there are no pre-existing served areas
2024-03-04T13:52:24.4754044Z       and the new values are incorrect
2024-03-04T13:52:24.5031731Z 0
2024-03-04T13:52:24.5042312Z         does not store the new values and returns a failure
2024-03-04T13:52:24.5042992Z       and the new values are correct
2024-03-04T13:52:24.5264455Z         stores the new values and returns success
2024-03-04T13:52:24.5265767Z         and there are other errors in the profile
2024-03-04T13:52:24.5538619Z           does not store the new values and it returns a failure
2024-03-04T13:52:24.5540054Z     when served area client shares pre-exist
2024-03-04T13:52:24.5541117Z       and the new values are incorrect
2024-03-04T13:52:24.5847922Z         maintains the old values and returns failure
2024-03-04T13:52:24.5848988Z       and the new values are correct
2024-03-04T13:52:24.5850089Z         and there are errors on the profile
2024-03-04T13:52:24.6155485Z           maintains the old values and returns failure
2024-03-04T13:52:24.6156704Z         and there are no other errors
2024-03-04T13:52:24.6501936Z           replaces the old values and returns success
2024-03-04T13:52:24.6502654Z 
2024-03-04T13:52:24.6502876Z NotifyPartnerJob
2024-03-04T13:52:24.6504125Z   #perform
2024-03-04T13:52:24.6561916Z     avoids exception when request doesn't exist
2024-03-04T13:52:24.6680911Z     is expected to call RequestsConfirmationMailer
2024-03-04T13:52:24.6682139Z     when the request's partner is deactivated
2024-03-04T13:52:24.6978273Z       does not send the confirmation email
2024-03-04T13:52:24.6978951Z 
2024-03-04T13:52:24.6979304Z AccountRequestsController
2024-03-04T13:52:24.6980123Z   routing
2024-03-04T13:52:24.7025380Z     routes to #new
2024-03-04T13:52:24.7063113Z     routes to #create
2024-03-04T13:52:24.7063773Z 
2024-03-04T13:52:24.7064390Z ReminderDeadlineJob
2024-03-04T13:52:24.7064948Z   #perform
2024-03-04T13:52:24.7314801Z     should queue up reminder deadline emails for all partners that should be reminded
2024-03-04T13:52:24.7316004Z 
2024-03-04T13:52:24.7316208Z RemoveRoleService
2024-03-04T13:52:24.7316617Z   #call
2024-03-04T13:52:24.7317336Z     when the role exists
2024-03-04T13:52:24.9374698Z       should remove the role
2024-03-04T13:52:25.1492570Z       should remove the admin role when removing user role
2024-03-04T13:52:25.3612353Z       should work with a type and ID instead of role ID
2024-03-04T13:52:25.5488514Z     when the role does not exist
2024-03-04T13:52:25.5489119Z       should raise an error
2024-03-04T13:52:25.5490542Z     when not enough information provided
2024-03-04T13:52:25.7436301Z       should raise an error
2024-03-04T13:52:25.7436856Z 
2024-03-04T13:52:25.7437357Z Partners::FamilyRequestCreateService
2024-03-04T13:52:25.7438108Z   #call
2024-03-04T13:52:25.7439282Z     when the arguments are correct
2024-03-04T13:52:25.7440287Z       with children
2024-03-04T13:52:25.8599178Z         should create the appropriate organization Request, Partners::ItemRequest and Partners::ChildItemRequests
2024-03-04T13:52:25.8600050Z       without children
2024-03-04T13:52:25.8916791Z         should send the correct request payload to the Partners::RequestCreateService and call it
2024-03-04T13:52:25.8917720Z     when the arguments are incorrect
2024-03-04T13:52:25.8918228Z       because no family_requests_attributes were defined
2024-03-04T13:52:25.9166293Z         should return the Partners::FamilyRequestCreateService object with an error
2024-03-04T13:52:25.9167086Z       because a unrecognized item_id was provided
2024-03-04T13:52:25.9421796Z         should return the Partners::FamilyRequestCreateService object with an error
2024-03-04T13:52:25.9422761Z 
2024-03-04T13:52:25.9422968Z CalendarService
2024-03-04T13:52:26.0615647Z   #time_zones
2024-03-04T13:52:26.0616635Z   .calendar
2024-03-04T13:52:26.1283204Z     should print the calendar correctly
2024-03-04T13:52:26.1283846Z 
2024-03-04T13:52:26.1284120Z Partners::Family
2024-03-04T13:52:26.1285764Z   #total_children_count
2024-03-04T13:52:26.1347098Z     should return the family's total children count
2024-03-04T13:52:26.1347654Z   versioning
2024-03-04T13:52:26.1388078Z     is expected to be versioned
2024-03-04T13:52:26.1388832Z   #guardian_display_name
2024-03-04T13:52:26.1447742Z     should return the guardian's first and last name
2024-03-04T13:52:26.1448685Z   #create_authorized
2024-03-04T13:52:26.1764391Z     should include authorized family members
2024-03-04T13:52:26.1765086Z   validations
2024-03-04T13:52:26.1861824Z     is expected to validate that :guardian_first_name cannot be empty/falsy
2024-03-04T13:52:26.1951702Z     is expected to validate that :guardian_last_name cannot be empty/falsy
2024-03-04T13:52:26.2039691Z     is expected to validate that :guardian_zip_code cannot be empty/falsy
2024-03-04T13:52:26.2041213Z   #search_non_archived
2024-03-04T13:52:26.3090016Z     should return all families if one is passed in
2024-03-04T13:52:26.4070620Z     should return non-archived families if zero is passed in
2024-03-04T13:52:26.4071572Z   associations
2024-03-04T13:52:26.4116391Z     is expected to have many children dependent => destroy
2024-03-04T13:52:26.4155609Z     is expected to have many authorized_family_members dependent => destroy
2024-03-04T13:52:26.4198456Z     is expected to belong to partner required: true
2024-03-04T13:52:26.4199076Z 
2024-03-04T13:52:26.4199340Z Partners::UpdateFamily
2024-03-04T13:52:26.4200179Z   #call
2024-03-04T13:52:26.4201427Z     when an error occurs during archiving
2024-03-04T13:52:26.4596954Z       does not archive the family or its children and adds error to the service
2024-03-04T13:52:26.4598076Z     when family has children
2024-03-04T13:52:26.5018942Z       archives the family and its children
2024-03-04T13:52:26.5019646Z 
2024-03-04T13:52:26.5019894Z ProductDriveParticipant
2024-03-04T13:52:26.5021202Z   Validations
2024-03-04T13:52:26.5157310Z     is invalid unless it has either a phone number or an email
2024-03-04T13:52:26.5199170Z     is invalid without an organization
2024-03-04T13:52:26.5199951Z   versioning
2024-03-04T13:52:26.5238454Z     is expected to be versioned
2024-03-04T13:52:26.5239137Z   behaves like provideable
2024-03-04T13:52:26.5240128Z     import_csv
2024-03-04T13:52:26.7095938Z       imports from a csv file
2024-03-04T13:52:26.7096577Z     geocode
2024-03-04T13:52:26.7160952Z       adds coordinates to the database
2024-03-04T13:52:26.7161500Z     Validations
2024-03-04T13:52:26.7225876Z       is invalid unless it has either a contact name or a business name
2024-03-04T13:52:26.7266420Z       is invalid without an organization
2024-03-04T13:52:26.7267115Z   Methods
2024-03-04T13:52:26.7268070Z     volume_by_product_drive
2024-03-04T13:52:26.8935817Z       retrieves the amount of product that has been donated through specific product drive
2024-03-04T13:52:26.8937031Z     volume
2024-03-04T13:52:26.9635033Z       retrieves the amount of product that has been donated by participant
2024-03-04T13:52:26.9636159Z     donation_source_view
2024-03-04T13:52:26.9636795Z       contact name present
2024-03-04T13:52:26.9704025Z         is expected to eq "Contact Name (participant)"
2024-03-04T13:52:26.9704861Z       no contact name
2024-03-04T13:52:26.9766722Z         is expected to be nil
2024-03-04T13:52:26.9767700Z 
2024-03-04T13:52:26.9768189Z Exports::ExportReportCSVService
2024-03-04T13:52:26.9769046Z   .generate_csv_data
2024-03-04T13:52:26.9806294Z     creates CSV data including headers
2024-03-04T13:52:26.9840603Z     creates a CSV string
2024-03-04T13:52:26.9841475Z 
2024-03-04T13:52:26.9841774Z UsersRole
2024-03-04T13:52:26.9843004Z   #current_role_for
2024-03-04T13:52:26.9844111Z     for org admin
2024-03-04T13:52:27.0058640Z       should return org admin
2024-03-04T13:52:27.0059634Z     for partner user
2024-03-04T13:52:27.0205177Z       should return partner user
2024-03-04T13:52:27.0205753Z     for super admin
2024-03-04T13:52:27.0382821Z       should return super admin
2024-03-04T13:52:27.0383563Z     for org user
2024-03-04T13:52:27.0524633Z       should return org user
2024-03-04T13:52:27.0525410Z   versioning
2024-03-04T13:52:27.0566974Z     is expected to be versioned
2024-03-04T13:52:27.0567708Z 
2024-03-04T13:52:27.0568305Z PartnerFetchRequestableItemsService
2024-03-04T13:52:27.0569134Z   #call
2024-03-04T13:52:27.0718468Z     raises an error indiciating the partner does not exist with invalid id
2024-03-04T13:52:27.0719944Z     when the partner is not in any partner group
2024-03-04T13:52:27.1026310Z       is expected to be nil
2024-03-04T13:52:27.1027204Z       when the organization has items
2024-03-04T13:52:27.1562754Z         should return only active and visible items
2024-03-04T13:52:27.1893812Z         is expected to eq [#<Item id: 3253, name: "Item 1", category: nil, created_at: "2024-03-04 05:52:27.174389401 -0800", u... on_hand_recommended_quantity: nil, visible_to_partners: false, kit_id: nil, item_category_id: nil>]
2024-03-04T13:52:27.1896772Z       when the organization has no items
2024-03-04T13:52:27.2215004Z         should return no items
2024-03-04T13:52:27.2215852Z     org with any amount of items
2024-03-04T13:52:27.2217044Z       when the partner is in a partner group and has no items
2024-03-04T13:52:27.4459937Z         should return only active and visible items from partner
2024-03-04T13:52:27.4460981Z       when the partner is in a partner group and has items
2024-03-04T13:52:27.6811980Z         should return only active and visible items from partner
2024-03-04T13:52:27.6812765Z 
2024-03-04T13:52:27.6812964Z NDBNMember
2024-03-04T13:52:27.6814022Z   versioning
2024-03-04T13:52:27.6880925Z     is expected to be versioned
2024-03-04T13:52:27.6881591Z   validations
2024-03-04T13:52:27.6952609Z     is expected to validate that :ndbn_member_id cannot be empty/falsy
2024-03-04T13:52:27.7027396Z     is expected to validate that :account_name cannot be empty/falsy
2024-03-04T13:52:27.7108326Z     is expected to validate that :ndbn_member_id is case-sensitively unique
2024-03-04T13:52:27.7113238Z   #full_name
2024-03-04T13:52:27.7151599Z     should equal the id and the account name
2024-03-04T13:52:27.7152295Z 
2024-03-04T13:52:27.7152928Z HistoricalTrendService
2024-03-04T13:52:27.7153809Z   #series
2024-03-04T13:52:28.0025015Z     returns an array of items with their monthly data
2024-03-04T13:52:28.0025833Z 
2024-03-04T13:52:28.0026132Z RequestItem
2024-03-04T13:52:28.0026617Z   Methods >
2024-03-04T13:52:28.0027422Z     #from_json
2024-03-04T13:52:28.2607007Z       has the correct amount on hand for location
2024-03-04T13:52:28.5160635Z       has the correct name
2024-03-04T13:52:28.7667594Z       has the correct quantity
2024-03-04T13:52:29.0374734Z       has the correct amount on hand
2024-03-04T13:52:29.0375474Z 
2024-03-04T13:52:29.0375903Z AccountRequestMailer
2024-03-04T13:52:29.0377285Z   #rejection
2024-03-04T13:52:29.0618812Z     should have the correct subject
2024-03-04T13:52:29.0756788Z     should include the rejection reason
2024-03-04T13:52:29.0887874Z     should be sent to the correct email address
2024-03-04T13:52:29.0888750Z     when the account_request_id provided does not match any AccountRequest
2024-03-04T13:52:29.0941109Z       should trigger raise a ActiveRecord::RecordNotFound error
2024-03-04T13:52:29.0942166Z   #confirmation
2024-03-04T13:52:29.1086499Z     should be sent to the specified account_request email
2024-03-04T13:52:29.1219404Z     should have the correct subject
2024-03-04T13:52:29.1358695Z     should be from no-reply@humanessentials.app
2024-03-04T13:52:29.1359371Z     Text format
2024-03-04T13:52:29.1503116Z       should include the instruction video link
2024-03-04T13:52:29.1657497Z       should include the button to confirm the request
2024-03-04T13:52:29.1801317Z       should include the staging/demo account information
2024-03-04T13:52:29.1802580Z     when the account_request_id provided does not match any AccountRequest
2024-03-04T13:52:29.1858090Z       should trigger raise a ActiveRecord::RecordNotFound error
2024-03-04T13:52:29.1859029Z     HTML format
2024-03-04T13:52:29.1998667Z       should include the instruction video link
2024-03-04T13:52:29.2133256Z       should include the button to confirm the request
2024-03-04T13:52:29.2267166Z       should include the staging/demo account information
2024-03-04T13:52:29.2268123Z   #approval_request
2024-03-04T13:52:29.2420720Z     should be sent to the info@humanessentials.app email address
2024-03-04T13:52:29.2575058Z     should include the admin link to reject the organization
2024-03-04T13:52:29.2729018Z     should include the admin link to create the new organization from the account request
2024-03-04T13:52:29.3046616Z     should include details of the account request
2024-03-04T13:52:29.3200084Z     should have the correct subject
2024-03-04T13:52:29.3201541Z     when the account_request_id provided does not match any AccountRequest
2024-03-04T13:52:29.3256072Z       should trigger raise a ActiveRecord::RecordNotFound error
2024-03-04T13:52:29.3257051Z 
2024-03-04T13:52:29.3257499Z DeallocateKitInventoryService
2024-03-04T13:52:29.3258762Z   #error
2024-03-04T13:52:29.3263255Z     when the storage location organization doesn't match
2024-03-04T13:52:29.5645105Z       returns error
2024-03-04T13:52:29.5645765Z   #deallocate
2024-03-04T13:52:29.5646647Z     when inventory items are available
2024-03-04T13:52:29.5647899Z       when  decrease_by is equal to kit's quantity in inventory_in
2024-03-04T13:52:29.9016283Z         increases the quantity of the loose items contained in the kit and decrease kit quantity, and delete inventory_in and inventory_out
2024-03-04T13:52:29.9018038Z       when kit_allocation not exist for inventory_in or inventory_out
2024-03-04T13:52:30.1882070Z         raises error about KitAllocation not found
2024-03-04T13:52:30.1883251Z       when decrease_by is less then kit's quantity in inventory_in
2024-03-04T13:52:30.5315585Z         will add items in inventory_out and remove kits for decrease_by from inventory_in
2024-03-04T13:52:30.5317888Z       when decrease_by is greater then kit's quantity in inventory_in
2024-03-04T13:52:30.8440885Z         raises error about inconsistent inventory in or out
2024-03-04T13:52:30.8441532Z 
2024-03-04T13:52:30.8441987Z Event
2024-03-04T13:52:30.8442933Z   #most_recent_snapshot
2024-03-04T13:52:31.0984350Z     should include the last usable snapshot
2024-03-04T13:52:31.3450979Z     should not include an unusable snapshot
2024-03-04T13:52:31.3451607Z 
2024-03-04T13:52:31.3451838Z ApplicationController
2024-03-04T13:52:31.3453648Z   current_partner
2024-03-04T13:52:31.3454672Z     As an org user
2024-03-04T13:52:31.3610664Z       should return nil
2024-03-04T13:52:31.3611709Z     As a partner user
2024-03-04T13:52:31.4173203Z       should return the first partner role
2024-03-04T13:52:31.4174100Z       with a changed current role
2024-03-04T13:52:31.4753900Z         should return the first partner role
2024-03-04T13:52:31.4754807Z   dashboard_path_from_current_role
2024-03-04T13:52:31.4755889Z     As a user without super admin status
2024-03-04T13:52:31.4976778Z       links to the general dashboard
2024-03-04T13:52:31.4977633Z     As a super admin
2024-03-04T13:52:31.5188475Z       links to the admin dashboard
2024-03-04T13:52:31.5189336Z   current_organization
2024-03-04T13:52:31.5189903Z     As an org user
2024-03-04T13:52:31.8987457Z       should return the first org role
2024-03-04T13:52:31.8988325Z       with a changed current role
2024-03-04T13:52:32.2765111Z         should return the first org role
2024-03-04T13:52:32.2765734Z     As a partner user
2024-03-04T13:52:32.2944170Z       should return nil
2024-03-04T13:52:32.2944944Z 
2024-03-04T13:52:32.2945460Z Role
2024-03-04T13:52:32.2988652Z   is expected to accepts_nested_attributes_for :users
2024-03-04T13:52:32.2989424Z   versioning
2024-03-04T13:52:32.3026872Z     is expected to be versioned
2024-03-04T13:52:32.3027485Z   Validations
2024-03-04T13:52:32.3081052Z     is expected to validate that :resource_type is either â€¹"Organization"â€º or â€¹"Partner"â€º
2024-03-04T13:52:32.3082211Z   Associations
2024-03-04T13:52:32.3145456Z     is expected to have and belong to many users
2024-03-04T13:52:32.3186467Z     is expected to belong to resource optional: true
2024-03-04T13:52:32.3187188Z 
2024-03-04T13:52:32.3187460Z DonationItemizedBreakdownService
2024-03-04T13:52:32.3188168Z   #fetch
2024-03-04T13:52:32.7212394Z     return the list of items donated with distributed
2024-03-04T13:52:32.7213123Z 
2024-03-04T13:52:32.7213338Z BroadcastAnnouncement
2024-03-04T13:52:32.7352575Z   should roughly check if link is valid
2024-03-04T13:52:32.7398144Z   is expected to belong to organization optional: true
2024-03-04T13:52:32.7446503Z   is expected to belong to user required: true
2024-03-04T13:52:32.7513734Z   should validate a good link
2024-03-04T13:52:32.7577396Z   is expected to validate that :message cannot be empty/falsy
2024-03-04T13:52:32.7647424Z   should validate a valid announcement
2024-03-04T13:52:32.7648350Z   versioning
2024-03-04T13:52:32.7700220Z     is expected to be versioned
2024-03-04T13:52:32.7701272Z   filter_announcements
2024-03-04T13:52:32.7857190Z     should include only announcements from the passed organization
2024-03-04T13:52:32.8010449Z     sorts announcements from most recently created to last
2024-03-04T13:52:32.8143700Z     shouldn't include expired announcements
2024-03-04T13:52:32.8144303Z   expired?
2024-03-04T13:52:32.8210195Z     should be true if the announcement is expired
2024-03-04T13:52:32.8271183Z     should be false if the announcement has not expired
2024-03-04T13:52:32.8271802Z 
2024-03-04T13:52:32.8272318Z Reports::OtherProductsReportService
2024-03-04T13:52:32.8273100Z   #report
2024-03-04T13:52:33.0048557Z     should report zero values
2024-03-04T13:52:33.6383154Z     should report normal values
2024-03-04T13:52:33.6383782Z 
2024-03-04T13:52:33.6384023Z AdjustmentCreateService
2024-03-04T13:52:33.6384828Z   call
2024-03-04T13:52:33.7390384Z     decreases stored inventory on a negative adjustment
2024-03-04T13:52:33.8007957Z     gives an error if we attempt to adjust inventory below 0
2024-03-04T13:52:33.8895254Z     saves a new adjustment with line items relating to the current (simple case) negative adjustment
2024-03-04T13:52:33.9771690Z     handles adjustments to multiple items
2024-03-04T13:52:34.0639999Z     increases stored inventory on a positive adjustment
2024-03-04T13:52:34.1555509Z     increases handles mixed adjustments to same appropriately (total is negative version)
2024-03-04T13:52:34.2188128Z     does not allow inventory to be adjusted below 0
2024-03-04T13:52:34.3092304Z     handles mixed adjustments to same item appropriately (total is positive version)
2024-03-04T13:52:34.3989833Z     saves a new adjustment with line items relating to the current (simple case) positive adjustment
2024-03-04T13:52:34.3990827Z 
2024-03-04T13:52:34.3991325Z County
2024-03-04T13:52:34.4033692Z   is expected to have many served_areas
2024-03-04T13:52:34.4074207Z   versioning
2024-03-04T13:52:34.4074995Z     is expected to be versioned
2024-03-04T13:52:34.4075485Z 
2024-03-04T13:52:34.4075674Z KitAllocation
2024-03-04T13:52:34.4078797Z   add some examples to (or delete) /home/runner/work/human-essentials/human-essentials/spec/models/kit_allocation_spec.rb (PENDING: Not yet implemented)
2024-03-04T13:52:34.4080581Z   versioning
2024-03-04T13:52:34.4117070Z     is expected to be versioned
2024-03-04T13:52:34.4117761Z 
2024-03-04T13:52:34.4118243Z DistributionMailer
2024-03-04T13:52:34.4119494Z   #partner_mailer
2024-03-04T13:52:34.4843495Z     renders the body with organization's email text
2024-03-04T13:52:34.5402864Z     renders the body with distributions text
2024-03-04T13:52:34.5403739Z     with distribution changes
2024-03-04T13:52:34.6044267Z       renders the body with changes that happened in the distribution
2024-03-04T13:52:34.6045562Z     with deliver_method: :pick_up
2024-03-04T13:52:34.6653039Z       renders the body with 'picked up' specified
2024-03-04T13:52:34.6654027Z       when parners profile pick_up_email is present
2024-03-04T13:52:34.7306141Z         sends email to the primary contact and partner`s pickup person
2024-03-04T13:52:34.7307402Z         when pickup person happens to be the same as the primary contact
2024-03-04T13:52:34.7960004Z           does not send email twice
2024-03-04T13:52:34.7960856Z     with deliver_method: :delivery
2024-03-04T13:52:34.8546156Z       renders the body with 'delivered' specified
2024-03-04T13:52:34.9103854Z       sends copy of email only to the partner
2024-03-04T13:52:34.9104791Z   #reminder_email
2024-03-04T13:52:34.9105773Z     with deliver_method: :delivery
2024-03-04T13:52:34.9710575Z       renders the body with 'delivery' specified
2024-03-04T13:52:34.9711138Z     with deliver_method: :pick_up
2024-03-04T13:52:35.0296475Z       renders the body with 'pick up' specified
2024-03-04T13:52:35.0297622Z     HTML format
2024-03-04T13:52:35.0848775Z       renders the body with organization's email text
2024-03-04T13:52:35.0849736Z     Text format
2024-03-04T13:52:35.1368422Z       renders the body with organization's email text
2024-03-04T13:52:35.1369265Z 
2024-03-04T13:52:35.1369487Z Transfer
2024-03-04T13:52:35.1370414Z   behaves like itemizable
2024-03-04T13:52:35.1371140Z     .to_a
2024-03-04T13:52:35.1371990Z       with Flipper flag :deprecate_to_a enabled
2024-03-04T13:52:35.1750132Z         raises an error
2024-03-04T13:52:35.1750865Z       with Flipper flag :deprecate_to_a disabled
2024-03-04T13:52:35.2133943Z         calls line_item_values
2024-03-04T13:52:35.2135526Z     .line_items
2024-03-04T13:52:35.2136175Z       quantities_by_name
2024-03-04T13:52:35.2643349Z         returns a hash of items with id, name, and quantity
2024-03-04T13:52:35.3165702Z         leaves out zero-quantitied items if requested
2024-03-04T13:52:35.3166304Z       total
2024-03-04T13:52:35.3700427Z         has an item total
2024-03-04T13:52:35.3703183Z       sorted
2024-03-04T13:52:35.4537388Z         displays the items, sorted by name
2024-03-04T13:52:35.4538599Z       combine!
2024-03-04T13:52:35.5032068Z         combines multiple line_items with the same item_id into a single record
2024-03-04T13:52:35.5310686Z         incrementally combines line_items on donations that have already been created
2024-03-04T13:52:35.5311895Z   Validations >
2024-03-04T13:52:35.5436603Z     must have different storage locations
2024-03-04T13:52:35.5689364Z     requires that each line item exists in the inventory
2024-03-04T13:52:35.7727922Z     must only use storage locations that belong to the organization (no hacks!)
2024-03-04T13:52:35.7856853Z     must have storage locations set
2024-03-04T13:52:35.8512925Z     requires that the line items must have sufficient quantity in the inventory
2024-03-04T13:52:35.8603917Z     must belong to an organization
2024-03-04T13:52:35.8604588Z   versioning
2024-03-04T13:52:35.8642966Z     is expected to be versioned
2024-03-04T13:52:35.8644009Z   Scopes >
2024-03-04T13:52:35.8878088Z     `from_location` can filter out transfers from a specific location
2024-03-04T13:52:35.9106825Z     `to_location` can filter out transfers to a specific location
2024-03-04T13:52:35.9107523Z   Methods >
2024-03-04T13:52:36.1203800Z     `self.storage_locations_transferred_to` and `..._from` constrains appropriately
2024-03-04T13:52:36.1204712Z 
2024-03-04T13:52:36.1205188Z OrganizationStats
2024-03-04T13:52:36.1206156Z   storage_locations_added method >
2024-03-04T13:52:36.1207291Z     current org is nil >
2024-03-04T13:52:36.1248385Z       should return 0
2024-03-04T13:52:36.1249006Z     current org is not nil >
2024-03-04T13:52:36.1288242Z       should return actual count of locations
2024-03-04T13:52:36.1289364Z   partners_added method >
2024-03-04T13:52:36.1290033Z     current org is not nil >
2024-03-04T13:52:36.1330823Z       should return actual count of partners
2024-03-04T13:52:36.1331654Z     current org is nil >
2024-03-04T13:52:36.1370580Z       should return 0
2024-03-04T13:52:36.1371497Z   donation_sites_added method >
2024-03-04T13:52:36.1372250Z     current org is nil >
2024-03-04T13:52:36.1409160Z       should return 0
2024-03-04T13:52:36.1412378Z     current org is not nil >
2024-03-04T13:52:36.1450704Z       should return actual count of donation sites
2024-03-04T13:52:36.1451563Z   locations_with_inventory method >
2024-03-04T13:52:36.1452515Z     current org is nil >
2024-03-04T13:52:36.1492375Z       should return an empty array
2024-03-04T13:52:36.1493450Z     current org is not nil + locations have items >
2024-03-04T13:52:36.1888391Z       should return storage location
2024-03-04T13:52:36.1889430Z     current org is not nil + no locations have items >
2024-03-04T13:52:36.1963705Z       should return an empty array
2024-03-04T13:52:36.1964520Z 
2024-03-04T13:52:36.1965216Z DistributionCreateService
2024-03-04T13:52:36.1966329Z   call
2024-03-04T13:52:36.2721459Z     returns a successful object with Scheduled distribution
2024-03-04T13:52:36.3721684Z     replaces a big distribution with a smaller one, resulting in increased stored quantities
2024-03-04T13:52:36.3722933Z     partner has send reminders setting set to true
2024-03-04T13:52:36.6820432Z       Sends a PartnerMailer
2024-03-04T13:52:36.6821053Z     when provided with a request ID
2024-03-04T13:52:36.8065823Z       changes the status of the request
2024-03-04T13:52:36.8066701Z       and the request already has a distribution associated with it
2024-03-04T13:52:36.8851966Z         should not be successful
2024-03-04T13:52:36.8852635Z     partner is deactivated
2024-03-04T13:52:36.9646324Z       does not send an email
2024-03-04T13:52:36.9646994Z     partner has send reminders setting set to false
2024-03-04T13:52:37.0414199Z       does not send a PartnerMailer
2024-03-04T13:52:37.0415134Z     when the line item quantity is not positive
2024-03-04T13:52:37.0976143Z       preserves the RecordInvalid error and is unsuccessful
2024-03-04T13:52:37.0977304Z     when there's not sufficient inventory
2024-03-04T13:52:37.1634777Z       preserves the Insufficiency error and is unsuccessful
2024-03-04T13:52:37.1635955Z     when it fails to save
2024-03-04T13:52:37.2186274Z       preserves the error and is unsuccessful
2024-03-04T13:52:37.2187495Z     when there's multiple line items and one has insufficient inventory
2024-03-04T13:52:37.2893115Z       preserves the Insufficiency error and is unsuccessful
2024-03-04T13:52:37.2893687Z 
2024-03-04T13:52:37.2893845Z DonationSite
2024-03-04T13:52:37.2895476Z   versioning
2024-03-04T13:52:37.2939861Z     is expected to be versioned
2024-03-04T13:52:37.2940374Z   geocode
2024-03-04T13:52:37.2991991Z     adds coordinates to the database
2024-03-04T13:52:37.2992684Z   Validations >
2024-03-04T13:52:37.3033214Z     must belong to an organization
2024-03-04T13:52:37.3078671Z     is invalid without an address
2024-03-04T13:52:37.3120581Z     is invalid without a name
2024-03-04T13:52:37.3121108Z   import_csv
2024-03-04T13:52:37.4871351Z     imports storage locations from a csv file (FAILED - 9)
2024-03-04T13:52:37.4871977Z 
2024-03-04T13:52:37.4872252Z Partners::RequestApprovalService
2024-03-04T13:52:37.4872789Z   #call
2024-03-04T13:52:37.4874054Z     when the partner is not yet awaiting approval
2024-03-04T13:52:37.5191065Z       should set the status on the partner record to awaiting_review
2024-03-04T13:52:37.5523821Z       should send an email notification to the partner's organization
2024-03-04T13:52:37.5524759Z     when the partner is already awaiting approval
2024-03-04T13:52:37.5810067Z       should return an error saying it the partner is already requested approval
2024-03-04T13:52:37.5811297Z     when the partner is not yet waiting for approval and there is a profile error
2024-03-04T13:52:37.6079738Z       should return an error re social media
2024-03-04T13:52:37.6080775Z       should return an error re agency_type (PENDING: Temporarily skipped with xit)
2024-03-04T13:52:37.6081643Z     when the partner is not yet waiting for approval and there is no profile error
2024-03-04T13:52:37.6402208Z       does not have an error
2024-03-04T13:52:37.6402898Z 
2024-03-04T13:52:37.6403121Z RequestsTotalItemsService
2024-03-04T13:52:37.6404264Z   #calculate
2024-03-04T13:52:37.6406001Z     when provided with requests that have no request items
2024-03-04T13:52:37.6492583Z       is expected to be blank
2024-03-04T13:52:37.6493201Z     when the request items is not blank
2024-03-04T13:52:37.6640237Z       return the names of items correctly
2024-03-04T13:52:37.6780335Z       return items with correct quantities calculated
2024-03-04T13:52:37.6781089Z     when provided requests is nil
2024-03-04T13:52:37.6819075Z       is expected to be blank
2024-03-04T13:52:37.6819641Z     when item name is nil
2024-03-04T13:52:37.6938894Z       return Unknown Item
2024-03-04T13:52:37.6939637Z 
2024-03-04T13:52:37.6939848Z RequestMailer
2024-03-04T13:52:37.6941288Z   #request_cancel_partner_notification
2024-03-04T13:52:37.7103354Z     should be sent to the partner main email with the correct subject line
2024-03-04T13:52:37.7246308Z     renders the body with correct text with partner information
2024-03-04T13:52:37.7247019Z 
2024-03-04T13:52:37.7247156Z User
2024-03-04T13:52:37.7248100Z   #send_reset_password_instructions
2024-03-04T13:52:37.7249201Z     user gets an email with instructions
2024-03-04T13:52:37.8208981Z       sends an email with instructions
2024-03-04T13:52:37.8209677Z   #role_added
2024-03-04T13:52:37.8584432Z     renders the body correctly
2024-03-04T13:52:37.8584992Z 
2024-03-04T13:52:37.8585258Z PartnerApprovalService
2024-03-04T13:52:37.8586077Z   #call
2024-03-04T13:52:37.8587159Z     when the arguments are correct
2024-03-04T13:52:37.8891333Z       should send an email notification to the partner
2024-03-04T13:52:37.9185763Z       should have no errors
2024-03-04T13:52:37.9505014Z       should change the partner status to approved
2024-03-04T13:52:37.9505807Z       but a unexpected error occured during the save
2024-03-04T13:52:37.9506251Z         for partner approval
2024-03-04T13:52:37.9772924Z           should not send an email notification to the partner
2024-03-04T13:52:38.0048919Z           should not change the partner status to approved
2024-03-04T13:52:38.0314592Z           should have an error with the raised error
2024-03-04T13:52:38.0315210Z     when the arguments are incorrect
2024-03-04T13:52:38.0315855Z       because the partner is not approvable
2024-03-04T13:52:38.0579378Z         should return the PartnerApprovalService object with an error
2024-03-04T13:52:38.0580012Z 
2024-03-04T13:52:38.0580270Z ItemsOutQuery
2024-03-04T13:52:38.0581402Z   items_out_query
2024-03-04T13:52:38.1872027Z     returns a collection with the fields name, item_id, quantity
2024-03-04T13:52:38.3097575Z     includes distributions, adjustments, transfers among sources
2024-03-04T13:52:38.3098276Z 
2024-03-04T13:52:38.3098422Z UiHelper
2024-03-04T13:52:38.3100085Z   optional_data_text
2024-03-04T13:52:38.3101217Z     when the field provided is blank
2024-03-04T13:52:38.3160852Z       should return the text Not-Provided in gray text
2024-03-04T13:52:38.3161658Z     when the field provided is not blank
2024-03-04T13:52:38.3217197Z       should return the content
2024-03-04T13:52:38.3219203Z 
2024-03-04T13:52:38.3219473Z LineItem
2024-03-04T13:52:38.3220678Z   Methods >
2024-03-04T13:52:38.3221644Z     #value_per_line_item
2024-03-04T13:52:38.3222561Z       item has no value
2024-03-04T13:52:38.3377777Z         is expected to eq 0
2024-03-04T13:52:38.3378357Z       item has value and quantity
2024-03-04T13:52:38.3581649Z         is expected to eq 25
2024-03-04T13:52:38.3582280Z     item packages
2024-03-04T13:52:38.3582768Z       #package_count
2024-03-04T13:52:38.3583658Z         has packages
2024-03-04T13:52:38.3782112Z           is expected to eq "1"
2024-03-04T13:52:38.3782747Z         does not have packages
2024-03-04T13:52:38.3930682Z           is expected to be falsy
2024-03-04T13:52:38.3931314Z       #has_packages
2024-03-04T13:52:38.3932026Z         item has no package size
2024-03-04T13:52:38.4079529Z           is expected to be falsy
2024-03-04T13:52:38.4080204Z         item has package size
2024-03-04T13:52:38.4280838Z           is expected to be truthy
2024-03-04T13:52:38.4281508Z   package_count
2024-03-04T13:52:38.4505494Z     is equal to the quanity divided by the package_size
2024-03-04T13:52:38.4719746Z     is nil if there is no package_size
2024-03-04T13:52:38.4720446Z   Validations >
2024-03-04T13:52:38.5720892Z     the quantity must be a valid integer and cannot be 0
2024-03-04T13:52:38.5824040Z     requires an item
2024-03-04T13:52:38.5978895Z     requires a quantity
2024-03-04T13:52:38.5979444Z   Scopes >
2024-03-04T13:52:38.5980111Z     ->active
2024-03-04T13:52:38.6346473Z       retrieves only those with active status
2024-03-04T13:52:38.6347166Z   versioning
2024-03-04T13:52:38.6390493Z     is expected to be versioned
2024-03-04T13:52:38.6392245Z 
2024-03-04T13:52:38.6392513Z Adjustment
2024-03-04T13:52:38.6394294Z   nested line item attributes
2024-03-04T13:52:38.6862648Z     accepts them
2024-03-04T13:52:38.6863146Z   Scopes >
2024-03-04T13:52:38.7043977Z     `by_user` can filter out adjustments to a specific user
2024-03-04T13:52:38.7241683Z     `at_location` can filter out adjustments to a specific location
2024-03-04T13:52:38.7242536Z   behaves like itemizable
2024-03-04T13:52:38.7244182Z     .line_items
2024-03-04T13:52:38.7245298Z       total
2024-03-04T13:52:38.7720982Z         has an item total
2024-03-04T13:52:38.7721396Z       combine!
2024-03-04T13:52:38.8294277Z         incrementally combines line_items on donations that have already been created
2024-03-04T13:52:38.8768496Z         combines multiple line_items with the same item_id into a single record
2024-03-04T13:52:38.8769085Z       sorted
2024-03-04T13:52:38.9405829Z         displays the items, sorted by name
2024-03-04T13:52:38.9406298Z       quantities_by_name
2024-03-04T13:52:38.9835748Z         returns a hash of items with id, name, and quantity
2024-03-04T13:52:39.0266409Z         leaves out zero-quantitied items if requested
2024-03-04T13:52:39.0267011Z     .to_a
2024-03-04T13:52:39.0267828Z       with Flipper flag :deprecate_to_a enabled
2024-03-04T13:52:39.0643909Z         raises an error
2024-03-04T13:52:39.0644394Z       with Flipper flag :deprecate_to_a disabled
2024-03-04T13:52:39.1033469Z         calls line_item_values
2024-03-04T13:52:39.1034088Z   versioning
2024-03-04T13:52:39.1073665Z     is expected to be versioned
2024-03-04T13:52:39.1074227Z   Methods >
2024-03-04T13:52:39.3088055Z     `self.storage_locations_adjusted_for` returns only storage_locations that are used in adjustments for one org
2024-03-04T13:52:39.3089200Z     split_difference
2024-03-04T13:52:39.3937692Z       returns two adjustment objects
2024-03-04T13:52:39.4751317Z       gracefully handles adjustments with only negative
2024-03-04T13:52:39.5695216Z       gracefully handles adjustments with only positive
2024-03-04T13:52:39.5695737Z   Validations >
2024-03-04T13:52:39.5795441Z     must belong to an organization
2024-03-04T13:52:39.6247730Z     allows you to remove all the inventory that exists in the storage location
2024-03-04T13:52:39.6440763Z     allows you to add inventory that doesn't yet exist in the storage location
2024-03-04T13:52:39.6441590Z 
2024-03-04T13:52:39.6441754Z ItemsInQuery
2024-03-04T13:52:39.6442136Z   items_in
2024-03-04T13:52:39.9380352Z     returns a collection with the fields name, item_id, quantity
2024-03-04T13:52:40.2199109Z     includes donations, purchases, adjustments, transfers among sources
2024-03-04T13:52:40.5690448Z     does not count negative adjustments towards in-flow
2024-03-04T13:52:40.9311490Z     does not count transfers going in the negative direction
2024-03-04T13:52:40.9312102Z 
2024-03-04T13:52:40.9312269Z Purchase
2024-03-04T13:52:40.9314243Z   versioning
2024-03-04T13:52:40.9356639Z     is expected to be versioned
2024-03-04T13:52:40.9357211Z   Associations >
2024-03-04T13:52:40.9357643Z     items >
2024-03-04T13:52:40.9570201Z       has_many
2024-03-04T13:52:40.9570753Z   Scopes >
2024-03-04T13:52:40.9571235Z     during >
2024-03-04T13:52:40.9842871Z       returns all purchases created between two dates
2024-03-04T13:52:40.9843607Z   Methods >
2024-03-04T13:52:40.9843966Z     remove
2024-03-04T13:52:41.0590673Z       fails gracefully if the item doesn't exist
2024-03-04T13:52:41.1316579Z       removes the item from the purchase
2024-03-04T13:52:41.1317243Z     storage_view
2024-03-04T13:52:41.2049454Z       returns name of storage location
2024-03-04T13:52:41.2050181Z   behaves like itemizable
2024-03-04T13:52:41.2050656Z     .line_items
2024-03-04T13:52:41.2051522Z       combine!
2024-03-04T13:52:41.2528053Z         combines multiple line_items with the same item_id into a single record
2024-03-04T13:52:41.3065204Z         incrementally combines line_items on donations that have already been created
2024-03-04T13:52:41.3065866Z       total
2024-03-04T13:52:41.3501511Z         has an item total
2024-03-04T13:52:41.3502029Z       sorted
2024-03-04T13:52:41.4124106Z         displays the items, sorted by name
2024-03-04T13:52:41.4124799Z       quantities_by_name
2024-03-04T13:52:41.4552997Z         returns a hash of items with id, name, and quantity
2024-03-04T13:52:41.4987191Z         leaves out zero-quantitied items if requested
2024-03-04T13:52:41.4988081Z     .to_a
2024-03-04T13:52:41.4988543Z       with Flipper flag :deprecate_to_a enabled
2024-03-04T13:52:41.5383938Z         raises an error
2024-03-04T13:52:41.5384781Z       with Flipper flag :deprecate_to_a disabled
2024-03-04T13:52:41.5792517Z         calls line_item_values
2024-03-04T13:52:41.5793167Z   Validations >
2024-03-04T13:52:41.5892568Z     ensures that the issued at is no earlier than 2000
2024-03-04T13:52:41.5989939Z     is valid if all categories add up to total
2024-03-04T13:52:41.6084873Z     is valid if categories have no values
2024-03-04T13:52:41.6173541Z     must belong to an organization
2024-03-04T13:52:41.6272550Z     is not valid if period supplies is non-zero but no other category is
2024-03-04T13:52:41.6473026Z     is invalid when the line items are invalid
2024-03-04T13:52:41.6657976Z     is not valid if any category is non-zero but does not add up to the total
2024-03-04T13:52:41.6756260Z     is not valid if categories do not add up
2024-03-04T13:52:41.6843171Z     requires an inventory (storage location)
2024-03-04T13:52:41.6843768Z   Callbacks >
2024-03-04T13:52:41.7058725Z     automatically combines duplicate line_item records when they're created
2024-03-04T13:52:41.7256150Z     inititalizes the issued_at field to default to midnight if it wasn't explicitly set
2024-03-04T13:52:41.7257069Z 
2024-03-04T13:52:41.7257396Z Partners::Profile
2024-03-04T13:52:41.7303552Z   must allow deleting served_areas
2024-03-04T13:52:41.7304263Z   associations
2024-03-04T13:52:41.7342941Z     is expected to have many served_areas
2024-03-04T13:52:41.7385846Z     is expected to have a has_many_attached called documents
2024-03-04T13:52:41.7426446Z     is expected to have a has_one_attached called proof_of_partner_status
2024-03-04T13:52:41.7467380Z     is expected to have a has_one_attached called proof_of_form_990
2024-03-04T13:52:41.7468629Z   request settings validation for profile
2024-03-04T13:52:41.7469601Z     at least one request type is set to true
2024-03-04T13:52:41.7550036Z       should be valid when enable_individual_requests is true
2024-03-04T13:52:41.7627533Z       should be valid when enable_child_based_requests is true
2024-03-04T13:52:41.7702388Z       should be valid when enable_quantity_based_requests is true
2024-03-04T13:52:41.7703173Z     no settings are set to true
2024-03-04T13:52:41.7755439Z       should not be valid
2024-03-04T13:52:41.7755976Z   client share behaviour
2024-03-04T13:52:41.7756950Z     no served areas
2024-03-04T13:52:41.7807918Z       has 0 client share
2024-03-04T13:52:41.7808383Z     multiple
2024-03-04T13:52:41.7978152Z       sums the client shares
2024-03-04T13:52:41.8140141Z       is valid if client share sum is 100
2024-03-04T13:52:41.8140775Z   versioning
2024-03-04T13:52:41.8181636Z     is expected to be versioned
2024-03-04T13:52:41.8182273Z   social media info validation for profile
2024-03-04T13:52:41.8183308Z     has social media presence and the checkbox is unchecked
2024-03-04T13:52:41.8271098Z       with just twitter it should be valid
2024-03-04T13:52:41.8352062Z       with just a website it should be valid
2024-03-04T13:52:41.8425438Z       with just instagram it should be valid
2024-03-04T13:52:41.8498741Z       with every social media option it should be valid
2024-03-04T13:52:41.8572593Z       with just facebook it should be valid
2024-03-04T13:52:41.8573394Z     no social media presence and the checkbox is checked
2024-03-04T13:52:41.8632731Z       should be valid
2024-03-04T13:52:41.8633654Z     no social media presence and the checkbox isn't checked
2024-03-04T13:52:41.8733287Z       should be valid if media_information is not needed
2024-03-04T13:52:41.8789713Z       should not be valid
2024-03-04T13:52:41.8790749Z 
2024-03-04T13:52:41.8791336Z SyncNDBNMembers
2024-03-04T13:52:41.8791901Z   .sync
2024-03-04T13:52:41.8792927Z     when the HTTP request is successful
2024-03-04T13:52:41.8793851Z       when there are no exisiting NDBN Member records
2024-03-04T13:52:41.9077475Z         should create the NDBN Member records
2024-03-04T13:52:41.9078243Z       when no new NDBN Member has been added
2024-03-04T13:52:41.9310433Z         should not add any new NDBN Members
2024-03-04T13:52:41.9311242Z       when the account name of a NDBN Member has changed
2024-03-04T13:52:41.9446785Z         should update the account name of the corresponding NDBN Member
2024-03-04T13:52:41.9447769Z     when the HTTP request does not get a response of 200
2024-03-04T13:52:41.9497607Z       should raise an error regarding the response code
2024-03-04T13:52:41.9721857Z W, [2024-03-04T05:52:41.971860 #2324]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-04T13:52:41.9723489Z W, [2024-03-04T05:52:41.971933 #2324]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-04T13:52:41.9725758Z W, [2024-03-04T05:52:41.971949 #2324]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-04T13:52:41.9729205Z W, [2024-03-04T05:52:41.971979 #2324]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-04T13:52:41.9730406Z 
2024-03-04T13:52:41.9731025Z Pending: (Failures listed here are expected and do not affect your suite's status)
2024-03-04T13:52:41.9731709Z 
2024-03-04T13:52:41.9732782Z   1) KitAllocation add some examples to (or delete) /home/runner/work/human-essentials/human-essentials/spec/models/kit_allocation_spec.rb
2024-03-04T13:52:41.9734088Z      # Not yet implemented
2024-03-04T13:52:41.9736505Z      # ./spec/models/kit_allocation_spec.rb:16
2024-03-04T13:52:41.9737129Z 
2024-03-04T13:52:41.9738291Z   2) Partners::RequestApprovalService#call when the partner is not yet waiting for approval and there is a profile error should return an error re agency_type
2024-03-04T13:52:41.9739879Z      # Temporarily skipped with xit
2024-03-04T13:52:41.9740734Z      # ./spec/services/partners/request_approval_service_spec.rb:28
2024-03-04T13:52:42.0046963Z 
2024-03-04T13:52:42.0047633Z Failures:
2024-03-04T13:52:42.0048009Z 
2024-03-04T13:52:42.0049313Z   1) DonationSitesController While not signed in redirects the user to the sign-in page for CRUD actions
2024-03-04T13:52:42.0050887Z      Failure/Error: let(:object) { create(:donation_site) }
2024-03-04T13:52:42.0051559Z 
2024-03-04T13:52:42.0051856Z      ActiveRecord::RecordInvalid:
2024-03-04T13:52:42.0053798Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:52:42.0056567Z      Shared Example Group: "requiring authorization" called from ./spec/controllers/donation_sites_controller_spec.rb:60
2024-03-04T13:52:42.0058633Z      # ./spec/controllers/donation_sites_controller_spec.rb:58:in `block (3 levels) in <top (required)>'
2024-03-04T13:52:42.0060040Z      # ./spec/support/authorization_specs.rb:3:in `block (2 levels) in <top (required)>'
2024-03-04T13:52:42.0060779Z 
2024-03-04T13:52:42.0061221Z   2) DonationSitesController While signed in GET #edit returns http success
2024-03-04T13:52:42.0062698Z      Failure/Error: subject { get :edit, params: default_params.merge(id: create(:donation_site, organization: @organization)) }
2024-03-04T13:52:42.0063713Z 
2024-03-04T13:52:42.0063904Z      ActiveRecord::RecordInvalid:
2024-03-04T13:52:42.0065405Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:52:42.0067204Z      # ./spec/controllers/donation_sites_controller_spec.rb:26:in `block (4 levels) in <top (required)>'
2024-03-04T13:52:42.0068653Z      # ./spec/controllers/donation_sites_controller_spec.rb:28:in `block (4 levels) in <top (required)>'
2024-03-04T13:52:42.0069909Z 
2024-03-04T13:52:42.0070358Z   3) DonationSitesController While signed in GET #show returns http success
2024-03-04T13:52:42.0071822Z      Failure/Error: subject { get :show, params: default_params.merge(id: create(:donation_site, organization: @organization)) }
2024-03-04T13:52:42.0072839Z 
2024-03-04T13:52:42.0073033Z      ActiveRecord::RecordInvalid:
2024-03-04T13:52:42.0074536Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:52:42.0076326Z      # ./spec/controllers/donation_sites_controller_spec.rb:38:in `block (4 levels) in <top (required)>'
2024-03-04T13:52:42.0077777Z      # ./spec/controllers/donation_sites_controller_spec.rb:40:in `block (4 levels) in <top (required)>'
2024-03-04T13:52:42.0078624Z 
2024-03-04T13:52:42.0079722Z   4) DonationSitesController While signed in Looking at a different organization redirects the user to the sign-in page for CRUD actions
2024-03-04T13:52:42.0081641Z      Failure/Error: let(:object) { create(:donation_site, organization: create(:organization)) }
2024-03-04T13:52:42.0082422Z 
2024-03-04T13:52:42.0082607Z      ActiveRecord::RecordInvalid:
2024-03-04T13:52:42.0084101Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:52:42.0086040Z      Shared Example Group: "requiring authorization" called from ./spec/controllers/donation_sites_controller_spec.rb:53
2024-03-04T13:52:42.0087663Z      # ./spec/controllers/donation_sites_controller_spec.rb:52:in `block (4 levels) in <top (required)>'
2024-03-04T13:52:42.0089006Z      # ./spec/support/authorization_specs.rb:3:in `block (2 levels) in <top (required)>'
2024-03-04T13:52:42.0089750Z 
2024-03-04T13:52:42.0090629Z   5) DonationSitesController While signed in POST #import_csv behaves like csv import with a csv file presents a flash notice message
2024-03-04T13:52:42.0095595Z      Failure/Error: loc.save!
2024-03-04T13:52:42.0095973Z 
2024-03-04T13:52:42.0096173Z      ActiveRecord::RecordInvalid:
2024-03-04T13:52:42.0098714Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:52:42.0100535Z      Shared Example Group: "csv import" called from ./spec/controllers/donation_sites_controller_spec.rb:34
2024-03-04T13:52:42.0101732Z      # ./app/models/donation_site.rb:43:in `block in import_csv'
2024-03-04T13:52:42.0102509Z      # ./app/models/donation_site.rb:40:in `each'
2024-03-04T13:52:42.0103186Z      # ./app/models/donation_site.rb:40:in `import_csv'
2024-03-04T13:52:42.0103998Z      # ./app/controllers/concerns/importable.rb:30:in `import_csv'
2024-03-04T13:52:42.0105093Z      # ./spec/support/csv_import_shared_example.rb:4:in `block (3 levels) in <top (required)>'
2024-03-04T13:52:42.0106397Z      # ./spec/support/csv_import_shared_example.rb:15:in `block (3 levels) in <top (required)>'
2024-03-04T13:52:42.0106933Z 
2024-03-04T13:52:42.0107404Z   6) DonationSitesController While signed in POST #import_csv behaves like csv import with a csv file redirects to :index
2024-03-04T13:52:42.0108092Z      Failure/Error: loc.save!
2024-03-04T13:52:42.0108286Z 
2024-03-04T13:52:42.0108404Z      ActiveRecord::RecordInvalid:
2024-03-04T13:52:42.0109287Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:52:42.0110343Z      Shared Example Group: "csv import" called from ./spec/controllers/donation_sites_controller_spec.rb:34
2024-03-04T13:52:42.0111051Z      # ./app/models/donation_site.rb:43:in `block in import_csv'
2024-03-04T13:52:42.0111522Z      # ./app/models/donation_site.rb:40:in `each'
2024-03-04T13:52:42.0111945Z      # ./app/models/donation_site.rb:40:in `import_csv'
2024-03-04T13:52:42.0112684Z      # ./app/controllers/concerns/importable.rb:30:in `import_csv'
2024-03-04T13:52:42.0113343Z      # ./spec/support/csv_import_shared_example.rb:4:in `block (3 levels) in <top (required)>'
2024-03-04T13:52:42.0114075Z      # ./spec/support/csv_import_shared_example.rb:11:in `block (3 levels) in <top (required)>'
2024-03-04T13:52:42.0114568Z 
2024-03-04T13:52:42.0118220Z   7) DonationSitesController While signed in DELETE #destroy returns http success
2024-03-04T13:52:42.0119967Z      Failure/Error: subject { delete :destroy, params: default_params.merge(id: create(:donation_site, organization: @organization)) }
2024-03-04T13:52:42.0121150Z 
2024-03-04T13:52:42.0121361Z      ActiveRecord::RecordInvalid:
2024-03-04T13:52:42.0122769Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:52:42.0124608Z      # ./spec/controllers/donation_sites_controller_spec.rb:45:in `block (4 levels) in <top (required)>'
2024-03-04T13:52:42.0182478Z      # ./spec/controllers/donation_sites_controller_spec.rb:47:in `block (4 levels) in <top (required)>'
2024-03-04T13:52:42.0183547Z 
2024-03-04T13:52:42.0183957Z   8) Exports::ExportDonationsCSVService#generate_csv_data should match the expected content for the csv
2024-03-04T13:52:42.0184554Z      Failure/Error:
2024-03-04T13:52:42.0184816Z        donation_site: create(
2024-03-04T13:52:42.0185148Z          :donation_site, name: "Space Needle #{i}",
2024-03-04T13:52:42.0185505Z        ),
2024-03-04T13:52:42.0185638Z 
2024-03-04T13:52:42.0185751Z      ActiveRecord::RecordInvalid:
2024-03-04T13:52:42.0186684Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:52:42.0187761Z      # ./spec/services/exports/export_donations_csv_service_spec.rb:29:in `block (4 levels) in <top (required)>'
2024-03-04T13:52:42.0188554Z      # ./spec/services/exports/export_donations_csv_service_spec.rb:26:in `each'
2024-03-04T13:52:42.0189254Z      # ./spec/services/exports/export_donations_csv_service_spec.rb:26:in `each_with_index'
2024-03-04T13:52:42.0189959Z      # ./spec/services/exports/export_donations_csv_service_spec.rb:26:in `each'
2024-03-04T13:52:42.0190615Z      # ./spec/services/exports/export_donations_csv_service_spec.rb:26:in `map'
2024-03-04T13:52:42.0191406Z      # ./spec/services/exports/export_donations_csv_service_spec.rb:26:in `block (3 levels) in <top (required)>'
2024-03-04T13:52:42.0192314Z      # ./spec/services/exports/export_donations_csv_service_spec.rb:4:in `block (3 levels) in <top (required)>'
2024-03-04T13:52:42.0193194Z      # ./spec/services/exports/export_donations_csv_service_spec.rb:3:in `block (3 levels) in <top (required)>'
2024-03-04T13:52:42.0194074Z      # ./spec/services/exports/export_donations_csv_service_spec.rb:77:in `block (3 levels) in <top (required)>'
2024-03-04T13:52:42.0194600Z 
2024-03-04T13:52:42.0194836Z   9) DonationSite import_csv imports storage locations from a csv file
2024-03-04T13:52:42.0195296Z      Failure/Error: loc.save!
2024-03-04T13:52:42.0195509Z 
2024-03-04T13:52:42.0195621Z      ActiveRecord::RecordInvalid:
2024-03-04T13:52:42.0196476Z        Validation failed: Contact name can't be blank, Email can't be blank, Email is invalid, Phone can't be blank, Phone must be a valid phone number
2024-03-04T13:52:42.0197368Z      # ./app/models/donation_site.rb:43:in `block in import_csv'
2024-03-04T13:52:42.0197848Z      # ./app/models/donation_site.rb:40:in `import_csv'
2024-03-04T13:52:42.0198393Z      # ./spec/models/donation_site_spec.rb:37:in `block (3 levels) in <top (required)>'
2024-03-04T13:52:42.0198810Z 
2024-03-04T13:52:42.0198998Z Finished in 38.81 seconds (files took 8.72 seconds to load)
2024-03-04T13:52:42.0199431Z 507 examples, 9 failures, 2 pending
2024-03-04T13:52:42.0199651Z 
2024-03-04T13:52:42.0199748Z Failed examples:
2024-03-04T13:52:42.0199896Z 
2024-03-04T13:52:42.0200667Z rspec ./spec/controllers/donation_sites_controller_spec.rb:57 # DonationSitesController While not signed in redirects the user to the sign-in page for CRUD actions
2024-03-04T13:52:42.0202126Z rspec ./spec/controllers/donation_sites_controller_spec.rb:27 # DonationSitesController While signed in GET #edit returns http success
2024-03-04T13:52:42.0203258Z rspec ./spec/controllers/donation_sites_controller_spec.rb:39 # DonationSitesController While signed in GET #show returns http success
2024-03-04T13:52:42.0204771Z rspec ./spec/controllers/donation_sites_controller_spec.rb:51 # DonationSitesController While signed in Looking at a different organization redirects the user to the sign-in page for CRUD actions
2024-03-04T13:52:42.0206603Z rspec './spec/controllers/donation_sites_controller_spec.rb[1:1:4:1:1:3]' # DonationSitesController While signed in POST #import_csv behaves like csv import with a csv file presents a flash notice message
2024-03-04T13:52:42.0208359Z rspec './spec/controllers/donation_sites_controller_spec.rb[1:1:4:1:1:2]' # DonationSitesController While signed in POST #import_csv behaves like csv import with a csv file redirects to :index
2024-03-04T13:52:42.0209930Z rspec ./spec/controllers/donation_sites_controller_spec.rb:46 # DonationSitesController While signed in DELETE #destroy returns http success
2024-03-04T13:52:42.0211252Z rspec ./spec/services/exports/export_donations_csv_service_spec.rb:76 # Exports::ExportDonationsCSVService#generate_csv_data should match the expected content for the csv
2024-03-04T13:52:42.0212457Z rspec ./spec/models/donation_site_spec.rb:32 # DonationSite import_csv imports storage locations from a csv file
2024-03-04T13:52:42.0212993Z 
2024-03-04T13:52:42.0213103Z Randomized with seed 55217
2024-03-04T13:52:42.0213291Z 
2024-03-04T13:52:42.5356951Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-04T13:52:42.5359091Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3723 / 6439 LOC (57.82%) covered.
2024-03-04T13:52:42.5931575Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/models/adjustment_spec.rb" "spec/models/barcode_item_spec.rb" "spec/models/broadcast_announcement_spec.rb" "spec/models/county_spec.rb" "spec/models/donation_site_spec.rb" "spec/models/event_spec.rb" "spec/models/item_category_spec.rb" "spec/models/kit_allocation_spec.rb" "spec/models/line_item_spec.rb" "spec/models/ndbn_member_spec.rb" "spec/models/organization_stats_spec.rb" "spec/models/partner_spec.rb" "spec/models/partners/child_item_request_spec.rb" "spec/models/partners/family_spec.rb" "spec/models/partners/profile_spec.rb" "spec/models/product_drive_participant_spec.rb" "spec/models/purchase_spec.rb" "spec/models/request_item_spec.rb" "spec/models/role_spec.rb" "spec/models/transfer_spec.rb" "spec/models/users_role_spec.rb" "spec/models/view/inventory_spec.rb" "spec/controllers/application_controller_spec.rb" "spec/controllers/donation_sites_controller_spec.rb" "spec/controllers/help_controller_spec.rb" "spec/controllers/transfers_controller_spec.rb" "spec/events/inventory_aggregate_spec.rb" "spec/helpers/historical_trends_helper_spec.rb" "spec/helpers/ui_helper_spec.rb" "spec/jobs/notify_partner_job_spec.rb" "spec/jobs/reminder_deadline_job_spec.rb" "spec/mailers/account_request_mailer_spec.rb" "spec/mailers/distribution_mailer_spec.rb" "spec/mailers/partner_mailer_spec.rb" "spec/mailers/request_mailer_spec.rb" "spec/mailers/user_mailer_spec.rb" "spec/queries/items_in_query_spec.rb" "spec/queries/items_out_query_spec.rb" "spec/routing/account_requests_routing_spec.rb" "spec/services/adjustment_create_service_spec.rb" "spec/services/calendar_service_spec.rb" "spec/services/deallocate_kit_inventory_service_spec.rb" "spec/services/distribution_create_service_spec.rb" "spec/services/distribution_itemized_breakdown_service_spec.rb" "spec/services/distribution_update_service_spec.rb" "spec/services/donation_create_service_spec.rb" "spec/services/donation_itemized_breakdown_service_spec.rb" "spec/services/exports/export_donations_csv_service_spec.rb" "spec/services/exports/export_report_csv_service_spec.rb" "spec/services/historical_trend_service_spec.rb" "spec/services/item_create_service_spec.rb" "spec/services/kit_create_service_spec.rb" "spec/services/partner_approval_service_spec.rb" "spec/services/partner_fetch_requestable_items_service_spec.rb" "spec/services/partner_profile_update_service_spec.rb" "spec/services/partners/family_request_create_service_spec.rb" "spec/services/partners/request_approval_service_spec.rb" "spec/services/partners/update_family_spec.rb" "spec/services/remove_role_service_spec.rb" "spec/services/reports/adult_incontinence_report_service_spec.rb" "spec/services/reports/other_products_report_service_spec.rb" "spec/services/reports/period_supply_report_service_spec.rb" "spec/services/reports/warehouse_report_service_spec.rb" "spec/services/requests_total_items_service_spec.rb" "spec/services/sync_ndbn_members_spec.rb" "spec/services/transfer_destroy_service_spec.rb" failed
2024-03-04T13:52:43.0085005Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-04T13:52:43.0086743Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10703 LOC (0.36%) covered.
2024-03-04T13:52:43.0359679Z ##[error]Process completed with exit code 1.
