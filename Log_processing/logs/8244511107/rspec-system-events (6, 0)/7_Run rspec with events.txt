2024-03-12T06:26:17.9166648Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-12T06:26:17.9167498Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-12T06:26:17.9233130Z shell: /usr/bin/bash -e {0}
2024-03-12T06:26:17.9233607Z env:
2024-03-12T06:26:17.9234041Z   POSTGRES_HOST: localhost
2024-03-12T06:26:17.9234444Z   DATABASE_HOST: localhost
2024-03-12T06:26:17.9234879Z   PG_USERNAME: postgres
2024-03-12T06:26:17.9235220Z   PG_PASSWORD: password
2024-03-12T06:26:17.9235591Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-12T06:26:17.9236068Z   POSTGRES_PORT: 5432
2024-03-12T06:26:17.9236433Z   PGHOST: localhost
2024-03-12T06:26:17.9236764Z   PGUSER: postgres
2024-03-12T06:26:17.9237112Z   RAILS_ENV: test
2024-03-12T06:26:17.9237478Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-12T06:26:17.9237960Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-12T06:26:17.9238693Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-03-12T06:26:17.9239169Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-12T06:26:17.9239771Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-12T06:26:17.9240394Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-12T06:26:17.9241037Z   EVENTS_READ: true
2024-03-12T06:26:17.9241440Z ##[endgroup]
2024-03-12T06:26:23.7317053Z W, [2024-03-12T06:26:23.731327 #2360]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-12T06:26:23.7319468Z W, [2024-03-12T06:26:23.731386 #2360]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:26:23.7323107Z W, [2024-03-12T06:26:23.731402 #2360]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:26:23.7327515Z W, [2024-03-12T06:26:23.731428 #2360]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-12T06:26:26.3307642Z W, [2024-03-12T06:26:26.330425 #2360]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-12T06:26:26.3309678Z W, [2024-03-12T06:26:26.330476 #2360]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:26:26.3311072Z W, [2024-03-12T06:26:26.330496 #2360]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:26:26.3313310Z W, [2024-03-12T06:26:26.330549 #2360]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-12T06:26:26.3366133Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/organization_requests_spec.rb" "spec/requests/partners/individuals_requests_controller_spec.rb" "spec/requests/product_drive_participants_requests_spec.rb" "spec/requests/sessions_requests_spec.rb" "spec/requests/vendors_requests_spec.rb" "spec/system/admin/base_items_system_spec.rb" "spec/system/authorization_system_spec.rb" "spec/system/donation_system_spec.rb" "spec/system/manufacturer_system_spec.rb" "spec/system/partners/family_requests_system_spec.rb" "spec/system/product_drive_system_spec.rb" "spec/system/storage_location_system_spec.rb"
2024-03-12T06:26:34.7182201Z 
2024-03-12T06:26:34.7183053Z Randomized with seed 11281
2024-03-12T06:26:35.7320739Z 
2024-03-12T06:26:35.7321499Z Donations
2024-03-12T06:26:35.7322586Z   while signed in as an organization admin
2024-03-12T06:26:35.7323605Z     When viewing an existing donation
2024-03-12T06:26:45.5102587Z       allows deletion of a donation
2024-03-12T06:26:45.5103506Z   When signed in as a normal user
2024-03-12T06:26:45.5104954Z     When creating a new donation
2024-03-12T06:26:46.0569826Z       should not display inactive storage locations in dropdown
2024-03-12T06:26:46.0570515Z       Via manual entry
2024-03-12T06:26:46.9485164Z         Allows donations to be created IN THE PAST
2024-03-12T06:26:49.6123880Z         Ensures Barcode Entry fields have unique ids (FAILED - 1)
2024-03-12T06:26:49.6127140Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Ensures-Barcode-Entry-fields-have-unique-ids_2024-03-11-23-26-49.473.html[0m
2024-03-12T06:26:49.6132242Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Ensures-Barcode-Entry-fields-have-unique-ids_2024-03-11-23-26-49.473.png[0m
2024-03-12T06:26:50.5355892Z         Allows User to create a donation for a Manufacturer source
2024-03-12T06:26:51.4268361Z         User can create a donation using dollars decimal amount for its money raised
2024-03-12T06:26:52.3523734Z         Allows User to create a donation for a ProductDrive Participant source
2024-03-12T06:26:53.2582844Z         Allows User to create a donation with a Miscellaneous source
2024-03-12T06:26:56.0105738Z         Accepts and combines multiple line items for the same item type (FAILED - 2)
2024-03-12T06:26:56.0107718Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Accepts-and-combines-multiple-line-items-for-the-same-item-type_2024-03-11-23-26-55.876.html[0m
2024-03-12T06:26:56.0110602Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Accepts-and-combines-multiple-line-items-for-the-same-item-type_2024-03-11-23-26-55.876.png[0m
2024-03-12T06:26:56.9238642Z         Allows User to create a donation for a Donation Site source
2024-03-12T06:26:57.8546607Z         Allows User to create a donation for Purchased Supplies
2024-03-12T06:26:58.6565130Z         Does not include inactive items in the line item fields
2024-03-12T06:26:59.4244402Z         Allows User to create a Manufacturer from donation
2024-03-12T06:27:00.3266878Z         Displays nested errors
2024-03-12T06:27:01.2897903Z         Repopulates items dropdown even if initial submission doesn't validate
2024-03-12T06:27:02.2474386Z         Strips extraneous data if the user adds both Donation Site and Product Drive Participant
2024-03-12T06:27:03.1500220Z         Verifies unusually large donation quantities
2024-03-12T06:27:03.9099676Z         Allows User to create a Product Drive from donation
2024-03-12T06:27:04.6979520Z         Allows User to create a Product Drive Participant from donation
2024-03-12T06:27:04.6980791Z       Via barcode entry
2024-03-12T06:27:05.6592326Z         Allows User to add items by barcode (FAILED - 3)
2024-03-12T06:27:05.6594714Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Allows-User-to-add-items-by-barcode_2024-03-11-23-27-05.525.html[0m
2024-03-12T06:27:05.6597544Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Allows-User-to-add-items-by-barcode_2024-03-11-23-27-05.525.png[0m
2024-03-12T06:27:06.6190756Z         Allows User to add items that do not yet have a barcode
2024-03-12T06:27:07.4777591Z         Updates the line item when the same barcode is scanned twice (FAILED - 4)
2024-03-12T06:27:07.4780268Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Updates-the-line-item-when-the-same-barcode-is-scanned-twice_2024-03-11-23-27-07.342.html[0m
2024-03-12T06:27:07.4783116Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Updates-the-line-item-when-the-same-barcode-is-scanned-twice_2024-03-11-23-27-07.342.png[0m
2024-03-12T06:27:07.4784707Z         When the barcode is a global barcode
2024-03-12T06:27:08.6268529Z           Adds the oldest item it can find for the global barcode (FAILED - 5)
2024-03-12T06:27:08.6270555Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Adds-the-oldest-item-it-can-find-for-the-global-barcode_2024-03-11-23-27-08.492.html[0m
2024-03-12T06:27:08.6272804Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Adds-the-oldest-item-it-can-find-for-the-global-barcode_2024-03-11-23-27-08.492.png[0m
2024-03-12T06:27:08.6274597Z     When viewing an existing donation
2024-03-12T06:27:09.1491484Z       does not allow deletion of a donation
2024-03-12T06:27:09.6653926Z       displays donation comment
2024-03-12T06:27:09.6655020Z       when there is no comment defined
2024-03-12T06:27:10.4836631Z         displays the None provided as the comment
2024-03-12T06:27:10.4837737Z     When visiting the index page
2024-03-12T06:27:11.2959209Z       doesn't die when an inactive item is in a donation
2024-03-12T06:27:12.0333976Z       should not display inactive storage locations in dropdown
2024-03-12T06:27:12.8382190Z       Allows User to click to the new donation form
2024-03-12T06:27:13.3408362Z       Displays Total quantity on the index page
2024-03-12T06:27:13.3409318Z     When donation items have value
2024-03-12T06:27:14.0502701Z       Displays the individual value on the index page
2024-03-12T06:27:14.7593517Z       Displays the total value on the index page
2024-03-12T06:27:15.6964217Z       Displays the total value on the show page
2024-03-12T06:27:15.6964992Z     When filtering on the index page
2024-03-12T06:27:16.5380481Z       Filters by manufacturer
2024-03-12T06:27:17.3674593Z       Filters by donation site
2024-03-12T06:27:18.2043631Z       Filters by product drives
2024-03-12T06:27:19.0550894Z       Filters by the source
2024-03-12T06:27:19.9152270Z       Filter by product drive participant sticks around
2024-03-12T06:27:21.0739199Z       Filters by multiple attributes
2024-03-12T06:27:21.9012865Z       Filters by product drive participant
2024-03-12T06:27:22.7273517Z       Filters by storage location
2024-03-12T06:27:22.7274251Z       behaves like Date Range Picker
2024-03-12T06:27:22.7275486Z         when choosing 'All Time'
2024-03-12T06:27:23.6802100Z           shows all the records
2024-03-12T06:27:23.6803134Z         when choosing 'Last Month'
2024-03-12T06:27:24.6224786Z           shows only 2 of the records
2024-03-12T06:27:24.6225679Z         when choosing a date range that only includes the previous week
2024-03-12T06:27:25.6361685Z           shows only 1 record
2024-03-12T06:27:25.6362546Z     When editing an existing donation
2024-03-12T06:27:27.5142175Z       Does not default a selection if item lookup fails
2024-03-12T06:27:28.9939912Z       Allows the user to edit a donation
2024-03-12T06:27:28.9943312Z 
2024-03-12T06:27:28.9945431Z Partners::IndividualsRequestsController
2024-03-12T06:27:28.9946140Z   GET #new
2024-03-12T06:27:29.0413223Z     does not allow partners not verified
2024-03-12T06:27:29.0804059Z     does not allow deactivated partners
2024-03-12T06:27:29.0804865Z     when first reaching the new page
2024-03-12T06:27:29.1357534Z       has the correct select fields
2024-03-12T06:27:29.1358462Z   POST #create
2024-03-12T06:27:29.1817887Z     does not allow deactivated partners
2024-03-12T06:27:29.2239124Z     does not allow partners not verified
2024-03-12T06:27:29.2240411Z     when the request is valid
2024-03-12T06:27:29.2966234Z       submits the request
2024-03-12T06:27:29.2967071Z     when the request has invalid inputs
2024-03-12T06:27:29.3632204Z       shows an error
2024-03-12T06:27:29.3632970Z     after invalid submission
2024-03-12T06:27:29.4233867Z       has the correct select fields
2024-03-12T06:27:29.4234778Z     when a request is empty
2024-03-12T06:27:29.4754723Z       is invalid
2024-03-12T06:27:29.4755309Z     when a request has an empty row
2024-03-12T06:27:29.5278259Z       is valid
2024-03-12T06:27:29.5278991Z     when a request has only a comment
2024-03-12T06:27:29.5764017Z       is valid
2024-03-12T06:27:29.5765456Z 
2024-03-12T06:27:29.5765950Z Organizations
2024-03-12T06:27:29.5767410Z   While signed in as a normal user
2024-03-12T06:27:29.5768719Z     GET #edit
2024-03-12T06:27:29.5904369Z       is expected to redirect to "/db_1/dashboard"
2024-03-12T06:27:29.6031731Z       is expected to have error
2024-03-12T06:27:29.6032808Z     PATCH #update
2024-03-12T06:27:29.6159328Z       is expected to redirect to "/db_1/dashboard"
2024-03-12T06:27:29.6286456Z       is expected to have error
2024-03-12T06:27:29.6287426Z     GET #show
2024-03-12T06:27:29.6881627Z       is expected to be successful
2024-03-12T06:27:29.7361961Z       load the current organization
2024-03-12T06:27:29.7362959Z   When signed in as a super admin
2024-03-12T06:27:29.7363785Z     POST #promote_to_org_admin
2024-03-12T06:27:29.7623845Z       runs successfully
2024-03-12T06:27:29.7624693Z     POST #demote_to_user
2024-03-12T06:27:29.8026145Z       runs successfully
2024-03-12T06:27:29.8026890Z     PUT #reactivate_user
2024-03-12T06:27:29.8229643Z       redirect after update
2024-03-12T06:27:29.8434045Z       reactivates the user
2024-03-12T06:27:29.8434767Z     PUT #deactivate_user
2024-03-12T06:27:29.8605106Z       redirect after update
2024-03-12T06:27:29.8785362Z       deactivates the user
2024-03-12T06:27:29.8786132Z   While signed in as an organization admin
2024-03-12T06:27:29.8787459Z     PUT #reactivate_user
2024-03-12T06:27:29.8975818Z       reactivates the user
2024-03-12T06:27:29.9147284Z       redirect after update
2024-03-12T06:27:29.9148198Z     PUT #deactivate_user
2024-03-12T06:27:29.9315420Z       deactivates the user
2024-03-12T06:27:29.9464804Z       redirect after update
2024-03-12T06:27:29.9465812Z     when attempting to access a different organization
2024-03-12T06:27:29.9466938Z       GET #edit
2024-03-12T06:27:30.1837122Z         shows your own anyway
2024-03-12T06:27:30.1837927Z       GET #show
2024-03-12T06:27:30.4055009Z         shows your own anyway
2024-03-12T06:27:30.4056144Z       POST #promote_to_org_admin
2024-03-12T06:27:30.6078609Z         redirects after update
2024-03-12T06:27:30.6079393Z     POST #demote_to_user
2024-03-12T06:27:30.6437354Z       runs correctly
2024-03-12T06:27:30.6438340Z     PATCH #update
2024-03-12T06:27:30.6631183Z       can update name
2024-03-12T06:27:30.6801602Z       should be redirect after update
2024-03-12T06:27:30.6803216Z       when organization can not be updated
2024-03-12T06:27:30.7451915Z         renders edit template with an error message
2024-03-12T06:27:30.7452838Z     POST #promote_to_org_admin
2024-03-12T06:27:30.7673180Z       runs successfully
2024-03-12T06:27:30.7673932Z     GET #edit
2024-03-12T06:27:30.8087660Z       is expected to be successful
2024-03-12T06:27:30.8509007Z       is expected to render template matcher "edit"
2024-03-12T06:27:30.8935342Z       initializing the given organization
2024-03-12T06:27:30.8936034Z 
2024-03-12T06:27:30.8936244Z Sessions
2024-03-12T06:27:30.8937375Z   Sign in as user without logging off as an admin
2024-03-12T06:27:30.9060827Z     cannot access admin dashboard
2024-03-12T06:27:30.9174671Z     properly accesses the organization dashboard
2024-03-12T06:27:30.9175246Z 
2024-03-12T06:27:30.9175628Z Family requests
2024-03-12T06:27:30.9176656Z   filtering children
2024-03-12T06:27:31.9661594Z     user can see a list of children filtered by guardian name
2024-03-12T06:27:32.9030348Z     user can see a list of children filtered by first_name
2024-03-12T06:27:32.9031675Z   for children with different items, from different families
2024-03-12T06:27:34.5485713Z     it creates family requests
2024-03-12T06:27:34.5486488Z 
2024-03-12T06:27:34.5486879Z Audits
2024-03-12T06:27:34.5488188Z   while signed in as an organization admin
2024-03-12T06:27:34.5489513Z     GET #new
2024-03-12T06:27:34.5954131Z       is successful
2024-03-12T06:27:34.5954854Z     GET #index
2024-03-12T06:27:34.6541189Z       is successful
2024-03-12T06:27:34.6542229Z     DELETE #destroy
2024-03-12T06:27:34.6542695Z       with valid params
2024-03-12T06:27:34.6906655Z         can not destroy the audit if the audit's status is `finalized`
2024-03-12T06:27:34.7271739Z         destroys the audit if the audit's status is `confirms`
2024-03-12T06:27:34.7637851Z         destroys the audit if the audit's status is `in_progress`
2024-03-12T06:27:34.7639021Z     POST #finalize
2024-03-12T06:27:34.8303763Z       sets the finalize status and saves an event
2024-03-12T06:27:34.8304901Z     GET #show
2024-03-12T06:27:34.8902715Z       is successful
2024-03-12T06:27:34.8903473Z     POST #create
2024-03-12T06:27:34.8904274Z       with invalid params
2024-03-12T06:27:34.9496833Z         re-renders the 'new' template with an error message when an invalid storage location is given
2024-03-12T06:27:34.9903778Z         re-renders the 'new' template
2024-03-12T06:27:35.0313360Z         assigns a newly created but unsaved audit as @audit
2024-03-12T06:27:35.0314265Z       with valid params
2024-03-12T06:27:35.0723766Z         redirects to the #show after created audit
2024-03-12T06:27:35.1135524Z         creates a new Audit
2024-03-12T06:27:35.1554291Z         creates a new Audit with status as `in_progress` if `save_progress` is passed as a param
2024-03-12T06:27:35.1974283Z         creates a new Audit with status as `confirmed` if `confirm_audit` is passed as a param
2024-03-12T06:27:35.2379577Z         assigns a newly created audit as @audit
2024-03-12T06:27:35.2380500Z     GET #edit
2024-03-12T06:27:35.3050560Z       redirects to #index if the status of audit is not `in_progress`
2024-03-12T06:27:35.3664240Z       is successful if the status of audit is `in_progress`
2024-03-12T06:27:35.3665176Z 
2024-03-12T06:27:35.3665649Z Authorization
2024-03-12T06:27:35.9759062Z   redirects to the organization dashboard when authorized
2024-03-12T06:27:36.5533732Z   redirects to the dashboard when unauthorized user attempts access
2024-03-12T06:27:36.5534518Z 
2024-03-12T06:27:36.5534797Z Vendors
2024-03-12T06:27:36.5536309Z   While signed in
2024-03-12T06:27:36.5537989Z     DELETE #destroy
2024-03-12T06:27:36.5716383Z       does not have a route for this
2024-03-12T06:27:36.5717691Z     when on vendors index page
2024-03-12T06:27:36.6040688Z       has the correct import type
2024-03-12T06:27:36.6041367Z     XHR #create
2024-03-12T06:27:36.6360153Z       successful create
2024-03-12T06:27:36.6661630Z       flash error
2024-03-12T06:27:36.6662285Z     POST #create
2024-03-12T06:27:36.6954368Z       flash error
2024-03-12T06:27:36.7092548Z       successful create
2024-03-12T06:27:36.7093259Z     GET #show
2024-03-12T06:27:36.7397741Z       returns http success
2024-03-12T06:27:36.7398687Z     GET #index
2024-03-12T06:27:36.7399383Z       csv
2024-03-12T06:27:36.7554916Z         is expected to be successful
2024-03-12T06:27:36.7555550Z       html
2024-03-12T06:27:36.7850842Z         is expected to be successful
2024-03-12T06:27:36.7851694Z     Looking at a different organization
2024-03-12T06:27:36.9689013Z       redirects the user to the sign-in page for CRUD actions
2024-03-12T06:27:36.9690391Z     GET #edit
2024-03-12T06:27:37.0015832Z       returns http success
2024-03-12T06:27:37.0016646Z     GET #new
2024-03-12T06:27:37.0303156Z       returns http success
2024-03-12T06:27:37.0304108Z     POST #import_csv
2024-03-12T06:27:37.0304656Z       csv file with wrong headers
2024-03-12T06:27:37.0457229Z         redirects
2024-03-12T06:27:37.0580613Z         presents a flash error message
2024-03-12T06:27:37.0581816Z       without a csv file
2024-03-12T06:27:37.0701048Z         presents a flash error message
2024-03-12T06:27:37.0816353Z         redirects to :index
2024-03-12T06:27:37.0817126Z       with a csv file
2024-03-12T06:27:37.0855585Z         invokes .import_csv
2024-03-12T06:27:37.1052430Z         presents a flash notice message
2024-03-12T06:27:37.1247739Z         redirects
2024-03-12T06:27:37.1248659Z   While not signed in
2024-03-12T06:27:37.1312687Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:27:37.1313300Z 
2024-03-12T06:27:37.1313499Z DonationSites
2024-03-12T06:27:37.1314598Z   while signed in
2024-03-12T06:27:37.1315219Z     GET #index
2024-03-12T06:27:37.1315939Z       html
2024-03-12T06:27:37.1683089Z         is expected to be successful
2024-03-12T06:27:37.1683915Z       csv
2024-03-12T06:27:37.1842618Z         is expected to be successful
2024-03-12T06:27:37.1844815Z 
2024-03-12T06:27:37.1845243Z Admin::Organizations
2024-03-12T06:27:37.1846692Z   When logged in as a super admin
2024-03-12T06:27:37.1849169Z     DELETE #destroy
2024-03-12T06:27:37.1849978Z       with a valid organization id
2024-03-12T06:27:37.7069667Z         redirects to #index
2024-03-12T06:27:37.7070670Z     DELETE #destroy
2024-03-12T06:27:38.0572756Z       redirects
2024-03-12T06:27:38.0573731Z     PUT #update
2024-03-12T06:27:38.0769444Z       redirect
2024-03-12T06:27:38.0770191Z     GET #index
2024-03-12T06:27:38.1106402Z       returns http success
2024-03-12T06:27:38.1106893Z     PATCH #update
2024-03-12T06:27:38.1107884Z       with a valid update
2024-03-12T06:27:38.3106353Z         redirects to #index
2024-03-12T06:27:38.3106973Z       with an invalid update
2024-03-12T06:27:38.5307101Z         returns http success
2024-03-12T06:27:38.7506894Z         redirects to #edit with an error message
2024-03-12T06:27:38.7507788Z     POST #create
2024-03-12T06:27:38.7508728Z       with invalid params
2024-03-12T06:27:38.7985135Z         does not create an organization and renders #create with an error message
2024-03-12T06:27:38.7986592Z       with valid params
2024-03-12T06:27:39.0960431Z         creates an organization and redirects to #index
2024-03-12T06:27:39.0961053Z     GET #show
2024-03-12T06:27:39.3120548Z       returns http success
2024-03-12T06:27:39.3121249Z     GET #new
2024-03-12T06:27:39.3520359Z       returns http success
2024-03-12T06:27:39.3521183Z       when given a token that matches a account request that has already been processed
2024-03-12T06:27:39.5904228Z         should render new with a flash error message
2024-03-12T06:27:39.5905030Z       when given a valid account request token in the query parameters
2024-03-12T06:27:39.6503198Z         should render new with pre populate input fields from the account_request
2024-03-12T06:27:39.6504486Z     GET #edit
2024-03-12T06:27:39.8655358Z       returns http success
2024-03-12T06:27:39.8656567Z   When logged in as a non-admin user
2024-03-12T06:27:39.8657293Z     GET #new
2024-03-12T06:27:39.8818571Z       redirects
2024-03-12T06:27:39.8819421Z     GET #index
2024-03-12T06:27:39.8960450Z       redirects
2024-03-12T06:27:39.8961009Z     GET #edit
2024-03-12T06:27:39.9097970Z       redirects
2024-03-12T06:27:39.9098555Z     PUT #update
2024-03-12T06:27:39.9240713Z       redirects
2024-03-12T06:27:39.9241653Z     POST #create
2024-03-12T06:27:39.9422231Z       redirects
2024-03-12T06:27:39.9422878Z 
2024-03-12T06:27:39.9423175Z Product Drives
2024-03-12T06:27:39.9425120Z   When visiting the index page without parameters
2024-03-12T06:27:40.4611760Z     shows two non-virtual product drives
2024-03-12T06:27:40.9598735Z     shows only one virtual product drives
2024-03-12T06:27:41.5158403Z     Shows the expected filters with the expected values and in alphabetical order for name filter
2024-03-12T06:27:42.0743825Z     shows in descending order of start date
2024-03-12T06:27:42.6057832Z     shows the expected product drives
2024-03-12T06:27:42.6058779Z   when showing a Product Drive with no end date
2024-03-12T06:27:43.0728010Z     must be able to show the product drive
2024-03-12T06:27:43.0728918Z   when creating a Virtual Product Drive
2024-03-12T06:27:44.0251311Z     must have the success message
2024-03-12T06:27:44.9846555Z     must have correct attributes
2024-03-12T06:27:45.9333570Z     must create a new virtual Product Drive
2024-03-12T06:27:45.9334408Z   when creating a normal product drive
2024-03-12T06:27:46.7486470Z     must have the success message
2024-03-12T06:27:47.5596708Z     must create a new product drive
2024-03-12T06:27:48.3770684Z     must have correct attributes
2024-03-12T06:27:48.3771223Z 
2024-03-12T06:27:48.3771481Z Storage Locations
2024-03-12T06:27:48.3773240Z   when creating a new storage location
2024-03-12T06:27:49.5469047Z     User creates a new storage location
2024-03-12T06:27:50.3855608Z     User creates a new storage location with optional fields
2024-03-12T06:27:51.1611370Z     User creates a new storage location with empty attributes
2024-03-12T06:27:51.1612348Z   when viewing the index
2024-03-12T06:27:52.4240182Z     User can filter the #index by those that contain certain items
2024-03-12T06:27:53.2307562Z     Stops a user from deactivating storage locations with inventory
2024-03-12T06:27:53.8531861Z     Filter list presented to user is in alphabetical order by item name
2024-03-12T06:27:55.2876548Z     Allows user to deactivate and reactivate storage locations
2024-03-12T06:27:56.4437467Z     shows totals that are the sum totals of all inputs
2024-03-12T06:27:57.3667111Z     Allows user to filter discarded storage locations
2024-03-12T06:27:57.3668152Z   when viewing an existing storage location
2024-03-12T06:27:58.1107332Z     Items out (distributions)
2024-03-12T06:27:58.8742517Z     Items in (adjustments)
2024-03-12T06:27:58.8743385Z   when editing an existing storage location
2024-03-12T06:27:59.6936637Z     User updates an existing storage location
2024-03-12T06:28:00.4733476Z     User updates an existing storage location with empty name
2024-03-12T06:28:00.4734228Z 
2024-03-12T06:28:00.4734570Z /account_requests
2024-03-12T06:28:00.4736683Z   POST #create
2024-03-12T06:28:00.4737614Z     with valid parameters
2024-03-12T06:28:00.4899134Z       delivers the confirmation email via default queue
2024-03-12T06:28:00.5047550Z       creates a new AccountRequest
2024-03-12T06:28:00.5192080Z       redirects to the created account_request confirmation
2024-03-12T06:28:00.5193008Z     with invalid parameters
2024-03-12T06:28:00.5430226Z       renders a successful response (i.e. to display the 'new' template)
2024-03-12T06:28:00.5652805Z       does not create a new AccountRequest
2024-03-12T06:28:00.5653998Z   GET #new
2024-03-12T06:28:00.5795961Z     renders a successful response
2024-03-12T06:28:00.5798770Z   GET #confirmation
2024-03-12T06:28:00.5800167Z     when given a valid token
2024-03-12T06:28:00.5966655Z       should render the confirmation template
2024-03-12T06:28:00.5967690Z     when given a token that has already been confirmed
2024-03-12T06:28:00.7791743Z       should render a error that says that is code provided is invalid
2024-03-12T06:28:00.7793096Z     when given a invalid token
2024-03-12T06:28:00.7861184Z       should render a error that says that is code provided is invalid
2024-03-12T06:28:00.7862318Z   GET #received
2024-03-12T06:28:00.7862906Z     when given a invalid token
2024-03-12T06:28:00.7921380Z       should render a error that says that is code provided is invalid
2024-03-12T06:28:00.7922558Z     when given a valid token
2024-03-12T06:28:00.8058772Z       should render the received template
2024-03-12T06:28:00.8059928Z   GET #confirm
2024-03-12T06:28:00.8061021Z     when given a valid token
2024-03-12T06:28:00.8237964Z       should the update confirmed_at on the account_request, queue confirmation email and render confirm template
2024-03-12T06:28:00.8239850Z     when given a invalid token
2024-03-12T06:28:00.8296280Z       should render a error that says that is code provided is invalid
2024-03-12T06:28:00.8297413Z     when given a token that has already been confirmed
2024-03-12T06:28:01.0235119Z       should render a error that says that is code provided is invalid
2024-03-12T06:28:01.0235878Z 
2024-03-12T06:28:01.0236140Z Manufacturer
2024-03-12T06:28:01.7946566Z   allows a user to update the contact info for a manufacturer
2024-03-12T06:28:02.5434972Z   allows a user to update a manufacturer with empty attributes
2024-03-12T06:28:03.3240641Z   allows a user to create a new manufacturer instance
2024-03-12T06:28:04.0544810Z   allows a user to add a new manufacturer instance with empty attributes
2024-03-12T06:28:04.0546004Z   When a user views the index page
2024-03-12T06:28:04.5430519Z     alphabetizes the manufacturer names
2024-03-12T06:28:04.5431388Z   When the Manufacturers have donations associated with them already
2024-03-12T06:28:05.2202426Z     shows existing Manufacturers in the #index with some summary stats
2024-03-12T06:28:05.9270771Z     allows single Manufacturers to show semi-detailed stats about donations from that manufacturer
2024-03-12T06:28:05.9271840Z 
2024-03-12T06:28:05.9272231Z Base Item Admin
2024-03-12T06:28:05.9280099Z   While signed in as a normal user
2024-03-12T06:28:07.3731975Z     should have a normal user not see anything
2024-03-12T06:28:07.3733207Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-12T06:28:07.8256295Z     can view a single Base Item
2024-03-12T06:28:08.3536074Z     can view a listing of all Base Items that shows a summary of its sub-items
2024-03-12T06:28:08.3537374Z     when creating a new base item
2024-03-12T06:28:09.1914188Z       should succeed when creating a new base item with good data
2024-03-12T06:28:09.9268371Z       should fail when creating a new base item with empty attributes
2024-03-12T06:28:09.9269084Z     when updating an existing base item
2024-03-12T06:28:10.6957917Z       should fail when updating the name to empty
2024-03-12T06:28:11.5152592Z       should succeed when changing the name
2024-03-12T06:28:11.5153739Z   While signed in as an Administrative User (super admin)
2024-03-12T06:28:11.9991959Z     can view a single Base Item
2024-03-12T06:28:12.6573147Z     can view a listing of all Base Items that shows a summary of its sub-items
2024-03-12T06:28:12.6574224Z     when creating a new base item
2024-03-12T06:28:13.5013235Z       should succeed when creating a new base item with good data
2024-03-12T06:28:14.2445267Z       should fail when creating a new base item with empty attributes
2024-03-12T06:28:14.2446268Z     when updating an existing base item
2024-03-12T06:28:14.9819430Z       should fail when updating the name to empty
2024-03-12T06:28:15.8129115Z       should succeed when changing the name
2024-03-12T06:28:15.8130168Z 
2024-03-12T06:28:15.8130762Z ProductDriveParticipants
2024-03-12T06:28:15.8131946Z   While signed in
2024-03-12T06:28:15.8133713Z     Looking at a different organization
2024-03-12T06:28:16.0013758Z       redirects the user to the sign-in page for CRUD actions
2024-03-12T06:28:16.0014401Z     POST #import_csv
2024-03-12T06:28:16.0017900Z       with a csv file
2024-03-12T06:28:16.0060954Z         invokes .import_csv
2024-03-12T06:28:16.0268372Z         presents a flash notice message
2024-03-12T06:28:16.0462373Z         redirects
2024-03-12T06:28:16.0463119Z       csv file with wrong headers
2024-03-12T06:28:16.0600034Z         redirects
2024-03-12T06:28:16.0728456Z         presents a flash error message
2024-03-12T06:28:16.0729264Z       without a csv file
2024-03-12T06:28:16.0846418Z         redirects to :index
2024-03-12T06:28:16.0961584Z         presents a flash error message
2024-03-12T06:28:16.0962936Z     GET #show
2024-03-12T06:28:16.1271106Z       returns http success
2024-03-12T06:28:16.1271659Z     GET #edit
2024-03-12T06:28:16.1602758Z       returns http success
2024-03-12T06:28:16.1603732Z     GET #new
2024-03-12T06:28:16.1913620Z       returns http success
2024-03-12T06:28:16.1914378Z     XHR #create
2024-03-12T06:28:16.2263362Z       flash error
2024-03-12T06:28:16.2595069Z       successful create
2024-03-12T06:28:16.2595956Z     POST #create
2024-03-12T06:28:16.2936604Z       flash error
2024-03-12T06:28:16.3102829Z       successful create
2024-03-12T06:28:16.3103627Z     GET #index
2024-03-12T06:28:16.3104482Z       csv
2024-03-12T06:28:16.3280705Z         is expected to be successful
2024-03-12T06:28:16.3281869Z       html
2024-03-12T06:28:16.3607126Z         is expected to be successful
2024-03-12T06:28:16.3608065Z   While not signed in
2024-03-12T06:28:16.3672202Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:28:16.3851990Z W, [2024-03-11T23:28:16.384875 #2414]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-12T06:28:16.3853937Z W, [2024-03-11T23:28:16.384916 #2414]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:28:16.3856224Z W, [2024-03-11T23:28:16.384934 #2414]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:28:16.3859256Z W, [2024-03-11T23:28:16.384966 #2414]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-12T06:28:16.4738912Z 
2024-03-12T06:28:16.4743704Z Failures:
2024-03-12T06:28:16.4744162Z 
2024-03-12T06:28:16.4747432Z   1) Donations When signed in as a normal user When creating a new donation Via manual entry Ensures Barcode Entry fields have unique ids
2024-03-12T06:28:16.4749121Z      Failure/Error: page.find(:css, "#__add_line_item").click
2024-03-12T06:28:16.4749787Z 
2024-03-12T06:28:16.4750056Z      Capybara::ElementNotFound:
2024-03-12T06:28:16.4750895Z        Unable to find css "#__add_line_item"
2024-03-12T06:28:16.4751372Z 
2024-03-12T06:28:16.4753696Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/capybara/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_ensures_barcode_entry_fields_have_unique_ids_67.png
2024-03-12T06:28:16.4755953Z 
2024-03-12T06:28:16.4755963Z 
2024-03-12T06:28:16.4756550Z      # ./spec/system/donation_system_spec.rb:378:in `block (5 levels) in <top (required)>'
2024-03-12T06:28:16.4757503Z 
2024-03-12T06:28:16.4758979Z   2) Donations When signed in as a normal user When creating a new donation Via manual entry Accepts and combines multiple line items for the same item type
2024-03-12T06:28:16.4760649Z      Failure/Error: page.find(:css, "#__add_line_item").click
2024-03-12T06:28:16.4761237Z 
2024-03-12T06:28:16.4761623Z      Capybara::ElementNotFound:
2024-03-12T06:28:16.4762332Z        Unable to find css "#__add_line_item"
2024-03-12T06:28:16.4762837Z 
2024-03-12T06:28:16.4765213Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_accepts_and_combines_multiple_line_items_for_the_same_item_type_215.png
2024-03-12T06:28:16.4767468Z 
2024-03-12T06:28:16.4767478Z 
2024-03-12T06:28:16.4768182Z      # ./spec/system/donation_system_spec.rb:202:in `block (5 levels) in <top (required)>'
2024-03-12T06:28:16.4769065Z 
2024-03-12T06:28:16.4769956Z   3) Donations When signed in as a normal user When creating a new donation Via barcode entry Allows User to add items by barcode
2024-03-12T06:28:16.4772017Z      Failure/Error: expect(page.has_select?("donation_line_items_attributes_0_item_id", selected: @existing_barcode.item.name)).to eq(true)
2024-03-12T06:28:16.4773304Z 
2024-03-12T06:28:16.4773963Z      Ferrum::JavaScriptError:
2024-03-12T06:28:16.4775017Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:28:16.4777265Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:39227/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:28:16.4779546Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:28:16.4781996Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:28:16.4783573Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:28:16.4785158Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:28:16.4786068Z 
2024-03-12T06:28:16.4788327Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_barcode_entry_allows_user_to_add_items_by_barcode_332.png
2024-03-12T06:28:16.4799262Z 
2024-03-12T06:28:16.4799376Z 
2024-03-12T06:28:16.4800009Z      # ./spec/system/donation_system_spec.rb:431:in `block (5 levels) in <top (required)>'
2024-03-12T06:28:16.4800885Z 
2024-03-12T06:28:16.4802005Z   4) Donations When signed in as a normal user When creating a new donation Via barcode entry Updates the line item when the same barcode is scanned twice
2024-03-12T06:28:16.4805173Z      Failure/Error: @__Condition__.wait @__Lock__, timeout
2024-03-12T06:28:16.4805772Z 
2024-03-12T06:28:16.4806103Z      Ferrum::JavaScriptError:
2024-03-12T06:28:16.4807123Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:28:16.4809370Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:39227/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:28:16.4811272Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:28:16.4812703Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:28:16.4814242Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:28:16.4815542Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:28:16.4816358Z 
2024-03-12T06:28:16.4818633Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_barcode_entry_updates_the_line_item_when_the_same_barcode_is_scanned_twice_762.png
2024-03-12T06:28:16.4820914Z 
2024-03-12T06:28:16.4820925Z 
2024-03-12T06:28:16.4822722Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `sleep'
2024-03-12T06:28:16.4826149Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `wait'
2024-03-12T06:28:16.4829618Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `ns_wait'
2024-03-12T06:28:16.4833139Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:44:in `block in ns_wait_until'
2024-03-12T06:28:16.4836698Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `loop'
2024-03-12T06:28:16.4840820Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `ns_wait_until'
2024-03-12T06:28:16.4844164Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:87:in `block in wait'
2024-03-12T06:28:16.4847578Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `block in synchronize'
2024-03-12T06:28:16.4851537Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:28:16.4855140Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:28:16.4858411Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:84:in `wait'
2024-03-12T06:28:16.4861547Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:75:in `wait'
2024-03-12T06:28:16.4864752Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:99:in `value!'
2024-03-12T06:28:16.4867580Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/browser/client.rb:42:in `command'
2024-03-12T06:28:16.4869750Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/page.rb:269:in `command'
2024-03-12T06:28:16.4872092Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:118:in `block in call'
2024-03-12T06:28:16.4874608Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/utils/attempt.rb:10:in `with_retry'
2024-03-12T06:28:16.4876982Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:105:in `call'
2024-03-12T06:28:16.4879539Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:97:in `evaluate_on'
2024-03-12T06:28:16.4881492Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:28:16.4882854Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:28:16.4884842Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/browser.rb:179:in `disabled?'
2024-03-12T06:28:16.4887300Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:21:in `command'
2024-03-12T06:28:16.4889683Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:143:in `disabled?'
2024-03-12T06:28:16.4892225Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `block in disabled?'
2024-03-12T06:28:16.4894908Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/base.rb:77:in `synchronize'
2024-03-12T06:28:16.4897401Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `disabled?'
2024-03-12T06:28:16.4900416Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector.rb:431:in `block (2 levels) in <top (required)>'
2024-03-12T06:28:16.4903334Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:14:in `block in initialize'
2024-03-12T06:28:16.4906403Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `instance_exec'
2024-03-12T06:28:16.4909143Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `apply'
2024-03-12T06:28:16.4911857Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:24:in `matches?'
2024-03-12T06:28:16.4914844Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:296:in `block (2 levels) in matches_node_filters?'
2024-03-12T06:28:16.4917840Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `each'
2024-03-12T06:28:16.4920643Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `all?'
2024-03-12T06:28:16.4923517Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `block in matches_node_filters?'
2024-03-12T06:28:16.4926521Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/selector.rb:89:in `with_filter_errors'
2024-03-12T06:28:16.4929402Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:283:in `matches_node_filters?'
2024-03-12T06:28:16.4932395Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:124:in `matches_filters?'
2024-03-12T06:28:16.4935072Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/result.rb:32:in `block in initialize'
2024-03-12T06:28:16.4937362Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:28:16.4939698Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:28:16.4941814Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:28:16.4943885Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:28:16.4945240Z      # 
2024-03-12T06:28:16.4945903Z      #   Showing full backtrace because every line was filtered out.
2024-03-12T06:28:16.4946905Z      #   See docs for RSpec::Configuration#backtrace_exclusion_patterns and
2024-03-12T06:28:16.5224090Z      #   RSpec::Configuration#backtrace_inclusion_patterns for more information.
2024-03-12T06:28:16.5224805Z 
2024-03-12T06:28:16.5225986Z   5) Donations When signed in as a normal user When creating a new donation Via barcode entry When the barcode is a global barcode Adds the oldest item it can find for the global barcode
2024-03-12T06:28:16.5228057Z      Failure/Error: expect(page.has_select?("donation_line_items_attributes_0_item_id", selected: @item.name)).to eq(true)
2024-03-12T06:28:16.5228952Z 
2024-03-12T06:28:16.5229115Z      Ferrum::JavaScriptError:
2024-03-12T06:28:16.5230403Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:28:16.5232265Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:39227/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:28:16.5233919Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:28:16.5235148Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:28:16.5236647Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:28:16.5237846Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:28:16.5238840Z 
2024-03-12T06:28:16.5241295Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_barcode_entry_when_the_barcode_is_a_global_barcode_adds_the_oldest_item_it_can_find_for_the_global_barc_687.png
2024-03-12T06:28:16.5243595Z 
2024-03-12T06:28:16.5243613Z 
2024-03-12T06:28:16.5244119Z      # ./spec/system/donation_system_spec.rb:501:in `block (6 levels) in <top (required)>'
2024-03-12T06:28:16.5244866Z 
2024-03-12T06:28:16.5245273Z Finished in 1 minute 41.67 seconds (files took 8.15 seconds to load)
2024-03-12T06:28:16.5246055Z 226 examples, 5 failures
2024-03-12T06:28:16.5246365Z 
2024-03-12T06:28:16.5246516Z Failed examples:
2024-03-12T06:28:16.5246776Z 
2024-03-12T06:28:16.5248033Z rspec ./spec/system/donation_system_spec.rb:377 # Donations When signed in as a normal user When creating a new donation Via manual entry Ensures Barcode Entry fields have unique ids
2024-03-12T06:28:16.5250911Z rspec ./spec/system/donation_system_spec.rb:197 # Donations When signed in as a normal user When creating a new donation Via manual entry Accepts and combines multiple line items for the same item type
2024-03-12T06:28:16.5253695Z rspec ./spec/system/donation_system_spec.rb:422 # Donations When signed in as a normal user When creating a new donation Via barcode entry Allows User to add items by barcode
2024-03-12T06:28:16.5256471Z rspec ./spec/system/donation_system_spec.rb:437 # Donations When signed in as a normal user When creating a new donation Via barcode entry Updates the line item when the same barcode is scanned twice
2024-03-12T06:28:16.5259665Z rspec ./spec/system/donation_system_spec.rb:494 # Donations When signed in as a normal user When creating a new donation Via barcode entry When the barcode is a global barcode Adds the oldest item it can find for the global barcode
2024-03-12T06:28:16.5261492Z 
2024-03-12T06:28:16.5261681Z Randomized with seed 11281
2024-03-12T06:28:16.5262002Z 
2024-03-12T06:28:16.7981100Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:28:16.7983573Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3687 / 6478 LOC (56.92%) covered.
2024-03-12T06:28:16.9170522Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/organization_requests_spec.rb" "spec/requests/partners/individuals_requests_controller_spec.rb" "spec/requests/product_drive_participants_requests_spec.rb" "spec/requests/sessions_requests_spec.rb" "spec/requests/vendors_requests_spec.rb" "spec/system/admin/base_items_system_spec.rb" "spec/system/authorization_system_spec.rb" "spec/system/donation_system_spec.rb" "spec/system/manufacturer_system_spec.rb" "spec/system/partners/family_requests_system_spec.rb" "spec/system/product_drive_system_spec.rb" "spec/system/storage_location_system_spec.rb" failed
2024-03-12T06:28:17.3145265Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:28:17.3147389Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10785 LOC (0.35%) covered.
2024-03-12T06:28:17.3410474Z ##[error]Process completed with exit code 1.
