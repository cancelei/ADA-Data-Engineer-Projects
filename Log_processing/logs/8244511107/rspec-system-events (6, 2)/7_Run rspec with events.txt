2024-03-12T06:26:15.4189645Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-12T06:26:15.4190618Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-12T06:26:15.4241426Z shell: /usr/bin/bash -e {0}
2024-03-12T06:26:15.4241867Z env:
2024-03-12T06:26:15.4242184Z   POSTGRES_HOST: localhost
2024-03-12T06:26:15.4242963Z   DATABASE_HOST: localhost
2024-03-12T06:26:15.4243450Z   PG_USERNAME: postgres
2024-03-12T06:26:15.4243796Z   PG_PASSWORD: password
2024-03-12T06:26:15.4244280Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-12T06:26:15.4244694Z   POSTGRES_PORT: 5432
2024-03-12T06:26:15.4245069Z   PGHOST: localhost
2024-03-12T06:26:15.4245493Z   PGUSER: postgres
2024-03-12T06:26:15.4245801Z   RAILS_ENV: test
2024-03-12T06:26:15.4246167Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-12T06:26:15.4246693Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-12T06:26:15.4247096Z   KNAPSACK_PRO_CI_NODE_INDEX: 2
2024-03-12T06:26:15.4247512Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-12T06:26:15.4248190Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-12T06:26:15.4248783Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-12T06:26:15.4249553Z   EVENTS_READ: true
2024-03-12T06:26:15.4249907Z ##[endgroup]
2024-03-12T06:26:20.7542930Z W, [2024-03-12T06:26:20.753462 #2353]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-12T06:26:20.7545187Z W, [2024-03-12T06:26:20.753525 #2353]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:26:20.7546643Z W, [2024-03-12T06:26:20.753544 #2353]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:26:20.7549704Z W, [2024-03-12T06:26:20.753564 #2353]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-12T06:26:23.2512646Z W, [2024-03-12T06:26:23.250885 #2353]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-12T06:26:23.2514902Z W, [2024-03-12T06:26:23.250932 #2353]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:26:23.2517299Z W, [2024-03-12T06:26:23.250954 #2353]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:26:23.2521282Z W, [2024-03-12T06:26:23.251002 #2353]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-12T06:26:23.2576082Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-03-12T06:26:31.0439502Z 
2024-03-12T06:26:31.0440458Z Randomized with seed 43370
2024-03-12T06:26:31.8898017Z 
2024-03-12T06:26:31.8898808Z Admin::Questions
2024-03-12T06:26:31.8899717Z   while signed in as a super admin
2024-03-12T06:26:31.8901211Z     DELETE #destroy
2024-03-12T06:26:31.9556099Z       lets the user delete questions
2024-03-12T06:26:31.9556950Z     GET #index
2024-03-12T06:26:31.9957288Z       lets the user load the page
2024-03-12T06:26:31.9958005Z     GET #edit
2024-03-12T06:26:32.0341157Z       lets the user load the edit question page
2024-03-12T06:26:32.0341894Z     PATCH #update
2024-03-12T06:26:32.0536752Z       lets the user update questions
2024-03-12T06:26:32.0537621Z     POST #create
2024-03-12T06:26:32.0727022Z       lets the user create questions
2024-03-12T06:26:32.0727847Z     GET #new
2024-03-12T06:26:32.1024505Z       lets the user load the new question page
2024-03-12T06:26:32.1025357Z 
2024-03-12T06:26:32.1025714Z Vendor
2024-03-12T06:26:32.1027645Z   When a user views the index page
2024-03-12T06:26:43.9957681Z     should have the vendor names in alphabetical order
2024-03-12T06:26:43.9958571Z   when editing an existing vendor
2024-03-12T06:26:44.7854665Z     can update the contact info for a vendor as a user
2024-03-12T06:26:45.5205566Z     does not update a vendor with empty attributes
2024-03-12T06:26:45.5206666Z   When vendor have purchases associated with them already
2024-03-12T06:26:46.1458455Z     can have a single vendor show semi-detailed stats about purchases
2024-03-12T06:26:46.7237204Z     can have existing vendors show in the #index with some summary stats
2024-03-12T06:26:46.7238437Z   when creating a new vendor
2024-03-12T06:26:47.4065988Z     cannot add a new vendor instance with empty attributes
2024-03-12T06:26:48.1534781Z     can create a new vendor instance as a user
2024-03-12T06:26:48.1535421Z 
2024-03-12T06:26:48.1537340Z Managing requests
2024-03-12T06:26:48.1538229Z   creating a new quantity request
2024-03-12T06:26:48.1538991Z     GIVEN a partner user is permitted to make a request
2024-03-12T06:26:48.1539895Z       WHEN a request is built using add and remove buttons
2024-03-12T06:26:48.1540850Z         THEN a request records will be created
2024-03-12T06:26:50.1037196Z           creates the correct request
2024-03-12T06:26:50.1038416Z   creating a # individuals request
2024-03-12T06:26:50.1039511Z     GIVEN a partner user is permitted to make a request
2024-03-12T06:26:50.1040330Z       WHEN a request is built using add and remove buttons
2024-03-12T06:26:50.1041292Z         THEN a request records will be created
2024-03-12T06:26:51.9098505Z           creates the correct request
2024-03-12T06:26:51.9100537Z 
2024-03-12T06:26:51.9101155Z Admin::AccountRequestsController
2024-03-12T06:26:51.9102103Z   while signed in as a super admin
2024-03-12T06:26:51.9106498Z     GET #index
2024-03-12T06:26:51.9709949Z       returns success
2024-03-12T06:26:51.9712037Z     GET #for_rejection
2024-03-12T06:26:51.9713227Z       with an invalid token
2024-03-12T06:26:51.9996898Z         should show a not found message
2024-03-12T06:26:51.9997999Z       with a valid token
2024-03-12T06:26:52.0397408Z         should show the request
2024-03-12T06:26:52.0400501Z     POST #reject
2024-03-12T06:26:52.0623512Z       should redirect back on success
2024-03-12T06:26:52.0627300Z 
2024-03-12T06:26:52.0627677Z Dashboard
2024-03-12T06:26:52.0629018Z   With an existing essentials bank
2024-03-12T06:26:52.0631026Z     Distributions
2024-03-12T06:26:53.2759850Z       has a link to create a new distribution
2024-03-12T06:26:53.2761493Z       given 1 Distribution on 2022-03-10  (unless 'All Time'), 1 during 2022-03-11..2024-02-10, and 1 on 2024-02-11
2024-03-12T06:26:53.2763241Z         filtering to '' (March 11, 2022 - February 10, 2024)
2024-03-12T06:26:54.7471997Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-12T06:26:54.7473846Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 3 during 2000-01-01..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:26:54.7474616Z         filtering to 'All Time'
2024-03-12T06:26:56.1235776Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:26:56.1237337Z       given 1 Distribution on 2024-03-04  (unless 'All Time'), 2 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:26:56.1238245Z         filtering to 'Last 7 Days'
2024-03-12T06:26:57.4651688Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-12T06:26:57.4653243Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:26:57.4654093Z         filtering to 'Last Month'
2024-03-12T06:26:58.8443447Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:26:58.8445246Z       given 1 Distribution on 2024-03-10  (unless 'All Time'), 3 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:26:58.8446026Z         filtering to 'Today'
2024-03-12T06:27:00.2249344Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:27:00.2251197Z       given 1 Distribution on 2024-03-09  (unless 'All Time'), 3 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:27:00.2252475Z         filtering to 'Yesterday'
2024-03-12T06:27:01.5674457Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:27:01.5675811Z       given 1 Distribution on 2024-02-10  (unless 'All Time'), 1 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:27:01.5677122Z         filtering to 'Last 30 Days'
2024-03-12T06:27:02.9377439Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-12T06:27:02.9379348Z       given 1 Distribution on 2024-02-29  (unless 'All Time'), 3 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:27:02.9380506Z         filtering to 'This Month'
2024-03-12T06:27:04.3155737Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:27:04.3157551Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:27:04.3158731Z         filtering to 'This Year'
2024-03-12T06:27:05.6657713Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-12T06:27:05.6658731Z     Inventory Totals
2024-03-12T06:27:05.6659641Z       Summary
2024-03-12T06:27:06.3496973Z         displays the on-hand totals
2024-03-12T06:27:06.3497782Z         when constrained to date range
2024-03-12T06:27:07.3431291Z           does not change
2024-03-12T06:27:07.3432103Z     Manufacturer Donations
2024-03-12T06:27:07.9073884Z       has a link to create a new donation
2024-03-12T06:27:07.9075352Z       given 1 Manufacturer donating on 2024-03-04  (unless 'All Time'), 5 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:27:07.9076546Z         filtering to 'Last 7 Days'
2024-03-12T06:27:09.8191916Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-03-12T06:27:09.8193842Z       given 1 Manufacturer donating on 2024-02-10  (unless 'All Time'), 2 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:27:09.8195186Z         filtering to 'Last 30 Days'
2024-03-12T06:27:11.3239023Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-03-12T06:27:11.3240479Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:27:11.3241422Z         filtering to 'Last Month'
2024-03-12T06:27:12.7688920Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-03-12T06:27:12.7690683Z       given 1 Manufacturer donating on 2022-03-10  (unless 'All Time'), 9 during 2022-03-11..2023-10-03, and 1 on 2023-10-04
2024-03-12T06:27:12.7691848Z         filtering to '' (March 11, 2022 - October 3, 2023)
2024-03-12T06:27:15.4035163Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-12T06:27:15.4037121Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:27:15.4038534Z         filtering to 'This Year'
2024-03-12T06:27:16.6988962Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-03-12T06:27:16.6990673Z       given 1 Manufacturer donating on 2024-03-09  (unless 'All Time'), 0 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:27:16.6991870Z         filtering to 'Yesterday'
2024-03-12T06:27:18.0158263Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-03-12T06:27:18.0159784Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 0 during 2000-01-01..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:27:18.0160611Z         filtering to 'All Time'
2024-03-12T06:27:19.2888366Z           shows the correct total and 1 Top Manufacturer Donation link(s)
2024-03-12T06:27:19.2889983Z       given 1 Manufacturer donating on 2024-02-29  (unless 'All Time'), 1 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:27:19.2891507Z         filtering to 'This Month'
2024-03-12T06:27:20.7427443Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-03-12T06:27:20.7429034Z       given 1 Manufacturer donating on 2024-03-10  (unless 'All Time'), 3 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:27:20.7430136Z         filtering to 'Today'
2024-03-12T06:27:22.2900251Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-12T06:27:22.2901135Z     Signage
2024-03-12T06:27:25.1351919Z       shows their organization name unless they have a logo set
2024-03-12T06:27:25.1352948Z     Product Drives
2024-03-12T06:27:25.6950282Z       has a widget for product drive summary data
2024-03-12T06:27:25.6951180Z       Product drive behaviour with Mixed Donation types
2024-03-12T06:27:26.3745153Z         only counts product drive donations for product drive
2024-03-12T06:27:27.0512276Z         only counts product drive money raised
2024-03-12T06:27:27.7348752Z         only shows product drive donations as product drive donations
2024-03-12T06:27:27.7350763Z       given 1 Product Drive Donation on 2024-03-10 (unless 'All Time'), 2 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:27:27.7351993Z         filtering to 'Today'
2024-03-12T06:27:29.1033175Z           shows 2 Recent Donation link(s)
2024-03-12T06:27:30.4832110Z           shows the correct total money raised
2024-03-12T06:27:31.9497592Z           shows the correct total donations
2024-03-12T06:27:31.9499489Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:27:31.9500987Z         filtering to 'This Year'
2024-03-12T06:27:33.3259755Z           shows the correct total donations
2024-03-12T06:27:34.6876901Z           shows 2 Recent Donation link(s)
2024-03-12T06:27:36.0618908Z           shows the correct total money raised
2024-03-12T06:27:36.0620763Z       given 1 Product Drive Donation on 2024-02-10 (unless 'All Time'), 1 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:27:36.0622029Z         filtering to 'Last 30 Days'
2024-03-12T06:27:37.3947791Z           shows the correct total money raised
2024-03-12T06:27:38.7431973Z           shows the correct total donations
2024-03-12T06:27:40.0900802Z           shows 1 Recent Donation link(s)
2024-03-12T06:27:40.0902427Z       given 1 Product Drive Donation on 2022-03-10 (unless 'All Time'), 1 during 2022-03-11..2023-12-09, and 1 on 2023-12-10
2024-03-12T06:27:40.0903755Z         filtering to '' (March 11, 2022 - December 9, 2023)
2024-03-12T06:27:41.4398648Z           shows the correct total money raised
2024-03-12T06:27:42.7723961Z           shows the correct total donations
2024-03-12T06:27:44.1358632Z           shows 1 Recent Donation link(s)
2024-03-12T06:27:44.1360267Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:27:44.1361003Z         filtering to 'Last Month'
2024-03-12T06:27:45.6445868Z           shows 3 Recent Donation link(s)
2024-03-12T06:27:47.0389442Z           shows the correct total donations
2024-03-12T06:27:48.4650782Z           shows the correct total money raised
2024-03-12T06:27:48.4652381Z       given 1 Product Drive Donation on 2024-03-04 (unless 'All Time'), 2 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:27:48.4655739Z         filtering to 'Last 7 Days'
2024-03-12T06:27:49.8220346Z           shows the correct total money raised
2024-03-12T06:27:51.1931015Z           shows 2 Recent Donation link(s)
2024-03-12T06:27:52.5644212Z           shows the correct total donations
2024-03-12T06:27:52.5646071Z       given 1 Product Drive Donation on 2024-03-09 (unless 'All Time'), 2 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:27:52.5647447Z         filtering to 'Yesterday'
2024-03-12T06:27:53.9348083Z           shows 2 Recent Donation link(s)
2024-03-12T06:27:55.3347386Z           shows the correct total money raised
2024-03-12T06:27:56.6825347Z           shows the correct total donations
2024-03-12T06:27:56.6826961Z       given 1 Product Drive Donation on 2024-02-29 (unless 'All Time'), 4 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:27:56.6827862Z         filtering to 'This Month'
2024-03-12T06:27:58.1480587Z           shows 3 Recent Donation link(s)
2024-03-12T06:27:59.5711672Z           shows the correct total donations
2024-03-12T06:28:01.0137762Z           shows the correct total money raised
2024-03-12T06:28:01.0138882Z     Purchases
2024-03-12T06:28:01.8770612Z       has a link to create a new purchase
2024-03-12T06:28:01.8772534Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:28:01.8773864Z         filtering to 'Last Month'
2024-03-12T06:28:03.2815684Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:28:03.2817338Z       given 1 Purchase on 2024-03-10  (unless 'All Time'), 2 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:28:03.2818662Z         filtering to 'Today'
2024-03-12T06:28:04.6217181Z           shows correct 2 Recent Purchase link(s)
2024-03-12T06:28:04.6218875Z       given 1 Purchase on 2022-03-10  (unless 'All Time'), 1 during 2022-03-11..2023-09-15, and 1 on 2023-09-16
2024-03-12T06:28:04.6219889Z         filtering to '' (March 11, 2022 - September 15, 2023)
2024-03-12T06:28:05.9535194Z           shows correct 1 Recent Purchase link(s)
2024-03-12T06:28:05.9536849Z       given 1 Purchase on 2024-03-09  (unless 'All Time'), 4 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:28:05.9538072Z         filtering to 'Yesterday'
2024-03-12T06:28:07.3937823Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:28:07.3939482Z       given 1 Purchase on 2024-03-04  (unless 'All Time'), 4 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:28:07.3940903Z         filtering to 'Last 7 Days'
2024-03-12T06:28:08.8307616Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:28:08.8310778Z       given 1 Purchase on 2024-02-10  (unless 'All Time'), 3 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:28:08.8311854Z         filtering to 'Last 30 Days'
2024-03-12T06:28:10.2407062Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:28:10.2409607Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 4 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:28:10.2410683Z         filtering to 'This Year'
2024-03-12T06:28:11.6830371Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:28:11.6831660Z       given 1 Purchase on 2024-02-29  (unless 'All Time'), 3 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:28:11.6832627Z         filtering to 'This Month'
2024-03-12T06:28:13.0895877Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:28:13.0897365Z     Donations
2024-03-12T06:28:13.9511838Z       has a link to create a new donation
2024-03-12T06:28:13.9513838Z       given 1 Donation on 2024-03-09 (only if a valid date), 0 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:28:13.9515224Z         filtering to 'Yesterday'
2024-03-12T06:28:17.2518137Z           shows the correct total and 0 Recent Donation link(s)
2024-03-12T06:28:17.2519544Z       given 1 Donation on 2024-02-10 (only if a valid date), 4 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:28:17.2520294Z         filtering to 'Last 30 Days'
2024-03-12T06:28:18.6889542Z           shows the correct total and 3 Recent Donation link(s)
2024-03-12T06:28:18.6892956Z       given 1 Donation on 2022-03-10 (only if a valid date), 0 during 2022-03-11..2023-11-13, and 1 on 2023-11-14
2024-03-12T06:28:18.6894633Z         filtering to '' (March 11, 2022 - November 13, 2023)
2024-03-12T06:28:21.9869960Z           shows the correct total and 0 Recent Donation link(s)
2024-03-12T06:28:21.9871668Z       given 1 Donation on 2024-02-29 (only if a valid date), 1 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:28:21.9872485Z         filtering to 'This Month'
2024-03-12T06:28:23.3121711Z           shows the correct total and 1 Recent Donation link(s)
2024-03-12T06:28:23.3123398Z       given 1 Donation on 2024-03-04 (only if a valid date), 3 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:28:23.3124272Z         filtering to 'Last 7 Days'
2024-03-12T06:28:24.7182531Z           shows the correct total and 3 Recent Donation link(s)
2024-03-12T06:28:24.7184214Z       given 1 Donation on 2023-12-31 (only if a valid date), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:28:24.7185464Z         filtering to 'This Year'
2024-03-12T06:28:26.1347435Z           shows the correct total and 3 Recent Donation link(s)
2024-03-12T06:28:26.1349438Z       given 1 Donation on 2024-01-31 (only if a valid date), 2 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:28:26.1350796Z         filtering to 'Last Month'
2024-03-12T06:28:27.5196683Z           shows the correct total and 2 Recent Donation link(s)
2024-03-12T06:28:27.5198511Z       given 1 Donation on 2024-03-10 (only if a valid date), 0 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:28:27.5199766Z         filtering to 'Today'
2024-03-12T06:28:30.8180187Z           shows the correct total and 0 Recent Donation link(s)
2024-03-12T06:28:30.8183027Z   With a new essentials bank
2024-03-12T06:28:58.7364373Z     displays the getting started guide until the steps are completed
2024-03-12T06:28:58.7365973Z 
2024-03-12T06:28:58.7367787Z StorageLocations
2024-03-12T06:28:58.7368908Z   While not signed in
2024-03-12T06:28:58.7441275Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:28:58.7442101Z   While signed in
2024-03-12T06:28:58.7443015Z     GET #new
2024-03-12T06:28:59.1051150Z       returns http success
2024-03-12T06:28:59.1052183Z     PUT #reactivate
2024-03-12T06:28:59.1219719Z       undiscards
2024-03-12T06:28:59.1220426Z     GET #index
2024-03-12T06:28:59.1221115Z       html
2024-03-12T06:28:59.1538420Z         succeeds
2024-03-12T06:28:59.1539458Z         with inactive locations
2024-03-12T06:28:59.1856389Z           does not includes the inactive location
2024-03-12T06:28:59.1857152Z           with include_inactive_locations
2024-03-12T06:28:59.2280631Z             includes the inactive location
2024-03-12T06:28:59.2281486Z       csv
2024-03-12T06:28:59.2464760Z         succeeds
2024-03-12T06:28:59.3391888Z         includes headers followed by alphabetized item names
2024-03-12T06:28:59.3392845Z     POST #import_csv
2024-03-12T06:28:59.3393928Z       csv file with wrong headers
2024-03-12T06:28:59.3552579Z         presents a flash error message
2024-03-12T06:28:59.3671046Z         redirects
2024-03-12T06:28:59.3671924Z       without a csv file
2024-03-12T06:28:59.3780862Z         redirects to :index
2024-03-12T06:28:59.3892664Z         presents a flash error message
2024-03-12T06:28:59.3893529Z       with a csv file
2024-03-12T06:28:59.4034556Z         redirects
2024-03-12T06:28:59.4083421Z         invokes .import_csv
2024-03-12T06:28:59.4221102Z         presents a flash notice message
2024-03-12T06:28:59.4221765Z     GET #show
2024-03-12T06:28:59.4222574Z       html
2024-03-12T06:28:59.4886911Z         should return a correct response
2024-03-12T06:28:59.4887954Z         with version date set
2024-03-12T06:28:59.4888874Z           with a version found
2024-03-12T06:28:59.5637079Z             should show the version specified
2024-03-12T06:28:59.5638329Z           with no version found
2024-03-12T06:28:59.6311165Z             should show N/A
2024-03-12T06:28:59.6312053Z       csv
2024-03-12T06:28:59.6791391Z         should be successful
2024-03-12T06:28:59.6792154Z     GET #inventory
2024-03-12T06:28:59.6793103Z       when also including inactive items
2024-03-12T06:28:59.7428742Z         returns a collection that also includes items that have been deactivated
2024-03-12T06:28:59.7429783Z       when also including omitted items
2024-03-12T06:28:59.7898932Z         returns a collection that also includes all items, but with zeroed quantities
2024-03-12T06:28:59.8346698Z         contains a collection of ducktyped entries that respond the same
2024-03-12T06:28:59.8347702Z       without any overrides
2024-03-12T06:28:59.8831456Z         returns a collection that only includes items at the storage location
2024-03-12T06:28:59.8832811Z     PUT #deactivate
2024-03-12T06:28:59.9019028Z       discards
2024-03-12T06:28:59.9019801Z       with inventory
2024-03-12T06:28:59.9460721Z         does not discard
2024-03-12T06:28:59.9461570Z     Looking at a different organization
2024-03-12T06:29:00.1197530Z       redirects the user to the sign-in page for CRUD actions
2024-03-12T06:29:00.1198379Z     GET #edit
2024-03-12T06:29:00.1528260Z       returns http success
2024-03-12T06:29:00.1528931Z     GET #destroy
2024-03-12T06:29:00.1801226Z       redirects to #index
2024-03-12T06:29:00.1802336Z 
2024-03-12T06:29:00.1802914Z Events
2024-03-12T06:29:00.1804049Z   When not signed in
2024-03-12T06:29:00.1991000Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:29:00.1992067Z   When signed in
2024-03-12T06:29:00.1992728Z     GET #index
2024-03-12T06:29:00.7219398Z       should be successful
2024-03-12T06:29:00.7220271Z       with item filter
2024-03-12T06:29:01.2596522Z         should not include the other item
2024-03-12T06:29:01.2597284Z       with eventable_id
2024-03-12T06:29:01.9428654Z         should only show events from that eventable
2024-03-12T06:29:01.9429518Z       with storage location filter
2024-03-12T06:29:02.6203010Z         should not include the other storage location
2024-03-12T06:29:02.6204006Z       with date filter
2024-03-12T06:29:03.1479623Z         should not include the old donation
2024-03-12T06:29:03.1480589Z       with type filter
2024-03-12T06:29:03.6519417Z         should not include the adjustment
2024-03-12T06:29:03.6520197Z 
2024-03-12T06:29:03.6520565Z /partners/profiles
2024-03-12T06:29:03.6521830Z   GET #edit
2024-03-12T06:29:03.7508170Z     displays the partner
2024-03-12T06:29:03.8325645Z     has "No" radio button value when value is false
2024-03-12T06:29:03.9148250Z     has "Yes" radio button value when value is true
2024-03-12T06:29:03.9973964Z     does not have default radio button value when value is nil
2024-03-12T06:29:03.9974568Z   GET #show
2024-03-12T06:29:04.0491479Z     displays the partner
2024-03-12T06:29:04.0992811Z     shows correct values for yes/no buttons
2024-03-12T06:29:04.0993535Z   PUT #update
2024-03-12T06:29:04.1488238Z     updates the partner and profile
2024-03-12T06:29:04.1488731Z     with no social media
2024-03-12T06:29:04.2331318Z       shows an error
2024-03-12T06:29:04.2332263Z     when updating an existing value to a blank value
2024-03-12T06:29:04.2811729Z       does store N/A in the database
2024-03-12T06:29:04.3265163Z       updates the partner profile attribute to a blank value
2024-03-12T06:29:04.3713981Z       does not update other partner profile attributes to blank
2024-03-12T06:29:04.3715105Z 
2024-03-12T06:29:04.3715582Z BroadcastAnnouncements
2024-03-12T06:29:04.3717411Z   GET /edit
2024-03-12T06:29:04.4067040Z     render a successful response
2024-03-12T06:29:04.4067796Z   PATCH /update
2024-03-12T06:29:04.4068624Z     with invalid parameters
2024-03-12T06:29:04.4361086Z       does not render a successful response
2024-03-12T06:29:04.4362106Z     with valid parameters
2024-03-12T06:29:04.4535851Z       updates the requested announcement and redirects
2024-03-12T06:29:04.4536777Z   DELETE /destroy
2024-03-12T06:29:04.4693469Z     destroys the requested announcement then redirects
2024-03-12T06:29:04.4694331Z   GET /index
2024-03-12T06:29:04.5047130Z     renders a successful response
2024-03-12T06:29:04.5047875Z   POST /create
2024-03-12T06:29:04.5048412Z     with invalid parameters
2024-03-12T06:29:04.5342320Z       does not create a new BroadcastAnnouncement
2024-03-12T06:29:04.5612341Z       does not render a successful response
2024-03-12T06:29:04.5613065Z     with valid parameters
2024-03-12T06:29:04.5757767Z       creates a new BroadcastAnnouncement then redirects
2024-03-12T06:29:04.5758648Z   GET /new
2024-03-12T06:29:04.6010188Z     renders a successful response
2024-03-12T06:29:04.6010787Z 
2024-03-12T06:29:04.6011362Z /partners/dashboard
2024-03-12T06:29:04.7020774Z   displays upcoming distributions
2024-03-12T06:29:04.7021510Z   BroadcastAnnouncement card
2024-03-12T06:29:04.7513938Z     doesn't display announcements if there are not valid ones
2024-03-12T06:29:04.8026095Z     doesn't display announcements from super admins
2024-03-12T06:29:04.8518637Z     displays announcements if there are valid ones
2024-03-12T06:29:04.8519677Z   with just partner role
2024-03-12T06:29:04.8995376Z     should not display the switch link
2024-03-12T06:29:04.8996007Z   with both roles
2024-03-12T06:29:04.9548307Z     should include the switch link
2024-03-12T06:29:04.9549282Z   GET #index
2024-03-12T06:29:05.0191875Z     does not display requests in other states
2024-03-12T06:29:05.0873777Z     displays requests that are pending
2024-03-12T06:29:05.0874853Z 
2024-03-12T06:29:05.0875135Z Kit management
2024-03-12T06:29:06.5165946Z   can allocate and deallocate quantity per storage location from kit index
2024-03-12T06:29:07.0741642Z   should not display inactive storage locations under allocations
2024-03-12T06:29:07.9429326Z   can create a new kit as a user with the proper quantity
2024-03-12T06:29:07.9429934Z   when there is no kit quantity
2024-03-12T06:29:09.0467156Z     will not change quantity amounts when deallocating
2024-03-12T06:29:09.0468531Z   when there is not enough quantity of the items contained in the kit on-hand
2024-03-12T06:29:10.1084087Z     will not change quantity amounts when allocating
2024-03-12T06:29:10.1084739Z 
2024-03-12T06:29:10.1084966Z User account management
2024-03-12T06:29:10.1086005Z   when not in staging
2024-03-12T06:29:10.9432113Z     should change the email
2024-03-12T06:29:11.7006210Z     should fail when the email is invalid
2024-03-12T06:29:12.5932180Z     should change an user name
2024-03-12T06:29:12.5933059Z   when in staging
2024-03-12T06:29:13.0555524Z     should not allow the user to change staging credentials
2024-03-12T06:29:13.5003452Z     should display staging warning
2024-03-12T06:29:13.5004065Z 
2024-03-12T06:29:13.5004291Z Admin Organization Management
2024-03-12T06:29:13.5006120Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-12T06:29:15.4475238Z     creates a new organization
2024-03-12T06:29:15.4476150Z   While signed in as an Administrative User (super admin)
2024-03-12T06:29:16.6960495Z     can view organization details
2024-03-12T06:29:18.5130873Z     creates a new organization
2024-03-12T06:29:19.5463960Z     filters by organizations by name in organizations index page
2024-03-12T06:29:19.5464755Z 
2024-03-12T06:29:19.5465070Z Purchases
2024-03-12T06:29:19.5466463Z   while signed in as a normal user
2024-03-12T06:29:19.5467458Z     When creating a new purchase
2024-03-12T06:29:20.0262999Z       should not display inactive storage locations in dropdown
2024-03-12T06:29:20.0263956Z       via barcode entry
2024-03-12T06:29:20.9859260Z         a user can add items via scanning them in by barcode (FAILED - 1)
2024-03-12T06:29:20.9861580Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_a-user-can-add-items-via-scanning-them-in-by-barcode_2024-03-11-23-29-20.847.html[0m
2024-03-12T06:29:20.9864837Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_a-user-can-add-items-via-scanning-them-in-by-barcode_2024-03-11-23-29-20.847.png[0m
2024-03-12T06:29:21.8196739Z         User scan same barcode 2 times (FAILED - 2)
2024-03-12T06:29:21.8198794Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-scan-same-barcode-2-times_2024-03-11-23-29-21.687.html[0m
2024-03-12T06:29:21.8201027Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-scan-same-barcode-2-times_2024-03-11-23-29-21.687.png[0m
2024-03-12T06:29:23.0137773Z         a user can add items that do not yet have a barcode
2024-03-12T06:29:23.0138704Z       Editing purchase
2024-03-12T06:29:23.6251365Z         A user can view another organizations purchase
2024-03-12T06:29:24.1086389Z         A user can see purchased_from value
2024-03-12T06:29:24.1087357Z       via manual entry
2024-03-12T06:29:24.9665026Z         User can create a purchase using dollars decimal amount
2024-03-12T06:29:25.9869110Z         User can create vendor from purchase
2024-03-12T06:29:26.9655279Z         Does not include inactive items in the line item fields
2024-03-12T06:29:28.0190942Z         User can create a purchase IN THE PAST
2024-03-12T06:29:30.6864551Z         multiple line items for the same item type are accepted and combined on the backend (FAILED - 3)
2024-03-12T06:29:30.6867866Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_multiple-line-items-for-the-same-item-type-are-accepted-and-combined-on-the-backend_2024-03-11-23-29-30.554.html[0m
2024-03-12T06:29:30.6870880Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_multiple-line-items-for-the-same-item-type-are-accepted-and-combined-on-the-backend_2024-03-11-23-29-30.554.png[0m
2024-03-12T06:29:30.6872394Z         when creating a purchase incorrectly
2024-03-12T06:29:31.4624938Z           should display failure with error messages
2024-03-12T06:29:32.4026570Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-03-12T06:29:32.4027625Z     When visiting the index page
2024-03-12T06:29:32.4028428Z       In the middle of the year
2024-03-12T06:29:33.1791247Z         User can click to the new purchase form
2024-03-12T06:29:33.8894946Z         User sees purchased date column
2024-03-12T06:29:34.6355670Z         User sees total purchases value
2024-03-12T06:29:34.6356377Z       When filtering on the index page
2024-03-12T06:29:35.4131215Z         User can filter the #index by vendor
2024-03-12T06:29:36.2264795Z         User can filter the #index by storage location
2024-03-12T06:29:36.2265418Z         behaves like Date Range Picker
2024-03-12T06:29:36.2266347Z           when choosing a date range that only includes the previous week
2024-03-12T06:29:37.1547240Z             shows only 1 record
2024-03-12T06:29:37.1548470Z           when choosing 'All Time'
2024-03-12T06:29:38.0726200Z             shows all the records
2024-03-12T06:29:38.0727520Z           when choosing 'Last Month'
2024-03-12T06:29:38.9864734Z             shows only 2 of the records
2024-03-12T06:29:38.9865961Z     When visiting an existing purchase
2024-03-12T06:29:39.4404207Z       does not allow deletion of a purchase
2024-03-12T06:29:39.4405551Z   while signed in as an organization admin
2024-03-12T06:29:40.2669735Z     allows deletion of a purchase
2024-03-12T06:29:40.2670378Z 
2024-03-12T06:29:40.2670869Z Organization management
2024-03-12T06:29:40.2673123Z   while signed in as an organization admin
2024-03-12T06:29:41.3206879Z     can re-activate a user in the organization
2024-03-12T06:29:42.2708897Z     can deactivate a user in the organization
2024-03-12T06:29:42.7439601Z     can see 'Make user' button for admins
2024-03-12T06:29:43.2310227Z     can re-invite a user to an organization after 7 days
2024-03-12T06:29:44.1529400Z     can add a new user to an organization
2024-03-12T06:29:44.1529994Z     Editing the organization
2024-03-12T06:29:45.2919274Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-03-12T06:29:46.1382412Z       can set a reminder and a deadline day
2024-03-12T06:29:47.2525884Z       can select if the org shows year-to-date values on the distribution printout
2024-03-12T06:29:48.0557010Z       can set the NDBN Member ID
2024-03-12T06:29:49.4349908Z       can select and deselect Required Partner Fields
2024-03-12T06:29:50.3732914Z       can disable if the org does NOT use single step invite and approve partner process
2024-03-12T06:29:51.1888842Z       can set a default storage location on the organization
2024-03-12T06:29:52.1407212Z       can select if the org repackages essentials
2024-03-12T06:29:53.0946126Z       can select if the org distributes essentials monthly
2024-03-12T06:29:54.0461144Z       can enable if the org uses single step invite and approve partner process
2024-03-12T06:29:54.0463713Z     Viewing the organization
2024-03-12T06:29:54.5903511Z       can view organization details
2024-03-12T06:29:54.5904425Z   while signed in as a normal user
2024-03-12T06:29:55.0575970Z     cannot see 'Make user' button for admins
2024-03-12T06:29:55.5375570Z     can see summary details about the organization as a user
2024-03-12T06:29:55.5376200Z 
2024-03-12T06:29:55.5376358Z Profiles
2024-03-12T06:29:55.5379445Z   GET #edit
2024-03-12T06:29:55.6124538Z     returns http success
2024-03-12T06:29:55.6124958Z   POST #update
2024-03-12T06:29:55.6125695Z     successful save
2024-03-12T06:29:55.6538514Z       update partner
2024-03-12T06:29:55.6914223Z       redirects to #show
2024-03-12T06:29:55.6914765Z     when updating an existing value to a blank value
2024-03-12T06:29:55.7302141Z       should have blank values
2024-03-12T06:29:55.7722238Z       update partner
2024-03-12T06:29:55.8595989Z W, [2024-03-11T23:29:55.859361 #2384]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-12T06:29:55.8597872Z W, [2024-03-11T23:29:55.859401 #2384]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:29:55.8600147Z W, [2024-03-11T23:29:55.859416 #2384]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:29:55.8602301Z W, [2024-03-11T23:29:55.859436 #2384]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-12T06:29:55.8973727Z 
2024-03-12T06:29:55.8974268Z Failures:
2024-03-12T06:29:55.8974500Z 
2024-03-12T06:29:55.8976214Z   1) Purchases while signed in as a normal user When creating a new purchase via barcode entry a user can add items via scanning them in by barcode
2024-03-12T06:29:55.8977990Z      Failure/Error: qty = page.find(:xpath, '//input[@id="purchase_line_items_attributes_0_quantity"]').value
2024-03-12T06:29:55.8978726Z 
2024-03-12T06:29:55.8978912Z      Ferrum::JavaScriptError:
2024-03-12T06:29:55.8979576Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:29:55.8981364Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:42505/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:29:55.8983349Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:29:55.8987880Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:29:55.8989089Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:29:55.8990226Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:29:55.8990981Z 
2024-03-12T06:29:55.8993103Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/capybara/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_barcode_entry_a_user_can_add_items_via_scanning_them_in_by_barcode_530.png
2024-03-12T06:29:55.8995133Z 
2024-03-12T06:29:55.8996212Z 
2024-03-12T06:29:55.8996818Z      # ./spec/system/purchase_system_spec.rb:235:in `block (5 levels) in <top (required)>'
2024-03-12T06:29:55.8997520Z 
2024-03-12T06:29:55.8998301Z   2) Purchases while signed in as a normal user When creating a new purchase via barcode entry User scan same barcode 2 times
2024-03-12T06:29:55.8999608Z      Failure/Error: @__Condition__.wait @__Lock__, timeout
2024-03-12T06:29:55.9000081Z 
2024-03-12T06:29:55.9000291Z      Ferrum::JavaScriptError:
2024-03-12T06:29:55.9001075Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:29:55.9003294Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:42505/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:29:55.9005105Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:29:55.9006423Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:29:55.9007690Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:29:55.9008918Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:29:55.9009750Z 
2024-03-12T06:29:55.9011885Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_barcode_entry_user_scan_same_barcode_2_times_144.png
2024-03-12T06:29:55.9013957Z 
2024-03-12T06:29:55.9013967Z 
2024-03-12T06:29:55.9015743Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `sleep'
2024-03-12T06:29:55.9019243Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `wait'
2024-03-12T06:29:55.9022583Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `ns_wait'
2024-03-12T06:29:55.9026244Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:44:in `block in ns_wait_until'
2024-03-12T06:29:55.9030271Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `loop'
2024-03-12T06:29:55.9033900Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `ns_wait_until'
2024-03-12T06:29:55.9037284Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:87:in `block in wait'
2024-03-12T06:29:55.9040761Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `block in synchronize'
2024-03-12T06:29:55.9044695Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:29:55.9048290Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:29:55.9051554Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:84:in `wait'
2024-03-12T06:29:55.9054569Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:75:in `wait'
2024-03-12T06:29:55.9057688Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:99:in `value!'
2024-03-12T06:29:55.9060309Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/browser/client.rb:42:in `command'
2024-03-12T06:29:55.9062529Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/page.rb:269:in `command'
2024-03-12T06:29:55.9064795Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:109:in `block in call'
2024-03-12T06:29:55.9067140Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/utils/attempt.rb:10:in `with_retry'
2024-03-12T06:29:55.9069448Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:105:in `call'
2024-03-12T06:29:55.9071771Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:97:in `evaluate_on'
2024-03-12T06:29:55.9073637Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:29:55.9075000Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:29:55.9077097Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/browser.rb:179:in `disabled?'
2024-03-12T06:29:55.9079666Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:21:in `command'
2024-03-12T06:29:55.9082194Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:143:in `disabled?'
2024-03-12T06:29:55.9085043Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `block in disabled?'
2024-03-12T06:29:55.9087930Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/base.rb:77:in `synchronize'
2024-03-12T06:29:55.9090324Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `disabled?'
2024-03-12T06:29:55.9092950Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector.rb:431:in `block (2 levels) in <top (required)>'
2024-03-12T06:29:55.9095874Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:14:in `block in initialize'
2024-03-12T06:29:55.9098884Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `instance_exec'
2024-03-12T06:29:55.9101474Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `apply'
2024-03-12T06:29:55.9103995Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:24:in `matches?'
2024-03-12T06:29:55.9106942Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:296:in `block (2 levels) in matches_node_filters?'
2024-03-12T06:29:55.9109767Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `each'
2024-03-12T06:29:55.9112286Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `all?'
2024-03-12T06:29:55.9115021Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `block in matches_node_filters?'
2024-03-12T06:29:55.9117868Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/selector.rb:89:in `with_filter_errors'
2024-03-12T06:29:55.9120608Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:283:in `matches_node_filters?'
2024-03-12T06:29:55.9123651Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:124:in `matches_filters?'
2024-03-12T06:29:55.9126186Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/result.rb:32:in `block in initialize'
2024-03-12T06:29:55.9128244Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:29:55.9130251Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:29:55.9132202Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:29:55.9134146Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:29:55.9135272Z      # 
2024-03-12T06:29:55.9135799Z      #   Showing full backtrace because every line was filtered out.
2024-03-12T06:29:55.9136756Z      #   See docs for RSpec::Configuration#backtrace_exclusion_patterns and
2024-03-12T06:29:55.9137778Z      #   RSpec::Configuration#backtrace_inclusion_patterns for more information.
2024-03-12T06:29:55.9138418Z 
2024-03-12T06:29:55.9139594Z   3) Purchases while signed in as a normal user When creating a new purchase via manual entry multiple line items for the same item type are accepted and combined on the backend
2024-03-12T06:29:55.9141584Z      Failure/Error: page.find(:css, "#__add_line_item").click
2024-03-12T06:29:55.9142137Z 
2024-03-12T06:29:55.9142331Z      Capybara::ElementNotFound:
2024-03-12T06:29:55.9142896Z        Unable to find css "#__add_line_item"
2024-03-12T06:29:55.9143336Z 
2024-03-12T06:29:55.9145840Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_manual_entry_multiple_line_items_for_the_same_item_type_are_accepted_and_combined_on_the_backend_755.png
2024-03-12T06:29:55.9148229Z 
2024-03-12T06:29:55.9148236Z 
2024-03-12T06:29:55.9148992Z      # ./spec/system/purchase_system_spec.rb:172:in `block (5 levels) in <top (required)>'
2024-03-12T06:29:55.9149762Z 
2024-03-12T06:29:55.9150155Z Finished in 3 minutes 24.8 seconds (files took 7.57 seconds to load)
2024-03-12T06:29:55.9150959Z 212 examples, 3 failures
2024-03-12T06:29:55.9151265Z 
2024-03-12T06:29:55.9151430Z Failed examples:
2024-03-12T06:29:55.9151681Z 
2024-03-12T06:29:55.9153081Z rspec ./spec/system/purchase_system_spec.rb:227 # Purchases while signed in as a normal user When creating a new purchase via barcode entry a user can add items via scanning them in by barcode
2024-03-12T06:29:55.9155880Z rspec ./spec/system/purchase_system_spec.rb:240 # Purchases while signed in as a normal user When creating a new purchase via barcode entry User scan same barcode 2 times
2024-03-12T06:29:55.9158884Z rspec ./spec/system/purchase_system_spec.rb:167 # Purchases while signed in as a normal user When creating a new purchase via manual entry multiple line items for the same item type are accepted and combined on the backend
2024-03-12T06:29:55.9160576Z 
2024-03-12T06:29:55.9160737Z Randomized with seed 43370
2024-03-12T06:29:55.9161044Z 
2024-03-12T06:29:56.1941120Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:29:56.1942816Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3740 / 6478 LOC (57.73%) covered.
2024-03-12T06:29:56.3030252Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb" failed
2024-03-12T06:29:56.6685584Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:29:56.6687273Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10785 LOC (0.35%) covered.
2024-03-12T06:29:56.6945207Z ##[error]Process completed with exit code 1.
