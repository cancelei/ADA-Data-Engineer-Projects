2024-03-04T21:57:10.2197470Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-04T21:57:10.2198343Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-04T21:57:10.2235979Z shell: /usr/bin/bash -e {0}
2024-03-04T21:57:10.2236464Z env:
2024-03-04T21:57:10.2236803Z   POSTGRES_HOST: localhost
2024-03-04T21:57:10.2237188Z   DATABASE_HOST: localhost
2024-03-04T21:57:10.2237660Z   PG_USERNAME: postgres
2024-03-04T21:57:10.2237992Z   PG_PASSWORD: password
2024-03-04T21:57:10.2238366Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-04T21:57:10.2239092Z   POSTGRES_PORT: 5432
2024-03-04T21:57:10.2239442Z   PGHOST: localhost
2024-03-04T21:57:10.2239793Z   PGUSER: postgres
2024-03-04T21:57:10.2240170Z   RAILS_ENV: test
2024-03-04T21:57:10.2240524Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-04T21:57:10.2240978Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-04T21:57:10.2241463Z   KNAPSACK_PRO_CI_NODE_INDEX: 1
2024-03-04T21:57:10.2241899Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-04T21:57:10.2242848Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-04T21:57:10.2243475Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-04T21:57:10.2244127Z   EVENTS_READ: true
2024-03-04T21:57:10.2244550Z ##[endgroup]
2024-03-04T21:57:15.8918708Z W, [2024-03-04T21:57:15.891487 #2600]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-04T21:57:15.8921096Z W, [2024-03-04T21:57:15.891545 #2600]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-04T21:57:15.8923321Z W, [2024-03-04T21:57:15.891563 #2600]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-04T21:57:15.8926882Z W, [2024-03-04T21:57:15.891590 #2600]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-04T21:57:18.8530879Z W, [2024-03-04T21:57:18.852763 #2600]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-04T21:57:18.8532946Z W, [2024-03-04T21:57:18.852806 #2600]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-04T21:57:18.8535594Z W, [2024-03-04T21:57:18.852825 #2600]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-04T21:57:18.8539395Z W, [2024-03-04T21:57:18.852888 #2600]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-04T21:57:18.8591901Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/adjustments_requests_spec.rb" "spec/requests/admin/partners_requests_spec.rb" "spec/requests/barcode_items_requests_spec.rb" "spec/requests/donations_requests_spec.rb" "spec/requests/partners/children_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-03-04T21:57:27.2961277Z 
2024-03-04T21:57:27.2962700Z Randomized with seed 35965
2024-03-04T21:57:28.1511050Z 
2024-03-04T21:57:28.1511956Z Kit management
2024-03-04T21:57:36.7190576Z   can allocate and deallocate quantity per storage location from kit index
2024-03-04T21:57:37.3077670Z   should not display inactive storage locations under allocations
2024-03-04T21:57:38.2079847Z   can create a new kit as a user with the proper quantity
2024-03-04T21:57:38.2081466Z   when there is not enough quantity of the items contained in the kit on-hand
2024-03-04T21:57:39.3100905Z     will not change quantity amounts when allocating
2024-03-04T21:57:39.3102125Z   when there is no kit quantity
2024-03-04T21:57:40.4437685Z     will not change quantity amounts when deallocating
2024-03-04T21:57:40.4438280Z 
2024-03-04T21:57:40.4438958Z Admin Organization Management
2024-03-04T21:57:40.4440131Z   While signed in as an Administrative User (super admin)
2024-03-04T21:57:41.5179540Z     filters by organizations by name in organizations index page
2024-03-04T21:57:43.6777176Z     creates a new organization
2024-03-04T21:57:44.9530445Z     can view organization details
2024-03-04T21:57:44.9531456Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-04T21:57:46.8264535Z     creates a new organization
2024-03-04T21:57:46.8265988Z 
2024-03-04T21:57:46.8266302Z Managing requests
2024-03-04T21:57:46.8267791Z   creating a new quantity request
2024-03-04T21:57:46.8268762Z     GIVEN a partner user is permitted to make a request
2024-03-04T21:57:46.8269876Z       WHEN they create a request properly
2024-03-04T21:57:46.8271327Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-03-04T21:57:49.0850635Z           AND the partner_user can view the details of the created request in a seperate page
2024-03-04T21:57:49.0852049Z       Select Input Tests
2024-03-04T21:57:49.0852611Z         WHEN they reach the page
2024-03-04T21:57:49.9290429Z           should show the proper items in the select box
2024-03-04T21:57:49.9291091Z           WHEN they create a request improperly
2024-03-04T21:57:51.2404111Z             should show the proper items in the select box
2024-03-04T21:57:51.2405159Z       WHEN they create a request with only a comment
2024-03-04T21:57:52.1737893Z         should be created without any issue
2024-03-04T21:57:52.1800640Z       WHEN they create a request with blank lines
2024-03-04T21:57:53.5503249Z         should be created without any issue
2024-03-04T21:57:53.5504298Z       WHEN they create a request completely empty request
2024-03-04T21:57:54.4321520Z         should show an error message with the instructions
2024-03-04T21:57:54.4322660Z   creating a # individuals request
2024-03-04T21:57:54.4323475Z     GIVEN a partner user is permitted to make a request
2024-03-04T21:57:54.4324879Z       WHEN they create a request properly
2024-03-04T21:57:54.4326201Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-03-04T21:57:56.4952406Z           AND the partner_user can view the details of the created individuals request in a seperate page
2024-03-04T21:57:56.4953695Z       Select Input Tests
2024-03-04T21:57:56.4954175Z         WHEN they reach the page
2024-03-04T21:57:57.3467621Z           should show the proper items in the select box
2024-03-04T21:57:57.3468608Z           WHEN they create a request improperly
2024-03-04T21:57:58.6804241Z             should show the proper items in the select box
2024-03-04T21:57:58.6805517Z       WHEN they create a request with only a comment
2024-03-04T21:57:59.6820058Z         should be created without any issue
2024-03-04T21:57:59.6821094Z       WHEN they create a request improperly by not inputting anything
2024-03-04T21:58:00.6798680Z         should show an error message with the instructions
2024-03-04T21:58:00.6799666Z       WHEN they create a request with blank lines
2024-03-04T21:58:02.1453265Z         should be created without any issue
2024-03-04T21:58:02.1454263Z       WHEN they create a request completely empty request
2024-03-04T21:58:03.0772375Z         should show an error message with the instructions
2024-03-04T21:58:03.0775311Z 
2024-03-04T21:58:03.0775620Z BarcodeItems
2024-03-04T21:58:03.0778045Z   While signed in
2024-03-04T21:58:03.0781072Z     Looking at a different organization
2024-03-04T21:58:03.2801903Z       redirects the user to the sign-in page for CRUD actions
2024-03-04T21:58:03.2803440Z     GET #find
2024-03-04T21:58:03.2803986Z       via ajax
2024-03-04T21:58:03.5066306Z         can find a barcode that's universally available
2024-03-04T21:58:03.7191482Z         can find a barcode that is scoped to just this organization
2024-03-04T21:58:03.7192905Z         when it's missing
2024-03-04T21:58:03.9462397Z           returns a 404
2024-03-04T21:58:03.9463162Z     DELETE #destroy
2024-03-04T21:58:03.9701225Z       disallows a non-superadmin to delete a global barcode
2024-03-04T21:58:04.1734267Z       disallows a user to delete someone else's barcode
2024-03-04T21:58:04.2077485Z       redirects to the index
2024-03-04T21:58:04.2078560Z     GET #index
2024-03-04T21:58:04.2079171Z       csv
2024-03-04T21:58:04.2308645Z         is expected to be successful
2024-03-04T21:58:04.2309631Z       html
2024-03-04T21:58:04.2723498Z         is expected to be successful
2024-03-04T21:58:04.2724387Z     GET #edit
2024-03-04T21:58:04.2725259Z       with a global barcode item
2024-03-04T21:58:04.3023159Z         returns a 404
2024-03-04T21:58:04.3024098Z       with a normal barcode item
2024-03-04T21:58:04.3430460Z         returns http success
2024-03-04T21:58:04.3432108Z     GET #show
2024-03-04T21:58:04.3433156Z       with a normal barcode item
2024-03-04T21:58:04.3812464Z         returns http success
2024-03-04T21:58:04.3814442Z       with a global barcode item
2024-03-04T21:58:04.4398619Z         returns a 404
2024-03-04T21:58:04.4399407Z     GET #new
2024-03-04T21:58:04.4969625Z       returns http success
2024-03-04T21:58:04.4975149Z 
2024-03-04T21:58:04.4975500Z Dashboard
2024-03-04T21:58:04.4977276Z   With a new essentials bank
2024-03-04T21:58:32.7901118Z     displays the getting started guide until the steps are completed
2024-03-04T21:58:32.7902174Z   With an existing essentials bank
2024-03-04T21:58:32.7903380Z     Inventory Totals
2024-03-04T21:58:32.7904485Z       Summary
2024-03-04T21:58:33.4922863Z         displays the on-hand totals
2024-03-04T21:58:33.4923955Z         when constrained to date range
2024-03-04T21:58:34.5213043Z           does not change
2024-03-04T21:58:34.5214339Z     Donations
2024-03-04T21:58:35.4315724Z       has a link to create a new donation
2024-03-04T21:58:35.4317679Z       given 1 Donation on 2024-02-26 (only if a valid date), 4 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:58:35.4318989Z         filtering to 'Last 7 Days'
2024-03-04T21:58:36.9349517Z           shows the correct total and 3 Recent Donation link(s)
2024-03-04T21:58:36.9351391Z       given 1 Donation on 2024-02-29 (only if a valid date), 0 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T21:58:36.9352665Z         filtering to 'This Month'
2024-03-04T21:58:40.2680899Z           shows the correct total and 0 Recent Donation link(s)
2024-03-04T21:58:40.2682555Z       given 1 Donation on 2024-01-31 (only if a valid date), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T21:58:40.2683697Z         filtering to 'Last Month'
2024-03-04T21:58:41.6392063Z           shows the correct total and 1 Recent Donation link(s)
2024-03-04T21:58:41.6393757Z       given 1 Donation on 2023-12-31 (only if a valid date), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T21:58:41.6394572Z         filtering to 'This Year'
2024-03-04T21:58:44.9633392Z           shows the correct total and 0 Recent Donation link(s)
2024-03-04T21:58:44.9635182Z       given 1 Donation on 2024-03-03 (only if a valid date), 2 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:58:44.9635931Z         filtering to 'Today'
2024-03-04T21:58:46.3590350Z           shows the correct total and 2 Recent Donation link(s)
2024-03-04T21:58:46.3591751Z       given 1 Donation on 2022-03-03 (only if a valid date), 2 during 2022-03-04..2024-02-14, and 1 on 2024-02-15
2024-03-04T21:58:46.3593003Z         filtering to '' (March 4, 2022 - February 14, 2024)
2024-03-04T21:58:47.7752932Z           shows the correct total and 2 Recent Donation link(s)
2024-03-04T21:58:47.7754761Z       given 1 Donation on 2024-03-02 (only if a valid date), 0 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T21:58:47.7755554Z         filtering to 'Yesterday'
2024-03-04T21:58:51.1148899Z           shows the correct total and 0 Recent Donation link(s)
2024-03-04T21:58:51.1150725Z       given 1 Donation on 2024-02-03 (only if a valid date), 2 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:58:51.1151945Z         filtering to 'Last 30 Days'
2024-03-04T21:58:52.5073025Z           shows the correct total and 2 Recent Donation link(s)
2024-03-04T21:58:52.5073844Z     Manufacturer Donations
2024-03-04T21:58:53.1027164Z       has a link to create a new donation
2024-03-04T21:58:53.1028977Z       given 1 Manufacturer donating on 2024-02-26  (unless 'All Time'), 7 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:58:53.1030546Z         filtering to 'Last 7 Days'
2024-03-04T21:58:55.2218478Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-03-04T21:58:55.2220383Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T21:58:55.2221259Z         filtering to 'This Year'
2024-03-04T21:58:56.5628110Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-03-04T21:58:56.5630076Z       given 1 Manufacturer donating on 2024-03-02  (unless 'All Time'), 7 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T21:58:56.5631717Z         filtering to 'Yesterday'
2024-03-04T21:58:58.9649987Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-03-04T21:58:58.9651807Z       given 1 Manufacturer donating on 2024-02-29  (unless 'All Time'), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T21:58:58.9652647Z         filtering to 'This Month'
2024-03-04T21:59:00.5409226Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-03-04T21:59:00.5411199Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 8 during 2000-01-01..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:59:00.5412345Z         filtering to 'All Time'
2024-03-04T21:59:02.5135965Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-03-04T21:59:02.5137973Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 8 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T21:59:02.5139314Z         filtering to 'Last Month'
2024-03-04T21:59:04.6977574Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-04T21:59:04.6979379Z       given 1 Manufacturer donating on 2022-03-03  (unless 'All Time'), 3 during 2022-03-04..2023-11-29, and 1 on 2023-11-30
2024-03-04T21:59:04.6980759Z         filtering to '' (March 4, 2022 - November 29, 2023)
2024-03-04T21:59:06.3609709Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-04T21:59:06.3612006Z       given 1 Manufacturer donating on 2024-03-03  (unless 'All Time'), 9 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:59:06.3613298Z         filtering to 'Today'
2024-03-04T21:59:08.7944878Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-04T21:59:08.7946879Z       given 1 Manufacturer donating on 2024-02-03  (unless 'All Time'), 8 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:59:08.7948897Z         filtering to 'Last 30 Days'
2024-03-04T21:59:11.1394800Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-04T21:59:11.1395911Z     Signage
2024-03-04T21:59:14.0093865Z       shows their organization name unless they have a logo set
2024-03-04T21:59:14.0094827Z     Purchases
2024-03-04T21:59:14.8929771Z       has a link to create a new purchase
2024-03-04T21:59:14.8931420Z       given 1 Purchase on 2024-03-03  (unless 'All Time'), 3 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:59:14.8934768Z         filtering to 'Today'
2024-03-04T21:59:16.3484094Z           shows correct 3 Recent Purchase link(s)
2024-03-04T21:59:16.3486060Z       given 1 Purchase on 2022-03-03  (unless 'All Time'), 0 during 2022-03-04..2023-12-06, and 1 on 2023-12-07
2024-03-04T21:59:16.3487531Z         filtering to '' (March 4, 2022 - December 6, 2023)
2024-03-04T21:59:19.7005687Z           shows correct 0 Recent Purchase link(s)
2024-03-04T21:59:19.7007477Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T21:59:19.7008716Z         filtering to 'Last Month'
2024-03-04T21:59:21.2575994Z           shows correct 3 Recent Purchase link(s)
2024-03-04T21:59:21.2577765Z       given 1 Purchase on 2024-02-26  (unless 'All Time'), 3 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:59:21.2579020Z         filtering to 'Last 7 Days'
2024-03-04T21:59:22.7271107Z           shows correct 3 Recent Purchase link(s)
2024-03-04T21:59:22.7273012Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T21:59:22.7273842Z         filtering to 'This Year'
2024-03-04T21:59:24.1305550Z           shows correct 2 Recent Purchase link(s)
2024-03-04T21:59:24.1307140Z       given 1 Purchase on 2024-02-03  (unless 'All Time'), 2 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:59:24.1308228Z         filtering to 'Last 30 Days'
2024-03-04T21:59:25.5402517Z           shows correct 2 Recent Purchase link(s)
2024-03-04T21:59:25.5404218Z       given 1 Purchase on 2024-02-29  (unless 'All Time'), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T21:59:25.5405655Z         filtering to 'This Month'
2024-03-04T21:59:26.9406283Z           shows correct 2 Recent Purchase link(s)
2024-03-04T21:59:26.9410970Z       given 1 Purchase on 2024-03-02  (unless 'All Time'), 3 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T21:59:26.9412255Z         filtering to 'Yesterday'
2024-03-04T21:59:28.3833466Z           shows correct 3 Recent Purchase link(s)
2024-03-04T21:59:28.3834237Z     Distributions
2024-03-04T21:59:29.2824474Z       has a link to create a new distribution
2024-03-04T21:59:29.2826217Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T21:59:29.2827494Z         filtering to 'This Year'
2024-03-04T21:59:30.6753839Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-04T21:59:30.6755716Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 2 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T21:59:30.6757173Z         filtering to 'Last Month'
2024-03-04T21:59:32.0380010Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-04T21:59:32.0381917Z       given 1 Distribution on 2024-02-26  (unless 'All Time'), 4 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:59:32.0383226Z         filtering to 'Last 7 Days'
2024-03-04T21:59:33.5046528Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-04T21:59:33.5048377Z       given 1 Distribution on 2024-03-03  (unless 'All Time'), 3 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:59:33.5049325Z         filtering to 'Today'
2024-03-04T21:59:34.9189698Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-04T21:59:34.9191556Z       given 1 Distribution on 2024-02-29  (unless 'All Time'), 4 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T21:59:34.9193441Z         filtering to 'This Month'
2024-03-04T21:59:36.3506266Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-04T21:59:36.3508275Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 4 during 2000-01-01..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:59:36.3509515Z         filtering to 'All Time'
2024-03-04T21:59:37.7482945Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-04T21:59:37.7484784Z       given 1 Distribution on 2022-03-03  (unless 'All Time'), 3 during 2022-03-04..2023-12-01, and 1 on 2023-12-02
2024-03-04T21:59:37.7485677Z         filtering to '' (March 4, 2022 - December 1, 2023)
2024-03-04T21:59:39.3078296Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-04T21:59:39.3080939Z       given 1 Distribution on 2024-02-03  (unless 'All Time'), 2 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:59:39.3082895Z         filtering to 'Last 30 Days'
2024-03-04T21:59:40.7134729Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-04T21:59:40.7136840Z       given 1 Distribution on 2024-03-02  (unless 'All Time'), 0 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T21:59:40.7138125Z         filtering to 'Yesterday'
2024-03-04T21:59:44.0745988Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-04T21:59:44.0746987Z     Product Drives
2024-03-04T21:59:44.6569409Z       has a widget for product drive summary data
2024-03-04T21:59:44.6571205Z       given 1 Product Drive Donation on 2022-03-03 (unless 'All Time'), 2 during 2022-03-04..2023-10-27, and 1 on 2023-10-28
2024-03-04T21:59:44.6572360Z         filtering to '' (March 4, 2022 - October 27, 2023)
2024-03-04T21:59:46.0655956Z           shows 2 Recent Donation link(s)
2024-03-04T21:59:47.5015358Z           shows the correct total money raised
2024-03-04T21:59:48.9219260Z           shows the correct total donations
2024-03-04T21:59:48.9221149Z       given 1 Product Drive Donation on 2024-02-03 (unless 'All Time'), 4 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:59:48.9222809Z         filtering to 'Last 30 Days'
2024-03-04T21:59:50.4235573Z           shows the correct total money raised
2024-03-04T21:59:51.9087876Z           shows 3 Recent Donation link(s)
2024-03-04T21:59:53.3959384Z           shows the correct total donations
2024-03-04T21:59:53.3961534Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T21:59:53.3963186Z         filtering to 'Last Month'
2024-03-04T21:59:54.8740739Z           shows the correct total donations
2024-03-04T21:59:56.3577818Z           shows the correct total money raised
2024-03-04T21:59:57.9986973Z           shows 3 Recent Donation link(s)
2024-03-04T21:59:57.9988760Z       given 1 Product Drive Donation on 2024-02-26 (unless 'All Time'), 0 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T21:59:57.9990126Z         filtering to 'Last 7 Days'
2024-03-04T21:59:59.3197285Z           shows the correct total money raised
2024-03-04T22:00:00.6569826Z           shows the correct total donations
2024-03-04T22:00:03.9802548Z           shows 0 Recent Donation link(s)
2024-03-04T22:00:03.9804036Z       Product drive behaviour with Mixed Donation types
2024-03-04T22:00:04.6723626Z         only counts product drive money raised
2024-03-04T22:00:05.3908490Z         only counts product drive donations for product drive
2024-03-04T22:00:06.0965362Z         only shows product drive donations as product drive donations
2024-03-04T22:00:06.0967273Z       given 1 Product Drive Donation on 2024-02-29 (unless 'All Time'), 0 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T22:00:06.0968588Z         filtering to 'This Month'
2024-03-04T22:00:07.4149882Z           shows the correct total donations
2024-03-04T22:00:10.7555725Z           shows 0 Recent Donation link(s)
2024-03-04T22:00:12.2014689Z           shows the correct total money raised
2024-03-04T22:00:12.2016343Z       given 1 Product Drive Donation on 2024-03-02 (unless 'All Time'), 1 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T22:00:12.2017262Z         filtering to 'Yesterday'
2024-03-04T22:00:13.5727436Z           shows the correct total money raised
2024-03-04T22:00:14.9485206Z           shows the correct total donations
2024-03-04T22:00:16.3221771Z           shows 1 Recent Donation link(s)
2024-03-04T22:00:16.3223976Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T22:00:16.3225343Z         filtering to 'This Year'
2024-03-04T22:00:17.6967638Z           shows the correct total money raised
2024-03-04T22:00:19.0599782Z           shows 1 Recent Donation link(s)
2024-03-04T22:00:20.4280249Z           shows the correct total donations
2024-03-04T22:00:20.4281918Z       given 1 Product Drive Donation on 2024-03-03 (unless 'All Time'), 3 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T22:00:20.4283745Z         filtering to 'Today'
2024-03-04T22:00:21.8956850Z           shows 3 Recent Donation link(s)
2024-03-04T22:00:23.3390322Z           shows the correct total money raised
2024-03-04T22:00:24.7862536Z           shows the correct total donations
2024-03-04T22:00:24.7864108Z 
2024-03-04T22:00:24.7864463Z /partners/profiles
2024-03-04T22:00:24.7866035Z   PUT #update
2024-03-04T22:00:24.8484304Z     updates the partner and profile
2024-03-04T22:00:24.8485294Z     when updating an existing value to a blank value
2024-03-04T22:00:24.9030763Z       updates the partner profile attribute to a blank value
2024-03-04T22:00:24.9538617Z       does store N/A in the database
2024-03-04T22:00:25.0065537Z       does not update other partner profile attributes to blank
2024-03-04T22:00:25.0066536Z     with no social media
2024-03-04T22:00:25.1154768Z       shows an error
2024-03-04T22:00:25.1155889Z   GET #edit
2024-03-04T22:00:25.2019020Z     has "Yes" radio button value when value is true
2024-03-04T22:00:25.2824045Z     displays the partner
2024-03-04T22:00:25.3751378Z     has "No" radio button value when value is false
2024-03-04T22:00:25.4652226Z     does not have default radio button value when value is nil
2024-03-04T22:00:25.4653854Z   GET #show
2024-03-04T22:00:25.5202436Z     displays the partner
2024-03-04T22:00:25.5716431Z     shows correct values for yes/no buttons
2024-03-04T22:00:25.5717374Z 
2024-03-04T22:00:25.5717771Z Adjustments
2024-03-04T22:00:25.5718873Z   while signed in
2024-03-04T22:00:25.5720048Z     GET #new
2024-03-04T22:00:25.6185156Z       is successful
2024-03-04T22:00:25.6185689Z     POST #create
2024-03-04T22:00:25.6186982Z       with invalid params
2024-03-04T22:00:25.6549488Z         re-renders the 'new' template
2024-03-04T22:00:25.6902282Z         assigns a newly created but unsaved adjustment as @adjustment
2024-03-04T22:00:25.6903402Z       with valid params
2024-03-04T22:00:25.7248247Z         creates a new Adjustment
2024-03-04T22:00:25.7533297Z         assigns a newly created adjustment as @adjustment
2024-03-04T22:00:25.7803092Z         assigns a user id from the current user
2024-03-04T22:00:25.8081955Z         redirects to the #show after created adjustment
2024-03-04T22:00:25.8083619Z     GET #show
2024-03-04T22:00:25.8435629Z       is expected to be successful
2024-03-04T22:00:25.8436466Z     GET #index
2024-03-04T22:00:25.8437383Z       html
2024-03-04T22:00:25.8864682Z         is successful
2024-03-04T22:00:25.8865311Z         when filtering by date
2024-03-04T22:00:25.8866216Z           when date parameters are supplied
2024-03-04T22:00:25.9381945Z             only returns the correct objects
2024-03-04T22:00:25.9383329Z           when date parameters are not supplied
2024-03-04T22:00:25.9868790Z             returns all objects
2024-03-04T22:00:25.9869623Z       csv
2024-03-04T22:00:26.0112375Z         is expected to be successful
2024-03-04T22:00:26.0113511Z 
2024-03-04T22:00:26.0113807Z Admin::Partners
2024-03-04T22:00:26.0114517Z   When logged in as a super admin
2024-03-04T22:00:26.0115752Z     GET #index
2024-03-04T22:00:26.0420805Z       returns http success
2024-03-04T22:00:26.0421667Z     PUT #update
2024-03-04T22:00:26.0422358Z       unsuccessful save due to empty params
2024-03-04T22:00:26.0938177Z         renders #edit template with error message
2024-03-04T22:00:26.0939328Z       successful save
2024-03-04T22:00:26.1284926Z         updates partner
2024-03-04T22:00:26.1611207Z         redirects
2024-03-04T22:00:26.1611871Z     GET #show
2024-03-04T22:00:26.2058461Z       returns http success
2024-03-04T22:00:26.2059565Z     GET #edit
2024-03-04T22:00:26.2536804Z       returns http success
2024-03-04T22:00:26.2537360Z 
2024-03-04T22:00:26.2537619Z Profiles
2024-03-04T22:00:26.2539284Z   POST #update
2024-03-04T22:00:26.2539988Z     successful save
2024-03-04T22:00:26.3027590Z       redirects to #show
2024-03-04T22:00:26.3464329Z       update partner
2024-03-04T22:00:26.3465192Z     when updating an existing value to a blank value
2024-03-04T22:00:26.3887771Z       update partner
2024-03-04T22:00:26.4290220Z       should have blank values
2024-03-04T22:00:26.4290985Z   GET #edit
2024-03-04T22:00:26.5219722Z     returns http success
2024-03-04T22:00:26.5220243Z 
2024-03-04T22:00:26.5220517Z User account management
2024-03-04T22:00:26.5222163Z   when not in staging
2024-03-04T22:00:27.4061776Z     should change the email
2024-03-04T22:00:28.2821212Z     should change an user name
2024-03-04T22:00:29.0440563Z     should fail when the email is invalid
2024-03-04T22:00:29.0442467Z   when in staging
2024-03-04T22:00:29.5018659Z     should display staging warning
2024-03-04T22:00:29.9739039Z     should not allow the user to change staging credentials
2024-03-04T22:00:29.9739784Z 
2024-03-04T22:00:29.9740037Z Vendor
2024-03-04T22:00:29.9742531Z   when editing an existing vendor
2024-03-04T22:00:30.7522008Z     can update the contact info for a vendor as a user
2024-03-04T22:00:31.5004530Z     does not update a vendor with empty attributes
2024-03-04T22:00:31.5005443Z   When vendor have purchases associated with them already
2024-03-04T22:00:32.1105696Z     can have a single vendor show semi-detailed stats about purchases
2024-03-04T22:00:32.6987939Z     can have existing vendors show in the #index with some summary stats
2024-03-04T22:00:32.6988920Z   When a user views the index page
2024-03-04T22:00:33.1754727Z     should have the vendor names in alphabetical order
2024-03-04T22:00:33.1755959Z   when creating a new vendor
2024-03-04T22:00:33.9000730Z     cannot add a new vendor instance with empty attributes
2024-03-04T22:00:34.6833960Z     can create a new vendor instance as a user
2024-03-04T22:00:34.6835504Z 
2024-03-04T22:00:34.6835852Z StorageLocations
2024-03-04T22:00:34.6837337Z   While not signed in
2024-03-04T22:00:34.6920297Z     redirects the user to the sign-in page for CRUD actions
2024-03-04T22:00:34.6921280Z   While signed in
2024-03-04T22:00:34.6922865Z     GET #inventory
2024-03-04T22:00:34.6924357Z       without any overrides
2024-03-04T22:00:34.7492365Z         returns a collection that only includes items at the storage location
2024-03-04T22:00:34.7493092Z       when also including inactive items
2024-03-04T22:00:34.8181476Z         returns a collection that also includes items that have been deactivated
2024-03-04T22:00:34.8182994Z       when also including omitted items
2024-03-04T22:00:34.8693854Z         returns a collection that also includes all items, but with zeroed quantities
2024-03-04T22:00:34.9184329Z         contains a collection of ducktyped entries that respond the same
2024-03-04T22:00:34.9185387Z     PUT #reactivate
2024-03-04T22:00:34.9364312Z       undiscards
2024-03-04T22:00:34.9364925Z     GET #index
2024-03-04T22:00:34.9365667Z       csv
2024-03-04T22:00:35.0397194Z         includes headers followed by alphabetized item names
2024-03-04T22:00:35.0590008Z         succeeds
2024-03-04T22:00:35.0590885Z       html
2024-03-04T22:00:35.0965682Z         succeeds
2024-03-04T22:00:35.0966387Z         with inactive locations
2024-03-04T22:00:35.1369320Z           does not includes the inactive location
2024-03-04T22:00:35.1370129Z           with include_inactive_locations
2024-03-04T22:00:35.1756005Z             includes the inactive location
2024-03-04T22:00:35.1756938Z     GET #show
2024-03-04T22:00:35.1757640Z       csv
2024-03-04T22:00:35.2273434Z         should be successful
2024-03-04T22:00:35.2274143Z       html
2024-03-04T22:00:35.2977118Z         should return a correct response
2024-03-04T22:00:35.2978703Z         with version date set
2024-03-04T22:00:35.2979346Z           with a version found
2024-03-04T22:00:35.3809885Z             should show the version specified
2024-03-04T22:00:35.3810921Z           with no version found
2024-03-04T22:00:35.4506414Z             should show N/A
2024-03-04T22:00:35.4507202Z     Looking at a different organization
2024-03-04T22:00:35.6242560Z       redirects the user to the sign-in page for CRUD actions
2024-03-04T22:00:35.6243547Z     POST #import_csv
2024-03-04T22:00:35.6244085Z       with a csv file
2024-03-04T22:00:35.6413815Z         presents a flash notice message
2024-03-04T22:00:35.6466005Z         invokes .import_csv
2024-03-04T22:00:35.6613428Z         redirects
2024-03-04T22:00:35.6614066Z       without a csv file
2024-03-04T22:00:35.6726122Z         presents a flash error message
2024-03-04T22:00:35.6834884Z         redirects to :index
2024-03-04T22:00:35.6835616Z       csv file with wrong headers
2024-03-04T22:00:35.6953691Z         redirects
2024-03-04T22:00:35.7070978Z         presents a flash error message
2024-03-04T22:00:35.7071965Z     GET #destroy
2024-03-04T22:00:35.7332032Z       redirects to #index
2024-03-04T22:00:35.7332752Z     PUT #deactivate
2024-03-04T22:00:35.7521755Z       discards
2024-03-04T22:00:35.7522705Z       with inventory
2024-03-04T22:00:35.8085664Z         does not discard
2024-03-04T22:00:35.8086801Z     GET #edit
2024-03-04T22:00:36.1787489Z       returns http success
2024-03-04T22:00:36.1788544Z     GET #new
2024-03-04T22:00:36.2121909Z       returns http success
2024-03-04T22:00:36.2123500Z 
2024-03-04T22:00:36.2123854Z Donations
2024-03-04T22:00:36.2124955Z   while signed in
2024-03-04T22:00:36.2126479Z     GET #edit
2024-03-04T22:00:36.2127624Z       when an finalized audit has been performed on the donated items
2024-03-04T22:00:36.3538590Z         shows a warning
2024-03-04T22:00:36.3539331Z     when no audit has been performed
2024-03-04T22:00:36.4581715Z       doesn't show a warning
2024-03-04T22:00:36.4582889Z     when an non-finalized audit has been performed on the donated items
2024-03-04T22:00:36.5839521Z       does not shows a warning
2024-03-04T22:00:36.5840183Z     GET #index
2024-03-04T22:00:36.5840711Z       csv
2024-03-04T22:00:36.6125170Z         is expected to be successful
2024-03-04T22:00:36.6125891Z       html
2024-03-04T22:00:36.6526380Z         is expected to be successful
2024-03-04T22:00:36.6996674Z         should have the columns source and details
2024-03-04T22:00:36.6997644Z         when given a product drive
2024-03-04T22:00:36.7509730Z           should display Product Drive and the name of the drive
2024-03-04T22:00:36.7510761Z         when given a donation site
2024-03-04T22:00:36.8017165Z           should display Donation Site and the name of the site
2024-03-04T22:00:36.8018490Z         when given a manufacturer
2024-03-04T22:00:36.8515857Z           should display Manufacturer and the manufacturer name
2024-03-04T22:00:36.8517090Z         when given a misc donation
2024-03-04T22:00:36.8971242Z           should display Misc Donation and a truncated comment
2024-03-04T22:00:36.8972333Z 
2024-03-04T22:00:36.8972707Z Organization management
2024-03-04T22:00:36.8974361Z   while signed in as an organization admin
2024-03-04T22:00:37.8509381Z     can re-activate a user in the organization
2024-03-04T22:00:38.3590702Z     can see 'Make user' button for admins
2024-03-04T22:00:39.3150874Z     can deactivate a user in the organization
2024-03-04T22:00:39.8195450Z     can re-invite a user to an organization after 7 days
2024-03-04T22:00:40.7811777Z     can add a new user to an organization
2024-03-04T22:00:40.7812673Z     Editing the organization
2024-03-04T22:00:41.6408971Z       can set a default storage location on the organization
2024-03-04T22:00:43.0954450Z       can select and deselect Required Partner Fields
2024-03-04T22:00:43.9576182Z       can set the NDBN Member ID
2024-03-04T22:00:44.9155650Z       can disable if the org does NOT use single step invite and approve partner process
2024-03-04T22:00:46.1018086Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-03-04T22:00:47.0856394Z       can select if the org repackages essentials
2024-03-04T22:00:48.0681490Z       can select if the org shows year-to-date values on the distribution printout
2024-03-04T22:00:49.0565672Z       can select if the org distributes essentials monthly
2024-03-04T22:00:50.0456476Z       can enable if the org uses single step invite and approve partner process
2024-03-04T22:00:50.9037760Z       can set a reminder and a deadline day
2024-03-04T22:00:50.9038633Z     Viewing the organization
2024-03-04T22:00:51.4669303Z       can view organization details
2024-03-04T22:00:51.4670188Z   while signed in as a normal user
2024-03-04T22:00:51.9364291Z     can see summary details about the organization as a user
2024-03-04T22:00:52.3969014Z     cannot see 'Make user' button for admins
2024-03-04T22:00:52.3969846Z 
2024-03-04T22:00:52.3972165Z /partners/children
2024-03-04T22:00:52.3972700Z   GET #index
2024-03-04T22:00:52.4749148Z     should export CSV
2024-03-04T22:00:52.5306712Z     should render without any issues
2024-03-04T22:00:52.5307700Z 
2024-03-04T22:00:52.5308089Z Purchases
2024-03-04T22:00:52.5509790Z   while signed in as a normal user
2024-03-04T22:00:52.5510483Z     When visiting the index page
2024-03-04T22:00:52.5510994Z       When filtering on the index page
2024-03-04T22:00:53.3553586Z         User can filter the #index by storage location
2024-03-04T22:00:54.1727321Z         User can filter the #index by vendor
2024-03-04T22:00:54.1727930Z         behaves like Date Range Picker
2024-03-04T22:00:54.1729084Z           when choosing 'Last Month'
2024-03-04T22:00:55.1253404Z             shows only 2 of the records
2024-03-04T22:00:55.1254219Z           when choosing 'All Time'
2024-03-04T22:00:56.0792384Z             shows all the records
2024-03-04T22:00:56.0793258Z           when choosing a date range that only includes the previous week
2024-03-04T22:00:57.0235055Z             shows only 1 record
2024-03-04T22:00:57.0236258Z       In the middle of the year
2024-03-04T22:00:57.7874277Z         User can click to the new purchase form
2024-03-04T22:00:58.5500597Z         User sees total purchases value
2024-03-04T22:00:59.2884108Z         User sees purchased date column
2024-03-04T22:00:59.2884845Z     When visiting an existing purchase
2024-03-04T22:00:59.7528152Z       does not allow deletion of a purchase
2024-03-04T22:00:59.7528805Z     When creating a new purchase
2024-03-04T22:01:00.2516253Z       should not display inactive storage locations in dropdown
2024-03-04T22:01:00.2517057Z       via manual entry
2024-03-04T22:01:01.1226315Z         User can create a purchase using dollars decimal amount
2024-03-04T22:01:02.2029468Z         User can create a purchase IN THE PAST
2024-03-04T22:01:03.2388294Z         User can create vendor from purchase
2024-03-04T22:01:04.2467291Z         Does not include inactive items in the line item fields
2024-03-04T22:01:05.4973858Z         multiple line items for the same item type are accepted and combined on the backend
2024-03-04T22:01:05.4974903Z         when creating a purchase incorrectly
2024-03-04T22:01:06.3085660Z           should display failure with error messages
2024-03-04T22:01:07.2721770Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-03-04T22:01:07.2722740Z       Editing purchase
2024-03-04T22:01:07.7771495Z         A user can see purchased_from value
2024-03-04T22:01:08.3990979Z         A user can view another organizations purchase
2024-03-04T22:01:08.3991719Z       via barcode entry
2024-03-04T22:01:09.5985564Z         a user can add items that do not yet have a barcode
2024-03-04T22:01:10.3241677Z         a user can add items via scanning them in by barcode
2024-03-04T22:01:11.2312757Z         User scan same barcode 2 times
2024-03-04T22:01:11.2313802Z   while signed in as an organization admin
2024-03-04T22:01:12.1004178Z     allows deletion of a purchase
2024-03-04T22:01:12.1762005Z W, [2024-03-04T14:01:12.175920 #2651]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-04T22:01:12.1763908Z W, [2024-03-04T14:01:12.175968 #2651]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-04T22:01:12.1765549Z W, [2024-03-04T14:01:12.175984 #2651]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-04T22:01:12.1767148Z W, [2024-03-04T14:01:12.176017 #2651]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-04T22:01:12.1767832Z 
2024-03-04T22:01:12.1768085Z Finished in 3 minutes 44.9 seconds (files took 8.21 seconds to load)
2024-03-04T22:01:12.1768555Z 233 examples, 0 failures
2024-03-04T22:01:12.1768744Z 
2024-03-04T22:01:12.1768848Z Randomized with seed 35965
2024-03-04T22:01:12.1769053Z 
2024-03-04T22:01:12.4751722Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3877 / 6475 LOC (59.88%) covered.
2024-03-04T22:01:12.9742993Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10762 LOC (0.35%) covered.
