2024-03-02T16:41:20.2291814Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-02T16:41:20.2292805Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-02T16:41:20.2321106Z shell: /usr/bin/bash -e {0}
2024-03-02T16:41:20.2321526Z env:
2024-03-02T16:41:20.2321933Z   POSTGRES_HOST: localhost
2024-03-02T16:41:20.2322337Z   DATABASE_HOST: localhost
2024-03-02T16:41:20.2322702Z   PG_USERNAME: postgres
2024-03-02T16:41:20.2323151Z   PG_PASSWORD: password
2024-03-02T16:41:20.2323786Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-02T16:41:20.2324235Z   POSTGRES_PORT: 5432
2024-03-02T16:41:20.2324677Z   PGHOST: localhost
2024-03-02T16:41:20.2325040Z   PGUSER: postgres
2024-03-02T16:41:20.2325462Z   RAILS_ENV: test
2024-03-02T16:41:20.2326053Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: ***
2024-03-02T16:41:20.2326560Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-02T16:41:20.2327052Z   KNAPSACK_PRO_CI_NODE_INDEX: 1
2024-03-02T16:41:20.2327503Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-02T16:41:20.2328153Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-02T16:41:20.2328806Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-02T16:41:20.2329444Z   EVENTS_READ: true
2024-03-02T16:41:20.2329825Z ##[endgroup]
2024-03-02T16:41:26.4503410Z I, [2024-03-02T16:41:26.449935 #2477]  INFO -- : [knapsack_pro] Generating RSpec test examples JSON report for slow test files to prepare it to be split by test examples (by individual test cases). Thanks to that, a single slow test file can be split across parallel CI nodes. Analyzing 1 slow test files.
2024-03-02T16:41:35.6896751Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 2526 / 6642 LOC (38.03%) covered.
2024-03-02T16:41:38.5611989Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/system/dashboard_system_spec.rb[1:1:1]" "spec/system/layout_system_spec.rb" "spec/system/storage_location_system_spec.rb" "spec/system/admin/barcode_items_system_spec.rb" "spec/system/account_request_system_spec.rb" "spec/system/dashboard_system_spec.rb[1:2:7:7:1:1]" "spec/requests/admin/organizations_requests_spec.rb" "spec/system/donation_site_system_spec.rb" "spec/requests/partners_requests_spec.rb" "spec/system/dashboard_system_spec.rb[1:2:6:8:1:1]" "spec/system/dashboard_system_spec.rb[1:2:6:5:1:1]" "spec/requests/partners/profiles_requests_spec.rb" "spec/system/dashboard_system_spec.rb[1:2:7:6:1:1]" "spec/system/dashboard_system_spec.rb[1:2:3:6:1:1]" "spec/system/dashboard_system_spec.rb[1:2:4:3:1:1]" "spec/system/dashboard_system_spec.rb[1:2:5:6:1:1]" "spec/system/dashboard_system_spec.rb[1:2:4:6:1:1]" "spec/system/dashboard_system_spec.rb[1:2:5:8:1:1]" "spec/system/dashboard_system_spec.rb[1:2:5:4:1:1]" "spec/requests/transfers_requests_spec.rb" "spec/requests/kit_requests_spec.rb" "spec/system/authorization_system_spec.rb" "spec/system/dashboard_system_spec.rb[1:2:5:10:1]" "spec/requests/distributions_by_county_spec.rb" "spec/system/dashboard_system_spec.rb[1:2:6:1]" "spec/requests/admin/base_items_requests_spec.rb" "spec/requests/static_requests_spec.rb"
2024-03-02T16:41:47.1698421Z Run options: include {:ids=>{"./spec/system/dashboard_system_spec.rb"=>["1:1:1", "1:2:7:7:1:1", "1:2:6:8:1:1", "1:2:6:5:1:1", "1:2:7:6:1:1", "1:2:3:6:1:1", "1:2:4:3:1:1", "1:2:5:6:1:1", "1:2:4:6:1:1", "1:2:5:8:1:1", "1:2:5:4:1:1", "1:2:5:10:1", "1:2:6:1"]}}
2024-03-02T16:41:47.1727758Z 
2024-03-02T16:41:47.1728234Z Randomized with seed 23811
2024-03-02T16:41:48.2159100Z 
2024-03-02T16:41:48.2159876Z Account request flow
2024-03-02T16:41:48.2161322Z   when not in staging
2024-03-02T16:42:03.7813036Z     should allow prospective users to request an account via a form. And that request form data gets used to create an organization
2024-03-02T16:42:03.7814454Z     renders the #new template with the form and errors visible
2024-03-02T16:42:04.6515959Z       shows create bank form info and errors when required fields are missing
2024-03-02T16:42:04.6516844Z     with a partner agency
2024-03-02T16:42:05.2299302Z       reveals text that directs current partner to human essentials sign in page
2024-03-02T16:42:05.2300411Z   when in staging
2024-03-02T16:42:05.6950602Z     should prompt prospective users to request an account on the live app
2024-03-02T16:42:05.6951628Z 
2024-03-02T16:42:05.6951902Z Storage Locations
2024-03-02T16:42:05.6956220Z   when editing an existing storage location
2024-03-02T16:42:07.1590566Z     User updates an existing storage location
2024-03-02T16:42:07.9366043Z     User updates an existing storage location with empty name
2024-03-02T16:42:07.9367387Z   when creating a new storage location
2024-03-02T16:42:08.7438181Z     User creates a new storage location with optional fields
2024-03-02T16:42:09.4871057Z     User creates a new storage location with empty attributes
2024-03-02T16:42:10.3040710Z     User creates a new storage location
2024-03-02T16:42:10.3041613Z   when viewing an existing storage location
2024-03-02T16:42:10.9980833Z     Items in (adjustments)
2024-03-02T16:42:11.7001692Z     Items out (distributions)
2024-03-02T16:42:11.7002480Z   when viewing the index
2024-03-02T16:42:13.1098906Z     Allows user to deactivate and reactivate storage locations
2024-03-02T16:42:13.9216037Z     Stops a user from deactivating storage locations with inventory
2024-03-02T16:42:14.8175548Z     Allows user to filter discarded storage locations
2024-03-02T16:42:16.0737216Z     User can filter the #index by those that contain certain items
2024-03-02T16:42:17.2219979Z     shows totals that are the sum totals of all inputs
2024-03-02T16:42:17.8092813Z     Filter list presented to user is in alphabetical order by item name
2024-03-02T16:42:17.8094747Z 
2024-03-02T16:42:17.8095263Z Admin::BaseItems
2024-03-02T16:42:17.8096423Z   When logged in as an organization admin
2024-03-02T16:42:17.8098485Z     PUT #update
2024-03-02T16:42:17.8273601Z       redirect
2024-03-02T16:42:17.8274335Z     GET #new
2024-03-02T16:42:17.8416421Z       returns http success
2024-03-02T16:42:17.8417019Z     POST #create
2024-03-02T16:42:17.8573132Z       redirects
2024-03-02T16:42:17.8573932Z     GET #index
2024-03-02T16:42:17.8705912Z       returns http success
2024-03-02T16:42:17.8706728Z     DELETE #destroy
2024-03-02T16:42:17.8841006Z       redirects
2024-03-02T16:42:17.8841778Z     GET #edit
2024-03-02T16:42:17.8971927Z       returns http success
2024-03-02T16:42:17.8972980Z     GET #show
2024-03-02T16:42:17.9099949Z       returns http success
2024-03-02T16:42:17.9101012Z 
2024-03-02T16:42:17.9101506Z /kits
2024-03-02T16:42:17.9102564Z   while signed in
2024-03-02T16:42:17.9642692Z     PUT #deactivate
2024-03-02T16:42:18.0232590Z     PUT #reactivate
2024-03-02T16:42:18.0233350Z     GET #index
2024-03-02T16:42:18.1138319Z       should include deactivate
2024-03-02T16:42:18.1138979Z       when show inactive is checked
2024-03-02T16:42:18.1896857Z         should show the inactive kit
2024-03-02T16:42:18.1897565Z       when it is already deactivated
2024-03-02T16:42:18.2760587Z         should show reactivate button
2024-03-02T16:42:18.2761374Z       when it cannot be deactivated
2024-03-02T16:42:18.3838853Z         should disable the button
2024-03-02T16:42:18.3840111Z 
2024-03-02T16:42:18.3840412Z Admin::Organizations
2024-03-02T16:42:18.3841915Z   When logged in as a super admin
2024-03-02T16:42:18.3844705Z     PATCH #update
2024-03-02T16:42:18.3845544Z       with a valid update
2024-03-02T16:42:18.5801812Z         redirects to #index
2024-03-02T16:42:18.5802476Z       with an invalid update
2024-03-02T16:42:18.7882477Z         redirects to #edit with an error message
2024-03-02T16:42:19.0071986Z         returns http success
2024-03-02T16:42:19.0073461Z     DELETE #destroy
2024-03-02T16:42:19.0074003Z       with a valid organization id
2024-03-02T16:42:19.5395114Z         redirects to #index
2024-03-02T16:42:19.5396044Z     GET #index
2024-03-02T16:42:19.5712070Z       returns http success
2024-03-02T16:42:19.5712717Z     GET #edit
2024-03-02T16:42:19.7878616Z       returns http success
2024-03-02T16:42:19.7879394Z     DELETE #destroy
2024-03-02T16:42:20.1491338Z       redirects
2024-03-02T16:42:20.1492159Z     GET #show
2024-03-02T16:42:20.3649736Z       returns http success
2024-03-02T16:42:20.3650531Z     PUT #update
2024-03-02T16:42:20.3849223Z       redirect
2024-03-02T16:42:20.3849813Z     POST #create
2024-03-02T16:42:20.3850599Z       with invalid params
2024-03-02T16:42:20.4337853Z         does not create an organization and renders #create with an error message
2024-03-02T16:42:20.4338967Z       with valid params
2024-03-02T16:42:20.6482158Z         creates an organization and redirects to #index
2024-03-02T16:42:20.6482842Z     GET #new
2024-03-02T16:42:20.6871264Z       returns http success
2024-03-02T16:42:20.6872724Z       when given a token that matches a account request that has already been processed
2024-03-02T16:42:20.9103271Z         should render new with a flash error message
2024-03-02T16:42:20.9104581Z       when given a valid account request token in the query parameters
2024-03-02T16:42:20.9635868Z         should render new with pre populate input fields from the account_request
2024-03-02T16:42:20.9637018Z   When logged in as a non-admin user
2024-03-02T16:42:20.9637898Z     PUT #update
2024-03-02T16:42:20.9778621Z       redirects
2024-03-02T16:42:20.9779244Z     GET #index
2024-03-02T16:42:20.9908660Z       redirects
2024-03-02T16:42:20.9909293Z     POST #create
2024-03-02T16:42:21.0055047Z       redirects
2024-03-02T16:42:21.0055937Z     GET #new
2024-03-02T16:42:21.0175901Z       redirects
2024-03-02T16:42:21.0176781Z     GET #edit
2024-03-02T16:42:21.0296040Z       redirects
2024-03-02T16:42:21.0297617Z 
2024-03-02T16:42:21.0298008Z Transfers
2024-03-02T16:42:21.0299282Z   While not signed in
2024-03-02T16:42:21.0482946Z     redirects the user to the sign-in page for CRUD actions
2024-03-02T16:42:21.0484116Z   While signed in
2024-03-02T16:42:21.0484953Z     Looking at a different organization
2024-03-02T16:42:21.2355019Z       redirects the user to the sign-in page for CRUD actions
2024-03-02T16:42:21.2355709Z     DELETE #destroy
2024-03-02T16:42:21.2356197Z       when the transfer destroy service was successful
2024-03-02T16:42:21.2587376Z         should set a notice flash with the success message and redirect to index
2024-03-02T16:42:21.2588571Z       when the transfer destroy service was not successful
2024-03-02T16:42:21.2811478Z         should set a error flash with the error message and redirect to index
2024-03-02T16:42:21.2812991Z     GET #new
2024-03-02T16:42:21.3285350Z       returns http success
2024-03-02T16:42:21.3286138Z     GET #show
2024-03-02T16:42:21.3720024Z       returns http success
2024-03-02T16:42:21.3720726Z     POST #create
2024-03-02T16:42:21.4191022Z       redirects to #index when successful
2024-03-02T16:42:21.4624365Z       renders to #new when failing
2024-03-02T16:42:21.4625329Z     GET #index
2024-03-02T16:42:21.4626286Z       csv
2024-03-02T16:42:21.4796608Z         is expected to be successful
2024-03-02T16:42:21.4797451Z       html
2024-03-02T16:42:21.5117410Z         is expected to be successful
2024-03-02T16:42:21.5118302Z         when filtering by date
2024-03-02T16:42:21.5118809Z           when date parameters are not supplied
2024-03-02T16:42:21.5658116Z             returns all objects
2024-03-02T16:42:21.5658897Z           when date parameters are supplied
2024-03-02T16:42:21.6215621Z             only returns the correct obejects
2024-03-02T16:42:21.6216692Z 
2024-03-02T16:42:21.6216948Z Donation Site
2024-03-02T16:42:21.6219034Z   When a user views the index page
2024-03-02T16:42:22.2993585Z     allows the user to quick-create a new donation site
2024-03-02T16:42:22.7820366Z     should show donation sites in alphabetical order
2024-03-02T16:42:22.7821280Z   with an existing donation site
2024-03-02T16:42:23.5708074Z     updates an existing donation site
2024-03-02T16:42:24.3424364Z     does not allow updating to an existing donation site with empty attributes
2024-03-02T16:42:24.3425363Z   When creating a new donation site
2024-03-02T16:42:25.1293552Z     creates a new donation site as a user
2024-03-02T16:42:25.9793665Z     does not allow creating a new donation site with empty attributes
2024-03-02T16:42:25.9799137Z 
2024-03-02T16:42:25.9799489Z Partners
2024-03-02T16:42:25.9801965Z   POST #recertify_partner
2024-03-02T16:42:25.9803280Z     when the request for recertification from the partner was NOT successful
2024-03-02T16:42:26.0182412Z       should return back to the partners page with a success flash
2024-03-02T16:42:26.0183307Z     when the request for recertification from the partner was successful
2024-03-02T16:42:26.0511182Z       should return back to the partners page with a success flash
2024-03-02T16:42:26.0512186Z   POST #create
2024-03-02T16:42:26.0512927Z     successful save
2024-03-02T16:42:26.0721376Z       redirects to #index
2024-03-02T16:42:26.0929019Z       creates a new partner
2024-03-02T16:42:26.0930142Z     unsuccessful save due to empty params
2024-03-02T16:42:26.1372430Z       renders :new
2024-03-02T16:42:26.1373511Z   DELETE #destroy
2024-03-02T16:42:26.1812409Z     redirects to #index
2024-03-02T16:42:26.1813198Z   GET #show
2024-03-02T16:42:26.1814014Z     csv
2024-03-02T16:42:26.2680356Z       is expected to be successful
2024-03-02T16:42:26.2681167Z     html
2024-03-02T16:42:26.3579247Z       is expected to be successful
2024-03-02T16:42:26.3580175Z       when the partner is invited
2024-03-02T16:42:26.4464884Z         includes impact metrics
2024-03-02T16:42:26.4466050Z       when the partner is uninvited
2024-03-02T16:42:26.5238995Z         does not show the delete button
2024-03-02T16:42:26.6154287Z         does not include impact metrics
2024-03-02T16:42:26.6155240Z         when the partner has no users
2024-03-02T16:42:26.7067987Z           shows the delete button
2024-03-02T16:42:26.7069171Z   POST #import_csv
2024-03-02T16:42:26.7069754Z     with a csv file
2024-03-02T16:42:26.7427510Z       redirects to :index
2024-03-02T16:42:26.7765033Z       presents a flash notice message
2024-03-02T16:42:26.7818605Z       invokes .import_csv
2024-03-02T16:42:26.7819591Z     csv file with wrong headers
2024-03-02T16:42:26.7951088Z       redirects to :index
2024-03-02T16:42:26.8074171Z       presents a flash error message
2024-03-02T16:42:26.8075236Z     without a csv file
2024-03-02T16:42:26.8189625Z       presents a flash error message
2024-03-02T16:42:26.8309007Z       redirects to :index
2024-03-02T16:42:26.8309813Z   GET #approve_application
2024-03-02T16:42:26.8310529Z     when the approval was successful
2024-03-02T16:42:26.8635562Z       should redirect to the partners index page with a success flash message
2024-03-02T16:42:26.8636705Z     when the approval failed
2024-03-02T16:42:26.8973128Z       should redirect to the partners index page with a failure flash message
2024-03-02T16:42:26.8974442Z   POST #update
2024-03-02T16:42:26.8975079Z     unsuccessful save due to empty params
2024-03-02T16:42:26.9554491Z       renders :edit
2024-03-02T16:42:26.9555459Z     successful save
2024-03-02T16:42:26.9923672Z       update partner
2024-03-02T16:42:27.0291212Z       redirects to #show
2024-03-02T16:42:27.0292051Z   POST #invite_and_approve
2024-03-02T16:42:27.0292875Z     when invitation succeeded and approval succeed
2024-03-02T16:42:27.0651353Z       sends invitation email and approve partner in single step
2024-03-02T16:42:27.0652289Z     when invitation failed
2024-03-02T16:42:27.0977909Z       should redirect to the partners index page with a notice flash message
2024-03-02T16:42:27.0979138Z     when approval fails
2024-03-02T16:42:27.1541679Z       should redirect to the partners index page with a notice flash message
2024-03-02T16:42:27.1543397Z   GET #index
2024-03-02T16:42:27.1543756Z     csv
2024-03-02T16:42:27.1901368Z       is expected to be successful
2024-03-02T16:42:27.1902221Z     html
2024-03-02T16:42:27.2529188Z       is expected to be successful
2024-03-02T16:42:27.2530543Z   PUT #deactivate
2024-03-02T16:42:27.2531368Z     when the partner successfully deactivates
2024-03-02T16:42:27.2908123Z       changes the partner status to deactivated and redirects with flash
2024-03-02T16:42:27.2909193Z   GET #edit
2024-03-02T16:42:27.3432482Z     returns http success
2024-03-02T16:42:27.3433490Z   POST #create
2024-03-02T16:42:27.3434280Z     when given invalid partner attributes in the params
2024-03-02T16:42:27.3854981Z       should not create a new Partners::Profile record
2024-03-02T16:42:27.4270752Z       should not create a new Partner record
2024-03-02T16:42:27.4681865Z       should display the error message
2024-03-02T16:42:27.4682646Z     when given valid partner attributes in the params
2024-03-02T16:42:27.4923757Z       should create a new Partners::Profile record
2024-03-02T16:42:27.5148888Z       redirect to the partners index page
2024-03-02T16:42:27.5375003Z       should create a new Partner record
2024-03-02T16:42:27.5375861Z   GET #new
2024-03-02T16:42:27.5712216Z     returns http success
2024-03-02T16:42:27.5712992Z   PUT #reactivate
2024-03-02T16:42:27.5713761Z     when trying to reactivate a partner who is not deactivated
2024-03-02T16:42:27.6026539Z       fails to change the partner status to reactivated and redirects with flash error message
2024-03-02T16:42:27.6027599Z     when the partner successfully reactivates
2024-03-02T16:42:27.6380909Z       changes the partner status to approved and redirects with flash
2024-03-02T16:42:27.6381591Z   POST #invite
2024-03-02T16:42:27.6702424Z     sends the invite
2024-03-02T16:42:27.6703274Z   POST #invite_partner_user
2024-03-02T16:42:27.6703927Z     when there is an error in invite
2024-03-02T16:42:27.7023054Z       redirect to partner url with error message
2024-03-02T16:42:27.7024178Z     when the invite successfully
2024-03-02T16:42:27.7343209Z       send the invite
2024-03-02T16:42:27.7343851Z 
2024-03-02T16:42:27.7344292Z Layout
2024-03-02T16:42:27.7345502Z   Body CSS Data
2024-03-02T16:42:28.5588729Z     sets the ID to the controller and the class to the action
2024-03-02T16:42:28.5589511Z 
2024-03-02T16:42:28.5589791Z DistributionsByCounties
2024-03-02T16:42:28.5590744Z   While not signed in
2024-03-02T16:42:28.5679248Z     redirects for authentication
2024-03-02T16:42:28.5680006Z     While signed in as bank
2024-03-02T16:42:28.6710906Z       shows 'Unspecified 100%' if no served_areas
2024-03-02T16:42:28.6712160Z       basic behaviour with served areas
2024-03-02T16:42:28.8909189Z         handles multiple partners with overlapping service areas properly
2024-03-02T16:42:28.8910031Z 
2024-03-02T16:42:28.8910275Z Static
2024-03-02T16:42:28.8911448Z   Super user without org signed in
2024-03-02T16:42:28.8912362Z     GET #index
2024-03-02T16:42:28.9022851Z       redirects to admin dashboard
2024-03-02T16:42:28.9023829Z   Not signed in
2024-03-02T16:42:28.9024456Z     GET #page/privacypolicy
2024-03-02T16:42:28.9086770Z       renders the contact page
2024-03-02T16:42:28.9087580Z     GET #index
2024-03-02T16:42:28.9148522Z       returns http success
2024-03-02T16:42:28.9203104Z       renders the static index
2024-03-02T16:42:28.9204098Z   Non super user without org signed in
2024-03-02T16:42:28.9205002Z     GET #index
2024-03-02T16:42:28.9400305Z       redirects to a public/403.html page
2024-03-02T16:42:28.9401157Z   Signed in
2024-03-02T16:42:28.9401943Z     GET #index
2024-03-02T16:42:28.9509520Z       redirects to organization dashboard
2024-03-02T16:42:28.9510296Z 
2024-03-02T16:42:28.9510570Z /partners/profiles
2024-03-02T16:42:28.9512181Z   GET #edit
2024-03-02T16:42:29.0606097Z     displays the partner
2024-03-02T16:42:29.1529168Z     has "No" radio button value when value is false
2024-03-02T16:42:29.2444611Z     does not have default radio button value when value is nil
2024-03-02T16:42:29.3357643Z     has "Yes" radio button value when value is true
2024-03-02T16:42:29.3358854Z   GET #show
2024-03-02T16:42:29.3964837Z     shows correct values for yes/no buttons
2024-03-02T16:42:29.4481067Z     displays the partner
2024-03-02T16:42:29.4481902Z   PUT #update
2024-03-02T16:42:29.5098704Z     updates the partner and profile
2024-03-02T16:42:29.5099615Z     when updating an existing value to a blank value
2024-03-02T16:42:29.5672307Z       does not update other partner profile attributes to blank
2024-03-02T16:42:29.6245846Z       does store N/A in the database
2024-03-02T16:42:29.6804295Z       updates the partner profile attribute to a blank value
2024-03-02T16:42:29.6805082Z     with no social media
2024-03-02T16:42:29.7824693Z       shows an error
2024-03-02T16:42:29.7827843Z 
2024-03-02T16:42:29.7828065Z Dashboard
2024-03-02T16:42:29.7829634Z   With a new essentials bank
2024-03-02T16:42:58.0934377Z     displays the getting started guide until the steps are completed
2024-03-02T16:42:58.0935312Z   With an existing essentials bank
2024-03-02T16:42:58.0936264Z     Distributions
2024-03-02T16:42:58.0939745Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-02T16:42:58.0941256Z         filtering to 'Last Month'
2024-03-02T16:42:59.8543878Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-02T16:42:59.8546967Z       given 1 Distribution on 2024-02-29  (unless 'All Time'), 0 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-02T16:42:59.8548077Z         filtering to 'This Month'
2024-03-02T16:43:03.2662539Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-02T16:43:03.2663866Z     Donations
2024-03-02T16:43:03.2666816Z       given 1 Donation on 2024-02-01 (only if a valid date), 0 during 2024-02-02..2024-03-02, and 1 on 2024-03-03
2024-03-02T16:43:03.2667676Z         filtering to 'Last 30 Days'
2024-03-02T16:43:06.6335485Z           shows the correct total and 0 Recent Donation link(s)
2024-03-02T16:43:06.6340197Z     Purchases
2024-03-02T16:43:06.6342672Z       given 1 Purchase on 2024-02-29  (unless 'All Time'), 4 during 2024-03-01..2024-03-01, and 1 on 2024-03-02
2024-03-02T16:43:06.6344000Z         filtering to 'Yesterday'
2024-03-02T16:43:08.1886744Z           shows correct 3 Recent Purchase link(s)
2024-03-02T16:43:08.1888221Z       given 1 Purchase on 2024-02-29  (unless 'All Time'), 1 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-02T16:43:08.1889459Z         filtering to 'This Month'
2024-03-02T16:43:09.6008940Z           shows correct 1 Recent Purchase link(s)
2024-03-02T16:43:09.6011808Z     Manufacturer Donations
2024-03-02T16:43:10.2012855Z       has a link to create a new donation
2024-03-02T16:43:10.2015257Z       given 1 Manufacturer donating on 2024-02-01  (unless 'All Time'), 3 during 2024-02-02..2024-03-02, and 1 on 2024-03-03
2024-03-02T16:43:10.2016644Z         filtering to 'Last 30 Days'
2024-03-02T16:43:12.0610069Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-02T16:43:12.0611685Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 4 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-02T16:43:12.0612728Z         filtering to 'This Year'
2024-03-02T16:43:13.8459373Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-03-02T16:43:13.8461759Z     Product Drives
2024-03-02T16:43:13.8465184Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-02T16:43:13.8466097Z         filtering to 'This Year'
2024-03-02T16:43:15.3883823Z           shows the correct total donations
2024-03-02T16:43:15.3885718Z       given 1 Product Drive Donation on 2024-02-24 (unless 'All Time'), 4 during 2024-02-25..2024-03-02, and 1 on 2024-03-03
2024-03-02T16:43:15.3887653Z         filtering to 'Last 7 Days'
2024-03-02T16:43:16.9825226Z           shows the correct total donations
2024-03-02T16:43:16.9847397Z       given 1 Product Drive Donation on 2024-02-29 (unless 'All Time'), 4 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-02T16:43:16.9849114Z         filtering to 'This Month'
2024-03-02T16:43:18.5611501Z           shows the correct total donations
2024-03-02T16:43:18.5612581Z       Product drive behaviour with Mixed Donation types
2024-03-02T16:43:19.3076175Z         only counts product drive donations for product drive
2024-03-02T16:43:19.3077238Z 
2024-03-02T16:43:19.3077512Z Authorization
2024-03-02T16:43:19.8715237Z   redirects to the dashboard when unauthorized user attempts access
2024-03-02T16:43:20.4057332Z   redirects to the organization dashboard when authorized
2024-03-02T16:43:20.4058069Z 
2024-03-02T16:43:20.4058310Z Barcode Items Admin
2024-03-02T16:43:20.4059446Z   while signed in as a super admin
2024-03-02T16:43:20.4060902Z     user visits the show page
2024-03-02T16:43:20.5268753Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-02T16:43:20.5281693Z       shows the barcode item (FAILED - 1)
2024-03-02T16:43:20.5282515Z     user visits the index page
2024-03-02T16:43:20.5941525Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-02T16:43:20.5954029Z       deletes a global barcode (FAILED - 2)
2024-03-02T16:43:20.6613589Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-02T16:43:20.6627338Z       creates a new global barcode item (FAILED - 3)
2024-03-02T16:43:20.7437898Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-02T16:43:20.7450555Z       shows the barcode item (FAILED - 4)
2024-03-02T16:43:20.7451399Z     user visits the new page
2024-03-02T16:43:21.5369848Z       creates a new global barcode item (FAILED - 5)
2024-03-02T16:43:21.5372137Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_creates-a-new-global-barcode-item_2024-03-02-08-43-21.385.html[0m
2024-03-02T16:43:21.5375297Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_creates-a-new-global-barcode-item_2024-03-02-08-43-21.385.png[0m
2024-03-02T16:43:21.5377147Z     user visits the edit page
2024-03-02T16:43:21.6111913Z WARN: Screenshot could not be saved. `page.current_path` is empty.
2024-03-02T16:43:21.6124191Z       updates the barcode item (FAILED - 6)
2024-03-02T16:43:21.9138025Z 
2024-03-02T16:43:21.9139061Z Failures:
2024-03-02T16:43:21.9139403Z 
2024-03-02T16:43:21.9140117Z   1) Barcode Items Admin while signed in as a super admin user visits the show page shows the barcode item
2024-03-02T16:43:21.9141319Z      Failure/Error: let!(:barcode_item) { create(:global_barcode_item) }
2024-03-02T16:43:21.9141959Z 
2024-03-02T16:43:21.9142443Z      ActiveModel::MissingAttributeError:
2024-03-02T16:43:21.9143829Z        can't write unknown attribute `barcode_count`
2024-03-02T16:43:21.9144431Z 
2024-03-02T16:43:21.9147057Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/capybara/failures_r_spec_example_groups_barcode_items_admin_while_signed_in_as_a_super_admin_user_visits_the_show_page_shows_the_barcode_item_585.png
2024-03-02T16:43:21.9149511Z 
2024-03-02T16:43:21.9149520Z 
2024-03-02T16:43:21.9150289Z      # ./spec/system/admin/barcode_items_system_spec.rb:82:in `block (4 levels) in <top (required)>'
2024-03-02T16:43:21.9151390Z 
2024-03-02T16:43:21.9152277Z   2) Barcode Items Admin while signed in as a super admin user visits the index page deletes a global barcode
2024-03-02T16:43:21.9154126Z      Failure/Error: let!(:barcode_item) { create(:global_barcode_item) }
2024-03-02T16:43:21.9154823Z 
2024-03-02T16:43:21.9155085Z      ActiveModel::MissingAttributeError:
2024-03-02T16:43:21.9155961Z        can't write unknown attribute `barcode_count`
2024-03-02T16:43:21.9156976Z 
2024-03-02T16:43:21.9158983Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_barcode_items_admin_while_signed_in_as_a_super_admin_user_visits_the_index_page_deletes_a_global_barcode_498.png
2024-03-02T16:43:21.9161090Z 
2024-03-02T16:43:21.9161098Z 
2024-03-02T16:43:21.9161770Z      # ./spec/system/admin/barcode_items_system_spec.rb:10:in `block (4 levels) in <top (required)>'
2024-03-02T16:43:21.9162643Z 
2024-03-02T16:43:21.9163850Z   3) Barcode Items Admin while signed in as a super admin user visits the index page creates a new global barcode item
2024-03-02T16:43:21.9165467Z      Failure/Error: let!(:barcode_item) { create(:global_barcode_item) }
2024-03-02T16:43:21.9166141Z 
2024-03-02T16:43:21.9166494Z      ActiveModel::MissingAttributeError:
2024-03-02T16:43:21.9167385Z        can't write unknown attribute `barcode_count`
2024-03-02T16:43:21.9167996Z 
2024-03-02T16:43:21.9170051Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_barcode_items_admin_while_signed_in_as_a_super_admin_user_visits_the_index_page_creates_a_new_global_barcode_item_405.png
2024-03-02T16:43:21.9171720Z 
2024-03-02T16:43:21.9171734Z 
2024-03-02T16:43:21.9172577Z      # ./spec/system/admin/barcode_items_system_spec.rb:10:in `block (4 levels) in <top (required)>'
2024-03-02T16:43:21.9173439Z 
2024-03-02T16:43:21.9174337Z   4) Barcode Items Admin while signed in as a super admin user visits the index page shows the barcode item
2024-03-02T16:43:21.9175753Z      Failure/Error: let!(:barcode_item) { create(:global_barcode_item) }
2024-03-02T16:43:21.9176408Z 
2024-03-02T16:43:21.9176716Z      ActiveModel::MissingAttributeError:
2024-03-02T16:43:21.9177656Z        can't write unknown attribute `barcode_count`
2024-03-02T16:43:21.9178221Z 
2024-03-02T16:43:21.9180150Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_barcode_items_admin_while_signed_in_as_a_super_admin_user_visits_the_index_page_shows_the_barcode_item_31.png
2024-03-02T16:43:21.9182065Z 
2024-03-02T16:43:21.9182079Z 
2024-03-02T16:43:21.9182706Z      # ./spec/system/admin/barcode_items_system_spec.rb:10:in `block (4 levels) in <top (required)>'
2024-03-02T16:43:21.9183697Z 
2024-03-02T16:43:21.9184487Z   5) Barcode Items Admin while signed in as a super admin user visits the new page creates a new global barcode item
2024-03-02T16:43:21.9186290Z      Failure/Error: @barcode_item = BarcodeItem.create(barcode_item_params.merge(barcodeable_type: "BaseItem"))
2024-03-02T16:43:21.9187285Z 
2024-03-02T16:43:21.9187619Z      ActiveModel::MissingAttributeError:
2024-03-02T16:43:21.9188513Z        can't write unknown attribute `barcode_count`
2024-03-02T16:43:21.9189150Z 
2024-03-02T16:43:21.9191136Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_barcode_items_admin_while_signed_in_as_a_super_admin_user_visits_the_new_page_creates_a_new_global_barcode_item_524.png
2024-03-02T16:43:21.9193198Z 
2024-03-02T16:43:21.9193206Z 
2024-03-02T16:43:21.9193651Z      # ./app/controllers/admin/barcode_items_controller.rb:28:in `create'
2024-03-02T16:43:21.9194628Z      # ------------------
2024-03-02T16:43:21.9195243Z      # --- Caused by: ---
2024-03-02T16:43:21.9195957Z      # Capybara::ExpectationNotMet:
2024-03-02T16:43:21.9304921Z      #   expected to find text "66666" in "Puma caught this error: can't write unknown attribute `barcode_count` (ActiveModel::MissingAttributeError)\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activemodel-7.0.8/lib/active_model/attribute.rb:211:in `with_value_from_database'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activemodel-7.0.8/lib/active_model/attribute_set.rb:55:in `write_from_user'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/write.rb:36:in `write_attribute'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods.rb:343:in `[]='\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/persistence.rb:836:in `increment'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/persistence.rb:848:in `increment!'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/locking/optimistic.rb:64:in `increment!'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/callbacks.rb:450:in `increment!'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/associations/belongs_to_association.rb:101:in `update_counters'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/associations/belongs_to_association.rb:53:in `increment_counters'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/counter_cache.rb:169:in `block in _create_record'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/counter_cache.rb:192:in `block in each_counter_cached_associations'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/counter_cache.rb:191:in `each'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/counter_cache.rb:191:in `each_counter_cached_associations'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/counter_cache.rb:168:in `_create_record'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/locking/optimistic.rb:84:in `_create_record'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/dirty.rb:222:in `_create_record'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/callbacks.rb:459:in `block in _create_record'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/callbacks.rb:107:in `run_callbacks'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/callbacks.rb:929:in `_run_create_callbacks'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/callbacks.rb:459:in `_create_record'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/timestamp.rb:108:in `_create_record'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/persistence.rb:1069:in `create_or_update'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/callbacks.rb:455:in `block in create_or_update'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/callbacks.rb:118:in `block in run_callbacks'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/autosave_association.rb:370:in `around_save_collection_association'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/callbacks.rb:127:in `block in run_callbacks'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/callbacks.rb:138:in `run_callbacks'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/callbacks.rb:929:in `_run_save_callbacks'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/callbacks.rb:455:in `create_or_update'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/timestamp.rb:126:in `create_or_update'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/persistence.rb:615:in `save'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/validations.rb:47:in `save'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/transactions.rb:298:in `block in save'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/transactions.rb:354:in `block in with_transaction_returning_status'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/transaction.rb:319:in `block in within_new_transaction'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/transaction.rb:317:in `within_new_transaction'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in `transaction'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/transactions.rb:350:in `with_transaction_returning_status'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/transactions.rb:298:in `save'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/suppressor.rb:50:in `save'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/persistence.rb:38:in `create'\n/home/runner/work/human-essentials/human-essentials/app/controllers/admin/barcode_items_controller.rb:28:in `create'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/abstract_controller/base.rb:215:in `process_action'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_controller/metal/rendering.rb:165:in `process_action'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/abstract_controller/callbacks.rb:234:in `block in process_action'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/callbacks.rb:118:in `block in run_callbacks'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actiontext-7.0.8/lib/action_text/rendering.rb:20:in `with_renderer'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actiontext-7.0.8/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/callbacks.rb:127:in `instance_exec'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/callbacks.rb:127:in `block in run_callbacks'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/callbacks.rb:138:in `run_callbacks'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/abstract_controller/callbacks.rb:233:in `process_action'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_controller/metal/rescue.rb:23:in `process_action'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:206:in `block in instrument'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/notifications/instrumenter.rb:24:in `instrument'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:206:in `instrument'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_controller/metal/instrumentation.rb:66:in `process_action'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activerecord-7.0.8/lib/active_record/railties/controller_runtime.rb:27:in `process_action'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/abstract_controller/base.rb:151:in `process'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionview-7.0.8/lib/action_view/rendering.rb:39:in `process'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_controller/metal.rb:188:in `dispatch'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_controller/metal.rb:251:in `dispatch'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/routing/route_set.rb:32:in `serve'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/journey/router.rb:50:in `block in serve'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/journey/router.rb:32:in `each'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/journey/router.rb:32:in `serve'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/routing/route_set.rb:852:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/flipper-1.2.2/lib/flipper/middleware/memoizer.rb:87:in `memoized_call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/flipper-1.2.2/lib/flipper/middleware/memoizer.rb:45:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/omniauth-2.1.2/lib/omniauth/strategy.rb:202:in `call!'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/omniauth-2.1.2/lib/omniauth/strategy.rb:169:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/tempfile_reaper.rb:15:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/etag.rb:27:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/conditional_get.rb:40:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/head.rb:12:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/http/permissions_policy.rb:38:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/http/content_security_policy.rb:36:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/session/abstract/id.rb:266:in `context'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/session/abstract/id.rb:260:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/cookies.rb:704:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/callbacks.rb:99:in `run_callbacks'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/callbacks.rb:26:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/bugsnag-6.26.3/lib/bugsnag/integrations/rack.rb:51:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/show_exceptions.rb:29:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/railties-7.0.8/lib/rails/rack/logger.rb:40:in `call_app'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/railties-7.0.8/lib/rails/rack/logger.rb:25:in `block in call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/tagged_logging.rb:99:in `block in tagged'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/tagged_logging.rb:37:in `tagged'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/activesupport-7.0.8/lib/active_support/tagged_logging.rb:99:in `tagged'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/railties-7.0.8/lib/rails/rack/logger.rb:25:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/remote_ip.rb:93:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/request_store-1.5.1/lib/request_store/middleware.rb:19:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/request_id.rb:26:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/method_override.rb:24:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/runtime.rb:22:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/executor.rb:14:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/static.rb:23:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/sendfile.rb:110:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/actionpack-7.0.8/lib/action_dispatch/middleware/host_authorization.rb:131:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/railties-7.0.8/lib/rails/engine.rb:530:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/urlmap.rb:74:in `block in call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/urlmap.rb:58:in `each'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/urlmap.rb:58:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rack-2.2.8.1/lib/rack/builder.rb:244:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/puma-6.4.2/lib/puma/configuration.rb:272:in `call'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/puma-6.4.2/lib/puma/request.rb:100:in `block in handle_request'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/puma-6.4.2/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/puma-6.4.2/lib/puma/request.rb:99:in `handle_request'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/puma-6.4.2/lib/puma/server.rb:464:in `process_client'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/puma-6.4.2/lib/puma/server.rb:245:in `block in run'\n/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/puma-6.4.2/lib/puma/thread_pool.rb:155:in `block in spawn_thread'"
2024-03-02T16:43:21.9401564Z      #   ./spec/system/admin/barcode_items_system_spec.rb:55:in `block (4 levels) in <top (required)>'
2024-03-02T16:43:21.9402261Z 
2024-03-02T16:43:21.9402691Z   6) Barcode Items Admin while signed in as a super admin user visits the edit page updates the barcode item
2024-03-02T16:43:21.9403737Z      Failure/Error: let!(:barcode_item) { create(:global_barcode_item) }
2024-03-02T16:43:21.9404235Z 
2024-03-02T16:43:21.9404498Z      ActiveModel::MissingAttributeError:
2024-03-02T16:43:21.9405163Z        can't write unknown attribute `barcode_count`
2024-03-02T16:43:21.9405505Z 
2024-03-02T16:43:21.9406584Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_barcode_items_admin_while_signed_in_as_a_super_admin_user_visits_the_edit_page_updates_the_barcode_item_110.png
2024-03-02T16:43:21.9408001Z 
2024-03-02T16:43:21.9408007Z 
2024-03-02T16:43:21.9408396Z      # ./spec/system/admin/barcode_items_system_spec.rb:63:in `block (4 levels) in <top (required)>'
2024-03-02T16:43:21.9409406Z 
2024-03-02T16:43:21.9409667Z Finished in 1 minute 34.71 seconds (files took 8.38 seconds to load)
2024-03-02T16:43:21.9410229Z 152 examples, 6 failures
2024-03-02T16:43:21.9410514Z 
2024-03-02T16:43:21.9410675Z Failed examples:
2024-03-02T16:43:21.9410857Z 
2024-03-02T16:43:21.9411559Z rspec ./spec/system/admin/barcode_items_system_spec.rb:88 # Barcode Items Admin while signed in as a super admin user visits the show page shows the barcode item
2024-03-02T16:43:21.9413074Z rspec ./spec/system/admin/barcode_items_system_spec.rb:21 # Barcode Items Admin while signed in as a super admin user visits the index page deletes a global barcode
2024-03-02T16:43:21.9414670Z rspec ./spec/system/admin/barcode_items_system_spec.rb:26 # Barcode Items Admin while signed in as a super admin user visits the index page creates a new global barcode item
2024-03-02T16:43:21.9416170Z rspec ./spec/system/admin/barcode_items_system_spec.rb:16 # Barcode Items Admin while signed in as a super admin user visits the index page shows the barcode item
2024-03-02T16:43:21.9417711Z rspec ./spec/system/admin/barcode_items_system_spec.rb:48 # Barcode Items Admin while signed in as a super admin user visits the new page creates a new global barcode item
2024-03-02T16:43:21.9419144Z rspec ./spec/system/admin/barcode_items_system_spec.rb:69 # Barcode Items Admin while signed in as a super admin user visits the edit page updates the barcode item
2024-03-02T16:43:21.9419956Z 
2024-03-02T16:43:21.9420092Z Randomized with seed 23811
2024-03-02T16:43:21.9420431Z 
2024-03-02T16:43:22.4025023Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-02T16:43:22.4027363Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3544 / 6427 LOC (55.14%) covered.
2024-03-02T16:43:22.5059720Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/system/dashboard_system_spec.rb[1:1:1]" "spec/system/layout_system_spec.rb" "spec/system/storage_location_system_spec.rb" "spec/system/admin/barcode_items_system_spec.rb" "spec/system/account_request_system_spec.rb" "spec/system/dashboard_system_spec.rb[1:2:7:7:1:1]" "spec/requests/admin/organizations_requests_spec.rb" "spec/system/donation_site_system_spec.rb" "spec/requests/partners_requests_spec.rb" "spec/system/dashboard_system_spec.rb[1:2:6:8:1:1]" "spec/system/dashboard_system_spec.rb[1:2:6:5:1:1]" "spec/requests/partners/profiles_requests_spec.rb" "spec/system/dashboard_system_spec.rb[1:2:7:6:1:1]" "spec/system/dashboard_system_spec.rb[1:2:3:6:1:1]" "spec/system/dashboard_system_spec.rb[1:2:4:3:1:1]" "spec/system/dashboard_system_spec.rb[1:2:5:6:1:1]" "spec/system/dashboard_system_spec.rb[1:2:4:6:1:1]" "spec/system/dashboard_system_spec.rb[1:2:5:8:1:1]" "spec/system/dashboard_system_spec.rb[1:2:5:4:1:1]" "spec/requests/transfers_requests_spec.rb" "spec/requests/kit_requests_spec.rb" "spec/system/authorization_system_spec.rb" "spec/system/dashboard_system_spec.rb[1:2:5:10:1]" "spec/requests/distributions_by_county_spec.rb" "spec/system/dashboard_system_spec.rb[1:2:6:1]" "spec/requests/admin/base_items_requests_spec.rb" "spec/requests/static_requests_spec.rb" failed
2024-03-02T16:43:22.9002854Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-02T16:43:22.9005823Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10679 LOC (0.36%) covered.
2024-03-02T16:43:22.9289102Z ##[error]Process completed with exit code 1.
