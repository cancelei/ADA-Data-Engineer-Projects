2024-02-21T04:15:44.1267934Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-02-21T04:15:44.1268928Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-02-21T04:15:44.1297200Z shell: /usr/bin/bash -e {0}
2024-02-21T04:15:44.1297672Z env:
2024-02-21T04:15:44.1298021Z   POSTGRES_HOST: localhost
2024-02-21T04:15:44.1298422Z   DATABASE_HOST: localhost
2024-02-21T04:15:44.1298869Z   PG_USERNAME: postgres
2024-02-21T04:15:44.1299257Z   PG_PASSWORD: password
2024-02-21T04:15:44.1299611Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-02-21T04:15:44.1300093Z   POSTGRES_PORT: 5432
2024-02-21T04:15:44.1300461Z   PGHOST: localhost
2024-02-21T04:15:44.1300800Z   PGUSER: postgres
2024-02-21T04:15:44.1301211Z   RAILS_ENV: test
2024-02-21T04:15:44.1301536Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-02-21T04:15:44.1301974Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-02-21T04:15:44.1302443Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-02-21T04:15:44.1302899Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-02-21T04:15:44.1303490Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-02-21T04:15:44.1304128Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-02-21T04:15:44.1304765Z   EVENTS_READ: true
2024-02-21T04:15:44.1305173Z ##[endgroup]
2024-02-21T04:15:49.8659482Z W, [2024-02-21T04:15:49.865520 #2324]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-02-21T04:15:49.8661848Z W, [2024-02-21T04:15:49.865592 #2324]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-21T04:15:49.8664268Z W, [2024-02-21T04:15:49.865619 #2324]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-21T04:15:49.8667796Z W, [2024-02-21T04:15:49.865658 #2324]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-02-21T04:15:52.4503279Z W, [2024-02-21T04:15:52.449961 #2324]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-02-21T04:15:52.4504734Z W, [2024-02-21T04:15:52.450017 #2324]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-21T04:15:52.4506660Z W, [2024-02-21T04:15:52.450035 #2324]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-21T04:15:52.4509419Z W, [2024-02-21T04:15:52.450084 #2324]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-02-21T04:15:52.4564919Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/partners/children_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-02-21T04:16:01.0300373Z 
2024-02-21T04:16:01.0301602Z Randomized with seed 32201
2024-02-21T04:16:01.9837364Z 
2024-02-21T04:16:01.9838028Z Vendor
2024-02-21T04:16:01.9839469Z   when creating a new vendor
2024-02-21T04:16:07.9189359Z     cannot add a new vendor instance with empty attributes
2024-02-21T04:16:08.7824096Z     can create a new vendor instance as a user
2024-02-21T04:16:08.7824893Z   when editing an existing vendor
2024-02-21T04:16:09.5683895Z     can update the contact info for a vendor as a user
2024-02-21T04:16:10.3317791Z     does not update a vendor with empty attributes
2024-02-21T04:16:10.3318568Z   When a user views the index page
2024-02-21T04:16:10.8118646Z     should have the vendor names in alphabetical order
2024-02-21T04:16:10.8119452Z   When vendor have purchases associated with them already
2024-02-21T04:16:11.4701685Z     can have a single vendor show semi-detailed stats about purchases
2024-02-21T04:16:12.0741343Z     can have existing vendors show in the #index with some summary stats
2024-02-21T04:16:12.0742228Z 
2024-02-21T04:16:12.0742511Z Admin Organization Management
2024-02-21T04:16:12.0743888Z   While signed in as an Administrative User (super admin)
2024-02-21T04:16:13.4152119Z     can view organization details
2024-02-21T04:16:14.5940926Z     filters by organizations by name in organizations index page
2024-02-21T04:16:16.8079448Z     creates a new organization
2024-02-21T04:16:16.8080614Z   While signed in as an Administrative User with no organization (super admin no org)
2024-02-21T04:16:18.7573903Z     creates a new organization
2024-02-21T04:16:18.7574819Z 
2024-02-21T04:16:18.7575209Z /account_requests
2024-02-21T04:16:18.7576809Z   GET #new
2024-02-21T04:16:18.7873381Z     renders a successful response
2024-02-21T04:16:18.7874363Z   GET #confirmation
2024-02-21T04:16:18.7875103Z     when given a token that has already been confirmed
2024-02-21T04:16:18.9861452Z       should render a error that says that is code provided is invalid
2024-02-21T04:16:18.9862505Z     when given a invalid token
2024-02-21T04:16:18.9939583Z       should render a error that says that is code provided is invalid
2024-02-21T04:16:18.9940942Z     when given a valid token
2024-02-21T04:16:19.0110225Z       should render the confirmation template
2024-02-21T04:16:19.0111079Z   GET #received
2024-02-21T04:16:19.0111841Z     when given a valid token
2024-02-21T04:16:19.0279655Z       should render the received template
2024-02-21T04:16:19.0280454Z     when given a invalid token
2024-02-21T04:16:19.0353636Z       should render a error that says that is code provided is invalid
2024-02-21T04:16:19.0354482Z   POST #create
2024-02-21T04:16:19.0355172Z     with valid parameters
2024-02-21T04:16:19.0516205Z       delivers the confirmation email via default queue
2024-02-21T04:16:19.0672040Z       redirects to the created account_request confirmation
2024-02-21T04:16:19.0820862Z       creates a new AccountRequest
2024-02-21T04:16:19.0821514Z     with invalid parameters
2024-02-21T04:16:19.1051321Z       does not create a new AccountRequest
2024-02-21T04:16:19.1262518Z       renders a successful response (i.e. to display the 'new' template)
2024-02-21T04:16:19.1263844Z   GET #confirm
2024-02-21T04:16:19.1264402Z     when given a valid token
2024-02-21T04:16:19.1505138Z       should the update confirmed_at on the account_request, queue confirmation email and render confirm template
2024-02-21T04:16:19.1507279Z     when given a token that has already been confirmed
2024-02-21T04:16:19.3511004Z       should render a error that says that is code provided is invalid
2024-02-21T04:16:19.3511858Z     when given a invalid token
2024-02-21T04:16:19.3582783Z       should render a error that says that is code provided is invalid
2024-02-21T04:16:19.3583806Z 
2024-02-21T04:16:19.3584094Z StorageLocations
2024-02-21T04:16:19.3585447Z   While signed in
2024-02-21T04:16:19.3587543Z     PUT #reactivate
2024-02-21T04:16:19.3773616Z       undiscards
2024-02-21T04:16:19.3774131Z     GET #new
2024-02-21T04:16:19.8441874Z       returns http success
2024-02-21T04:16:19.8442672Z     GET #inventory
2024-02-21T04:16:19.8443598Z       without any overrides
2024-02-21T04:16:19.9001526Z         returns a collection that only includes items at the storage location
2024-02-21T04:16:19.9002316Z       when also including inactive items
2024-02-21T04:16:19.9706391Z         returns a collection that also includes items that have been deactivated
2024-02-21T04:16:19.9707612Z       when also including omitted items
2024-02-21T04:16:20.0236764Z         contains a collection of ducktyped entries that respond the same
2024-02-21T04:16:20.0779445Z         returns a collection that also includes all items, but with zeroed quantities
2024-02-21T04:16:20.0780578Z     GET #destroy
2024-02-21T04:16:20.1116431Z       redirects to #index
2024-02-21T04:16:20.1117192Z     GET #index
2024-02-21T04:16:20.1118442Z       csv
2024-02-21T04:16:20.2121947Z         includes headers followed by alphabetized item names
2024-02-21T04:16:20.2310854Z         succeeds
2024-02-21T04:16:20.2311782Z       html
2024-02-21T04:16:20.2681960Z         succeeds
2024-02-21T04:16:20.2682668Z         with inactive locations
2024-02-21T04:16:20.3090439Z           does not includes the inactive location
2024-02-21T04:16:20.3091389Z           with include_inactive_locations
2024-02-21T04:16:20.3491345Z             includes the inactive location
2024-02-21T04:16:20.3492569Z     Looking at a different organization
2024-02-21T04:16:20.5215587Z       redirects the user to the sign-in page for CRUD actions
2024-02-21T04:16:20.5216877Z     POST #import_csv
2024-02-21T04:16:20.5217426Z       without a csv file
2024-02-21T04:16:20.5355943Z         presents a flash error message
2024-02-21T04:16:20.5471611Z         redirects to :index
2024-02-21T04:16:20.5472326Z       with a csv file
2024-02-21T04:16:20.5643086Z         redirects
2024-02-21T04:16:20.5695343Z         invokes .import_csv
2024-02-21T04:16:20.5848937Z         presents a flash notice message
2024-02-21T04:16:20.5849849Z       csv file with wrong headers
2024-02-21T04:16:20.5988205Z         redirects
2024-02-21T04:16:20.6112858Z         presents a flash error message
2024-02-21T04:16:20.6114129Z     PUT #deactivate
2024-02-21T04:16:20.6321814Z       discards
2024-02-21T04:16:20.6322777Z       with inventory
2024-02-21T04:16:20.6810459Z         does not discard
2024-02-21T04:16:20.6810997Z     GET #show
2024-02-21T04:16:20.6811808Z       html
2024-02-21T04:16:20.7530017Z         should return a correct response
2024-02-21T04:16:20.7530970Z         with version date set
2024-02-21T04:16:20.7531880Z           with no version found
2024-02-21T04:16:20.8294628Z             should show N/A
2024-02-21T04:16:20.9124967Z           with a version found
2024-02-21T04:16:20.9126072Z             should show the version specified
2024-02-21T04:16:20.9126601Z       csv
2024-02-21T04:16:20.9663157Z         should be successful
2024-02-21T04:16:20.9664086Z     GET #edit
2024-02-21T04:16:21.0004252Z       returns http success
2024-02-21T04:16:21.0005089Z   While not signed in
2024-02-21T04:16:21.0072616Z     redirects the user to the sign-in page for CRUD actions
2024-02-21T04:16:21.0073386Z 
2024-02-21T04:16:21.0073632Z Managing requests
2024-02-21T04:16:21.0075239Z   creating a request
2024-02-21T04:16:21.0076240Z     GIVEN a partner user is permitted to make a request
2024-02-21T04:16:21.0078727Z       WHEN they create a request properly
2024-02-21T04:16:21.0080125Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-02-21T04:16:23.3013806Z           AND the partner_user can view the details of the created request in a seperate page
2024-02-21T04:16:23.3015066Z       WHEN they create a request with only a comment
2024-02-21T04:16:24.2795799Z         should be created without any issue
2024-02-21T04:16:24.2797270Z       WHEN they create a request inproperly by not inputting anything
2024-02-21T04:16:25.2055385Z         should show an error message with the instructions
2024-02-21T04:16:25.2056267Z   creating a individuals/family request
2024-02-21T04:16:25.2057218Z     GIVEN a partner user is permitted to make a request
2024-02-21T04:16:25.2058525Z       WHEN they create a request inproperly
2024-02-21T04:16:26.1283439Z         should show an error message with the instructions
2024-02-21T04:16:26.1285369Z       WHEN they create a request properly
2024-02-21T04:16:26.1287485Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-02-21T04:16:28.2630281Z           AND the partner_user can view the details of the created individuals request in a seperate page
2024-02-21T04:16:28.2631299Z 
2024-02-21T04:16:28.2631701Z DonationSites
2024-02-21T04:16:28.2632365Z   while signed in
2024-02-21T04:16:28.2633555Z     GET #index
2024-02-21T04:16:28.2634264Z       csv
2024-02-21T04:16:28.2887324Z         is expected to be successful
2024-02-21T04:16:28.2888370Z       html
2024-02-21T04:16:28.3241683Z         is expected to be successful
2024-02-21T04:16:28.3242735Z 
2024-02-21T04:16:28.3243129Z Admin::Organizations
2024-02-21T04:16:28.3244709Z   When logged in as a non-admin user
2024-02-21T04:16:28.3245587Z     GET #index
2024-02-21T04:16:28.3381545Z       redirects
2024-02-21T04:16:28.3382357Z     GET #new
2024-02-21T04:16:28.3510420Z       redirects
2024-02-21T04:16:28.3511287Z     POST #create
2024-02-21T04:16:28.3664375Z       redirects
2024-02-21T04:16:28.3665026Z     PUT #update
2024-02-21T04:16:28.3795618Z       redirects
2024-02-21T04:16:28.3796245Z     GET #edit
2024-02-21T04:16:28.3929178Z       redirects
2024-02-21T04:16:28.3929997Z   When logged in as a super admin
2024-02-21T04:16:28.3931850Z     GET #new
2024-02-21T04:16:28.4306668Z       returns http success
2024-02-21T04:16:28.4307841Z       when given a valid account request token in the query parameters
2024-02-21T04:16:28.4867940Z         should render new with pre populate input fields from the account_request
2024-02-21T04:16:28.4869053Z       when given a token that matches a account request that has already been processed
2024-02-21T04:16:28.7184867Z         should render new with a flash error message
2024-02-21T04:16:28.7185930Z     PATCH #update
2024-02-21T04:16:28.7186436Z       with a valid update
2024-02-21T04:16:28.9097404Z         redirects to #index
2024-02-21T04:16:28.9098649Z       with an invalid update
2024-02-21T04:16:29.1263368Z         returns http success
2024-02-21T04:16:29.3416661Z         redirects to #edit with an error message
2024-02-21T04:16:29.3417917Z     DELETE #destroy
2024-02-21T04:16:29.3418533Z       with a valid organization id
2024-02-21T04:16:29.8807146Z         redirects to #index
2024-02-21T04:16:29.8807877Z     GET #show
2024-02-21T04:16:30.0928886Z       returns http success
2024-02-21T04:16:30.0929531Z     PUT #update
2024-02-21T04:16:30.1136290Z       redirect
2024-02-21T04:16:30.1136949Z     POST #create
2024-02-21T04:16:30.1137415Z       with invalid params
2024-02-21T04:16:30.1602511Z         does not create an organization and renders #create with an error message
2024-02-21T04:16:30.1603569Z       with valid params
2024-02-21T04:16:30.3758686Z         creates an organization and redirects to #index
2024-02-21T04:16:30.3759985Z     DELETE #destroy
2024-02-21T04:16:30.7375215Z       redirects
2024-02-21T04:16:30.7376105Z     GET #edit
2024-02-21T04:16:30.9471673Z       returns http success
2024-02-21T04:16:30.9472390Z     GET #index
2024-02-21T04:16:30.9785344Z       returns http success
2024-02-21T04:16:30.9786066Z 
2024-02-21T04:16:30.9786336Z /partners/children
2024-02-21T04:16:30.9787730Z   GET #index
2024-02-21T04:16:31.0657075Z     should render without any issues
2024-02-21T04:16:31.1136814Z     should export CSV
2024-02-21T04:16:31.1137623Z 
2024-02-21T04:16:31.1137965Z User account management
2024-02-21T04:16:31.1139016Z   when in staging
2024-02-21T04:16:31.5930691Z     should display staging warning
2024-02-21T04:16:32.0649691Z     should not allow the user to change staging credentials
2024-02-21T04:16:32.0650587Z   when not in staging
2024-02-21T04:16:33.1203470Z     should change the email
2024-02-21T04:16:33.9014880Z     should fail when the email is invalid
2024-02-21T04:16:34.8979572Z     should change an user name
2024-02-21T04:16:34.8980692Z 
2024-02-21T04:16:34.8981198Z Audits
2024-02-21T04:16:34.8983299Z   while signed in as an organization admin
2024-02-21T04:16:34.8984859Z     POST #create
2024-02-21T04:16:34.8986047Z       with valid params
2024-02-21T04:16:34.9465778Z         assigns a newly created audit as @audit
2024-02-21T04:16:34.9863880Z         creates a new Audit with status as `in_progress` if `save_progress` is passed as a param
2024-02-21T04:16:35.0261103Z         creates a new Audit with status as `confirmed` if `confirm_audit` is passed as a param
2024-02-21T04:16:35.0663376Z         creates a new Audit
2024-02-21T04:16:35.1062594Z         redirects to the #show after created audit
2024-02-21T04:16:35.1063462Z       with invalid params
2024-02-21T04:16:35.1580270Z         assigns a newly created but unsaved audit as @audit
2024-02-21T04:16:35.2142419Z         re-renders the 'new' template with an error message when an invalid storage location is given
2024-02-21T04:16:35.2565580Z         re-renders the 'new' template
2024-02-21T04:16:35.2566406Z     GET #edit
2024-02-21T04:16:35.3212660Z       is successful if the status of audit is `in_progress`
2024-02-21T04:16:35.3894679Z       redirects to #index if the status of audit is not `in_progress`
2024-02-21T04:16:35.3895726Z     DELETE #destroy
2024-02-21T04:16:35.3896347Z       with valid params
2024-02-21T04:16:35.4310647Z         destroys the audit if the audit's status is `confirms`
2024-02-21T04:16:35.4674691Z         can not destroy the audit if the audit's status is `finalized`
2024-02-21T04:16:35.5055645Z         destroys the audit if the audit's status is `in_progress`
2024-02-21T04:16:35.5056547Z     POST #finalize
2024-02-21T04:16:35.5728124Z       sets the finalize status and saves an event
2024-02-21T04:16:35.5729033Z     GET #index
2024-02-21T04:16:35.6311092Z       is successful
2024-02-21T04:16:35.6311656Z     GET #show
2024-02-21T04:16:35.6833308Z       is successful
2024-02-21T04:16:35.6834047Z     GET #new
2024-02-21T04:16:35.7208486Z       is successful
2024-02-21T04:16:35.7209228Z 
2024-02-21T04:16:35.7209506Z Profiles
2024-02-21T04:16:35.7210700Z   POST #update
2024-02-21T04:16:35.7211782Z     when updating an existing value to a blank value
2024-02-21T04:16:35.7701058Z       should have blank values
2024-02-21T04:16:35.8168709Z       update partner
2024-02-21T04:16:35.8614751Z     successful save
2024-02-21T04:16:35.8615672Z       redirects to #show
2024-02-21T04:16:35.9075150Z       update partner
2024-02-21T04:16:35.9076065Z   GET #edit
2024-02-21T04:16:36.0190519Z     returns http success
2024-02-21T04:16:36.0190994Z 
2024-02-21T04:16:36.0191252Z /partners/profiles
2024-02-21T04:16:36.0192795Z   PUT #update
2024-02-21T04:16:36.0779598Z     updates the partner and profile
2024-02-21T04:16:36.0780356Z     when updating an existing value to a blank value
2024-02-21T04:16:36.1354942Z       does store N/A in the database
2024-02-21T04:16:36.1928076Z       does not update other partner profile attributes to blank
2024-02-21T04:16:36.2480494Z       updates the partner profile attribute to a blank value
2024-02-21T04:16:36.2481293Z     with no social media
2024-02-21T04:16:36.3598657Z       shows an error
2024-02-21T04:16:36.3599241Z   GET #show
2024-02-21T04:16:36.4185884Z     displays the partner
2024-02-21T04:16:36.4749550Z     shows correct values for yes/no buttons
2024-02-21T04:16:36.4750381Z   GET #edit
2024-02-21T04:16:36.5649861Z     has "Yes" radio button value when value is true
2024-02-21T04:16:36.6561398Z     has "No" radio button value when value is false
2024-02-21T04:16:36.7448639Z     does not have default radio button value when value is nil
2024-02-21T04:16:36.8283159Z     displays the partner
2024-02-21T04:16:36.8286515Z 
2024-02-21T04:16:36.8286929Z Dashboard
2024-02-21T04:16:36.8288189Z   With an existing essentials bank
2024-02-21T04:16:36.8289979Z     Product Drives
2024-02-21T04:16:37.3981620Z       has a widget for product drive summary data
2024-02-21T04:16:37.3983496Z       given 1 Product Drive Donation on 2024-01-21 (unless 'All Time'), 4 during 2024-01-22..2024-02-20, and 1 on 2024-02-21
2024-02-21T04:16:37.3984609Z         filtering to 'Last 30 Days'
2024-02-21T04:16:38.9916578Z           shows the correct total money raised
2024-02-21T04:16:40.5168128Z           shows the correct total donations
2024-02-21T04:16:42.0759716Z           shows 3 Recent Donation link(s)
2024-02-21T04:16:42.0761768Z       given 1 Product Drive Donation on 2024-02-13 (unless 'All Time'), 2 during 2024-02-14..2024-02-20, and 1 on 2024-02-21
2024-02-21T04:16:42.0763402Z         filtering to 'Last 7 Days'
2024-02-21T04:16:43.5368082Z           shows the correct total donations
2024-02-21T04:16:44.9811540Z           shows the correct total money raised
2024-02-21T04:16:46.4276561Z           shows 2 Recent Donation link(s)
2024-02-21T04:16:46.4278095Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-21T04:16:46.4279370Z         filtering to 'This Year'
2024-02-21T04:16:47.9304627Z           shows 3 Recent Donation link(s)
2024-02-21T04:16:49.4195955Z           shows the correct total money raised
2024-02-21T04:16:50.9351747Z           shows the correct total donations
2024-02-21T04:16:50.9353537Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-21T04:16:50.9354596Z         filtering to 'This Month'
2024-02-21T04:16:52.4383720Z           shows the correct total donations
2024-02-21T04:16:53.9935725Z           shows the correct total money raised
2024-02-21T04:16:55.5380067Z           shows 3 Recent Donation link(s)
2024-02-21T04:16:55.5381846Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 0 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-21T04:16:55.5383209Z         filtering to 'Last Month'
2024-02-21T04:16:56.8875646Z           shows the correct total money raised
2024-02-21T04:16:58.3076108Z           shows the correct total donations
2024-02-21T04:17:01.8272585Z           shows 0 Recent Donation link(s)
2024-02-21T04:17:01.8274892Z       given 1 Product Drive Donation on 2024-02-19 (unless 'All Time'), 0 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-21T04:17:01.8276335Z         filtering to 'Today'
2024-02-21T04:17:05.1723354Z           shows 0 Recent Donation link(s)
2024-02-21T04:17:06.5351287Z           shows the correct total donations
2024-02-21T04:17:07.8973430Z           shows the correct total money raised
2024-02-21T04:17:07.8975368Z       given 1 Product Drive Donation on 2024-02-18 (unless 'All Time'), 3 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-21T04:17:07.8976615Z         filtering to 'Yesterday'
2024-02-21T04:17:09.3799732Z           shows the correct total money raised
2024-02-21T04:17:10.8666763Z           shows the correct total donations
2024-02-21T04:17:12.3767239Z           shows 3 Recent Donation link(s)
2024-02-21T04:17:12.3768168Z       Product drive behaviour with Mixed Donation types
2024-02-21T04:17:13.0902711Z         only counts product drive donations for product drive
2024-02-21T04:17:13.8045077Z         only counts product drive money raised
2024-02-21T04:17:14.5314878Z         only shows product drive donations as product drive donations
2024-02-21T04:17:14.5316843Z       given 1 Product Drive Donation on 2022-02-19 (unless 'All Time'), 0 during 2022-02-20..2023-10-13, and 1 on 2023-10-14
2024-02-21T04:17:14.5318424Z         filtering to '' (February 20, 2022 - October 13, 2023)
2024-02-21T04:17:15.9057573Z           shows the correct total money raised
2024-02-21T04:17:19.3219566Z           shows 0 Recent Donation link(s)
2024-02-21T04:17:20.7501012Z           shows the correct total donations
2024-02-21T04:17:20.7501955Z     Donations
2024-02-21T04:17:21.7244142Z       has a link to create a new donation
2024-02-21T04:17:21.7245469Z       given 1 Donation on 2023-12-31 (only if a valid date), 4 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-21T04:17:21.7247096Z         filtering to 'This Year'
2024-02-21T04:17:23.2702551Z           shows the correct total and 3 Recent Donation link(s)
2024-02-21T04:17:23.2706849Z       given 1 Donation on 2023-12-31 (only if a valid date), 4 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-21T04:17:23.2708183Z         filtering to 'Last Month'
2024-02-21T04:17:24.8460988Z           shows the correct total and 3 Recent Donation link(s)
2024-02-21T04:17:24.8462535Z       given 1 Donation on 2024-02-13 (only if a valid date), 3 during 2024-02-14..2024-02-20, and 1 on 2024-02-21
2024-02-21T04:17:24.8463494Z         filtering to 'Last 7 Days'
2024-02-21T04:17:26.3495224Z           shows the correct total and 3 Recent Donation link(s)
2024-02-21T04:17:26.3497238Z       given 1 Donation on 2024-01-21 (only if a valid date), 1 during 2024-01-22..2024-02-20, and 1 on 2024-02-21
2024-02-21T04:17:26.3498131Z         filtering to 'Last 30 Days'
2024-02-21T04:17:27.7476816Z           shows the correct total and 1 Recent Donation link(s)
2024-02-21T04:17:27.7478762Z       given 1 Donation on 2022-02-19 (only if a valid date), 4 during 2022-02-20..2023-12-11, and 1 on 2023-12-12
2024-02-21T04:17:27.7479764Z         filtering to '' (February 20, 2022 - December 11, 2023)
2024-02-21T04:17:29.3159710Z           shows the correct total and 3 Recent Donation link(s)
2024-02-21T04:17:29.3161385Z       given 1 Donation on 2024-02-18 (only if a valid date), 0 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-21T04:17:29.3162426Z         filtering to 'Yesterday'
2024-02-21T04:17:32.7247861Z           shows the correct total and 0 Recent Donation link(s)
2024-02-21T04:17:32.7249573Z       given 1 Donation on 2024-02-19 (only if a valid date), 4 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-21T04:17:32.7250992Z         filtering to 'Today'
2024-02-21T04:17:34.2774689Z           shows the correct total and 3 Recent Donation link(s)
2024-02-21T04:17:34.2776531Z       given 1 Donation on 2024-01-31 (only if a valid date), 2 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-21T04:17:34.2777784Z         filtering to 'This Month'
2024-02-21T04:17:35.8569232Z           shows the correct total and 2 Recent Donation link(s)
2024-02-21T04:17:35.8570228Z     Signage
2024-02-21T04:17:38.7563620Z       shows their organization name unless they have a logo set
2024-02-21T04:17:38.7564271Z     Purchases
2024-02-21T04:17:39.6547364Z       has a link to create a new purchase
2024-02-21T04:17:39.6549305Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 1 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-21T04:17:39.6550805Z         filtering to 'Last Month'
2024-02-21T04:17:41.0604808Z           shows correct 1 Recent Purchase link(s)
2024-02-21T04:17:41.0606461Z       given 1 Purchase on 2024-01-21  (unless 'All Time'), 1 during 2024-01-22..2024-02-20, and 1 on 2024-02-21
2024-02-21T04:17:41.0607891Z         filtering to 'Last 30 Days'
2024-02-21T04:17:42.4674796Z           shows correct 1 Recent Purchase link(s)
2024-02-21T04:17:42.4676339Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-21T04:17:42.4677481Z         filtering to 'This Year'
2024-02-21T04:17:43.8836083Z           shows correct 1 Recent Purchase link(s)
2024-02-21T04:17:43.8837817Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-21T04:17:43.8839293Z         filtering to 'This Month'
2024-02-21T04:17:47.2691411Z           shows correct 0 Recent Purchase link(s)
2024-02-21T04:17:47.2693041Z       given 1 Purchase on 2024-02-13  (unless 'All Time'), 3 during 2024-02-14..2024-02-20, and 1 on 2024-02-21
2024-02-21T04:17:47.2694364Z         filtering to 'Last 7 Days'
2024-02-21T04:17:48.8274762Z           shows correct 3 Recent Purchase link(s)
2024-02-21T04:17:48.8276703Z       given 1 Purchase on 2022-02-19  (unless 'All Time'), 4 during 2022-02-20..2023-10-19, and 1 on 2023-10-20
2024-02-21T04:17:48.8278042Z         filtering to '' (February 20, 2022 - October 19, 2023)
2024-02-21T04:17:50.3934269Z           shows correct 3 Recent Purchase link(s)
2024-02-21T04:17:50.3935732Z       given 1 Purchase on 2024-02-19  (unless 'All Time'), 3 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-21T04:17:50.3936616Z         filtering to 'Today'
2024-02-21T04:17:51.8979527Z           shows correct 3 Recent Purchase link(s)
2024-02-21T04:17:51.8981260Z       given 1 Purchase on 2024-02-18  (unless 'All Time'), 4 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-21T04:17:51.8982728Z         filtering to 'Yesterday'
2024-02-21T04:17:53.6392848Z           shows correct 3 Recent Purchase link(s)
2024-02-21T04:17:53.6393946Z     Manufacturer Donations
2024-02-21T04:17:54.2260596Z       has a link to create a new donation
2024-02-21T04:17:54.2262807Z       given 1 Manufacturer donating on 2022-02-19  (unless 'All Time'), 6 during 2022-02-20..2023-10-07, and 1 on 2023-10-08
2024-02-21T04:17:54.2264420Z         filtering to '' (February 20, 2022 - October 7, 2023)
2024-02-21T04:17:56.4554369Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-02-21T04:17:56.4556325Z       given 1 Manufacturer donating on 2024-01-21  (unless 'All Time'), 2 during 2024-01-22..2024-02-20, and 1 on 2024-02-21
2024-02-21T04:17:56.4557849Z         filtering to 'Last 30 Days'
2024-02-21T04:17:58.0948228Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-02-21T04:17:58.0949814Z       given 1 Manufacturer donating on 2024-02-18  (unless 'All Time'), 2 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-21T04:17:58.0950901Z         filtering to 'Yesterday'
2024-02-21T04:17:59.6260962Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-02-21T04:17:59.6263098Z       given 1 Manufacturer donating on 2024-02-13  (unless 'All Time'), 0 during 2024-02-14..2024-02-20, and 1 on 2024-02-21
2024-02-21T04:17:59.6264415Z         filtering to 'Last 7 Days'
2024-02-21T04:18:01.0323732Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-02-21T04:18:01.0325739Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 4 during 2000-01-01..2024-02-20, and 1 on 2024-02-21
2024-02-21T04:18:01.0327247Z         filtering to 'All Time'
2024-02-21T04:18:02.7995404Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-02-21T04:18:02.7997258Z       given 1 Manufacturer donating on 2024-02-19  (unless 'All Time'), 8 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-21T04:18:02.7998586Z         filtering to 'Today'
2024-02-21T04:18:05.4448658Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-21T04:18:05.4450413Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 8 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-21T04:18:05.4451272Z         filtering to 'This Month'
2024-02-21T04:18:07.8549829Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-21T04:18:07.8551785Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 7 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-21T04:18:07.8553979Z         filtering to 'Last Month'
2024-02-21T04:18:10.0414459Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-02-21T04:18:10.0416705Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 7 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-21T04:18:10.0418065Z         filtering to 'This Year'
2024-02-21T04:18:12.3347999Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-02-21T04:18:12.3349422Z     Distributions
2024-02-21T04:18:13.3541364Z       has a link to create a new distribution
2024-02-21T04:18:13.3543212Z       given 1 Distribution on 2024-01-21  (unless 'All Time'), 0 during 2024-01-22..2024-02-20, and 1 on 2024-02-21
2024-02-21T04:18:13.3544630Z         filtering to 'Last 30 Days'
2024-02-21T04:18:16.7930152Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-21T04:18:16.7931917Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-21T04:18:16.7933009Z         filtering to 'This Month'
2024-02-21T04:18:18.2184451Z           shows the correct total and 1 Recent Distribution link(s)
2024-02-21T04:18:18.2186164Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-21T04:18:18.2187729Z         filtering to 'Last Month'
2024-02-21T04:18:19.6281774Z           shows the correct total and 2 Recent Distribution link(s)
2024-02-21T04:18:19.6283700Z       given 1 Distribution on 2022-02-19  (unless 'All Time'), 1 during 2022-02-20..2023-09-17, and 1 on 2023-09-18
2024-02-21T04:18:19.6284792Z         filtering to '' (February 20, 2022 - September 17, 2023)
2024-02-21T04:18:21.1078106Z           shows the correct total and 1 Recent Distribution link(s)
2024-02-21T04:18:21.1079565Z       given 1 Distribution on 2024-02-19  (unless 'All Time'), 2 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-21T04:18:21.1080529Z         filtering to 'Today'
2024-02-21T04:18:22.5528654Z           shows the correct total and 2 Recent Distribution link(s)
2024-02-21T04:18:22.5530219Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-21T04:18:22.5531154Z         filtering to 'This Year'
2024-02-21T04:18:24.0144786Z           shows the correct total and 2 Recent Distribution link(s)
2024-02-21T04:18:24.0146830Z       given 1 Distribution on 2024-02-18  (unless 'All Time'), 2 during 2024-02-19..2024-02-19, and 1 on 2024-02-20
2024-02-21T04:18:24.0148185Z         filtering to 'Yesterday'
2024-02-21T04:18:25.5893216Z           shows the correct total and 2 Recent Distribution link(s)
2024-02-21T04:18:25.5895162Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 2 during 2000-01-01..2024-02-20, and 1 on 2024-02-21
2024-02-21T04:18:25.5896647Z         filtering to 'All Time'
2024-02-21T04:18:27.0494826Z           shows the correct total and 2 Recent Distribution link(s)
2024-02-21T04:18:27.0496773Z       given 1 Distribution on 2024-02-13  (unless 'All Time'), 1 during 2024-02-14..2024-02-20, and 1 on 2024-02-21
2024-02-21T04:18:27.0497731Z         filtering to 'Last 7 Days'
2024-02-21T04:18:28.4516925Z           shows the correct total and 1 Recent Distribution link(s)
2024-02-21T04:18:28.4518019Z     Inventory Totals
2024-02-21T04:18:28.4518797Z       Summary
2024-02-21T04:18:29.1782454Z         displays the on-hand totals
2024-02-21T04:18:29.1783198Z         when constrained to date range
2024-02-21T04:18:30.2217761Z           does not change
2024-02-21T04:18:30.2221803Z   With a new essentials bank
2024-02-21T04:18:58.2457376Z     displays the getting started guide until the steps are completed
2024-02-21T04:18:58.2458535Z 
2024-02-21T04:18:58.2458749Z Purchases
2024-02-21T04:18:58.2461436Z   while signed in as a normal user
2024-02-21T04:18:58.2462556Z     When visiting the index page
2024-02-21T04:18:58.2463451Z       When filtering on the index page
2024-02-21T04:18:59.0784776Z         User can filter the #index by storage location
2024-02-21T04:18:59.9295576Z         User can filter the #index by vendor
2024-02-21T04:18:59.9296361Z         behaves like Date Range Picker
2024-02-21T04:18:59.9297360Z           when choosing a date range that only includes the previous week
2024-02-21T04:19:00.8904060Z             shows only 1 record
2024-02-21T04:19:00.8904880Z           when choosing 'All Time'
2024-02-21T04:19:01.8695645Z             shows all the records
2024-02-21T04:19:01.8697150Z           when choosing 'Last Month'
2024-02-21T04:19:02.8508420Z             shows only 2 of the records
2024-02-21T04:19:02.8509530Z       In the middle of the year
2024-02-21T04:19:03.6348839Z         User sees total purchases value
2024-02-21T04:19:04.4392252Z         User can click to the new purchase form
2024-02-21T04:19:05.2041103Z         User sees purchased date column
2024-02-21T04:19:05.2042125Z     When visiting an existing purchase
2024-02-21T04:19:05.6860964Z       does not allow deletion of a purchase
2024-02-21T04:19:05.6862142Z     When creating a new purchase
2024-02-21T04:19:06.1790353Z       should not display inactive storage locations in dropdown
2024-02-21T04:19:06.1791185Z       Editing purchase
2024-02-21T04:19:06.8109740Z         A user can view another organizations purchase
2024-02-21T04:19:07.3227080Z         A user can see purchased_from value
2024-02-21T04:19:07.3228037Z       via manual entry
2024-02-21T04:19:08.5808416Z         multiple line items for the same item type are accepted and combined on the backend
2024-02-21T04:19:09.5056236Z         User can create a purchase using dollars decimal amount
2024-02-21T04:19:10.5497719Z         User can create vendor from purchase
2024-02-21T04:19:11.6641831Z         User can create a purchase IN THE PAST
2024-02-21T04:19:12.6908075Z         Does not include inactive items in the line item fields
2024-02-21T04:19:12.6909022Z         when creating a purchase incorrectly
2024-02-21T04:19:13.5097537Z           should display failure with error messages
2024-02-21T04:19:14.5003428Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-02-21T04:19:14.5004433Z       via barcode entry
2024-02-21T04:19:15.4265474Z         User scan same barcode 2 times
2024-02-21T04:19:16.1643310Z         a user can add items via scanning them in by barcode
2024-02-21T04:19:17.3926673Z         a user can add items that do not yet have a barcode
2024-02-21T04:19:17.3927526Z   while signed in as an organization admin
2024-02-21T04:19:18.2722956Z     allows deletion of a purchase
2024-02-21T04:19:18.2723727Z 
2024-02-21T04:19:18.2723950Z Organization management
2024-02-21T04:19:18.2725976Z   while signed in as an organization admin
2024-02-21T04:19:19.2636524Z     can add a new user to an organization
2024-02-21T04:19:19.7729939Z     can see 'Make user' button for admins
2024-02-21T04:19:20.8300369Z     can re-activate a user in the organization
2024-02-21T04:19:21.8232141Z     can deactivate a user in the organization
2024-02-21T04:19:22.3328175Z     can re-invite a user to an organization after 7 days
2024-02-21T04:19:22.3331185Z     Editing the organization
2024-02-21T04:19:23.3714175Z       can enable if the org uses single step invite and approve partner process
2024-02-21T04:19:24.2331792Z       can set a default storage location on the organization
2024-02-21T04:19:25.2081082Z       can select if the org repackages essentials
2024-02-21T04:19:26.0621257Z       can set a reminder and a deadline day
2024-02-21T04:19:27.0618979Z       can select if the org distributes essentials monthly
2024-02-21T04:19:28.0518036Z       can disable if the org does NOT use single step invite and approve partner process
2024-02-21T04:19:29.2578687Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-02-21T04:19:30.2643557Z       can select if the org shows year-to-date values on the distribution printout
2024-02-21T04:19:31.7363097Z       can select and deselect Required Partner Fields
2024-02-21T04:19:32.5690645Z       can set the NDBN Member ID
2024-02-21T04:19:32.5691312Z     Viewing the organization
2024-02-21T04:19:33.1339921Z       can view organization details
2024-02-21T04:19:33.1340714Z   while signed in as a normal user
2024-02-21T04:19:33.6087284Z     can see summary details about the organization as a user
2024-02-21T04:19:34.1050738Z     cannot see 'Make user' button for admins
2024-02-21T04:19:34.1051427Z 
2024-02-21T04:19:34.1051970Z Kit management
2024-02-21T04:19:34.7069318Z   should not display inactive storage locations under allocations
2024-02-21T04:19:36.2375758Z   can allocate and deallocate quantity per storage location from kit index
2024-02-21T04:19:37.1741974Z   can create a new kit as a user with the proper quantity
2024-02-21T04:19:37.1743475Z   when there is not enough quantity of the items contained in the kit on-hand
2024-02-21T04:19:38.2942856Z     will not change quantity amounts when allocating
2024-02-21T04:19:38.2943687Z   when there is no kit quantity
2024-02-21T04:19:39.4784124Z     will not change quantity amounts when deallocating
2024-02-21T04:19:39.5237260Z W, [2024-02-20T20:19:39.523367 #2356]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-02-21T04:19:39.5239337Z W, [2024-02-20T20:19:39.523440 #2356]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-21T04:19:39.5241732Z W, [2024-02-20T20:19:39.523459 #2356]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-21T04:19:39.5244572Z W, [2024-02-20T20:19:39.523495 #2356]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-02-21T04:19:39.5247204Z 
2024-02-21T04:19:39.5247808Z Finished in 3 minutes 38.5 seconds (files took 8.34 seconds to load)
2024-02-21T04:19:39.5248599Z 235 examples, 0 failures
2024-02-21T04:19:39.5273686Z 
2024-02-21T04:19:39.5274044Z Randomized with seed 32201
2024-02-21T04:19:39.5274408Z 
2024-02-21T04:19:40.0210640Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3818 / 6403 LOC (59.63%) covered.
2024-02-21T04:19:40.5348239Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10651 LOC (0.36%) covered.
