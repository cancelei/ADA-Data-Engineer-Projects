2024-03-11T04:35:02.6125935Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-11T04:35:02.6126819Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-11T04:35:02.6177839Z shell: /usr/bin/bash -e {0}
2024-03-11T04:35:02.6178370Z env:
2024-03-11T04:35:02.6178656Z   POSTGRES_HOST: localhost
2024-03-11T04:35:02.6179073Z   DATABASE_HOST: localhost
2024-03-11T04:35:02.6179523Z   PG_USERNAME: postgres
2024-03-11T04:35:02.6179902Z   PG_PASSWORD: password
2024-03-11T04:35:02.6180356Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-11T04:35:02.6180737Z   POSTGRES_PORT: 5432
2024-03-11T04:35:02.6181089Z   PGHOST: localhost
2024-03-11T04:35:02.6181508Z   PGUSER: postgres
2024-03-11T04:35:02.6181851Z   RAILS_ENV: test
2024-03-11T04:35:02.6182241Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-11T04:35:02.6182705Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-11T04:35:02.6183124Z   KNAPSACK_PRO_CI_NODE_INDEX: 2
2024-03-11T04:35:02.6183582Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-11T04:35:02.6184209Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-11T04:35:02.6184810Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-11T04:35:02.6185501Z ##[endgroup]
2024-03-11T04:35:08.2720495Z W, [2024-03-11T04:35:08.271650 #2333]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-11T04:35:08.2723406Z W, [2024-03-11T04:35:08.271709 #2333]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-11T04:35:08.2725898Z W, [2024-03-11T04:35:08.271729 #2333]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-11T04:35:08.2729310Z W, [2024-03-11T04:35:08.271758 #2333]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-11T04:35:11.8431350Z W, [2024-03-11T04:35:11.842800 #2333]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-11T04:35:11.8434124Z W, [2024-03-11T04:35:11.842849 #2333]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-11T04:35:11.8436579Z W, [2024-03-11T04:35:11.842866 #2333]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-11T04:35:11.8440438Z W, [2024-03-11T04:35:11.842921 #2333]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-11T04:35:11.8494339Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-03-11T04:35:20.1090361Z 
2024-03-11T04:35:20.1091240Z Randomized with seed 46066
2024-03-11T04:35:21.0357079Z 
2024-03-11T04:35:21.0357785Z /partners/profiles
2024-03-11T04:35:21.0360200Z   GET #edit
2024-03-11T04:35:21.1221097Z     does not have default radio button value when value is nil (FAILED - 1)
2024-03-11T04:35:21.1824065Z     has "Yes" radio button value when value is true (FAILED - 2)
2024-03-11T04:35:21.2416420Z     has "No" radio button value when value is false (FAILED - 3)
2024-03-11T04:35:21.2974730Z     displays the partner (FAILED - 4)
2024-03-11T04:35:21.2975423Z   PUT #update
2024-03-11T04:35:21.3592303Z     updates the partner and profile
2024-03-11T04:35:21.3593282Z     when updating an existing value to a blank value
2024-03-11T04:35:21.4083503Z       does store N/A in the database
2024-03-11T04:35:21.4581131Z       updates the partner profile attribute to a blank value
2024-03-11T04:35:21.5064247Z       does not update other partner profile attributes to blank
2024-03-11T04:35:21.5065239Z     with no social media
2024-03-11T04:35:21.5706949Z       shows an error (FAILED - 5)
2024-03-11T04:35:21.5707814Z   GET #show
2024-03-11T04:35:21.6368772Z     shows correct values for yes/no buttons
2024-03-11T04:35:21.6847339Z     displays the partner
2024-03-11T04:35:21.6847990Z 
2024-03-11T04:35:21.6848389Z Profiles
2024-03-11T04:35:21.6849808Z   POST #update
2024-03-11T04:35:21.6850443Z     successful save
2024-03-11T04:35:21.7246805Z       redirects to #show
2024-03-11T04:35:21.7654433Z       update partner
2024-03-11T04:35:21.7655184Z     when updating an existing value to a blank value
2024-03-11T04:35:21.8059435Z       should have blank values
2024-03-11T04:35:21.8468897Z       update partner
2024-03-11T04:35:21.8469543Z   GET #edit
2024-03-11T04:35:21.9175070Z     returns http success (FAILED - 6)
2024-03-11T04:35:21.9175986Z 
2024-03-11T04:35:21.9176235Z Organization management
2024-03-11T04:35:21.9177302Z   while signed in as a normal user
2024-03-11T04:35:37.1360796Z     can see summary details about the organization as a user
2024-03-11T04:35:37.6546733Z     cannot see 'Make user' button for admins
2024-03-11T04:35:37.6547370Z   while signed in as an organization admin
2024-03-11T04:35:38.9160027Z     can re-activate a user in the organization
2024-03-11T04:35:39.8796194Z     can deactivate a user in the organization
2024-03-11T04:35:40.9091694Z     can add a new user to an organization
2024-03-11T04:35:41.3816930Z     can re-invite a user to an organization after 7 days
2024-03-11T04:35:41.8620234Z     can see 'Make user' button for admins
2024-03-11T04:35:41.8620848Z     Viewing the organization
2024-03-11T04:35:42.3998000Z       can view organization details
2024-03-11T04:35:42.3998854Z     Editing the organization
2024-03-11T04:35:43.5648008Z       can enable if the org uses single step invite and approve partner process
2024-03-11T04:35:44.5763609Z       can select if the org distributes essentials monthly
2024-03-11T04:35:45.4003633Z       can set a default storage location on the organization
2024-03-11T04:35:46.2326880Z       can set the NDBN Member ID
2024-03-11T04:35:47.6955519Z       can select and deselect Required Partner Fields
2024-03-11T04:35:48.6594412Z       can select if the org repackages essentials
2024-03-11T04:35:49.5092260Z       can set a reminder and a deadline day
2024-03-11T04:35:50.4893677Z       can select if the org shows year-to-date values on the distribution printout
2024-03-11T04:35:51.4403924Z       can disable if the org does NOT use single step invite and approve partner process
2024-03-11T04:35:52.5971409Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-03-11T04:35:52.5972890Z 
2024-03-11T04:35:52.5973266Z /partners/dashboard
2024-03-11T04:35:52.7459990Z   displays upcoming distributions
2024-03-11T04:35:52.7461074Z   BroadcastAnnouncement card
2024-03-11T04:35:52.8033066Z     displays announcements if there are valid ones
2024-03-11T04:35:52.8512955Z     doesn't display announcements from super admins
2024-03-11T04:35:52.8984627Z     doesn't display announcements if there are not valid ones
2024-03-11T04:35:52.8985923Z   GET #index
2024-03-11T04:35:52.9665379Z     does not display requests in other states
2024-03-11T04:35:53.0348237Z     displays requests that are pending
2024-03-11T04:35:53.0349014Z   with just partner role
2024-03-11T04:35:53.0797549Z     should not display the switch link
2024-03-11T04:35:53.0798586Z   with both roles
2024-03-11T04:35:53.1431974Z     should include the switch link
2024-03-11T04:35:53.1435357Z 
2024-03-11T04:35:53.1436019Z Dashboard
2024-03-11T04:35:53.1437134Z   With a new essentials bank
2024-03-11T04:36:21.3620908Z     displays the getting started guide until the steps are completed
2024-03-11T04:36:21.3621992Z   With an existing essentials bank
2024-03-11T04:36:21.3622791Z     Manufacturer Donations
2024-03-11T04:36:21.9145067Z       has a link to create a new donation
2024-03-11T04:36:21.9146889Z       given 1 Manufacturer donating on 2024-03-08  (unless 'All Time'), 9 during 2024-03-09..2024-03-09, and 1 on 2024-03-10
2024-03-11T04:36:21.9148292Z         filtering to 'Yesterday'
2024-03-11T04:36:24.1073271Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-11T04:36:24.1075385Z       given 1 Manufacturer donating on 2024-03-03  (unless 'All Time'), 4 during 2024-03-04..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:36:24.1076538Z         filtering to 'Last 7 Days'
2024-03-11T04:36:25.7740607Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-03-11T04:36:25.7743388Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 9 during 2000-01-01..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:36:25.7744564Z         filtering to 'All Time'
2024-03-11T04:36:27.8886535Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-11T04:36:27.8889169Z       given 1 Manufacturer donating on 2024-02-09  (unless 'All Time'), 1 during 2024-02-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:36:27.8890705Z         filtering to 'Last 30 Days'
2024-03-11T04:36:29.2595145Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-03-11T04:36:29.2597345Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-11T04:36:29.2598725Z         filtering to 'Last Month'
2024-03-11T04:36:30.7956171Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-11T04:36:30.7957958Z       given 1 Manufacturer donating on 2022-03-09  (unless 'All Time'), 2 during 2022-03-10..2023-09-30, and 1 on 2023-10-01
2024-03-11T04:36:30.7959191Z         filtering to '' (March 10, 2022 - September 30, 2023)
2024-03-11T04:36:32.2820997Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-03-11T04:36:32.2823007Z       given 1 Manufacturer donating on 2024-02-29  (unless 'All Time'), 9 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-11T04:36:32.2824523Z         filtering to 'This Month'
2024-03-11T04:36:34.2903855Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-11T04:36:34.2905868Z       given 1 Manufacturer donating on 2024-03-09  (unless 'All Time'), 0 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:36:34.2906956Z         filtering to 'Today'
2024-03-11T04:36:35.5951179Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-03-11T04:36:35.5953152Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 8 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-11T04:36:35.5955102Z         filtering to 'This Year'
2024-03-11T04:36:37.6508853Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-11T04:36:37.6509868Z     Distributions
2024-03-11T04:36:38.5793268Z       has a link to create a new distribution
2024-03-11T04:36:38.5795196Z       given 1 Distribution on 2024-02-29  (unless 'All Time'), 4 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-11T04:36:38.5796314Z         filtering to 'This Month'
2024-03-11T04:36:40.0319949Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-11T04:36:40.0322189Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-11T04:36:40.0323488Z         filtering to 'Last Month'
2024-03-11T04:36:41.4381401Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-11T04:36:41.4383296Z       given 1 Distribution on 2024-03-09  (unless 'All Time'), 1 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:36:41.4384590Z         filtering to 'Today'
2024-03-11T04:36:42.7743070Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-11T04:36:42.7744905Z       given 1 Distribution on 2022-03-09  (unless 'All Time'), 0 during 2022-03-10..2023-11-29, and 1 on 2023-11-30
2024-03-11T04:36:42.7746538Z         filtering to '' (March 10, 2022 - November 29, 2023)
2024-03-11T04:36:46.1569100Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-11T04:36:46.1571091Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 1 during 2000-01-01..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:36:46.1571999Z         filtering to 'All Time'
2024-03-11T04:36:47.5254651Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-11T04:36:47.5256579Z       given 1 Distribution on 2024-02-09  (unless 'All Time'), 1 during 2024-02-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:36:47.5257871Z         filtering to 'Last 30 Days'
2024-03-11T04:36:49.0089089Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-11T04:36:49.0090799Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 4 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-11T04:36:49.0092038Z         filtering to 'This Year'
2024-03-11T04:36:50.4425345Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-11T04:36:50.4427269Z       given 1 Distribution on 2024-03-03  (unless 'All Time'), 2 during 2024-03-04..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:36:50.4428592Z         filtering to 'Last 7 Days'
2024-03-11T04:36:51.8602241Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-11T04:36:51.8604543Z       given 1 Distribution on 2024-03-08  (unless 'All Time'), 2 during 2024-03-09..2024-03-09, and 1 on 2024-03-10
2024-03-11T04:36:51.8605908Z         filtering to 'Yesterday'
2024-03-11T04:36:53.2355578Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-11T04:36:53.2356569Z     Product Drives
2024-03-11T04:36:53.8062033Z       has a widget for product drive summary data
2024-03-11T04:36:53.8065246Z       given 1 Product Drive Donation on 2024-03-03 (unless 'All Time'), 1 during 2024-03-04..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:36:53.8066613Z         filtering to 'Last 7 Days'
2024-03-11T04:36:55.1267410Z           shows the correct total money raised
2024-03-11T04:36:56.4750351Z           shows 1 Recent Donation link(s)
2024-03-11T04:36:57.8053251Z           shows the correct total donations
2024-03-11T04:36:57.8055267Z       given 1 Product Drive Donation on 2024-02-29 (unless 'All Time'), 0 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-11T04:36:57.8056626Z         filtering to 'This Month'
2024-03-11T04:36:59.0956883Z           shows the correct total donations
2024-03-11T04:37:02.4020772Z           shows 0 Recent Donation link(s)
2024-03-11T04:37:03.6881417Z           shows the correct total money raised
2024-03-11T04:37:03.6883474Z       given 1 Product Drive Donation on 2024-02-09 (unless 'All Time'), 0 during 2024-02-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:37:03.6885041Z         filtering to 'Last 30 Days'
2024-03-11T04:37:06.9937580Z           shows 0 Recent Donation link(s)
2024-03-11T04:37:08.3137388Z           shows the correct total donations
2024-03-11T04:37:09.6162840Z           shows the correct total money raised
2024-03-11T04:37:09.6164411Z       given 1 Product Drive Donation on 2022-03-09 (unless 'All Time'), 1 during 2022-03-10..2023-09-19, and 1 on 2023-09-20
2024-03-11T04:37:09.6165427Z         filtering to '' (March 10, 2022 - September 19, 2023)
2024-03-11T04:37:10.9585053Z           shows the correct total money raised
2024-03-11T04:37:12.2934597Z           shows the correct total donations
2024-03-11T04:37:13.6103998Z           shows 1 Recent Donation link(s)
2024-03-11T04:37:13.6105874Z       given 1 Product Drive Donation on 2024-03-09 (unless 'All Time'), 1 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:37:13.6107439Z         filtering to 'Today'
2024-03-11T04:37:14.9278205Z           shows the correct total money raised
2024-03-11T04:37:16.2396785Z           shows the correct total donations
2024-03-11T04:37:17.5709211Z           shows 1 Recent Donation link(s)
2024-03-11T04:37:17.5711271Z       given 1 Product Drive Donation on 2024-03-08 (unless 'All Time'), 4 during 2024-03-09..2024-03-09, and 1 on 2024-03-10
2024-03-11T04:37:17.5712704Z         filtering to 'Yesterday'
2024-03-11T04:37:18.9934025Z           shows the correct total donations
2024-03-11T04:37:20.6070211Z           shows 3 Recent Donation link(s)
2024-03-11T04:37:22.0120199Z           shows the correct total money raised
2024-03-11T04:37:22.0122255Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-11T04:37:22.0123867Z         filtering to 'This Year'
2024-03-11T04:37:25.3102048Z           shows 0 Recent Donation link(s)
2024-03-11T04:37:26.5872329Z           shows the correct total donations
2024-03-11T04:37:27.8585871Z           shows the correct total money raised
2024-03-11T04:37:27.8586856Z       Product drive behaviour with Mixed Donation types
2024-03-11T04:37:28.5272727Z         only counts product drive donations for product drive
2024-03-11T04:37:29.2024993Z         only shows product drive donations as product drive donations
2024-03-11T04:37:29.8637747Z         only counts product drive money raised
2024-03-11T04:37:29.8639175Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-11T04:37:29.8640245Z         filtering to 'Last Month'
2024-03-11T04:37:31.1902521Z           shows the correct total money raised
2024-03-11T04:37:32.5241852Z           shows 1 Recent Donation link(s)
2024-03-11T04:37:33.9375901Z           shows the correct total donations
2024-03-11T04:37:33.9377022Z     Signage
2024-03-11T04:37:36.7928866Z       shows their organization name unless they have a logo set
2024-03-11T04:37:36.7930029Z     Donations
2024-03-11T04:37:37.6751548Z       has a link to create a new donation
2024-03-11T04:37:37.6753446Z       given 1 Donation on 2024-02-09 (only if a valid date), 1 during 2024-02-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:37:37.6754465Z         filtering to 'Last 30 Days'
2024-03-11T04:37:38.9935368Z           shows the correct total and 1 Recent Donation link(s)
2024-03-11T04:37:38.9937304Z       given 1 Donation on 2024-03-03 (only if a valid date), 3 during 2024-03-04..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:37:38.9938633Z         filtering to 'Last 7 Days'
2024-03-11T04:37:40.3808642Z           shows the correct total and 3 Recent Donation link(s)
2024-03-11T04:37:40.3810122Z       given 1 Donation on 2024-01-31 (only if a valid date), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-11T04:37:40.3811161Z         filtering to 'Last Month'
2024-03-11T04:37:41.7925683Z           shows the correct total and 3 Recent Donation link(s)
2024-03-11T04:37:41.7927755Z       given 1 Donation on 2023-12-31 (only if a valid date), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-11T04:37:41.7928739Z         filtering to 'This Year'
2024-03-11T04:37:45.0830104Z           shows the correct total and 0 Recent Donation link(s)
2024-03-11T04:37:45.0832480Z       given 1 Donation on 2024-03-09 (only if a valid date), 3 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:37:45.0833276Z         filtering to 'Today'
2024-03-11T04:37:46.4548274Z           shows the correct total and 3 Recent Donation link(s)
2024-03-11T04:37:46.4551116Z       given 1 Donation on 2024-02-29 (only if a valid date), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-11T04:37:46.4552507Z         filtering to 'This Month'
2024-03-11T04:37:47.8111319Z           shows the correct total and 2 Recent Donation link(s)
2024-03-11T04:37:47.8119773Z       given 1 Donation on 2024-03-08 (only if a valid date), 3 during 2024-03-09..2024-03-09, and 1 on 2024-03-10
2024-03-11T04:37:47.8126499Z         filtering to 'Yesterday'
2024-03-11T04:37:49.3927869Z           shows the correct total and 3 Recent Donation link(s)
2024-03-11T04:37:49.3929818Z       given 1 Donation on 2022-03-09 (only if a valid date), 0 during 2022-03-10..2023-11-07, and 1 on 2023-11-08
2024-03-11T04:37:49.3931333Z         filtering to '' (March 10, 2022 - November 7, 2023)
2024-03-11T04:37:52.7102982Z           shows the correct total and 0 Recent Donation link(s)
2024-03-11T04:37:52.7104085Z     Purchases
2024-03-11T04:37:53.6079044Z       has a link to create a new purchase
2024-03-11T04:37:53.6080697Z       given 1 Purchase on 2024-03-08  (unless 'All Time'), 0 during 2024-03-09..2024-03-09, and 1 on 2024-03-10
2024-03-11T04:37:53.6082182Z         filtering to 'Yesterday'
2024-03-11T04:37:56.9095337Z           shows correct 0 Recent Purchase link(s)
2024-03-11T04:37:56.9097055Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-11T04:37:56.9098212Z         filtering to 'This Year'
2024-03-11T04:37:58.2553801Z           shows correct 2 Recent Purchase link(s)
2024-03-11T04:37:58.2555217Z       given 1 Purchase on 2024-02-09  (unless 'All Time'), 4 during 2024-02-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:37:58.2556199Z         filtering to 'Last 30 Days'
2024-03-11T04:37:59.6621477Z           shows correct 3 Recent Purchase link(s)
2024-03-11T04:37:59.6623233Z       given 1 Purchase on 2024-03-09  (unless 'All Time'), 2 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:37:59.6624664Z         filtering to 'Today'
2024-03-11T04:38:01.0210777Z           shows correct 2 Recent Purchase link(s)
2024-03-11T04:38:01.0212767Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-11T04:38:01.0214083Z         filtering to 'Last Month'
2024-03-11T04:38:04.2951496Z           shows correct 0 Recent Purchase link(s)
2024-03-11T04:38:04.2953222Z       given 1 Purchase on 2022-03-09  (unless 'All Time'), 0 during 2022-03-10..2023-12-11, and 1 on 2023-12-12
2024-03-11T04:38:04.2954633Z         filtering to '' (March 10, 2022 - December 11, 2023)
2024-03-11T04:38:07.6275861Z           shows correct 0 Recent Purchase link(s)
2024-03-11T04:38:07.6277667Z       given 1 Purchase on 2024-03-03  (unless 'All Time'), 4 during 2024-03-04..2024-03-10, and 1 on 2024-03-11
2024-03-11T04:38:07.6279123Z         filtering to 'Last 7 Days'
2024-03-11T04:38:09.0359877Z           shows correct 3 Recent Purchase link(s)
2024-03-11T04:38:09.0361776Z       given 1 Purchase on 2024-02-29  (unless 'All Time'), 3 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-11T04:38:09.0363034Z         filtering to 'This Month'
2024-03-11T04:38:10.4109155Z           shows correct 3 Recent Purchase link(s)
2024-03-11T04:38:10.4110079Z     Inventory Totals
2024-03-11T04:38:10.4111374Z       Summary
2024-03-11T04:38:11.1138062Z         displays the on-hand totals
2024-03-11T04:38:11.1139339Z         when constrained to date range
2024-03-11T04:38:12.1183333Z           does not change
2024-03-11T04:38:12.1185394Z 
2024-03-11T04:38:12.1185786Z BroadcastAnnouncements
2024-03-11T04:38:12.1187882Z   GET /new
2024-03-11T04:38:12.1514893Z     renders a successful response
2024-03-11T04:38:12.1516081Z   PATCH /update
2024-03-11T04:38:12.1516681Z     with invalid parameters
2024-03-11T04:38:12.1850029Z       does not render a successful response
2024-03-11T04:38:12.1850825Z     with valid parameters
2024-03-11T04:38:12.2029216Z       updates the requested announcement and redirects
2024-03-11T04:38:12.2030319Z   POST /create
2024-03-11T04:38:12.2030945Z     with valid parameters
2024-03-11T04:38:12.2182862Z       creates a new BroadcastAnnouncement then redirects
2024-03-11T04:38:12.2183756Z     with invalid parameters
2024-03-11T04:38:12.2457515Z       does not render a successful response
2024-03-11T04:38:12.2731602Z       does not create a new BroadcastAnnouncement
2024-03-11T04:38:12.2732663Z   GET /index
2024-03-11T04:38:12.3025235Z     renders a successful response
2024-03-11T04:38:12.3026195Z   GET /edit
2024-03-11T04:38:12.3304193Z     render a successful response
2024-03-11T04:38:12.3304977Z   DELETE /destroy
2024-03-11T04:38:12.3463491Z     destroys the requested announcement then redirects
2024-03-11T04:38:12.3464199Z 
2024-03-11T04:38:12.3464603Z Admin::AccountRequestsController
2024-03-11T04:38:12.3465607Z   while signed in as a super admin
2024-03-11T04:38:12.3466785Z     GET #index
2024-03-11T04:38:12.3861350Z       returns success
2024-03-11T04:38:12.3862049Z     GET #for_rejection
2024-03-11T04:38:12.3862874Z       with a valid token
2024-03-11T04:38:12.4271589Z         should show the request
2024-03-11T04:38:12.4272586Z       with an invalid token
2024-03-11T04:38:12.4646611Z         should show a not found message
2024-03-11T04:38:12.4647422Z     POST #reject
2024-03-11T04:38:12.4891482Z       should redirect back on success
2024-03-11T04:38:12.4892181Z 
2024-03-11T04:38:12.4894333Z User account management
2024-03-11T04:38:12.4895094Z   when not in staging
2024-03-11T04:38:13.3670285Z     should change the email
2024-03-11T04:38:14.2310356Z     should change an user name
2024-03-11T04:38:14.9846143Z     should fail when the email is invalid
2024-03-11T04:38:14.9847070Z   when in staging
2024-03-11T04:38:15.4190712Z     should not allow the user to change staging credentials
2024-03-11T04:38:15.8769264Z     should display staging warning
2024-03-11T04:38:15.8772952Z 
2024-03-11T04:38:15.8773273Z Purchases
2024-03-11T04:38:15.8774730Z   while signed in as an organization admin
2024-03-11T04:38:16.6948295Z     allows deletion of a purchase
2024-03-11T04:38:16.6949117Z   while signed in as a normal user
2024-03-11T04:38:16.6949802Z     When creating a new purchase
2024-03-11T04:38:17.1632773Z       should not display inactive storage locations in dropdown
2024-03-11T04:38:17.1633498Z       via manual entry
2024-03-11T04:38:18.2250521Z         User can create a purchase IN THE PAST
2024-03-11T04:38:19.3697370Z         multiple line items for the same item type are accepted and combined on the backend
2024-03-11T04:38:20.2191044Z         User can create a purchase using dollars decimal amount
2024-03-11T04:38:21.2420226Z         User can create vendor from purchase
2024-03-11T04:38:22.2293285Z         Does not include inactive items in the line item fields
2024-03-11T04:38:22.2294346Z         when creating a purchase incorrectly
2024-03-11T04:38:23.1922999Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-03-11T04:38:23.9842480Z           should display failure with error messages
2024-03-11T04:38:23.9843385Z       Editing purchase
2024-03-11T04:38:24.5838404Z         A user can view another organizations purchase
2024-03-11T04:38:25.0643233Z         A user can see purchased_from value
2024-03-11T04:38:25.0644230Z       via barcode entry
2024-03-11T04:38:25.8247582Z         a user can add items via scanning them in by barcode
2024-03-11T04:38:26.7428695Z         User scan same barcode 2 times
2024-03-11T04:38:27.9699984Z         a user can add items that do not yet have a barcode
2024-03-11T04:38:27.9700959Z     When visiting the index page
2024-03-11T04:38:27.9701970Z       In the middle of the year
2024-03-11T04:38:28.7137618Z         User sees total purchases value
2024-03-11T04:38:29.4285965Z         User sees purchased date column
2024-03-11T04:38:30.1832174Z         User can click to the new purchase form
2024-03-11T04:38:30.1832843Z       When filtering on the index page
2024-03-11T04:38:31.0147048Z         User can filter the #index by storage location
2024-03-11T04:38:31.8287116Z         User can filter the #index by vendor
2024-03-11T04:38:31.8287901Z         behaves like Date Range Picker
2024-03-11T04:38:31.8288828Z           when choosing a date range that only includes the previous week
2024-03-11T04:38:32.7514434Z             shows only 1 record
2024-03-11T04:38:32.7515475Z           when choosing 'Last Month'
2024-03-11T04:38:33.7014316Z             shows only 2 of the records
2024-03-11T04:38:33.7015476Z           when choosing 'All Time'
2024-03-11T04:38:34.6337591Z             shows all the records
2024-03-11T04:38:34.6338683Z     When visiting an existing purchase
2024-03-11T04:38:35.0837330Z       does not allow deletion of a purchase
2024-03-11T04:38:35.0838134Z 
2024-03-11T04:38:35.0838359Z Managing requests
2024-03-11T04:38:35.0843052Z   creating a new quantity request
2024-03-11T04:38:35.0844245Z     GIVEN a partner user is permitted to make a request
2024-03-11T04:38:35.0845266Z       WHEN a request is built using add and remove buttons
2024-03-11T04:38:35.0846164Z         THEN a request records will be created
2024-03-11T04:38:37.0152832Z           creates the correct request
2024-03-11T04:38:37.0154168Z   creating a # individuals request
2024-03-11T04:38:37.0155740Z     GIVEN a partner user is permitted to make a request
2024-03-11T04:38:37.0159774Z       WHEN a request is built using add and remove buttons
2024-03-11T04:38:37.0160807Z         THEN a request records will be created
2024-03-11T04:38:38.7884804Z           creates the correct request
2024-03-11T04:38:38.7885700Z 
2024-03-11T04:38:38.7886027Z Admin Organization Management
2024-03-11T04:38:38.7887679Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-11T04:38:40.7402047Z     creates a new organization
2024-03-11T04:38:40.7405766Z   While signed in as an Administrative User (super admin)
2024-03-11T04:38:42.6011119Z     creates a new organization
2024-03-11T04:38:43.6760448Z     filters by organizations by name in organizations index page
2024-03-11T04:38:44.9473698Z     can view organization details
2024-03-11T04:38:44.9474397Z 
2024-03-11T04:38:44.9474614Z Kit management
2024-03-11T04:38:45.5079445Z   should not display inactive storage locations under allocations
2024-03-11T04:38:46.9346163Z   can allocate and deallocate quantity per storage location from kit index
2024-03-11T04:38:47.8080134Z   can create a new kit as a user with the proper quantity
2024-03-11T04:38:47.8081547Z   when there is not enough quantity of the items contained in the kit on-hand
2024-03-11T04:38:48.8734463Z     will not change quantity amounts when allocating
2024-03-11T04:38:48.8735289Z   when there is no kit quantity
2024-03-11T04:38:49.9810406Z     will not change quantity amounts when deallocating
2024-03-11T04:38:49.9811128Z 
2024-03-11T04:38:49.9811431Z Admin::Questions
2024-03-11T04:38:49.9812780Z   while signed in as a super admin
2024-03-11T04:38:49.9814433Z     GET #edit
2024-03-11T04:38:50.0333458Z       lets the user load the edit question page
2024-03-11T04:38:50.0334252Z     DELETE #destroy
2024-03-11T04:38:50.0558953Z       lets the user delete questions
2024-03-11T04:38:50.0559656Z     GET #new
2024-03-11T04:38:50.0870821Z       lets the user load the new question page
2024-03-11T04:38:50.0871801Z     POST #create
2024-03-11T04:38:50.1057485Z       lets the user create questions
2024-03-11T04:38:50.1058284Z     GET #index
2024-03-11T04:38:50.1344294Z       lets the user load the page
2024-03-11T04:38:50.1345129Z     PATCH #update
2024-03-11T04:38:50.1550283Z       lets the user update questions
2024-03-11T04:38:50.1551263Z 
2024-03-11T04:38:50.1551585Z Vendor
2024-03-11T04:38:50.1553403Z   when editing an existing vendor
2024-03-11T04:38:50.9139845Z     can update the contact info for a vendor as a user
2024-03-11T04:38:51.6537888Z     does not update a vendor with empty attributes
2024-03-11T04:38:51.6538690Z   when creating a new vendor
2024-03-11T04:38:52.3606484Z     cannot add a new vendor instance with empty attributes
2024-03-11T04:38:53.1100606Z     can create a new vendor instance as a user
2024-03-11T04:38:53.1101830Z   When vendor have purchases associated with them already
2024-03-11T04:38:53.7118661Z     can have existing vendors show in the #index with some summary stats
2024-03-11T04:38:54.2681673Z     can have a single vendor show semi-detailed stats about purchases
2024-03-11T04:38:54.2682719Z   When a user views the index page
2024-03-11T04:38:54.7189530Z     should have the vendor names in alphabetical order
2024-03-11T04:38:54.7190624Z 
2024-03-11T04:38:54.7190949Z StorageLocations
2024-03-11T04:38:54.7192332Z   While not signed in
2024-03-11T04:38:54.7266701Z     redirects the user to the sign-in page for CRUD actions
2024-03-11T04:38:54.7267511Z   While signed in
2024-03-11T04:38:54.7268650Z     GET #show
2024-03-11T04:38:54.7269446Z       html
2024-03-11T04:38:54.7938850Z         should return a correct response
2024-03-11T04:38:54.7939916Z         with version date set
2024-03-11T04:38:54.7940587Z           with a version found
2024-03-11T04:38:54.8683655Z             should show the version specified
2024-03-11T04:38:54.8684522Z           with no version found
2024-03-11T04:38:54.9418559Z             should show N/A
2024-03-11T04:38:54.9419455Z       csv
2024-03-11T04:38:54.9864709Z         should be successful
2024-03-11T04:38:54.9865408Z     PUT #reactivate
2024-03-11T04:38:55.0040519Z       undiscards
2024-03-11T04:38:55.0041400Z     GET #destroy
2024-03-11T04:38:55.0278422Z       redirects to #index
2024-03-11T04:38:55.0279206Z     POST #import_csv
2024-03-11T04:38:55.0280141Z       csv file with wrong headers
2024-03-11T04:38:55.0405724Z         redirects
2024-03-11T04:38:55.0522661Z         presents a flash error message
2024-03-11T04:38:55.0523593Z       without a csv file
2024-03-11T04:38:55.0634725Z         presents a flash error message
2024-03-11T04:38:55.0754388Z         redirects to :index
2024-03-11T04:38:55.0755048Z       with a csv file
2024-03-11T04:38:55.0908661Z         presents a flash notice message
2024-03-11T04:38:55.1052418Z         redirects
2024-03-11T04:38:55.1102360Z         invokes .import_csv
2024-03-11T04:38:55.1103179Z     GET #edit
2024-03-11T04:38:55.2563317Z       returns http success
2024-03-11T04:38:55.2564355Z     Looking at a different organization
2024-03-11T04:38:55.4251317Z       redirects the user to the sign-in page for CRUD actions
2024-03-11T04:38:55.4251967Z     GET #new
2024-03-11T04:38:55.4555157Z       returns http success
2024-03-11T04:38:55.4555774Z     PUT #deactivate
2024-03-11T04:38:55.4726951Z       discards
2024-03-11T04:38:55.4727562Z       with inventory
2024-03-11T04:38:55.5226954Z         does not discard
2024-03-11T04:38:55.5227672Z     GET #inventory
2024-03-11T04:38:55.5228854Z       without any overrides
2024-03-11T04:38:55.5719028Z         returns a collection that only includes items at the storage location
2024-03-11T04:38:55.5720070Z       when also including omitted items
2024-03-11T04:38:55.6164138Z         contains a collection of ducktyped entries that respond the same
2024-03-11T04:38:55.6611426Z         returns a collection that also includes all items, but with zeroed quantities
2024-03-11T04:38:55.6612591Z       when also including inactive items
2024-03-11T04:38:55.7216643Z         returns a collection that also includes items that have been deactivated
2024-03-11T04:38:55.7217786Z     GET #index
2024-03-11T04:38:55.7218635Z       csv
2024-03-11T04:38:55.8176918Z         includes headers followed by alphabetized item names
2024-03-11T04:38:55.8358502Z         succeeds
2024-03-11T04:38:55.8359227Z       html
2024-03-11T04:38:55.8712635Z         succeeds
2024-03-11T04:38:55.8713289Z         with inactive locations
2024-03-11T04:38:55.9074267Z           does not includes the inactive location
2024-03-11T04:38:55.9075365Z           with include_inactive_locations
2024-03-11T04:38:55.9449079Z             includes the inactive location
2024-03-11T04:38:55.9452741Z 
2024-03-11T04:38:55.9453139Z Events
2024-03-11T04:38:55.9657030Z   When not signed in
2024-03-11T04:38:55.9657949Z     redirects the user to the sign-in page for CRUD actions
2024-03-11T04:38:55.9658632Z   When signed in
2024-03-11T04:38:55.9659011Z     GET #index
2024-03-11T04:38:56.6507974Z       should be successful
2024-03-11T04:38:56.6508616Z       with item filter
2024-03-11T04:38:57.1226992Z         should not include the other item
2024-03-11T04:38:57.1227697Z       with date filter
2024-03-11T04:38:57.6051383Z         should not include the old donation
2024-03-11T04:38:57.6052262Z       with type filter
2024-03-11T04:38:58.0805325Z         should not include the adjustment
2024-03-11T04:38:58.0806039Z       with eventable_id
2024-03-11T04:38:58.6878544Z         should only show events from that eventable
2024-03-11T04:38:58.6879307Z       with storage location filter
2024-03-11T04:38:59.1683387Z         should not include the other storage location
2024-03-11T04:38:59.1907499Z W, [2024-03-10T21:38:59.190520 #2383]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-11T04:38:59.1908640Z W, [2024-03-10T21:38:59.190561 #2383]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-11T04:38:59.1910038Z W, [2024-03-10T21:38:59.190575 #2383]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-11T04:38:59.1911696Z W, [2024-03-10T21:38:59.190597 #2383]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-11T04:38:59.2417514Z 
2024-03-11T04:38:59.2417803Z Failures:
2024-03-11T04:38:59.2418115Z 
2024-03-11T04:38:59.2420030Z   1) /partners/profiles GET #edit does not have default radio button value when value is nil
2024-03-11T04:38:59.2421292Z      Failure/Error:
2024-03-11T04:38:59.2422063Z        link_to_add_association form, :served_areas,
2024-03-11T04:38:59.2422906Z                               data: {
2024-03-11T04:38:59.2423705Z                                 association_insertion_node: node,
2024-03-11T04:38:59.2424665Z                                 association_insertion_method: "append"
2024-03-11T04:38:59.2426419Z                               }, id: "__add_partner_served_area", class: "btn btn-#{size} btn-#{type} add-partner-served_area", partial: partial do
2024-03-11T04:38:59.2427537Z          fa_icon "plus", text: text
2024-03-11T04:38:59.2428076Z        end
2024-03-11T04:38:59.2428296Z 
2024-03-11T04:38:59.2428515Z      ActionView::Template::Error:
2024-03-11T04:38:59.2429630Z        undefined method `link_to_add_association' for #<ActionView::Base:0x00000000032050>
2024-03-11T04:38:59.2430701Z      # ./app/helpers/ui_helper.rb:195:in `add_served_area_button'
2024-03-11T04:38:59.2432294Z      # ./app/views/partners/profiles/edit/_area_served.html.erb:27:in `_app_views_partners_profiles_edit__area_served_html_erb___1741966842847008176_102420'
2024-03-11T04:38:59.2434522Z      # ./app/views/partners/profiles/edit.html.erb:38:in `block (3 levels) in _app_views_partners_profiles_edit_html_erb__3396748620155981488_102280'
2024-03-11T04:38:59.2436056Z      # ./app/views/partners/profiles/edit.html.erb:36:in `each'
2024-03-11T04:38:59.2437571Z      # ./app/views/partners/profiles/edit.html.erb:36:in `block (2 levels) in _app_views_partners_profiles_edit_html_erb__3396748620155981488_102280'
2024-03-11T04:38:59.2439623Z      # ./app/views/partners/profiles/edit.html.erb:31:in `block in _app_views_partners_profiles_edit_html_erb__3396748620155981488_102280'
2024-03-11T04:38:59.2442203Z      # ./app/views/partners/profiles/edit.html.erb:30:in `_app_views_partners_profiles_edit_html_erb__3396748620155981488_102280'
2024-03-11T04:38:59.2444135Z      # ./spec/requests/partners/profiles_requests_spec.rb:34:in `block (3 levels) in <top (required)>'
2024-03-11T04:38:59.2445220Z      # ------------------
2024-03-11T04:38:59.2445730Z      # --- Caused by: ---
2024-03-11T04:38:59.2446185Z      # NoMethodError:
2024-03-11T04:38:59.2447154Z      #   undefined method `link_to_add_association' for #<ActionView::Base:0x00000000032050>
2024-03-11T04:38:59.2448223Z      #   ./app/helpers/ui_helper.rb:195:in `add_served_area_button'
2024-03-11T04:38:59.2448789Z 
2024-03-11T04:38:59.2449265Z   2) /partners/profiles GET #edit has "Yes" radio button value when value is true
2024-03-11T04:38:59.2450127Z      Failure/Error:
2024-03-11T04:38:59.2450625Z        link_to_add_association form, :served_areas,
2024-03-11T04:38:59.2451261Z                               data: {
2024-03-11T04:38:59.2451877Z                                 association_insertion_node: node,
2024-03-11T04:38:59.2452630Z                                 association_insertion_method: "append"
2024-03-11T04:38:59.2454020Z                               }, id: "__add_partner_served_area", class: "btn btn-#{size} btn-#{type} add-partner-served_area", partial: partial do
2024-03-11T04:38:59.2455127Z          fa_icon "plus", text: text
2024-03-11T04:38:59.2455646Z        end
2024-03-11T04:38:59.2455859Z 
2024-03-11T04:38:59.2456042Z      ActionView::Template::Error:
2024-03-11T04:38:59.2457078Z        undefined method `link_to_add_association' for #<ActionView::Base:0x000000000320c8>
2024-03-11T04:38:59.2458135Z      # ./app/helpers/ui_helper.rb:195:in `add_served_area_button'
2024-03-11T04:38:59.2459699Z      # ./app/views/partners/profiles/edit/_area_served.html.erb:27:in `_app_views_partners_profiles_edit__area_served_html_erb___1741966842847008176_102420'
2024-03-11T04:38:59.2461886Z      # ./app/views/partners/profiles/edit.html.erb:38:in `block (3 levels) in _app_views_partners_profiles_edit_html_erb__3396748620155981488_102280'
2024-03-11T04:38:59.2463383Z      # ./app/views/partners/profiles/edit.html.erb:36:in `each'
2024-03-11T04:38:59.2464895Z      # ./app/views/partners/profiles/edit.html.erb:36:in `block (2 levels) in _app_views_partners_profiles_edit_html_erb__3396748620155981488_102280'
2024-03-11T04:38:59.2466957Z      # ./app/views/partners/profiles/edit.html.erb:31:in `block in _app_views_partners_profiles_edit_html_erb__3396748620155981488_102280'
2024-03-11T04:38:59.2468883Z      # ./app/views/partners/profiles/edit.html.erb:30:in `_app_views_partners_profiles_edit_html_erb__3396748620155981488_102280'
2024-03-11T04:38:59.2470546Z      # ./spec/requests/partners/profiles_requests_spec.rb:41:in `block (3 levels) in <top (required)>'
2024-03-11T04:38:59.2471606Z      # ------------------
2024-03-11T04:38:59.2472108Z      # --- Caused by: ---
2024-03-11T04:38:59.2472557Z      # NoMethodError:
2024-03-11T04:38:59.2473517Z      #   undefined method `link_to_add_association' for #<ActionView::Base:0x000000000320c8>
2024-03-11T04:38:59.2474585Z      #   ./app/helpers/ui_helper.rb:195:in `add_served_area_button'
2024-03-11T04:38:59.2475156Z 
2024-03-11T04:38:59.2475631Z   3) /partners/profiles GET #edit has "No" radio button value when value is false
2024-03-11T04:38:59.2476505Z      Failure/Error:
2024-03-11T04:38:59.2476998Z        link_to_add_association form, :served_areas,
2024-03-11T04:38:59.2477625Z                               data: {
2024-03-11T04:38:59.2478239Z                                 association_insertion_node: node,
2024-03-11T04:38:59.2478980Z                                 association_insertion_method: "append"
2024-03-11T04:38:59.2480352Z                               }, id: "__add_partner_served_area", class: "btn btn-#{size} btn-#{type} add-partner-served_area", partial: partial do
2024-03-11T04:38:59.2481834Z          fa_icon "plus", text: text
2024-03-11T04:38:59.2482345Z        end
2024-03-11T04:38:59.2482572Z 
2024-03-11T04:38:59.2482763Z      ActionView::Template::Error:
2024-03-11T04:38:59.2483833Z        undefined method `link_to_add_association' for #<ActionView::Base:0x00000000032140>
2024-03-11T04:38:59.2485153Z      # ./app/helpers/ui_helper.rb:195:in `add_served_area_button'
2024-03-11T04:38:59.2486697Z      # ./app/views/partners/profiles/edit/_area_served.html.erb:27:in `_app_views_partners_profiles_edit__area_served_html_erb___1741966842847008176_102420'
2024-03-11T04:38:59.2488904Z      # ./app/views/partners/profiles/edit.html.erb:38:in `block (3 levels) in _app_views_partners_profiles_edit_html_erb__3396748620155981488_102280'
2024-03-11T04:38:59.2490428Z      # ./app/views/partners/profiles/edit.html.erb:36:in `each'
2024-03-11T04:38:59.2491920Z      # ./app/views/partners/profiles/edit.html.erb:36:in `block (2 levels) in _app_views_partners_profiles_edit_html_erb__3396748620155981488_102280'
2024-03-11T04:38:59.2493987Z      # ./app/views/partners/profiles/edit.html.erb:31:in `block in _app_views_partners_profiles_edit_html_erb__3396748620155981488_102280'
2024-03-11T04:38:59.2495926Z      # ./app/views/partners/profiles/edit.html.erb:30:in `_app_views_partners_profiles_edit_html_erb__3396748620155981488_102280'
2024-03-11T04:38:59.2497615Z      # ./spec/requests/partners/profiles_requests_spec.rb:48:in `block (3 levels) in <top (required)>'
2024-03-11T04:38:59.2498706Z      # ------------------
2024-03-11T04:38:59.2499198Z      # --- Caused by: ---
2024-03-11T04:38:59.2499647Z      # NoMethodError:
2024-03-11T04:38:59.2500625Z      #   undefined method `link_to_add_association' for #<ActionView::Base:0x00000000032140>
2024-03-11T04:38:59.2501701Z      #   ./app/helpers/ui_helper.rb:195:in `add_served_area_button'
2024-03-11T04:38:59.2502279Z 
2024-03-11T04:38:59.2502565Z   4) /partners/profiles GET #edit displays the partner
2024-03-11T04:38:59.2503231Z      Failure/Error:
2024-03-11T04:38:59.2503737Z        link_to_add_association form, :served_areas,
2024-03-11T04:38:59.2504374Z                               data: {
2024-03-11T04:38:59.2504999Z                                 association_insertion_node: node,
2024-03-11T04:38:59.2505754Z                                 association_insertion_method: "append"
2024-03-11T04:38:59.2507149Z                               }, id: "__add_partner_served_area", class: "btn btn-#{size} btn-#{type} add-partner-served_area", partial: partial do
2024-03-11T04:38:59.2508260Z          fa_icon "plus", text: text
2024-03-11T04:38:59.2508767Z        end
2024-03-11T04:38:59.2508990Z 
2024-03-11T04:38:59.2509175Z      ActionView::Template::Error:
2024-03-11T04:38:59.2510215Z        undefined method `link_to_add_association' for #<ActionView::Base:0x00000000032190>
2024-03-11T04:38:59.2511274Z      # ./app/helpers/ui_helper.rb:195:in `add_served_area_button'
2024-03-11T04:38:59.2512852Z      # ./app/views/partners/profiles/edit/_area_served.html.erb:27:in `_app_views_partners_profiles_edit__area_served_html_erb___1741966842847008176_102420'
2024-03-11T04:38:59.2515049Z      # ./app/views/partners/profiles/edit.html.erb:38:in `block (3 levels) in _app_views_partners_profiles_edit_html_erb__3396748620155981488_102280'
2024-03-11T04:38:59.2516548Z      # ./app/views/partners/profiles/edit.html.erb:36:in `each'
2024-03-11T04:38:59.2518061Z      # ./app/views/partners/profiles/edit.html.erb:36:in `block (2 levels) in _app_views_partners_profiles_edit_html_erb__3396748620155981488_102280'
2024-03-11T04:38:59.2520126Z      # ./app/views/partners/profiles/edit.html.erb:31:in `block in _app_views_partners_profiles_edit_html_erb__3396748620155981488_102280'
2024-03-11T04:38:59.2522239Z      # ./app/views/partners/profiles/edit.html.erb:30:in `_app_views_partners_profiles_edit_html_erb__3396748620155981488_102280'
2024-03-11T04:38:59.2523914Z      # ./spec/requests/partners/profiles_requests_spec.rb:28:in `block (3 levels) in <top (required)>'
2024-03-11T04:38:59.2525223Z      # ------------------
2024-03-11T04:38:59.2525713Z      # --- Caused by: ---
2024-03-11T04:38:59.2526172Z      # NoMethodError:
2024-03-11T04:38:59.2527140Z      #   undefined method `link_to_add_association' for #<ActionView::Base:0x00000000032190>
2024-03-11T04:38:59.2528407Z      #   ./app/helpers/ui_helper.rb:195:in `add_served_area_button'
2024-03-11T04:38:59.2528965Z 
2024-03-11T04:38:59.2529393Z   5) /partners/profiles PUT #update with no social media shows an error
2024-03-11T04:38:59.2530197Z      Failure/Error:
2024-03-11T04:38:59.2530683Z        link_to_add_association form, :served_areas,
2024-03-11T04:38:59.2531314Z                               data: {
2024-03-11T04:38:59.2531933Z                                 association_insertion_node: node,
2024-03-11T04:38:59.2532678Z                                 association_insertion_method: "append"
2024-03-11T04:38:59.2534076Z                               }, id: "__add_partner_served_area", class: "btn btn-#{size} btn-#{type} add-partner-served_area", partial: partial do
2024-03-11T04:38:59.2535192Z          fa_icon "plus", text: text
2024-03-11T04:38:59.2535702Z        end
2024-03-11T04:38:59.2535920Z 
2024-03-11T04:38:59.2536104Z      ActionView::Template::Error:
2024-03-11T04:38:59.2537137Z        undefined method `link_to_add_association' for #<ActionView::Base:0x00000000032578>
2024-03-11T04:38:59.2538203Z      # ./app/helpers/ui_helper.rb:195:in `add_served_area_button'
2024-03-11T04:38:59.2539769Z      # ./app/views/partners/profiles/edit/_area_served.html.erb:27:in `_app_views_partners_profiles_edit__area_served_html_erb___1741966842847008176_102420'
2024-03-11T04:38:59.2541969Z      # ./app/views/partners/profiles/edit.html.erb:38:in `block (3 levels) in _app_views_partners_profiles_edit_html_erb__3396748620155981488_102280'
2024-03-11T04:38:59.2543536Z      # ./app/views/partners/profiles/edit.html.erb:36:in `each'
2024-03-11T04:38:59.2545055Z      # ./app/views/partners/profiles/edit.html.erb:36:in `block (2 levels) in _app_views_partners_profiles_edit_html_erb__3396748620155981488_102280'
2024-03-11T04:38:59.2547098Z      # ./app/views/partners/profiles/edit.html.erb:31:in `block in _app_views_partners_profiles_edit_html_erb__3396748620155981488_102280'
2024-03-11T04:38:59.2548982Z      # ./app/views/partners/profiles/edit.html.erb:30:in `_app_views_partners_profiles_edit_html_erb__3396748620155981488_102280'
2024-03-11T04:38:59.2550458Z      # ./app/controllers/partners/profiles_controller.rb:18:in `update'
2024-03-11T04:38:59.2551731Z      # ./spec/requests/partners/profiles_requests_spec.rb:67:in `block (4 levels) in <top (required)>'
2024-03-11T04:38:59.2552816Z      # ------------------
2024-03-11T04:38:59.2553346Z      # --- Caused by: ---
2024-03-11T04:38:59.2553809Z      # NoMethodError:
2024-03-11T04:38:59.2554793Z      #   undefined method `link_to_add_association' for #<ActionView::Base:0x00000000032578>
2024-03-11T04:38:59.2555857Z      #   ./app/helpers/ui_helper.rb:195:in `add_served_area_button'
2024-03-11T04:38:59.2556431Z 
2024-03-11T04:38:59.2556665Z   6) Profiles GET #edit returns http success
2024-03-11T04:38:59.2557254Z      Failure/Error:
2024-03-11T04:38:59.2557756Z        link_to_add_association form, :served_areas,
2024-03-11T04:38:59.2558391Z                               data: {
2024-03-11T04:38:59.2559026Z                                 association_insertion_node: node,
2024-03-11T04:38:59.2559826Z                                 association_insertion_method: "append"
2024-03-11T04:38:59.2561389Z                               }, id: "__add_partner_served_area", class: "btn btn-#{size} btn-#{type} add-partner-served_area", partial: partial do
2024-03-11T04:38:59.2562516Z          fa_icon "plus", text: text
2024-03-11T04:38:59.2563037Z        end
2024-03-11T04:38:59.2563257Z 
2024-03-11T04:38:59.2563456Z      ActionView::Template::Error:
2024-03-11T04:38:59.2564507Z        undefined method `link_to_add_association' for #<ActionView::Base:0x00000000033108>
2024-03-11T04:38:59.2565572Z      # ./app/helpers/ui_helper.rb:195:in `add_served_area_button'
2024-03-11T04:38:59.2567438Z      # ./app/views/partners/profiles/edit/_area_served.html.erb:27:in `_app_views_partners_profiles_edit__area_served_html_erb___1741966842847008176_104560'
2024-03-11T04:38:59.2569473Z      # ./app/views/profiles/edit.html.erb:27:in `block (3 levels) in _app_views_profiles_edit_html_erb__4428467031816301304_104020'
2024-03-11T04:38:59.2570929Z      # ./app/views/profiles/edit.html.erb:25:in `each'
2024-03-11T04:38:59.2572209Z      # ./app/views/profiles/edit.html.erb:25:in `block (2 levels) in _app_views_profiles_edit_html_erb__4428467031816301304_104020'
2024-03-11T04:38:59.2573963Z      # ./app/views/profiles/edit.html.erb:19:in `block in _app_views_profiles_edit_html_erb__4428467031816301304_104020'
2024-03-11T04:38:59.2575574Z      # ./app/views/profiles/edit.html.erb:18:in `_app_views_profiles_edit_html_erb__4428467031816301304_104020'
2024-03-11T04:38:59.2576980Z      # ./spec/requests/profiles_requests_spec.rb:14:in `block (3 levels) in <top (required)>'
2024-03-11T04:38:59.2577964Z      # ------------------
2024-03-11T04:38:59.2578462Z      # --- Caused by: ---
2024-03-11T04:38:59.2578918Z      # NoMethodError:
2024-03-11T04:38:59.2579881Z      #   undefined method `link_to_add_association' for #<ActionView::Base:0x00000000033108>
2024-03-11T04:38:59.2580942Z      #   ./app/helpers/ui_helper.rb:195:in `add_served_area_button'
2024-03-11T04:38:59.2581521Z 
2024-03-11T04:38:59.2581915Z Finished in 3 minutes 39.1 seconds (files took 8.03 seconds to load)
2024-03-11T04:38:59.2582706Z 212 examples, 6 failures
2024-03-11T04:38:59.2585714Z 
2024-03-11T04:38:59.2585969Z Failed examples:
2024-03-11T04:38:59.2586259Z 
2024-03-11T04:38:59.2587337Z rspec ./spec/requests/partners/profiles_requests_spec.rb:32 # /partners/profiles GET #edit does not have default radio button value when value is nil
2024-03-11T04:38:59.2589562Z rspec ./spec/requests/partners/profiles_requests_spec.rb:39 # /partners/profiles GET #edit has "Yes" radio button value when value is true
2024-03-11T04:38:59.2591693Z rspec ./spec/requests/partners/profiles_requests_spec.rb:46 # /partners/profiles GET #edit has "No" radio button value when value is false
2024-03-11T04:38:59.2593613Z rspec ./spec/requests/partners/profiles_requests_spec.rb:27 # /partners/profiles GET #edit displays the partner
2024-03-11T04:38:59.2595489Z rspec ./spec/requests/partners/profiles_requests_spec.rb:66 # /partners/profiles PUT #update with no social media shows an error
2024-03-11T04:38:59.2597177Z rspec ./spec/requests/profiles_requests_spec.rb:13 # Profiles GET #edit returns http success
2024-03-11T04:38:59.2597998Z 
2024-03-11T04:38:59.2598175Z Randomized with seed 46066
2024-03-11T04:38:59.2598504Z 
2024-03-11T04:38:59.5435174Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-11T04:38:59.5437138Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3736 / 6463 LOC (57.81%) covered.
2024-03-11T04:38:59.6645263Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb" failed
2024-03-11T04:39:00.0508570Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-11T04:39:00.0510727Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10759 LOC (0.35%) covered.
2024-03-11T04:39:00.0777835Z ##[error]Process completed with exit code 1.
