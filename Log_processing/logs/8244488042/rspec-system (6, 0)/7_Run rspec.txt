2024-03-12T06:23:41.4855914Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-12T06:23:41.4856792Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-12T06:23:41.4906841Z shell: /usr/bin/bash -e {0}
2024-03-12T06:23:41.4907232Z env:
2024-03-12T06:23:41.4907631Z   POSTGRES_HOST: localhost
2024-03-12T06:23:41.4908028Z   DATABASE_HOST: localhost
2024-03-12T06:23:41.4908411Z   PG_USERNAME: postgres
2024-03-12T06:23:41.4908858Z   PG_PASSWORD: password
2024-03-12T06:23:41.4909199Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-12T06:23:41.4909619Z   POSTGRES_PORT: 5432
2024-03-12T06:23:41.4910032Z   PGHOST: localhost
2024-03-12T06:23:41.4910366Z   PGUSER: postgres
2024-03-12T06:23:41.4910720Z   RAILS_ENV: test
2024-03-12T06:23:41.4911109Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-12T06:23:41.4911545Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-12T06:23:41.4911957Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-03-12T06:23:41.4912457Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-12T06:23:41.4912997Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-12T06:23:41.4913676Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-12T06:23:41.4914639Z ##[endgroup]
2024-03-12T06:23:47.1050543Z W, [2024-03-12T06:23:47.104619 #2621]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-12T06:23:47.1051977Z W, [2024-03-12T06:23:47.104674 #2621]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:23:47.1053660Z W, [2024-03-12T06:23:47.104695 #2621]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:23:47.1056865Z W, [2024-03-12T06:23:47.104723 #2621]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-12T06:23:50.0833594Z W, [2024-03-12T06:23:50.083022 #2621]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-12T06:23:50.0835682Z W, [2024-03-12T06:23:50.083072 #2621]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:23:50.0837382Z W, [2024-03-12T06:23:50.083099 #2621]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:23:50.0839854Z W, [2024-03-12T06:23:50.083151 #2621]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-12T06:23:50.0890763Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/organization_requests_spec.rb" "spec/requests/partners/individuals_requests_controller_spec.rb" "spec/requests/product_drive_participants_requests_spec.rb" "spec/requests/sessions_requests_spec.rb" "spec/requests/vendors_requests_spec.rb" "spec/system/admin/base_items_system_spec.rb" "spec/system/authorization_system_spec.rb" "spec/system/donation_system_spec.rb" "spec/system/manufacturer_system_spec.rb" "spec/system/partners/family_requests_system_spec.rb" "spec/system/product_drive_system_spec.rb" "spec/system/storage_location_system_spec.rb"
2024-03-12T06:23:58.4353394Z 
2024-03-12T06:23:58.4353967Z Randomized with seed 51828
2024-03-12T06:23:59.4102128Z 
2024-03-12T06:23:59.4102931Z Storage Locations
2024-03-12T06:23:59.4104089Z   when creating a new storage location
2024-03-12T06:24:09.9717064Z     User creates a new storage location with optional fields
2024-03-12T06:24:10.7105008Z     User creates a new storage location with empty attributes
2024-03-12T06:24:11.5153853Z     User creates a new storage location
2024-03-12T06:24:11.5155014Z   when editing an existing storage location
2024-03-12T06:24:12.2772207Z     User updates an existing storage location with empty name
2024-03-12T06:24:13.0436327Z     User updates an existing storage location
2024-03-12T06:24:13.0437203Z   when viewing the index
2024-03-12T06:24:14.3163424Z     User can filter the #index by those that contain certain items
2024-03-12T06:24:15.1295078Z     Stops a user from deactivating storage locations with inventory
2024-03-12T06:24:16.2680641Z     shows totals that are the sum totals of all inputs
2024-03-12T06:24:16.9919423Z     Filter list presented to user is in alphabetical order by item name
2024-03-12T06:24:17.8962287Z     Allows user to filter discarded storage locations
2024-03-12T06:24:19.2630320Z     Allows user to deactivate and reactivate storage locations
2024-03-12T06:24:19.2631356Z   when viewing an existing storage location
2024-03-12T06:24:19.9162773Z     Items in (adjustments)
2024-03-12T06:24:20.5997409Z     Items out (distributions)
2024-03-12T06:24:20.5998727Z 
2024-03-12T06:24:20.5998937Z Vendors
2024-03-12T06:24:20.6000877Z   While signed in
2024-03-12T06:24:20.6003209Z     DELETE #destroy
2024-03-12T06:24:20.6123038Z       does not have a route for this
2024-03-12T06:24:20.6123994Z     Looking at a different organization
2024-03-12T06:24:20.7917224Z       redirects the user to the sign-in page for CRUD actions
2024-03-12T06:24:20.7917916Z     GET #new
2024-03-12T06:24:20.8288188Z       returns http success
2024-03-12T06:24:20.8288944Z     POST #create
2024-03-12T06:24:20.8458334Z       successful create
2024-03-12T06:24:20.8773754Z       flash error
2024-03-12T06:24:20.8774807Z     GET #index
2024-03-12T06:24:20.8775462Z       csv
2024-03-12T06:24:20.8951239Z         is expected to be successful
2024-03-12T06:24:20.8952075Z       html
2024-03-12T06:24:20.9279133Z         is expected to be successful
2024-03-12T06:24:20.9280119Z     GET #show
2024-03-12T06:24:20.9573509Z       returns http success
2024-03-12T06:24:20.9574158Z     GET #edit
2024-03-12T06:24:20.9890802Z       returns http success
2024-03-12T06:24:20.9891804Z     when on vendors index page
2024-03-12T06:24:21.0171548Z       has the correct import type
2024-03-12T06:24:21.0172504Z     POST #import_csv
2024-03-12T06:24:21.0173244Z       without a csv file
2024-03-12T06:24:21.0306128Z         redirects to :index
2024-03-12T06:24:21.0438842Z         presents a flash error message
2024-03-12T06:24:21.0439675Z       with a csv file
2024-03-12T06:24:21.0698273Z         redirects
2024-03-12T06:24:21.0916930Z         presents a flash notice message
2024-03-12T06:24:21.0973362Z         invokes .import_csv
2024-03-12T06:24:21.0974088Z       csv file with wrong headers
2024-03-12T06:24:21.1113741Z         redirects
2024-03-12T06:24:21.1288749Z         presents a flash error message
2024-03-12T06:24:21.1289553Z     XHR #create
2024-03-12T06:24:21.1612728Z       flash error
2024-03-12T06:24:21.1919952Z       successful create
2024-03-12T06:24:21.1920971Z   While not signed in
2024-03-12T06:24:21.1981229Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:24:21.1981869Z 
2024-03-12T06:24:21.1982135Z Sessions
2024-03-12T06:24:21.1982851Z   Sign in as user without logging off as an admin
2024-03-12T06:24:21.2111966Z     cannot access admin dashboard
2024-03-12T06:24:21.2229536Z     properly accesses the organization dashboard
2024-03-12T06:24:21.2230644Z 
2024-03-12T06:24:21.2232765Z Organizations
2024-03-12T06:24:21.2235183Z   While signed in as a normal user
2024-03-12T06:24:21.2235931Z     GET #show
2024-03-12T06:24:21.2781833Z       load the current organization
2024-03-12T06:24:21.3200972Z       is expected to be successful
2024-03-12T06:24:21.3201536Z     PATCH #update
2024-03-12T06:24:21.3323427Z       is expected to have error
2024-03-12T06:24:21.3434572Z       is expected to redirect to "/db_1/dashboard"
2024-03-12T06:24:21.3435434Z     GET #edit
2024-03-12T06:24:21.3545174Z       is expected to redirect to "/db_1/dashboard"
2024-03-12T06:24:21.3651304Z       is expected to have error
2024-03-12T06:24:21.3652077Z   When signed in as a super admin
2024-03-12T06:24:21.3653232Z     POST #promote_to_org_admin
2024-03-12T06:24:21.3882137Z       runs successfully
2024-03-12T06:24:21.3882833Z     POST #demote_to_user
2024-03-12T06:24:21.4263384Z       runs successfully
2024-03-12T06:24:21.4264081Z     PUT #deactivate_user
2024-03-12T06:24:21.4458023Z       deactivates the user
2024-03-12T06:24:21.4621238Z       redirect after update
2024-03-12T06:24:21.4621890Z     PUT #reactivate_user
2024-03-12T06:24:21.4791225Z       redirect after update
2024-03-12T06:24:21.4977409Z       reactivates the user
2024-03-12T06:24:21.4978183Z   While signed in as an organization admin
2024-03-12T06:24:21.4979597Z     PATCH #update
2024-03-12T06:24:21.5188117Z       can update name
2024-03-12T06:24:21.5360180Z       should be redirect after update
2024-03-12T06:24:21.5361011Z       when organization can not be updated
2024-03-12T06:24:21.5899372Z         renders edit template with an error message
2024-03-12T06:24:21.5900203Z     POST #demote_to_user
2024-03-12T06:24:21.6244553Z       runs correctly
2024-03-12T06:24:21.6245044Z     POST #promote_to_org_admin
2024-03-12T06:24:21.6460255Z       runs successfully
2024-03-12T06:24:21.6461103Z     PUT #deactivate_user
2024-03-12T06:24:21.6629092Z       deactivates the user
2024-03-12T06:24:21.6779358Z       redirect after update
2024-03-12T06:24:21.6780225Z     when attempting to access a different organization
2024-03-12T06:24:21.6781284Z       POST #promote_to_org_admin
2024-03-12T06:24:21.8739153Z         redirects after update
2024-03-12T06:24:21.8739909Z       GET #edit
2024-03-12T06:24:22.0879732Z         shows your own anyway
2024-03-12T06:24:22.0880523Z       GET #show
2024-03-12T06:24:22.3055921Z         shows your own anyway
2024-03-12T06:24:22.3056861Z     PUT #reactivate_user
2024-03-12T06:24:22.3238180Z       redirect after update
2024-03-12T06:24:22.3423081Z       reactivates the user
2024-03-12T06:24:22.3423728Z     GET #edit
2024-03-12T06:24:22.3901640Z       is expected to render template matcher "edit"
2024-03-12T06:24:22.4364634Z       initializing the given organization
2024-03-12T06:24:22.4789705Z       is expected to be successful
2024-03-12T06:24:22.4790550Z 
2024-03-12T06:24:22.4790774Z /account_requests
2024-03-12T06:24:22.4792366Z   GET #confirm
2024-03-12T06:24:22.4793466Z     when given a invalid token
2024-03-12T06:24:22.4869060Z       should render a error that says that is code provided is invalid
2024-03-12T06:24:22.4869992Z     when given a valid token
2024-03-12T06:24:22.5193793Z       should the update confirmed_at on the account_request, queue confirmation email and render confirm template
2024-03-12T06:24:22.5195307Z     when given a token that has already been confirmed
2024-03-12T06:24:22.7005230Z       should render a error that says that is code provided is invalid
2024-03-12T06:24:22.7006064Z   GET #received
2024-03-12T06:24:22.7006656Z     when given a valid token
2024-03-12T06:24:22.7145166Z       should render the received template
2024-03-12T06:24:22.7146177Z     when given a invalid token
2024-03-12T06:24:22.7199530Z       should render a error that says that is code provided is invalid
2024-03-12T06:24:22.7200501Z   GET #confirmation
2024-03-12T06:24:22.7201478Z     when given a token that has already been confirmed
2024-03-12T06:24:22.9000589Z       should render a error that says that is code provided is invalid
2024-03-12T06:24:22.9001947Z     when given a valid token
2024-03-12T06:24:22.9144793Z       should render the confirmation template
2024-03-12T06:24:22.9145830Z     when given a invalid token
2024-03-12T06:24:22.9201121Z       should render a error that says that is code provided is invalid
2024-03-12T06:24:22.9202155Z   GET #new
2024-03-12T06:24:22.9326808Z     renders a successful response
2024-03-12T06:24:22.9327761Z   POST #create
2024-03-12T06:24:22.9328398Z     with invalid parameters
2024-03-12T06:24:22.9506215Z       does not create a new AccountRequest
2024-03-12T06:24:22.9668404Z       renders a successful response (i.e. to display the 'new' template)
2024-03-12T06:24:22.9669454Z     with valid parameters
2024-03-12T06:24:22.9797904Z       redirects to the created account_request confirmation
2024-03-12T06:24:22.9913791Z       creates a new AccountRequest
2024-03-12T06:24:23.0019931Z       delivers the confirmation email via default queue
2024-03-12T06:24:23.0020835Z 
2024-03-12T06:24:23.0021389Z Product Drives
2024-03-12T06:24:23.0023364Z   when creating a Virtual Product Drive
2024-03-12T06:24:24.0746106Z     must create a new virtual Product Drive
2024-03-12T06:24:25.0239721Z     must have the success message
2024-03-12T06:24:25.9397176Z     must have correct attributes
2024-03-12T06:24:25.9398084Z   When visiting the index page without parameters
2024-03-12T06:24:26.4376915Z     shows only one virtual product drives
2024-03-12T06:24:26.9603331Z     shows the expected product drives
2024-03-12T06:24:27.4539108Z     shows two non-virtual product drives
2024-03-12T06:24:27.9688407Z     Shows the expected filters with the expected values and in alphabetical order for name filter
2024-03-12T06:24:28.4594483Z     shows in descending order of start date
2024-03-12T06:24:28.4595333Z   when showing a Product Drive with no end date
2024-03-12T06:24:28.9219108Z     must be able to show the product drive
2024-03-12T06:24:28.9220002Z   when creating a normal product drive
2024-03-12T06:24:29.7284363Z     must have correct attributes
2024-03-12T06:24:30.5285912Z     must create a new product drive
2024-03-12T06:24:31.3482750Z     must have the success message
2024-03-12T06:24:31.3483623Z 
2024-03-12T06:24:31.3484062Z Partners::IndividualsRequestsController
2024-03-12T06:24:31.3485360Z   GET #new
2024-03-12T06:24:31.3894320Z     does not allow partners not verified
2024-03-12T06:24:31.4270257Z     does not allow deactivated partners
2024-03-12T06:24:31.4271192Z     when first reaching the new page
2024-03-12T06:24:31.4874994Z       has the correct select fields
2024-03-12T06:24:31.4875782Z   POST #create
2024-03-12T06:24:31.5316837Z     does not allow partners not verified
2024-03-12T06:24:31.5745858Z     does not allow deactivated partners
2024-03-12T06:24:31.5746925Z     after invalid submission
2024-03-12T06:24:31.6469285Z       has the correct select fields
2024-03-12T06:24:31.6470438Z     when a request has only a comment
2024-03-12T06:24:31.6972692Z       is valid
2024-03-12T06:24:31.6973392Z     when a request has an empty row
2024-03-12T06:24:31.7492689Z       is valid
2024-03-12T06:24:31.7493306Z     when a request is empty
2024-03-12T06:24:31.7998620Z       is invalid
2024-03-12T06:24:31.7999201Z     when the request is valid
2024-03-12T06:24:31.8522549Z       submits the request
2024-03-12T06:24:31.8523291Z     when the request has invalid inputs
2024-03-12T06:24:31.9097483Z       shows an error
2024-03-12T06:24:31.9098544Z 
2024-03-12T06:24:31.9099080Z Audits
2024-03-12T06:24:31.9100112Z   while signed in as an organization admin
2024-03-12T06:24:31.9101769Z     POST #create
2024-03-12T06:24:31.9102886Z       with valid params
2024-03-12T06:24:31.9546478Z         creates a new Audit
2024-03-12T06:24:31.9911272Z         assigns a newly created audit as @audit
2024-03-12T06:24:32.0293216Z         redirects to the #show after created audit
2024-03-12T06:24:32.0670017Z         creates a new Audit with status as `confirmed` if `confirm_audit` is passed as a param
2024-03-12T06:24:32.1047278Z         creates a new Audit with status as `in_progress` if `save_progress` is passed as a param
2024-03-12T06:24:32.1048701Z       with invalid params
2024-03-12T06:24:32.1531180Z         assigns a newly created but unsaved audit as @audit
2024-03-12T06:24:32.2073882Z         re-renders the 'new' template with an error message when an invalid storage location is given
2024-03-12T06:24:32.2471476Z         re-renders the 'new' template
2024-03-12T06:24:32.2472639Z     GET #edit
2024-03-12T06:24:32.3117605Z       is successful if the status of audit is `in_progress`
2024-03-12T06:24:32.3732528Z       redirects to #index if the status of audit is not `in_progress`
2024-03-12T06:24:32.3733711Z     POST #finalize
2024-03-12T06:24:32.4297965Z       sets the finalize status and saves an event
2024-03-12T06:24:32.4298923Z     DELETE #destroy
2024-03-12T06:24:32.4299702Z       with valid params
2024-03-12T06:24:32.4653197Z         destroys the audit if the audit's status is `confirms`
2024-03-12T06:24:32.4999266Z         can not destroy the audit if the audit's status is `finalized`
2024-03-12T06:24:32.5355556Z         destroys the audit if the audit's status is `in_progress`
2024-03-12T06:24:32.5356504Z     GET #new
2024-03-12T06:24:32.5707493Z       is successful
2024-03-12T06:24:32.5708050Z     GET #index
2024-03-12T06:24:32.6240777Z       is successful
2024-03-12T06:24:32.6241694Z     GET #show
2024-03-12T06:24:32.6816432Z       is successful
2024-03-12T06:24:32.6817057Z 
2024-03-12T06:24:32.6817370Z ProductDriveParticipants
2024-03-12T06:24:32.6818686Z   While signed in
2024-03-12T06:24:32.6820224Z     GET #index
2024-03-12T06:24:32.6821082Z       html
2024-03-12T06:24:32.7218870Z         is expected to be successful
2024-03-12T06:24:32.7219622Z       csv
2024-03-12T06:24:32.7399135Z         is expected to be successful
2024-03-12T06:24:32.7400067Z     GET #new
2024-03-12T06:24:32.7713964Z       returns http success
2024-03-12T06:24:32.7714962Z     POST #create
2024-03-12T06:24:32.7858952Z       successful create
2024-03-12T06:24:32.8177368Z       flash error
2024-03-12T06:24:32.8178059Z     POST #import_csv
2024-03-12T06:24:32.8178892Z       csv file with wrong headers
2024-03-12T06:24:32.8312477Z         presents a flash error message
2024-03-12T06:24:32.8434723Z         redirects
2024-03-12T06:24:32.8435369Z       without a csv file
2024-03-12T06:24:32.8553575Z         redirects to :index
2024-03-12T06:24:32.8665055Z         presents a flash error message
2024-03-12T06:24:32.8665945Z       with a csv file
2024-03-12T06:24:32.8851298Z         presents a flash notice message
2024-03-12T06:24:32.8885197Z         invokes .import_csv
2024-03-12T06:24:32.9065462Z         redirects
2024-03-12T06:24:32.9066058Z     GET #edit
2024-03-12T06:24:32.9387183Z       returns http success
2024-03-12T06:24:32.9388056Z     GET #show
2024-03-12T06:24:32.9698176Z       returns http success
2024-03-12T06:24:32.9698976Z     Looking at a different organization
2024-03-12T06:24:33.1448388Z       redirects the user to the sign-in page for CRUD actions
2024-03-12T06:24:33.1449317Z     XHR #create
2024-03-12T06:24:33.1769258Z       successful create
2024-03-12T06:24:33.2083024Z       flash error
2024-03-12T06:24:33.2083962Z   While not signed in
2024-03-12T06:24:33.2144896Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:24:33.2145613Z 
2024-03-12T06:24:33.2145882Z DonationSites
2024-03-12T06:24:33.2146745Z   while signed in
2024-03-12T06:24:33.2147468Z     GET #index
2024-03-12T06:24:33.2148454Z       csv
2024-03-12T06:24:33.2373766Z         is expected to be successful
2024-03-12T06:24:33.2374356Z       html
2024-03-12T06:24:33.2713217Z         is expected to be successful
2024-03-12T06:24:33.2713868Z 
2024-03-12T06:24:33.2714714Z Authorization
2024-03-12T06:24:33.8589537Z   redirects to the dashboard when unauthorized user attempts access
2024-03-12T06:24:34.3912955Z   redirects to the organization dashboard when authorized
2024-03-12T06:24:34.3913631Z 
2024-03-12T06:24:34.3915413Z Manufacturer
2024-03-12T06:24:35.1608684Z   allows a user to update the contact info for a manufacturer
2024-03-12T06:24:35.9231036Z   allows a user to create a new manufacturer instance
2024-03-12T06:24:36.6460297Z   allows a user to add a new manufacturer instance with empty attributes
2024-03-12T06:24:37.3966843Z   allows a user to update a manufacturer with empty attributes
2024-03-12T06:24:37.3967847Z   When the Manufacturers have donations associated with them already
2024-03-12T06:24:38.0307689Z     shows existing Manufacturers in the #index with some summary stats
2024-03-12T06:24:38.6812298Z     allows single Manufacturers to show semi-detailed stats about donations from that manufacturer
2024-03-12T06:24:38.6813206Z   When a user views the index page
2024-03-12T06:24:39.1626241Z     alphabetizes the manufacturer names
2024-03-12T06:24:39.1626917Z 
2024-03-12T06:24:39.1627258Z Base Item Admin
2024-03-12T06:24:39.1628597Z   While signed in as a normal user
2024-03-12T06:24:40.5539935Z     should have a normal user not see anything
2024-03-12T06:24:40.5541014Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-12T06:24:41.0826599Z     can view a listing of all Base Items that shows a summary of its sub-items
2024-03-12T06:24:41.5363128Z     can view a single Base Item
2024-03-12T06:24:41.5364009Z     when updating an existing base item
2024-03-12T06:24:42.3392204Z       should succeed when changing the name
2024-03-12T06:24:43.1489893Z       should fail when updating the name to empty
2024-03-12T06:24:43.1490615Z     when creating a new base item
2024-03-12T06:24:43.9550119Z       should succeed when creating a new base item with good data
2024-03-12T06:24:44.6873650Z       should fail when creating a new base item with empty attributes
2024-03-12T06:24:44.6875078Z   While signed in as an Administrative User (super admin)
2024-03-12T06:24:45.1465440Z     can view a single Base Item
2024-03-12T06:24:45.6682011Z     can view a listing of all Base Items that shows a summary of its sub-items
2024-03-12T06:24:45.6682952Z     when updating an existing base item
2024-03-12T06:24:46.4013233Z       should fail when updating the name to empty
2024-03-12T06:24:47.1981530Z       should succeed when changing the name
2024-03-12T06:24:47.1982139Z     when creating a new base item
2024-03-12T06:24:47.9153623Z       should fail when creating a new base item with empty attributes
2024-03-12T06:24:48.7173671Z       should succeed when creating a new base item with good data
2024-03-12T06:24:48.7174649Z 
2024-03-12T06:24:48.7174995Z Admin::Organizations
2024-03-12T06:24:48.7176688Z   When logged in as a super admin
2024-03-12T06:24:48.7178571Z     DELETE #destroy
2024-03-12T06:24:49.0005388Z       redirects
2024-03-12T06:24:49.0006341Z     DELETE #destroy
2024-03-12T06:24:49.0006993Z       with a valid organization id
2024-03-12T06:24:49.4172520Z         redirects to #index
2024-03-12T06:24:49.4173282Z     POST #create
2024-03-12T06:24:49.4174167Z       with invalid params
2024-03-12T06:24:49.4658445Z         does not create an organization and renders #create with an error message
2024-03-12T06:24:49.4659531Z       with valid params
2024-03-12T06:24:49.7526383Z         creates an organization and redirects to #index
2024-03-12T06:24:49.7527353Z     PATCH #update
2024-03-12T06:24:49.7527807Z       with an invalid update
2024-03-12T06:24:49.9626381Z         redirects to #edit with an error message
2024-03-12T06:24:50.1692512Z         returns http success
2024-03-12T06:24:50.1693577Z       with a valid update
2024-03-12T06:24:50.3598529Z         redirects to #index
2024-03-12T06:24:50.3599426Z     PUT #update
2024-03-12T06:24:50.3778685Z       redirect
2024-03-12T06:24:50.3779398Z     GET #edit
2024-03-12T06:24:50.5826960Z       returns http success
2024-03-12T06:24:50.5827846Z     GET #index
2024-03-12T06:24:50.6136073Z       returns http success
2024-03-12T06:24:50.6136733Z     GET #show
2024-03-12T06:24:50.8145447Z       returns http success
2024-03-12T06:24:50.8146554Z     GET #new
2024-03-12T06:24:50.8598939Z       returns http success
2024-03-12T06:24:50.8599947Z       when given a valid account request token in the query parameters
2024-03-12T06:24:50.9180438Z         should render new with pre populate input fields from the account_request
2024-03-12T06:24:50.9181580Z       when given a token that matches a account request that has already been processed
2024-03-12T06:24:51.1335081Z         should render new with a flash error message
2024-03-12T06:24:51.1336212Z   When logged in as a non-admin user
2024-03-12T06:24:51.1336934Z     GET #new
2024-03-12T06:24:51.1469438Z       redirects
2024-03-12T06:24:51.1470237Z     PUT #update
2024-03-12T06:24:51.1593942Z       redirects
2024-03-12T06:24:51.1594811Z     GET #edit
2024-03-12T06:24:51.1716906Z       redirects
2024-03-12T06:24:51.1717549Z     POST #create
2024-03-12T06:24:51.1855628Z       redirects
2024-03-12T06:24:51.1856259Z     GET #index
2024-03-12T06:24:51.1975694Z       redirects
2024-03-12T06:24:51.1977261Z 
2024-03-12T06:24:51.1977750Z Donations
2024-03-12T06:24:51.1979032Z   while signed in as an organization admin
2024-03-12T06:24:51.1981882Z     When viewing an existing donation
2024-03-12T06:24:52.0395391Z       allows deletion of a donation
2024-03-12T06:24:52.0398698Z   When signed in as a normal user
2024-03-12T06:24:52.0400435Z     When viewing an existing donation
2024-03-12T06:24:52.5414308Z       does not allow deletion of a donation
2024-03-12T06:24:53.0473926Z       displays donation comment
2024-03-12T06:24:53.0474884Z       when there is no comment defined
2024-03-12T06:24:53.8536046Z         displays the None provided as the comment
2024-03-12T06:24:53.8536951Z     When filtering on the index page
2024-03-12T06:24:54.6792933Z       Filters by the source
2024-03-12T06:24:55.4967970Z       Filters by manufacturer
2024-03-12T06:24:56.3300868Z       Filter by product drive participant sticks around
2024-03-12T06:24:57.1508102Z       Filters by storage location
2024-03-12T06:24:57.9652739Z       Filters by donation site
2024-03-12T06:24:59.0584719Z       Filters by multiple attributes
2024-03-12T06:24:59.8723312Z       Filters by product drive participant
2024-03-12T06:25:00.6988971Z       Filters by product drives
2024-03-12T06:25:00.6989584Z       behaves like Date Range Picker
2024-03-12T06:25:00.6990500Z         when choosing 'All Time'
2024-03-12T06:25:01.7061309Z           shows all the records
2024-03-12T06:25:01.7062282Z         when choosing 'Last Month'
2024-03-12T06:25:02.6412232Z           shows only 2 of the records
2024-03-12T06:25:02.6413242Z         when choosing a date range that only includes the previous week
2024-03-12T06:25:03.5700720Z           shows only 1 record
2024-03-12T06:25:03.5701765Z     When visiting the index page
2024-03-12T06:25:04.3824712Z       Allows User to click to the new donation form
2024-03-12T06:25:05.2995570Z       doesn't die when an inactive item is in a donation
2024-03-12T06:25:06.0986739Z       should not display inactive storage locations in dropdown
2024-03-12T06:25:06.5941023Z       Displays Total quantity on the index page
2024-03-12T06:25:06.5941868Z     When creating a new donation
2024-03-12T06:25:07.0953844Z       should not display inactive storage locations in dropdown
2024-03-12T06:25:07.0955217Z       Via barcode entry
2024-03-12T06:25:07.9951315Z         Allows User to add items by barcode (FAILED - 1)
2024-03-12T06:25:07.9953595Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Allows-User-to-add-items-by-barcode_2024-03-11-23-25-07.857.html[0m
2024-03-12T06:25:07.9956530Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Allows-User-to-add-items-by-barcode_2024-03-11-23-25-07.857.png[0m
2024-03-12T06:25:08.8460335Z         Updates the line item when the same barcode is scanned twice (FAILED - 2)
2024-03-12T06:25:08.8462895Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Updates-the-line-item-when-the-same-barcode-is-scanned-twice_2024-03-11-23-25-08.710.html[0m
2024-03-12T06:25:08.8466515Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Updates-the-line-item-when-the-same-barcode-is-scanned-twice_2024-03-11-23-25-08.710.png[0m
2024-03-12T06:25:09.7784423Z         Allows User to add items that do not yet have a barcode
2024-03-12T06:25:09.7785650Z         When the barcode is a global barcode
2024-03-12T06:25:10.8954879Z           Adds the oldest item it can find for the global barcode (FAILED - 3)
2024-03-12T06:25:10.8957937Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Adds-the-oldest-item-it-can-find-for-the-global-barcode_2024-03-11-23-25-10.761.html[0m
2024-03-12T06:25:10.8961289Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Adds-the-oldest-item-it-can-find-for-the-global-barcode_2024-03-11-23-25-10.761.png[0m
2024-03-12T06:25:10.8963341Z       Via manual entry
2024-03-12T06:25:11.8374424Z         Allows User to create a donation for a Manufacturer source
2024-03-12T06:25:12.5750121Z         Allows User to create a Manufacturer from donation
2024-03-12T06:25:13.4885978Z         Verifies unusually large donation quantities
2024-03-12T06:25:14.4464294Z         Strips extraneous data if the user adds both Donation Site and Product Drive Participant
2024-03-12T06:25:15.3216742Z         Displays nested errors
2024-03-12T06:25:16.3051658Z         Repopulates items dropdown even if initial submission doesn't validate
2024-03-12T06:25:17.1934319Z         Allows User to create a donation for Purchased Supplies
2024-03-12T06:25:18.0825540Z         Allows User to create a donation with a Miscellaneous source
2024-03-12T06:25:18.8920162Z         Does not include inactive items in the line item fields
2024-03-12T06:25:19.8184193Z         Allows User to create a donation for a ProductDrive Participant source
2024-03-12T06:25:22.4702509Z         Ensures Barcode Entry fields have unique ids (FAILED - 4)
2024-03-12T06:25:22.4705167Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Ensures-Barcode-Entry-fields-have-unique-ids_2024-03-11-23-25-22.326.html[0m
2024-03-12T06:25:22.4708014Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Ensures-Barcode-Entry-fields-have-unique-ids_2024-03-11-23-25-22.326.png[0m
2024-03-12T06:25:23.3954242Z         Allows donations to be created IN THE PAST
2024-03-12T06:25:26.0955218Z         Accepts and combines multiple line items for the same item type (FAILED - 5)
2024-03-12T06:25:26.0958011Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Accepts-and-combines-multiple-line-items-for-the-same-item-type_2024-03-11-23-25-25.960.html[0m
2024-03-12T06:25:26.0961734Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Accepts-and-combines-multiple-line-items-for-the-same-item-type_2024-03-11-23-25-25.960.png[0m
2024-03-12T06:25:26.9423029Z         Allows User to create a Product Drive from donation
2024-03-12T06:25:27.8070193Z         User can create a donation using dollars decimal amount for its money raised
2024-03-12T06:25:28.5746283Z         Allows User to create a Product Drive Participant from donation
2024-03-12T06:25:29.4453485Z         Allows User to create a donation for a Donation Site source
2024-03-12T06:25:29.4454741Z     When editing an existing donation
2024-03-12T06:25:31.2861360Z       Does not default a selection if item lookup fails
2024-03-12T06:25:32.7919061Z       Allows the user to edit a donation
2024-03-12T06:25:32.7920849Z     When donation items have value
2024-03-12T06:25:33.4655207Z       Displays the total value on the index page
2024-03-12T06:25:34.3619387Z       Displays the total value on the show page
2024-03-12T06:25:35.0349151Z       Displays the individual value on the index page
2024-03-12T06:25:35.0350192Z 
2024-03-12T06:25:35.0350467Z Family requests
2024-03-12T06:25:35.0352638Z   for children with different items, from different families
2024-03-12T06:25:36.6761450Z     it creates family requests
2024-03-12T06:25:36.6762157Z   filtering children
2024-03-12T06:25:37.6397371Z     user can see a list of children filtered by guardian name
2024-03-12T06:25:38.6105672Z     user can see a list of children filtered by first_name
2024-03-12T06:25:38.6293033Z W, [2024-03-11T23:25:38.629043 #2653]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-12T06:25:38.6295078Z W, [2024-03-11T23:25:38.629092 #2653]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:25:38.6297614Z W, [2024-03-11T23:25:38.629116 #2653]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:25:38.6300531Z W, [2024-03-11T23:25:38.629146 #2653]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-12T06:25:38.7079457Z 
2024-03-12T06:25:38.7080262Z Failures:
2024-03-12T06:25:38.7080721Z 
2024-03-12T06:25:38.7081941Z   1) Donations When signed in as a normal user When creating a new donation Via barcode entry Allows User to add items by barcode
2024-03-12T06:25:38.7084488Z      Failure/Error: expect(page.has_select?("donation_line_items_attributes_0_item_id", selected: @existing_barcode.item.name)).to eq(true)
2024-03-12T06:25:38.7086178Z 
2024-03-12T06:25:38.7086467Z      Ferrum::JavaScriptError:
2024-03-12T06:25:38.7087595Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:25:38.7089892Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:37053/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:25:38.7091981Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:25:38.7093437Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:25:38.7094950Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:25:38.7096401Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:25:38.7097341Z 
2024-03-12T06:25:38.7099480Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/capybara/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_barcode_entry_allows_user_to_add_items_by_barcode_616.png
2024-03-12T06:25:38.7105491Z 
2024-03-12T06:25:38.7105509Z 
2024-03-12T06:25:38.7106057Z      # ./spec/system/donation_system_spec.rb:431:in `block (5 levels) in <top (required)>'
2024-03-12T06:25:38.7106968Z 
2024-03-12T06:25:38.7108059Z   2) Donations When signed in as a normal user When creating a new donation Via barcode entry Updates the line item when the same barcode is scanned twice
2024-03-12T06:25:38.7109723Z      Failure/Error: @__Condition__.wait @__Lock__, timeout
2024-03-12T06:25:38.7110709Z 
2024-03-12T06:25:38.7110950Z      Ferrum::JavaScriptError:
2024-03-12T06:25:38.7112087Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:25:38.7114648Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:37053/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:25:38.7116679Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:25:38.7118296Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:25:38.7119765Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:25:38.7121342Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:25:38.7122578Z 
2024-03-12T06:25:38.7124401Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_barcode_entry_updates_the_line_item_when_the_same_barcode_is_scanned_twice_120.png
2024-03-12T06:25:38.7125682Z 
2024-03-12T06:25:38.7125813Z 
2024-03-12T06:25:38.7126842Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `sleep'
2024-03-12T06:25:38.7128922Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `wait'
2024-03-12T06:25:38.7130934Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `ns_wait'
2024-03-12T06:25:38.7133015Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:44:in `block in ns_wait_until'
2024-03-12T06:25:38.7135128Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `loop'
2024-03-12T06:25:38.7137111Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `ns_wait_until'
2024-03-12T06:25:38.7138995Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:87:in `block in wait'
2024-03-12T06:25:38.7140995Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `block in synchronize'
2024-03-12T06:25:38.7143044Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:25:38.7145158Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:25:38.7147011Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:84:in `wait'
2024-03-12T06:25:38.7148780Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:75:in `wait'
2024-03-12T06:25:38.7150593Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:99:in `value!'
2024-03-12T06:25:38.7152417Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/browser/client.rb:42:in `command'
2024-03-12T06:25:38.7153796Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/page.rb:269:in `command'
2024-03-12T06:25:38.7155605Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:109:in `block in call'
2024-03-12T06:25:38.7157076Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/utils/attempt.rb:10:in `with_retry'
2024-03-12T06:25:38.7158664Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:105:in `call'
2024-03-12T06:25:38.7160182Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:97:in `evaluate_on'
2024-03-12T06:25:38.7161288Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:25:38.7162210Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:25:38.7163491Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/browser.rb:179:in `disabled?'
2024-03-12T06:25:38.7164974Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:21:in `command'
2024-03-12T06:25:38.7166507Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:143:in `disabled?'
2024-03-12T06:25:38.7168059Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `block in disabled?'
2024-03-12T06:25:38.7169974Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/base.rb:77:in `synchronize'
2024-03-12T06:25:38.7171563Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `disabled?'
2024-03-12T06:25:38.7173205Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector.rb:431:in `block (2 levels) in <top (required)>'
2024-03-12T06:25:38.7174955Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:14:in `block in initialize'
2024-03-12T06:25:38.7176741Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `instance_exec'
2024-03-12T06:25:38.7178341Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `apply'
2024-03-12T06:25:38.7179899Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:24:in `matches?'
2024-03-12T06:25:38.7181822Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:296:in `block (2 levels) in matches_node_filters?'
2024-03-12T06:25:38.7183551Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `each'
2024-03-12T06:25:38.7185160Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `all?'
2024-03-12T06:25:38.7187036Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `block in matches_node_filters?'
2024-03-12T06:25:38.7188739Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/selector.rb:89:in `with_filter_errors'
2024-03-12T06:25:38.7190494Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:283:in `matches_node_filters?'
2024-03-12T06:25:38.7192189Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:124:in `matches_filters?'
2024-03-12T06:25:38.7193896Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/result.rb:32:in `block in initialize'
2024-03-12T06:25:38.7195676Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:25:38.7196994Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:25:38.7198939Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:25:38.7200258Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:25:38.7201605Z      # 
2024-03-12T06:25:38.7202236Z      #   Showing full backtrace because every line was filtered out.
2024-03-12T06:25:38.7203047Z      #   See docs for RSpec::Configuration#backtrace_exclusion_patterns and
2024-03-12T06:25:38.7203864Z      #   RSpec::Configuration#backtrace_inclusion_patterns for more information.
2024-03-12T06:25:38.7204329Z 
2024-03-12T06:25:38.7205071Z   3) Donations When signed in as a normal user When creating a new donation Via barcode entry When the barcode is a global barcode Adds the oldest item it can find for the global barcode
2024-03-12T06:25:38.7206459Z      Failure/Error: expect(page.has_select?("donation_line_items_attributes_0_item_id", selected: @item.name)).to eq(true)
2024-03-12T06:25:38.7424339Z 
2024-03-12T06:25:38.7424615Z      Ferrum::JavaScriptError:
2024-03-12T06:25:38.7425499Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:25:38.7426744Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:37053/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:25:38.7427843Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:25:38.7428602Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:25:38.7429308Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:25:38.7430020Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:25:38.7430476Z 
2024-03-12T06:25:38.7431847Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_barcode_entry_when_the_barcode_is_a_global_barcode_adds_the_oldest_item_it_can_find_for_the_global_barc_489.png
2024-03-12T06:25:38.7433127Z 
2024-03-12T06:25:38.7433131Z 
2024-03-12T06:25:38.7433437Z      # ./spec/system/donation_system_spec.rb:501:in `block (6 levels) in <top (required)>'
2024-03-12T06:25:38.7433860Z 
2024-03-12T06:25:38.7434646Z   4) Donations When signed in as a normal user When creating a new donation Via manual entry Ensures Barcode Entry fields have unique ids
2024-03-12T06:25:38.7435484Z      Failure/Error: page.find(:css, "#__add_line_item").click
2024-03-12T06:25:38.7436215Z 
2024-03-12T06:25:38.7436335Z      Capybara::ElementNotFound:
2024-03-12T06:25:38.7436685Z        Unable to find css "#__add_line_item"
2024-03-12T06:25:38.7436943Z 
2024-03-12T06:25:38.7438121Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_ensures_barcode_entry_fields_have_unique_ids_940.png
2024-03-12T06:25:38.7439239Z 
2024-03-12T06:25:38.7439244Z 
2024-03-12T06:25:38.7439540Z      # ./spec/system/donation_system_spec.rb:378:in `block (5 levels) in <top (required)>'
2024-03-12T06:25:38.7439967Z 
2024-03-12T06:25:38.7440555Z   5) Donations When signed in as a normal user When creating a new donation Via manual entry Accepts and combines multiple line items for the same item type
2024-03-12T06:25:38.7441600Z      Failure/Error: page.find(:css, "#__add_line_item").click
2024-03-12T06:25:38.7441903Z 
2024-03-12T06:25:38.7442021Z      Capybara::ElementNotFound:
2024-03-12T06:25:38.7442384Z        Unable to find css "#__add_line_item"
2024-03-12T06:25:38.7442632Z 
2024-03-12T06:25:38.7443859Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_accepts_and_combines_multiple_line_items_for_the_same_item_type_769.png
2024-03-12T06:25:38.7445080Z 
2024-03-12T06:25:38.7445084Z 
2024-03-12T06:25:38.7445378Z      # ./spec/system/donation_system_spec.rb:202:in `block (5 levels) in <top (required)>'
2024-03-12T06:25:38.7445803Z 
2024-03-12T06:25:38.7446029Z Finished in 1 minute 40.19 seconds (files took 8.12 seconds to load)
2024-03-12T06:25:38.7446489Z 226 examples, 5 failures
2024-03-12T06:25:38.7446674Z 
2024-03-12T06:25:38.7446765Z Failed examples:
2024-03-12T06:25:38.7446912Z 
2024-03-12T06:25:38.7447591Z rspec ./spec/system/donation_system_spec.rb:422 # Donations When signed in as a normal user When creating a new donation Via barcode entry Allows User to add items by barcode
2024-03-12T06:25:38.7449163Z rspec ./spec/system/donation_system_spec.rb:437 # Donations When signed in as a normal user When creating a new donation Via barcode entry Updates the line item when the same barcode is scanned twice
2024-03-12T06:25:38.7450926Z rspec ./spec/system/donation_system_spec.rb:494 # Donations When signed in as a normal user When creating a new donation Via barcode entry When the barcode is a global barcode Adds the oldest item it can find for the global barcode
2024-03-12T06:25:38.7452608Z rspec ./spec/system/donation_system_spec.rb:377 # Donations When signed in as a normal user When creating a new donation Via manual entry Ensures Barcode Entry fields have unique ids
2024-03-12T06:25:38.7454174Z rspec ./spec/system/donation_system_spec.rb:197 # Donations When signed in as a normal user When creating a new donation Via manual entry Accepts and combines multiple line items for the same item type
2024-03-12T06:25:38.7455073Z 
2024-03-12T06:25:38.7455187Z Randomized with seed 51828
2024-03-12T06:25:38.7455382Z 
2024-03-12T06:25:39.0144578Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:25:39.0146688Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3673 / 6478 LOC (56.7%) covered.
2024-03-12T06:25:39.1325996Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/organization_requests_spec.rb" "spec/requests/partners/individuals_requests_controller_spec.rb" "spec/requests/product_drive_participants_requests_spec.rb" "spec/requests/sessions_requests_spec.rb" "spec/requests/vendors_requests_spec.rb" "spec/system/admin/base_items_system_spec.rb" "spec/system/authorization_system_spec.rb" "spec/system/donation_system_spec.rb" "spec/system/manufacturer_system_spec.rb" "spec/system/partners/family_requests_system_spec.rb" "spec/system/product_drive_system_spec.rb" "spec/system/storage_location_system_spec.rb" failed
2024-03-12T06:25:39.5177749Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:25:39.5179903Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10785 LOC (0.35%) covered.
2024-03-12T06:25:39.5441704Z ##[error]Process completed with exit code 1.
