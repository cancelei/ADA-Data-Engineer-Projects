2024-03-12T06:23:45.5038754Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-12T06:23:45.5039666Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-12T06:23:45.5090985Z shell: /usr/bin/bash -e {0}
2024-03-12T06:23:45.5091358Z env:
2024-03-12T06:23:45.5091830Z   POSTGRES_HOST: localhost
2024-03-12T06:23:45.5092194Z   DATABASE_HOST: localhost
2024-03-12T06:23:45.5092592Z   PG_USERNAME: postgres
2024-03-12T06:23:45.5093080Z   PG_PASSWORD: password
2024-03-12T06:23:45.5093471Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-12T06:23:45.5093870Z   POSTGRES_PORT: 5432
2024-03-12T06:23:45.5094321Z   PGHOST: localhost
2024-03-12T06:23:45.5094671Z   PGUSER: postgres
2024-03-12T06:23:45.5095093Z   RAILS_ENV: test
2024-03-12T06:23:45.5095463Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-12T06:23:45.5095881Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-12T06:23:45.5096371Z   KNAPSACK_PRO_CI_NODE_INDEX: 2
2024-03-12T06:23:45.5096831Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-12T06:23:45.5097487Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-12T06:23:45.5098101Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-12T06:23:45.5098776Z ##[endgroup]
2024-03-12T06:23:51.2439457Z W, [2024-03-12T06:23:51.243543 #2368]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-12T06:23:51.2442145Z W, [2024-03-12T06:23:51.243613 #2368]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:23:51.2445443Z W, [2024-03-12T06:23:51.243634 #2368]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:23:51.2450739Z W, [2024-03-12T06:23:51.243667 #2368]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-12T06:23:53.6154096Z W, [2024-03-12T06:23:53.615059 #2368]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-12T06:23:53.6156329Z W, [2024-03-12T06:23:53.615105 #2368]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:23:53.6158187Z W, [2024-03-12T06:23:53.615124 #2368]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:23:53.6161099Z W, [2024-03-12T06:23:53.615168 #2368]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-12T06:23:53.6213167Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-03-12T06:24:02.1692064Z 
2024-03-12T06:24:02.1693257Z Randomized with seed 48391
2024-03-12T06:24:03.1472442Z 
2024-03-12T06:24:03.1473283Z User account management
2024-03-12T06:24:03.1474454Z   when in staging
2024-03-12T06:24:26.4445379Z     should display staging warning
2024-03-12T06:24:26.9831839Z     should not allow the user to change staging credentials
2024-03-12T06:24:26.9833826Z   when not in staging
2024-03-12T06:24:28.6664830Z     should change an user name
2024-03-12T06:24:29.5602725Z     should change the email
2024-03-12T06:24:30.3389377Z     should fail when the email is invalid
2024-03-12T06:24:30.3390196Z 
2024-03-12T06:24:30.3390538Z Managing requests
2024-03-12T06:24:30.3392046Z   creating a new quantity request
2024-03-12T06:24:30.3392929Z     GIVEN a partner user is permitted to make a request
2024-03-12T06:24:30.3393954Z       WHEN a request is built using add and remove buttons
2024-03-12T06:24:30.3394817Z         THEN a request records will be created
2024-03-12T06:24:32.4073380Z           creates the correct request
2024-03-12T06:24:32.4074290Z   creating a # individuals request
2024-03-12T06:24:32.4075775Z     GIVEN a partner user is permitted to make a request
2024-03-12T06:24:32.4077358Z       WHEN a request is built using add and remove buttons
2024-03-12T06:24:32.4078433Z         THEN a request records will be created
2024-03-12T06:24:34.2253557Z           creates the correct request
2024-03-12T06:24:34.2257184Z 
2024-03-12T06:24:34.2259255Z Admin Organization Management
2024-03-12T06:24:34.2260244Z   While signed in as an Administrative User (super admin)
2024-03-12T06:24:35.6307253Z     can view organization details
2024-03-12T06:24:36.7905167Z     filters by organizations by name in organizations index page
2024-03-12T06:24:38.7930212Z     creates a new organization
2024-03-12T06:24:38.7931272Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-12T06:24:40.6633786Z     creates a new organization
2024-03-12T06:24:40.6634564Z 
2024-03-12T06:24:40.6635092Z Admin::AccountRequestsController
2024-03-12T06:24:40.6636184Z   while signed in as a super admin
2024-03-12T06:24:40.6637470Z     POST #reject
2024-03-12T06:24:40.7011557Z       should redirect back on success
2024-03-12T06:24:40.7012381Z     GET #for_rejection
2024-03-12T06:24:40.7013066Z       with an invalid token
2024-03-12T06:24:40.7310198Z         should show a not found message
2024-03-12T06:24:40.7310883Z       with a valid token
2024-03-12T06:24:40.7712225Z         should show the request
2024-03-12T06:24:40.7712854Z     GET #index
2024-03-12T06:24:40.8042909Z       returns success
2024-03-12T06:24:40.8043759Z 
2024-03-12T06:24:40.8044709Z /partners/profiles
2024-03-12T06:24:40.8045758Z   GET #show
2024-03-12T06:24:40.8723484Z     displays the partner
2024-03-12T06:24:40.9289459Z     shows correct values for yes/no buttons
2024-03-12T06:24:40.9290209Z   PUT #update
2024-03-12T06:24:40.9850394Z     updates the partner and profile
2024-03-12T06:24:40.9851345Z     when updating an existing value to a blank value
2024-03-12T06:24:41.0356185Z       does not update other partner profile attributes to blank
2024-03-12T06:24:41.0857081Z       updates the partner profile attribute to a blank value
2024-03-12T06:24:41.1376236Z       does store N/A in the database
2024-03-12T06:24:41.1376942Z     with no social media
2024-03-12T06:24:41.2398579Z       shows an error
2024-03-12T06:24:41.2399296Z   GET #edit
2024-03-12T06:24:41.3256459Z     has "No" radio button value when value is false
2024-03-12T06:24:41.4098112Z     does not have default radio button value when value is nil
2024-03-12T06:24:41.4951386Z     has "Yes" radio button value when value is true
2024-03-12T06:24:41.5771562Z     displays the partner
2024-03-12T06:24:41.5772191Z 
2024-03-12T06:24:41.5772485Z Organization management
2024-03-12T06:24:41.5774647Z   while signed in as an organization admin
2024-03-12T06:24:42.0854103Z     can re-invite a user to an organization after 7 days
2024-03-12T06:24:43.1433325Z     can re-activate a user in the organization
2024-03-12T06:24:44.1086653Z     can deactivate a user in the organization
2024-03-12T06:24:45.0691866Z     can add a new user to an organization
2024-03-12T06:24:45.5791344Z     can see 'Make user' button for admins
2024-03-12T06:24:45.5791953Z     Viewing the organization
2024-03-12T06:24:46.1388920Z       can view organization details
2024-03-12T06:24:46.1389670Z     Editing the organization
2024-03-12T06:24:46.9852248Z       can set the NDBN Member ID
2024-03-12T06:24:48.1482133Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-03-12T06:24:49.0027670Z       can set a default storage location on the organization
2024-03-12T06:24:50.0476402Z       can select if the org shows year-to-date values on the distribution printout
2024-03-12T06:24:51.0352372Z       can select if the org repackages essentials
2024-03-12T06:24:52.0259964Z       can select if the org distributes essentials monthly
2024-03-12T06:24:52.8997314Z       can set a reminder and a deadline day
2024-03-12T06:24:53.8842760Z       can enable if the org uses single step invite and approve partner process
2024-03-12T06:24:54.9058169Z       can disable if the org does NOT use single step invite and approve partner process
2024-03-12T06:24:56.3613806Z       can select and deselect Required Partner Fields
2024-03-12T06:24:56.3614838Z   while signed in as a normal user
2024-03-12T06:24:56.9147914Z     can see summary details about the organization as a user
2024-03-12T06:24:57.3794706Z     cannot see 'Make user' button for admins
2024-03-12T06:24:57.3795627Z 
2024-03-12T06:24:57.3795850Z Events
2024-03-12T06:24:57.3797440Z   When not signed in
2024-03-12T06:24:57.4112224Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:24:57.4112977Z   When signed in
2024-03-12T06:24:57.4113491Z     GET #index
2024-03-12T06:24:57.9168735Z       should be successful
2024-03-12T06:24:57.9169599Z       with date filter
2024-03-12T06:24:58.3864991Z         should not include the old donation
2024-03-12T06:24:58.3865590Z       with type filter
2024-03-12T06:24:58.8583801Z         should not include the adjustment
2024-03-12T06:24:58.8584696Z       with item filter
2024-03-12T06:24:59.3340179Z         should not include the other item
2024-03-12T06:24:59.3340882Z       with storage location filter
2024-03-12T06:24:59.8056446Z         should not include the other storage location
2024-03-12T06:24:59.8057380Z       with eventable_id
2024-03-12T06:25:00.4138669Z         should only show events from that eventable
2024-03-12T06:25:00.4139407Z 
2024-03-12T06:25:00.4139616Z Profiles
2024-03-12T06:25:00.4140518Z   POST #update
2024-03-12T06:25:00.4141875Z     successful save
2024-03-12T06:25:00.4588402Z       update partner
2024-03-12T06:25:00.4994130Z       redirects to #show
2024-03-12T06:25:00.4995268Z     when updating an existing value to a blank value
2024-03-12T06:25:00.5425787Z       should have blank values
2024-03-12T06:25:00.5882302Z       update partner
2024-03-12T06:25:00.5883138Z   GET #edit
2024-03-12T06:25:00.6868403Z     returns http success
2024-03-12T06:25:00.6871947Z 
2024-03-12T06:25:00.6872561Z Dashboard
2024-03-12T06:25:00.6875254Z   With an existing essentials bank
2024-03-12T06:25:00.6876866Z     Signage
2024-03-12T06:25:03.5960937Z       shows their organization name unless they have a logo set
2024-03-12T06:25:03.5961936Z     Product Drives
2024-03-12T06:25:04.1607357Z       has a widget for product drive summary data
2024-03-12T06:25:04.1610005Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:25:04.1611526Z         filtering to 'Last Month'
2024-03-12T06:25:05.7129410Z           shows 3 Recent Donation link(s)
2024-03-12T06:25:07.1395357Z           shows the correct total money raised
2024-03-12T06:25:08.5831471Z           shows the correct total donations
2024-03-12T06:25:08.5835514Z       given 1 Product Drive Donation on 2024-03-04 (unless 'All Time'), 4 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:25:08.5836999Z         filtering to 'Last 7 Days'
2024-03-12T06:25:10.0478306Z           shows the correct total donations
2024-03-12T06:25:11.4836180Z           shows the correct total money raised
2024-03-12T06:25:12.9277162Z           shows 3 Recent Donation link(s)
2024-03-12T06:25:12.9278928Z       given 1 Product Drive Donation on 2022-03-10 (unless 'All Time'), 3 during 2022-03-11..2023-10-13, and 1 on 2023-10-14
2024-03-12T06:25:12.9280280Z         filtering to '' (March 11, 2022 - October 13, 2023)
2024-03-12T06:25:14.3841672Z           shows 3 Recent Donation link(s)
2024-03-12T06:25:15.8443339Z           shows the correct total money raised
2024-03-12T06:25:17.2573482Z           shows the correct total donations
2024-03-12T06:25:17.2575519Z       given 1 Product Drive Donation on 2024-02-10 (unless 'All Time'), 1 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:25:17.2576930Z         filtering to 'Last 30 Days'
2024-03-12T06:25:18.6116008Z           shows 1 Recent Donation link(s)
2024-03-12T06:25:19.9712918Z           shows the correct total donations
2024-03-12T06:25:21.3693490Z           shows the correct total money raised
2024-03-12T06:25:21.3695495Z       given 1 Product Drive Donation on 2024-03-10 (unless 'All Time'), 1 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:25:21.3696836Z         filtering to 'Today'
2024-03-12T06:25:22.7421700Z           shows the correct total money raised
2024-03-12T06:25:24.2674255Z           shows the correct total donations
2024-03-12T06:25:25.6540303Z           shows 1 Recent Donation link(s)
2024-03-12T06:25:25.6542233Z       given 1 Product Drive Donation on 2024-03-09 (unless 'All Time'), 4 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:25:25.6543182Z         filtering to 'Yesterday'
2024-03-12T06:25:27.0709333Z           shows the correct total donations
2024-03-12T06:25:28.5132845Z           shows the correct total money raised
2024-03-12T06:25:29.9509607Z           shows 3 Recent Donation link(s)
2024-03-12T06:25:29.9511409Z       given 1 Product Drive Donation on 2024-02-29 (unless 'All Time'), 1 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:25:29.9512938Z         filtering to 'This Month'
2024-03-12T06:25:31.2963494Z           shows the correct total donations
2024-03-12T06:25:32.6609263Z           shows 1 Recent Donation link(s)
2024-03-12T06:25:34.0088294Z           shows the correct total money raised
2024-03-12T06:25:34.0089271Z       Product drive behaviour with Mixed Donation types
2024-03-12T06:25:34.6931356Z         only counts product drive donations for product drive
2024-03-12T06:25:35.3972924Z         only shows product drive donations as product drive donations
2024-03-12T06:25:36.0757447Z         only counts product drive money raised
2024-03-12T06:25:36.0759229Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:25:36.0760147Z         filtering to 'This Year'
2024-03-12T06:25:37.3738602Z           shows the correct total money raised
2024-03-12T06:25:38.6826948Z           shows the correct total donations
2024-03-12T06:25:42.0065602Z           shows 0 Recent Donation link(s)
2024-03-12T06:25:42.0066920Z     Manufacturer Donations
2024-03-12T06:25:42.5950804Z       has a link to create a new donation
2024-03-12T06:25:42.5952993Z       given 1 Manufacturer donating on 2024-03-10  (unless 'All Time'), 8 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:25:42.5954871Z         filtering to 'Today'
2024-03-12T06:25:44.5207384Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-12T06:25:44.5209663Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 9 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:25:44.5211424Z         filtering to 'This Year'
2024-03-12T06:25:46.8076581Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-12T06:25:46.8079162Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 5 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:25:46.8081260Z         filtering to 'Last Month'
2024-03-12T06:25:48.5732624Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-03-12T06:25:48.5734863Z       given 1 Manufacturer donating on 2024-02-29  (unless 'All Time'), 5 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:25:48.5736256Z         filtering to 'This Month'
2024-03-12T06:25:50.2398472Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-03-12T06:25:50.2400905Z       given 1 Manufacturer donating on 2024-02-10  (unless 'All Time'), 6 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:25:50.2401934Z         filtering to 'Last 30 Days'
2024-03-12T06:25:51.9970788Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-03-12T06:25:51.9973096Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 1 during 2000-01-01..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:25:51.9974468Z         filtering to 'All Time'
2024-03-12T06:25:53.3443844Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-03-12T06:25:53.3446145Z       given 1 Manufacturer donating on 2024-03-04  (unless 'All Time'), 5 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:25:53.3447400Z         filtering to 'Last 7 Days'
2024-03-12T06:25:55.0089956Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-03-12T06:25:55.0092026Z       given 1 Manufacturer donating on 2022-03-10  (unless 'All Time'), 4 during 2022-03-11..2024-02-04, and 1 on 2024-02-05
2024-03-12T06:25:55.0093011Z         filtering to '' (March 11, 2022 - February 4, 2024)
2024-03-12T06:25:56.6644149Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-03-12T06:25:56.6645958Z       given 1 Manufacturer donating on 2024-03-09  (unless 'All Time'), 5 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:25:56.6647485Z         filtering to 'Yesterday'
2024-03-12T06:25:58.5220013Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-03-12T06:25:58.5221012Z     Inventory Totals
2024-03-12T06:25:58.5221751Z       Summary
2024-03-12T06:25:59.2152258Z         displays the on-hand totals
2024-03-12T06:25:59.2153227Z         when constrained to date range
2024-03-12T06:26:00.2441868Z           does not change
2024-03-12T06:26:00.2442750Z     Distributions
2024-03-12T06:26:01.1910958Z       has a link to create a new distribution
2024-03-12T06:26:01.1912894Z       given 1 Distribution on 2024-03-09  (unless 'All Time'), 1 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:26:01.1914453Z         filtering to 'Yesterday'
2024-03-12T06:26:02.7293713Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-12T06:26:02.7295896Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:26:02.7297201Z         filtering to 'Last Month'
2024-03-12T06:26:04.1314404Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:26:04.1316597Z       given 1 Distribution on 2024-03-10  (unless 'All Time'), 2 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:26:04.1317999Z         filtering to 'Today'
2024-03-12T06:26:05.5628123Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-12T06:26:05.5629836Z       given 1 Distribution on 2024-02-29  (unless 'All Time'), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:26:05.5630587Z         filtering to 'This Month'
2024-03-12T06:26:06.9961211Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-12T06:26:06.9963130Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 4 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:26:06.9965584Z         filtering to 'This Year'
2024-03-12T06:26:08.4449114Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:26:08.4451092Z       given 1 Distribution on 2024-03-04  (unless 'All Time'), 4 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:26:08.4452123Z         filtering to 'Last 7 Days'
2024-03-12T06:26:09.8809438Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:26:09.8811421Z       given 1 Distribution on 2024-02-10  (unless 'All Time'), 0 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:26:09.8812727Z         filtering to 'Last 30 Days'
2024-03-12T06:26:13.2742320Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-12T06:26:13.2744430Z       given 1 Distribution on 2022-03-10  (unless 'All Time'), 0 during 2022-03-11..2023-12-26, and 1 on 2023-12-27
2024-03-12T06:26:13.2745923Z         filtering to '' (March 11, 2022 - December 26, 2023)
2024-03-12T06:26:16.6216693Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-12T06:26:16.6218375Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 4 during 2000-01-01..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:26:16.6219596Z         filtering to 'All Time'
2024-03-12T06:26:18.1071092Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:26:18.1072025Z     Donations
2024-03-12T06:26:19.0046878Z       has a link to create a new donation
2024-03-12T06:26:19.0048594Z       given 1 Donation on 2024-03-04 (only if a valid date), 3 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:26:19.0049975Z         filtering to 'Last 7 Days'
2024-03-12T06:26:20.4188393Z           shows the correct total and 3 Recent Donation link(s)
2024-03-12T06:26:20.4189956Z       given 1 Donation on 2022-03-10 (only if a valid date), 1 during 2022-03-11..2023-10-08, and 1 on 2023-10-09
2024-03-12T06:26:20.4191481Z         filtering to '' (March 11, 2022 - October 8, 2023)
2024-03-12T06:26:21.7969880Z           shows the correct total and 1 Recent Donation link(s)
2024-03-12T06:26:21.7971651Z       given 1 Donation on 2024-03-10 (only if a valid date), 0 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:26:21.7973494Z         filtering to 'Today'
2024-03-12T06:26:25.1588931Z           shows the correct total and 0 Recent Donation link(s)
2024-03-12T06:26:25.1590783Z       given 1 Donation on 2024-01-31 (only if a valid date), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:26:25.1593782Z         filtering to 'Last Month'
2024-03-12T06:26:28.5047169Z           shows the correct total and 0 Recent Donation link(s)
2024-03-12T06:26:28.5049079Z       given 1 Donation on 2024-02-29 (only if a valid date), 0 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:26:28.5050492Z         filtering to 'This Month'
2024-03-12T06:26:31.8243639Z           shows the correct total and 0 Recent Donation link(s)
2024-03-12T06:26:31.8245724Z       given 1 Donation on 2024-02-10 (only if a valid date), 2 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:26:31.8246598Z         filtering to 'Last 30 Days'
2024-03-12T06:26:33.1974731Z           shows the correct total and 2 Recent Donation link(s)
2024-03-12T06:26:33.1976500Z       given 1 Donation on 2024-03-09 (only if a valid date), 2 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:26:33.1977504Z         filtering to 'Yesterday'
2024-03-12T06:26:34.5784446Z           shows the correct total and 2 Recent Donation link(s)
2024-03-12T06:26:34.5786709Z       given 1 Donation on 2023-12-31 (only if a valid date), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:26:34.5787985Z         filtering to 'This Year'
2024-03-12T06:26:36.0000412Z           shows the correct total and 3 Recent Donation link(s)
2024-03-12T06:26:36.0001399Z     Purchases
2024-03-12T06:26:36.9099344Z       has a link to create a new purchase
2024-03-12T06:26:36.9101480Z       given 1 Purchase on 2024-03-10  (unless 'All Time'), 1 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:26:36.9102537Z         filtering to 'Today'
2024-03-12T06:26:38.2709058Z           shows correct 1 Recent Purchase link(s)
2024-03-12T06:26:38.2710406Z       given 1 Purchase on 2022-03-10  (unless 'All Time'), 2 during 2022-03-11..2024-01-14, and 1 on 2024-01-15
2024-03-12T06:26:38.2711311Z         filtering to '' (March 11, 2022 - January 14, 2024)
2024-03-12T06:26:39.6696018Z           shows correct 2 Recent Purchase link(s)
2024-03-12T06:26:39.6697881Z       given 1 Purchase on 2024-02-29  (unless 'All Time'), 3 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:26:39.6699332Z         filtering to 'This Month'
2024-03-12T06:26:41.0708102Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:26:41.0709766Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:26:41.0711058Z         filtering to 'Last Month'
2024-03-12T06:26:44.3949310Z           shows correct 0 Recent Purchase link(s)
2024-03-12T06:26:44.3951077Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:26:44.3952150Z         filtering to 'This Year'
2024-03-12T06:26:45.7644768Z           shows correct 1 Recent Purchase link(s)
2024-03-12T06:26:45.7648529Z       given 1 Purchase on 2024-02-10  (unless 'All Time'), 1 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:26:45.7650010Z         filtering to 'Last 30 Days'
2024-03-12T06:26:47.1274033Z           shows correct 1 Recent Purchase link(s)
2024-03-12T06:26:47.1275906Z       given 1 Purchase on 2024-03-09  (unless 'All Time'), 4 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:26:47.1277326Z         filtering to 'Yesterday'
2024-03-12T06:26:48.5418538Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:26:48.5420525Z       given 1 Purchase on 2024-03-04  (unless 'All Time'), 3 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:26:48.5421783Z         filtering to 'Last 7 Days'
2024-03-12T06:26:49.9580728Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:26:49.9581826Z   With a new essentials bank
2024-03-12T06:27:17.9843190Z     displays the getting started guide until the steps are completed
2024-03-12T06:27:17.9844719Z 
2024-03-12T06:27:17.9849609Z StorageLocations
2024-03-12T06:27:17.9850208Z   While signed in
2024-03-12T06:27:17.9851182Z     GET #destroy
2024-03-12T06:27:18.0149915Z       redirects to #index
2024-03-12T06:27:18.0150602Z     POST #import_csv
2024-03-12T06:27:18.0151259Z       with a csv file
2024-03-12T06:27:18.0312506Z         redirects
2024-03-12T06:27:18.0364792Z         invokes .import_csv
2024-03-12T06:27:18.0514199Z         presents a flash notice message
2024-03-12T06:27:18.0515235Z       without a csv file
2024-03-12T06:27:18.0628186Z         redirects to :index
2024-03-12T06:27:18.0738688Z         presents a flash error message
2024-03-12T06:27:18.0739653Z       csv file with wrong headers
2024-03-12T06:27:18.0858991Z         presents a flash error message
2024-03-12T06:27:18.0990194Z         redirects
2024-03-12T06:27:18.0990972Z     GET #index
2024-03-12T06:27:18.0992099Z       csv
2024-03-12T06:27:18.1951646Z         includes headers followed by alphabetized item names
2024-03-12T06:27:18.2139412Z         succeeds
2024-03-12T06:27:18.2140041Z       html
2024-03-12T06:27:18.2507556Z         succeeds
2024-03-12T06:27:18.2508235Z         with inactive locations
2024-03-12T06:27:18.2890863Z           does not includes the inactive location
2024-03-12T06:27:18.2892166Z           with include_inactive_locations
2024-03-12T06:27:18.3408770Z             includes the inactive location
2024-03-12T06:27:18.3409678Z     PUT #reactivate
2024-03-12T06:27:18.3590031Z       undiscards
2024-03-12T06:27:18.3590641Z     Looking at a different organization
2024-03-12T06:27:18.5408415Z       redirects the user to the sign-in page for CRUD actions
2024-03-12T06:27:18.5409400Z     GET #show
2024-03-12T06:27:18.5409990Z       html
2024-03-12T06:27:18.6089030Z         should return a correct response
2024-03-12T06:27:18.6090080Z         with version date set
2024-03-12T06:27:18.6090971Z           with a version found
2024-03-12T06:27:18.6935559Z             should show the version specified
2024-03-12T06:27:18.6936259Z           with no version found
2024-03-12T06:27:18.7630861Z             should show N/A
2024-03-12T06:27:18.7631590Z       csv
2024-03-12T06:27:18.8089471Z         should be successful
2024-03-12T06:27:18.8090190Z     GET #new
2024-03-12T06:27:19.5222772Z       returns http success
2024-03-12T06:27:19.5223383Z     GET #inventory
2024-03-12T06:27:19.5223995Z       when also including omitted items
2024-03-12T06:27:19.5689104Z         contains a collection of ducktyped entries that respond the same
2024-03-12T06:27:19.6138750Z         returns a collection that also includes all items, but with zeroed quantities
2024-03-12T06:27:19.6139735Z       without any overrides
2024-03-12T06:27:19.6610409Z         returns a collection that only includes items at the storage location
2024-03-12T06:27:19.6611263Z       when also including inactive items
2024-03-12T06:27:19.7318081Z         returns a collection that also includes items that have been deactivated
2024-03-12T06:27:19.7319497Z     PUT #deactivate
2024-03-12T06:27:19.7506389Z       discards
2024-03-12T06:27:19.7507035Z       with inventory
2024-03-12T06:27:19.7922622Z         does not discard
2024-03-12T06:27:19.7923339Z     GET #edit
2024-03-12T06:27:19.8266792Z       returns http success
2024-03-12T06:27:19.8267484Z   While not signed in
2024-03-12T06:27:19.8328099Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:27:19.8328795Z 
2024-03-12T06:27:19.8329136Z Vendor
2024-03-12T06:27:19.8330473Z   When a user views the index page
2024-03-12T06:27:20.3293409Z     should have the vendor names in alphabetical order
2024-03-12T06:27:20.3294101Z   when editing an existing vendor
2024-03-12T06:27:21.0841838Z     does not update a vendor with empty attributes
2024-03-12T06:27:21.8610175Z     can update the contact info for a vendor as a user
2024-03-12T06:27:21.8611308Z   when creating a new vendor
2024-03-12T06:27:22.6039514Z     cannot add a new vendor instance with empty attributes
2024-03-12T06:27:23.4110865Z     can create a new vendor instance as a user
2024-03-12T06:27:23.4111620Z   When vendor have purchases associated with them already
2024-03-12T06:27:23.9858875Z     can have existing vendors show in the #index with some summary stats
2024-03-12T06:27:24.5718624Z     can have a single vendor show semi-detailed stats about purchases
2024-03-12T06:27:24.5719450Z 
2024-03-12T06:27:24.5719884Z Kit management
2024-03-12T06:27:25.5041055Z   can create a new kit as a user with the proper quantity
2024-03-12T06:27:26.9745398Z   can allocate and deallocate quantity per storage location from kit index
2024-03-12T06:27:27.5362121Z   should not display inactive storage locations under allocations
2024-03-12T06:27:28.6510688Z   when there is not enough quantity of the items contained in the kit on-hand
2024-03-12T06:27:28.6511553Z     will not change quantity amounts when allocating
2024-03-12T06:27:28.6512240Z   when there is no kit quantity
2024-03-12T06:27:29.7940477Z     will not change quantity amounts when deallocating
2024-03-12T06:27:29.7941408Z 
2024-03-12T06:27:29.7941642Z BroadcastAnnouncements
2024-03-12T06:27:29.7943881Z   GET /new
2024-03-12T06:27:29.8320117Z     renders a successful response
2024-03-12T06:27:29.8321102Z   GET /edit
2024-03-12T06:27:29.8643741Z     render a successful response
2024-03-12T06:27:29.8644945Z   PATCH /update
2024-03-12T06:27:29.8645519Z     with invalid parameters
2024-03-12T06:27:29.8966747Z       does not render a successful response
2024-03-12T06:27:29.8967646Z     with valid parameters
2024-03-12T06:27:29.9147573Z       updates the requested announcement and redirects
2024-03-12T06:27:29.9148963Z   DELETE /destroy
2024-03-12T06:27:29.9310989Z     destroys the requested announcement then redirects
2024-03-12T06:27:29.9311819Z   GET /index
2024-03-12T06:27:29.9623665Z     renders a successful response
2024-03-12T06:27:29.9624613Z   POST /create
2024-03-12T06:27:29.9625288Z     with invalid parameters
2024-03-12T06:27:29.9931352Z       does not create a new BroadcastAnnouncement
2024-03-12T06:27:30.0213379Z       does not render a successful response
2024-03-12T06:27:30.0214347Z     with valid parameters
2024-03-12T06:27:30.0367900Z       creates a new BroadcastAnnouncement then redirects
2024-03-12T06:27:30.0368691Z 
2024-03-12T06:27:30.0369399Z Admin::Questions
2024-03-12T06:27:30.0370251Z   while signed in as a super admin
2024-03-12T06:27:30.0371429Z     GET #edit
2024-03-12T06:27:30.0846295Z       lets the user load the edit question page
2024-03-12T06:27:30.0847662Z     GET #index
2024-03-12T06:27:30.1139220Z       lets the user load the page
2024-03-12T06:27:30.1140301Z     POST #create
2024-03-12T06:27:30.1331284Z       lets the user create questions
2024-03-12T06:27:30.1332096Z     PATCH #update
2024-03-12T06:27:30.1533748Z       lets the user update questions
2024-03-12T06:27:30.1534530Z     GET #new
2024-03-12T06:27:30.1957135Z       lets the user load the new question page
2024-03-12T06:27:30.1958277Z     DELETE #destroy
2024-03-12T06:27:30.2186423Z       lets the user delete questions
2024-03-12T06:27:30.2187707Z 
2024-03-12T06:27:30.2188058Z Purchases
2024-03-12T06:27:30.2189789Z   while signed in as an organization admin
2024-03-12T06:27:31.0800025Z     allows deletion of a purchase
2024-03-12T06:27:31.0800951Z   while signed in as a normal user
2024-03-12T06:27:31.0801595Z     When visiting the index page
2024-03-12T06:27:31.0802661Z       When filtering on the index page
2024-03-12T06:27:31.9144329Z         User can filter the #index by storage location
2024-03-12T06:27:32.7597139Z         User can filter the #index by vendor
2024-03-12T06:27:32.7597929Z         behaves like Date Range Picker
2024-03-12T06:27:32.7598880Z           when choosing 'Last Month'
2024-03-12T06:27:34.2209912Z             shows only 2 of the records
2024-03-12T06:27:34.2211001Z           when choosing 'All Time'
2024-03-12T06:27:35.1820000Z             shows all the records
2024-03-12T06:27:35.1821133Z           when choosing a date range that only includes the previous week
2024-03-12T06:27:36.1265852Z             shows only 1 record
2024-03-12T06:27:36.1266591Z       In the middle of the year
2024-03-12T06:27:36.8863570Z         User sees purchased date column
2024-03-12T06:27:37.6429339Z         User sees total purchases value
2024-03-12T06:27:38.4445613Z         User can click to the new purchase form
2024-03-12T06:27:38.4446552Z     When visiting an existing purchase
2024-03-12T06:27:38.9108167Z       does not allow deletion of a purchase
2024-03-12T06:27:38.9109099Z     When creating a new purchase
2024-03-12T06:27:39.4002162Z       should not display inactive storage locations in dropdown
2024-03-12T06:27:39.4003172Z       via manual entry
2024-03-12T06:27:40.4123651Z         Does not include inactive items in the line item fields
2024-03-12T06:27:41.3245959Z         User can create a purchase using dollars decimal amount
2024-03-12T06:27:42.4299327Z         User can create a purchase IN THE PAST
2024-03-12T06:27:45.1591134Z         multiple line items for the same item type are accepted and combined on the backend (FAILED - 1)
2024-03-12T06:27:45.1594280Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_multiple-line-items-for-the-same-item-type-are-accepted-and-combined-on-the-backend_2024-03-11-23-27-45.012.html[0m
2024-03-12T06:27:45.1599345Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_multiple-line-items-for-the-same-item-type-are-accepted-and-combined-on-the-backend_2024-03-11-23-27-45.012.png[0m
2024-03-12T06:27:46.2192871Z         User can create vendor from purchase
2024-03-12T06:27:46.2194205Z         when creating a purchase incorrectly
2024-03-12T06:27:47.0231714Z           should display failure with error messages
2024-03-12T06:27:48.0212410Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-03-12T06:27:48.0213796Z       Editing purchase
2024-03-12T06:27:48.5542291Z         A user can see purchased_from value
2024-03-12T06:27:49.1953654Z         A user can view another organizations purchase
2024-03-12T06:27:49.1954319Z       via barcode entry
2024-03-12T06:27:50.0750274Z         User scan same barcode 2 times (FAILED - 2)
2024-03-12T06:27:50.0751701Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-scan-same-barcode-2-times_2024-03-11-23-27-49.940.html[0m
2024-03-12T06:27:50.0997360Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-scan-same-barcode-2-times_2024-03-11-23-27-49.940.png[0m
2024-03-12T06:27:51.2728726Z         a user can add items that do not yet have a barcode
2024-03-12T06:27:52.1436789Z         a user can add items via scanning them in by barcode (FAILED - 3)
2024-03-12T06:27:52.1438716Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_a-user-can-add-items-via-scanning-them-in-by-barcode_2024-03-11-23-27-52.007.html[0m
2024-03-12T06:27:52.1441071Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_a-user-can-add-items-via-scanning-them-in-by-barcode_2024-03-11-23-27-52.007.png[0m
2024-03-12T06:27:52.1442182Z 
2024-03-12T06:27:52.1442283Z /partners/dashboard
2024-03-12T06:27:52.2518824Z   displays upcoming distributions
2024-03-12T06:27:52.2519474Z   with both roles
2024-03-12T06:27:52.3077991Z     should include the switch link
2024-03-12T06:27:52.3078680Z   BroadcastAnnouncement card
2024-03-12T06:27:52.3576702Z     doesn't display announcements from super admins
2024-03-12T06:27:52.4099602Z     displays announcements if there are valid ones
2024-03-12T06:27:52.4599312Z     doesn't display announcements if there are not valid ones
2024-03-12T06:27:52.4600130Z   with just partner role
2024-03-12T06:27:52.5074943Z     should not display the switch link
2024-03-12T06:27:52.5075597Z   GET #index
2024-03-12T06:27:52.5725952Z     does not display requests in other states
2024-03-12T06:27:52.6503252Z     displays requests that are pending
2024-03-12T06:27:52.6666594Z W, [2024-03-11T23:27:52.666406 #2406]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-12T06:27:52.6668728Z W, [2024-03-11T23:27:52.666450 #2406]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:27:52.6671473Z W, [2024-03-11T23:27:52.666474 #2406]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:27:52.6674748Z W, [2024-03-11T23:27:52.666502 #2406]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-12T06:27:52.7069132Z 
2024-03-12T06:27:52.7071717Z Failures:
2024-03-12T06:27:52.7071998Z 
2024-03-12T06:27:52.7073335Z   1) Purchases while signed in as a normal user When creating a new purchase via manual entry multiple line items for the same item type are accepted and combined on the backend
2024-03-12T06:27:52.7075224Z      Failure/Error: page.find(:css, "#__add_line_item").click
2024-03-12T06:27:52.7086335Z 
2024-03-12T06:27:52.7086673Z      Capybara::ElementNotFound:
2024-03-12T06:27:52.7087719Z        Unable to find css "#__add_line_item"
2024-03-12T06:27:52.7088199Z 
2024-03-12T06:27:52.7090693Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/capybara/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_manual_entry_multiple_line_items_for_the_same_item_type_are_accepted_and_combined_on_the_backend_337.png
2024-03-12T06:27:52.7093405Z 
2024-03-12T06:27:52.7093422Z 
2024-03-12T06:27:52.7093982Z      # ./spec/system/purchase_system_spec.rb:172:in `block (5 levels) in <top (required)>'
2024-03-12T06:27:52.7094785Z 
2024-03-12T06:27:52.7095625Z   2) Purchases while signed in as a normal user When creating a new purchase via barcode entry User scan same barcode 2 times
2024-03-12T06:27:52.7097017Z      Failure/Error: @__Condition__.wait @__Lock__, timeout
2024-03-12T06:27:52.7097550Z 
2024-03-12T06:27:52.7097759Z      Ferrum::JavaScriptError:
2024-03-12T06:27:52.7098625Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:27:52.7100715Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:46691/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:27:52.7102632Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:27:52.7103902Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:27:52.7105178Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:27:52.7106442Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:27:52.7107267Z 
2024-03-12T06:27:52.7109401Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_barcode_entry_user_scan_same_barcode_2_times_825.png
2024-03-12T06:27:52.7111420Z 
2024-03-12T06:27:52.7111433Z 
2024-03-12T06:27:52.7113248Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `sleep'
2024-03-12T06:27:52.7116920Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `wait'
2024-03-12T06:27:52.7120215Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `ns_wait'
2024-03-12T06:27:52.7123860Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:44:in `block in ns_wait_until'
2024-03-12T06:27:52.7127628Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `loop'
2024-03-12T06:27:52.7131146Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `ns_wait_until'
2024-03-12T06:27:52.7134501Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:87:in `block in wait'
2024-03-12T06:27:52.7137878Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `block in synchronize'
2024-03-12T06:27:52.7141436Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:27:52.7145193Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:27:52.7148374Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:84:in `wait'
2024-03-12T06:27:52.7151528Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:75:in `wait'
2024-03-12T06:27:52.7154571Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:99:in `value!'
2024-03-12T06:27:52.7157292Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/browser/client.rb:42:in `command'
2024-03-12T06:27:52.7159634Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/page.rb:269:in `command'
2024-03-12T06:27:52.7162041Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:109:in `block in call'
2024-03-12T06:27:52.7164858Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/utils/attempt.rb:10:in `with_retry'
2024-03-12T06:27:52.7167290Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:105:in `call'
2024-03-12T06:27:52.7169715Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:97:in `evaluate_on'
2024-03-12T06:27:52.7171533Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:27:52.7172878Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:27:52.7174929Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/browser.rb:179:in `disabled?'
2024-03-12T06:27:52.7177440Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:21:in `command'
2024-03-12T06:27:52.7179905Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:143:in `disabled?'
2024-03-12T06:27:52.7182529Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `block in disabled?'
2024-03-12T06:27:52.7184626Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/base.rb:77:in `synchronize'
2024-03-12T06:27:52.7186095Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `disabled?'
2024-03-12T06:27:52.7187688Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector.rb:431:in `block (2 levels) in <top (required)>'
2024-03-12T06:27:52.7189390Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:14:in `block in initialize'
2024-03-12T06:27:52.7191069Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `instance_exec'
2024-03-12T06:27:52.7192634Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `apply'
2024-03-12T06:27:52.7194441Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:24:in `matches?'
2024-03-12T06:27:52.7196200Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:296:in `block (2 levels) in matches_node_filters?'
2024-03-12T06:27:52.7198050Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `each'
2024-03-12T06:27:52.7199551Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `all?'
2024-03-12T06:27:52.7201194Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `block in matches_node_filters?'
2024-03-12T06:27:52.7202876Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/selector.rb:89:in `with_filter_errors'
2024-03-12T06:27:52.7204773Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:283:in `matches_node_filters?'
2024-03-12T06:27:52.7206457Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:124:in `matches_filters?'
2024-03-12T06:27:52.7208015Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/result.rb:32:in `block in initialize'
2024-03-12T06:27:52.7209350Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:27:52.7210527Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:27:52.7211700Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:27:52.7212857Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:27:52.7213550Z      # 
2024-03-12T06:27:52.7213889Z      #   Showing full backtrace because every line was filtered out.
2024-03-12T06:27:52.7214484Z      #   See docs for RSpec::Configuration#backtrace_exclusion_patterns and
2024-03-12T06:27:52.7215129Z      #   RSpec::Configuration#backtrace_inclusion_patterns for more information.
2024-03-12T06:27:52.7215533Z 
2024-03-12T06:27:52.7216113Z   3) Purchases while signed in as a normal user When creating a new purchase via barcode entry a user can add items via scanning them in by barcode
2024-03-12T06:27:52.7217277Z      Failure/Error: qty = page.find(:xpath, '//input[@id="purchase_line_items_attributes_0_quantity"]').value
2024-03-12T06:27:52.7217795Z 
2024-03-12T06:27:52.7217906Z      Ferrum::JavaScriptError:
2024-03-12T06:27:52.7218370Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:27:52.7219552Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:46691/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:27:52.7220616Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:27:52.7221351Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:27:52.7222076Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:27:52.7222786Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:27:52.7223245Z 
2024-03-12T06:27:52.7224620Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_barcode_entry_a_user_can_add_items_via_scanning_them_in_by_barcode_64.png
2024-03-12T06:27:52.7225792Z 
2024-03-12T06:27:52.7225797Z 
2024-03-12T06:27:52.7226110Z      # ./spec/system/purchase_system_spec.rb:235:in `block (5 levels) in <top (required)>'
2024-03-12T06:27:52.7226681Z 
2024-03-12T06:27:52.7226926Z Finished in 3 minutes 50.5 seconds (files took 8.32 seconds to load)
2024-03-12T06:27:52.7227392Z 212 examples, 3 failures
2024-03-12T06:27:52.7227578Z 
2024-03-12T06:27:52.7227674Z Failed examples:
2024-03-12T06:27:52.7227832Z 
2024-03-12T06:27:52.7228725Z rspec ./spec/system/purchase_system_spec.rb:167 # Purchases while signed in as a normal user When creating a new purchase via manual entry multiple line items for the same item type are accepted and combined on the backend
2024-03-12T06:27:52.7230409Z rspec ./spec/system/purchase_system_spec.rb:240 # Purchases while signed in as a normal user When creating a new purchase via barcode entry User scan same barcode 2 times
2024-03-12T06:27:52.7231955Z rspec ./spec/system/purchase_system_spec.rb:227 # Purchases while signed in as a normal user When creating a new purchase via barcode entry a user can add items via scanning them in by barcode
2024-03-12T06:27:52.7232852Z 
2024-03-12T06:27:52.7232958Z Randomized with seed 48391
2024-03-12T06:27:52.7233150Z 
2024-03-12T06:27:53.0180156Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:27:53.0182210Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3735 / 6478 LOC (57.66%) covered.
2024-03-12T06:27:53.1390720Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb" failed
2024-03-12T06:27:53.5455088Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:27:53.5457060Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10785 LOC (0.35%) covered.
2024-03-12T06:27:53.5729002Z ##[error]Process completed with exit code 1.
