2024-02-26T18:14:53.9717415Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-02-26T18:14:53.9718287Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-02-26T18:14:53.9746597Z shell: /usr/bin/bash -e {0}
2024-02-26T18:14:53.9747067Z env:
2024-02-26T18:14:53.9747417Z   POSTGRES_HOST: localhost
2024-02-26T18:14:53.9747773Z   DATABASE_HOST: localhost
2024-02-26T18:14:53.9748291Z   PG_USERNAME: postgres
2024-02-26T18:14:53.9748679Z   PG_PASSWORD: password
2024-02-26T18:14:53.9749065Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-02-26T18:14:53.9749543Z   POSTGRES_PORT: 5432
2024-02-26T18:14:53.9749860Z   PGHOST: localhost
2024-02-26T18:14:53.9750196Z   PGUSER: postgres
2024-02-26T18:14:53.9750615Z   RAILS_ENV: test
2024-02-26T18:14:53.9750974Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-02-26T18:14:53.9751426Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-02-26T18:14:53.9751854Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-02-26T18:14:53.9752289Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-02-26T18:14:53.9752932Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-02-26T18:14:53.9753547Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-02-26T18:14:53.9754164Z   EVENTS_READ: true
2024-02-26T18:14:53.9754564Z ##[endgroup]
2024-02-26T18:14:59.5664282Z W, [2024-02-26T18:14:59.566062 #2334]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-02-26T18:14:59.5666786Z W, [2024-02-26T18:14:59.566115 #2334]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-26T18:14:59.5689661Z W, [2024-02-26T18:14:59.566134 #2334]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-26T18:14:59.5692760Z W, [2024-02-26T18:14:59.566156 #2334]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-02-26T18:15:02.8642416Z W, [2024-02-26T18:15:02.863842 #2334]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-02-26T18:15:02.8645090Z W, [2024-02-26T18:15:02.863896 #2334]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-26T18:15:02.8648638Z W, [2024-02-26T18:15:02.863912 #2334]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-26T18:15:02.8652491Z W, [2024-02-26T18:15:02.863967 #2334]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-02-26T18:15:02.8705951Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/partners/children_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-02-26T18:15:11.1313892Z 
2024-02-26T18:15:11.1314818Z Randomized with seed 5415
2024-02-26T18:15:12.0708772Z 
2024-02-26T18:15:12.0709984Z Kit management
2024-02-26T18:15:19.3442722Z   should not display inactive storage locations under allocations
2024-02-26T18:15:20.8999594Z   can allocate and deallocate quantity per storage location from kit index
2024-02-26T18:15:21.8134826Z   can create a new kit as a user with the proper quantity
2024-02-26T18:15:21.8136562Z   when there is not enough quantity of the items contained in the kit on-hand
2024-02-26T18:15:22.9103181Z     will not change quantity amounts when allocating
2024-02-26T18:15:22.9104063Z   when there is no kit quantity
2024-02-26T18:15:24.0788040Z     will not change quantity amounts when deallocating
2024-02-26T18:15:24.0789324Z 
2024-02-26T18:15:24.0789669Z Admin::Organizations
2024-02-26T18:15:24.0791165Z   When logged in as a super admin
2024-02-26T18:15:24.0793058Z     DELETE #destroy
2024-02-26T18:15:24.4725013Z       redirects
2024-02-26T18:15:24.4726058Z     PUT #update
2024-02-26T18:15:24.4933058Z       redirect
2024-02-26T18:15:24.4934894Z     GET #new
2024-02-26T18:15:24.5408293Z       returns http success
2024-02-26T18:15:24.5409395Z       when given a token that matches a account request that has already been processed
2024-02-26T18:15:24.7734154Z         should render new with a flash error message
2024-02-26T18:15:24.7735853Z       when given a valid account request token in the query parameters
2024-02-26T18:15:24.8320514Z         should render new with pre populate input fields from the account_request
2024-02-26T18:15:24.8321801Z     GET #index
2024-02-26T18:15:24.8654732Z       returns http success
2024-02-26T18:15:24.8655562Z     POST #create
2024-02-26T18:15:24.8656455Z       with valid params
2024-02-26T18:15:25.1514347Z         creates an organization and redirects to #index
2024-02-26T18:15:25.1940940Z       with invalid params
2024-02-26T18:15:25.1941967Z         does not create an organization and renders #create with an error message
2024-02-26T18:15:25.1942957Z     DELETE #destroy
2024-02-26T18:15:25.1943727Z       with a valid organization id
2024-02-26T18:15:25.6953915Z         redirects to #index
2024-02-26T18:15:25.6954755Z     PATCH #update
2024-02-26T18:15:25.6955440Z       with an invalid update
2024-02-26T18:15:25.9157249Z         returns http success
2024-02-26T18:15:26.1247552Z         redirects to #edit with an error message
2024-02-26T18:15:26.1248197Z       with a valid update
2024-02-26T18:15:26.3113987Z         redirects to #index
2024-02-26T18:15:26.3114713Z     GET #edit
2024-02-26T18:15:26.5168403Z       returns http success
2024-02-26T18:15:26.5169162Z     GET #show
2024-02-26T18:15:26.7326256Z       returns http success
2024-02-26T18:15:26.7327651Z   When logged in as a non-admin user
2024-02-26T18:15:26.7328420Z     GET #index
2024-02-26T18:15:26.7469562Z       redirects
2024-02-26T18:15:26.7470461Z     GET #new
2024-02-26T18:15:26.7598732Z       redirects
2024-02-26T18:15:26.7599316Z     POST #create
2024-02-26T18:15:26.7740764Z       redirects
2024-02-26T18:15:26.7741375Z     GET #edit
2024-02-26T18:15:26.7858470Z       redirects
2024-02-26T18:15:26.7859281Z     PUT #update
2024-02-26T18:15:26.7979502Z       redirects
2024-02-26T18:15:26.7980635Z 
2024-02-26T18:15:26.7980906Z DonationSites
2024-02-26T18:15:26.7982069Z   while signed in
2024-02-26T18:15:26.7983062Z     GET #index
2024-02-26T18:15:26.7984059Z       csv
2024-02-26T18:15:26.8195891Z         is expected to be successful
2024-02-26T18:15:26.8196718Z       html
2024-02-26T18:15:26.8525502Z         is expected to be successful
2024-02-26T18:15:26.8526587Z 
2024-02-26T18:15:26.8526901Z Organization management
2024-02-26T18:15:26.8528659Z   while signed in as an organization admin
2024-02-26T18:15:27.8656284Z     can re-activate a user in the organization
2024-02-26T18:15:28.3651157Z     can see 'Make user' button for admins
2024-02-26T18:15:29.3600759Z     can add a new user to an organization
2024-02-26T18:15:30.3232128Z     can deactivate a user in the organization
2024-02-26T18:15:30.8089190Z     can re-invite a user to an organization after 7 days
2024-02-26T18:15:30.8090356Z     Editing the organization
2024-02-26T18:15:31.6757444Z       can set a default storage location on the organization
2024-02-26T18:15:32.5372743Z       can set a reminder and a deadline day
2024-02-26T18:15:33.5428471Z       can select if the org distributes essentials monthly
2024-02-26T18:15:34.7194210Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-02-26T18:15:35.5283464Z       can set the NDBN Member ID
2024-02-26T18:15:36.4876848Z       can disable if the org does NOT use single step invite and approve partner process
2024-02-26T18:15:37.4495241Z       can enable if the org uses single step invite and approve partner process
2024-02-26T18:15:38.4231447Z       can select if the org shows year-to-date values on the distribution printout
2024-02-26T18:15:39.4007842Z       can select if the org repackages essentials
2024-02-26T18:15:40.9423470Z       can select and deselect Required Partner Fields
2024-02-26T18:15:40.9424118Z     Viewing the organization
2024-02-26T18:15:41.4934812Z       can view organization details
2024-02-26T18:15:41.4935749Z   while signed in as a normal user
2024-02-26T18:15:41.9523990Z     cannot see 'Make user' button for admins
2024-02-26T18:15:42.4002801Z     can see summary details about the organization as a user
2024-02-26T18:15:42.4003723Z 
2024-02-26T18:15:42.4005512Z /account_requests
2024-02-26T18:15:42.4006088Z   GET #confirm
2024-02-26T18:15:42.4007017Z     when given a token that has already been confirmed
2024-02-26T18:15:42.5894964Z       should render a error that says that is code provided is invalid
2024-02-26T18:15:42.5896001Z     when given a valid token
2024-02-26T18:15:42.6126805Z       should the update confirmed_at on the account_request, queue confirmation email and render confirm template
2024-02-26T18:15:42.6128155Z     when given a invalid token
2024-02-26T18:15:42.6190020Z       should render a error that says that is code provided is invalid
2024-02-26T18:15:42.6191160Z   GET #confirmation
2024-02-26T18:15:42.6191794Z     when given a invalid token
2024-02-26T18:15:42.6249239Z       should render a error that says that is code provided is invalid
2024-02-26T18:15:42.6250578Z     when given a token that has already been confirmed
2024-02-26T18:15:42.8105144Z       should render a error that says that is code provided is invalid
2024-02-26T18:15:42.8105924Z     when given a valid token
2024-02-26T18:15:42.8245550Z       should render the confirmation template
2024-02-26T18:15:42.8246363Z   POST #create
2024-02-26T18:15:42.8247380Z     with valid parameters
2024-02-26T18:15:42.8367138Z       creates a new AccountRequest
2024-02-26T18:15:42.8472005Z       delivers the confirmation email via default queue
2024-02-26T18:15:42.8589324Z       redirects to the created account_request confirmation
2024-02-26T18:15:42.8590272Z     with invalid parameters
2024-02-26T18:15:42.8772338Z       renders a successful response (i.e. to display the 'new' template)
2024-02-26T18:15:42.8938200Z       does not create a new AccountRequest
2024-02-26T18:15:42.8939166Z   GET #new
2024-02-26T18:15:42.9089211Z     renders a successful response
2024-02-26T18:15:42.9090386Z   GET #received
2024-02-26T18:15:42.9091194Z     when given a invalid token
2024-02-26T18:15:42.9154829Z       should render a error that says that is code provided is invalid
2024-02-26T18:15:42.9155542Z     when given a valid token
2024-02-26T18:15:42.9305353Z       should render the received template
2024-02-26T18:15:42.9306538Z 
2024-02-26T18:15:42.9306848Z Purchases
2024-02-26T18:15:42.9308271Z   while signed in as an organization admin
2024-02-26T18:15:43.9417107Z     allows deletion of a purchase
2024-02-26T18:15:43.9418601Z   while signed in as a normal user
2024-02-26T18:15:43.9419616Z     When visiting an existing purchase
2024-02-26T18:15:44.4105092Z       does not allow deletion of a purchase
2024-02-26T18:15:44.4106182Z     When creating a new purchase
2024-02-26T18:15:44.9066757Z       should not display inactive storage locations in dropdown
2024-02-26T18:15:44.9067860Z       Editing purchase
2024-02-26T18:15:45.5322344Z         A user can view another organizations purchase
2024-02-26T18:15:46.0290458Z         A user can see purchased_from value
2024-02-26T18:15:46.0291152Z       via barcode entry
2024-02-26T18:15:46.9566869Z         User scan same barcode 2 times
2024-02-26T18:15:47.6815753Z         a user can add items via scanning them in by barcode
2024-02-26T18:15:48.8910871Z         a user can add items that do not yet have a barcode
2024-02-26T18:15:48.8911868Z       via manual entry
2024-02-26T18:15:49.7995397Z         User can create a purchase using dollars decimal amount
2024-02-26T18:15:50.8160546Z         Does not include inactive items in the line item fields
2024-02-26T18:15:52.0222645Z         User can create a purchase IN THE PAST
2024-02-26T18:15:53.2764176Z         multiple line items for the same item type are accepted and combined on the backend
2024-02-26T18:15:54.3286093Z         User can create vendor from purchase
2024-02-26T18:15:54.3287156Z         when creating a purchase incorrectly
2024-02-26T18:15:55.1393974Z           should display failure with error messages
2024-02-26T18:15:56.1416200Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-02-26T18:15:56.1417304Z     When visiting the index page
2024-02-26T18:15:56.1418166Z       When filtering on the index page
2024-02-26T18:15:57.0193736Z         User can filter the #index by storage location
2024-02-26T18:15:57.8817058Z         User can filter the #index by vendor
2024-02-26T18:15:57.8817931Z         behaves like Date Range Picker
2024-02-26T18:15:57.8819958Z           when choosing 'Last Month'
2024-02-26T18:15:58.8736000Z             shows only 2 of the records
2024-02-26T18:15:58.8737386Z           when choosing a date range that only includes the previous week
2024-02-26T18:15:59.8206897Z             shows only 1 record
2024-02-26T18:15:59.8208080Z           when choosing 'All Time'
2024-02-26T18:16:00.7994199Z             shows all the records
2024-02-26T18:16:00.7995226Z       In the middle of the year
2024-02-26T18:16:01.6606565Z         User sees total purchases value
2024-02-26T18:16:02.5521284Z         User can click to the new purchase form
2024-02-26T18:16:03.3709131Z         User sees purchased date column
2024-02-26T18:16:03.3711151Z 
2024-02-26T18:16:03.3711474Z StorageLocations
2024-02-26T18:16:03.3712790Z   While signed in
2024-02-26T18:16:03.3714700Z     GET #index
2024-02-26T18:16:03.3715618Z       csv
2024-02-26T18:16:03.3950811Z         succeeds
2024-02-26T18:16:03.4970538Z         includes headers followed by alphabetized item names
2024-02-26T18:16:03.4971427Z       html
2024-02-26T18:16:03.5384868Z         succeeds
2024-02-26T18:16:03.5385814Z         with inactive locations
2024-02-26T18:16:03.5793913Z           does not includes the inactive location
2024-02-26T18:16:03.5794861Z           with include_inactive_locations
2024-02-26T18:16:03.6225644Z             includes the inactive location
2024-02-26T18:16:03.6226546Z     GET #edit
2024-02-26T18:16:03.8191413Z       returns http success
2024-02-26T18:16:03.8192458Z     GET #new
2024-02-26T18:16:03.8553510Z       returns http success
2024-02-26T18:16:03.8554884Z     POST #import_csv
2024-02-26T18:16:03.8560360Z       csv file with wrong headers
2024-02-26T18:16:03.8781156Z         redirects
2024-02-26T18:16:03.8944387Z         presents a flash error message
2024-02-26T18:16:03.8945363Z       without a csv file
2024-02-26T18:16:03.9104063Z         redirects to :index
2024-02-26T18:16:03.9244117Z         presents a flash error message
2024-02-26T18:16:03.9245242Z       with a csv file
2024-02-26T18:16:03.9312425Z         invokes .import_csv
2024-02-26T18:16:03.9478076Z         redirects
2024-02-26T18:16:03.9647246Z         presents a flash notice message
2024-02-26T18:16:03.9648223Z     GET #destroy
2024-02-26T18:16:03.9953258Z       redirects to #index
2024-02-26T18:16:03.9954279Z     GET #show
2024-02-26T18:16:03.9954841Z       html
2024-02-26T18:16:04.0816188Z         should return a correct response
2024-02-26T18:16:04.0817368Z         with version date set
2024-02-26T18:16:04.0818041Z           with no version found
2024-02-26T18:16:04.1551279Z             should show N/A
2024-02-26T18:16:04.1552270Z           with a version found
2024-02-26T18:16:04.2561589Z             should show the version specified
2024-02-26T18:16:04.2562351Z       csv
2024-02-26T18:16:04.3099311Z         should be successful
2024-02-26T18:16:04.3100100Z     GET #inventory
2024-02-26T18:16:04.3101152Z       when also including omitted items
2024-02-26T18:16:04.3631584Z         returns a collection that also includes all items, but with zeroed quantities
2024-02-26T18:16:04.4134159Z         contains a collection of ducktyped entries that respond the same
2024-02-26T18:16:04.4135193Z       without any overrides
2024-02-26T18:16:04.4672493Z         returns a collection that only includes items at the storage location
2024-02-26T18:16:04.4673445Z       when also including inactive items
2024-02-26T18:16:04.5332490Z         returns a collection that also includes items that have been deactivated
2024-02-26T18:16:04.5333449Z     PUT #reactivate
2024-02-26T18:16:04.5512184Z       undiscards
2024-02-26T18:16:04.5512867Z     PUT #deactivate
2024-02-26T18:16:04.5711420Z       discards
2024-02-26T18:16:04.5712175Z       with inventory
2024-02-26T18:16:04.6219930Z         does not discard
2024-02-26T18:16:04.6220777Z     Looking at a different organization
2024-02-26T18:16:04.8016688Z       redirects the user to the sign-in page for CRUD actions
2024-02-26T18:16:04.8017686Z   While not signed in
2024-02-26T18:16:04.8083370Z     redirects the user to the sign-in page for CRUD actions
2024-02-26T18:16:04.8084043Z 
2024-02-26T18:16:04.8084367Z Managing requests
2024-02-26T18:16:04.8085910Z   creating a new quantity request
2024-02-26T18:16:04.8087110Z     GIVEN a partner user is permitted to make a request
2024-02-26T18:16:04.8088440Z       WHEN they create a request with only a comment
2024-02-26T18:16:05.7782055Z         should be created without any issue
2024-02-26T18:16:05.7782953Z       Select Input Tests
2024-02-26T18:16:05.7783640Z         WHEN they reach the page
2024-02-26T18:16:06.6334229Z           should show the proper items in the select box
2024-02-26T18:16:06.6335124Z           WHEN they create a request inproperly
2024-02-26T18:16:07.9682268Z             should show the proper items in the select box
2024-02-26T18:16:07.9683557Z       WHEN they create a request properly
2024-02-26T18:16:07.9685266Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-02-26T18:16:10.3372376Z           AND the partner_user can view the details of the created request in a seperate page
2024-02-26T18:16:10.3373770Z       WHEN they create a request inproperly by not inputting anything
2024-02-26T18:16:11.2466596Z         should show an error message with the instructions
2024-02-26T18:16:11.2467455Z   creating a # individuals request
2024-02-26T18:16:11.2468528Z     GIVEN a partner user is permitted to make a request
2024-02-26T18:16:11.2469652Z       WHEN they create a request inproperly
2024-02-26T18:16:12.1448677Z         should show an error message with the instructions
2024-02-26T18:16:12.1449645Z       Select Input Tests
2024-02-26T18:16:12.1450277Z         WHEN they reach the page
2024-02-26T18:16:12.9953332Z           should show the proper items in the select box
2024-02-26T18:16:12.9954037Z           WHEN they create a request inproperly
2024-02-26T18:16:14.3336777Z             should show the proper items in the select box
2024-02-26T18:16:14.3337678Z       WHEN they create a request properly
2024-02-26T18:16:14.3339630Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-02-26T18:16:16.4151350Z           AND the partner_user can view the details of the created individuals request in a seperate page
2024-02-26T18:16:16.4153121Z 
2024-02-26T18:16:16.4153521Z Audits
2024-02-26T18:16:16.4154701Z   while signed in as an organization admin
2024-02-26T18:16:16.4156242Z     POST #create
2024-02-26T18:16:16.4157317Z       with invalid params
2024-02-26T18:16:16.4701099Z         re-renders the 'new' template
2024-02-26T18:16:16.5265675Z         re-renders the 'new' template with an error message when an invalid storage location is given
2024-02-26T18:16:16.5648500Z         assigns a newly created but unsaved audit as @audit
2024-02-26T18:16:16.5649252Z       with valid params
2024-02-26T18:16:16.6031359Z         assigns a newly created audit as @audit
2024-02-26T18:16:16.6388275Z         creates a new Audit
2024-02-26T18:16:16.6760006Z         creates a new Audit with status as `confirmed` if `confirm_audit` is passed as a param
2024-02-26T18:16:16.7123708Z         redirects to the #show after created audit
2024-02-26T18:16:16.7486315Z         creates a new Audit with status as `in_progress` if `save_progress` is passed as a param
2024-02-26T18:16:16.7487359Z     GET #index
2024-02-26T18:16:16.8031730Z       is successful
2024-02-26T18:16:16.8032297Z     POST #finalize
2024-02-26T18:16:16.8701452Z       sets the finalize status and saves an event
2024-02-26T18:16:16.8702536Z     GET #new
2024-02-26T18:16:16.9071571Z       is successful
2024-02-26T18:16:16.9072236Z     GET #edit
2024-02-26T18:16:16.9636536Z       is successful if the status of audit is `in_progress`
2024-02-26T18:16:17.0304491Z       redirects to #index if the status of audit is not `in_progress`
2024-02-26T18:16:17.0305507Z     DELETE #destroy
2024-02-26T18:16:17.0306108Z       with valid params
2024-02-26T18:16:17.0670333Z         destroys the audit if the audit's status is `confirms`
2024-02-26T18:16:17.1041786Z         destroys the audit if the audit's status is `in_progress`
2024-02-26T18:16:17.1379350Z         can not destroy the audit if the audit's status is `finalized`
2024-02-26T18:16:17.1380522Z     GET #show
2024-02-26T18:16:17.1872073Z       is successful
2024-02-26T18:16:17.1872775Z 
2024-02-26T18:16:17.1873054Z Vendor
2024-02-26T18:16:17.1875129Z   When vendor have purchases associated with them already
2024-02-26T18:16:17.7652587Z     can have existing vendors show in the #index with some summary stats
2024-02-26T18:16:18.3601271Z     can have a single vendor show semi-detailed stats about purchases
2024-02-26T18:16:18.3602337Z   When a user views the index page
2024-02-26T18:16:18.8362851Z     should have the vendor names in alphabetical order
2024-02-26T18:16:18.8363763Z   when editing an existing vendor
2024-02-26T18:16:19.6438520Z     can update the contact info for a vendor as a user
2024-02-26T18:16:20.4359983Z     does not update a vendor with empty attributes
2024-02-26T18:16:20.4361104Z   when creating a new vendor
2024-02-26T18:16:21.1758845Z     cannot add a new vendor instance with empty attributes
2024-02-26T18:16:21.9628413Z     can create a new vendor instance as a user
2024-02-26T18:16:21.9628994Z 
2024-02-26T18:16:21.9629237Z User account management
2024-02-26T18:16:21.9630620Z   when not in staging
2024-02-26T18:16:22.8283344Z     should change the email
2024-02-26T18:16:23.5883478Z     should fail when the email is invalid
2024-02-26T18:16:24.4860961Z     should change an user name
2024-02-26T18:16:24.4861560Z   when in staging
2024-02-26T18:16:24.9560754Z     should not allow the user to change staging credentials
2024-02-26T18:16:25.4033578Z     should display staging warning
2024-02-26T18:16:25.4034680Z 
2024-02-26T18:16:25.4035077Z Profiles
2024-02-26T18:16:25.4036474Z   GET #edit
2024-02-26T18:16:25.5111876Z     returns http success
2024-02-26T18:16:25.5113008Z   POST #update
2024-02-26T18:16:25.5113590Z     successful save
2024-02-26T18:16:25.5583800Z       update partner
2024-02-26T18:16:25.6003858Z       redirects to #show
2024-02-26T18:16:25.6004738Z     when updating an existing value to a blank value
2024-02-26T18:16:25.6456381Z       update partner
2024-02-26T18:16:25.6890121Z       should have blank values
2024-02-26T18:16:25.6891060Z 
2024-02-26T18:16:25.6891377Z /partners/profiles
2024-02-26T18:16:25.6892494Z   GET #edit
2024-02-26T18:16:25.8499567Z     does not have default radio button value when value is nil
2024-02-26T18:16:26.0419807Z     has "Yes" radio button value when value is true
2024-02-26T18:16:26.1317228Z     has "No" radio button value when value is false
2024-02-26T18:16:26.2170456Z     displays the partner
2024-02-26T18:16:26.2171428Z   PUT #update
2024-02-26T18:16:26.2738488Z     updates the partner and profile
2024-02-26T18:16:26.2739591Z     with no social media
2024-02-26T18:16:26.3666889Z       shows an error
2024-02-26T18:16:26.3667763Z     when updating an existing value to a blank value
2024-02-26T18:16:26.4175566Z       updates the partner profile attribute to a blank value
2024-02-26T18:16:26.4720642Z       does store N/A in the database
2024-02-26T18:16:26.5263464Z       does not update other partner profile attributes to blank
2024-02-26T18:16:26.5264663Z   GET #show
2024-02-26T18:16:26.5843632Z     shows correct values for yes/no buttons
2024-02-26T18:16:26.6332440Z     displays the partner
2024-02-26T18:16:26.6333222Z 
2024-02-26T18:16:26.6333487Z /partners/children
2024-02-26T18:16:26.6334433Z   GET #index
2024-02-26T18:16:26.7181454Z     should render without any issues
2024-02-26T18:16:26.7661704Z     should export CSV
2024-02-26T18:16:26.7664483Z 
2024-02-26T18:16:26.7664759Z Dashboard
2024-02-26T18:16:26.7666290Z   With an existing essentials bank
2024-02-26T18:16:26.7667759Z     Purchases
2024-02-26T18:16:27.6426655Z       has a link to create a new purchase
2024-02-26T18:16:27.6428248Z       given 1 Purchase on 2024-02-25  (unless 'All Time'), 4 during 2024-02-26..2024-02-26, and 1 on 2024-02-27
2024-02-26T18:16:27.6429457Z         filtering to 'Today'
2024-02-26T18:16:29.1271734Z           shows correct 3 Recent Purchase link(s)
2024-02-26T18:16:29.1273094Z       given 1 Purchase on 2024-01-27  (unless 'All Time'), 4 during 2024-01-28..2024-02-26, and 1 on 2024-02-27
2024-02-26T18:16:29.1273924Z         filtering to 'Last 30 Days'
2024-02-26T18:16:30.7615884Z           shows correct 3 Recent Purchase link(s)
2024-02-26T18:16:30.7617590Z       given 1 Purchase on 2024-02-19  (unless 'All Time'), 0 during 2024-02-20..2024-02-26, and 1 on 2024-02-27
2024-02-26T18:16:30.7619305Z         filtering to 'Last 7 Days'
2024-02-26T18:16:34.0898243Z           shows correct 0 Recent Purchase link(s)
2024-02-26T18:16:34.0900279Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-26T18:16:34.0901560Z         filtering to 'This Month'
2024-02-26T18:16:35.6226329Z           shows correct 3 Recent Purchase link(s)
2024-02-26T18:16:35.6227922Z       given 1 Purchase on 2024-02-24  (unless 'All Time'), 4 during 2024-02-25..2024-02-25, and 1 on 2024-02-26
2024-02-26T18:16:35.6229038Z         filtering to 'Yesterday'
2024-02-26T18:16:37.1377948Z           shows correct 3 Recent Purchase link(s)
2024-02-26T18:16:37.1379951Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-26T18:16:37.1381415Z         filtering to 'This Year'
2024-02-26T18:16:38.5960825Z           shows correct 3 Recent Purchase link(s)
2024-02-26T18:16:38.5962925Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 4 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-26T18:16:38.5963703Z         filtering to 'Last Month'
2024-02-26T18:16:40.1215872Z           shows correct 3 Recent Purchase link(s)
2024-02-26T18:16:40.1217539Z       given 1 Purchase on 2022-02-25  (unless 'All Time'), 0 during 2022-02-26..2023-12-27, and 1 on 2023-12-28
2024-02-26T18:16:40.1218515Z         filtering to '' (February 26, 2022 - December 27, 2023)
2024-02-26T18:16:43.5655436Z           shows correct 0 Recent Purchase link(s)
2024-02-26T18:16:43.5656275Z     Donations
2024-02-26T18:16:44.4732678Z       has a link to create a new donation
2024-02-26T18:16:44.4734354Z       given 1 Donation on 2023-12-31 (only if a valid date), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-26T18:16:44.4735740Z         filtering to 'This Year'
2024-02-26T18:16:45.8667728Z           shows the correct total and 2 Recent Donation link(s)
2024-02-26T18:16:45.8669712Z       given 1 Donation on 2023-12-31 (only if a valid date), 2 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-26T18:16:45.8670936Z         filtering to 'Last Month'
2024-02-26T18:16:47.2942446Z           shows the correct total and 2 Recent Donation link(s)
2024-02-26T18:16:47.2944359Z       given 1 Donation on 2022-02-25 (only if a valid date), 2 during 2022-02-26..2024-01-31, and 1 on 2024-02-01
2024-02-26T18:16:47.2945551Z         filtering to '' (February 26, 2022 - January 31, 2024)
2024-02-26T18:16:48.7325118Z           shows the correct total and 2 Recent Donation link(s)
2024-02-26T18:16:48.7326907Z       given 1 Donation on 2024-02-24 (only if a valid date), 3 during 2024-02-25..2024-02-25, and 1 on 2024-02-26
2024-02-26T18:16:48.7328347Z         filtering to 'Yesterday'
2024-02-26T18:16:50.2144647Z           shows the correct total and 3 Recent Donation link(s)
2024-02-26T18:16:50.2146589Z       given 1 Donation on 2024-01-27 (only if a valid date), 3 during 2024-01-28..2024-02-26, and 1 on 2024-02-27
2024-02-26T18:16:50.2147553Z         filtering to 'Last 30 Days'
2024-02-26T18:16:51.6567678Z           shows the correct total and 3 Recent Donation link(s)
2024-02-26T18:16:51.6569489Z       given 1 Donation on 2024-01-31 (only if a valid date), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-26T18:16:51.6570782Z         filtering to 'This Month'
2024-02-26T18:16:55.0062793Z           shows the correct total and 0 Recent Donation link(s)
2024-02-26T18:16:55.0064600Z       given 1 Donation on 2024-02-25 (only if a valid date), 2 during 2024-02-26..2024-02-26, and 1 on 2024-02-27
2024-02-26T18:16:55.0066072Z         filtering to 'Today'
2024-02-26T18:16:56.4228053Z           shows the correct total and 2 Recent Donation link(s)
2024-02-26T18:16:56.4229970Z       given 1 Donation on 2024-02-19 (only if a valid date), 1 during 2024-02-20..2024-02-26, and 1 on 2024-02-27
2024-02-26T18:16:56.4231229Z         filtering to 'Last 7 Days'
2024-02-26T18:16:57.7918767Z           shows the correct total and 1 Recent Donation link(s)
2024-02-26T18:16:57.7924296Z     Distributions
2024-02-26T18:16:58.6915735Z       has a link to create a new distribution
2024-02-26T18:16:58.6917631Z       given 1 Distribution on 2024-02-24  (unless 'All Time'), 0 during 2024-02-25..2024-02-25, and 1 on 2024-02-26
2024-02-26T18:16:58.6918878Z         filtering to 'Yesterday'
2024-02-26T18:17:02.0894764Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-26T18:17:02.0896560Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-26T18:17:02.0897432Z         filtering to 'This Year'
2024-02-26T18:17:03.5022390Z           shows the correct total and 2 Recent Distribution link(s)
2024-02-26T18:17:03.5024262Z       given 1 Distribution on 2024-01-27  (unless 'All Time'), 2 during 2024-01-28..2024-02-26, and 1 on 2024-02-27
2024-02-26T18:17:03.5025059Z         filtering to 'Last 30 Days'
2024-02-26T18:17:04.9581553Z           shows the correct total and 2 Recent Distribution link(s)
2024-02-26T18:17:04.9583464Z       given 1 Distribution on 2022-02-25  (unless 'All Time'), 0 during 2022-02-26..2023-10-13, and 1 on 2023-10-14
2024-02-26T18:17:04.9584919Z         filtering to '' (February 26, 2022 - October 13, 2023)
2024-02-26T18:17:08.3219945Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-26T18:17:08.3221635Z       given 1 Distribution on 2024-02-19  (unless 'All Time'), 3 during 2024-02-20..2024-02-26, and 1 on 2024-02-27
2024-02-26T18:17:08.3223037Z         filtering to 'Last 7 Days'
2024-02-26T18:17:09.7432855Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-26T18:17:09.7434658Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-26T18:17:09.7436070Z         filtering to 'This Month'
2024-02-26T18:17:13.1330962Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-26T18:17:13.1333051Z       given 1 Distribution on 2024-02-25  (unless 'All Time'), 1 during 2024-02-26..2024-02-26, and 1 on 2024-02-27
2024-02-26T18:17:13.1334349Z         filtering to 'Today'
2024-02-26T18:17:14.5372875Z           shows the correct total and 1 Recent Distribution link(s)
2024-02-26T18:17:14.5375512Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 0 during 2000-01-01..2024-02-26, and 1 on 2024-02-27
2024-02-26T18:17:14.5377443Z         filtering to 'All Time'
2024-02-26T18:17:17.8940126Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-26T18:17:17.8941855Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 3 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-26T18:17:17.8943265Z         filtering to 'Last Month'
2024-02-26T18:17:19.2747413Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-26T18:17:19.2748585Z     Signage
2024-02-26T18:17:22.1397192Z       shows their organization name unless they have a logo set
2024-02-26T18:17:22.1398032Z     Manufacturer Donations
2024-02-26T18:17:22.7136076Z       has a link to create a new donation
2024-02-26T18:17:22.7137564Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-26T18:17:22.7138600Z         filtering to 'This Year'
2024-02-26T18:17:24.2708464Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-02-26T18:17:24.2710615Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 7 during 2000-01-01..2024-02-26, and 1 on 2024-02-27
2024-02-26T18:17:24.2712258Z         filtering to 'All Time'
2024-02-26T18:17:26.2645167Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-02-26T18:17:26.2647145Z       given 1 Manufacturer donating on 2024-02-19  (unless 'All Time'), 8 during 2024-02-20..2024-02-26, and 1 on 2024-02-27
2024-02-26T18:17:26.2648084Z         filtering to 'Last 7 Days'
2024-02-26T18:17:28.6565524Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-26T18:17:28.6567466Z       given 1 Manufacturer donating on 2024-02-24  (unless 'All Time'), 6 during 2024-02-25..2024-02-25, and 1 on 2024-02-26
2024-02-26T18:17:28.6568578Z         filtering to 'Yesterday'
2024-02-26T18:17:30.6210338Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-02-26T18:17:30.6212527Z       given 1 Manufacturer donating on 2024-01-27  (unless 'All Time'), 1 during 2024-01-28..2024-02-26, and 1 on 2024-02-27
2024-02-26T18:17:30.6214031Z         filtering to 'Last 30 Days'
2024-02-26T18:17:32.1370912Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-02-26T18:17:32.1372579Z       given 1 Manufacturer donating on 2022-02-25  (unless 'All Time'), 5 during 2022-02-26..2023-10-11, and 1 on 2023-10-12
2024-02-26T18:17:32.1373503Z         filtering to '' (February 26, 2022 - October 11, 2023)
2024-02-26T18:17:34.0364865Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-02-26T18:17:34.0366802Z       given 1 Manufacturer donating on 2024-02-25  (unless 'All Time'), 6 during 2024-02-26..2024-02-26, and 1 on 2024-02-27
2024-02-26T18:17:34.0367629Z         filtering to 'Today'
2024-02-26T18:17:36.0565584Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-02-26T18:17:36.0567524Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-26T18:17:36.0569375Z         filtering to 'This Month'
2024-02-26T18:17:37.4191469Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-02-26T18:17:37.4193246Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 4 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-26T18:17:37.4194369Z         filtering to 'Last Month'
2024-02-26T18:17:39.1594953Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-02-26T18:17:39.1596200Z     Inventory Totals
2024-02-26T18:17:39.1597034Z       Summary
2024-02-26T18:17:39.8705359Z         displays the on-hand totals
2024-02-26T18:17:39.8706211Z         when constrained to date range
2024-02-26T18:17:40.8966548Z           does not change
2024-02-26T18:17:40.8967464Z     Product Drives
2024-02-26T18:17:41.4985285Z       has a widget for product drive summary data
2024-02-26T18:17:41.4987167Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 1 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-26T18:17:41.4988645Z         filtering to 'Last Month'
2024-02-26T18:17:42.9475779Z           shows 1 Recent Donation link(s)
2024-02-26T18:17:44.3473994Z           shows the correct total money raised
2024-02-26T18:17:45.7654107Z           shows the correct total donations
2024-02-26T18:17:45.7656123Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-26T18:17:45.7657506Z         filtering to 'This Year'
2024-02-26T18:17:47.0834373Z           shows the correct total donations
2024-02-26T18:17:48.4175619Z           shows the correct total money raised
2024-02-26T18:17:51.7531978Z           shows 0 Recent Donation link(s)
2024-02-26T18:17:51.7533284Z       given 1 Product Drive Donation on 2024-02-25 (unless 'All Time'), 2 during 2024-02-26..2024-02-26, and 1 on 2024-02-27
2024-02-26T18:17:51.7534240Z         filtering to 'Today'
2024-02-26T18:17:53.2016937Z           shows 2 Recent Donation link(s)
2024-02-26T18:17:54.6249704Z           shows the correct total money raised
2024-02-26T18:17:56.0962001Z           shows the correct total donations
2024-02-26T18:17:56.0963618Z       given 1 Product Drive Donation on 2022-02-25 (unless 'All Time'), 3 during 2022-02-26..2023-09-14, and 1 on 2023-09-15
2024-02-26T18:17:56.0964981Z         filtering to '' (February 26, 2022 - September 14, 2023)
2024-02-26T18:17:57.5899419Z           shows the correct total donations
2024-02-26T18:17:59.0528549Z           shows 3 Recent Donation link(s)
2024-02-26T18:18:00.6970235Z           shows the correct total money raised
2024-02-26T18:18:00.6971923Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-26T18:18:00.6973287Z         filtering to 'This Month'
2024-02-26T18:18:02.0328541Z           shows the correct total money raised
2024-02-26T18:18:05.3839943Z           shows 0 Recent Donation link(s)
2024-02-26T18:18:06.7327112Z           shows the correct total donations
2024-02-26T18:18:06.7329024Z       given 1 Product Drive Donation on 2024-02-24 (unless 'All Time'), 1 during 2024-02-25..2024-02-25, and 1 on 2024-02-26
2024-02-26T18:18:06.7330306Z         filtering to 'Yesterday'
2024-02-26T18:18:08.1047230Z           shows the correct total donations
2024-02-26T18:18:09.4782417Z           shows 1 Recent Donation link(s)
2024-02-26T18:18:10.8438784Z           shows the correct total money raised
2024-02-26T18:18:10.8441183Z       given 1 Product Drive Donation on 2024-01-27 (unless 'All Time'), 2 during 2024-01-28..2024-02-26, and 1 on 2024-02-27
2024-02-26T18:18:10.8442722Z         filtering to 'Last 30 Days'
2024-02-26T18:18:12.2775169Z           shows the correct total donations
2024-02-26T18:18:13.7118566Z           shows the correct total money raised
2024-02-26T18:18:15.1468226Z           shows 2 Recent Donation link(s)
2024-02-26T18:18:15.1469703Z       given 1 Product Drive Donation on 2024-02-19 (unless 'All Time'), 2 during 2024-02-20..2024-02-26, and 1 on 2024-02-27
2024-02-26T18:18:15.1471747Z         filtering to 'Last 7 Days'
2024-02-26T18:18:16.5885950Z           shows the correct total money raised
2024-02-26T18:18:18.0290930Z           shows the correct total donations
2024-02-26T18:18:19.4718204Z           shows 2 Recent Donation link(s)
2024-02-26T18:18:19.4719018Z       Product drive behaviour with Mixed Donation types
2024-02-26T18:18:20.1722616Z         only shows product drive donations as product drive donations
2024-02-26T18:18:20.8653722Z         only counts product drive money raised
2024-02-26T18:18:21.5885565Z         only counts product drive donations for product drive
2024-02-26T18:18:21.5886365Z   With a new essentials bank
2024-02-26T18:18:49.5405284Z     displays the getting started guide until the steps are completed
2024-02-26T18:18:49.5407528Z 
2024-02-26T18:18:49.5408165Z Admin Organization Management
2024-02-26T18:18:49.5408850Z   While signed in as an Administrative User (super admin)
2024-02-26T18:18:50.6109960Z     filters by organizations by name in organizations index page
2024-02-26T18:18:52.4957010Z     creates a new organization
2024-02-26T18:18:53.7707970Z     can view organization details
2024-02-26T18:18:53.7708926Z   While signed in as an Administrative User with no organization (super admin no org)
2024-02-26T18:18:55.6719793Z     creates a new organization
2024-02-26T18:18:55.7121385Z W, [2024-02-26T10:18:55.711908 #2370]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-02-26T18:18:55.7123079Z W, [2024-02-26T10:18:55.711958 #2370]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-26T18:18:55.7125041Z W, [2024-02-26T10:18:55.711974 #2370]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-26T18:18:55.7127296Z W, [2024-02-26T10:18:55.712008 #2370]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-02-26T18:18:55.7130049Z 
2024-02-26T18:18:55.7130812Z Finished in 3 minutes 44.6 seconds (files took 8.04 seconds to load)
2024-02-26T18:18:55.7131760Z 239 examples, 0 failures
2024-02-26T18:18:55.7132113Z 
2024-02-26T18:18:55.7132328Z Randomized with seed 5415
2024-02-26T18:18:55.7132693Z 
2024-02-26T18:18:56.0165442Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3814 / 6413 LOC (59.47%) covered.
2024-02-26T18:18:56.5337437Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10662 LOC (0.36%) covered.
