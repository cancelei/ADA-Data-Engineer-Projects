2024-03-12T06:41:46.8271717Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-12T06:41:46.8272577Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-12T06:41:46.8323111Z shell: /usr/bin/bash -e {0}
2024-03-12T06:41:46.8323511Z env:
2024-03-12T06:41:46.8323826Z   POSTGRES_HOST: localhost
2024-03-12T06:41:46.8324294Z   DATABASE_HOST: localhost
2024-03-12T06:41:46.8324638Z   PG_USERNAME: postgres
2024-03-12T06:41:46.8325224Z   PG_PASSWORD: password
2024-03-12T06:41:46.8325675Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-12T06:41:46.8326081Z   POSTGRES_PORT: 5432
2024-03-12T06:41:46.8326447Z   PGHOST: localhost
2024-03-12T06:41:46.8326807Z   PGUSER: postgres
2024-03-12T06:41:46.8327144Z   RAILS_ENV: test
2024-03-12T06:41:46.8327516Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-12T06:41:46.8328232Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-12T06:41:46.8328659Z   KNAPSACK_PRO_CI_NODE_INDEX: 2
2024-03-12T06:41:46.8329061Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-12T06:41:46.8329731Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-12T06:41:46.8330338Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-12T06:41:46.8331065Z   EVENTS_READ: true
2024-03-12T06:41:46.8331381Z ##[endgroup]
2024-03-12T06:41:52.5948340Z W, [2024-03-12T06:41:52.594491 #2415]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-12T06:41:52.5949729Z W, [2024-03-12T06:41:52.594559 #2415]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:41:52.5951485Z W, [2024-03-12T06:41:52.594584 #2415]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:41:52.5954484Z W, [2024-03-12T06:41:52.594618 #2415]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-12T06:41:55.1857261Z W, [2024-03-12T06:41:55.185381 #2415]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-12T06:41:55.1858518Z W, [2024-03-12T06:41:55.185425 #2415]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:41:55.1860060Z W, [2024-03-12T06:41:55.185446 #2415]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:41:55.1862310Z W, [2024-03-12T06:41:55.185493 #2415]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-12T06:41:55.1916178Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-03-12T06:42:03.6993700Z 
2024-03-12T06:42:03.6994837Z Randomized with seed 47996
2024-03-12T06:42:04.6533742Z 
2024-03-12T06:42:04.6534522Z /partners/dashboard
2024-03-12T06:42:04.8470045Z   displays upcoming distributions
2024-03-12T06:42:04.8471280Z   GET #index
2024-03-12T06:42:04.9260058Z     displays requests that are pending
2024-03-12T06:42:04.9937216Z     does not display requests in other states
2024-03-12T06:42:04.9937847Z   with both roles
2024-03-12T06:42:05.0542315Z     should include the switch link
2024-03-12T06:42:05.0543267Z   with just partner role
2024-03-12T06:42:05.1073860Z     should not display the switch link
2024-03-12T06:42:05.1074919Z   BroadcastAnnouncement card
2024-03-12T06:42:05.1679267Z     displays announcements if there are valid ones
2024-03-12T06:42:05.2206574Z     doesn't display announcements if there are not valid ones
2024-03-12T06:42:05.2717738Z     doesn't display announcements from super admins
2024-03-12T06:42:05.2718442Z 
2024-03-12T06:42:05.2718636Z Vendor
2024-03-12T06:42:05.2720685Z   When a user views the index page
2024-03-12T06:42:06.5740807Z     should have the vendor names in alphabetical order
2024-03-12T06:42:06.5741770Z   when creating a new vendor
2024-03-12T06:42:07.3217798Z     cannot add a new vendor instance with empty attributes
2024-03-12T06:42:08.0944722Z     can create a new vendor instance as a user
2024-03-12T06:42:08.0945532Z   when editing an existing vendor
2024-03-12T06:42:08.8552974Z     does not update a vendor with empty attributes
2024-03-12T06:42:09.6362017Z     can update the contact info for a vendor as a user
2024-03-12T06:42:09.6362863Z   When vendor have purchases associated with them already
2024-03-12T06:42:10.2554950Z     can have existing vendors show in the #index with some summary stats
2024-03-12T06:42:10.8473100Z     can have a single vendor show semi-detailed stats about purchases
2024-03-12T06:42:10.8473873Z 
2024-03-12T06:42:10.8474011Z Managing requests
2024-03-12T06:42:10.8475362Z   creating a # individuals request
2024-03-12T06:42:10.8476361Z     GIVEN a partner user is permitted to make a request
2024-03-12T06:42:10.8477256Z       WHEN a request is built using add and remove buttons
2024-03-12T06:42:10.8478205Z         THEN a request records will be created
2024-03-12T06:42:12.8112496Z           creates the correct request
2024-03-12T06:42:12.8113746Z   creating a new quantity request
2024-03-12T06:42:12.8115187Z     GIVEN a partner user is permitted to make a request
2024-03-12T06:42:12.8116369Z       WHEN a request is built using add and remove buttons
2024-03-12T06:42:12.8117385Z         THEN a request records will be created
2024-03-12T06:42:14.7317840Z           creates the correct request
2024-03-12T06:42:14.7319718Z 
2024-03-12T06:42:14.7320196Z Purchases
2024-03-12T06:42:14.7321391Z   while signed in as an organization admin
2024-03-12T06:42:15.5985702Z     allows deletion of a purchase
2024-03-12T06:42:15.5986503Z   while signed in as a normal user
2024-03-12T06:42:15.5987209Z     When visiting an existing purchase
2024-03-12T06:42:16.0555741Z       does not allow deletion of a purchase
2024-03-12T06:42:16.0556667Z     When creating a new purchase
2024-03-12T06:42:16.5535785Z       should not display inactive storage locations in dropdown
2024-03-12T06:42:16.5536467Z       via barcode entry
2024-03-12T06:42:17.7752815Z         a user can add items that do not yet have a barcode
2024-03-12T06:42:18.6400107Z         a user can add items via scanning them in by barcode (FAILED - 1)
2024-03-12T06:42:18.6401818Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_a-user-can-add-items-via-scanning-them-in-by-barcode_2024-03-11-23-42-18.504.html[0m
2024-03-12T06:42:18.6404474Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_a-user-can-add-items-via-scanning-them-in-by-barcode_2024-03-11-23-42-18.504.png[0m
2024-03-12T06:42:19.4874931Z         User scan same barcode 2 times (FAILED - 2)
2024-03-12T06:42:19.4876735Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-scan-same-barcode-2-times_2024-03-11-23-42-19.352.html[0m
2024-03-12T06:42:19.4878659Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-scan-same-barcode-2-times_2024-03-11-23-42-19.352.png[0m
2024-03-12T06:42:19.4880221Z       via manual entry
2024-03-12T06:42:20.3739848Z         User can create a purchase using dollars decimal amount
2024-03-12T06:42:21.4428333Z         User can create a purchase IN THE PAST
2024-03-12T06:42:24.1199613Z         multiple line items for the same item type are accepted and combined on the backend (FAILED - 3)
2024-03-12T06:42:24.1203371Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_multiple-line-items-for-the-same-item-type-are-accepted-and-combined-on-the-backend_2024-03-11-23-42-23.986.html[0m
2024-03-12T06:42:24.1207252Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_multiple-line-items-for-the-same-item-type-are-accepted-and-combined-on-the-backend_2024-03-11-23-42-23.986.png[0m
2024-03-12T06:42:25.1283791Z         Does not include inactive items in the line item fields
2024-03-12T06:42:26.1761536Z         User can create vendor from purchase
2024-03-12T06:42:26.1762524Z         when creating a purchase incorrectly
2024-03-12T06:42:27.1745584Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-03-12T06:42:27.9756558Z           should display failure with error messages
2024-03-12T06:42:27.9757573Z       Editing purchase
2024-03-12T06:42:28.6103458Z         A user can view another organizations purchase
2024-03-12T06:42:29.1270204Z         A user can see purchased_from value
2024-03-12T06:42:29.1271048Z     When visiting the index page
2024-03-12T06:42:29.1272205Z       In the middle of the year
2024-03-12T06:42:29.9248712Z         User can click to the new purchase form
2024-03-12T06:42:30.6728659Z         User sees purchased date column
2024-03-12T06:42:31.4802744Z         User sees total purchases value
2024-03-12T06:42:31.4803926Z       When filtering on the index page
2024-03-12T06:42:32.3065468Z         User can filter the #index by vendor
2024-03-12T06:42:33.1364122Z         User can filter the #index by storage location
2024-03-12T06:42:33.1364756Z         behaves like Date Range Picker
2024-03-12T06:42:33.1365726Z           when choosing 'All Time'
2024-03-12T06:42:34.0690342Z             shows all the records
2024-03-12T06:42:34.0691064Z           when choosing a date range that only includes the previous week
2024-03-12T06:42:35.0232435Z             shows only 1 record
2024-03-12T06:42:35.0233750Z           when choosing 'Last Month'
2024-03-12T06:42:35.9865278Z             shows only 2 of the records
2024-03-12T06:42:35.9867314Z 
2024-03-12T06:42:35.9867695Z Admin::AccountRequestsController
2024-03-12T06:42:35.9868856Z   while signed in as a super admin
2024-03-12T06:42:35.9869854Z     GET #index
2024-03-12T06:42:36.0326513Z       returns success
2024-03-12T06:42:36.0327266Z     POST #reject
2024-03-12T06:42:36.0593537Z       should redirect back on success
2024-03-12T06:42:36.0594539Z     GET #for_rejection
2024-03-12T06:42:36.0595200Z       with a valid token
2024-03-12T06:42:36.1148717Z         should show the request
2024-03-12T06:42:36.1149445Z       with an invalid token
2024-03-12T06:42:36.1462641Z         should show a not found message
2024-03-12T06:42:36.1463564Z 
2024-03-12T06:42:36.1464075Z /partners/profiles
2024-03-12T06:42:36.1465358Z   GET #edit
2024-03-12T06:42:36.2547417Z     has "No" radio button value when value is false
2024-03-12T06:42:36.3444314Z     has "Yes" radio button value when value is true
2024-03-12T06:42:36.4284198Z     displays the partner
2024-03-12T06:42:36.5148354Z     does not have default radio button value when value is nil
2024-03-12T06:42:36.5149519Z   GET #show
2024-03-12T06:42:36.5730221Z     displays the partner
2024-03-12T06:42:36.6280993Z     shows correct values for yes/no buttons
2024-03-12T06:42:36.6281860Z   PUT #update
2024-03-12T06:42:36.6853580Z     updates the partner and profile
2024-03-12T06:42:36.6854617Z     when updating an existing value to a blank value
2024-03-12T06:42:36.7417386Z       does store N/A in the database
2024-03-12T06:42:36.7938965Z       updates the partner profile attribute to a blank value
2024-03-12T06:42:36.8443024Z       does not update other partner profile attributes to blank
2024-03-12T06:42:36.8443706Z     with no social media
2024-03-12T06:42:36.9310080Z       shows an error
2024-03-12T06:42:36.9310745Z 
2024-03-12T06:42:36.9310939Z Events
2024-03-12T06:42:36.9312117Z   When not signed in
2024-03-12T06:42:36.9569618Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:42:36.9571113Z   When signed in
2024-03-12T06:42:36.9572186Z     GET #index
2024-03-12T06:42:37.5394664Z       should be successful
2024-03-12T06:42:37.5395813Z       with storage location filter
2024-03-12T06:42:38.0884768Z         should not include the other storage location
2024-03-12T06:42:38.0886147Z       with date filter
2024-03-12T06:42:38.6207568Z         should not include the old donation
2024-03-12T06:42:38.6209172Z       with eventable_id
2024-03-12T06:42:39.3555403Z         should only show events from that eventable
2024-03-12T06:42:39.3556393Z       with type filter
2024-03-12T06:42:39.8981262Z         should not include the adjustment
2024-03-12T06:42:39.8982104Z       with item filter
2024-03-12T06:42:40.4529270Z         should not include the other item
2024-03-12T06:42:40.4530080Z 
2024-03-12T06:42:40.4530568Z Admin Organization Management
2024-03-12T06:42:40.4532330Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-12T06:42:42.5709118Z     creates a new organization
2024-03-12T06:42:42.5710233Z   While signed in as an Administrative User (super admin)
2024-03-12T06:42:43.6562642Z     filters by organizations by name in organizations index page
2024-03-12T06:42:44.9491777Z     can view organization details
2024-03-12T06:42:46.8374264Z     creates a new organization
2024-03-12T06:42:46.8375697Z 
2024-03-12T06:42:46.8376063Z StorageLocations
2024-03-12T06:42:46.8377530Z   While signed in
2024-03-12T06:42:46.8379604Z     Looking at a different organization
2024-03-12T06:42:47.0180891Z       redirects the user to the sign-in page for CRUD actions
2024-03-12T06:42:47.0181840Z     GET #edit
2024-03-12T06:42:47.4172345Z       returns http success
2024-03-12T06:42:47.4173248Z     GET #inventory
2024-03-12T06:42:47.4174192Z       when also including omitted items
2024-03-12T06:42:47.4712363Z         returns a collection that also includes all items, but with zeroed quantities
2024-03-12T06:42:47.5263466Z         contains a collection of ducktyped entries that respond the same
2024-03-12T06:42:47.5264964Z       when also including inactive items
2024-03-12T06:42:47.5940069Z         returns a collection that also includes items that have been deactivated
2024-03-12T06:42:47.5941473Z       without any overrides
2024-03-12T06:42:47.6467550Z         returns a collection that only includes items at the storage location
2024-03-12T06:42:47.6468693Z     PUT #deactivate
2024-03-12T06:42:47.6676851Z       discards
2024-03-12T06:42:47.6677390Z       with inventory
2024-03-12T06:42:47.7267506Z         does not discard
2024-03-12T06:42:47.7268088Z     PUT #reactivate
2024-03-12T06:42:47.7459079Z       undiscards
2024-03-12T06:42:47.7459977Z     GET #show
2024-03-12T06:42:47.7460550Z       html
2024-03-12T06:42:47.8197475Z         should return a correct response
2024-03-12T06:42:47.8198649Z         with version date set
2024-03-12T06:42:47.8199358Z           with no version found
2024-03-12T06:42:47.8933619Z             should show N/A
2024-03-12T06:42:47.8935104Z           with a version found
2024-03-12T06:42:47.9768512Z             should show the version specified
2024-03-12T06:42:47.9769333Z       csv
2024-03-12T06:42:48.0316260Z         should be successful
2024-03-12T06:42:48.0317052Z     GET #destroy
2024-03-12T06:42:48.0618057Z       redirects to #index
2024-03-12T06:42:48.0619020Z     GET #new
2024-03-12T06:42:48.0958700Z       returns http success
2024-03-12T06:42:48.0960248Z     GET #index
2024-03-12T06:42:48.0960971Z       csv
2024-03-12T06:42:48.1155119Z         succeeds
2024-03-12T06:42:48.2153094Z         includes headers followed by alphabetized item names
2024-03-12T06:42:48.2153794Z       html
2024-03-12T06:42:48.2535461Z         succeeds
2024-03-12T06:42:48.2536144Z         with inactive locations
2024-03-12T06:42:48.2946297Z           does not includes the inactive location
2024-03-12T06:42:48.2947415Z           with include_inactive_locations
2024-03-12T06:42:48.3341827Z             includes the inactive location
2024-03-12T06:42:48.3342628Z     POST #import_csv
2024-03-12T06:42:48.3343818Z       csv file with wrong headers
2024-03-12T06:42:48.3491287Z         presents a flash error message
2024-03-12T06:42:48.3634183Z         redirects
2024-03-12T06:42:48.3635143Z       with a csv file
2024-03-12T06:42:48.3807427Z         redirects
2024-03-12T06:42:48.3866338Z         invokes .import_csv
2024-03-12T06:42:48.4042551Z         presents a flash notice message
2024-03-12T06:42:48.4043377Z       without a csv file
2024-03-12T06:42:48.4172093Z         presents a flash error message
2024-03-12T06:42:48.4298001Z         redirects to :index
2024-03-12T06:42:48.4298928Z   While not signed in
2024-03-12T06:42:48.4365261Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:42:48.4365902Z 
2024-03-12T06:42:48.4366127Z BroadcastAnnouncements
2024-03-12T06:42:48.4367603Z   GET /edit
2024-03-12T06:42:48.4722020Z     render a successful response
2024-03-12T06:42:48.4722880Z   PATCH /update
2024-03-12T06:42:48.4723468Z     with valid parameters
2024-03-12T06:42:48.4924953Z       updates the requested announcement and redirects
2024-03-12T06:42:48.4925764Z     with invalid parameters
2024-03-12T06:42:48.5275633Z       does not render a successful response
2024-03-12T06:42:48.5276373Z   DELETE /destroy
2024-03-12T06:42:48.5468048Z     destroys the requested announcement then redirects
2024-03-12T06:42:48.5468949Z   GET /index
2024-03-12T06:42:48.5803871Z     renders a successful response
2024-03-12T06:42:48.5804969Z   POST /create
2024-03-12T06:42:48.5805691Z     with valid parameters
2024-03-12T06:42:48.5970944Z       creates a new BroadcastAnnouncement then redirects
2024-03-12T06:42:48.5972095Z     with invalid parameters
2024-03-12T06:42:48.6260484Z       does not render a successful response
2024-03-12T06:42:48.6554685Z       does not create a new BroadcastAnnouncement
2024-03-12T06:42:48.6555776Z   GET /new
2024-03-12T06:42:48.6815128Z     renders a successful response
2024-03-12T06:42:48.6815874Z 
2024-03-12T06:42:48.6816296Z Profiles
2024-03-12T06:42:48.6817467Z   GET #edit
2024-03-12T06:42:48.7793893Z     returns http success
2024-03-12T06:42:48.7794908Z   POST #update
2024-03-12T06:42:48.7795623Z     when updating an existing value to a blank value
2024-03-12T06:42:48.8243505Z       update partner
2024-03-12T06:42:48.8657692Z       should have blank values
2024-03-12T06:42:48.8658491Z     successful save
2024-03-12T06:42:48.9081169Z       update partner
2024-03-12T06:42:48.9501867Z       redirects to #show
2024-03-12T06:42:48.9502655Z 
2024-03-12T06:42:48.9502889Z Kit management
2024-03-12T06:42:50.4959491Z   can allocate and deallocate quantity per storage location from kit index
2024-03-12T06:42:51.0765978Z   should not display inactive storage locations under allocations
2024-03-12T06:42:51.9810040Z   can create a new kit as a user with the proper quantity
2024-03-12T06:42:51.9811019Z   when there is no kit quantity
2024-03-12T06:42:53.2033350Z     will not change quantity amounts when deallocating
2024-03-12T06:42:53.2035144Z   when there is not enough quantity of the items contained in the kit on-hand
2024-03-12T06:42:54.3279714Z     will not change quantity amounts when allocating
2024-03-12T06:42:54.3282785Z 
2024-03-12T06:42:54.3283107Z Dashboard
2024-03-12T06:42:54.3284576Z   With a new essentials bank
2024-03-12T06:43:22.3198393Z     displays the getting started guide until the steps are completed
2024-03-12T06:43:22.3199514Z   With an existing essentials bank
2024-03-12T06:43:22.3200661Z     Inventory Totals
2024-03-12T06:43:22.3201432Z       Summary
2024-03-12T06:43:23.0482352Z         displays the on-hand totals
2024-03-12T06:43:23.0483403Z         when constrained to date range
2024-03-12T06:43:24.0996414Z           does not change
2024-03-12T06:43:24.0997486Z     Product Drives
2024-03-12T06:43:24.6991976Z       has a widget for product drive summary data
2024-03-12T06:43:24.6994088Z       given 1 Product Drive Donation on 2024-02-10 (unless 'All Time'), 4 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:43:24.6995542Z         filtering to 'Last 30 Days'
2024-03-12T06:43:26.2263207Z           shows the correct total donations
2024-03-12T06:43:27.7728615Z           shows the correct total money raised
2024-03-12T06:43:29.2987676Z           shows 3 Recent Donation link(s)
2024-03-12T06:43:29.2988669Z       Product drive behaviour with Mixed Donation types
2024-03-12T06:43:30.0021331Z         only counts product drive donations for product drive
2024-03-12T06:43:30.7229911Z         only shows product drive donations as product drive donations
2024-03-12T06:43:31.4288342Z         only counts product drive money raised
2024-03-12T06:43:31.4290304Z       given 1 Product Drive Donation on 2024-02-29 (unless 'All Time'), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:43:31.4291831Z         filtering to 'This Month'
2024-03-12T06:43:33.0306452Z           shows the correct total money raised
2024-03-12T06:43:34.4571812Z           shows 2 Recent Donation link(s)
2024-03-12T06:43:35.8709435Z           shows the correct total donations
2024-03-12T06:43:35.8714334Z       given 1 Product Drive Donation on 2024-03-04 (unless 'All Time'), 3 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:43:35.8715772Z         filtering to 'Last 7 Days'
2024-03-12T06:43:37.3395745Z           shows the correct total money raised
2024-03-12T06:43:38.8365557Z           shows the correct total donations
2024-03-12T06:43:40.3084664Z           shows 3 Recent Donation link(s)
2024-03-12T06:43:40.3086502Z       given 1 Product Drive Donation on 2022-03-10 (unless 'All Time'), 2 during 2022-03-11..2023-11-24, and 1 on 2023-11-25
2024-03-12T06:43:40.3087480Z         filtering to '' (March 11, 2022 - November 24, 2023)
2024-03-12T06:43:41.7124131Z           shows the correct total donations
2024-03-12T06:43:43.1309964Z           shows the correct total money raised
2024-03-12T06:43:44.5712647Z           shows 2 Recent Donation link(s)
2024-03-12T06:43:44.5714160Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:43:44.5715539Z         filtering to 'Last Month'
2024-03-12T06:43:45.9473840Z           shows the correct total money raised
2024-03-12T06:43:47.4792899Z           shows the correct total donations
2024-03-12T06:43:48.8865238Z           shows 1 Recent Donation link(s)
2024-03-12T06:43:48.8867544Z       given 1 Product Drive Donation on 2024-03-10 (unless 'All Time'), 1 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:43:48.8869112Z         filtering to 'Today'
2024-03-12T06:43:50.2630563Z           shows 1 Recent Donation link(s)
2024-03-12T06:43:51.6646796Z           shows the correct total donations
2024-03-12T06:43:53.0734283Z           shows the correct total money raised
2024-03-12T06:43:53.0736069Z       given 1 Product Drive Donation on 2024-03-09 (unless 'All Time'), 1 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:43:53.0737420Z         filtering to 'Yesterday'
2024-03-12T06:43:54.4683405Z           shows the correct total donations
2024-03-12T06:43:55.8489250Z           shows 1 Recent Donation link(s)
2024-03-12T06:43:57.2286465Z           shows the correct total money raised
2024-03-12T06:43:57.2288716Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:43:57.2290128Z         filtering to 'This Year'
2024-03-12T06:43:58.5482694Z           shows the correct total money raised
2024-03-12T06:43:59.9526644Z           shows the correct total donations
2024-03-12T06:44:03.3154657Z           shows 0 Recent Donation link(s)
2024-03-12T06:44:03.3155822Z     Manufacturer Donations
2024-03-12T06:44:03.8949833Z       has a link to create a new donation
2024-03-12T06:44:03.8951420Z       given 1 Manufacturer donating on 2024-03-10  (unless 'All Time'), 9 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:44:03.8952654Z         filtering to 'Today'
2024-03-12T06:44:06.4757279Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-12T06:44:06.4759432Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 2 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:44:06.4761095Z         filtering to 'Last Month'
2024-03-12T06:44:08.0739337Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-03-12T06:44:08.0741206Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 3 during 2000-01-01..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:44:08.0742069Z         filtering to 'All Time'
2024-03-12T06:44:09.5450300Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-03-12T06:44:09.5452135Z       given 1 Manufacturer donating on 2022-03-10  (unless 'All Time'), 8 during 2022-03-11..2024-01-08, and 1 on 2024-01-09
2024-03-12T06:44:09.5453456Z         filtering to '' (March 11, 2022 - January 8, 2024)
2024-03-12T06:44:11.9024404Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-12T06:44:11.9026470Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 9 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:44:11.9028002Z         filtering to 'This Year'
2024-03-12T06:44:14.3289961Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-12T06:44:14.3291937Z       given 1 Manufacturer donating on 2024-02-10  (unless 'All Time'), 6 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:44:14.3293333Z         filtering to 'Last 30 Days'
2024-03-12T06:44:16.2586817Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-03-12T06:44:16.2588324Z       given 1 Manufacturer donating on 2024-02-29  (unless 'All Time'), 3 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:44:16.2589296Z         filtering to 'This Month'
2024-03-12T06:44:17.9414556Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-12T06:44:17.9419051Z       given 1 Manufacturer donating on 2024-03-09  (unless 'All Time'), 3 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:44:17.9420523Z         filtering to 'Yesterday'
2024-03-12T06:44:19.5724522Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-12T06:44:19.5726565Z       given 1 Manufacturer donating on 2024-03-04  (unless 'All Time'), 1 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:44:19.5728185Z         filtering to 'Last 7 Days'
2024-03-12T06:44:21.0180058Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-03-12T06:44:21.0181123Z     Signage
2024-03-12T06:44:23.9172558Z       shows their organization name unless they have a logo set
2024-03-12T06:44:23.9173619Z     Distributions
2024-03-12T06:44:24.8608201Z       has a link to create a new distribution
2024-03-12T06:44:24.8609620Z       given 1 Distribution on 2024-03-04  (unless 'All Time'), 1 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:44:24.8611100Z         filtering to 'Last 7 Days'
2024-03-12T06:44:26.3139875Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-12T06:44:26.3141588Z       given 1 Distribution on 2024-03-09  (unless 'All Time'), 4 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:44:26.3142488Z         filtering to 'Yesterday'
2024-03-12T06:44:27.8137523Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:44:27.8139662Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:44:27.8140525Z         filtering to 'Last Month'
2024-03-12T06:44:29.3032139Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:44:29.3034137Z       given 1 Distribution on 2024-02-29  (unless 'All Time'), 3 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:44:29.3035601Z         filtering to 'This Month'
2024-03-12T06:44:30.7430123Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:44:30.7432139Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:44:30.7433296Z         filtering to 'This Year'
2024-03-12T06:44:32.1870746Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:44:32.1872683Z       given 1 Distribution on 2022-03-10  (unless 'All Time'), 3 during 2022-03-11..2024-03-01, and 1 on 2024-03-02
2024-03-12T06:44:32.1873811Z         filtering to '' (March 11, 2022 - March 1, 2024)
2024-03-12T06:44:33.7006592Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:44:33.7008261Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 2 during 2000-01-01..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:44:33.7009145Z         filtering to 'All Time'
2024-03-12T06:44:35.1290959Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-12T06:44:35.1293001Z       given 1 Distribution on 2024-02-10  (unless 'All Time'), 3 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:44:35.1294567Z         filtering to 'Last 30 Days'
2024-03-12T06:44:36.5769340Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:44:36.5771283Z       given 1 Distribution on 2024-03-10  (unless 'All Time'), 2 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:44:36.5772599Z         filtering to 'Today'
2024-03-12T06:44:38.0080100Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-12T06:44:38.0081104Z     Donations
2024-03-12T06:44:38.9349111Z       has a link to create a new donation
2024-03-12T06:44:38.9350629Z       given 1 Donation on 2024-02-10 (only if a valid date), 2 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:44:38.9351840Z         filtering to 'Last 30 Days'
2024-03-12T06:44:40.3847634Z           shows the correct total and 2 Recent Donation link(s)
2024-03-12T06:44:40.3849628Z       given 1 Donation on 2024-03-09 (only if a valid date), 3 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:44:40.3851126Z         filtering to 'Yesterday'
2024-03-12T06:44:41.8705596Z           shows the correct total and 3 Recent Donation link(s)
2024-03-12T06:44:41.8707558Z       given 1 Donation on 2024-01-31 (only if a valid date), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:44:41.8708842Z         filtering to 'Last Month'
2024-03-12T06:44:43.3652322Z           shows the correct total and 3 Recent Donation link(s)
2024-03-12T06:44:43.3655255Z       given 1 Donation on 2024-03-04 (only if a valid date), 3 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:44:43.3656270Z         filtering to 'Last 7 Days'
2024-03-12T06:44:44.8301397Z           shows the correct total and 3 Recent Donation link(s)
2024-03-12T06:44:44.8303092Z       given 1 Donation on 2024-02-29 (only if a valid date), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:44:44.8304251Z         filtering to 'This Month'
2024-03-12T06:44:46.2632987Z           shows the correct total and 2 Recent Donation link(s)
2024-03-12T06:44:46.2634876Z       given 1 Donation on 2022-03-10 (only if a valid date), 0 during 2022-03-11..2023-12-31, and 1 on 2024-01-01
2024-03-12T06:44:46.2635877Z         filtering to '' (March 11, 2022 - December 31, 2023)
2024-03-12T06:44:49.6369522Z           shows the correct total and 0 Recent Donation link(s)
2024-03-12T06:44:49.6371737Z       given 1 Donation on 2024-03-10 (only if a valid date), 3 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:44:49.6373212Z         filtering to 'Today'
2024-03-12T06:44:51.2302778Z           shows the correct total and 3 Recent Donation link(s)
2024-03-12T06:44:51.2304416Z       given 1 Donation on 2023-12-31 (only if a valid date), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:44:51.2305589Z         filtering to 'This Year'
2024-03-12T06:44:54.5704857Z           shows the correct total and 0 Recent Donation link(s)
2024-03-12T06:44:54.5706194Z     Purchases
2024-03-12T06:44:55.4595159Z       has a link to create a new purchase
2024-03-12T06:44:55.4596707Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:44:55.4597609Z         filtering to 'Last Month'
2024-03-12T06:44:56.9639793Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:44:56.9641453Z       given 1 Purchase on 2024-03-09  (unless 'All Time'), 1 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:44:56.9642854Z         filtering to 'Yesterday'
2024-03-12T06:44:58.3536062Z           shows correct 1 Recent Purchase link(s)
2024-03-12T06:44:58.3537609Z       given 1 Purchase on 2024-03-10  (unless 'All Time'), 2 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:44:58.3538904Z         filtering to 'Today'
2024-03-12T06:44:59.7568652Z           shows correct 2 Recent Purchase link(s)
2024-03-12T06:44:59.7570052Z       given 1 Purchase on 2024-03-04  (unless 'All Time'), 2 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:44:59.7571278Z         filtering to 'Last 7 Days'
2024-03-12T06:45:01.1628874Z           shows correct 2 Recent Purchase link(s)
2024-03-12T06:45:01.1630630Z       given 1 Purchase on 2022-03-10  (unless 'All Time'), 0 during 2022-03-11..2023-11-22, and 1 on 2023-11-23
2024-03-12T06:45:01.1632011Z         filtering to '' (March 11, 2022 - November 22, 2023)
2024-03-12T06:45:04.5390259Z           shows correct 0 Recent Purchase link(s)
2024-03-12T06:45:04.5392145Z       given 1 Purchase on 2024-02-29  (unless 'All Time'), 4 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:45:04.5393715Z         filtering to 'This Month'
2024-03-12T06:45:06.0690357Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:45:06.0692336Z       given 1 Purchase on 2024-02-10  (unless 'All Time'), 2 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:45:06.0693794Z         filtering to 'Last 30 Days'
2024-03-12T06:45:07.5040410Z           shows correct 2 Recent Purchase link(s)
2024-03-12T06:45:07.5042201Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:45:07.5043484Z         filtering to 'This Year'
2024-03-12T06:45:08.9266070Z           shows correct 2 Recent Purchase link(s)
2024-03-12T06:45:08.9267552Z 
2024-03-12T06:45:08.9267960Z Admin::Questions
2024-03-12T06:45:08.9269244Z   while signed in as a super admin
2024-03-12T06:45:08.9270464Z     DELETE #destroy
2024-03-12T06:45:08.9593777Z       lets the user delete questions
2024-03-12T06:45:08.9594533Z     GET #index
2024-03-12T06:45:08.9910921Z       lets the user load the page
2024-03-12T06:45:08.9911932Z     GET #new
2024-03-12T06:45:09.0235944Z       lets the user load the new question page
2024-03-12T06:45:09.0236881Z     POST #create
2024-03-12T06:45:09.0438956Z       lets the user create questions
2024-03-12T06:45:09.0439649Z     PATCH #update
2024-03-12T06:45:09.0660073Z       lets the user update questions
2024-03-12T06:45:09.0661240Z     GET #edit
2024-03-12T06:45:09.1043569Z       lets the user load the edit question page
2024-03-12T06:45:09.1044526Z 
2024-03-12T06:45:09.1044851Z Organization management
2024-03-12T06:45:09.1046188Z   while signed in as a normal user
2024-03-12T06:45:09.5803274Z     cannot see 'Make user' button for admins
2024-03-12T06:45:10.0549151Z     can see summary details about the organization as a user
2024-03-12T06:45:10.0550790Z   while signed in as an organization admin
2024-03-12T06:45:11.0160008Z     can add a new user to an organization
2024-03-12T06:45:11.9904396Z     can deactivate a user in the organization
2024-03-12T06:45:12.4851972Z     can see 'Make user' button for admins
2024-03-12T06:45:12.9759929Z     can re-invite a user to an organization after 7 days
2024-03-12T06:45:13.9161959Z     can re-activate a user in the organization
2024-03-12T06:45:13.9162999Z     Viewing the organization
2024-03-12T06:45:14.4701639Z       can view organization details
2024-03-12T06:45:14.4702416Z     Editing the organization
2024-03-12T06:45:15.4473082Z       can select if the org repackages essentials
2024-03-12T06:45:16.2995373Z       can set the NDBN Member ID
2024-03-12T06:45:17.8885196Z       can select and deselect Required Partner Fields
2024-03-12T06:45:19.0313466Z       can select if the org shows year-to-date values on the distribution printout
2024-03-12T06:45:19.9511470Z       can set a default storage location on the organization
2024-03-12T06:45:20.9833990Z       can disable if the org does NOT use single step invite and approve partner process
2024-03-12T06:45:22.0163111Z       can select if the org distributes essentials monthly
2024-03-12T06:45:23.2607196Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-03-12T06:45:24.2709712Z       can enable if the org uses single step invite and approve partner process
2024-03-12T06:45:25.1239613Z       can set a reminder and a deadline day
2024-03-12T06:45:25.1240481Z 
2024-03-12T06:45:25.1240826Z User account management
2024-03-12T06:45:25.1242441Z   when in staging
2024-03-12T06:45:25.5884241Z     should not allow the user to change staging credentials
2024-03-12T06:45:26.0434791Z     should display staging warning
2024-03-12T06:45:26.0435808Z   when not in staging
2024-03-12T06:45:26.9386842Z     should change an user name
2024-03-12T06:45:27.8191192Z     should change the email
2024-03-12T06:45:28.6025431Z     should fail when the email is invalid
2024-03-12T06:45:28.6334077Z W, [2024-03-11T23:45:28.633089 #2446]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-12T06:45:28.6336483Z W, [2024-03-11T23:45:28.633152 #2446]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:45:28.6370422Z W, [2024-03-11T23:45:28.633170 #2446]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:45:28.6373467Z W, [2024-03-11T23:45:28.633196 #2446]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-12T06:45:28.6737252Z 
2024-03-12T06:45:28.6738757Z Failures:
2024-03-12T06:45:28.6739165Z 
2024-03-12T06:45:28.6740544Z   1) Purchases while signed in as a normal user When creating a new purchase via barcode entry a user can add items via scanning them in by barcode
2024-03-12T06:45:28.6743928Z      Failure/Error: qty = page.find(:xpath, '//input[@id="purchase_line_items_attributes_0_quantity"]').value
2024-03-12T06:45:28.6744876Z 
2024-03-12T06:45:28.6745168Z      Ferrum::JavaScriptError:
2024-03-12T06:45:28.6746200Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:45:28.6748438Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:40733/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:45:28.6750883Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:45:28.6752554Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:45:28.6753917Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:45:28.6755249Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:45:28.6756358Z 
2024-03-12T06:45:28.6758727Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/capybara/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_barcode_entry_a_user_can_add_items_via_scanning_them_in_by_barcode_721.png
2024-03-12T06:45:28.6760967Z 
2024-03-12T06:45:28.6760975Z 
2024-03-12T06:45:28.6761522Z      # ./spec/system/purchase_system_spec.rb:235:in `block (5 levels) in <top (required)>'
2024-03-12T06:45:28.6762367Z 
2024-03-12T06:45:28.6763233Z   2) Purchases while signed in as a normal user When creating a new purchase via barcode entry User scan same barcode 2 times
2024-03-12T06:45:28.7092839Z      Failure/Error: @__Condition__.wait @__Lock__, timeout
2024-03-12T06:45:28.7093420Z 
2024-03-12T06:45:28.7093632Z      Ferrum::JavaScriptError:
2024-03-12T06:45:28.7094608Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:45:28.7096679Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:40733/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:45:28.7098530Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:45:28.7099777Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:45:28.7101019Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:45:28.7102214Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:45:28.7103013Z 
2024-03-12T06:45:28.7105050Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_barcode_entry_user_scan_same_barcode_2_times_901.png
2024-03-12T06:45:28.7107002Z 
2024-03-12T06:45:28.7107022Z 
2024-03-12T06:45:28.7108747Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `sleep'
2024-03-12T06:45:28.7112171Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `wait'
2024-03-12T06:45:28.7115534Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `ns_wait'
2024-03-12T06:45:28.7119127Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:44:in `block in ns_wait_until'
2024-03-12T06:45:28.7122702Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `loop'
2024-03-12T06:45:28.7126236Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `ns_wait_until'
2024-03-12T06:45:28.7132725Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:87:in `block in wait'
2024-03-12T06:45:28.7136663Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `block in synchronize'
2024-03-12T06:45:28.7148011Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:45:28.7150325Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:45:28.7152133Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:84:in `wait'
2024-03-12T06:45:28.7153762Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:75:in `wait'
2024-03-12T06:45:28.7155560Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:99:in `value!'
2024-03-12T06:45:28.7157052Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/browser/client.rb:42:in `command'
2024-03-12T06:45:28.7158367Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/page.rb:269:in `command'
2024-03-12T06:45:28.7159698Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:109:in `block in call'
2024-03-12T06:45:28.7161064Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/utils/attempt.rb:10:in `with_retry'
2024-03-12T06:45:28.7162388Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:105:in `call'
2024-03-12T06:45:28.7163714Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:97:in `evaluate_on'
2024-03-12T06:45:28.7164728Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:45:28.7165467Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:45:28.7166600Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/browser.rb:179:in `disabled?'
2024-03-12T06:45:28.7168230Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:21:in `command'
2024-03-12T06:45:28.7169619Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:143:in `disabled?'
2024-03-12T06:45:28.7171072Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `block in disabled?'
2024-03-12T06:45:28.7172504Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/base.rb:77:in `synchronize'
2024-03-12T06:45:28.7173886Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `disabled?'
2024-03-12T06:45:28.7175396Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector.rb:431:in `block (2 levels) in <top (required)>'
2024-03-12T06:45:28.7177028Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:14:in `block in initialize'
2024-03-12T06:45:28.7178814Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `instance_exec'
2024-03-12T06:45:28.7180310Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `apply'
2024-03-12T06:45:28.7181810Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:24:in `matches?'
2024-03-12T06:45:28.7183634Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:296:in `block (2 levels) in matches_node_filters?'
2024-03-12T06:45:28.7185248Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `each'
2024-03-12T06:45:28.7186695Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `all?'
2024-03-12T06:45:28.7188267Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `block in matches_node_filters?'
2024-03-12T06:45:28.7189923Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/selector.rb:89:in `with_filter_errors'
2024-03-12T06:45:28.7191501Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:283:in `matches_node_filters?'
2024-03-12T06:45:28.7193125Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:124:in `matches_filters?'
2024-03-12T06:45:28.7194625Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/result.rb:32:in `block in initialize'
2024-03-12T06:45:28.7195909Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:45:28.7197048Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:45:28.7198176Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:45:28.7199291Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:45:28.7199967Z      # 
2024-03-12T06:45:28.7200286Z      #   Showing full backtrace because every line was filtered out.
2024-03-12T06:45:28.7200860Z      #   See docs for RSpec::Configuration#backtrace_exclusion_patterns and
2024-03-12T06:45:28.7201481Z      #   RSpec::Configuration#backtrace_inclusion_patterns for more information.
2024-03-12T06:45:28.7201869Z 
2024-03-12T06:45:28.7202551Z   3) Purchases while signed in as a normal user When creating a new purchase via manual entry multiple line items for the same item type are accepted and combined on the backend
2024-03-12T06:45:28.7203526Z      Failure/Error: page.find(:css, "#__add_line_item").click
2024-03-12T06:45:28.7203838Z 
2024-03-12T06:45:28.7203953Z      Capybara::ElementNotFound:
2024-03-12T06:45:28.7204282Z        Unable to find css "#__add_line_item"
2024-03-12T06:45:28.7204535Z 
2024-03-12T06:45:28.7205846Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_manual_entry_multiple_line_items_for_the_same_item_type_are_accepted_and_combined_on_the_backend_296.png
2024-03-12T06:45:28.7207103Z 
2024-03-12T06:45:28.7207108Z 
2024-03-12T06:45:28.7207528Z      # ./spec/system/purchase_system_spec.rb:172:in `block (5 levels) in <top (required)>'
2024-03-12T06:45:28.7208176Z 
2024-03-12T06:45:28.7208415Z Finished in 3 minutes 24.9 seconds (files took 8.28 seconds to load)
2024-03-12T06:45:28.7208865Z 212 examples, 3 failures
2024-03-12T06:45:28.7209051Z 
2024-03-12T06:45:28.7209143Z Failed examples:
2024-03-12T06:45:28.7209289Z 
2024-03-12T06:45:28.7210039Z rspec ./spec/system/purchase_system_spec.rb:227 # Purchases while signed in as a normal user When creating a new purchase via barcode entry a user can add items via scanning them in by barcode
2024-03-12T06:45:28.7211721Z rspec ./spec/system/purchase_system_spec.rb:240 # Purchases while signed in as a normal user When creating a new purchase via barcode entry User scan same barcode 2 times
2024-03-12T06:45:28.7213339Z rspec ./spec/system/purchase_system_spec.rb:167 # Purchases while signed in as a normal user When creating a new purchase via manual entry multiple line items for the same item type are accepted and combined on the backend
2024-03-12T06:45:28.7214316Z 
2024-03-12T06:45:28.7214421Z Randomized with seed 47996
2024-03-12T06:45:28.7214607Z 
2024-03-12T06:45:29.2073538Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:45:29.2075456Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3736 / 6452 LOC (57.9%) covered.
2024-03-12T06:45:29.3259161Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb" failed
2024-03-12T06:45:29.7195442Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:45:29.7197169Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10742 LOC (0.35%) covered.
2024-03-12T06:45:29.7457600Z ##[error]Process completed with exit code 1.
