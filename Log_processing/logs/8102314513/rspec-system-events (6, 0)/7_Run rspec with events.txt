2024-02-29T20:39:54.8944948Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-02-29T20:39:54.8945842Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-02-29T20:39:54.8974249Z shell: /usr/bin/bash -e {0}
2024-02-29T20:39:54.8974636Z env:
2024-02-29T20:39:54.8975062Z   POSTGRES_HOST: localhost
2024-02-29T20:39:54.8975649Z   DATABASE_HOST: localhost
2024-02-29T20:39:54.8976036Z   PG_USERNAME: postgres
2024-02-29T20:39:54.8976500Z   PG_PASSWORD: password
2024-02-29T20:39:54.8976876Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-02-29T20:39:54.8977314Z   POSTGRES_PORT: 5432
2024-02-29T20:39:54.8977690Z   PGHOST: localhost
2024-02-29T20:39:54.8978027Z   PGUSER: postgres
2024-02-29T20:39:54.8978373Z   RAILS_ENV: test
2024-02-29T20:39:54.8978807Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-02-29T20:39:54.8979247Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-02-29T20:39:54.8979626Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-02-29T20:39:54.8980130Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-02-29T20:39:54.8980709Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-02-29T20:39:54.8981389Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-02-29T20:39:54.8981989Z   EVENTS_READ: true
2024-02-29T20:39:54.8982334Z ##[endgroup]
2024-02-29T20:40:00.7211483Z W, [2024-02-29T20:40:00.720781 #2405]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-02-29T20:40:00.7213396Z W, [2024-02-29T20:40:00.720845 #2405]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-29T20:40:00.7215647Z W, [2024-02-29T20:40:00.720869 #2405]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-29T20:40:00.7219489Z W, [2024-02-29T20:40:00.720907 #2405]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-02-29T20:40:03.8194518Z W, [2024-02-29T20:40:03.819075 #2405]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-02-29T20:40:03.8196066Z W, [2024-02-29T20:40:03.819125 #2405]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-29T20:40:03.8198030Z W, [2024-02-29T20:40:03.819147 #2405]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-29T20:40:03.8200666Z W, [2024-02-29T20:40:03.819199 #2405]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-02-29T20:40:03.8253249Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/partners/children_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-02-29T20:40:12.6480823Z 
2024-02-29T20:40:12.6482021Z Randomized with seed 54916
2024-02-29T20:40:13.6489019Z 
2024-02-29T20:40:13.6489994Z Managing requests
2024-02-29T20:40:13.6491240Z   creating a new quantity request
2024-02-29T20:40:13.6492397Z     GIVEN a partner user is permitted to make a request
2024-02-29T20:40:13.6493862Z       Select Input Tests
2024-02-29T20:40:13.6494840Z         WHEN they reach the page
2024-02-29T20:40:15.3823240Z           should show the proper items in the select box
2024-02-29T20:40:15.3824325Z           WHEN they create a request inproperly
2024-02-29T20:40:16.8025295Z             should show the proper items in the select box
2024-02-29T20:40:16.8026492Z       WHEN they create a request properly
2024-02-29T20:40:16.8027927Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-02-29T20:40:19.1283899Z           AND the partner_user can view the details of the created request in a seperate page
2024-02-29T20:40:19.1284858Z       WHEN they create a request with only a comment
2024-02-29T20:40:20.1081127Z         should be created without any issue
2024-02-29T20:40:20.1081904Z       WHEN they create a request inproperly by not inputting anything
2024-02-29T20:40:21.0225423Z         should show an error message with the instructions
2024-02-29T20:40:21.0226371Z   creating a # individuals request
2024-02-29T20:40:21.0227252Z     GIVEN a partner user is permitted to make a request
2024-02-29T20:40:21.0228648Z       WHEN they create a request inproperly
2024-02-29T20:40:21.9488378Z         should show an error message with the instructions
2024-02-29T20:40:21.9489547Z       WHEN they create a request properly
2024-02-29T20:40:21.9490860Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-02-29T20:40:24.1075973Z           AND the partner_user can view the details of the created individuals request in a seperate page
2024-02-29T20:40:24.1077447Z       Select Input Tests
2024-02-29T20:40:24.1078372Z         WHEN they reach the page
2024-02-29T20:40:24.9992218Z           should show the proper items in the select box
2024-02-29T20:40:24.9993543Z           WHEN they create a request inproperly
2024-02-29T20:40:26.3670448Z             should show the proper items in the select box
2024-02-29T20:40:26.3672358Z 
2024-02-29T20:40:26.3672606Z Vendor
2024-02-29T20:40:26.3674487Z   when editing an existing vendor
2024-02-29T20:40:27.1784421Z     does not update a vendor with empty attributes
2024-02-29T20:40:28.0122309Z     can update the contact info for a vendor as a user
2024-02-29T20:40:28.0123107Z   When vendor have purchases associated with them already
2024-02-29T20:40:28.6997611Z     can have a single vendor show semi-detailed stats about purchases
2024-02-29T20:40:29.3228594Z     can have existing vendors show in the #index with some summary stats
2024-02-29T20:40:29.3229543Z   When a user views the index page
2024-02-29T20:40:29.8367854Z     should have the vendor names in alphabetical order
2024-02-29T20:40:29.8369114Z   when creating a new vendor
2024-02-29T20:40:30.6583018Z     can create a new vendor instance as a user
2024-02-29T20:40:31.4042206Z     cannot add a new vendor instance with empty attributes
2024-02-29T20:40:31.4042878Z 
2024-02-29T20:40:31.4043087Z /partners/children
2024-02-29T20:40:31.4044418Z   GET #index
2024-02-29T20:40:31.4918349Z     should export CSV
2024-02-29T20:40:31.5621587Z     should render without any issues
2024-02-29T20:40:31.5622252Z 
2024-02-29T20:40:31.5622558Z Admin::Organizations
2024-02-29T20:40:31.5624005Z   When logged in as a super admin
2024-02-29T20:40:31.5625845Z     DELETE #destroy
2024-02-29T20:40:31.5626725Z       with a valid organization id
2024-02-29T20:40:32.1226023Z         redirects to #index
2024-02-29T20:40:32.1226961Z     GET #edit
2024-02-29T20:40:32.3479620Z       returns http success
2024-02-29T20:40:32.3480565Z     PUT #update
2024-02-29T20:40:32.3690818Z       redirect
2024-02-29T20:40:32.3691815Z     POST #create
2024-02-29T20:40:32.3692472Z       with valid params
2024-02-29T20:40:32.6852381Z         creates an organization and redirects to #index
2024-02-29T20:40:32.6853311Z       with invalid params
2024-02-29T20:40:32.7304419Z         does not create an organization and renders #create with an error message
2024-02-29T20:40:32.7305768Z     DELETE #destroy
2024-02-29T20:40:33.0895132Z       redirects
2024-02-29T20:40:33.0896493Z     GET #new
2024-02-29T20:40:33.1293186Z       returns http success
2024-02-29T20:40:33.1299171Z       when given a valid account request token in the query parameters
2024-02-29T20:40:33.2006513Z         should render new with pre populate input fields from the account_request
2024-02-29T20:40:33.2007973Z       when given a token that matches a account request that has already been processed
2024-02-29T20:40:33.4397447Z         should render new with a flash error message
2024-02-29T20:40:33.4398477Z     GET #show
2024-02-29T20:40:33.6654683Z       returns http success
2024-02-29T20:40:33.6656047Z     PATCH #update
2024-02-29T20:40:33.6656534Z       with a valid update
2024-02-29T20:40:33.8570292Z         redirects to #index
2024-02-29T20:40:33.8571402Z       with an invalid update
2024-02-29T20:40:34.0701414Z         redirects to #edit with an error message
2024-02-29T20:40:34.2939426Z         returns http success
2024-02-29T20:40:34.2940250Z     GET #index
2024-02-29T20:40:34.3282787Z       returns http success
2024-02-29T20:40:34.3283908Z   When logged in as a non-admin user
2024-02-29T20:40:34.3284658Z     GET #index
2024-02-29T20:40:34.3423135Z       redirects
2024-02-29T20:40:34.3423643Z     GET #edit
2024-02-29T20:40:34.3551013Z       redirects
2024-02-29T20:40:34.3551832Z     PUT #update
2024-02-29T20:40:34.3680412Z       redirects
2024-02-29T20:40:34.3681078Z     POST #create
2024-02-29T20:40:34.3835506Z       redirects
2024-02-29T20:40:34.3988694Z     GET #new
2024-02-29T20:40:34.3989822Z       redirects
2024-02-29T20:40:34.3990296Z 
2024-02-29T20:40:34.3990594Z User account management
2024-02-29T20:40:34.3991532Z   when in staging
2024-02-29T20:40:34.8688251Z     should not allow the user to change staging credentials
2024-02-29T20:40:35.3414519Z     should display staging warning
2024-02-29T20:40:35.3415694Z   when not in staging
2024-02-29T20:40:36.3101973Z     should change an user name
2024-02-29T20:40:37.2369060Z     should change the email
2024-02-29T20:40:38.0426875Z     should fail when the email is invalid
2024-02-29T20:40:38.0427858Z 
2024-02-29T20:40:38.0428172Z /account_requests
2024-02-29T20:40:38.0431373Z   POST #create
2024-02-29T20:40:38.0432350Z     with invalid parameters
2024-02-29T20:40:38.0732561Z       does not create a new AccountRequest
2024-02-29T20:40:38.0951930Z       renders a successful response (i.e. to display the 'new' template)
2024-02-29T20:40:38.0953324Z     with valid parameters
2024-02-29T20:40:38.1116158Z       creates a new AccountRequest
2024-02-29T20:40:38.1250506Z       delivers the confirmation email via default queue
2024-02-29T20:40:38.1386669Z       redirects to the created account_request confirmation
2024-02-29T20:40:38.1387702Z   GET #confirmation
2024-02-29T20:40:38.1388511Z     when given a invalid token
2024-02-29T20:40:38.1454114Z       should render a error that says that is code provided is invalid
2024-02-29T20:40:38.1455108Z     when given a token that has already been confirmed
2024-02-29T20:40:38.3415495Z       should render a error that says that is code provided is invalid
2024-02-29T20:40:38.3416832Z     when given a valid token
2024-02-29T20:40:38.3572282Z       should render the confirmation template
2024-02-29T20:40:38.3573468Z   GET #received
2024-02-29T20:40:38.3574046Z     when given a valid token
2024-02-29T20:40:38.3731690Z       should render the received template
2024-02-29T20:40:38.3732818Z     when given a invalid token
2024-02-29T20:40:38.3805302Z       should render a error that says that is code provided is invalid
2024-02-29T20:40:38.3806148Z   GET #confirm
2024-02-29T20:40:38.3806976Z     when given a invalid token
2024-02-29T20:40:38.3868122Z       should render a error that says that is code provided is invalid
2024-02-29T20:40:38.3869326Z     when given a valid token
2024-02-29T20:40:38.4061775Z       should the update confirmed_at on the account_request, queue confirmation email and render confirm template
2024-02-29T20:40:38.4063196Z     when given a token that has already been confirmed
2024-02-29T20:40:38.7150398Z       should render a error that says that is code provided is invalid
2024-02-29T20:40:38.7151345Z   GET #new
2024-02-29T20:40:38.7540836Z     renders a successful response
2024-02-29T20:40:38.7541915Z 
2024-02-29T20:40:38.7542216Z Purchases
2024-02-29T20:40:38.7544234Z   while signed in as an organization admin
2024-02-29T20:40:39.7403467Z     allows deletion of a purchase
2024-02-29T20:40:39.7406609Z   while signed in as a normal user
2024-02-29T20:40:39.7407760Z     When creating a new purchase
2024-02-29T20:40:40.2644018Z       should not display inactive storage locations in dropdown
2024-02-29T20:40:40.2645239Z       Editing purchase
2024-02-29T20:40:40.7856523Z         A user can see purchased_from value
2024-02-29T20:40:41.4525893Z         A user can view another organizations purchase
2024-02-29T20:40:41.4526846Z       via barcode entry
2024-02-29T20:40:42.4887310Z         User scan same barcode 2 times
2024-02-29T20:40:43.2340415Z         a user can add items via scanning them in by barcode
2024-02-29T20:40:44.4672250Z         a user can add items that do not yet have a barcode
2024-02-29T20:40:44.4673111Z       via manual entry
2024-02-29T20:40:45.6815651Z         multiple line items for the same item type are accepted and combined on the backend
2024-02-29T20:40:46.8268029Z         User can create a purchase IN THE PAST
2024-02-29T20:40:47.7648155Z         User can create a purchase using dollars decimal amount
2024-02-29T20:40:48.8007804Z         Does not include inactive items in the line item fields
2024-02-29T20:40:49.8605307Z         User can create vendor from purchase
2024-02-29T20:40:49.8606469Z         when creating a purchase incorrectly
2024-02-29T20:40:50.8858395Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-02-29T20:40:51.8345012Z           should display failure with error messages
2024-02-29T20:40:51.8345941Z     When visiting the index page
2024-02-29T20:40:51.8347380Z       In the middle of the year
2024-02-29T20:40:52.6813177Z         User can click to the new purchase form
2024-02-29T20:40:53.4625551Z         User sees purchased date column
2024-02-29T20:40:54.2693823Z         User sees total purchases value
2024-02-29T20:40:54.2694764Z       When filtering on the index page
2024-02-29T20:40:55.1926012Z         User can filter the #index by storage location
2024-02-29T20:40:56.1284329Z         User can filter the #index by vendor
2024-02-29T20:40:56.1285192Z         behaves like Date Range Picker
2024-02-29T20:40:56.1286522Z           when choosing a date range that only includes the previous week
2024-02-29T20:40:57.3437734Z             shows only 1 record
2024-02-29T20:40:57.3439019Z           when choosing 'Last Month'
2024-02-29T20:40:58.5182139Z             shows only 2 of the records
2024-02-29T20:40:58.5183428Z           when choosing 'All Time'
2024-02-29T20:40:59.6287794Z             shows all the records
2024-02-29T20:40:59.6291671Z     When visiting an existing purchase
2024-02-29T20:41:00.1660572Z       does not allow deletion of a purchase
2024-02-29T20:41:00.1661592Z 
2024-02-29T20:41:00.1662071Z /partners/profiles
2024-02-29T20:41:00.1664039Z   GET #edit
2024-02-29T20:41:00.2880198Z     has "No" radio button value when value is false
2024-02-29T20:41:00.3941764Z     has "Yes" radio button value when value is true
2024-02-29T20:41:00.4993088Z     displays the partner
2024-02-29T20:41:00.5966885Z     does not have default radio button value when value is nil
2024-02-29T20:41:00.5968270Z   PUT #update
2024-02-29T20:41:00.6605354Z     updates the partner and profile
2024-02-29T20:41:00.6606530Z     with no social media
2024-02-29T20:41:00.7701711Z       shows an error
2024-02-29T20:41:00.7702524Z     when updating an existing value to a blank value
2024-02-29T20:41:00.8317988Z       updates the partner profile attribute to a blank value
2024-02-29T20:41:00.8918672Z       does not update other partner profile attributes to blank
2024-02-29T20:41:00.9526111Z       does store N/A in the database
2024-02-29T20:41:00.9526989Z   GET #show
2024-02-29T20:41:01.0151318Z     displays the partner
2024-02-29T20:41:01.0789775Z     shows correct values for yes/no buttons
2024-02-29T20:41:01.0790385Z 
2024-02-29T20:41:01.0790798Z Organization management
2024-02-29T20:41:01.0792542Z   while signed in as a normal user
2024-02-29T20:41:01.5986412Z     can see summary details about the organization as a user
2024-02-29T20:41:02.1138584Z     cannot see 'Make user' button for admins
2024-02-29T20:41:02.1139524Z   while signed in as an organization admin
2024-02-29T20:41:03.1503063Z     can deactivate a user in the organization
2024-02-29T20:41:03.6570667Z     can re-invite a user to an organization after 7 days
2024-02-29T20:41:04.6639692Z     can add a new user to an organization
2024-02-29T20:41:05.3211097Z     can see 'Make user' button for admins
2024-02-29T20:41:06.3099587Z     can re-activate a user in the organization
2024-02-29T20:41:06.3100317Z     Viewing the organization
2024-02-29T20:41:06.8798639Z       can view organization details
2024-02-29T20:41:06.8799680Z     Editing the organization
2024-02-29T20:41:07.7697591Z       can set a reminder and a deadline day
2024-02-29T20:41:08.7659487Z       can select if the org repackages essentials
2024-02-29T20:41:09.9601513Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-02-29T20:41:10.9745880Z       can select if the org shows year-to-date values on the distribution printout
2024-02-29T20:41:11.8617850Z       can set the NDBN Member ID
2024-02-29T20:41:12.8776214Z       can select if the org distributes essentials monthly
2024-02-29T20:41:13.8849058Z       can enable if the org uses single step invite and approve partner process
2024-02-29T20:41:14.8497729Z       can set a default storage location on the organization
2024-02-29T20:41:16.3937872Z       can select and deselect Required Partner Fields
2024-02-29T20:41:17.4227922Z       can disable if the org does NOT use single step invite and approve partner process
2024-02-29T20:41:17.4228918Z 
2024-02-29T20:41:17.4229129Z DonationSites
2024-02-29T20:41:17.4241591Z   while signed in
2024-02-29T20:41:17.4242251Z     GET #index
2024-02-29T20:41:17.4242756Z       html
2024-02-29T20:41:17.4716043Z         is expected to be successful
2024-02-29T20:41:17.4717142Z       csv
2024-02-29T20:41:17.4938706Z         is expected to be successful
2024-02-29T20:41:17.4939775Z 
2024-02-29T20:41:17.4940291Z Kit management
2024-02-29T20:41:18.4592298Z   can create a new kit as a user with the proper quantity
2024-02-29T20:41:20.0436512Z   can allocate and deallocate quantity per storage location from kit index
2024-02-29T20:41:20.6802577Z   should not display inactive storage locations under allocations
2024-02-29T20:41:20.6803643Z   when there is no kit quantity
2024-02-29T20:41:21.8838218Z     will not change quantity amounts when deallocating
2024-02-29T20:41:21.8839724Z   when there is not enough quantity of the items contained in the kit on-hand
2024-02-29T20:41:23.0426765Z     will not change quantity amounts when allocating
2024-02-29T20:41:23.0430890Z 
2024-02-29T20:41:23.0431406Z Dashboard
2024-02-29T20:41:23.0432819Z   With a new essentials bank
2024-02-29T20:41:51.1557997Z     displays the getting started guide until the steps are completed
2024-02-29T20:41:51.1560073Z   With an existing essentials bank
2024-02-29T20:41:51.1560828Z     Inventory Totals
2024-02-29T20:41:51.1562113Z       Summary
2024-02-29T20:41:51.9186835Z         displays the on-hand totals
2024-02-29T20:41:51.9187730Z         when constrained to date range
2024-02-29T20:41:53.0255922Z           does not change
2024-02-29T20:41:53.0257534Z     Purchases
2024-02-29T20:41:53.9802618Z       has a link to create a new purchase
2024-02-29T20:41:53.9804606Z       given 1 Purchase on 2024-01-30  (unless 'All Time'), 1 during 2024-01-31..2024-02-29, and 1 on 2024-03-01
2024-02-29T20:41:53.9805900Z         filtering to 'Last 30 Days'
2024-02-29T20:41:55.4834432Z           shows correct 1 Recent Purchase link(s)
2024-02-29T20:41:55.4836182Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 4 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-29T20:41:55.4837043Z         filtering to 'This Year'
2024-02-29T20:41:57.1519334Z           shows correct 3 Recent Purchase link(s)
2024-02-29T20:41:57.1520999Z       given 1 Purchase on 2024-02-22  (unless 'All Time'), 4 during 2024-02-23..2024-02-29, and 1 on 2024-03-01
2024-02-29T20:41:57.1522287Z         filtering to 'Last 7 Days'
2024-02-29T20:41:58.8856751Z           shows correct 3 Recent Purchase link(s)
2024-02-29T20:41:58.8858563Z       given 1 Purchase on 2024-02-28  (unless 'All Time'), 2 during 2024-02-29..2024-02-29, and 1 on 2024-03-01
2024-02-29T20:41:58.8860050Z         filtering to 'Today'
2024-02-29T20:42:00.4471973Z           shows correct 2 Recent Purchase link(s)
2024-02-29T20:42:00.4473874Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 1 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-29T20:42:00.4475167Z         filtering to 'Last Month'
2024-02-29T20:42:01.9000575Z           shows correct 1 Recent Purchase link(s)
2024-02-29T20:42:01.9002276Z       given 1 Purchase on 2022-02-27  (unless 'All Time'), 4 during 2022-02-28..2024-01-02, and 1 on 2024-01-03
2024-02-29T20:42:01.9003664Z         filtering to '' (February 28, 2022 - January 2, 2024)
2024-02-29T20:42:03.5569653Z           shows correct 3 Recent Purchase link(s)
2024-02-29T20:42:03.5571150Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-29T20:42:03.5572225Z         filtering to 'This Month'
2024-02-29T20:42:05.1168003Z           shows correct 3 Recent Purchase link(s)
2024-02-29T20:42:05.1169473Z       given 1 Purchase on 2024-02-27  (unless 'All Time'), 4 during 2024-02-28..2024-02-28, and 1 on 2024-02-29
2024-02-29T20:42:05.1170372Z         filtering to 'Yesterday'
2024-02-29T20:42:06.7318622Z           shows correct 3 Recent Purchase link(s)
2024-02-29T20:42:06.7319900Z     Manufacturer Donations
2024-02-29T20:42:07.3539410Z       has a link to create a new donation
2024-02-29T20:42:07.3540956Z       given 1 Manufacturer donating on 2024-02-27  (unless 'All Time'), 1 during 2024-02-28..2024-02-28, and 1 on 2024-02-29
2024-02-29T20:42:07.3542384Z         filtering to 'Yesterday'
2024-02-29T20:42:08.9749704Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-02-29T20:42:08.9751746Z       given 1 Manufacturer donating on 2024-02-22  (unless 'All Time'), 8 during 2024-02-23..2024-02-29, and 1 on 2024-03-01
2024-02-29T20:42:08.9752878Z         filtering to 'Last 7 Days'
2024-02-29T20:42:11.3450259Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-29T20:42:11.3452002Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-29T20:42:11.3453377Z         filtering to 'This Month'
2024-02-29T20:42:12.8709525Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-02-29T20:42:12.8711230Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 1 during 2000-01-01..2024-02-29, and 1 on 2024-03-01
2024-02-29T20:42:12.8712408Z         filtering to 'All Time'
2024-02-29T20:42:14.3579609Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-02-29T20:42:14.3581815Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 7 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-29T20:42:14.3583950Z         filtering to 'Last Month'
2024-02-29T20:42:16.7324960Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-02-29T20:42:16.7327269Z       given 1 Manufacturer donating on 2024-01-30  (unless 'All Time'), 7 during 2024-01-31..2024-02-29, and 1 on 2024-03-01
2024-02-29T20:42:16.7328176Z         filtering to 'Last 30 Days'
2024-02-29T20:42:18.8652232Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-02-29T20:42:18.8654192Z       given 1 Manufacturer donating on 2024-02-28  (unless 'All Time'), 2 during 2024-02-29..2024-02-29, and 1 on 2024-03-01
2024-02-29T20:42:18.8655706Z         filtering to 'Today'
2024-02-29T20:42:20.5710362Z           shows the correct total and 4 Top Manufacturer Donation link(s)
2024-02-29T20:42:20.5712182Z       given 1 Manufacturer donating on 2022-02-27  (unless 'All Time'), 9 during 2022-02-28..2023-10-04, and 1 on 2023-10-05
2024-02-29T20:42:20.5713170Z         filtering to '' (February 28, 2022 - October 4, 2023)
2024-02-29T20:42:23.5889457Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-29T20:42:23.5891144Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 8 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-29T20:42:23.5892080Z         filtering to 'This Year'
2024-02-29T20:42:26.0979175Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-29T20:42:26.0980133Z     Product Drives
2024-02-29T20:42:26.7576940Z       has a widget for product drive summary data
2024-02-29T20:42:26.7578880Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 2 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-29T20:42:26.7579815Z         filtering to 'Last Month'
2024-02-29T20:42:28.3585812Z           shows 2 Recent Donation link(s)
2024-02-29T20:42:29.8909716Z           shows the correct total donations
2024-02-29T20:42:31.4155126Z           shows the correct total money raised
2024-02-29T20:42:31.4156398Z       Product drive behaviour with Mixed Donation types
2024-02-29T20:42:32.1805505Z         only shows product drive donations as product drive donations
2024-02-29T20:42:32.9307899Z         only counts product drive donations for product drive
2024-02-29T20:42:33.6942276Z         only counts product drive money raised
2024-02-29T20:42:33.6944179Z       given 1 Product Drive Donation on 2024-01-30 (unless 'All Time'), 1 during 2024-01-31..2024-02-29, and 1 on 2024-03-01
2024-02-29T20:42:33.6945582Z         filtering to 'Last 30 Days'
2024-02-29T20:42:35.1501687Z           shows the correct total donations
2024-02-29T20:42:36.5963556Z           shows 1 Recent Donation link(s)
2024-02-29T20:42:38.0232596Z           shows the correct total money raised
2024-02-29T20:42:38.0234203Z       given 1 Product Drive Donation on 2024-02-28 (unless 'All Time'), 1 during 2024-02-29..2024-02-29, and 1 on 2024-03-01
2024-02-29T20:42:38.0235714Z         filtering to 'Today'
2024-02-29T20:42:39.4948136Z           shows 1 Recent Donation link(s)
2024-02-29T20:42:40.9464824Z           shows the correct total money raised
2024-02-29T20:42:42.3806812Z           shows the correct total donations
2024-02-29T20:42:42.3808564Z       given 1 Product Drive Donation on 2024-02-22 (unless 'All Time'), 4 during 2024-02-23..2024-02-29, and 1 on 2024-03-01
2024-02-29T20:42:42.3809547Z         filtering to 'Last 7 Days'
2024-02-29T20:42:43.9920249Z           shows 3 Recent Donation link(s)
2024-02-29T20:42:45.5841074Z           shows the correct total donations
2024-02-29T20:42:47.1912334Z           shows the correct total money raised
2024-02-29T20:42:47.1914010Z       given 1 Product Drive Donation on 2024-02-27 (unless 'All Time'), 1 during 2024-02-28..2024-02-28, and 1 on 2024-02-29
2024-02-29T20:42:47.1915193Z         filtering to 'Yesterday'
2024-02-29T20:42:48.6507526Z           shows the correct total money raised
2024-02-29T20:42:50.1040998Z           shows the correct total donations
2024-02-29T20:42:51.5771811Z           shows 1 Recent Donation link(s)
2024-02-29T20:42:51.5773715Z       given 1 Product Drive Donation on 2022-02-27 (unless 'All Time'), 0 during 2022-02-28..2023-11-14, and 1 on 2023-11-15
2024-02-29T20:42:51.5775502Z         filtering to '' (February 28, 2022 - November 14, 2023)
2024-02-29T20:42:53.0586954Z           shows the correct total money raised
2024-02-29T20:42:56.4625931Z           shows 0 Recent Donation link(s)
2024-02-29T20:42:57.8649124Z           shows the correct total donations
2024-02-29T20:42:57.8651761Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-29T20:42:57.8653541Z         filtering to 'This Month'
2024-02-29T20:42:59.4715863Z           shows the correct total money raised
2024-02-29T20:43:00.9555055Z           shows the correct total donations
2024-02-29T20:43:02.4204277Z           shows 1 Recent Donation link(s)
2024-02-29T20:43:02.4208617Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-29T20:43:02.4209877Z         filtering to 'This Year'
2024-02-29T20:43:03.8662546Z           shows the correct total donations
2024-02-29T20:43:05.3323519Z           shows the correct total money raised
2024-02-29T20:43:06.7812236Z           shows 1 Recent Donation link(s)
2024-02-29T20:43:06.7813133Z     Distributions
2024-02-29T20:43:07.7177672Z       has a link to create a new distribution
2024-02-29T20:43:07.7179338Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-29T20:43:07.7180776Z         filtering to 'Last Month'
2024-02-29T20:43:09.1977912Z           shows the correct total and 2 Recent Distribution link(s)
2024-02-29T20:43:09.1979953Z       given 1 Distribution on 2024-02-22  (unless 'All Time'), 4 during 2024-02-23..2024-02-29, and 1 on 2024-03-01
2024-02-29T20:43:09.1980875Z         filtering to 'Last 7 Days'
2024-02-29T20:43:10.6846941Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-29T20:43:10.6848796Z       given 1 Distribution on 2022-02-27  (unless 'All Time'), 4 during 2022-02-28..2023-12-05, and 1 on 2023-12-06
2024-02-29T20:43:10.6850167Z         filtering to '' (February 28, 2022 - December 5, 2023)
2024-02-29T20:43:12.2109355Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-29T20:43:12.2111660Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 0 during 2000-01-01..2024-02-29, and 1 on 2024-03-01
2024-02-29T20:43:12.2113398Z         filtering to 'All Time'
2024-02-29T20:43:15.6016343Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-29T20:43:15.6018433Z       given 1 Distribution on 2024-01-30  (unless 'All Time'), 3 during 2024-01-31..2024-02-29, and 1 on 2024-03-01
2024-02-29T20:43:15.6019808Z         filtering to 'Last 30 Days'
2024-02-29T20:43:17.0614908Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-29T20:43:17.0617184Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-29T20:43:17.0618445Z         filtering to 'This Year'
2024-02-29T20:43:18.5871217Z           shows the correct total and 1 Recent Distribution link(s)
2024-02-29T20:43:18.5873089Z       given 1 Distribution on 2024-02-28  (unless 'All Time'), 1 during 2024-02-29..2024-02-29, and 1 on 2024-03-01
2024-02-29T20:43:18.5874629Z         filtering to 'Today'
2024-02-29T20:43:20.0777714Z           shows the correct total and 1 Recent Distribution link(s)
2024-02-29T20:43:20.0779586Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-29T20:43:20.0780653Z         filtering to 'This Month'
2024-02-29T20:43:21.5666433Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-29T20:43:21.5668147Z       given 1 Distribution on 2024-02-27  (unless 'All Time'), 1 during 2024-02-28..2024-02-28, and 1 on 2024-02-29
2024-02-29T20:43:21.5669834Z         filtering to 'Yesterday'
2024-02-29T20:43:23.0213617Z           shows the correct total and 1 Recent Distribution link(s)
2024-02-29T20:43:23.0214542Z     Signage
2024-02-29T20:43:25.9364869Z       shows their organization name unless they have a logo set
2024-02-29T20:43:25.9365865Z     Donations
2024-02-29T20:43:26.8638786Z       has a link to create a new donation
2024-02-29T20:43:26.8640527Z       given 1 Donation on 2023-12-31 (only if a valid date), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-29T20:43:26.8641848Z         filtering to 'This Year'
2024-02-29T20:43:30.2741510Z           shows the correct total and 0 Recent Donation link(s)
2024-02-29T20:43:30.2743552Z       given 1 Donation on 2022-02-27 (only if a valid date), 2 during 2022-02-28..2024-02-08, and 1 on 2024-02-09
2024-02-29T20:43:30.2745046Z         filtering to '' (February 28, 2022 - February 8, 2024)
2024-02-29T20:43:31.7950755Z           shows the correct total and 2 Recent Donation link(s)
2024-02-29T20:43:31.7952738Z       given 1 Donation on 2024-02-28 (only if a valid date), 4 during 2024-02-29..2024-02-29, and 1 on 2024-03-01
2024-02-29T20:43:31.7953983Z         filtering to 'Today'
2024-02-29T20:43:33.4050923Z           shows the correct total and 3 Recent Donation link(s)
2024-02-29T20:43:33.4052441Z       given 1 Donation on 2024-02-27 (only if a valid date), 0 during 2024-02-28..2024-02-28, and 1 on 2024-02-29
2024-02-29T20:43:33.4053574Z         filtering to 'Yesterday'
2024-02-29T20:43:36.8286756Z           shows the correct total and 0 Recent Donation link(s)
2024-02-29T20:43:36.8288717Z       given 1 Donation on 2024-01-31 (only if a valid date), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-29T20:43:36.8290039Z         filtering to 'This Month'
2024-02-29T20:43:38.4234230Z           shows the correct total and 3 Recent Donation link(s)
2024-02-29T20:43:38.4236156Z       given 1 Donation on 2023-12-31 (only if a valid date), 1 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-29T20:43:38.4237851Z         filtering to 'Last Month'
2024-02-29T20:43:39.8900237Z           shows the correct total and 1 Recent Donation link(s)
2024-02-29T20:43:39.8902240Z       given 1 Donation on 2024-02-22 (only if a valid date), 2 during 2024-02-23..2024-02-29, and 1 on 2024-03-01
2024-02-29T20:43:39.8903477Z         filtering to 'Last 7 Days'
2024-02-29T20:43:41.4269255Z           shows the correct total and 2 Recent Donation link(s)
2024-02-29T20:43:41.4270899Z       given 1 Donation on 2024-01-30 (only if a valid date), 2 during 2024-01-31..2024-02-29, and 1 on 2024-03-01
2024-02-29T20:43:41.4271731Z         filtering to 'Last 30 Days'
2024-02-29T20:43:42.9958288Z           shows the correct total and 2 Recent Donation link(s)
2024-02-29T20:43:42.9960253Z 
2024-02-29T20:43:42.9960661Z Admin Organization Management
2024-02-29T20:43:42.9962202Z   While signed in as an Administrative User with no organization (super admin no org)
2024-02-29T20:43:44.9936189Z     creates a new organization
2024-02-29T20:43:44.9937077Z   While signed in as an Administrative User (super admin)
2024-02-29T20:43:46.3382903Z     can view organization details
2024-02-29T20:43:48.3240341Z     creates a new organization
2024-02-29T20:43:49.4491117Z     filters by organizations by name in organizations index page
2024-02-29T20:43:49.4491958Z 
2024-02-29T20:43:49.4492517Z Profiles
2024-02-29T20:43:49.4493590Z   GET #edit
2024-02-29T20:43:49.5562499Z     returns http success
2024-02-29T20:43:49.5563654Z   POST #update
2024-02-29T20:43:49.5564486Z     successful save
2024-02-29T20:43:49.6063502Z       redirects to #show
2024-02-29T20:43:49.6562270Z       update partner
2024-02-29T20:43:49.6563103Z     when updating an existing value to a blank value
2024-02-29T20:43:49.7079045Z       update partner
2024-02-29T20:43:49.7587738Z       should have blank values
2024-02-29T20:43:49.7589122Z 
2024-02-29T20:43:49.7589701Z StorageLocations
2024-02-29T20:43:49.7590806Z   While signed in
2024-02-29T20:43:49.7592613Z     GET #destroy
2024-02-29T20:43:49.7894165Z       redirects to #index
2024-02-29T20:43:49.7895004Z     GET #edit
2024-02-29T20:43:50.2612769Z       returns http success
2024-02-29T20:43:50.2613694Z     GET #new
2024-02-29T20:43:50.2996589Z       returns http success
2024-02-29T20:43:50.2997431Z     PUT #deactivate
2024-02-29T20:43:50.3245728Z       discards
2024-02-29T20:43:50.3246548Z       with inventory
2024-02-29T20:43:50.3833954Z         does not discard
2024-02-29T20:43:50.3834842Z     GET #inventory
2024-02-29T20:43:50.3835967Z       without any overrides
2024-02-29T20:43:50.4548432Z         returns a collection that only includes items at the storage location
2024-02-29T20:43:50.4549526Z       when also including inactive items
2024-02-29T20:43:50.5358338Z         returns a collection that also includes items that have been deactivated
2024-02-29T20:43:50.5359193Z       when also including omitted items
2024-02-29T20:43:50.6172371Z         returns a collection that also includes all items, but with zeroed quantities
2024-02-29T20:43:50.6797186Z         contains a collection of ducktyped entries that respond the same
2024-02-29T20:43:50.6798214Z     PUT #reactivate
2024-02-29T20:43:50.6997748Z       undiscards
2024-02-29T20:43:50.6998242Z     GET #index
2024-02-29T20:43:50.6999511Z       html
2024-02-29T20:43:50.7429252Z         succeeds
2024-02-29T20:43:50.7429803Z         with inactive locations
2024-02-29T20:43:50.7863770Z           does not includes the inactive location
2024-02-29T20:43:50.7864564Z           with include_inactive_locations
2024-02-29T20:43:50.8325147Z             includes the inactive location
2024-02-29T20:43:50.8325852Z       csv
2024-02-29T20:43:50.9477500Z         includes headers followed by alphabetized item names
2024-02-29T20:43:50.9718232Z         succeeds
2024-02-29T20:43:50.9718981Z     Looking at a different organization
2024-02-29T20:43:51.1677740Z       redirects the user to the sign-in page for CRUD actions
2024-02-29T20:43:51.1678581Z     GET #show
2024-02-29T20:43:51.1678968Z       html
2024-02-29T20:43:51.2456257Z         should return a correct response
2024-02-29T20:43:51.2457041Z         with version date set
2024-02-29T20:43:51.2457600Z           with no version found
2024-02-29T20:43:51.3249997Z             should show N/A
2024-02-29T20:43:51.3250667Z           with a version found
2024-02-29T20:43:51.4156470Z             should show the version specified
2024-02-29T20:43:51.4157154Z       csv
2024-02-29T20:43:51.4723513Z         should be successful
2024-02-29T20:43:51.4724197Z     POST #import_csv
2024-02-29T20:43:51.4725396Z       without a csv file
2024-02-29T20:43:51.4873204Z         presents a flash error message
2024-02-29T20:43:51.5005766Z         redirects to :index
2024-02-29T20:43:51.5006332Z       csv file with wrong headers
2024-02-29T20:43:51.5160285Z         redirects
2024-02-29T20:43:51.5319323Z         presents a flash error message
2024-02-29T20:43:51.5320028Z       with a csv file
2024-02-29T20:43:51.5513793Z         redirects
2024-02-29T20:43:51.5572912Z         invokes .import_csv
2024-02-29T20:43:51.5745076Z         presents a flash notice message
2024-02-29T20:43:51.5746043Z   While not signed in
2024-02-29T20:43:51.5824344Z     redirects the user to the sign-in page for CRUD actions
2024-02-29T20:43:51.5824893Z 
2024-02-29T20:43:51.5825115Z Audits
2024-02-29T20:43:51.5826487Z   while signed in as an organization admin
2024-02-29T20:43:51.5827668Z     POST #create
2024-02-29T20:43:51.5828572Z       with invalid params
2024-02-29T20:43:51.6488185Z         re-renders the 'new' template with an error message when an invalid storage location is given
2024-02-29T20:43:51.6901311Z         re-renders the 'new' template
2024-02-29T20:43:51.7308893Z         assigns a newly created but unsaved audit as @audit
2024-02-29T20:43:51.7309836Z       with valid params
2024-02-29T20:43:51.7753499Z         creates a new Audit with status as `in_progress` if `save_progress` is passed as a param
2024-02-29T20:43:51.8171220Z         creates a new Audit
2024-02-29T20:43:51.8598283Z         creates a new Audit with status as `confirmed` if `confirm_audit` is passed as a param
2024-02-29T20:43:51.9001598Z         redirects to the #show after created audit
2024-02-29T20:43:51.9430169Z         assigns a newly created audit as @audit
2024-02-29T20:43:51.9430846Z     GET #edit
2024-02-29T20:43:52.0261399Z       is successful if the status of audit is `in_progress`
2024-02-29T20:43:52.1002815Z       redirects to #index if the status of audit is not `in_progress`
2024-02-29T20:43:52.1003661Z     GET #show
2024-02-29T20:43:52.1584287Z       is successful
2024-02-29T20:43:52.1586292Z     POST #finalize
2024-02-29T20:43:52.2285013Z       sets the finalize status and saves an event
2024-02-29T20:43:52.2285777Z     DELETE #destroy
2024-02-29T20:43:52.2286246Z       with valid params
2024-02-29T20:43:52.2677239Z         can not destroy the audit if the audit's status is `finalized`
2024-02-29T20:43:52.3074073Z         destroys the audit if the audit's status is `confirms`
2024-02-29T20:43:52.3483571Z         destroys the audit if the audit's status is `in_progress`
2024-02-29T20:43:52.3484275Z     GET #new
2024-02-29T20:43:52.3927213Z       is successful
2024-02-29T20:43:52.3927608Z     GET #index
2024-02-29T20:43:52.4525051Z       is successful
2024-02-29T20:43:52.4769600Z W, [2024-02-29T12:43:52.476723 #2458]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-02-29T20:43:52.4771354Z W, [2024-02-29T12:43:52.476778 #2458]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-29T20:43:52.4773537Z W, [2024-02-29T12:43:52.476795 #2458]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-29T20:43:52.4776231Z W, [2024-02-29T12:43:52.476829 #2458]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-02-29T20:43:52.4777286Z 
2024-02-29T20:43:52.4777628Z Finished in 3 minutes 39.8 seconds (files took 8.58 seconds to load)
2024-02-29T20:43:52.4778300Z 239 examples, 0 failures
2024-02-29T20:43:52.4778567Z 
2024-02-29T20:43:52.4778728Z Randomized with seed 54916
2024-02-29T20:43:52.4779024Z 
2024-02-29T20:43:52.8795187Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3815 / 6426 LOC (59.37%) covered.
2024-02-29T20:43:53.5552018Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10678 LOC (0.36%) covered.
