2024-02-21T09:41:34.8823238Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-02-21T09:41:34.8824129Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-02-21T09:41:34.8851817Z shell: /usr/bin/bash -e {0}
2024-02-21T09:41:34.8852304Z env:
2024-02-21T09:41:34.8852621Z   POSTGRES_HOST: localhost
2024-02-21T09:41:34.8853088Z   DATABASE_HOST: localhost
2024-02-21T09:41:34.8853457Z   PG_USERNAME: postgres
2024-02-21T09:41:34.8853783Z   PG_PASSWORD: password
2024-02-21T09:41:34.8854243Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-02-21T09:41:34.8854663Z   POSTGRES_PORT: 5432
2024-02-21T09:41:34.8855037Z   PGHOST: localhost
2024-02-21T09:41:34.8855428Z   PGUSER: postgres
2024-02-21T09:41:34.8855721Z   RAILS_ENV: test
2024-02-21T09:41:34.8856088Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-02-21T09:41:34.8856619Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-02-21T09:41:34.8857033Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-02-21T09:41:34.8857465Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-02-21T09:41:34.8858090Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-02-21T09:41:34.8858673Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-02-21T09:41:34.8859410Z   EVENTS_READ: true
2024-02-21T09:41:34.8859758Z ##[endgroup]
2024-02-21T09:41:40.3740511Z W, [2024-02-21T09:41:40.373723 #2360]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-02-21T09:41:40.3742672Z W, [2024-02-21T09:41:40.373770 #2360]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-21T09:41:40.3745040Z W, [2024-02-21T09:41:40.373785 #2360]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-21T09:41:40.3750263Z W, [2024-02-21T09:41:40.373808 #2360]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-02-21T09:41:42.9946659Z W, [2024-02-21T09:41:42.994364 #2360]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-02-21T09:41:42.9948906Z W, [2024-02-21T09:41:42.994406 #2360]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-21T09:41:42.9951367Z W, [2024-02-21T09:41:42.994419 #2360]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-21T09:41:42.9955343Z W, [2024-02-21T09:41:42.994463 #2360]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-02-21T09:41:43.0007206Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/partners/children_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-02-21T09:41:51.1795649Z 
2024-02-21T09:41:51.1796307Z Randomized with seed 28383
2024-02-21T09:41:52.0715397Z 
2024-02-21T09:41:52.0716332Z Kit management
2024-02-21T09:41:55.0721251Z   can allocate and deallocate quantity per storage location from kit index
2024-02-21T09:41:55.6452464Z   should not display inactive storage locations under allocations
2024-02-21T09:41:56.6076120Z   can create a new kit as a user with the proper quantity
2024-02-21T09:41:56.6076912Z   when there is no kit quantity
2024-02-21T09:41:57.7739028Z     will not change quantity amounts when deallocating
2024-02-21T09:41:57.7740239Z   when there is not enough quantity of the items contained in the kit on-hand
2024-02-21T09:41:58.8757592Z     will not change quantity amounts when allocating
2024-02-21T09:41:58.8758249Z 
2024-02-21T09:41:58.8758476Z Vendor
2024-02-21T09:41:58.8760311Z   when editing an existing vendor
2024-02-21T09:41:59.7432891Z     can update the contact info for a vendor as a user
2024-02-21T09:42:00.5140153Z     does not update a vendor with empty attributes
2024-02-21T09:42:00.5140898Z   When a user views the index page
2024-02-21T09:42:00.9798349Z     should have the vendor names in alphabetical order
2024-02-21T09:42:00.9799218Z   When vendor have purchases associated with them already
2024-02-21T09:42:01.5959945Z     can have a single vendor show semi-detailed stats about purchases
2024-02-21T09:42:02.1980751Z     can have existing vendors show in the #index with some summary stats
2024-02-21T09:42:02.1981835Z   when creating a new vendor
2024-02-21T09:42:02.9259875Z     cannot add a new vendor instance with empty attributes
2024-02-21T09:42:03.6930070Z     can create a new vendor instance as a user
2024-02-21T09:42:03.6930617Z 
2024-02-21T09:42:03.6930868Z Admin Organization Management
2024-02-21T09:42:03.6932397Z   While signed in as an Administrative User with no organization (super admin no org)
2024-02-21T09:42:05.7121209Z     creates a new organization
2024-02-21T09:42:05.7122176Z   While signed in as an Administrative User (super admin)
2024-02-21T09:42:07.0075542Z     can view organization details
2024-02-21T09:42:08.8872604Z     creates a new organization
2024-02-21T09:42:09.9546408Z     filters by organizations by name in organizations index page
2024-02-21T09:42:09.9547166Z 
2024-02-21T09:42:09.9547478Z Organization management
2024-02-21T09:42:09.9548729Z   while signed in as an organization admin
2024-02-21T09:42:11.0391405Z     can deactivate a user in the organization
2024-02-21T09:42:12.0098446Z     can re-activate a user in the organization
2024-02-21T09:42:12.4832432Z     can see 'Make user' button for admins
2024-02-21T09:42:12.9759576Z     can re-invite a user to an organization after 7 days
2024-02-21T09:42:13.9805649Z     can add a new user to an organization
2024-02-21T09:42:13.9806895Z     Editing the organization
2024-02-21T09:42:15.1297028Z       can enable if the org uses single step invite and approve partner process
2024-02-21T09:42:16.1174199Z       can select if the org distributes essentials monthly
2024-02-21T09:42:16.9631546Z       can set a default storage location on the organization
2024-02-21T09:42:17.7996735Z       can set the NDBN Member ID
2024-02-21T09:42:19.2474158Z       can select and deselect Required Partner Fields
2024-02-21T09:42:20.2325431Z       can disable if the org does NOT use single step invite and approve partner process
2024-02-21T09:42:21.0840527Z       can set a reminder and a deadline day
2024-02-21T09:42:22.2219506Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-02-21T09:42:23.1989471Z       can select if the org repackages essentials
2024-02-21T09:42:24.1830833Z       can select if the org shows year-to-date values on the distribution printout
2024-02-21T09:42:24.1831964Z     Viewing the organization
2024-02-21T09:42:24.7632205Z       can view organization details
2024-02-21T09:42:24.7632982Z   while signed in as a normal user
2024-02-21T09:42:25.2184467Z     can see summary details about the organization as a user
2024-02-21T09:42:25.7000115Z     cannot see 'Make user' button for admins
2024-02-21T09:42:25.7000841Z 
2024-02-21T09:42:25.7001057Z /partners/profiles
2024-02-21T09:42:25.7002187Z   GET #show
2024-02-21T09:42:25.7715499Z     shows correct values for yes/no buttons
2024-02-21T09:42:25.8191853Z     displays the partner
2024-02-21T09:42:25.8192542Z   PUT #update
2024-02-21T09:42:25.8793177Z     updates the partner and profile
2024-02-21T09:42:25.8793861Z     with no social media
2024-02-21T09:42:26.1407151Z       shows an error
2024-02-21T09:42:26.1407843Z     when updating an existing value to a blank value
2024-02-21T09:42:26.1961528Z       does store N/A in the database
2024-02-21T09:42:26.2478565Z       updates the partner profile attribute to a blank value
2024-02-21T09:42:26.2977296Z       does not update other partner profile attributes to blank
2024-02-21T09:42:26.2978171Z   GET #edit
2024-02-21T09:42:26.3930563Z     has "No" radio button value when value is false
2024-02-21T09:42:26.4860052Z     does not have default radio button value when value is nil
2024-02-21T09:42:26.5693500Z     displays the partner
2024-02-21T09:42:26.6536068Z     has "Yes" radio button value when value is true
2024-02-21T09:42:26.6537392Z 
2024-02-21T09:42:26.6539810Z Admin::Organizations
2024-02-21T09:42:26.6540510Z   When logged in as a super admin
2024-02-21T09:42:26.6541410Z     DELETE #destroy
2024-02-21T09:42:26.6542779Z       with a valid organization id
2024-02-21T09:42:27.2025370Z         redirects to #index
2024-02-21T09:42:27.2026475Z     PUT #update
2024-02-21T09:42:27.2216928Z       redirect
2024-02-21T09:42:27.2217439Z     PATCH #update
2024-02-21T09:42:27.2218205Z       with a valid update
2024-02-21T09:42:27.4097762Z         redirects to #index
2024-02-21T09:42:27.4099203Z       with an invalid update
2024-02-21T09:42:27.6134990Z         returns http success
2024-02-21T09:42:27.8247643Z         redirects to #edit with an error message
2024-02-21T09:42:27.8248916Z     GET #show
2024-02-21T09:42:28.0241477Z       returns http success
2024-02-21T09:42:28.0242234Z     GET #new
2024-02-21T09:42:28.0602659Z       returns http success
2024-02-21T09:42:28.0603882Z       when given a token that matches a account request that has already been processed
2024-02-21T09:42:28.2878048Z         should render new with a flash error message
2024-02-21T09:42:28.2879151Z       when given a valid account request token in the query parameters
2024-02-21T09:42:28.3378013Z         should render new with pre populate input fields from the account_request
2024-02-21T09:42:28.3379033Z     DELETE #destroy
2024-02-21T09:42:28.7008284Z       redirects
2024-02-21T09:42:28.7008757Z     GET #index
2024-02-21T09:42:28.7315083Z       returns http success
2024-02-21T09:42:28.7316058Z     GET #edit
2024-02-21T09:42:28.9342797Z       returns http success
2024-02-21T09:42:28.9343852Z     POST #create
2024-02-21T09:42:28.9344445Z       with invalid params
2024-02-21T09:42:28.9750336Z         does not create an organization and renders #create with an error message
2024-02-21T09:42:28.9751599Z       with valid params
2024-02-21T09:42:29.1765187Z         creates an organization and redirects to #index
2024-02-21T09:42:29.1766318Z   When logged in as a non-admin user
2024-02-21T09:42:29.1767194Z     GET #new
2024-02-21T09:42:29.1890154Z       redirects
2024-02-21T09:42:29.1890735Z     PUT #update
2024-02-21T09:42:29.2006042Z       redirects
2024-02-21T09:42:29.2006762Z     POST #create
2024-02-21T09:42:29.2134014Z       redirects
2024-02-21T09:42:29.2134694Z     GET #index
2024-02-21T09:42:29.2247086Z       redirects
2024-02-21T09:42:29.2247910Z     GET #edit
2024-02-21T09:42:29.2364740Z       redirects
2024-02-21T09:42:29.2368355Z 
2024-02-21T09:42:29.2368713Z Dashboard
2024-02-21T09:42:29.2370020Z   With a new essentials bank
2024-02-21T09:42:57.7091083Z     displays the getting started guide until the steps are completed
2024-02-21T09:42:57.7091784Z   With an existing essentials bank
2024-02-21T09:42:57.7092746Z     Purchases
2024-02-21T09:42:58.6385498Z       has a link to create a new purchase
2024-02-21T09:42:58.6387400Z       given 1 Purchase on 2024-01-22  (unless 'All Time'), 3 during 2024-01-23..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:42:58.6388642Z         filtering to 'Last 30 Days'
2024-02-21T09:43:00.1910825Z           shows correct 3 Recent Purchase link(s)
2024-02-21T09:43:00.1912621Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 4 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-21T09:43:00.1913876Z         filtering to 'This Year'
2024-02-21T09:43:01.7038901Z           shows correct 3 Recent Purchase link(s)
2024-02-21T09:43:01.7040424Z       given 1 Purchase on 2024-02-19  (unless 'All Time'), 4 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-21T09:43:01.7041572Z         filtering to 'Yesterday'
2024-02-21T09:43:03.2341414Z           shows correct 3 Recent Purchase link(s)
2024-02-21T09:43:03.2343059Z       given 1 Purchase on 2022-02-20  (unless 'All Time'), 1 during 2022-02-21..2024-02-07, and 1 on 2024-02-08
2024-02-21T09:43:03.2344205Z         filtering to '' (February 21, 2022 - February 7, 2024)
2024-02-21T09:43:04.6326914Z           shows correct 1 Recent Purchase link(s)
2024-02-21T09:43:04.6328279Z       given 1 Purchase on 2024-02-20  (unless 'All Time'), 0 during 2024-02-21..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:43:04.6329263Z         filtering to 'Today'
2024-02-21T09:43:07.9704386Z           shows correct 0 Recent Purchase link(s)
2024-02-21T09:43:07.9706045Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-21T09:43:07.9707502Z         filtering to 'This Month'
2024-02-21T09:43:09.4590909Z           shows correct 3 Recent Purchase link(s)
2024-02-21T09:43:09.4592452Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-21T09:43:09.4593265Z         filtering to 'Last Month'
2024-02-21T09:43:10.8882891Z           shows correct 2 Recent Purchase link(s)
2024-02-21T09:43:10.8884761Z       given 1 Purchase on 2024-02-14  (unless 'All Time'), 4 during 2024-02-15..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:43:10.8886019Z         filtering to 'Last 7 Days'
2024-02-21T09:43:12.4346571Z           shows correct 3 Recent Purchase link(s)
2024-02-21T09:43:12.4347360Z     Distributions
2024-02-21T09:43:13.3854406Z       has a link to create a new distribution
2024-02-21T09:43:13.3855975Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-21T09:43:13.3857348Z         filtering to 'This Year'
2024-02-21T09:43:16.7630155Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-21T09:43:16.7632043Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-21T09:43:16.7633040Z         filtering to 'This Month'
2024-02-21T09:43:20.2225557Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-21T09:43:20.2228279Z       given 1 Distribution on 2024-01-22  (unless 'All Time'), 4 during 2024-01-23..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:43:20.2229430Z         filtering to 'Last 30 Days'
2024-02-21T09:43:21.7032400Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-21T09:43:21.7033960Z       given 1 Distribution on 2024-02-20  (unless 'All Time'), 4 during 2024-02-21..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:43:21.7035233Z         filtering to 'Today'
2024-02-21T09:43:23.1795908Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-21T09:43:23.1797926Z       given 1 Distribution on 2024-02-19  (unless 'All Time'), 0 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-21T09:43:23.1799181Z         filtering to 'Yesterday'
2024-02-21T09:43:26.5438069Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-21T09:43:26.5439859Z       given 1 Distribution on 2024-02-14  (unless 'All Time'), 4 during 2024-02-15..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:43:26.5441120Z         filtering to 'Last 7 Days'
2024-02-21T09:43:28.0518716Z           shows the correct total and 3 Recent Distribution link(s)
2024-02-21T09:43:28.0520580Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 2 during 2000-01-01..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:43:28.0521678Z         filtering to 'All Time'
2024-02-21T09:43:29.5012616Z           shows the correct total and 2 Recent Distribution link(s)
2024-02-21T09:43:29.5014701Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 0 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-21T09:43:29.5016019Z         filtering to 'Last Month'
2024-02-21T09:43:32.8500996Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-21T09:43:32.8502843Z       given 1 Distribution on 2022-02-20  (unless 'All Time'), 0 during 2022-02-21..2023-08-29, and 1 on 2023-08-30
2024-02-21T09:43:32.8504314Z         filtering to '' (February 21, 2022 - August 29, 2023)
2024-02-21T09:43:36.2725226Z           shows the correct total and 0 Recent Distribution link(s)
2024-02-21T09:43:36.2726118Z     Product Drives
2024-02-21T09:43:36.8513903Z       has a widget for product drive summary data
2024-02-21T09:43:36.8515838Z       given 1 Product Drive Donation on 2024-01-22 (unless 'All Time'), 0 during 2024-01-23..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:43:36.8517548Z         filtering to 'Last 30 Days'
2024-02-21T09:43:40.2376685Z           shows 0 Recent Donation link(s)
2024-02-21T09:43:41.5911080Z           shows the correct total money raised
2024-02-21T09:43:42.9399974Z           shows the correct total donations
2024-02-21T09:43:42.9401130Z       Product drive behaviour with Mixed Donation types
2024-02-21T09:43:43.6649921Z         only shows product drive donations as product drive donations
2024-02-21T09:43:44.5323441Z         only counts product drive money raised
2024-02-21T09:43:45.2479305Z         only counts product drive donations for product drive
2024-02-21T09:43:45.2480593Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 1 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-21T09:43:45.2481352Z         filtering to 'Last Month'
2024-02-21T09:43:46.6346973Z           shows the correct total money raised
2024-02-21T09:43:48.0543335Z           shows 1 Recent Donation link(s)
2024-02-21T09:43:49.4576369Z           shows the correct total donations
2024-02-21T09:43:49.4578091Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-21T09:43:49.4579486Z         filtering to 'This Month'
2024-02-21T09:43:50.8210963Z           shows the correct total money raised
2024-02-21T09:43:54.3033949Z           shows 0 Recent Donation link(s)
2024-02-21T09:43:55.6585602Z           shows the correct total donations
2024-02-21T09:43:55.6587426Z       given 1 Product Drive Donation on 2024-02-20 (unless 'All Time'), 0 during 2024-02-21..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:43:55.6588776Z         filtering to 'Today'
2024-02-21T09:43:57.0330842Z           shows the correct total money raised
2024-02-21T09:43:58.4213400Z           shows the correct total donations
2024-02-21T09:44:01.8521752Z           shows 0 Recent Donation link(s)
2024-02-21T09:44:01.8523440Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-21T09:44:01.8525527Z         filtering to 'This Year'
2024-02-21T09:44:05.1957863Z           shows 0 Recent Donation link(s)
2024-02-21T09:44:06.5249702Z           shows the correct total money raised
2024-02-21T09:44:07.8940413Z           shows the correct total donations
2024-02-21T09:44:07.8941759Z       given 1 Product Drive Donation on 2024-02-19 (unless 'All Time'), 2 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-21T09:44:07.8943060Z         filtering to 'Yesterday'
2024-02-21T09:44:09.3158856Z           shows the correct total donations
2024-02-21T09:44:10.7534235Z           shows the correct total money raised
2024-02-21T09:44:12.1701798Z           shows 2 Recent Donation link(s)
2024-02-21T09:44:12.1703450Z       given 1 Product Drive Donation on 2024-02-14 (unless 'All Time'), 0 during 2024-02-15..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:44:12.1704740Z         filtering to 'Last 7 Days'
2024-02-21T09:44:13.7093729Z           shows the correct total donations
2024-02-21T09:44:17.0701231Z           shows 0 Recent Donation link(s)
2024-02-21T09:44:18.4272276Z           shows the correct total money raised
2024-02-21T09:44:18.4273957Z       given 1 Product Drive Donation on 2022-02-20 (unless 'All Time'), 1 during 2022-02-21..2023-08-30, and 1 on 2023-08-31
2024-02-21T09:44:18.4275299Z         filtering to '' (February 21, 2022 - August 30, 2023)
2024-02-21T09:44:19.8389352Z           shows 1 Recent Donation link(s)
2024-02-21T09:44:21.2488056Z           shows the correct total donations
2024-02-21T09:44:22.6641886Z           shows the correct total money raised
2024-02-21T09:44:22.6642952Z     Inventory Totals
2024-02-21T09:44:22.6643949Z       Summary
2024-02-21T09:44:23.3795489Z         displays the on-hand totals
2024-02-21T09:44:23.3796096Z         when constrained to date range
2024-02-21T09:44:24.5057453Z           does not change
2024-02-21T09:44:24.5058235Z     Signage
2024-02-21T09:44:27.3855073Z       shows their organization name unless they have a logo set
2024-02-21T09:44:27.3855891Z     Donations
2024-02-21T09:44:28.3193721Z       has a link to create a new donation
2024-02-21T09:44:28.3195063Z       given 1 Donation on 2024-02-19 (only if a valid date), 0 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-21T09:44:28.3195953Z         filtering to 'Yesterday'
2024-02-21T09:44:31.6676776Z           shows the correct total and 0 Recent Donation link(s)
2024-02-21T09:44:31.6678590Z       given 1 Donation on 2023-12-31 (only if a valid date), 1 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-21T09:44:31.6679891Z         filtering to 'Last Month'
2024-02-21T09:44:33.0727580Z           shows the correct total and 1 Recent Donation link(s)
2024-02-21T09:44:33.0729002Z       given 1 Donation on 2024-02-20 (only if a valid date), 0 during 2024-02-21..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:44:33.0729967Z         filtering to 'Today'
2024-02-21T09:44:36.4380327Z           shows the correct total and 0 Recent Donation link(s)
2024-02-21T09:44:36.4382397Z       given 1 Donation on 2024-02-14 (only if a valid date), 2 during 2024-02-15..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:44:36.4383637Z         filtering to 'Last 7 Days'
2024-02-21T09:44:37.8889914Z           shows the correct total and 2 Recent Donation link(s)
2024-02-21T09:44:37.8891702Z       given 1 Donation on 2024-01-22 (only if a valid date), 4 during 2024-01-23..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:44:37.8893155Z         filtering to 'Last 30 Days'
2024-02-21T09:44:39.4145716Z           shows the correct total and 3 Recent Donation link(s)
2024-02-21T09:44:39.4147315Z       given 1 Donation on 2023-12-31 (only if a valid date), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-21T09:44:39.4148125Z         filtering to 'This Year'
2024-02-21T09:44:40.8981890Z           shows the correct total and 3 Recent Donation link(s)
2024-02-21T09:44:40.8983631Z       given 1 Donation on 2022-02-20 (only if a valid date), 1 during 2022-02-21..2023-09-19, and 1 on 2023-09-20
2024-02-21T09:44:40.8984798Z         filtering to '' (February 21, 2022 - September 19, 2023)
2024-02-21T09:44:42.3864224Z           shows the correct total and 1 Recent Donation link(s)
2024-02-21T09:44:42.3866084Z       given 1 Donation on 2024-01-31 (only if a valid date), 2 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-21T09:44:42.3867555Z         filtering to 'This Month'
2024-02-21T09:44:43.8495049Z           shows the correct total and 2 Recent Donation link(s)
2024-02-21T09:44:43.8496053Z     Manufacturer Donations
2024-02-21T09:44:44.4448288Z       has a link to create a new donation
2024-02-21T09:44:44.4450039Z       given 1 Manufacturer donating on 2024-02-14  (unless 'All Time'), 0 during 2024-02-15..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:44:44.4451363Z         filtering to 'Last 7 Days'
2024-02-21T09:44:45.7949507Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-02-21T09:44:45.7951730Z       given 1 Manufacturer donating on 2024-01-22  (unless 'All Time'), 6 during 2024-01-23..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:44:45.7953061Z         filtering to 'Last 30 Days'
2024-02-21T09:44:47.8133836Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-02-21T09:44:47.8135796Z       given 1 Manufacturer donating on 2024-02-20  (unless 'All Time'), 8 during 2024-02-21..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:44:47.8137283Z         filtering to 'Today'
2024-02-21T09:44:50.3899064Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-21T09:44:50.3900730Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 9 during 2000-01-01..2024-02-21, and 1 on 2024-02-22
2024-02-21T09:44:50.3901700Z         filtering to 'All Time'
2024-02-21T09:44:52.6972791Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-21T09:44:52.6975013Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 8 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-02-21T09:44:52.6976402Z         filtering to 'This Year'
2024-02-21T09:44:55.0916602Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-21T09:44:55.0918097Z       given 1 Manufacturer donating on 2024-02-19  (unless 'All Time'), 8 during 2024-02-20..2024-02-20, and 1 on 2024-02-21
2024-02-21T09:44:55.0918930Z         filtering to 'Yesterday'
2024-02-21T09:44:57.5556551Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-21T09:44:57.5558575Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 6 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-02-21T09:44:57.5560135Z         filtering to 'This Month'
2024-02-21T09:44:59.6165056Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-02-21T09:44:59.6167269Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 7 during 2024-01-01..2024-01-31, and 1 on 2024-02-01
2024-02-21T09:44:59.6168658Z         filtering to 'Last Month'
2024-02-21T09:45:02.0711522Z           shows the correct total and 9 Top Manufacturer Donation link(s)
2024-02-21T09:45:02.0713564Z       given 1 Manufacturer donating on 2022-02-20  (unless 'All Time'), 8 during 2022-02-21..2023-11-20, and 1 on 2023-11-21
2024-02-21T09:45:02.0714970Z         filtering to '' (February 21, 2022 - November 20, 2023)
2024-02-21T09:45:04.3512872Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-02-21T09:45:04.3514460Z 
2024-02-21T09:45:04.3516522Z DonationSites
2024-02-21T09:45:04.3517086Z   while signed in
2024-02-21T09:45:04.3517686Z     GET #index
2024-02-21T09:45:04.3518392Z       html
2024-02-21T09:45:04.3913732Z         is expected to be successful
2024-02-21T09:45:04.3914623Z       csv
2024-02-21T09:45:04.4074630Z         is expected to be successful
2024-02-21T09:45:04.4076002Z 
2024-02-21T09:45:04.4076343Z Managing requests
2024-02-21T09:45:04.4078209Z   creating a individuals/family request
2024-02-21T09:45:04.4079696Z     GIVEN a partner user is permitted to make a request
2024-02-21T09:45:04.4080621Z       WHEN they create a request inproperly
2024-02-21T09:45:05.2917743Z         should show an error message with the instructions
2024-02-21T09:45:05.2918805Z       WHEN they create a request properly
2024-02-21T09:45:05.2920220Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-02-21T09:45:07.4055983Z           AND the partner_user can view the details of the created individuals request in a seperate page
2024-02-21T09:45:07.4057398Z   creating a request
2024-02-21T09:45:07.4058112Z     GIVEN a partner user is permitted to make a request
2024-02-21T09:45:07.4059274Z       WHEN they create a request inproperly by not inputting anything
2024-02-21T09:45:08.3100312Z         should show an error message with the instructions
2024-02-21T09:45:08.3101009Z       WHEN they create a request with only a comment
2024-02-21T09:45:09.2467159Z         should be created without any issue
2024-02-21T09:45:09.2468076Z       WHEN they create a request properly
2024-02-21T09:45:09.2469609Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-02-21T09:45:11.4712214Z           AND the partner_user can view the details of the created request in a seperate page
2024-02-21T09:45:11.4715335Z 
2024-02-21T09:45:11.4715819Z /account_requests
2024-02-21T09:45:11.4717231Z   GET #received
2024-02-21T09:45:11.4717899Z     when given a invalid token
2024-02-21T09:45:11.4805827Z       should render a error that says that is code provided is invalid
2024-02-21T09:45:11.4806772Z     when given a valid token
2024-02-21T09:45:11.4981904Z       should render the received template
2024-02-21T09:45:11.4982828Z   GET #confirmation
2024-02-21T09:45:11.4983502Z     when given a token that has already been confirmed
2024-02-21T09:45:11.6811577Z       should render a error that says that is code provided is invalid
2024-02-21T09:45:11.6812735Z     when given a invalid token
2024-02-21T09:45:11.6869929Z       should render a error that says that is code provided is invalid
2024-02-21T09:45:11.6871135Z     when given a valid token
2024-02-21T09:45:11.7005598Z       should render the confirmation template
2024-02-21T09:45:11.7006556Z   GET #confirm
2024-02-21T09:45:11.7007274Z     when given a valid token
2024-02-21T09:45:11.7179385Z       should the update confirmed_at on the account_request, queue confirmation email and render confirm template
2024-02-21T09:45:11.7180767Z     when given a token that has already been confirmed
2024-02-21T09:45:11.9063542Z       should render a error that says that is code provided is invalid
2024-02-21T09:45:11.9064715Z     when given a invalid token
2024-02-21T09:45:11.9123966Z       should render a error that says that is code provided is invalid
2024-02-21T09:45:11.9124984Z   POST #create
2024-02-21T09:45:11.9125492Z     with valid parameters
2024-02-21T09:45:11.9351082Z       delivers the confirmation email via default queue
2024-02-21T09:45:11.9664072Z       creates a new AccountRequest
2024-02-21T09:45:11.9913371Z       redirects to the created account_request confirmation
2024-02-21T09:45:11.9914525Z     with invalid parameters
2024-02-21T09:45:12.0301334Z       renders a successful response (i.e. to display the 'new' template)
2024-02-21T09:45:12.0737611Z       does not create a new AccountRequest
2024-02-21T09:45:12.0738679Z   GET #new
2024-02-21T09:45:12.1003172Z     renders a successful response
2024-02-21T09:45:12.1003736Z 
2024-02-21T09:45:12.1004267Z /partners/children
2024-02-21T09:45:12.1005363Z   GET #index
2024-02-21T09:45:12.2494751Z     should export CSV
2024-02-21T09:45:12.3098642Z     should render without any issues
2024-02-21T09:45:12.3099272Z 
2024-02-21T09:45:12.3099536Z User account management
2024-02-21T09:45:12.3100853Z   when not in staging
2024-02-21T09:45:13.2148317Z     should change the email
2024-02-21T09:45:14.0739439Z     should change an user name
2024-02-21T09:45:14.8506163Z     should fail when the email is invalid
2024-02-21T09:45:14.8507198Z   when in staging
2024-02-21T09:45:15.3100410Z     should not allow the user to change staging credentials
2024-02-21T09:45:15.7474002Z     should display staging warning
2024-02-21T09:45:15.7475075Z 
2024-02-21T09:45:15.7475326Z Purchases
2024-02-21T09:45:15.7477339Z   while signed in as an organization admin
2024-02-21T09:45:16.6208308Z     allows deletion of a purchase
2024-02-21T09:45:16.6209182Z   while signed in as a normal user
2024-02-21T09:45:16.6210157Z     When visiting an existing purchase
2024-02-21T09:45:17.0944030Z       does not allow deletion of a purchase
2024-02-21T09:45:17.0944779Z     When creating a new purchase
2024-02-21T09:45:17.5785109Z       should not display inactive storage locations in dropdown
2024-02-21T09:45:17.5786228Z       Editing purchase
2024-02-21T09:45:18.0669494Z         A user can see purchased_from value
2024-02-21T09:45:18.6868960Z         A user can view another organizations purchase
2024-02-21T09:45:18.6869742Z       via barcode entry
2024-02-21T09:45:19.4633774Z         a user can add items via scanning them in by barcode
2024-02-21T09:45:20.3580147Z         User scan same barcode 2 times
2024-02-21T09:45:21.5621651Z         a user can add items that do not yet have a barcode
2024-02-21T09:45:21.5622271Z       via manual entry
2024-02-21T09:45:22.7353240Z         multiple line items for the same item type are accepted and combined on the backend
2024-02-21T09:45:23.8275673Z         User can create a purchase IN THE PAST
2024-02-21T09:45:24.7483404Z         User can create a purchase using dollars decimal amount
2024-02-21T09:45:25.7937002Z         User can create vendor from purchase
2024-02-21T09:45:26.8253557Z         Does not include inactive items in the line item fields
2024-02-21T09:45:26.8254445Z         when creating a purchase incorrectly
2024-02-21T09:45:27.6159008Z           should display failure with error messages
2024-02-21T09:45:28.6252854Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-02-21T09:45:28.6253806Z     When visiting the index page
2024-02-21T09:45:28.6254925Z       When filtering on the index page
2024-02-21T09:45:29.4509105Z         User can filter the #index by storage location
2024-02-21T09:45:30.3207214Z         User can filter the #index by vendor
2024-02-21T09:45:30.3208140Z         behaves like Date Range Picker
2024-02-21T09:45:30.3209221Z           when choosing 'All Time'
2024-02-21T09:45:31.3636547Z             shows all the records
2024-02-21T09:45:31.3639732Z           when choosing 'Last Month'
2024-02-21T09:45:32.4266170Z             shows only 2 of the records
2024-02-21T09:45:32.4266910Z           when choosing a date range that only includes the previous week
2024-02-21T09:45:33.4725319Z             shows only 1 record
2024-02-21T09:45:33.4726335Z       In the middle of the year
2024-02-21T09:45:34.2431289Z         User can click to the new purchase form
2024-02-21T09:45:34.9915608Z         User sees purchased date column
2024-02-21T09:45:35.7570629Z         User sees total purchases value
2024-02-21T09:45:35.7572166Z 
2024-02-21T09:45:35.7572415Z Audits
2024-02-21T09:45:35.7574371Z   while signed in as an organization admin
2024-02-21T09:45:35.7575867Z     POST #finalize
2024-02-21T09:45:35.8303143Z       sets the finalize status and saves an event
2024-02-21T09:45:35.8303783Z     GET #edit
2024-02-21T09:45:35.8921446Z       redirects to #index if the status of audit is not `in_progress`
2024-02-21T09:45:35.9518447Z       is successful if the status of audit is `in_progress`
2024-02-21T09:45:35.9519340Z     GET #index
2024-02-21T09:45:36.0038587Z       is successful
2024-02-21T09:45:36.0039260Z     GET #show
2024-02-21T09:45:36.0501995Z       is successful
2024-02-21T09:45:36.0502832Z     DELETE #destroy
2024-02-21T09:45:36.0503452Z       with valid params
2024-02-21T09:45:36.0843615Z         destroys the audit if the audit's status is `in_progress`
2024-02-21T09:45:36.1161910Z         can not destroy the audit if the audit's status is `finalized`
2024-02-21T09:45:36.1502612Z         destroys the audit if the audit's status is `confirms`
2024-02-21T09:45:36.1503483Z     GET #new
2024-02-21T09:45:36.1855445Z       is successful
2024-02-21T09:45:36.1856151Z     POST #create
2024-02-21T09:45:36.1856784Z       with valid params
2024-02-21T09:45:36.2220907Z         creates a new Audit with status as `confirmed` if `confirm_audit` is passed as a param
2024-02-21T09:45:36.2569684Z         redirects to the #show after created audit
2024-02-21T09:45:36.3016354Z         creates a new Audit with status as `in_progress` if `save_progress` is passed as a param
2024-02-21T09:45:36.3394832Z         assigns a newly created audit as @audit
2024-02-21T09:45:36.3775865Z         creates a new Audit
2024-02-21T09:45:36.3776608Z       with invalid params
2024-02-21T09:45:36.4180703Z         assigns a newly created but unsaved audit as @audit
2024-02-21T09:45:36.4717964Z         re-renders the 'new' template with an error message when an invalid storage location is given
2024-02-21T09:45:36.5097415Z         re-renders the 'new' template
2024-02-21T09:45:36.5098688Z 
2024-02-21T09:45:36.5098960Z Profiles
2024-02-21T09:45:36.5100431Z   POST #update
2024-02-21T09:45:36.5101563Z     successful save
2024-02-21T09:45:36.5540806Z       redirects to #show
2024-02-21T09:45:36.6009898Z       update partner
2024-02-21T09:45:36.6010827Z     when updating an existing value to a blank value
2024-02-21T09:45:36.6474335Z       update partner
2024-02-21T09:45:36.6908034Z       should have blank values
2024-02-21T09:45:36.6908863Z   GET #edit
2024-02-21T09:45:36.7835879Z     returns http success
2024-02-21T09:45:36.7836890Z 
2024-02-21T09:45:36.7837176Z StorageLocations
2024-02-21T09:45:36.7838330Z   While signed in
2024-02-21T09:45:36.7840118Z     PUT #reactivate
2024-02-21T09:45:36.8016282Z       undiscards
2024-02-21T09:45:36.8017092Z     GET #index
2024-02-21T09:45:36.8017617Z       html
2024-02-21T09:45:36.8377985Z         succeeds
2024-02-21T09:45:36.8378907Z         with inactive locations
2024-02-21T09:45:36.8739195Z           does not includes the inactive location
2024-02-21T09:45:36.8740059Z           with include_inactive_locations
2024-02-21T09:45:36.9088542Z             includes the inactive location
2024-02-21T09:45:36.9089506Z       csv
2024-02-21T09:45:36.9263250Z         succeeds
2024-02-21T09:45:37.0224617Z         includes headers followed by alphabetized item names
2024-02-21T09:45:37.0225694Z     GET #inventory
2024-02-21T09:45:37.0226222Z       without any overrides
2024-02-21T09:45:37.0729519Z         returns a collection that only includes items at the storage location
2024-02-21T09:45:37.0730833Z       when also including inactive items
2024-02-21T09:45:37.1361316Z         returns a collection that also includes items that have been deactivated
2024-02-21T09:45:37.1553705Z       when also including omitted items
2024-02-21T09:45:37.1893469Z         returns a collection that also includes all items, but with zeroed quantities
2024-02-21T09:45:37.2372565Z         contains a collection of ducktyped entries that respond the same
2024-02-21T09:45:37.2373581Z     POST #import_csv
2024-02-21T09:45:37.2374159Z       csv file with wrong headers
2024-02-21T09:45:37.2500480Z         redirects
2024-02-21T09:45:37.2619954Z         presents a flash error message
2024-02-21T09:45:37.2620686Z       with a csv file
2024-02-21T09:45:37.2764382Z         redirects
2024-02-21T09:45:37.2814694Z         invokes .import_csv
2024-02-21T09:45:37.2957057Z         presents a flash notice message
2024-02-21T09:45:37.2957646Z       without a csv file
2024-02-21T09:45:37.3069997Z         redirects to :index
2024-02-21T09:45:37.3176953Z         presents a flash error message
2024-02-21T09:45:37.3177642Z     GET #new
2024-02-21T09:45:37.6314290Z       returns http success
2024-02-21T09:45:37.6314986Z     GET #edit
2024-02-21T09:45:37.6660323Z       returns http success
2024-02-21T09:45:37.6660989Z     GET #show
2024-02-21T09:45:37.6661863Z       html
2024-02-21T09:45:37.7329392Z         should return a correct response
2024-02-21T09:45:37.7330105Z         with version date set
2024-02-21T09:45:37.7330655Z           with a version found
2024-02-21T09:45:37.8111677Z             should show the version specified
2024-02-21T09:45:37.8112371Z           with no version found
2024-02-21T09:45:37.8822690Z             should show N/A
2024-02-21T09:45:37.8823475Z       csv
2024-02-21T09:45:37.9326478Z         should be successful
2024-02-21T09:45:37.9327154Z     PUT #deactivate
2024-02-21T09:45:37.9522958Z       discards
2024-02-21T09:45:37.9523378Z       with inventory
2024-02-21T09:45:37.9973379Z         does not discard
2024-02-21T09:45:37.9973943Z     GET #destroy
2024-02-21T09:45:38.0212125Z       redirects to #index
2024-02-21T09:45:38.0212678Z     Looking at a different organization
2024-02-21T09:45:38.2032236Z       redirects the user to the sign-in page for CRUD actions
2024-02-21T09:45:38.2033057Z   While not signed in
2024-02-21T09:45:38.2095139Z     redirects the user to the sign-in page for CRUD actions
2024-02-21T09:45:38.2197038Z W, [2024-02-21T01:45:38.219508 #2412]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-02-21T09:45:38.2199207Z W, [2024-02-21T01:45:38.219551 #2412]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-21T09:45:38.2202191Z W, [2024-02-21T01:45:38.219575 #2412]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-21T09:45:38.2209487Z W, [2024-02-21T01:45:38.219605 #2412]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-02-21T09:45:38.2210818Z 
2024-02-21T09:45:38.2211151Z Finished in 3 minutes 47 seconds (files took 7.95 seconds to load)
2024-02-21T09:45:38.2211751Z 235 examples, 0 failures
2024-02-21T09:45:38.2211994Z 
2024-02-21T09:45:38.2212132Z Randomized with seed 28383
2024-02-21T09:45:38.2212402Z 
2024-02-21T09:45:38.5046992Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3820 / 6404 LOC (59.65%) covered.
2024-02-21T09:45:39.0156267Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10655 LOC (0.36%) covered.
