2024-03-14T18:21:27.1725188Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-14T18:21:27.1726102Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-14T18:21:27.1750175Z shell: /usr/bin/bash -e {0}
2024-03-14T18:21:27.1750638Z env:
2024-03-14T18:21:27.1750968Z   POSTGRES_HOST: localhost
2024-03-14T18:21:27.1751383Z   DATABASE_HOST: localhost
2024-03-14T18:21:27.1751843Z   PG_USERNAME: postgres
2024-03-14T18:21:27.1752259Z   PG_PASSWORD: password
2024-03-14T18:21:27.1752610Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-14T18:21:27.1753110Z   POSTGRES_PORT: 5432
2024-03-14T18:21:27.1753500Z   PGHOST: localhost
2024-03-14T18:21:27.1753915Z   PGUSER: postgres
2024-03-14T18:21:27.1754228Z   RAILS_ENV: test
2024-03-14T18:21:27.1754619Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-14T18:21:27.1755126Z   KNAPSACK_PRO_CI_NODE_TOTAL: 2
2024-03-14T18:21:27.1755550Z   KNAPSACK_PRO_CI_NODE_INDEX: 1
2024-03-14T18:21:27.1755999Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-14T18:21:27.1756607Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-14T18:21:27.1757293Z   KNAPSACK_PRO_TEST_FILE_EXCLUDE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-14T18:21:27.1758039Z   EVENTS_READ: true
2024-03-14T18:21:27.1758398Z ##[endgroup]
2024-03-14T18:21:32.8262959Z W, [2024-03-14T18:21:32.825961 #2358]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-14T18:21:32.8265001Z W, [2024-03-14T18:21:32.826015 #2358]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-14T18:21:32.8266622Z W, [2024-03-14T18:21:32.826039 #2358]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-14T18:21:32.8270691Z W, [2024-03-14T18:21:32.826068 #2358]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-14T18:21:35.5268463Z W, [2024-03-14T18:21:35.526534 #2358]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-14T18:21:35.5270674Z W, [2024-03-14T18:21:35.526573 #2358]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-14T18:21:35.5273385Z W, [2024-03-14T18:21:35.526585 #2358]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-14T18:21:35.5277443Z W, [2024-03-14T18:21:35.526621 #2358]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-14T18:21:35.5347722Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/models/adjustment_spec.rb" "spec/models/barcode_item_spec.rb" "spec/models/broadcast_announcement_spec.rb" "spec/models/county_spec.rb" "spec/models/donation_site_spec.rb" "spec/models/event_spec.rb" "spec/models/item_category_spec.rb" "spec/models/kit_allocation_spec.rb" "spec/models/line_item_spec.rb" "spec/models/ndbn_member_spec.rb" "spec/models/organization_stats_spec.rb" "spec/models/partner_spec.rb" "spec/models/partners/child_item_request_spec.rb" "spec/models/partners/family_request_spec.rb" "spec/models/partners/item_request_spec.rb" "spec/models/partners/served_area_spec.rb" "spec/models/product_drive_spec.rb" "spec/models/question_spec.rb" "spec/models/request_spec.rb" "spec/models/storage_location_spec.rb" "spec/models/user_spec.rb" "spec/models/vendor_spec.rb" "spec/controllers/admins_controller_spec.rb" "spec/controllers/distributions_controller_spec.rb" "spec/controllers/donations_controller_spec.rb" "spec/controllers/items_controller_spec.rb" "spec/events/event_differ_spec.rb" "spec/helpers/application_helper_spec.rb" "spec/helpers/product_drive_helper_spec.rb" "spec/jobs/historical_data_cache_job_spec.rb" "spec/jobs/partner_mailer_job_spec.rb" "spec/lib/dispersed_past_dates_generator_spec.rb" "spec/mailers/custom_devise_mailer_spec.rb" "spec/mailers/organization_mailer_spec.rb" "spec/mailers/reminder_deadline_mailer_spec.rb" "spec/mailers/requests_confirmation_mailer_spec.rb" "spec/pdfs/distribution_pdf_spec.rb" "spec/queries/items_in_total_query_spec.rb" "spec/queries/items_out_total_query_spec.rb" "spec/services/add_role_service_spec.rb" "spec/services/allocate_kit_inventory_service_spec.rb" "spec/services/deadline_service_spec.rb" "spec/services/distribution_content_change_service_spec.rb" "spec/services/distribution_destroy_service_spec.rb" "spec/services/distribution_reminder_spec.rb" "spec/services/distributions_by_county_report_service_spec.rb" "spec/services/donation_destroy_service_spec.rb" "spec/services/exports/export_distributions_csv_service_spec.rb" "spec/services/exports/export_purchases_csv_service_spec.rb" "spec/services/exports/export_request_service_spec.rb" "spec/services/inventory_check_service_spec.rb" "spec/services/itemizable_update_service_spec.rb" "spec/services/organization_update_service_spec.rb" "spec/services/partner_create_service_spec.rb" "spec/services/partner_invite_service_spec.rb" "spec/services/partner_request_recertification_service_spec.rb" "spec/services/partners/fetch_partners_to_remind_now_service_spec.rb" "spec/services/partners/request_create_service_spec.rb" "spec/services/profile_update_service_spec.rb" "spec/services/reports/acquisition_report_service_spec.rb" "spec/services/reports/children_served_report_service_spec.rb" "spec/services/reports/partner_info_report_service_spec.rb" "spec/services/reports/summary_report_service_spec.rb" "spec/services/request_destroy_service_spec.rb" "spec/services/service_object_errors_mixin_spec.rb" "spec/services/text_interpolator_service_spec.rb" "spec/services/user_invite_service_spec.rb"
2024-03-14T18:21:44.0093984Z 
2024-03-14T18:21:44.0094839Z Randomized with seed 64328
2024-03-14T18:21:44.8317281Z 
2024-03-14T18:21:44.8318050Z Exports::ExportDistributionsCSVService
2024-03-14T18:21:44.8319086Z   #generate_csv_data
2024-03-14T18:21:45.0513238Z     should match the expected content for the csv
2024-03-14T18:21:45.0514133Z     when there are no distributions but the report is requested
2024-03-14T18:21:45.2353655Z       returns a csv with only headers and no rows
2024-03-14T18:21:45.2354615Z     when a new item is added
2024-03-14T18:21:45.4151749Z       should show up with a 0 quantity if there are none of this item in any distribution
2024-03-14T18:21:45.5930778Z       should add it to the end of the row
2024-03-14T18:21:45.5931410Z 
2024-03-14T18:21:45.5931675Z Request
2024-03-14T18:21:45.5933506Z   versioning
2024-03-14T18:21:45.6038423Z     is expected to be versioned
2024-03-14T18:21:45.6040853Z   Enums >
2024-03-14T18:21:45.6041594Z     #status
2024-03-14T18:21:45.6259413Z       scopes
2024-03-14T18:21:45.6259974Z   item data
2024-03-14T18:21:45.6345945Z     coerces item quantity and id to always be an integer before saving
2024-03-14T18:21:45.6348056Z   total_items
2024-03-14T18:21:45.6440431Z     adds the quantity of all items in the request
2024-03-14T18:21:45.6441061Z 
2024-03-14T18:21:45.6441506Z ProfileUpdateService
2024-03-14T18:21:45.6442193Z   #update
2024-03-14T18:21:45.6717747Z     updates the profile with the filtered and prepared params
2024-03-14T18:21:45.6718637Z 
2024-03-14T18:21:45.6719219Z DeadlineService
2024-03-14T18:21:45.6719811Z   #next_deadline
2024-03-14T18:21:45.6720508Z     do from the partner group
2024-03-14T18:21:45.6721813Z       when the deadline is before today
2024-03-14T18:21:45.6824357Z         returns a date in the next month
2024-03-14T18:21:45.6825155Z       when the deadline is after today
2024-03-14T18:21:45.6877174Z         returns a date within the current month
2024-03-14T18:21:45.6878082Z       when the deadline is today
2024-03-14T18:21:45.6931153Z         returns a date in the next month
2024-03-14T18:21:45.6931998Z     from the organization
2024-03-14T18:21:45.6932754Z       when the deadline is after today
2024-03-14T18:21:45.6984714Z         returns a date within the current month
2024-03-14T18:21:45.6985613Z       when the deadline is today
2024-03-14T18:21:45.7040651Z         returns a date in the next month
2024-03-14T18:21:45.7041677Z       when the deadline is before today
2024-03-14T18:21:45.7092278Z         returns a date in the next month
2024-03-14T18:21:45.7092835Z 
2024-03-14T18:21:45.7093317Z Reports::PartnerInfoReportService
2024-03-14T18:21:45.7094006Z   #report
2024-03-14T18:21:45.9431569Z     should report normal values
2024-03-14T18:21:46.1105925Z     should report zero values
2024-03-14T18:21:46.1107010Z 
2024-03-14T18:21:46.1107271Z ApplicationHelper
2024-03-14T18:21:46.1109556Z   default_title_content
2024-03-14T18:21:46.1110679Z     Organization exists
2024-03-14T18:21:46.2914877Z       returns the organization's name
2024-03-14T18:21:46.2915724Z     Organization does not exist
2024-03-14T18:21:46.2967729Z       returns a default name
2024-03-14T18:21:46.2968476Z   active_class
2024-03-14T18:21:46.3009528Z     Returns the controller name
2024-03-14T18:21:46.3011491Z   can_administrate?
2024-03-14T18:21:46.3012470Z     User is org admin and part of org
2024-03-14T18:21:46.3219530Z       can administrate
2024-03-14T18:21:46.3220442Z     User is org admin and not part of org
2024-03-14T18:21:46.5090993Z       cannot administrate
2024-03-14T18:21:46.5091895Z     User is part of org but not org admin
2024-03-14T18:21:46.5233373Z       cannot administrate
2024-03-14T18:21:46.5235592Z   step_container_helper
2024-03-14T18:21:46.5236292Z     active_index is greater than index
2024-03-14T18:21:46.5308484Z       returns done
2024-03-14T18:21:46.5353893Z     active_index is equal to index
2024-03-14T18:21:46.5354546Z       returns active
2024-03-14T18:21:46.5355317Z     active_index is less than index
2024-03-14T18:21:46.5398280Z       returns empty string
2024-03-14T18:21:46.5399311Z   flash_class
2024-03-14T18:21:46.5455005Z     returns appropriate class for success
2024-03-14T18:21:46.5497776Z     returns appropriate class for error
2024-03-14T18:21:46.5538999Z     returns appropriate class for notice
2024-03-14T18:21:46.5581963Z     returns appropriate class for alert
2024-03-14T18:21:46.5582688Z   confirm_delete_msg
2024-03-14T18:21:46.5629889Z     subs in string
2024-03-14T18:21:46.5630907Z 
2024-03-14T18:21:46.7309614Z ProductDrive
2024-03-14T18:21:46.7310543Z   calculates in-kind value
2024-03-14T18:21:47.2334241Z   calculates and returns all donated organization item quantities by category and date
2024-03-14T18:21:47.4535338Z   calculates and returns all donated organization item quantities by name and date
2024-03-14T18:21:47.6721732Z   calculates donation quantity by date
2024-03-14T18:21:47.8044874Z   calculates donation quantity
2024-03-14T18:21:47.8046233Z   distinct_items
2024-03-14T18:21:48.1424136Z     counts the distinct items correctly by given date
2024-03-14T18:21:48.4811252Z     doesn't double_count the items if there are two donations for the same item
2024-03-14T18:21:48.8250278Z     counts the distinct items correctly in overlapping donations
2024-03-14T18:21:49.1625406Z     counts the items correctly for 1 donation with multiple items
2024-03-14T18:21:49.5100850Z     counts the distinct items correctly by given category
2024-03-14T18:21:49.5101873Z   scopes
2024-03-14T18:21:49.5102413Z     .by_item_category_id
2024-03-14T18:21:49.8309382Z       does not return other_name
2024-03-14T18:21:50.1523702Z       returns the product_drive with name some_name
2024-03-14T18:21:50.1524946Z     .within_date_range
2024-03-14T18:21:50.2941240Z       returns the product drive 1
2024-03-14T18:21:50.4341442Z       does not include product drive 2
2024-03-14T18:21:50.4342611Z     .by_name
2024-03-14T18:21:50.5718560Z       does not return other_name
2024-03-14T18:21:50.7092740Z       returns the product_drive with name some_name
2024-03-14T18:21:50.7093509Z   versioning
2024-03-14T18:21:50.8499625Z     is expected to be versioned
2024-03-14T18:21:50.8500678Z   .search_date_range
2024-03-14T18:21:50.9849255Z     is expected to eq {:end_date=>"2019-12-19", :start_date=>"2019-12-17"}
2024-03-14T18:21:50.9850503Z   donation_source_view
2024-03-14T18:21:51.1174969Z     returns formatted text
2024-03-14T18:21:51.1175803Z   associations
2024-03-14T18:21:51.2126157Z     has_many product_drive_participants through donations
2024-03-14T18:21:51.2999077Z     has_many donations
2024-03-14T18:21:51.3000008Z   validations
2024-03-14T18:21:51.4333442Z     is expected not to be valid
2024-03-14T18:21:51.5654823Z     is expected not to be valid
2024-03-14T18:21:51.7051021Z     is expected not to be valid
2024-03-14T18:21:51.7051528Z 
2024-03-14T18:21:51.7051829Z Partners::ChildItemRequest
2024-03-14T18:21:51.7053024Z   associations
2024-03-14T18:21:51.7167242Z     is expected to belong to authorized_family_member optional: true
2024-03-14T18:21:51.7211824Z     is expected to belong to item_request required: true
2024-03-14T18:21:51.7253169Z     is expected to belong to child required: true
2024-03-14T18:21:51.7253956Z   #quantity
2024-03-14T18:21:51.7318378Z     should return the quantity divided by the number of children
2024-03-14T18:21:51.7319529Z   #ordered_item_diaperid
2024-03-14T18:21:51.7357721Z     should return the item_id on the item_request
2024-03-14T18:21:51.7358614Z   versioning
2024-03-14T18:21:51.7395764Z     is expected to be versioned
2024-03-14T18:21:51.7396252Z 
2024-03-14T18:21:51.7396614Z Exports::ExportPurchasesCSVService
2024-03-14T18:21:51.7397677Z   #generate_csv_data
2024-03-14T18:21:51.8714307Z     should match the expected content for the csv
2024-03-14T18:21:51.8715039Z 
2024-03-14T18:21:51.8715317Z DistributionByCountyReportService
2024-03-14T18:21:51.8716240Z   get_breakdown
2024-03-14T18:21:51.9425462Z     will have 100% unspecified shows if no served_areas
2024-03-14T18:21:52.1314881Z     handles multiple partners with overlapping service areas properly
2024-03-14T18:21:52.2121362Z     divides the item numbers and values according to the partner profile
2024-03-14T18:21:52.2122228Z 
2024-03-14T18:21:52.2122455Z HistoricalDataCacheJob
2024-03-14T18:21:52.4025369Z   caches the historical data
2024-03-14T18:21:52.5800873Z   queues the job
2024-03-14T18:21:52.5801382Z 
2024-03-14T18:21:52.5801828Z DistributionContentChangeService
2024-03-14T18:21:52.5802522Z   #changes
2024-03-14T18:21:52.5803600Z     when there are line items removed and updated
2024-03-14T18:21:52.5841260Z       returns true
2024-03-14T18:21:52.5841865Z   #any_change?
2024-03-14T18:21:52.5843056Z     when there are line items removed and updated
2024-03-14T18:21:52.5876201Z       returns true
2024-03-14T18:21:52.5876891Z     when there are line items removed
2024-03-14T18:21:52.5909723Z       returns true
2024-03-14T18:21:52.5910413Z     when there are line items updated
2024-03-14T18:21:52.5942789Z       returns true
2024-03-14T18:21:52.5943674Z     when there are no changes in the line items
2024-03-14T18:21:52.5976691Z       returns true
2024-03-14T18:21:52.5978298Z 
2024-03-14T18:21:52.5978644Z BarcodeItem
2024-03-14T18:21:52.5979410Z   versioning
2024-03-14T18:21:52.6159081Z     is expected to be versioned
2024-03-14T18:21:52.6160185Z   Barcodes of BaseItems ('Global')
2024-03-14T18:21:52.6290659Z     updates a counter in BaseItem whenever it tracks a new barcode
2024-03-14T18:21:52.6291494Z     filters >
2024-03-14T18:21:52.6403535Z       ->by_value returns the barcode with that value
2024-03-14T18:21:52.6557492Z       #by_base_item_partner_key returns barcodes that match the partner key
2024-03-14T18:21:52.6720754Z       ->barcodeable_id shows only barcodes for a specific barcodeable_id
2024-03-14T18:21:52.6721684Z     validations >
2024-03-14T18:21:52.6798496Z       is valid with or without an organization
2024-03-14T18:21:52.6884500Z       enforces uniqueness in the global scope
2024-03-14T18:21:52.6962759Z       allows multiple barcodes to point at the same base item
2024-03-14T18:21:52.6963819Z       quantity >
2024-03-14T18:21:52.7015632Z         is not a negative number
2024-03-14T18:21:52.7067019Z         is an integer
2024-03-14T18:21:52.7117462Z         is not nil
2024-03-14T18:21:52.7117968Z       value >
2024-03-14T18:21:52.7171010Z         requires a value
2024-03-14T18:21:52.7171632Z       item >
2024-03-14T18:21:52.7225998Z         is invalid without an item associated with it
2024-03-14T18:21:52.7226777Z     scopes >
2024-03-14T18:21:52.7227739Z       global
2024-03-14T18:21:52.7392631Z         includes all barcodes, for both base items and regular items
2024-03-14T18:21:52.7393581Z   Organization barcodes
2024-03-14T18:21:52.7509747Z     updates a counter in Item whenever it tracks a new barcode
2024-03-14T18:21:52.7511015Z     when searching for a barcode where there is a global and local with the same value
2024-03-14T18:21:52.7808032Z       favors the local barcode
2024-03-14T18:21:52.7808942Z     filters >
2024-03-14T18:21:52.8003981Z       ->item_id shows only barcodes for a specific item_id
2024-03-14T18:21:52.8004754Z     validations >
2024-03-14T18:21:52.8121168Z       allows multiple barcodes to point at the same item
2024-03-14T18:21:52.8240800Z       does not enforce value uniqueness compared with the global scope
2024-03-14T18:21:52.8388561Z       is valid only with an organization
2024-03-14T18:21:52.8542559Z       enforces value uniqueness within the organization
2024-03-14T18:21:52.8772085Z       does not enforces value uniqueness across organizations
2024-03-14T18:21:52.8772985Z       value >
2024-03-14T18:21:52.8862947Z         requires a value
2024-03-14T18:21:52.8863538Z       quantity >
2024-03-14T18:21:52.8954625Z         is not a negative number
2024-03-14T18:21:52.9049350Z         is not nil
2024-03-14T18:21:52.9137379Z         is an integer
2024-03-14T18:21:52.9137961Z       item >
2024-03-14T18:21:52.9226572Z         is invalid without an item associated with it
2024-03-14T18:21:52.9227369Z     to_h >
2024-03-14T18:21:52.9341194Z       emits a hash for a line_item
2024-03-14T18:21:52.9341879Z     scopes >
2024-03-14T18:21:52.9547820Z       #by_item_partner_key returns barcodes that match the partner key
2024-03-14T18:21:52.9658194Z       ->by_value returns the barcode with that value
2024-03-14T18:21:53.1520645Z       ->for_csv_export will accept an organization and provide all barcodes for that org
2024-03-14T18:21:53.1521561Z 
2024-03-14T18:21:53.1521790Z Vendor
2024-03-14T18:21:53.1522521Z   versioning
2024-03-14T18:21:53.1562029Z     is expected to be versioned
2024-03-14T18:21:53.1562712Z   Methods
2024-03-14T18:21:53.1563202Z     volume
2024-03-14T18:21:53.2248472Z       retrieves the amount of product that has been bought from this vendor
2024-03-14T18:21:53.2249495Z   behaves like provideable
2024-03-14T18:21:53.2250109Z     geocode
2024-03-14T18:21:53.2309776Z       adds coordinates to the database
2024-03-14T18:21:53.2310468Z     import_csv
2024-03-14T18:21:53.4097792Z       imports from a csv file
2024-03-14T18:21:53.4098716Z     Validations
2024-03-14T18:21:53.4159481Z       is invalid unless it has either a contact name or a business name
2024-03-14T18:21:53.4194259Z       is invalid without an organization
2024-03-14T18:21:53.4195022Z 
2024-03-14T18:21:53.4195329Z Reports::AcquisitionReportService
2024-03-14T18:21:53.4196158Z   acquisition report
2024-03-14T18:21:54.3179528Z     should return the proper results on #report
2024-03-14T18:21:54.3180185Z 
2024-03-14T18:21:54.3180515Z Partners::RequestCreateService
2024-03-14T18:21:54.3181670Z   #call
2024-03-14T18:21:54.3182351Z     when the arguments are incorrect
2024-03-14T18:21:54.3183391Z       because no item_requests_attributes and comments were defined
2024-03-14T18:21:54.3481682Z         should return the Request object with an error
2024-03-14T18:21:54.3482671Z       because a unrecogonized item_id was provided
2024-03-14T18:21:54.3838187Z         should return the Request object with an error
2024-03-14T18:21:54.3839272Z     when the arguments are correct
2024-03-14T18:21:54.4227166Z       should notify the Partner via email
2024-03-14T18:21:54.4600576Z       should create a Request record
2024-03-14T18:21:54.5006367Z       should have no errors
2024-03-14T18:21:54.5007141Z       but a unexpected error occured during the save
2024-03-14T18:21:54.5009448Z         for the Request record
2024-03-14T18:21:54.5348312Z           should have an error with the raised error
2024-03-14T18:21:54.5679293Z           should NOT notify the Partner via email
2024-03-14T18:21:54.6024147Z           should NOT create a Request record
2024-03-14T18:21:54.6025376Z 
2024-03-14T18:21:54.6025608Z Event
2024-03-14T18:21:54.6026963Z   #most_recent_snapshot
2024-03-14T18:21:54.9926286Z     should not include an unusable snapshot
2024-03-14T18:21:55.2277074Z     should include the last usable snapshot
2024-03-14T18:21:55.2277733Z 
2024-03-14T18:21:55.2277996Z OrganizationMailer
2024-03-14T18:21:55.2278559Z   #partner_approval_request
2024-03-14T18:21:55.2580001Z     includes a link to the relevant partner
2024-03-14T18:21:55.2826749Z     renders the body with correct text with partner information
2024-03-14T18:21:55.3070464Z     should be sent to the partner main email with the correct subject line
2024-03-14T18:21:55.3071384Z 
2024-03-14T18:21:55.3071752Z Adjustment
2024-03-14T18:21:55.3073174Z   Scopes >
2024-03-14T18:21:55.3296883Z     `by_user` can filter out adjustments to a specific user
2024-03-14T18:21:55.3476338Z     `at_location` can filter out adjustments to a specific location
2024-03-14T18:21:55.3477288Z   Validations >
2024-03-14T18:21:55.3660844Z     allows you to add inventory that doesn't yet exist in the storage location
2024-03-14T18:21:55.3755194Z     must belong to an organization
2024-03-14T18:21:55.4177829Z     allows you to remove all the inventory that exists in the storage location
2024-03-14T18:21:55.4178833Z   behaves like itemizable
2024-03-14T18:21:55.4179399Z     .to_a
2024-03-14T18:21:55.4181831Z       with Flipper flag :deprecate_to_a disabled
2024-03-14T18:21:55.4536531Z         calls line_item_values
2024-03-14T18:21:55.4537257Z       with Flipper flag :deprecate_to_a enabled
2024-03-14T18:21:55.4894706Z         raises an error
2024-03-14T18:21:55.4895396Z     .line_items
2024-03-14T18:21:55.4896455Z       combine!
2024-03-14T18:21:55.5320520Z         combines multiple line_items with the same item_id into a single record
2024-03-14T18:21:55.5778979Z         incrementally combines line_items on donations that have already been created
2024-03-14T18:21:55.5780077Z       total
2024-03-14T18:21:55.6179223Z         has an item total
2024-03-14T18:21:55.6179690Z       sorted
2024-03-14T18:21:55.6746903Z         displays the items, sorted by name
2024-03-14T18:21:55.6747638Z       quantities_by_name
2024-03-14T18:21:55.7134625Z         returns a hash of items with id, name, and quantity
2024-03-14T18:21:55.7529972Z         leaves out zero-quantitied items if requested
2024-03-14T18:21:55.7530746Z   Methods >
2024-03-14T18:21:55.9612339Z     `self.storage_locations_adjusted_for` returns only storage_locations that are used in adjustments for one org
2024-03-14T18:21:55.9613271Z     split_difference
2024-03-14T18:21:56.0394955Z       gracefully handles adjustments with only positive
2024-03-14T18:21:56.1155518Z       gracefully handles adjustments with only negative
2024-03-14T18:21:56.1893494Z       returns two adjustment objects
2024-03-14T18:21:56.1894464Z   nested line item attributes
2024-03-14T18:21:56.2288547Z     accepts them
2024-03-14T18:21:56.2291023Z   versioning
2024-03-14T18:21:56.2325294Z     is expected to be versioned
2024-03-14T18:21:56.2325793Z 
2024-03-14T18:21:56.2326027Z InventoryCheckService
2024-03-14T18:21:56.2327060Z   call
2024-03-14T18:21:56.2327763Z     error
2024-03-14T18:21:56.3087259Z       should set the error
2024-03-14T18:21:56.3088179Z     alert
2024-03-14T18:21:56.3818475Z       should set the alert
2024-03-14T18:21:56.3819485Z 
2024-03-14T18:21:56.3819796Z AllocateKitInventoryService
2024-03-14T18:21:56.3821271Z   #allocate
2024-03-14T18:21:56.3822207Z     when more than one kit is requested
2024-03-14T18:21:56.3823024Z       but one of the items is out of stock
2024-03-14T18:21:56.6535756Z         returns error and does not change kit or item quantity
2024-03-14T18:21:56.6536605Z     when inventory items are available
2024-03-14T18:21:56.9267039Z       allocates items, increases the quantity of the Kit Item and inventory in, and decreases inventory out
2024-03-14T18:21:56.9268689Z       When kit is allocated more then once
2024-03-14T18:21:57.2083603Z         increases the already existed inventory in and decreases the already existed inventory out
2024-03-14T18:21:57.2084909Z       when there are more then one line items
2024-03-14T18:21:57.2085592Z         when same kit is allocated multiple times
2024-03-14T18:21:57.5136842Z           inventory out for that kit contains both line_items with their respective quantity
2024-03-14T18:21:57.5138128Z         when there kit is allocated once
2024-03-14T18:21:57.7808495Z           inventory out for that kit contains both line_items with their respective quantity
2024-03-14T18:21:57.7809842Z   #error
2024-03-14T18:21:57.7810518Z     when the Store location organization doesn't match
2024-03-14T18:21:57.9934080Z       returns error
2024-03-14T18:21:57.9934522Z 
2024-03-14T18:21:57.9934775Z UserInviteService
2024-03-14T18:21:58.2640477Z   should create the user without a name with default role
2024-03-14T18:21:58.2910490Z   should invite a user with the partner role
2024-03-14T18:21:58.2911100Z   with existing user
2024-03-14T18:21:58.4807167Z     should add roles to existing user
2024-03-14T18:21:58.4892502Z     should raise an error when reinviting an existing user with the same role
2024-03-14T18:21:58.4893524Z     with force: true
2024-03-14T18:21:58.5082629Z       should reinvite the user
2024-03-14T18:21:58.5083293Z   with a new user
2024-03-14T18:21:58.7104407Z     should create the user with roles
2024-03-14T18:21:58.7368494Z     should create the user without name with role
2024-03-14T18:21:58.7369419Z 
2024-03-14T18:21:58.7369771Z DonationsController
2024-03-14T18:21:58.7371863Z   While signed in as an organization admin >
2024-03-14T18:21:58.7372681Z     DELETE #destroy
2024-03-14T18:21:58.7827238Z       redirects to the index
2024-03-14T18:21:58.7828055Z   calculating total money raised for all donations
2024-03-14T18:21:58.7958186Z     correctly calculates the total
2024-03-14T18:21:58.7994133Z     returns zero for an empty array of donations
2024-03-14T18:21:58.7995097Z   calculating total value of multiple donations
2024-03-14T18:21:58.9259202Z     works correctly for multiple line items per donation
2024-03-14T18:21:58.9299137Z     returns zero for an empty array of donations
2024-03-14T18:21:58.9299964Z   While signed in as a normal user >
2024-03-14T18:21:58.9300927Z     POST#create
2024-03-14T18:21:58.9763322Z       redirects to GET#edit on success
2024-03-14T18:21:58.9993534Z       renders GET#new with error on failure
2024-03-14T18:21:58.9994526Z     GET #new
2024-03-14T18:21:59.0126777Z       returns http success
2024-03-14T18:21:59.0127554Z     DELETE #destroy
2024-03-14T18:21:59.0286327Z       redirects to the dashboard path
2024-03-14T18:21:59.0287178Z     PUT#update
2024-03-14T18:21:59.0618184Z       redirects to index after update
2024-03-14T18:21:59.1662735Z       updates storage quantity correctly
2024-03-14T18:21:59.1663465Z       when removing a line item
2024-03-14T18:21:59.2622465Z         updates storage invetory item quantity correctly
2024-03-14T18:21:59.2623299Z       when changing storage location
2024-03-14T18:21:59.2660861Z         rolls back updates if quantity would go below 0
2024-03-14T18:21:59.3750027Z         updates storage quantity correctly
2024-03-14T18:21:59.3750846Z     GET #edit
2024-03-14T18:21:59.3961436Z       returns http success
2024-03-14T18:21:59.3962513Z     GET #show
2024-03-14T18:21:59.4122825Z       returns http success
2024-03-14T18:21:59.4123743Z     GET #index
2024-03-14T18:21:59.4258563Z       returns http success
2024-03-14T18:21:59.4259435Z 
2024-03-14T18:21:59.4259922Z DistributionDestroyService
2024-03-14T18:21:59.4261087Z   #call
2024-03-14T18:21:59.4261910Z     when the distribution_id matches no Distribution
2024-03-14T18:21:59.4301737Z       to not be a success
2024-03-14T18:21:59.4302675Z     when the distribution_id does match a Distribution
2024-03-14T18:21:59.4303468Z       and the operations succeed
2024-03-14T18:21:59.6370268Z         should be successful
2024-03-14T18:21:59.8448794Z         should increase the inventory of the storage location
2024-03-14T18:22:00.0576628Z         should destroy the Distribution
2024-03-14T18:22:00.0577832Z       and the increase inventory operations fails
2024-03-14T18:22:00.2686017Z         should not be successful and have the error message
2024-03-14T18:22:00.4776568Z         should not delete the Distribution
2024-03-14T18:22:00.4777256Z       and the destroy! operation fails
2024-03-14T18:22:00.6849994Z         should not be successful and have the error message
2024-03-14T18:22:00.8930580Z         should not delete the Distribution
2024-03-14T18:22:00.8931226Z 
2024-03-14T18:22:00.8931737Z RequestsConfirmationMailer
2024-03-14T18:22:00.9235371Z   pairs the right quantities with the right item names
2024-03-14T18:22:00.9401526Z   handles duplicates
2024-03-14T18:22:00.9402487Z   #confirmation_email
2024-03-14T18:22:00.9564399Z     renders the body
2024-03-14T18:22:00.9684875Z     renders the headers
2024-03-14T18:22:00.9685413Z 
2024-03-14T18:22:00.9685704Z Exports::ExportRequestService
2024-03-14T18:22:00.9686794Z   .generate_csv_data
2024-03-14T18:22:01.1720191Z     includes rows for each request with correct columns of item quantity
2024-03-14T18:22:01.3676729Z     includes headers as the first row with ordered item names alphabetically with deleted item included at the end
2024-03-14T18:22:01.3677845Z 
2024-03-14T18:22:01.3677979Z EventDiffer
2024-03-14T18:22:01.5633232Z   should return a full diff
2024-03-14T18:22:01.5633793Z 
2024-03-14T18:22:01.5634020Z ItemCategory
2024-03-14T18:22:01.5634747Z   validations
2024-03-14T18:22:01.5731570Z     is expected to validate that :name cannot be empty/falsy
2024-03-14T18:22:01.5922364Z     is expected to validate that :name is case-sensitively unique within the scope of :organization_id
2024-03-14T18:22:01.5993682Z     is expected to validate that the length of :description is at most 250
2024-03-14T18:22:01.6070276Z     is expected to validate that :organization cannot be empty/falsy
2024-03-14T18:22:01.6071059Z   versioning
2024-03-14T18:22:01.6106256Z     is expected to be versioned
2024-03-14T18:22:01.6106968Z   assocations
2024-03-14T18:22:01.6142466Z     is expected to have many items
2024-03-14T18:22:01.6204938Z     is expected to have and belong to many partner_groups
2024-03-14T18:22:01.6252712Z     is expected to belong to organization required: true
2024-03-14T18:22:01.6253477Z 
2024-03-14T18:22:01.6253933Z OrganizationStats
2024-03-14T18:22:01.6255299Z   donation_sites_added method >
2024-03-14T18:22:01.6256217Z     current org is nil >
2024-03-14T18:22:01.6290182Z       should return 0
2024-03-14T18:22:01.6290861Z     current org is not nil >
2024-03-14T18:22:01.6326686Z       should return actual count of donation sites
2024-03-14T18:22:01.6327578Z   locations_with_inventory method >
2024-03-14T18:22:01.6328345Z     current org is nil >
2024-03-14T18:22:01.6364125Z       should return an empty array
2024-03-14T18:22:01.6365029Z     current org is not nil + no locations have items >
2024-03-14T18:22:01.6430771Z       should return an empty array
2024-03-14T18:22:01.6432144Z     current org is not nil + locations have items >
2024-03-14T18:22:01.6779060Z       should return storage location
2024-03-14T18:22:01.6779865Z   partners_added method >
2024-03-14T18:22:01.6780663Z     current org is nil >
2024-03-14T18:22:01.6814860Z       should return 0
2024-03-14T18:22:01.6815700Z     current org is not nil >
2024-03-14T18:22:01.6858277Z       should return actual count of partners
2024-03-14T18:22:01.6859122Z   storage_locations_added method >
2024-03-14T18:22:01.6859988Z     current org is nil >
2024-03-14T18:22:01.6901242Z       should return 0
2024-03-14T18:22:01.6902029Z     current org is not nil >
2024-03-14T18:22:01.6938368Z       should return actual count of locations
2024-03-14T18:22:01.6939174Z 
2024-03-14T18:22:01.6939602Z Partners::FetchPartnersToRemindNowService
2024-03-14T18:22:01.6940419Z   .fetch
2024-03-14T18:22:01.6941461Z     when there is a partner
2024-03-14T18:22:01.6942594Z       that has an organization with a global reminder & deadline
2024-03-14T18:22:01.6943672Z         that is not for today
2024-03-14T18:22:01.7252143Z           should NOT include that partner
2024-03-14T18:22:01.7252984Z         that is for today
2024-03-14T18:22:01.7544218Z           should include that partner
2024-03-14T18:22:01.7545255Z           but the partner is deactivated
2024-03-14T18:22:01.7859981Z             should NOT include that partner
2024-03-14T18:22:01.7860852Z           and has send_reminder=false
2024-03-14T18:22:01.8187485Z             should NOT include that partner
2024-03-14T18:22:01.8188372Z         AND a partner group that does have them defined
2024-03-14T18:22:01.8604568Z           should remind based on the partner group instead of the organization level reminder
2024-03-14T18:22:01.8605352Z           but the partner is deactivated
2024-03-14T18:22:01.9001150Z             should NOT include that partner
2024-03-14T18:22:01.9002323Z       that does NOT have a organization with a global reminder & deadline
2024-03-14T18:22:01.9003655Z         and is a part of a partner group that does have them defined
2024-03-14T18:22:01.9004544Z           that is for today
2024-03-14T18:22:01.9331070Z             should include that partner
2024-03-14T18:22:01.9331883Z             but the partner is deactivated
2024-03-14T18:22:01.9703983Z               should NOT include that partner
2024-03-14T18:22:01.9704741Z           that is not for today
2024-03-14T18:22:02.0029264Z             should NOT include that partner
2024-03-14T18:22:02.0031195Z 
2024-03-14T18:22:02.0033396Z ItemsController
2024-03-14T18:22:02.0034224Z   While signed in
2024-03-14T18:22:02.0035854Z     GET #edit
2024-03-14T18:22:02.0209338Z       returns http success
2024-03-14T18:22:02.0210140Z     POST #create
2024-03-14T18:22:02.0212901Z       with invalid params
2024-03-14T18:22:02.0351711Z         should show an error
2024-03-14T18:22:02.0352576Z       with valid params
2024-03-14T18:22:02.0527460Z         should accept params with dollar signs, periods, and commas
2024-03-14T18:22:02.0711115Z         should create an item
2024-03-14T18:22:02.0885572Z         should redirect to the item page
2024-03-14T18:22:02.0886277Z     PATCH #remove_category
2024-03-14T18:22:02.2780454Z       should remove an item's category
2024-03-14T18:22:02.4644666Z       should redirect to the previous category page
2024-03-14T18:22:02.4645542Z     GET #index
2024-03-14T18:22:02.4812725Z       returns http success
2024-03-14T18:22:02.4813819Z     PATCH #restore
2024-03-14T18:22:02.4814549Z       with an active item
2024-03-14T18:22:02.5015100Z         does nothing
2024-03-14T18:22:02.5015969Z       with a soft-deleted item
2024-03-14T18:22:02.5236836Z         re-activates the item
2024-03-14T18:22:02.5237902Z       with another organizations item
2024-03-14T18:22:02.7263267Z         does nothing
2024-03-14T18:22:02.7264279Z     GET #show
2024-03-14T18:22:02.7457934Z       returns http success
2024-03-14T18:22:02.7458715Z     Looking at a different organization
2024-03-14T18:22:02.9255073Z       redirects the user to the sign-in page for CRUD actions
2024-03-14T18:22:02.9256373Z     GET #new
2024-03-14T18:22:02.9372375Z       returns http success
2024-03-14T18:22:02.9373205Z     PUT #update
2024-03-14T18:22:02.9373787Z       invisible
2024-03-14T18:22:02.9567225Z         should update visible_to_partners to false
2024-03-14T18:22:02.9568224Z       visible
2024-03-14T18:22:02.9756399Z         should update visible_to_partners to true
2024-03-14T18:22:02.9757319Z     DELETE #destroy
2024-03-14T18:22:02.9994024Z       redirects to #index
2024-03-14T18:22:02.9994752Z   While not signed in
2024-03-14T18:22:03.0079766Z     redirects the user to the sign-in page for CRUD actions
2024-03-14T18:22:03.0080436Z 
2024-03-14T18:22:03.0080723Z ItemsOutTotalQuery
2024-03-14T18:22:03.0081315Z   items_out_total_query
2024-03-14T18:22:03.1251781Z     returns a sum total of all out-flows
2024-03-14T18:22:03.1252410Z 
2024-03-14T18:22:03.1252675Z RequestDestroyService
2024-03-14T18:22:03.1253555Z   #call
2024-03-14T18:22:03.1396355Z     should return an instance of itself
2024-03-14T18:22:03.1397417Z     when the request is already discarded
2024-03-14T18:22:03.1497818Z       should not be successful and have errors
2024-03-14T18:22:03.1498659Z     when the request_id matches no request
2024-03-14T18:22:03.1536047Z       should not be successful and have errors indicating request id is invalid
2024-03-14T18:22:03.1537222Z     when there are no validation errors
2024-03-14T18:22:03.1653002Z       should send a email notification to the partner
2024-03-14T18:22:03.1783047Z       should update the status column on the request
2024-03-14T18:22:03.1908962Z       should update the discarded_at column on the request
2024-03-14T18:22:03.1910119Z     when the request's partner is deactivated
2024-03-14T18:22:03.2174471Z       should have errors
2024-03-14T18:22:03.2175073Z 
2024-03-14T18:22:03.2175450Z DistributionPdf
2024-03-14T18:22:03.2744290Z   #non_request_data
2024-03-14T18:22:03.3379653Z   #request_data
2024-03-14T18:22:03.3380018Z 
2024-03-14T18:22:03.3380327Z BroadcastAnnouncement
2024-03-14T18:22:03.3473947Z   is expected to belong to organization optional: true
2024-03-14T18:22:03.3531850Z   should validate a good link
2024-03-14T18:22:03.3583213Z   is expected to validate that :message cannot be empty/falsy
2024-03-14T18:22:03.3635663Z   should roughly check if link is valid
2024-03-14T18:22:03.3687900Z   should validate a valid announcement
2024-03-14T18:22:03.3725446Z   is expected to belong to user required: true
2024-03-14T18:22:03.3726468Z   expired?
2024-03-14T18:22:03.3781006Z     should be true if the announcement is expired
2024-03-14T18:22:03.3834048Z     should be false if the announcement has not expired
2024-03-14T18:22:03.3835111Z   versioning
2024-03-14T18:22:03.3868502Z     is expected to be versioned
2024-03-14T18:22:03.3869102Z   filter_announcements
2024-03-14T18:22:03.4073016Z     should include only announcements from the passed organization
2024-03-14T18:22:03.4220535Z     sorts announcements from most recently created to last
2024-03-14T18:22:03.4354466Z     shouldn't include expired announcements
2024-03-14T18:22:03.4355003Z 
2024-03-14T18:22:03.4355315Z Partners::ItemRequest
2024-03-14T18:22:03.4356255Z   associations
2024-03-14T18:22:03.4396382Z     is expected to have many child_item_requests dependent => destroy
2024-03-14T18:22:03.4433756Z     is expected to have many children through child_item_requests
2024-03-14T18:22:03.4478272Z     is expected to belong to request class_name => ::Request required: true
2024-03-14T18:22:03.4479209Z   versioning
2024-03-14T18:22:03.4516436Z     is expected to be versioned
2024-03-14T18:22:03.4517045Z   validations
2024-03-14T18:22:03.4579608Z     is expected to validate that :name cannot be empty/falsy
2024-03-14T18:22:03.4641996Z     is expected to validate that :quantity cannot be empty/falsy
2024-03-14T18:22:03.4698446Z     is expected to validate that :partner_key cannot be empty/falsy
2024-03-14T18:22:03.4759860Z     is expected to validate that :quantity looks like an integer greater than or equal to 1
2024-03-14T18:22:03.4761424Z 
2024-03-14T18:22:03.4761816Z PartnerRequestRecertificationService
2024-03-14T18:22:03.4762604Z   #call
2024-03-14T18:22:03.4763212Z     when the partner is deactivated
2024-03-14T18:22:03.5057757Z       does not send an email
2024-03-14T18:22:03.5058624Z     when the arguments are incorrect
2024-03-14T18:22:03.5059437Z       because the partner has already been requested to recertify
2024-03-14T18:22:03.5339918Z         should return the PartnerRequestRecertificationService object with an error
2024-03-14T18:22:03.5341051Z     when the arguments are correct
2024-03-14T18:22:03.5622540Z       should queue sending the notice to the partner
2024-03-14T18:22:03.5903823Z       should have no errors
2024-03-14T18:22:03.6204270Z       should change the partner status to approved
2024-03-14T18:22:03.6205423Z       but a unexpected error occurred during the save
2024-03-14T18:22:03.6206323Z         for partner approval
2024-03-14T18:22:03.6455292Z           should have an error with the raised error
2024-03-14T18:22:03.6717648Z           should not change the partner status to recertification_required
2024-03-14T18:22:03.6973964Z           should NOT queue sending the notice to the partner
2024-03-14T18:22:03.6974850Z 
2024-03-14T18:22:03.6975190Z Partners::FamilyRequest
2024-03-14T18:22:03.6976400Z   #items_attributes=
2024-03-14T18:22:03.7013315Z     overrides existing items
2024-03-14T18:22:03.7052181Z     creates instances of Item with correct attributes
2024-03-14T18:22:03.7094860Z     assigns items based on given attributes
2024-03-14T18:22:03.7095662Z   Partners::FamilyRequest.new_with_attrs
2024-03-14T18:22:03.7131742Z     creates a new FamilyRequest with attributes
2024-03-14T18:22:03.7132284Z 
2024-03-14T18:22:03.7132501Z DonationDestroyService
2024-03-14T18:22:03.7133316Z   #call
2024-03-14T18:22:03.7134519Z     when the organization_id matches no Organization
2024-03-14T18:22:03.7174537Z       to not be a success
2024-03-14T18:22:03.7175411Z     when storage_location fails to decrease the inventory of the donation
2024-03-14T18:22:03.7222975Z       to not be a success
2024-03-14T18:22:03.7224023Z     when the donation_id matches no Donation owned by the organization
2024-03-14T18:22:03.7264613Z       to not be a success
2024-03-14T18:22:03.7265470Z     when the donation succesfully gets destroyed
2024-03-14T18:22:03.7526030Z       to be a success
2024-03-14T18:22:03.7526817Z     when the donation destroy fails
2024-03-14T18:22:03.7574859Z       to not be a success
2024-03-14T18:22:03.7575458Z 
2024-03-14T18:22:03.7576035Z ServiceObjectErrorsMixin
2024-03-14T18:22:03.7576808Z   self.included
2024-03-14T18:22:03.7615151Z     should add class methods to the class that include ServiceObjectErrorsMixin
2024-03-14T18:22:03.7615998Z 
2024-03-14T18:22:03.7616222Z AddRoleService
2024-03-14T18:22:03.7616865Z   #call
2024-03-14T18:22:03.7617436Z     when the role already exists
2024-03-14T18:22:03.9581775Z       should raise an error
2024-03-14T18:22:04.1503158Z       should raise an error for super admin
2024-03-14T18:22:04.1504270Z     when the role does not yet exist
2024-03-14T18:22:04.3564992Z       works with super admin
2024-03-14T18:22:04.5496709Z       should add the role
2024-03-14T18:22:04.7618743Z       works with a partner
2024-03-14T18:22:04.9539497Z       should add the user role when asked to add admin
2024-03-14T18:22:04.9540647Z 
2024-03-14T18:22:04.9541058Z LineItem
2024-03-14T18:22:04.9542539Z   Scopes >
2024-03-14T18:22:04.9543442Z     ->active
2024-03-14T18:22:04.9912816Z       retrieves only those with active status
2024-03-14T18:22:04.9913651Z   Validations >
2024-03-14T18:22:05.0008257Z     requires an item
2024-03-14T18:22:05.0149966Z     requires a quantity
2024-03-14T18:22:05.1017598Z     the quantity must be a valid integer and cannot be 0
2024-03-14T18:22:05.1018694Z   package_count
2024-03-14T18:22:05.1206206Z     is equal to the quanity divided by the package_size
2024-03-14T18:22:05.1391523Z     is nil if there is no package_size
2024-03-14T18:22:05.1392810Z   versioning
2024-03-14T18:22:05.1428456Z     is expected to be versioned
2024-03-14T18:22:05.1429329Z   Methods >
2024-03-14T18:22:05.1429926Z     #value_per_line_item
2024-03-14T18:22:05.1430563Z       item has no value
2024-03-14T18:22:05.1558961Z         is expected to eq 0
2024-03-14T18:22:05.1559750Z       item has value and quantity
2024-03-14T18:22:05.1728982Z         is expected to eq 25
2024-03-14T18:22:05.1729888Z     item packages
2024-03-14T18:22:05.1730438Z       #package_count
2024-03-14T18:22:05.1734142Z         has packages
2024-03-14T18:22:05.1905329Z           is expected to eq "1"
2024-03-14T18:22:05.1906109Z         does not have packages
2024-03-14T18:22:05.2033028Z           is expected to be falsy
2024-03-14T18:22:05.2033933Z       #has_packages
2024-03-14T18:22:05.2034523Z         item has no package size
2024-03-14T18:22:05.2160581Z           is expected to be falsy
2024-03-14T18:22:05.2161511Z         item has package size
2024-03-14T18:22:05.2334796Z           is expected to be truthy
2024-03-14T18:22:05.2336320Z 
2024-03-14T18:22:05.2336598Z OrganizationUpdateService
2024-03-14T18:22:05.2337646Z   #update
2024-03-14T18:22:05.2338703Z     when object is invalid
2024-03-14T18:22:05.4153960Z       should not update and return false
2024-03-14T18:22:05.4154633Z     when object is valid
2024-03-14T18:22:05.5911661Z       should update and return true
2024-03-14T18:22:05.5912363Z     when organization has partners
2024-03-14T18:22:05.5913764Z       when all of a single partner's request flags WILL NOT be disabled
2024-03-14T18:22:05.8281012Z         should allow the disabling of request flags in organization and its partners
2024-03-14T18:22:05.8282237Z       when all of a single partner's request flags will be disabled
2024-03-14T18:22:06.0471845Z         should NOT change request flags in organization or its partners
2024-03-14T18:22:06.2609231Z         should add an error message to the organization
2024-03-14T18:22:06.2610820Z   #update_partner_flags
2024-03-14T18:22:06.2612060Z     when request flags haven't changed
2024-03-14T18:22:06.4724843Z       should not update partners
2024-03-14T18:22:06.4725872Z     when request flags have changed
2024-03-14T18:22:06.7015926Z       should update partners when disabling child and individual request flags
2024-03-14T18:22:06.9226181Z       should update partners when disabling quantity-based request flags
2024-03-14T18:22:07.1392228Z       should NOT update partners' request flags when enabling request flags on the organization
2024-03-14T18:22:07.1393270Z 
2024-03-14T18:22:07.1393503Z DistributionsController
2024-03-14T18:22:07.1394362Z   While signed in
2024-03-14T18:22:07.1394891Z     POST #create
2024-03-14T18:22:07.1395808Z       when line item quantity is not positive
2024-03-14T18:22:07.2150188Z         flashes an error
2024-03-14T18:22:07.2150910Z       when distribution causes inventory quantity to be below minimum quantity
2024-03-14T18:22:07.4320747Z         redirects with a flash notice and a flash error
2024-03-14T18:22:07.4322319Z       multiple line_items that have inventory quantity below minimum quantity
2024-03-14T18:22:07.5222284Z         redirects with a flash notice and a flash error
2024-03-14T18:22:07.5223249Z       multiple line_items that have inventory quantity below recommended quantity
2024-03-14T18:22:07.6092337Z         redirects with a flash notice and a flash alert
2024-03-14T18:22:07.6095300Z     PUT #update
2024-03-14T18:22:07.6096375Z       when distribution has items updated for minimum quantity
2024-03-14T18:22:07.7366179Z         redirects with a flash notice and send send_notification
2024-03-14T18:22:07.7367298Z       when distribution causes inventory quantity to be below recommended quantity
2024-03-14T18:22:07.8469513Z         redirects with a flash notice and a flash error
2024-03-14T18:22:07.8470571Z       when distribution causes inventory quantity to be below minimum quantity
2024-03-14T18:22:07.9579296Z         redirects with a flash notice and a flash error
2024-03-14T18:22:07.9579955Z 
2024-03-14T18:22:07.9580618Z ReminderDeadlineMailer
2024-03-14T18:22:07.9581287Z   notify deadline
2024-03-14T18:22:07.9872700Z     renders the body
2024-03-14T18:22:08.0138372Z     renders the receiver email
2024-03-14T18:22:08.0396269Z     renders the subject
2024-03-14T18:22:08.0654457Z     renders the sender email
2024-03-14T18:22:08.0655035Z 
2024-03-14T18:22:08.0655322Z KitAllocation
2024-03-14T18:22:08.0658984Z   add some examples to (or delete) /home/runner/work/human-essentials/human-essentials/spec/models/kit_allocation_spec.rb (PENDING: Not yet implemented)
2024-03-14T18:22:08.0660250Z   versioning
2024-03-14T18:22:08.0692697Z     is expected to be versioned
2024-03-14T18:22:08.0693278Z 
2024-03-14T18:22:08.0693558Z ProductDriveHelper
2024-03-14T18:22:08.0695072Z   #is_virtual
2024-03-14T18:22:08.0696570Z     when the product drive wasn't held virtually
2024-03-14T18:22:08.0749655Z       is expected to eq "No"
2024-03-14T18:22:08.0750371Z     when a product drive was not provided
2024-03-14T18:22:08.0793784Z       without argument
2024-03-14T18:22:08.0836924Z       with blank argument
2024-03-14T18:22:08.0837751Z     when the product drive was held virtually
2024-03-14T18:22:08.0887269Z       is expected to eq "Yes"
2024-03-14T18:22:08.0888080Z 
2024-03-14T18:22:08.0888413Z County
2024-03-14T18:22:08.0923802Z   is expected to have many served_areas
2024-03-14T18:22:08.0924472Z   versioning
2024-03-14T18:22:08.0956088Z     is expected to be versioned
2024-03-14T18:22:08.0957078Z 
2024-03-14T18:22:08.0957274Z DonationSite
2024-03-14T18:22:08.0958078Z   Validations >
2024-03-14T18:22:08.0999182Z     is invalid without an address
2024-03-14T18:22:08.1034469Z     must belong to an organization
2024-03-14T18:22:08.1074236Z     is invalid without a name
2024-03-14T18:22:08.1074896Z   geocode
2024-03-14T18:22:08.1128293Z     adds coordinates to the database
2024-03-14T18:22:08.1128975Z   versioning
2024-03-14T18:22:08.1161897Z     is expected to be versioned
2024-03-14T18:22:08.1162553Z   import_csv
2024-03-14T18:22:08.2923095Z     imports storage locations from a csv file
2024-03-14T18:22:08.2923979Z 
2024-03-14T18:22:08.2924416Z User
2024-03-14T18:22:08.2989071Z   has a valid factory
2024-03-14T18:22:08.2989681Z   Scopes >
2024-03-14T18:22:08.2990832Z     ->alphabetized
2024-03-14T18:22:08.3374109Z       retrieves users in the correct order
2024-03-14T18:22:08.3374785Z   Methods >
2024-03-14T18:22:08.3824679Z     #kind
2024-03-14T18:22:08.3902006Z     #invitation_status
2024-03-14T18:22:08.3951431Z     discarded?
2024-03-14T18:22:08.4028637Z     #reinvitable?
2024-03-14T18:22:08.4029200Z   Scopes >
2024-03-14T18:22:08.4029963Z     ->alphabetized
2024-03-14T18:22:08.4251155Z       retrieves users in the correct order
2024-03-14T18:22:08.4251929Z   Validations >
2024-03-14T18:22:08.4386507Z     requires a password with a special character and number
2024-03-14T18:22:08.4469411Z     requires a name
2024-03-14T18:22:08.4654302Z     requires an email that is formatted correctly
2024-03-14T18:22:08.4655309Z   versioning
2024-03-14T18:22:08.4691152Z     is expected to be versioned
2024-03-14T18:22:08.4691890Z   omniauth
2024-03-14T18:22:08.4822748Z     retrieves the user from an omniauth context
2024-03-14T18:22:08.4823364Z 
2024-03-14T18:22:08.4823591Z Partners::ServedArea
2024-03-14T18:22:08.5070644Z   must only allow valid client share values
2024-03-14T18:22:08.5207306Z   must only allow integer client shares
2024-03-14T18:22:08.5251165Z   is expected to belong to county required: true
2024-03-14T18:22:08.5291725Z   is expected to belong to partner_profile required: true
2024-03-14T18:22:08.5292616Z   versioning
2024-03-14T18:22:08.5327304Z     is expected to be versioned
2024-03-14T18:22:08.5327777Z 
2024-03-14T18:22:08.5328284Z PartnerInviteService
2024-03-14T18:22:08.5621714Z   should create invite
2024-03-14T18:22:08.5906799Z   should update the status of the partner to invited
2024-03-14T18:22:08.5907627Z   with force: true
2024-03-14T18:22:08.6205266Z     should send the force setting forward
2024-03-14T18:22:08.6205957Z 
2024-03-14T18:22:08.6206578Z PartnerCreateService
2024-03-14T18:22:08.6207188Z   #call
2024-03-14T18:22:08.8003213Z     should return an instance of itself
2024-03-14T18:22:08.8004584Z     when the arguments are incorrect
2024-03-14T18:22:08.8005392Z       beacuse the partner_attrs are invalid
2024-03-14T18:22:08.9773747Z         should contain errors related to invalid partner attributes
2024-03-14T18:22:08.9774750Z     when the arguments are valid
2024-03-14T18:22:09.1670915Z       should create the associated partner profile data
2024-03-14T18:22:09.3494244Z       should create a new partner record with the organization provided
2024-03-14T18:22:09.3495410Z       but there was an unexpected issue with saving the
2024-03-14T18:22:09.3496389Z         Partner record
2024-03-14T18:22:09.5300216Z           should not create the associated partner records
2024-03-14T18:22:09.7117627Z           should not create the partner record for the organization
2024-03-14T18:22:09.7118662Z         Partners::Profile record
2024-03-14T18:22:09.8956189Z           should not create the associated partner records
2024-03-14T18:22:10.0719744Z           should not create the partner record for the organization
2024-03-14T18:22:10.0720739Z 
2024-03-14T18:22:10.0720985Z DistributionReminder
2024-03-14T18:22:10.0722199Z   conditionally sending the emails
2024-03-14T18:22:10.0997560Z     does not send mail for past distributions
2024-03-14T18:22:10.1267393Z     does not send mail for future distributions if the partner wants no reminders
2024-03-14T18:22:10.1538483Z     sends mail for future distributions where the partner wants reminders
2024-03-14T18:22:10.1806280Z     sends mail for future distributions
2024-03-14T18:22:10.1807031Z     when the distribution_id does not match any Distribution
2024-03-14T18:22:10.1847263Z       does not send mail for non existent distributions
2024-03-14T18:22:10.1848208Z     when the partner is deactivated
2024-03-14T18:22:10.2116948Z       does not send mail
2024-03-14T18:22:10.2117691Z 
2024-03-14T18:22:10.2117971Z PartnerMailerJob
2024-03-14T18:22:10.2119085Z   conditionally sending the emails
2024-03-14T18:22:10.5176349Z     sends mail for future distributions immediately
2024-03-14T18:22:10.7128883Z     does not send mail for past distributions
2024-03-14T18:22:10.7130158Z     when the distribution is for a deactivated partner
2024-03-14T18:22:11.0383758Z       does not send the email
2024-03-14T18:22:11.0389726Z 
2024-03-14T18:22:11.0390478Z Reports::ChildrenServedReportService
2024-03-14T18:22:11.0391175Z   #report
2024-03-14T18:22:11.2524186Z     should report zero values
2024-03-14T18:22:11.7512649Z     should report normal values
2024-03-14T18:22:12.2337357Z     should work with no distribution_quantity
2024-03-14T18:22:12.2337982Z 
2024-03-14T18:22:12.2338187Z ItemsInTotalQuery
2024-03-14T18:22:12.2339191Z   items_in_total_query
2024-03-14T18:22:12.4427060Z     does not count transfers going in the negative direction
2024-03-14T18:22:12.7137828Z     does not count donations, purchases, adjustments to other storage locations
2024-03-14T18:22:12.9197061Z     does not count negative adjustments towards in-flow
2024-03-14T18:22:13.0749404Z     returns a sum total of all in-flows
2024-03-14T18:22:13.4178272Z     counts shared items together
2024-03-14T18:22:13.4178784Z 
2024-03-14T18:22:13.4178983Z DispersedPastDatesGenerator
2024-03-14T18:22:13.4179751Z   #next
2024-03-14T18:22:13.4233470Z     returns equally dispersed dates between all time ranges
2024-03-14T18:22:13.4234399Z   constants
2024-03-14T18:22:13.4265893Z     has 4 day ranges for generation of past dates
2024-03-14T18:22:13.4266459Z 
2024-03-14T18:22:13.4266741Z Reports::SummaryReportService
2024-03-14T18:22:13.4267578Z   #report
2024-03-14T18:22:13.6052108Z     should report zero values
2024-03-14T18:22:14.0555780Z     should report positive values
2024-03-14T18:22:14.4897664Z     should report negative values
2024-03-14T18:22:14.4898386Z 
2024-03-14T18:22:14.4898621Z Question
2024-03-14T18:22:14.4900161Z   validations
2024-03-14T18:22:14.5009154Z     is expected to validate that :answer cannot be empty/falsy
2024-03-14T18:22:14.5065379Z     is expected to validate that :title cannot be empty/falsy
2024-03-14T18:22:14.5207772Z     question for_banks and for_partners attributes can't both be false
2024-03-14T18:22:14.5208493Z   remove_redundant_error
2024-03-14T18:22:14.5246357Z     should return an array with only one error message related to the checkboxes.
2024-03-14T18:22:14.5247326Z   scope for_banks
2024-03-14T18:22:14.5468238Z     should filter out questions that aren't meant for banks
2024-03-14T18:22:14.5468971Z   versioning
2024-03-14T18:22:14.5502910Z     is expected to be versioned
2024-03-14T18:22:14.5503461Z   punctuate
2024-03-14T18:22:14.5541402Z     should punctuate each string in a given array
2024-03-14T18:22:14.5541874Z   scope for_partners
2024-03-14T18:22:14.5832442Z     should filter out questions that aren't meant for partners
2024-03-14T18:22:14.5833326Z 
2024-03-14T18:22:14.5833617Z StorageLocation
2024-03-14T18:22:14.5835354Z   versioning
2024-03-14T18:22:14.5875006Z     is expected to be versioned
2024-03-14T18:22:14.5875457Z   Methods >
2024-03-14T18:22:14.5877447Z     item_total
2024-03-14T18:22:14.6271614Z       retrieves the total for a single item
2024-03-14T18:22:14.6272134Z     StorageLocation.items_inventoried
2024-03-14T18:22:14.7077337Z       returns a collection of items that are stored within inventories
2024-03-14T18:22:14.7078562Z     geocode
2024-03-14T18:22:14.7180890Z       adds coordinates to the database
2024-03-14T18:22:14.7181393Z     import_inventory
2024-03-14T18:22:15.0165181Z       imports storage locations from a csv file
2024-03-14T18:22:15.0165927Z     inventory_total_value_in_dollars
2024-03-14T18:22:15.0563064Z       returns a value including cents if the total isn't an even dollar amount
2024-03-14T18:22:15.0683471Z       returns 0 when there are no items in this storage location
2024-03-14T18:22:15.1151864Z       returns total value of all items in this storage location
2024-03-14T18:22:15.1152515Z     import_csv
2024-03-14T18:22:15.1267334Z       imports storage locations from a csv file
2024-03-14T18:22:15.1267968Z     increase_inventory
2024-03-14T18:22:15.1268694Z       when providing a new item that does not yet exist
2024-03-14T18:22:15.2304045Z         creates those new inventory items in the storage location
2024-03-14T18:22:15.2304833Z       With existing inventory
2024-03-14T18:22:15.3351517Z         increases inventory quantities from an itemizable object
2024-03-14T18:22:15.3352332Z     size
2024-03-14T18:22:15.3818107Z       returns total quantity of all items in this storage location
2024-03-14T18:22:15.3820629Z     csv_export_attributes
2024-03-14T18:22:15.4475494Z       returns an array of storage location attributes, followed by inventory item quantities that are sorted by alphabetized item names
2024-03-14T18:22:15.4476354Z     decrease_inventory
2024-03-14T18:22:15.5508588Z       decreases inventory quantities from an itemizable object
2024-03-14T18:22:15.5509364Z       when there is insufficient inventory available
2024-03-14T18:22:15.5589065Z         gives informative errors
2024-03-14T18:22:15.5667058Z         does not change inventory quantities if there is an error
2024-03-14T18:22:15.5667674Z   Filtering >
2024-03-14T18:22:15.5750984Z     ->active_locations yields only storage locations that haven't been discarded
2024-03-14T18:22:15.6441437Z     ->containing yields only inventories that have that item
2024-03-14T18:22:15.6442225Z   Validations >
2024-03-14T18:22:15.6505286Z     is expected to validate that :address cannot be empty/falsy
2024-03-14T18:22:15.6562570Z     is expected to validate that :name cannot be empty/falsy
2024-03-14T18:22:15.6618782Z     is expected to validate that :organization cannot be empty/falsy
2024-03-14T18:22:15.6619616Z   Callbacks >
2024-03-14T18:22:15.6620036Z     before_destroy
2024-03-14T18:22:15.7194667Z       deletes storage locations with no inventory items on it
2024-03-14T18:22:15.7556832Z       does not delete storage locations with inventory items on it
2024-03-14T18:22:15.7558604Z 
2024-03-14T18:22:15.7558788Z Partner
2024-03-14T18:22:15.7561364Z   #approvable?
2024-03-14T18:22:15.7562244Z     when status is not invited or awaiting_review
2024-03-14T18:22:15.7635292Z       should return false
2024-03-14T18:22:15.7635821Z     when status is awaiting_review
2024-03-14T18:22:15.7674780Z       should return true
2024-03-14T18:22:15.7675268Z     when status is invited
2024-03-14T18:22:15.7716630Z       should return true
2024-03-14T18:22:15.7717095Z   versioning
2024-03-14T18:22:15.7753840Z     is expected to be versioned
2024-03-14T18:22:15.7754372Z   associations
2024-03-14T18:22:15.7790272Z     is expected to have many users dependent => destroy
2024-03-14T18:22:15.7825402Z     is expected to have many distributions
2024-03-14T18:22:15.7862278Z     is expected to have many requestable_items through item_categories source => items
2024-03-14T18:22:15.7915992Z     is expected to belong to partner_group optional: true
2024-03-14T18:22:15.7975540Z     is expected to have many families dependent => destroy
2024-03-14T18:22:15.8010013Z     is expected to have many requests
2024-03-14T18:22:15.8046947Z     is expected to have many children through families
2024-03-14T18:22:15.8081134Z     is expected to have many item_categories through partner_group
2024-03-14T18:22:15.8116051Z     is expected to have many requests
2024-03-14T18:22:15.8174752Z     is expected to belong to organization required: true
2024-03-14T18:22:15.8175671Z     primary_user
2024-03-14T18:22:15.8472474Z       should return the first user ever created for a partner
2024-03-14T18:22:15.8473284Z   #csv_export_attributes
2024-03-14T18:22:15.8711343Z     includes contact person information from parnerbase
2024-03-14T18:22:15.8712108Z   ActiveStorage validation
2024-03-14T18:22:15.8823738Z     validates that attachments are pdf or docs
2024-03-14T18:22:15.8824422Z   Validations >
2024-03-14T18:22:15.9075241Z     still requires a unique email between organizations
2024-03-14T18:22:15.9125159Z     must belong to an organization
2024-03-14T18:22:15.9411082Z     requires a unique email that is formatted correctly
2024-03-14T18:22:15.9631129Z     does not require a unique name between organizations
2024-03-14T18:22:15.9887474Z     requires a unique name within an organization
2024-03-14T18:22:15.9970039Z     validates the quota is a number but it is not required
2024-03-14T18:22:15.9970756Z   callbacks
2024-03-14T18:22:16.0167648Z     properly downcases email
2024-03-14T18:22:16.0168240Z   import_csv
2024-03-14T18:22:16.3328509Z     imports partners from a csv file with BOM encodings
2024-03-14T18:22:16.5440273Z     imports partners from a csv file and prevents multiple imports
2024-03-14T18:22:16.5441078Z   #deletable?
2024-03-14T18:22:16.5442872Z     when status is not uninvited
2024-03-14T18:22:16.5522080Z       should return false
2024-03-14T18:22:16.5522588Z     when status is uninvited
2024-03-14T18:22:16.5523685Z       when it has a profile but no users
2024-03-14T18:22:16.5672582Z         should return true
2024-03-14T18:22:16.5673160Z       when it has no other associations
2024-03-14T18:22:16.5776260Z         should return true
2024-03-14T18:22:16.5776823Z       when it has a profile and users
2024-03-14T18:22:16.6025005Z         should return false
2024-03-14T18:22:16.6025616Z       when it has a request
2024-03-14T18:22:16.6181158Z         should return false
2024-03-14T18:22:16.6181742Z       when it has a distribution
2024-03-14T18:22:16.6337365Z         should return false
2024-03-14T18:22:16.6337942Z   #impact_metrics
2024-03-14T18:22:16.6339411Z     when partner don't have any related information
2024-03-14T18:22:16.6632550Z       is expected to eq {:children_served=>0, :families_served=>0, :family_zipcodes=>0, :family_zipcodes_list=>[]}
2024-03-14T18:22:16.6633752Z     when partner has related information
2024-03-14T18:22:16.7290244Z       is expected to eq {:children_served=>4, :families_served=>3, :family_zipcodes=>2, :family_zipcodes_list=>["45612-123", "45612-126"]}
2024-03-14T18:22:16.7291869Z   #profile
2024-03-14T18:22:16.7523844Z     should return the associated Partners::Profile record
2024-03-14T18:22:16.7524595Z   changing emails
2024-03-14T18:22:16.7779484Z     should not call the UserInviteService.invite when the partner has status deactivated and the email is changed
2024-03-14T18:22:16.8030275Z     should call the UserInviteService.invite when the partner has status approved and the email is changed
2024-03-14T18:22:16.8276991Z     should call the UserInviteService.invite when the partner has status recertification_required and the email is changed
2024-03-14T18:22:16.8550219Z     should call the UserInviteService.invite when the partner has status awaiting_review and the email is changed
2024-03-14T18:22:16.8860612Z     should not call the UserInviteService.invite when the partner is changing email to previously used email
2024-03-14T18:22:16.9110610Z     should call the UserInviteService.invite when the partner has status invited and the email is changed
2024-03-14T18:22:16.9352963Z     should not call the UserInviteService.invite when the partner has status uninvited and the email is changed
2024-03-14T18:22:16.9353730Z   Filters
2024-03-14T18:22:16.9354101Z     by_status
2024-03-14T18:22:16.9734406Z       yields deactivated partner when deactivated status provided
2024-03-14T18:22:17.0119126Z       yields partners with the provided status
2024-03-14T18:22:17.0119819Z   #quantity_year_to_date
2024-03-14T18:22:17.1966272Z     does not include quantities from distributions issued during the previous year
2024-03-14T18:22:17.3737166Z     includes all item quantities from distributions issued during the current year
2024-03-14T18:22:17.3737841Z   #deactivated?
2024-03-14T18:22:17.3738553Z     when the status is not 'deactivated'
2024-03-14T18:22:17.3782183Z       should return false
2024-03-14T18:22:17.3782760Z     when the status is 'deactivated'
2024-03-14T18:22:17.3821292Z       should return true
2024-03-14T18:22:17.3822177Z 
2024-03-14T18:22:17.3822578Z NDBNMember
2024-03-14T18:22:17.3823562Z   versioning
2024-03-14T18:22:17.3881905Z     is expected to be versioned
2024-03-14T18:22:17.3882481Z   #full_name
2024-03-14T18:22:17.3918927Z     should equal the id and the account name
2024-03-14T18:22:17.3919607Z   validations
2024-03-14T18:22:17.3989988Z     is expected to validate that :account_name cannot be empty/falsy
2024-03-14T18:22:17.4045162Z     is expected to validate that :ndbn_member_id cannot be empty/falsy
2024-03-14T18:22:17.4113163Z     is expected to validate that :ndbn_member_id is case-sensitively unique
2024-03-14T18:22:17.4113890Z 
2024-03-14T18:22:17.4114096Z ItemizableUpdateService
2024-03-14T18:22:17.4115078Z   increases
2024-03-14T18:22:17.5430055Z     should update quantity in different locations
2024-03-14T18:22:17.6277882Z     should raise an error if any item is inactive
2024-03-14T18:22:17.7563489Z     should update quantity in same storage location
2024-03-14T18:22:17.7564149Z   decreases
2024-03-14T18:22:17.8672705Z     should raise an error if any item is inactive
2024-03-14T18:22:18.0016267Z     should update quantity in same storage location
2024-03-14T18:22:18.1371885Z     should update quantity in different locations
2024-03-14T18:22:18.1372646Z 
2024-03-14T18:22:18.1372838Z CustomDeviseMailer
2024-03-14T18:22:18.1374066Z   #invitation_instructions
2024-03-14T18:22:18.1375364Z     when partner is invited
2024-03-14T18:22:18.1793202Z       invites to primary user
2024-03-14T18:22:18.1793886Z     when user is invited
2024-03-14T18:22:18.1973624Z       has invite expiration message
2024-03-14T18:22:18.2149514Z       invites to user
2024-03-14T18:22:18.2150067Z     when other partner users invited
2024-03-14T18:22:18.2552520Z       invites to partner user
2024-03-14T18:22:18.2558310Z 
2024-03-14T18:22:18.2558644Z TextInterpolatorService
2024-03-14T18:22:18.2559293Z   #call
2024-03-14T18:22:18.2593947Z     returns interpolated text
2024-03-14T18:22:18.2594668Z     when text is empty
2024-03-14T18:22:18.2633866Z       returns empty string
2024-03-14T18:22:18.2634646Z     when interpolations are nil
2024-03-14T18:22:18.2675706Z       returns text
2024-03-14T18:22:18.2676200Z     when interpolations are not present
2024-03-14T18:22:18.2709646Z       returns text
2024-03-14T18:22:18.2716703Z     when interpolations are empty
2024-03-14T18:22:18.2752170Z       returns text
2024-03-14T18:22:18.2752566Z     when text is nil
2024-03-14T18:22:18.2791901Z       returns nil
2024-03-14T18:22:18.3210108Z W, [2024-03-14T11:22:18.320802 #2409]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-14T18:22:18.3211624Z W, [2024-03-14T11:22:18.320843 #2409]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-14T18:22:18.3214064Z W, [2024-03-14T11:22:18.320857 #2409]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-14T18:22:18.3216991Z W, [2024-03-14T11:22:18.320878 #2409]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-14T18:22:18.3218300Z 
2024-03-14T18:22:18.3218946Z Pending: (Failures listed here are expected and do not affect your suite's status)
2024-03-14T18:22:18.3219746Z 
2024-03-14T18:22:18.3225832Z   1) KitAllocation add some examples to (or delete) /home/runner/work/human-essentials/human-essentials/spec/models/kit_allocation_spec.rb
2024-03-14T18:22:18.3227038Z      # Not yet implemented
2024-03-14T18:22:18.3227386Z      # ./spec/models/kit_allocation_spec.rb:16
2024-03-14T18:22:18.3227655Z 
2024-03-14T18:22:18.3227861Z Finished in 34.31 seconds (files took 8.24 seconds to load)
2024-03-14T18:22:18.3228302Z 484 examples, 0 failures, 1 pending
2024-03-14T18:22:18.3228540Z 
2024-03-14T18:22:18.3228644Z Randomized with seed 64328
2024-03-14T18:22:18.3228834Z 
2024-03-14T18:22:18.6255995Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3942 / 6493 LOC (60.71%) covered.
2024-03-14T18:22:19.0836751Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10802 LOC (0.35%) covered.
