2024-03-12T06:28:29.4525925Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-12T06:28:29.4526931Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-12T06:28:29.4577535Z shell: /usr/bin/bash -e {0}
2024-03-12T06:28:29.4577934Z env:
2024-03-12T06:28:29.4578269Z   POSTGRES_HOST: localhost
2024-03-12T06:28:29.4578726Z   DATABASE_HOST: localhost
2024-03-12T06:28:29.4579068Z   PG_USERNAME: postgres
2024-03-12T06:28:29.4579463Z   PG_PASSWORD: password
2024-03-12T06:28:29.4579902Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-12T06:28:29.4580307Z   POSTGRES_PORT: 5432
2024-03-12T06:28:29.4580955Z   PGHOST: localhost
2024-03-12T06:28:29.4581268Z   PGUSER: postgres
2024-03-12T06:28:29.4581622Z   RAILS_ENV: test
2024-03-12T06:28:29.4582080Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-12T06:28:29.4582524Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-12T06:28:29.4582900Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-03-12T06:28:29.4583401Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-12T06:28:29.4584000Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-12T06:28:29.4584660Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-12T06:28:29.4585316Z   EVENTS_READ: true
2024-03-12T06:28:29.4585617Z ##[endgroup]
2024-03-12T06:28:35.0813572Z W, [2024-03-12T06:28:35.080990 #2444]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-12T06:28:35.0815291Z W, [2024-03-12T06:28:35.081051 #2444]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:28:35.0816888Z W, [2024-03-12T06:28:35.081078 #2444]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:28:35.0819853Z W, [2024-03-12T06:28:35.081112 #2444]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-12T06:28:37.7474091Z W, [2024-03-12T06:28:37.747123 #2444]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-12T06:28:37.7475607Z W, [2024-03-12T06:28:37.747162 #2444]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:28:37.7477120Z W, [2024-03-12T06:28:37.747175 #2444]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:28:37.7479509Z W, [2024-03-12T06:28:37.747206 #2444]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-12T06:28:37.7529134Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/organization_requests_spec.rb" "spec/requests/partners/individuals_requests_controller_spec.rb" "spec/requests/product_drive_participants_requests_spec.rb" "spec/requests/sessions_requests_spec.rb" "spec/requests/vendors_requests_spec.rb" "spec/system/admin/base_items_system_spec.rb" "spec/system/authorization_system_spec.rb" "spec/system/donation_system_spec.rb" "spec/system/manufacturer_system_spec.rb" "spec/system/partners/family_requests_system_spec.rb" "spec/system/product_drive_system_spec.rb" "spec/system/storage_location_system_spec.rb"
2024-03-12T06:28:46.0279769Z 
2024-03-12T06:28:46.0280968Z Randomized with seed 23994
2024-03-12T06:28:46.9715692Z 
2024-03-12T06:28:46.9716333Z Donations
2024-03-12T06:28:46.9717561Z   When signed in as a normal user
2024-03-12T06:28:46.9719190Z     When visiting the index page
2024-03-12T06:28:48.6008968Z       doesn't die when an inactive item is in a donation
2024-03-12T06:28:49.4402434Z       Allows User to click to the new donation form
2024-03-12T06:28:49.9342282Z       Displays Total quantity on the index page
2024-03-12T06:28:50.6836284Z       should not display inactive storage locations in dropdown
2024-03-12T06:28:50.6837085Z     When donation items have value
2024-03-12T06:28:51.3775672Z       Displays the individual value on the index page
2024-03-12T06:28:52.2931280Z       Displays the total value on the show page
2024-03-12T06:28:52.9790657Z       Displays the total value on the index page
2024-03-12T06:28:52.9791843Z     When filtering on the index page
2024-03-12T06:28:53.8054601Z       Filters by product drives
2024-03-12T06:28:54.6270036Z       Filters by product drive participant
2024-03-12T06:28:55.4386772Z       Filters by storage location
2024-03-12T06:28:56.5780380Z       Filters by multiple attributes
2024-03-12T06:28:57.3924765Z       Filters by manufacturer
2024-03-12T06:28:58.1882275Z       Filters by donation site
2024-03-12T06:28:59.0108427Z       Filter by product drive participant sticks around
2024-03-12T06:28:59.8187234Z       Filters by the source
2024-03-12T06:28:59.8188114Z       behaves like Date Range Picker
2024-03-12T06:28:59.8189412Z         when choosing 'All Time'
2024-03-12T06:29:00.7623519Z           shows all the records
2024-03-12T06:29:00.7624555Z         when choosing a date range that only includes the previous week
2024-03-12T06:29:01.6970265Z           shows only 1 record
2024-03-12T06:29:01.6971325Z         when choosing 'Last Month'
2024-03-12T06:29:02.6297198Z           shows only 2 of the records
2024-03-12T06:29:02.6298092Z     When viewing an existing donation
2024-03-12T06:29:03.1138292Z       does not allow deletion of a donation
2024-03-12T06:29:03.6342628Z       displays donation comment
2024-03-12T06:29:03.6343720Z       when there is no comment defined
2024-03-12T06:29:04.4547544Z         displays the None provided as the comment
2024-03-12T06:29:04.4548820Z     When creating a new donation
2024-03-12T06:29:04.9633476Z       should not display inactive storage locations in dropdown
2024-03-12T06:29:04.9634187Z       Via manual entry
2024-03-12T06:29:05.8811604Z         Allows User to create a donation for a Donation Site source
2024-03-12T06:29:06.6324541Z         Allows User to create a Product Drive Participant from donation
2024-03-12T06:29:07.4213179Z         Does not include inactive items in the line item fields
2024-03-12T06:29:08.3087612Z         Verifies unusually large donation quantities
2024-03-12T06:29:09.2523756Z         Strips extraneous data if the user adds both Donation Site and Product Drive Participant
2024-03-12T06:29:10.1700907Z         Allows User to create a donation for a ProductDrive Participant source
2024-03-12T06:29:11.0739377Z         Allows User to create a donation for a Manufacturer source
2024-03-12T06:29:11.9279676Z         Displays nested errors
2024-03-12T06:29:12.6650783Z         Allows User to create a Manufacturer from donation
2024-03-12T06:29:13.5345692Z         Allows User to create a donation with a Miscellaneous source
2024-03-12T06:29:16.1687541Z         Ensures Barcode Entry fields have unique ids (FAILED - 1)
2024-03-12T06:29:16.1691101Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Ensures-Barcode-Entry-fields-have-unique-ids_2024-03-11-23-29-16.036.html[0m
2024-03-12T06:29:16.1695371Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Ensures-Barcode-Entry-fields-have-unique-ids_2024-03-11-23-29-16.036.png[0m
2024-03-12T06:29:17.0597130Z         Allows User to create a donation for Purchased Supplies
2024-03-12T06:29:18.0328621Z         Repopulates items dropdown even if initial submission doesn't validate
2024-03-12T06:29:18.7826439Z         Allows User to create a Product Drive from donation
2024-03-12T06:29:19.6724640Z         Allows donations to be created IN THE PAST
2024-03-12T06:29:20.5567956Z         User can create a donation using dollars decimal amount for its money raised
2024-03-12T06:29:23.2357998Z         Accepts and combines multiple line items for the same item type (FAILED - 2)
2024-03-12T06:29:23.2360567Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Accepts-and-combines-multiple-line-items-for-the-same-item-type_2024-03-11-23-29-23.101.html[0m
2024-03-12T06:29:23.2363485Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Accepts-and-combines-multiple-line-items-for-the-same-item-type_2024-03-11-23-29-23.101.png[0m
2024-03-12T06:29:23.2365280Z       Via barcode entry
2024-03-12T06:29:24.1046727Z         Allows User to add items by barcode (FAILED - 3)
2024-03-12T06:29:24.1048389Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Allows-User-to-add-items-by-barcode_2024-03-11-23-29-23.968.html[0m
2024-03-12T06:29:24.1051041Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Allows-User-to-add-items-by-barcode_2024-03-11-23-29-23.968.png[0m
2024-03-12T06:29:24.9694171Z         Updates the line item when the same barcode is scanned twice (FAILED - 4)
2024-03-12T06:29:24.9696884Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Updates-the-line-item-when-the-same-barcode-is-scanned-twice_2024-03-11-23-29-24.834.html[0m
2024-03-12T06:29:24.9700041Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Updates-the-line-item-when-the-same-barcode-is-scanned-twice_2024-03-11-23-29-24.834.png[0m
2024-03-12T06:29:25.8828376Z         Allows User to add items that do not yet have a barcode
2024-03-12T06:29:25.8829749Z         When the barcode is a global barcode
2024-03-12T06:29:27.0023462Z           Adds the oldest item it can find for the global barcode (FAILED - 5)
2024-03-12T06:29:27.0026392Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Adds-the-oldest-item-it-can-find-for-the-global-barcode_2024-03-11-23-29-26.867.html[0m
2024-03-12T06:29:27.0030074Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Adds-the-oldest-item-it-can-find-for-the-global-barcode_2024-03-11-23-29-26.867.png[0m
2024-03-12T06:29:27.0032024Z     When editing an existing donation
2024-03-12T06:29:28.5125468Z       Allows the user to edit a donation
2024-03-12T06:29:30.3529280Z       Does not default a selection if item lookup fails
2024-03-12T06:29:30.3530259Z   while signed in as an organization admin
2024-03-12T06:29:30.3531181Z     When viewing an existing donation
2024-03-12T06:29:31.2401039Z       allows deletion of a donation
2024-03-12T06:29:31.2401803Z 
2024-03-12T06:29:31.2402307Z Sessions
2024-03-12T06:29:31.2403473Z   Sign in as user without logging off as an admin
2024-03-12T06:29:31.2715982Z     cannot access admin dashboard
2024-03-12T06:29:31.2968977Z     properly accesses the organization dashboard
2024-03-12T06:29:31.2969665Z 
2024-03-12T06:29:31.2969931Z Base Item Admin
2024-03-12T06:29:31.2971620Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-12T06:29:31.9353593Z     can view a listing of all Base Items that shows a summary of its sub-items
2024-03-12T06:29:32.3779588Z     can view a single Base Item
2024-03-12T06:29:32.3780803Z     when creating a new base item
2024-03-12T06:29:33.0870408Z       should fail when creating a new base item with empty attributes
2024-03-12T06:29:33.8892168Z       should succeed when creating a new base item with good data
2024-03-12T06:29:33.8893249Z     when updating an existing base item
2024-03-12T06:29:34.6080426Z       should fail when updating the name to empty
2024-03-12T06:29:35.4399437Z       should succeed when changing the name
2024-03-12T06:29:35.4400513Z   While signed in as a normal user
2024-03-12T06:29:36.8514592Z     should have a normal user not see anything
2024-03-12T06:29:36.8515654Z   While signed in as an Administrative User (super admin)
2024-03-12T06:29:37.3057277Z     can view a single Base Item
2024-03-12T06:29:37.8259558Z     can view a listing of all Base Items that shows a summary of its sub-items
2024-03-12T06:29:37.8260248Z     when creating a new base item
2024-03-12T06:29:38.6080693Z       should succeed when creating a new base item with good data
2024-03-12T06:29:39.3160200Z       should fail when creating a new base item with empty attributes
2024-03-12T06:29:39.3161128Z     when updating an existing base item
2024-03-12T06:29:40.1056530Z       should succeed when changing the name
2024-03-12T06:29:40.8565094Z       should fail when updating the name to empty
2024-03-12T06:29:40.8566123Z 
2024-03-12T06:29:40.8566586Z Partners::IndividualsRequestsController
2024-03-12T06:29:40.8567729Z   GET #new
2024-03-12T06:29:40.8980245Z     does not allow deactivated partners
2024-03-12T06:29:40.9351643Z     does not allow partners not verified
2024-03-12T06:29:40.9352745Z     when first reaching the new page
2024-03-12T06:29:40.9876558Z       has the correct select fields
2024-03-12T06:29:40.9877337Z   POST #create
2024-03-12T06:29:41.0304304Z     does not allow partners not verified
2024-03-12T06:29:41.0706799Z     does not allow deactivated partners
2024-03-12T06:29:41.0707880Z     when a request is empty
2024-03-12T06:29:41.1287743Z       is invalid
2024-03-12T06:29:41.1288518Z     when the request has invalid inputs
2024-03-12T06:29:41.1914130Z       shows an error
2024-03-12T06:29:41.1915016Z     when a request has an empty row
2024-03-12T06:29:41.2574617Z       is valid
2024-03-12T06:29:41.2575219Z     after invalid submission
2024-03-12T06:29:41.3150994Z       has the correct select fields
2024-03-12T06:29:41.3151854Z     when the request is valid
2024-03-12T06:29:41.3666405Z       submits the request
2024-03-12T06:29:41.3667350Z     when a request has only a comment
2024-03-12T06:29:41.4113738Z       is valid
2024-03-12T06:29:41.4114581Z 
2024-03-12T06:29:41.4114808Z Storage Locations
2024-03-12T06:29:41.4116451Z   when viewing the index
2024-03-12T06:29:42.7987818Z     Allows user to deactivate and reactivate storage locations
2024-03-12T06:29:43.3871172Z     Filter list presented to user is in alphabetical order by item name
2024-03-12T06:29:44.2614575Z     Allows user to filter discarded storage locations
2024-03-12T06:29:45.4975900Z     User can filter the #index by those that contain certain items
2024-03-12T06:29:46.5992604Z     shows totals that are the sum totals of all inputs
2024-03-12T06:29:47.3864788Z     Stops a user from deactivating storage locations with inventory
2024-03-12T06:29:47.3865828Z   when creating a new storage location
2024-03-12T06:29:48.2768538Z     User creates a new storage location
2024-03-12T06:29:49.0998151Z     User creates a new storage location with empty attributes
2024-03-12T06:29:49.9135671Z     User creates a new storage location with optional fields
2024-03-12T06:29:49.9136523Z   when editing an existing storage location
2024-03-12T06:29:50.6798745Z     User updates an existing storage location with empty name
2024-03-12T06:29:51.4613361Z     User updates an existing storage location
2024-03-12T06:29:51.4614222Z   when viewing an existing storage location
2024-03-12T06:29:52.1021391Z     Items in (adjustments)
2024-03-12T06:29:52.7641117Z     Items out (distributions)
2024-03-12T06:29:52.7642170Z 
2024-03-12T06:29:52.7642421Z Family requests
2024-03-12T06:29:52.7643493Z   for children with different items, from different families
2024-03-12T06:29:54.3880809Z     it creates family requests
2024-03-12T06:29:54.3881558Z   filtering children
2024-03-12T06:29:55.3117733Z     user can see a list of children filtered by first_name
2024-03-12T06:29:56.2554365Z     user can see a list of children filtered by guardian name
2024-03-12T06:29:56.2554971Z 
2024-03-12T06:29:56.2555178Z Audits
2024-03-12T06:29:56.2556443Z   while signed in as an organization admin
2024-03-12T06:29:56.2557627Z     DELETE #destroy
2024-03-12T06:29:56.2558634Z       with valid params
2024-03-12T06:29:56.2986218Z         destroys the audit if the audit's status is `confirms`
2024-03-12T06:29:56.3351504Z         destroys the audit if the audit's status is `in_progress`
2024-03-12T06:29:56.3696760Z         can not destroy the audit if the audit's status is `finalized`
2024-03-12T06:29:56.3697677Z     GET #edit
2024-03-12T06:29:56.4302788Z       is successful if the status of audit is `in_progress`
2024-03-12T06:29:56.4912108Z       redirects to #index if the status of audit is not `in_progress`
2024-03-12T06:29:56.4912883Z     GET #index
2024-03-12T06:29:56.5456788Z       is successful
2024-03-12T06:29:56.5457302Z     GET #show
2024-03-12T06:29:56.5947727Z       is successful
2024-03-12T06:29:56.5948995Z     GET #new
2024-03-12T06:29:56.6315083Z       is successful
2024-03-12T06:29:56.6315845Z     POST #create
2024-03-12T06:29:56.6316741Z       with invalid params
2024-03-12T06:29:56.6688388Z         re-renders the 'new' template
2024-03-12T06:29:56.7215653Z         re-renders the 'new' template with an error message when an invalid storage location is given
2024-03-12T06:29:56.7591759Z         assigns a newly created but unsaved audit as @audit
2024-03-12T06:29:56.7592564Z       with valid params
2024-03-12T06:29:56.7971567Z         creates a new Audit with status as `in_progress` if `save_progress` is passed as a param
2024-03-12T06:29:56.8351706Z         creates a new Audit with status as `confirmed` if `confirm_audit` is passed as a param
2024-03-12T06:29:56.8735319Z         redirects to the #show after created audit
2024-03-12T06:29:56.9110416Z         assigns a newly created audit as @audit
2024-03-12T06:29:56.9485197Z         creates a new Audit
2024-03-12T06:29:56.9486106Z     POST #finalize
2024-03-12T06:29:57.0089886Z       sets the finalize status and saves an event
2024-03-12T06:29:57.0090451Z 
2024-03-12T06:29:57.0090702Z DonationSites
2024-03-12T06:29:57.0091765Z   while signed in
2024-03-12T06:29:57.0092549Z     GET #index
2024-03-12T06:29:57.0093435Z       csv
2024-03-12T06:29:57.0265857Z         is expected to be successful
2024-03-12T06:29:57.0266589Z       html
2024-03-12T06:29:57.0595075Z         is expected to be successful
2024-03-12T06:29:57.0596072Z 
2024-03-12T06:29:57.0596354Z /account_requests
2024-03-12T06:29:57.0598153Z   GET #new
2024-03-12T06:29:57.0809720Z     renders a successful response
2024-03-12T06:29:57.0811178Z   GET #confirm
2024-03-12T06:29:57.0811876Z     when given a invalid token
2024-03-12T06:29:57.0869351Z       should render a error that says that is code provided is invalid
2024-03-12T06:29:57.0870510Z     when given a valid token
2024-03-12T06:29:57.1068940Z       should the update confirmed_at on the account_request, queue confirmation email and render confirm template
2024-03-12T06:29:57.1070023Z     when given a token that has already been confirmed
2024-03-12T06:29:57.2940311Z       should render a error that says that is code provided is invalid
2024-03-12T06:29:57.2941544Z   POST #create
2024-03-12T06:29:57.2942077Z     with valid parameters
2024-03-12T06:29:57.3160641Z       redirects to the created account_request confirmation
2024-03-12T06:29:57.3291107Z       creates a new AccountRequest
2024-03-12T06:29:57.3427061Z       delivers the confirmation email via default queue
2024-03-12T06:29:57.3427926Z     with invalid parameters
2024-03-12T06:29:57.3623321Z       does not create a new AccountRequest
2024-03-12T06:29:57.3791522Z       renders a successful response (i.e. to display the 'new' template)
2024-03-12T06:29:57.3792463Z   GET #received
2024-03-12T06:29:57.3794951Z     when given a valid token
2024-03-12T06:29:57.3933780Z       should render the received template
2024-03-12T06:29:57.3934624Z     when given a invalid token
2024-03-12T06:29:57.3990482Z       should render a error that says that is code provided is invalid
2024-03-12T06:29:57.3991633Z   GET #confirmation
2024-03-12T06:29:57.3992650Z     when given a token that has already been confirmed
2024-03-12T06:29:57.5835977Z       should render a error that says that is code provided is invalid
2024-03-12T06:29:57.5837529Z     when given a invalid token
2024-03-12T06:29:57.5897024Z       should render a error that says that is code provided is invalid
2024-03-12T06:29:57.5898067Z     when given a valid token
2024-03-12T06:29:57.6049662Z       should render the confirmation template
2024-03-12T06:29:57.6051044Z 
2024-03-12T06:29:57.6051404Z Organizations
2024-03-12T06:29:57.6053062Z   While signed in as an organization admin
2024-03-12T06:29:57.6054782Z     POST #promote_to_org_admin
2024-03-12T06:29:57.6275858Z       runs successfully
2024-03-12T06:29:57.6276711Z     PUT #reactivate_user
2024-03-12T06:29:57.6455573Z       redirect after update
2024-03-12T06:29:57.6636271Z       reactivates the user
2024-03-12T06:29:57.6637270Z     when attempting to access a different organization
2024-03-12T06:29:57.6638201Z       POST #promote_to_org_admin
2024-03-12T06:29:57.8681485Z         redirects after update
2024-03-12T06:29:57.8682263Z       GET #show
2024-03-12T06:29:58.0890741Z         shows your own anyway
2024-03-12T06:29:58.0891692Z       GET #edit
2024-03-12T06:29:58.2980983Z         shows your own anyway
2024-03-12T06:29:58.2981949Z     PUT #deactivate_user
2024-03-12T06:29:58.3138669Z       redirect after update
2024-03-12T06:29:58.3298106Z       deactivates the user
2024-03-12T06:29:58.3298878Z     POST #demote_to_user
2024-03-12T06:29:58.3660952Z       runs correctly
2024-03-12T06:29:58.3661633Z     GET #edit
2024-03-12T06:29:58.4067813Z       is expected to render template matcher "edit"
2024-03-12T06:29:58.4494421Z       initializing the given organization
2024-03-12T06:29:58.4975205Z       is expected to be successful
2024-03-12T06:29:58.4976124Z     PATCH #update
2024-03-12T06:29:58.5171409Z       can update name
2024-03-12T06:29:58.5341337Z       should be redirect after update
2024-03-12T06:29:58.5342296Z       when organization can not be updated
2024-03-12T06:29:58.5810117Z         renders edit template with an error message
2024-03-12T06:29:58.5811492Z   When signed in as a super admin
2024-03-12T06:29:58.5812381Z     POST #demote_to_user
2024-03-12T06:29:58.6166303Z       runs successfully
2024-03-12T06:29:58.6166965Z     PUT #reactivate_user
2024-03-12T06:29:58.6359721Z       reactivates the user
2024-03-12T06:29:58.6537705Z       redirect after update
2024-03-12T06:29:58.6538469Z     PUT #deactivate_user
2024-03-12T06:29:58.6714980Z       deactivates the user
2024-03-12T06:29:58.6876882Z       redirect after update
2024-03-12T06:29:58.6877660Z     POST #promote_to_org_admin
2024-03-12T06:29:58.7110074Z       runs successfully
2024-03-12T06:29:58.7110921Z   While signed in as a normal user
2024-03-12T06:29:58.7111940Z     GET #show
2024-03-12T06:29:58.7553112Z       is expected to be successful
2024-03-12T06:29:58.7968129Z       load the current organization
2024-03-12T06:29:58.7968874Z     PATCH #update
2024-03-12T06:29:58.8090220Z       is expected to redirect to "/db_1/dashboard"
2024-03-12T06:29:58.8204017Z       is expected to have error
2024-03-12T06:29:58.8204689Z     GET #edit
2024-03-12T06:29:58.8320662Z       is expected to have error
2024-03-12T06:29:58.8436451Z       is expected to redirect to "/db_1/dashboard"
2024-03-12T06:29:58.8437170Z 
2024-03-12T06:29:58.8437430Z Authorization
2024-03-12T06:29:59.3745739Z   redirects to the organization dashboard when authorized
2024-03-12T06:29:59.9231848Z   redirects to the dashboard when unauthorized user attempts access
2024-03-12T06:29:59.9232880Z 
2024-03-12T06:29:59.9233527Z Admin::Organizations
2024-03-12T06:29:59.9234746Z   When logged in as a non-admin user
2024-03-12T06:29:59.9236116Z     GET #new
2024-03-12T06:29:59.9392307Z       redirects
2024-03-12T06:29:59.9393129Z     POST #create
2024-03-12T06:29:59.9538396Z       redirects
2024-03-12T06:29:59.9539011Z     GET #edit
2024-03-12T06:29:59.9662814Z       redirects
2024-03-12T06:29:59.9663464Z     GET #index
2024-03-12T06:29:59.9785670Z       redirects
2024-03-12T06:29:59.9786469Z     PUT #update
2024-03-12T06:29:59.9910856Z       redirects
2024-03-12T06:29:59.9911476Z   When logged in as a super admin
2024-03-12T06:29:59.9913944Z     GET #show
2024-03-12T06:30:00.1958689Z       returns http success
2024-03-12T06:30:00.1959376Z     GET #new
2024-03-12T06:30:00.2325691Z       returns http success
2024-03-12T06:30:00.2326926Z       when given a token that matches a account request that has already been processed
2024-03-12T06:30:00.4544127Z         should render new with a flash error message
2024-03-12T06:30:00.4544922Z       when given a valid account request token in the query parameters
2024-03-12T06:30:00.5105036Z         should render new with pre populate input fields from the account_request
2024-03-12T06:30:00.5106048Z     GET #index
2024-03-12T06:30:00.5425086Z       returns http success
2024-03-12T06:30:00.5425932Z     DELETE #destroy
2024-03-12T06:30:00.5426572Z       with a valid organization id
2024-03-12T06:30:01.0660775Z         redirects to #index
2024-03-12T06:30:01.0662335Z     DELETE #destroy
2024-03-12T06:30:01.4092092Z       redirects
2024-03-12T06:30:01.4092782Z     PATCH #update
2024-03-12T06:30:01.4093357Z       with a valid update
2024-03-12T06:30:01.5913786Z         redirects to #index
2024-03-12T06:30:01.5914511Z       with an invalid update
2024-03-12T06:30:01.8061826Z         redirects to #edit with an error message
2024-03-12T06:30:02.0123160Z         returns http success
2024-03-12T06:30:02.0123964Z     PUT #update
2024-03-12T06:30:02.0310526Z       redirect
2024-03-12T06:30:02.0311091Z     POST #create
2024-03-12T06:30:02.0311990Z       with invalid params
2024-03-12T06:30:02.0730721Z         does not create an organization and renders #create with an error message
2024-03-12T06:30:02.0731808Z       with valid params
2024-03-12T06:30:02.3590333Z         creates an organization and redirects to #index
2024-03-12T06:30:02.3591178Z     GET #edit
2024-03-12T06:30:02.5661693Z       returns http success
2024-03-12T06:30:02.5662552Z 
2024-03-12T06:30:02.5662907Z Product Drives
2024-03-12T06:30:02.5665308Z   when creating a Virtual Product Drive
2024-03-12T06:30:03.4916590Z     must create a new virtual Product Drive
2024-03-12T06:30:04.4342480Z     must have the success message
2024-03-12T06:30:05.3550425Z     must have correct attributes
2024-03-12T06:30:05.3551689Z   when showing a Product Drive with no end date
2024-03-12T06:30:05.8071937Z     must be able to show the product drive
2024-03-12T06:30:05.8072976Z   When visiting the index page without parameters
2024-03-12T06:30:06.3180108Z     shows in descending order of start date
2024-03-12T06:30:06.8906426Z     shows only one virtual product drives
2024-03-12T06:30:07.3828032Z     shows two non-virtual product drives
2024-03-12T06:30:07.9017232Z     shows the expected product drives
2024-03-12T06:30:08.4123194Z     Shows the expected filters with the expected values and in alphabetical order for name filter
2024-03-12T06:30:08.4124092Z   when creating a normal product drive
2024-03-12T06:30:09.1877058Z     must create a new product drive
2024-03-12T06:30:09.9609841Z     must have the success message
2024-03-12T06:30:10.7419315Z     must have correct attributes
2024-03-12T06:30:10.7420171Z 
2024-03-12T06:30:10.7420537Z Manufacturer
2024-03-12T06:30:11.4734494Z   allows a user to create a new manufacturer instance
2024-03-12T06:30:12.2274001Z   allows a user to update the contact info for a manufacturer
2024-03-12T06:30:12.9713064Z   allows a user to update a manufacturer with empty attributes
2024-03-12T06:30:13.7105396Z   allows a user to add a new manufacturer instance with empty attributes
2024-03-12T06:30:13.7106445Z   When a user views the index page
2024-03-12T06:30:14.1903321Z     alphabetizes the manufacturer names
2024-03-12T06:30:14.1904744Z   When the Manufacturers have donations associated with them already
2024-03-12T06:30:14.8649463Z     allows single Manufacturers to show semi-detailed stats about donations from that manufacturer
2024-03-12T06:30:15.5302145Z     shows existing Manufacturers in the #index with some summary stats
2024-03-12T06:30:15.5303137Z 
2024-03-12T06:30:15.5303519Z ProductDriveParticipants
2024-03-12T06:30:15.5304980Z   While signed in
2024-03-12T06:30:15.5306870Z     Looking at a different organization
2024-03-12T06:30:15.7078681Z       redirects the user to the sign-in page for CRUD actions
2024-03-12T06:30:15.7079890Z     POST #import_csv
2024-03-12T06:30:15.7080512Z       without a csv file
2024-03-12T06:30:15.7209158Z         redirects to :index
2024-03-12T06:30:15.7321794Z         presents a flash error message
2024-03-12T06:30:15.7322573Z       csv file with wrong headers
2024-03-12T06:30:15.7461019Z         redirects
2024-03-12T06:30:15.7652806Z         presents a flash error message
2024-03-12T06:30:15.7653612Z       with a csv file
2024-03-12T06:30:15.7843963Z         presents a flash notice message
2024-03-12T06:30:15.7882157Z         invokes .import_csv
2024-03-12T06:30:15.8065389Z         redirects
2024-03-12T06:30:15.8066125Z     GET #new
2024-03-12T06:30:15.8361346Z       returns http success
2024-03-12T06:30:15.8362058Z     GET #edit
2024-03-12T06:30:15.8671106Z       returns http success
2024-03-12T06:30:15.8672010Z     XHR #create
2024-03-12T06:30:15.8966559Z       successful create
2024-03-12T06:30:15.9275747Z       flash error
2024-03-12T06:30:15.9276453Z     GET #index
2024-03-12T06:30:15.9277109Z       csv
2024-03-12T06:30:15.9446457Z         is expected to be successful
2024-03-12T06:30:15.9447194Z       html
2024-03-12T06:30:15.9779330Z         is expected to be successful
2024-03-12T06:30:15.9780521Z     POST #create
2024-03-12T06:30:15.9925399Z       successful create
2024-03-12T06:30:16.0248190Z       flash error
2024-03-12T06:30:16.0248927Z     GET #show
2024-03-12T06:30:16.0531181Z       returns http success
2024-03-12T06:30:16.0531862Z   While not signed in
2024-03-12T06:30:16.0592157Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:30:16.0592819Z 
2024-03-12T06:30:16.0593283Z Vendors
2024-03-12T06:30:16.0593978Z   While signed in
2024-03-12T06:30:16.0595544Z     GET #index
2024-03-12T06:30:16.0596401Z       csv
2024-03-12T06:30:16.0767492Z         is expected to be successful
2024-03-12T06:30:16.0768450Z       html
2024-03-12T06:30:16.1085251Z         is expected to be successful
2024-03-12T06:30:16.1086201Z     POST #import_csv
2024-03-12T06:30:16.1087097Z       csv file with wrong headers
2024-03-12T06:30:16.1213012Z         redirects
2024-03-12T06:30:16.1332405Z         presents a flash error message
2024-03-12T06:30:16.1333415Z       without a csv file
2024-03-12T06:30:16.1442975Z         redirects to :index
2024-03-12T06:30:16.1552343Z         presents a flash error message
2024-03-12T06:30:16.1553220Z       with a csv file
2024-03-12T06:30:16.1737945Z         presents a flash notice message
2024-03-12T06:30:16.1917040Z         redirects
2024-03-12T06:30:16.1952887Z         invokes .import_csv
2024-03-12T06:30:16.1953722Z     POST #create
2024-03-12T06:30:16.2085476Z       successful create
2024-03-12T06:30:16.2397133Z       flash error
2024-03-12T06:30:16.2397777Z     GET #new
2024-03-12T06:30:16.2667849Z       returns http success
2024-03-12T06:30:16.2669017Z     GET #edit
2024-03-12T06:30:16.2970351Z       returns http success
2024-03-12T06:30:16.2971343Z     when on vendors index page
2024-03-12T06:30:16.3233801Z       has the correct import type
2024-03-12T06:30:16.3234597Z     GET #show
2024-03-12T06:30:16.3510252Z       returns http success
2024-03-12T06:30:16.3511199Z     XHR #create
2024-03-12T06:30:16.3805130Z       successful create
2024-03-12T06:30:16.4090800Z       flash error
2024-03-12T06:30:16.4174045Z     DELETE #destroy
2024-03-12T06:30:16.4174608Z       does not have a route for this
2024-03-12T06:30:16.4175355Z     Looking at a different organization
2024-03-12T06:30:16.5894602Z       redirects the user to the sign-in page for CRUD actions
2024-03-12T06:30:16.5895565Z   While not signed in
2024-03-12T06:30:16.5954466Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:30:16.6123641Z W, [2024-03-11T23:30:16.612123 #2492]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-12T06:30:16.6125843Z W, [2024-03-11T23:30:16.612162 #2492]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:30:16.6128351Z W, [2024-03-11T23:30:16.612178 #2492]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:30:16.6131431Z W, [2024-03-11T23:30:16.612208 #2492]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-12T06:30:16.6948965Z 
2024-03-12T06:30:16.6949708Z Failures:
2024-03-12T06:30:16.6950125Z 
2024-03-12T06:30:16.6954087Z   1) Donations When signed in as a normal user When creating a new donation Via manual entry Ensures Barcode Entry fields have unique ids
2024-03-12T06:30:16.6955684Z      Failure/Error: page.find(:css, "#__add_line_item").click
2024-03-12T06:30:16.6956299Z 
2024-03-12T06:30:16.6956689Z      Capybara::ElementNotFound:
2024-03-12T06:30:16.6957462Z        Unable to find css "#__add_line_item"
2024-03-12T06:30:16.6957971Z 
2024-03-12T06:30:16.6960383Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/capybara/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_ensures_barcode_entry_fields_have_unique_ids_204.png
2024-03-12T06:30:16.6962484Z 
2024-03-12T06:30:16.6962496Z 
2024-03-12T06:30:16.6963071Z      # ./spec/system/donation_system_spec.rb:378:in `block (5 levels) in <top (required)>'
2024-03-12T06:30:16.6963935Z 
2024-03-12T06:30:16.6965141Z   2) Donations When signed in as a normal user When creating a new donation Via manual entry Accepts and combines multiple line items for the same item type
2024-03-12T06:30:16.7021420Z      Failure/Error: page.find(:css, "#__add_line_item").click
2024-03-12T06:30:16.7022266Z 
2024-03-12T06:30:16.7022569Z      Capybara::ElementNotFound:
2024-03-12T06:30:16.7023217Z        Unable to find css "#__add_line_item"
2024-03-12T06:30:16.7023716Z 
2024-03-12T06:30:16.7026054Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_accepts_and_combines_multiple_line_items_for_the_same_item_type_626.png
2024-03-12T06:30:16.7028733Z 
2024-03-12T06:30:16.7028743Z 
2024-03-12T06:30:16.7029309Z      # ./spec/system/donation_system_spec.rb:202:in `block (5 levels) in <top (required)>'
2024-03-12T06:30:16.7030124Z 
2024-03-12T06:30:16.7030985Z   3) Donations When signed in as a normal user When creating a new donation Via barcode entry Allows User to add items by barcode
2024-03-12T06:30:16.7033088Z      Failure/Error: expect(page.has_select?("donation_line_items_attributes_0_item_id", selected: @existing_barcode.item.name)).to eq(true)
2024-03-12T06:30:16.7034251Z 
2024-03-12T06:30:16.7034472Z      Ferrum::JavaScriptError:
2024-03-12T06:30:16.7035474Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:30:16.7037628Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:37577/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:30:16.7039585Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:30:16.7041252Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:30:16.7042590Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:30:16.7043862Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:30:16.7044805Z 
2024-03-12T06:30:16.7046787Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_barcode_entry_allows_user_to_add_items_by_barcode_586.png
2024-03-12T06:30:16.7048976Z 
2024-03-12T06:30:16.7048985Z 
2024-03-12T06:30:16.7049512Z      # ./spec/system/donation_system_spec.rb:431:in `block (5 levels) in <top (required)>'
2024-03-12T06:30:16.7050261Z 
2024-03-12T06:30:16.7051356Z   4) Donations When signed in as a normal user When creating a new donation Via barcode entry Updates the line item when the same barcode is scanned twice
2024-03-12T06:30:16.7053060Z      Failure/Error: @__Condition__.wait @__Lock__, timeout
2024-03-12T06:30:16.7053581Z 
2024-03-12T06:30:16.7053842Z      Ferrum::JavaScriptError:
2024-03-12T06:30:16.7054688Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:30:16.7056897Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:37577/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:30:16.7058853Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:30:16.7060281Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:30:16.7061582Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:30:16.7062853Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:30:16.7063660Z 
2024-03-12T06:30:16.7065950Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_barcode_entry_updates_the_line_item_when_the_same_barcode_is_scanned_twice_295.png
2024-03-12T06:30:16.7067991Z 
2024-03-12T06:30:16.7068000Z 
2024-03-12T06:30:16.7069875Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `sleep'
2024-03-12T06:30:16.7073193Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `wait'
2024-03-12T06:30:16.7076526Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `ns_wait'
2024-03-12T06:30:16.7080010Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:44:in `block in ns_wait_until'
2024-03-12T06:30:16.7083374Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `loop'
2024-03-12T06:30:16.7086857Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `ns_wait_until'
2024-03-12T06:30:16.7090173Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:87:in `block in wait'
2024-03-12T06:30:16.7093537Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `block in synchronize'
2024-03-12T06:30:16.7097215Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:30:16.7100596Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:30:16.7104052Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:84:in `wait'
2024-03-12T06:30:16.7106925Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:75:in `wait'
2024-03-12T06:30:16.7110081Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:99:in `value!'
2024-03-12T06:30:16.7112917Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/browser/client.rb:42:in `command'
2024-03-12T06:30:16.7115271Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/page.rb:269:in `command'
2024-03-12T06:30:16.7117687Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:109:in `block in call'
2024-03-12T06:30:16.7120287Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/utils/attempt.rb:10:in `with_retry'
2024-03-12T06:30:16.7122697Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:105:in `call'
2024-03-12T06:30:16.7125243Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:97:in `evaluate_on'
2024-03-12T06:30:16.7127107Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:30:16.7128508Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:30:16.7130719Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/browser.rb:179:in `disabled?'
2024-03-12T06:30:16.7133167Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:21:in `command'
2024-03-12T06:30:16.7135699Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:143:in `disabled?'
2024-03-12T06:30:16.7138430Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `block in disabled?'
2024-03-12T06:30:16.7141110Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/base.rb:77:in `synchronize'
2024-03-12T06:30:16.7143670Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `disabled?'
2024-03-12T06:30:16.7146569Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector.rb:431:in `block (2 levels) in <top (required)>'
2024-03-12T06:30:16.7149749Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:14:in `block in initialize'
2024-03-12T06:30:16.7153024Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `instance_exec'
2024-03-12T06:30:16.7155748Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `apply'
2024-03-12T06:30:16.7158443Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:24:in `matches?'
2024-03-12T06:30:16.7161606Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:296:in `block (2 levels) in matches_node_filters?'
2024-03-12T06:30:16.7164797Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `each'
2024-03-12T06:30:16.7167498Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `all?'
2024-03-12T06:30:16.7170576Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `block in matches_node_filters?'
2024-03-12T06:30:16.7173462Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/selector.rb:89:in `with_filter_errors'
2024-03-12T06:30:16.7176269Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:283:in `matches_node_filters?'
2024-03-12T06:30:16.7179280Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:124:in `matches_filters?'
2024-03-12T06:30:16.7181990Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/result.rb:32:in `block in initialize'
2024-03-12T06:30:16.7184285Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:30:16.7186483Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:30:16.7189183Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:30:16.7191133Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:30:16.7192198Z      # 
2024-03-12T06:30:16.7192738Z      #   Showing full backtrace because every line was filtered out.
2024-03-12T06:30:16.7193637Z      #   See docs for RSpec::Configuration#backtrace_exclusion_patterns and
2024-03-12T06:30:16.7194550Z      #   RSpec::Configuration#backtrace_inclusion_patterns for more information.
2024-03-12T06:30:16.7195123Z 
2024-03-12T06:30:16.7196065Z   5) Donations When signed in as a normal user When creating a new donation Via barcode entry When the barcode is a global barcode Adds the oldest item it can find for the global barcode
2024-03-12T06:30:16.7197808Z      Failure/Error: expect(page.has_select?("donation_line_items_attributes_0_item_id", selected: @item.name)).to eq(true)
2024-03-12T06:30:16.7198480Z 
2024-03-12T06:30:16.7198623Z      Ferrum::JavaScriptError:
2024-03-12T06:30:16.7199337Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:30:16.7200784Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:37577/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:30:16.7202006Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:30:16.7202845Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:30:16.7204026Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:30:16.7204883Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:30:16.7205437Z 
2024-03-12T06:30:16.7407285Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_barcode_entry_when_the_barcode_is_a_global_barcode_adds_the_oldest_item_it_can_find_for_the_global_barc_656.png
2024-03-12T06:30:16.7409939Z 
2024-03-12T06:30:16.7409954Z 
2024-03-12T06:30:16.7410456Z      # ./spec/system/donation_system_spec.rb:501:in `block (6 levels) in <top (required)>'
2024-03-12T06:30:16.7411165Z 
2024-03-12T06:30:16.7411564Z Finished in 1 minute 30.59 seconds (files took 8.04 seconds to load)
2024-03-12T06:30:16.7412339Z 226 examples, 5 failures
2024-03-12T06:30:16.7412632Z 
2024-03-12T06:30:16.7412781Z Failed examples:
2024-03-12T06:30:16.7413035Z 
2024-03-12T06:30:16.7414228Z rspec ./spec/system/donation_system_spec.rb:377 # Donations When signed in as a normal user When creating a new donation Via manual entry Ensures Barcode Entry fields have unique ids
2024-03-12T06:30:16.7417101Z rspec ./spec/system/donation_system_spec.rb:197 # Donations When signed in as a normal user When creating a new donation Via manual entry Accepts and combines multiple line items for the same item type
2024-03-12T06:30:16.7419739Z rspec ./spec/system/donation_system_spec.rb:422 # Donations When signed in as a normal user When creating a new donation Via barcode entry Allows User to add items by barcode
2024-03-12T06:30:16.7422577Z rspec ./spec/system/donation_system_spec.rb:437 # Donations When signed in as a normal user When creating a new donation Via barcode entry Updates the line item when the same barcode is scanned twice
2024-03-12T06:30:16.7425947Z rspec ./spec/system/donation_system_spec.rb:494 # Donations When signed in as a normal user When creating a new donation Via barcode entry When the barcode is a global barcode Adds the oldest item it can find for the global barcode
2024-03-12T06:30:16.7427864Z 
2024-03-12T06:30:16.7428064Z Randomized with seed 23994
2024-03-12T06:30:16.7428425Z 
2024-03-12T06:30:17.1715209Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:30:17.1717833Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3683 / 6452 LOC (57.08%) covered.
2024-03-12T06:30:17.2767861Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/organization_requests_spec.rb" "spec/requests/partners/individuals_requests_controller_spec.rb" "spec/requests/product_drive_participants_requests_spec.rb" "spec/requests/sessions_requests_spec.rb" "spec/requests/vendors_requests_spec.rb" "spec/system/admin/base_items_system_spec.rb" "spec/system/authorization_system_spec.rb" "spec/system/donation_system_spec.rb" "spec/system/manufacturer_system_spec.rb" "spec/system/partners/family_requests_system_spec.rb" "spec/system/product_drive_system_spec.rb" "spec/system/storage_location_system_spec.rb" failed
2024-03-12T06:30:17.6580416Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:30:17.6582049Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10742 LOC (0.35%) covered.
2024-03-12T06:30:17.6839660Z ##[error]Process completed with exit code 1.
