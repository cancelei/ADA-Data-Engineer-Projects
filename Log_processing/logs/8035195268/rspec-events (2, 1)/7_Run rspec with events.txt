2024-02-25T03:19:45.9430695Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-02-25T03:19:45.9431852Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-02-25T03:19:45.9459780Z shell: /usr/bin/bash -e {0}
2024-02-25T03:19:45.9460271Z env:
2024-02-25T03:19:45.9460584Z   POSTGRES_HOST: localhost
2024-02-25T03:19:45.9460986Z   DATABASE_HOST: localhost
2024-02-25T03:19:45.9461429Z   PG_USERNAME: postgres
2024-02-25T03:19:45.9461822Z   PG_PASSWORD: password
2024-02-25T03:19:45.9462209Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-02-25T03:19:45.9462670Z   POSTGRES_PORT: 5432
2024-02-25T03:19:45.9463040Z   PGHOST: localhost
2024-02-25T03:19:45.9463380Z   PGUSER: postgres
2024-02-25T03:19:45.9463795Z   RAILS_ENV: test
2024-02-25T03:19:45.9464156Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-02-25T03:19:45.9464577Z   KNAPSACK_PRO_CI_NODE_TOTAL: 2
2024-02-25T03:19:45.9465070Z   KNAPSACK_PRO_CI_NODE_INDEX: 1
2024-02-25T03:19:45.9465526Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-02-25T03:19:45.9466180Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-02-25T03:19:45.9466828Z   KNAPSACK_PRO_TEST_FILE_EXCLUDE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-02-25T03:19:45.9467518Z   EVENTS_READ: true
2024-02-25T03:19:45.9468142Z ##[endgroup]
2024-02-25T03:19:51.5817721Z W, [2024-02-25T03:19:51.581501 #2234]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-02-25T03:19:51.5819058Z W, [2024-02-25T03:19:51.581551 #2234]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-25T03:19:51.5820789Z W, [2024-02-25T03:19:51.581566 #2234]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-25T03:19:51.5824243Z W, [2024-02-25T03:19:51.581587 #2234]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-02-25T03:19:54.1192525Z W, [2024-02-25T03:19:54.118921 #2234]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-02-25T03:19:54.1195252Z W, [2024-02-25T03:19:54.118959 #2234]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-25T03:19:54.1198509Z W, [2024-02-25T03:19:54.118973 #2234]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-25T03:19:54.1203781Z W, [2024-02-25T03:19:54.119018 #2234]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-02-25T03:19:54.1269525Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/models/adjustment_spec.rb" "spec/models/barcode_item_spec.rb" "spec/models/broadcast_announcement_spec.rb" "spec/models/county_spec.rb" "spec/models/donation_site_spec.rb" "spec/models/event_spec.rb" "spec/models/item_category_spec.rb" "spec/models/kit_allocation_spec.rb" "spec/models/line_item_spec.rb" "spec/models/ndbn_member_spec.rb" "spec/models/organization_stats_spec.rb" "spec/models/partner_spec.rb" "spec/models/partners/child_item_request_spec.rb" "spec/models/partners/family_spec.rb" "spec/models/partners/profile_spec.rb" "spec/models/product_drive_participant_spec.rb" "spec/models/purchase_spec.rb" "spec/models/request_item_spec.rb" "spec/models/role_spec.rb" "spec/models/transfer_spec.rb" "spec/models/users_role_spec.rb" "spec/models/view/inventory_spec.rb" "spec/controllers/application_controller_spec.rb" "spec/controllers/donation_sites_controller_spec.rb" "spec/controllers/help_controller_spec.rb" "spec/controllers/transfers_controller_spec.rb" "spec/events/inventory_aggregate_spec.rb" "spec/helpers/historical_trends_helper_spec.rb" "spec/helpers/ui_helper_spec.rb" "spec/jobs/notify_partner_job_spec.rb" "spec/jobs/reminder_deadline_job_spec.rb" "spec/mailers/account_request_mailer_spec.rb" "spec/mailers/distribution_mailer_spec.rb" "spec/mailers/partner_mailer_spec.rb" "spec/mailers/request_mailer_spec.rb" "spec/mailers/user_mailer_spec.rb" "spec/queries/items_in_query_spec.rb" "spec/queries/items_out_query_spec.rb" "spec/routing/account_requests_routing_spec.rb" "spec/services/adjustment_create_service_spec.rb" "spec/services/calendar_service_spec.rb" "spec/services/deallocate_kit_inventory_service_spec.rb" "spec/services/distribution_create_service_spec.rb" "spec/services/distribution_itemized_breakdown_service_spec.rb" "spec/services/distribution_update_service_spec.rb" "spec/services/donation_create_service_spec.rb" "spec/services/donation_itemized_breakdown_service_spec.rb" "spec/services/exports/export_donations_csv_service_spec.rb" "spec/services/exports/export_report_csv_service_spec.rb" "spec/services/historical_trend_service_spec.rb" "spec/services/item_create_service_spec.rb" "spec/services/kit_create_service_spec.rb" "spec/services/partner_approval_service_spec.rb" "spec/services/partner_fetch_requestable_items_service_spec.rb" "spec/services/partner_profile_update_service_spec.rb" "spec/services/partners/family_request_create_service_spec.rb" "spec/services/partners/request_approval_service_spec.rb" "spec/services/partners/update_family_spec.rb" "spec/services/remove_role_service_spec.rb" "spec/services/reports/adult_incontinence_report_service_spec.rb" "spec/services/reports/other_products_report_service_spec.rb" "spec/services/reports/period_supply_report_service_spec.rb" "spec/services/reports/warehouse_report_service_spec.rb" "spec/services/requests_total_items_service_spec.rb" "spec/services/sync_ndbn_members_spec.rb" "spec/services/transfer_destroy_service_spec.rb"
2024-02-25T03:20:02.4805488Z 
2024-02-25T03:20:02.4806248Z Randomized with seed 64337
2024-02-25T03:20:03.4089924Z 
2024-02-25T03:20:03.4090555Z ItemsInQuery
2024-02-25T03:20:03.4091599Z   items_in
2024-02-25T03:20:03.7645905Z     returns a collection with the fields name, item_id, quantity
2024-02-25T03:20:04.0952891Z     does not count negative adjustments towards in-flow
2024-02-25T03:20:04.4520786Z     does not count transfers going in the negative direction
2024-02-25T03:20:04.7250927Z     includes donations, purchases, adjustments, transfers among sources
2024-02-25T03:20:04.7251864Z 
2024-02-25T03:20:04.7252308Z DistributionMailer
2024-02-25T03:20:04.7253351Z   #partner_mailer
2024-02-25T03:20:04.8105310Z     renders the body with organization's email text
2024-02-25T03:20:04.8586483Z     renders the body with distributions text
2024-02-25T03:20:04.8587680Z     with deliver_method: :pick_up
2024-02-25T03:20:04.9112910Z       renders the body with 'picked up' specified
2024-02-25T03:20:04.9114046Z       when parners profile pick_up_email is present
2024-02-25T03:20:04.9621597Z         sends email to the primary contact and partner`s pickup person
2024-02-25T03:20:04.9623268Z         when pickup person happens to be the same as the primary contact
2024-02-25T03:20:05.0135376Z           does not send email twice
2024-02-25T03:20:05.0136228Z     with deliver_method: :delivery
2024-02-25T03:20:05.0650955Z       renders the body with 'delivered' specified
2024-02-25T03:20:05.1157636Z       sends copy of email only to the partner
2024-02-25T03:20:05.1158595Z     with distribution changes
2024-02-25T03:20:05.1688792Z       renders the body with changes that happened in the distribution
2024-02-25T03:20:05.1689845Z   #reminder_email
2024-02-25T03:20:05.1690479Z     with deliver_method: :pick_up
2024-02-25T03:20:05.2206167Z       renders the body with 'pick up' specified
2024-02-25T03:20:05.2207029Z     Text format
2024-02-25T03:20:05.2667366Z       renders the body with organization's email text
2024-02-25T03:20:05.2668574Z     HTML format
2024-02-25T03:20:05.3135654Z       renders the body with organization's email text
2024-02-25T03:20:05.3136571Z     with deliver_method: :delivery
2024-02-25T03:20:05.3627922Z       renders the body with 'delivery' specified
2024-02-25T03:20:05.3628593Z 
2024-02-25T03:20:05.3628865Z RequestsTotalItemsService
2024-02-25T03:20:05.3629746Z   #calculate
2024-02-25T03:20:05.3630879Z     when item name is nil
2024-02-25T03:20:05.3749578Z       return Unknown Item
2024-02-25T03:20:05.3750416Z     when provided requests is nil
2024-02-25T03:20:05.3784600Z       is expected to be blank
2024-02-25T03:20:05.3785332Z     when the request items is not blank
2024-02-25T03:20:05.3920157Z       return the names of items correctly
2024-02-25T03:20:05.4051815Z       return items with correct quantities calculated
2024-02-25T03:20:05.4052992Z     when provided with requests that have no request items
2024-02-25T03:20:05.4125515Z       is expected to be blank
2024-02-25T03:20:05.4126072Z 
2024-02-25T03:20:05.4126280Z User
2024-02-25T03:20:05.4127659Z   #send_reset_password_instructions
2024-02-25T03:20:05.4129130Z     user gets an email with instructions
2024-02-25T03:20:05.5055700Z       sends an email with instructions
2024-02-25T03:20:05.5056376Z   #role_added
2024-02-25T03:20:05.5378846Z     renders the body correctly
2024-02-25T03:20:05.5379673Z 
2024-02-25T03:20:05.5379970Z DistributionCreateService
2024-02-25T03:20:05.5380756Z   call
2024-02-25T03:20:05.6126201Z     returns a successful object with Scheduled distribution
2024-02-25T03:20:05.6839295Z     replaces a big distribution with a smaller one, resulting in increased stored quantities
2024-02-25T03:20:05.6840586Z     when it fails to save
2024-02-25T03:20:05.7308132Z       preserves the error and is unsuccessful
2024-02-25T03:20:05.7310024Z     when there's multiple line items and one has insufficient inventory
2024-02-25T03:20:05.7905889Z       preserves the Insufficiency error and is unsuccessful
2024-02-25T03:20:05.7907006Z     partner has send reminders setting set to false
2024-02-25T03:20:05.8725841Z       does not send a PartnerMailer
2024-02-25T03:20:05.8726519Z     partner has send reminders setting set to true
2024-02-25T03:20:06.0500733Z       Sends a PartnerMailer
2024-02-25T03:20:06.0501272Z     when provided with a request ID
2024-02-25T03:20:06.1286783Z       changes the status of the request
2024-02-25T03:20:06.1287881Z       and the request already has a distribution associated with it
2024-02-25T03:20:06.2000044Z         should not be successful
2024-02-25T03:20:06.2001133Z     partner is deactivated
2024-02-25T03:20:06.2741129Z       does not send an email
2024-02-25T03:20:06.2741887Z     when the line item quantity is not positive
2024-02-25T03:20:06.3219020Z       preserves the RecordInvalid error and is unsuccessful
2024-02-25T03:20:06.3220234Z     when there's not sufficient inventory
2024-02-25T03:20:06.3783172Z       preserves the Insufficiency error and is unsuccessful
2024-02-25T03:20:06.3783770Z 
2024-02-25T03:20:06.3784160Z AdjustmentCreateService
2024-02-25T03:20:06.3784894Z   call
2024-02-25T03:20:06.4610238Z     saves a new adjustment with line items relating to the current (simple case) positive adjustment
2024-02-25T03:20:06.5457224Z     handles adjustments to multiple items
2024-02-25T03:20:06.6000867Z     gives an error if we attempt to adjust inventory below 0
2024-02-25T03:20:06.6847914Z     decreases stored inventory on a negative adjustment
2024-02-25T03:20:06.7706339Z     increases stored inventory on a positive adjustment
2024-02-25T03:20:06.8560639Z     increases handles mixed adjustments to same appropriately (total is negative version)
2024-02-25T03:20:06.9434643Z     handles mixed adjustments to same item appropriately (total is positive version)
2024-02-25T03:20:07.0035872Z     does not allow inventory to be adjusted below 0
2024-02-25T03:20:07.0909376Z     saves a new adjustment with line items relating to the current (simple case) negative adjustment
2024-02-25T03:20:07.0910519Z 
2024-02-25T03:20:07.0910910Z HelpController
2024-02-25T03:20:07.0911460Z   While signed in as a normal user >
2024-02-25T03:20:07.0912277Z     GET #show
2024-02-25T03:20:07.1025849Z       does not display help page when the user logs out
2024-02-25T03:20:07.1200028Z       returns http success
2024-02-25T03:20:07.1200903Z 
2024-02-25T03:20:07.1201125Z PartnerMailer
2024-02-25T03:20:07.1202647Z   #recertification_request
2024-02-25T03:20:07.1453139Z     should be sent to the partner main email with the correct subject line
2024-02-25T03:20:07.1675761Z     renders the body with text that indicates to recertify and link to where
2024-02-25T03:20:07.1677051Z   #application_approved
2024-02-25T03:20:07.1914368Z     should be sent to the partner main email with the correct subject line
2024-02-25T03:20:07.2163003Z     renders the body with text that indicates the result and a link to their dashboard
2024-02-25T03:20:07.2164452Z 
2024-02-25T03:20:07.2164805Z Exports::ExportReportCSVService
2024-02-25T03:20:07.2165521Z   .generate_csv_data
2024-02-25T03:20:07.2199931Z     creates CSV data including headers
2024-02-25T03:20:07.2233946Z     creates a CSV string
2024-02-25T03:20:07.2234571Z 
2024-02-25T03:20:07.2234836Z AccountRequestsController
2024-02-25T03:20:07.2236019Z   routing
2024-02-25T03:20:07.2274418Z     routes to #new
2024-02-25T03:20:07.2308252Z     routes to #create
2024-02-25T03:20:07.2308862Z 
2024-02-25T03:20:07.2309384Z Exports::ExportDonationsCSVService
2024-02-25T03:20:07.2310252Z   #generate_csv_data
2024-02-25T03:20:07.3472552Z     should match the expected content for the csv
2024-02-25T03:20:07.3473429Z 
2024-02-25T03:20:07.3473702Z HistoricalTrendsHelper
2024-02-25T03:20:07.3475820Z   #last_12_months
2024-02-25T03:20:07.3529286Z     returns the last 12 months starting from Jan when the current month is Dec
2024-02-25T03:20:07.3574767Z     returns the last 12 months starting from Feb when the current month is Jan
2024-02-25T03:20:07.3619705Z     returns the last 12 months starting from July when the current month is June
2024-02-25T03:20:07.3621079Z 
2024-02-25T03:20:07.3621288Z Partner
2024-02-25T03:20:07.3623515Z   #csv_export_attributes
2024-02-25T03:20:07.3901277Z     includes contact person information from parnerbase
2024-02-25T03:20:07.3902225Z   changing emails
2024-02-25T03:20:07.4227067Z     should not call the UserInviteService.invite when the partner is changing email to previously used email
2024-02-25T03:20:07.4467543Z     should not call the UserInviteService.invite when the partner has status deactivated and the email is changed
2024-02-25T03:20:07.4723213Z     should not call the UserInviteService.invite when the partner has status uninvited and the email is changed
2024-02-25T03:20:07.4975401Z     should call the UserInviteService.invite when the partner has status approved and the email is changed
2024-02-25T03:20:07.5225997Z     should call the UserInviteService.invite when the partner has status invited and the email is changed
2024-02-25T03:20:07.5475168Z     should call the UserInviteService.invite when the partner has status recertification_required and the email is changed
2024-02-25T03:20:07.5723249Z     should call the UserInviteService.invite when the partner has status awaiting_review and the email is changed
2024-02-25T03:20:07.5724691Z   #quantity_year_to_date
2024-02-25T03:20:07.7475436Z     includes all item quantities from distributions issued during the current year
2024-02-25T03:20:07.9300363Z     does not include quantities from distributions issued during the previous year
2024-02-25T03:20:07.9301714Z   Filters
2024-02-25T03:20:07.9302240Z     by_status
2024-02-25T03:20:07.9685689Z       yields partners with the provided status
2024-02-25T03:20:08.0060312Z       yields deactivated partner when deactivated status provided
2024-02-25T03:20:08.0061053Z   versioning
2024-02-25T03:20:08.0096218Z     is expected to be versioned
2024-02-25T03:20:08.0096881Z   #profile
2024-02-25T03:20:08.0311446Z     should return the associated Partners::Profile record
2024-02-25T03:20:08.0312494Z   Validations >
2024-02-25T03:20:08.0397149Z     validates the quota is a number but it is not required
2024-02-25T03:20:08.0444849Z     must belong to an organization
2024-02-25T03:20:08.0686444Z     still requires a unique email between organizations
2024-02-25T03:20:08.0972399Z     requires a unique email that is formatted correctly
2024-02-25T03:20:08.1194723Z     does not require a unique name between organizations
2024-02-25T03:20:08.1451792Z     requires a unique name within an organization
2024-02-25T03:20:08.1452309Z   #deactivated?
2024-02-25T03:20:08.1453042Z     when the status is 'deactivated'
2024-02-25T03:20:08.1492218Z       should return true
2024-02-25T03:20:08.1492820Z     when the status is not 'deactivated'
2024-02-25T03:20:08.1531685Z       should return false
2024-02-25T03:20:08.1532248Z   associations
2024-02-25T03:20:08.1567189Z     is expected to have many requests
2024-02-25T03:20:08.1617766Z     is expected to belong to partner_group optional: true
2024-02-25T03:20:08.1670976Z     is expected to have many families dependent => destroy
2024-02-25T03:20:08.1725321Z     is expected to belong to organization required: true
2024-02-25T03:20:08.1759176Z     is expected to have many children through families
2024-02-25T03:20:08.1790744Z     is expected to have many requests
2024-02-25T03:20:08.1823218Z     is expected to have many distributions
2024-02-25T03:20:08.1857193Z     is expected to have many item_categories through partner_group
2024-02-25T03:20:08.1891213Z     is expected to have many users dependent => destroy
2024-02-25T03:20:08.1925373Z     is expected to have many requestable_items through item_categories source => items
2024-02-25T03:20:08.1926537Z     primary_user
2024-02-25T03:20:08.2194015Z       should return the first user ever created for a partner
2024-02-25T03:20:08.2195325Z   ActiveStorage validation
2024-02-25T03:20:08.2305021Z     validates that attachments are pdf or docs
2024-02-25T03:20:08.2305972Z   #approvable?
2024-02-25T03:20:08.2306724Z     when status is invited
2024-02-25T03:20:08.2346829Z       should return true
2024-02-25T03:20:08.2347556Z     when status is awaiting_review
2024-02-25T03:20:08.2387037Z       should return true
2024-02-25T03:20:08.2387824Z     when status is not invited or awaiting_review
2024-02-25T03:20:08.2469966Z       should return false
2024-02-25T03:20:08.2470833Z   #deletable?
2024-02-25T03:20:08.2471548Z     when status is not uninvited
2024-02-25T03:20:08.2544373Z       should return false
2024-02-25T03:20:08.2545165Z     when status is uninvited
2024-02-25T03:20:08.2545843Z       when it has no other associations
2024-02-25T03:20:08.2648435Z         should return true
2024-02-25T03:20:08.2649332Z       when it has a profile but no users
2024-02-25T03:20:08.2787895Z         should return true
2024-02-25T03:20:08.2788565Z       when it has a distribution
2024-02-25T03:20:08.2920606Z         should return false
2024-02-25T03:20:08.2921231Z       when it has a request
2024-02-25T03:20:08.3053702Z         should return false
2024-02-25T03:20:08.3054540Z       when it has a profile and users
2024-02-25T03:20:08.3283035Z         should return false
2024-02-25T03:20:08.3283839Z   #impact_metrics
2024-02-25T03:20:08.3284739Z     when partner has related information
2024-02-25T03:20:08.4095380Z       is expected to eq {:children_served=>4, :families_served=>3, :family_zipcodes=>2, :family_zipcodes_list=>["45612-123", "45612-126"]}
2024-02-25T03:20:08.4097390Z     when partner don't have any related information
2024-02-25T03:20:08.4337460Z       is expected to eq {:children_served=>0, :families_served=>0, :family_zipcodes=>0, :family_zipcodes_list=>[]}
2024-02-25T03:20:08.4339008Z   callbacks
2024-02-25T03:20:08.4548926Z     properly downcases email
2024-02-25T03:20:08.4549778Z   import_csv
2024-02-25T03:20:08.6635954Z     imports partners from a csv file and prevents multiple imports
2024-02-25T03:20:08.9816038Z     imports partners from a csv file with BOM encodings
2024-02-25T03:20:08.9817510Z 
2024-02-25T03:20:08.9817945Z County
2024-02-25T03:20:08.9900342Z   is expected to have many served_areas
2024-02-25T03:20:08.9901452Z   versioning
2024-02-25T03:20:08.9937098Z     is expected to be versioned
2024-02-25T03:20:08.9937734Z 
2024-02-25T03:20:08.9938165Z DeallocateKitInventoryService
2024-02-25T03:20:08.9939176Z   #error
2024-02-25T03:20:08.9940207Z     when the storage location organization doesn't match
2024-02-25T03:20:09.2291939Z       returns error
2024-02-25T03:20:09.2292818Z   #deallocate
2024-02-25T03:20:09.2293392Z     when inventory items are available
2024-02-25T03:20:09.2294684Z       when decrease_by is less then kit's quantity in inventory_in
2024-02-25T03:20:09.5574383Z         will add items in inventory_out and remove kits for decrease_by from inventory_in
2024-02-25T03:20:09.5575744Z       when  decrease_by is equal to kit's quantity in inventory_in
2024-02-25T03:20:09.8828307Z         increases the quantity of the loose items contained in the kit and decrease kit quantity, and delete inventory_in and inventory_out
2024-02-25T03:20:09.8830795Z       when decrease_by is greater then kit's quantity in inventory_in
2024-02-25T03:20:10.1736762Z         raises error about inconsistent inventory in or out
2024-02-25T03:20:10.1737843Z       when kit_allocation not exist for inventory_in or inventory_out
2024-02-25T03:20:10.4446257Z         raises error about KitAllocation not found
2024-02-25T03:20:10.4447415Z 
2024-02-25T03:20:10.4447660Z DonationSitesController
2024-02-25T03:20:10.4449476Z   While not signed in
2024-02-25T03:20:10.4513000Z     redirects the user to the sign-in page for CRUD actions
2024-02-25T03:20:10.4513814Z   While signed in
2024-02-25T03:20:10.4514777Z     GET #show
2024-02-25T03:20:10.4668027Z       returns http success
2024-02-25T03:20:10.4668722Z     Looking at a different organization
2024-02-25T03:20:10.6452649Z       redirects the user to the sign-in page for CRUD actions
2024-02-25T03:20:10.6454309Z     DELETE #destroy
2024-02-25T03:20:10.6733012Z       returns http success
2024-02-25T03:20:10.6734504Z     GET #new
2024-02-25T03:20:10.6863411Z       returns http success
2024-02-25T03:20:10.6864627Z     GET #index
2024-02-25T03:20:10.6985581Z       returns http success
2024-02-25T03:20:10.6986260Z     GET #edit
2024-02-25T03:20:10.7127464Z       returns http success
2024-02-25T03:20:10.7128148Z     POST #import_csv
2024-02-25T03:20:10.7128740Z       behaves like csv import
2024-02-25T03:20:10.7129859Z         with a csv file
2024-02-25T03:20:10.7307419Z           presents a flash notice message
2024-02-25T03:20:10.7435597Z           redirects to :index
2024-02-25T03:20:10.7485799Z           invokes .import_csv
2024-02-25T03:20:10.7486404Z         csv file with wrong headers
2024-02-25T03:20:10.7589172Z           presents a flash error message
2024-02-25T03:20:10.7691840Z           redirects to :index
2024-02-25T03:20:10.7692469Z         without a csv file
2024-02-25T03:20:10.7787705Z           presents a flash error message
2024-02-25T03:20:10.7883051Z           redirects to :index
2024-02-25T03:20:10.7884043Z 
2024-02-25T03:20:10.7884419Z Reports::PeriodSupplyReportService
2024-02-25T03:20:10.7887263Z   #report
2024-02-25T03:20:10.9637681Z     should report zero values
2024-02-25T03:20:10.9638397Z     with values
2024-02-25T03:20:11.5827353Z       should report normal values
2024-02-25T03:20:11.5828092Z 
2024-02-25T03:20:11.5828393Z Partners::FamilyRequestCreateService
2024-02-25T03:20:11.5829095Z   #call
2024-02-25T03:20:11.5830517Z     when the arguments are incorrect
2024-02-25T03:20:11.5831257Z       because a unrecognized item_id was provided
2024-02-25T03:20:11.6086736Z         should return the Partners::FamilyRequestCreateService object with an error
2024-02-25T03:20:11.6088084Z       because no family_requests_attributes were defined
2024-02-25T03:20:11.6315807Z         should return the Partners::FamilyRequestCreateService object with an error
2024-02-25T03:20:11.6316944Z     when the arguments are correct
2024-02-25T03:20:11.6317736Z       with children
2024-02-25T03:20:11.7471363Z         should create the appropriate organization Request, Partners::ItemRequest and Partners::ChildItemRequests
2024-02-25T03:20:11.7472810Z       without children
2024-02-25T03:20:11.7762962Z         should send the correct request payload to the Partners::RequestCreateService and call it
2024-02-25T03:20:11.7763874Z 
2024-02-25T03:20:11.7764339Z PartnerFetchRequestableItemsService
2024-02-25T03:20:11.7765008Z   #call
2024-02-25T03:20:11.7766396Z     when the partner id does not match any Partner
2024-02-25T03:20:11.7821585Z       raise an error indiciating the partner does not exist
2024-02-25T03:20:11.7823880Z     when the partner is in a partner group
2024-02-25T03:20:11.8336157Z       should return all active and visible items specified by the item associated with
2024-02-25T03:20:11.8337365Z     when the partner is not in any partner group
2024-02-25T03:20:11.8593563Z       should return all active and visible items
2024-02-25T03:20:11.8594430Z 
2024-02-25T03:20:11.8594706Z Partners::Family
2024-02-25T03:20:11.8595914Z   #create_authorized
2024-02-25T03:20:11.8866557Z     should include authorized family members
2024-02-25T03:20:11.8867329Z   validations
2024-02-25T03:20:11.8953153Z     is expected to validate that :guardian_zip_code cannot be empty/falsy
2024-02-25T03:20:11.9030263Z     is expected to validate that :guardian_last_name cannot be empty/falsy
2024-02-25T03:20:11.9106776Z     is expected to validate that :guardian_first_name cannot be empty/falsy
2024-02-25T03:20:11.9107929Z   versioning
2024-02-25T03:20:11.9142841Z     is expected to be versioned
2024-02-25T03:20:11.9143520Z   #search_non_archived
2024-02-25T03:20:12.0003926Z     should return non-archived families if zero is passed in
2024-02-25T03:20:12.0867725Z     should return all families if one is passed in
2024-02-25T03:20:12.0868828Z   associations
2024-02-25T03:20:12.0910119Z     is expected to belong to partner required: true
2024-02-25T03:20:12.0944672Z     is expected to have many children dependent => destroy
2024-02-25T03:20:12.0978051Z     is expected to have many authorized_family_members dependent => destroy
2024-02-25T03:20:12.0978775Z   #guardian_display_name
2024-02-25T03:20:12.1025920Z     should return the guardian's first and last name
2024-02-25T03:20:12.1026491Z   #total_children_count
2024-02-25T03:20:12.1073551Z     should return the family's total children count
2024-02-25T03:20:12.1074520Z 
2024-02-25T03:20:12.1074993Z LineItem
2024-02-25T03:20:12.1076361Z   versioning
2024-02-25T03:20:12.1110296Z     is expected to be versioned
2024-02-25T03:20:12.1111229Z   Scopes >
2024-02-25T03:20:12.1112106Z     ->active
2024-02-25T03:20:12.1433527Z       retrieves only those with active status
2024-02-25T03:20:12.1434345Z   Validations >
2024-02-25T03:20:12.2263672Z     the quantity must be a valid integer and cannot be 0
2024-02-25T03:20:12.2392127Z     requires a quantity
2024-02-25T03:20:12.2475032Z     requires an item
2024-02-25T03:20:12.2475546Z   package_count
2024-02-25T03:20:12.2653899Z     is nil if there is no package_size
2024-02-25T03:20:12.2839961Z     is equal to the quanity divided by the package_size
2024-02-25T03:20:12.2840627Z   Methods >
2024-02-25T03:20:12.2841333Z     item packages
2024-02-25T03:20:12.2842163Z       #has_packages
2024-02-25T03:20:12.2843023Z         item has package size
2024-02-25T03:20:12.3017254Z           is expected to be truthy
2024-02-25T03:20:12.3018052Z         item has no package size
2024-02-25T03:20:12.3142043Z           is expected to be falsy
2024-02-25T03:20:12.3142988Z       #package_count
2024-02-25T03:20:12.3143673Z         has packages
2024-02-25T03:20:12.3313028Z           is expected to eq "1"
2024-02-25T03:20:12.3313924Z         does not have packages
2024-02-25T03:20:12.3433324Z           is expected to be falsy
2024-02-25T03:20:12.3434052Z     #value_per_line_item
2024-02-25T03:20:12.3434873Z       item has value and quantity
2024-02-25T03:20:12.3606021Z         is expected to eq 25
2024-02-25T03:20:12.3606912Z       item has no value
2024-02-25T03:20:12.3732207Z         is expected to eq 0
2024-02-25T03:20:12.3733501Z 
2024-02-25T03:20:12.3733943Z ProductDriveParticipant
2024-02-25T03:20:12.3735446Z   Methods
2024-02-25T03:20:12.3736534Z     volume
2024-02-25T03:20:12.4599289Z       retrieves the amount of product that has been donated by participant
2024-02-25T03:20:12.4600292Z     volume_by_product_drive
2024-02-25T03:20:12.6100283Z       retrieves the amount of product that has been donated through specific product drive
2024-02-25T03:20:12.6101779Z     donation_source_view
2024-02-25T03:20:12.6102421Z       no contact name
2024-02-25T03:20:12.6161743Z         is expected to be nil
2024-02-25T03:20:12.6162495Z       contact name present
2024-02-25T03:20:12.6220908Z         is expected to eq "Contact Name (participant)"
2024-02-25T03:20:12.6221966Z   behaves like provideable
2024-02-25T03:20:12.6222798Z     Validations
2024-02-25T03:20:12.6261853Z       is invalid without an organization
2024-02-25T03:20:12.6320483Z       is invalid unless it has either a contact name or a business name
2024-02-25T03:20:12.6321474Z     import_csv
2024-02-25T03:20:12.8122752Z       imports from a csv file
2024-02-25T03:20:12.8123475Z     geocode
2024-02-25T03:20:12.8184883Z       adds coordinates to the database
2024-02-25T03:20:12.8185649Z   Validations
2024-02-25T03:20:12.8245860Z     is invalid unless it has either a phone number or an email
2024-02-25T03:20:12.8282194Z     is invalid without an organization
2024-02-25T03:20:12.8282964Z   versioning
2024-02-25T03:20:12.8318132Z     is expected to be versioned
2024-02-25T03:20:12.8318624Z 
2024-02-25T03:20:12.8318879Z RequestItem
2024-02-25T03:20:12.8319738Z   Methods >
2024-02-25T03:20:12.8320581Z     #from_json
2024-02-25T03:20:13.0733964Z       has the correct amount on hand
2024-02-25T03:20:13.3114709Z       has the correct amount on hand for location
2024-02-25T03:20:13.5469256Z       has the correct name
2024-02-25T03:20:13.7855491Z       has the correct quantity
2024-02-25T03:20:13.7856174Z 
2024-02-25T03:20:13.7856805Z DonationSite
2024-02-25T03:20:13.7858081Z   Validations >
2024-02-25T03:20:13.7904683Z     is invalid without an address
2024-02-25T03:20:13.7990177Z     must belong to an organization
2024-02-25T03:20:13.8038655Z     is invalid without a name
2024-02-25T03:20:13.8039182Z   versioning
2024-02-25T03:20:13.8078975Z     is expected to be versioned
2024-02-25T03:20:13.8079869Z   import_csv
2024-02-25T03:20:13.9782884Z     imports storage locations from a csv file
2024-02-25T03:20:13.9783967Z   geocode
2024-02-25T03:20:13.9840987Z     adds coordinates to the database
2024-02-25T03:20:13.9841789Z 
2024-02-25T03:20:13.9842135Z TransfersController
2024-02-25T03:20:13.9843453Z   While not signed in
2024-02-25T03:20:13.9982790Z     redirects the user to the sign-in page for CRUD actions
2024-02-25T03:20:13.9983703Z   While signed in
2024-02-25T03:20:13.9984532Z     Looking at a different organization
2024-02-25T03:20:14.1776514Z       redirects the user to the sign-in page for CRUD actions
2024-02-25T03:20:14.1777489Z     GET #show
2024-02-25T03:20:14.2044847Z       returns http success
2024-02-25T03:20:14.2045523Z     GET #index
2024-02-25T03:20:14.2183254Z       returns http success
2024-02-25T03:20:14.2184035Z       when filtering by date
2024-02-25T03:20:14.2184807Z         when date parameters are supplied
2024-02-25T03:20:14.2555858Z           only returns the correct obejects
2024-02-25T03:20:14.2556785Z         when date parameters are not supplied
2024-02-25T03:20:14.2917382Z           returns all objects
2024-02-25T03:20:14.2918316Z     GET #new
2024-02-25T03:20:14.3041184Z       returns http success
2024-02-25T03:20:14.3041812Z     POST #create
2024-02-25T03:20:14.3174200Z       renders to #new when failing
2024-02-25T03:20:14.3571882Z       redirects to #show when successful
2024-02-25T03:20:14.3572655Z 
2024-02-25T03:20:14.3572961Z Partners::UpdateFamily
2024-02-25T03:20:14.3574127Z   #call
2024-02-25T03:20:14.3575194Z     when family has children
2024-02-25T03:20:14.3978989Z       archives the family and its children
2024-02-25T03:20:14.3979696Z     when an error occurs during archiving
2024-02-25T03:20:14.4331184Z       does not archive the family or its children and adds error to the service
2024-02-25T03:20:14.4331828Z 
2024-02-25T03:20:14.4331956Z UsersRole
2024-02-25T03:20:14.4332950Z   #current_role_for
2024-02-25T03:20:14.4334046Z     for partner user
2024-02-25T03:20:14.4463762Z       should return partner user
2024-02-25T03:20:14.4464270Z     for super admin
2024-02-25T03:20:14.4623049Z       should return super admin
2024-02-25T03:20:14.4624526Z     for org user
2024-02-25T03:20:14.4747237Z       should return org user
2024-02-25T03:20:14.4747962Z     for org admin
2024-02-25T03:20:14.4939475Z       should return org admin
2024-02-25T03:20:14.4940167Z   versioning
2024-02-25T03:20:14.4982530Z     is expected to be versioned
2024-02-25T03:20:14.4983051Z 
2024-02-25T03:20:14.4983385Z CalendarService
2024-02-25T03:20:14.8289611Z   #time_zones
2024-02-25T03:20:14.8290280Z   .calendar
2024-02-25T03:20:14.8877341Z     should print the calendar correctly
2024-02-25T03:20:14.8878179Z 
2024-02-25T03:20:14.8878488Z KitCreateService
2024-02-25T03:20:14.8879369Z   #call
2024-02-25T03:20:15.0717650Z     should return an the instance
2024-02-25T03:20:15.0718245Z     when the parameters are valid
2024-02-25T03:20:15.2681271Z       should create a new Kit
2024-02-25T03:20:15.4621492Z       should create a new Item
2024-02-25T03:20:15.6581590Z       should create the new Item associated with the Kit
2024-02-25T03:20:15.6582683Z       but the ItemCreationService is unsuccesful
2024-02-25T03:20:15.8505785Z         should not create a Item
2024-02-25T03:20:16.0416855Z         should have an error that includes the error
2024-02-25T03:20:16.2262151Z         should not create the Kit
2024-02-25T03:20:16.2262888Z       but an unexpected error gets raised
2024-02-25T03:20:16.4090167Z         should not create the Kit
2024-02-25T03:20:16.6009406Z         should have an error that includes the raised error
2024-02-25T03:20:16.7969325Z         should not create a Item
2024-02-25T03:20:16.7970259Z     when the parameters provided are invalid
2024-02-25T03:20:16.7971537Z       because the organization_id does not match any Organization
2024-02-25T03:20:16.8026455Z         should have an error on organization_id saying it does not match any Organization
2024-02-25T03:20:16.8027669Z       because the kit_params is invalid for kit creation
2024-02-25T03:20:16.9830401Z         should have errors saying why the kit_params are invalid
2024-02-25T03:20:16.9831147Z 
2024-02-25T03:20:16.9831361Z Event
2024-02-25T03:20:16.9832802Z   #most_recent_snapshot
2024-02-25T03:20:17.2289083Z     should include the last usable snapshot
2024-02-25T03:20:17.4664649Z     should not include an unusable snapshot
2024-02-25T03:20:17.4667107Z 
2024-02-25T03:20:17.4667519Z PartnerProfileUpdateService
2024-02-25T03:20:17.4668442Z   #call
2024-02-25T03:20:17.4669528Z     when there are no pre-existing served areas
2024-02-25T03:20:17.4670303Z       and the new values are incorrect
2024-02-25T03:20:17.4920250Z 0
2024-02-25T03:20:17.4931384Z         does not store the new values and returns a failure
2024-02-25T03:20:17.4932720Z       and the new values are correct
2024-02-25T03:20:17.5164785Z         stores the new values and returns success
2024-02-25T03:20:17.5165658Z         and there are other errors in the profile
2024-02-25T03:20:17.5383080Z           does not store the new values and it returns a failure
2024-02-25T03:20:17.5384308Z     when served area client shares pre-exist
2024-02-25T03:20:17.5385114Z       and the new values are correct
2024-02-25T03:20:17.5385776Z         and there are no other errors
2024-02-25T03:20:17.5703140Z           replaces the old values and returns success
2024-02-25T03:20:17.5704338Z         and there are errors on the profile
2024-02-25T03:20:17.6006652Z           maintains the old values and returns failure
2024-02-25T03:20:17.6007580Z       and the new values are incorrect
2024-02-25T03:20:17.6292530Z         maintains the old values and returns failure
2024-02-25T03:20:17.6293301Z 
2024-02-25T03:20:17.6293541Z RemoveRoleService
2024-02-25T03:20:17.6294556Z   #call
2024-02-25T03:20:17.6295549Z     when not enough information provided
2024-02-25T03:20:17.8155767Z       should raise an error
2024-02-25T03:20:17.8156605Z     when the role exists
2024-02-25T03:20:18.0281243Z       should remove the admin role when removing user role
2024-02-25T03:20:18.2192831Z       should remove the role
2024-02-25T03:20:18.4107697Z       should work with a type and ID instead of role ID
2024-02-25T03:20:18.4108318Z     when the role does not exist
2024-02-25T03:20:18.5932190Z       should raise an error
2024-02-25T03:20:18.5932950Z 
2024-02-25T03:20:18.5933350Z TransferDestroyService
2024-02-25T03:20:18.5934480Z   #call
2024-02-25T03:20:18.5935793Z     when there are no issues
2024-02-25T03:20:18.7928764Z       should execute the expected methods
2024-02-25T03:20:18.9836653Z       should return an OpenStruct with success? set to true
2024-02-25T03:20:18.9837774Z     when an issue occurs in transaction
2024-02-25T03:20:18.9839073Z       because undoing the transfer inventory changes by decreasing the inventory of `to` failed
2024-02-25T03:20:19.1585443Z         should return a OpenStruct with the raised error
2024-02-25T03:20:19.1586418Z       because the transfer destroy raised an error
2024-02-25T03:20:19.3563126Z         should return a OpenStruct with the raised error
2024-02-25T03:20:19.5343097Z       because undoing the transfer inventory changes by increasing the inventory of `from` failed
2024-02-25T03:20:19.5344130Z         should return a OpenStruct with the raised error
2024-02-25T03:20:19.5344752Z       because the transfer_id does not match any Transfer
2024-02-25T03:20:19.7161963Z         should return a OpenStruct with an ActiveRecord::RecordNotFound error
2024-02-25T03:20:19.7163305Z     because transfer should not be deleted
2024-02-25T03:20:19.9039593Z       should return an OpenStruct with the raised error
2024-02-25T03:20:19.9040388Z 
2024-02-25T03:20:19.9040666Z Partners::ChildItemRequest
2024-02-25T03:20:19.9041825Z   #ordered_item_diaperid
2024-02-25T03:20:19.9107197Z     should return the item_id on the item_request
2024-02-25T03:20:19.9108012Z   #quantity
2024-02-25T03:20:19.9150532Z     should return the quantity divided by the number of children
2024-02-25T03:20:19.9151470Z   associations
2024-02-25T03:20:19.9193480Z     is expected to belong to authorized_family_member optional: true
2024-02-25T03:20:19.9234599Z     is expected to belong to item_request required: true
2024-02-25T03:20:19.9274617Z     is expected to belong to child required: true
2024-02-25T03:20:19.9275668Z   versioning
2024-02-25T03:20:19.9310133Z     is expected to be versioned
2024-02-25T03:20:19.9310781Z 
2024-02-25T03:20:19.9311768Z PartnerApprovalService
2024-02-25T03:20:19.9312826Z   #call
2024-02-25T03:20:19.9313579Z     when the arguments are incorrect
2024-02-25T03:20:19.9314915Z       because the partner is not approvable
2024-02-25T03:20:19.9570696Z         should return the PartnerApprovalService object with an error
2024-02-25T03:20:19.9571740Z     when the arguments are correct
2024-02-25T03:20:19.9851568Z       should send an email notification to the partner
2024-02-25T03:20:20.0158621Z       should change the partner status to approved
2024-02-25T03:20:20.0434245Z       should have no errors
2024-02-25T03:20:20.0435203Z       but a unexpected error occured during the save
2024-02-25T03:20:20.0436034Z         for partner approval
2024-02-25T03:20:20.0681909Z           should have an error with the raised error
2024-02-25T03:20:20.0929010Z           should not send an email notification to the partner
2024-02-25T03:20:20.1185449Z           should not change the partner status to approved
2024-02-25T03:20:20.1186222Z 
2024-02-25T03:20:20.1186723Z Role
2024-02-25T03:20:20.1222635Z   is expected to accepts_nested_attributes_for :users
2024-02-25T03:20:20.1223484Z   Validations
2024-02-25T03:20:20.1271373Z     is expected to validate that :resource_type is either â€¹"Organization"â€º or â€¹"Partner"â€º
2024-02-25T03:20:20.1272711Z   Associations
2024-02-25T03:20:20.1308270Z     is expected to belong to resource optional: true
2024-02-25T03:20:20.1366536Z     is expected to have and belong to many users
2024-02-25T03:20:20.1367257Z   versioning
2024-02-25T03:20:20.1403462Z     is expected to be versioned
2024-02-25T03:20:20.1404196Z 
2024-02-25T03:20:20.1404480Z AccountRequestMailer
2024-02-25T03:20:20.1405448Z   #rejection
2024-02-25T03:20:20.1619922Z     should have the correct subject
2024-02-25T03:20:20.1730528Z     should include the rejection reason
2024-02-25T03:20:20.1832920Z     should be sent to the correct email address
2024-02-25T03:20:20.1834138Z     when the account_request_id provided does not match any AccountRequest
2024-02-25T03:20:20.1877650Z       should trigger raise a ActiveRecord::RecordNotFound error
2024-02-25T03:20:20.1878601Z   #confirmation
2024-02-25T03:20:20.1995199Z     should be from no-reply@humanessentials.app
2024-02-25T03:20:20.2100409Z     should be sent to the specified account_request email
2024-02-25T03:20:20.2206040Z     should have the correct subject
2024-02-25T03:20:20.2206841Z     HTML format
2024-02-25T03:20:20.2312732Z       should include the instruction video link
2024-02-25T03:20:20.2419133Z       should include the staging/demo account information
2024-02-25T03:20:20.2526640Z       should include the button to confirm the request
2024-02-25T03:20:20.2527415Z     Text format
2024-02-25T03:20:20.2634431Z       should include the button to confirm the request
2024-02-25T03:20:20.2739567Z       should include the staging/demo account information
2024-02-25T03:20:20.2844515Z       should include the instruction video link
2024-02-25T03:20:20.2845677Z     when the account_request_id provided does not match any AccountRequest
2024-02-25T03:20:20.2888851Z       should trigger raise a ActiveRecord::RecordNotFound error
2024-02-25T03:20:20.2889755Z   #approval_request
2024-02-25T03:20:20.3015181Z     should include the admin link to create the new organization from the account request
2024-02-25T03:20:20.3383252Z     should include details of the account request
2024-02-25T03:20:20.3507243Z     should have the correct subject
2024-02-25T03:20:20.3634704Z     should include the admin link to reject the organization
2024-02-25T03:20:20.3754321Z     should be sent to the info@humanessentials.app email address
2024-02-25T03:20:20.3755819Z     when the account_request_id provided does not match any AccountRequest
2024-02-25T03:20:20.3800840Z       should trigger raise a ActiveRecord::RecordNotFound error
2024-02-25T03:20:20.3801734Z 
2024-02-25T03:20:20.3802132Z ReminderDeadlineJob
2024-02-25T03:20:20.3802930Z   #perform
2024-02-25T03:20:20.4035114Z     should queue up reminder deadline emails for all partners that should be reminded
2024-02-25T03:20:20.4036223Z 
2024-02-25T03:20:20.4036447Z NDBNMember
2024-02-25T03:20:20.4037195Z   validations
2024-02-25T03:20:20.4139303Z     is expected to validate that :ndbn_member_id is case-sensitively unique
2024-02-25T03:20:20.4206989Z     is expected to validate that :account_name cannot be empty/falsy
2024-02-25T03:20:20.4262608Z     is expected to validate that :ndbn_member_id cannot be empty/falsy
2024-02-25T03:20:20.4263726Z   versioning
2024-02-25T03:20:20.4297249Z     is expected to be versioned
2024-02-25T03:20:20.4299296Z   #full_name
2024-02-25T03:20:20.4333914Z     should equal the id and the account name
2024-02-25T03:20:20.4334429Z 
2024-02-25T03:20:20.4334656Z ItemsOutQuery
2024-02-25T03:20:20.4335750Z   items_out_query
2024-02-25T03:20:20.5514007Z     returns a collection with the fields name, item_id, quantity
2024-02-25T03:20:20.6709531Z     includes distributions, adjustments, transfers among sources
2024-02-25T03:20:20.6710571Z 
2024-02-25T03:20:20.6711015Z Purchase
2024-02-25T03:20:20.6712144Z   Methods >
2024-02-25T03:20:20.6713074Z     remove
2024-02-25T03:20:20.7505239Z       fails gracefully if the item doesn't exist
2024-02-25T03:20:20.8291689Z       removes the item from the purchase
2024-02-25T03:20:20.8292587Z     storage_view
2024-02-25T03:20:20.8936985Z       returns name of storage location
2024-02-25T03:20:20.8937763Z   versioning
2024-02-25T03:20:20.8976404Z     is expected to be versioned
2024-02-25T03:20:20.8977368Z   Scopes >
2024-02-25T03:20:20.8977841Z     during >
2024-02-25T03:20:20.9219119Z       returns all purchases created between two dates
2024-02-25T03:20:20.9222371Z   Callbacks >
2024-02-25T03:20:20.9391275Z     inititalizes the issued_at field to default to midnight if it wasn't explicitly set
2024-02-25T03:20:20.9579343Z     automatically combines duplicate line_item records when they're created
2024-02-25T03:20:20.9580147Z   behaves like itemizable
2024-02-25T03:20:20.9580702Z     .line_items
2024-02-25T03:20:20.9581434Z       quantities_by_name
2024-02-25T03:20:20.9970909Z         returns a hash of items with id, name, and quantity
2024-02-25T03:20:21.0356271Z         leaves out zero-quantitied items if requested
2024-02-25T03:20:21.0357211Z       combine!
2024-02-25T03:20:21.0847818Z         incrementally combines line_items on donations that have already been created
2024-02-25T03:20:21.1404050Z         combines multiple line_items with the same item_id into a single record
2024-02-25T03:20:21.1405117Z       sorted
2024-02-25T03:20:21.2480264Z         displays the items, sorted by name
2024-02-25T03:20:21.2481410Z       total
2024-02-25T03:20:21.3238226Z         has an item total
2024-02-25T03:20:21.3245992Z     .to_a
2024-02-25T03:20:21.3246807Z       with Flipper flag :deprecate_to_a enabled
2024-02-25T03:20:21.3839876Z         raises an error
2024-02-25T03:20:21.3841296Z       with Flipper flag :deprecate_to_a disabled
2024-02-25T03:20:21.4522271Z         calls line_item_values
2024-02-25T03:20:21.4523504Z   Associations >
2024-02-25T03:20:21.4524371Z     items >
2024-02-25T03:20:21.4782114Z       has_many
2024-02-25T03:20:21.4782833Z   Validations >
2024-02-25T03:20:21.4875816Z     ensures that the issued at is no earlier than 2000
2024-02-25T03:20:21.4961321Z     is valid if all categories add up to total
2024-02-25T03:20:21.5039093Z     requires an inventory (storage location)
2024-02-25T03:20:21.5123804Z     is valid if categories have no values
2024-02-25T03:20:21.5199884Z     must belong to an organization
2024-02-25T03:20:21.5288781Z     is not valid if categories do not add up
2024-02-25T03:20:21.5479284Z     is invalid when the line items are invalid
2024-02-25T03:20:21.5566278Z     is not valid if period supplies is non-zero but no other category is
2024-02-25T03:20:21.5738302Z     is not valid if any category is non-zero but does not add up to the total
2024-02-25T03:20:21.5739158Z 
2024-02-25T03:20:21.5739360Z Adjustment
2024-02-25T03:20:21.5740955Z   Validations >
2024-02-25T03:20:21.5821053Z     must belong to an organization
2024-02-25T03:20:21.5989201Z     allows you to add inventory that doesn't yet exist in the storage location
2024-02-25T03:20:21.6401772Z     allows you to remove all the inventory that exists in the storage location
2024-02-25T03:20:21.6402450Z   behaves like itemizable
2024-02-25T03:20:21.6403009Z     .to_a
2024-02-25T03:20:21.6403817Z       with Flipper flag :deprecate_to_a disabled
2024-02-25T03:20:21.6752123Z         calls line_item_values
2024-02-25T03:20:21.6752806Z       with Flipper flag :deprecate_to_a enabled
2024-02-25T03:20:21.7101508Z         raises an error
2024-02-25T03:20:21.7102051Z     .line_items
2024-02-25T03:20:21.7103194Z       sorted
2024-02-25T03:20:21.7683188Z         displays the items, sorted by name
2024-02-25T03:20:21.7683741Z       quantities_by_name
2024-02-25T03:20:21.8082193Z         returns a hash of items with id, name, and quantity
2024-02-25T03:20:21.8494991Z         leaves out zero-quantitied items if requested
2024-02-25T03:20:21.8495549Z       combine!
2024-02-25T03:20:21.8901210Z         combines multiple line_items with the same item_id into a single record
2024-02-25T03:20:21.9362776Z         incrementally combines line_items on donations that have already been created
2024-02-25T03:20:21.9363903Z       total
2024-02-25T03:20:21.9748879Z         has an item total
2024-02-25T03:20:21.9749684Z   Methods >
2024-02-25T03:20:22.1683522Z     `self.storage_locations_adjusted_for` returns only storage_locations that are used in adjustments for one org
2024-02-25T03:20:22.1684359Z     split_difference
2024-02-25T03:20:22.2446972Z       gracefully handles adjustments with only positive
2024-02-25T03:20:22.3192236Z       returns two adjustment objects
2024-02-25T03:20:22.3926975Z       gracefully handles adjustments with only negative
2024-02-25T03:20:22.3928123Z   versioning
2024-02-25T03:20:22.3963922Z     is expected to be versioned
2024-02-25T03:20:22.3964862Z   Scopes >
2024-02-25T03:20:22.4128114Z     `at_location` can filter out adjustments to a specific location
2024-02-25T03:20:22.4279915Z     `by_user` can filter out adjustments to a specific user
2024-02-25T03:20:22.4280868Z   nested line item attributes
2024-02-25T03:20:22.4667232Z     accepts them
2024-02-25T03:20:22.4668220Z 
2024-02-25T03:20:22.4668621Z Transfer
2024-02-25T03:20:22.4670200Z   Scopes >
2024-02-25T03:20:22.4881117Z     `from_location` can filter out transfers from a specific location
2024-02-25T03:20:22.5091784Z     `to_location` can filter out transfers to a specific location
2024-02-25T03:20:22.5092467Z   versioning
2024-02-25T03:20:22.5125914Z     is expected to be versioned
2024-02-25T03:20:22.5126571Z   Validations >
2024-02-25T03:20:22.5360702Z     requires that each line item exists in the inventory
2024-02-25T03:20:22.5435215Z     must belong to an organization
2024-02-25T03:20:22.6035937Z     requires that the line items must have sufficient quantity in the inventory
2024-02-25T03:20:22.7903231Z     must only use storage locations that belong to the organization (no hacks!)
2024-02-25T03:20:22.8024962Z     must have storage locations set
2024-02-25T03:20:22.8141926Z     must have different storage locations
2024-02-25T03:20:22.8142781Z   Methods >
2024-02-25T03:20:23.0164338Z     `self.storage_locations_transferred_to` and `..._from` constrains appropriately
2024-02-25T03:20:23.0165353Z   behaves like itemizable
2024-02-25T03:20:23.0167888Z     .to_a
2024-02-25T03:20:23.0168546Z       with Flipper flag :deprecate_to_a disabled
2024-02-25T03:20:23.0517383Z         calls line_item_values
2024-02-25T03:20:23.0518237Z       with Flipper flag :deprecate_to_a enabled
2024-02-25T03:20:23.0864006Z         raises an error
2024-02-25T03:20:23.0864700Z     .line_items
2024-02-25T03:20:23.0865557Z       combine!
2024-02-25T03:20:23.1146200Z         incrementally combines line_items on donations that have already been created
2024-02-25T03:20:23.1611340Z         combines multiple line_items with the same item_id into a single record
2024-02-25T03:20:23.1612553Z       total
2024-02-25T03:20:23.2093666Z         has an item total
2024-02-25T03:20:23.2094294Z       sorted
2024-02-25T03:20:23.2775962Z         displays the items, sorted by name
2024-02-25T03:20:23.2776813Z       quantities_by_name
2024-02-25T03:20:23.3246436Z         returns a hash of items with id, name, and quantity
2024-02-25T03:20:23.3733064Z         leaves out zero-quantitied items if requested
2024-02-25T03:20:23.3733706Z 
2024-02-25T03:20:23.3733992Z DonationCreateService
2024-02-25T03:20:23.3734866Z   #call
2024-02-25T03:20:23.3942773Z     should create the donation
2024-02-25T03:20:23.3943290Z 
2024-02-25T03:20:23.3943588Z InventoryAggregate
2024-02-25T03:20:23.3944865Z   validation
2024-02-25T03:20:23.3945553Z     subsequent event is incorrect
2024-02-25T03:20:23.6850304Z       should add the event to the message
2024-02-25T03:20:23.6850940Z     current event is incorrect
2024-02-25T03:20:23.9134860Z       should raise a bare error
2024-02-25T03:20:23.9136020Z   individual events
2024-02-25T03:20:24.1962667Z     should process a snapshot event
2024-02-25T03:20:24.5810200Z     should process a kit deallocation event
2024-02-25T03:20:24.8838774Z     should process a kit allocation event
2024-02-25T03:20:25.2015771Z     should process a distribution destroyed event
2024-02-25T03:20:25.5236641Z     should process a transfer destroy event
2024-02-25T03:20:25.8206960Z     should process a purchase event
2024-02-25T03:20:26.1127696Z     should process an adjustment event
2024-02-25T03:20:26.4188467Z     should process a purchase destroyed event
2024-02-25T03:20:26.7084490Z     should process a donation event after a new storage location is created
2024-02-25T03:20:26.9977544Z     should process a transfer event
2024-02-25T03:20:27.2938195Z     should process a donation event
2024-02-25T03:20:27.5944937Z     should process an audit event
2024-02-25T03:20:27.8985179Z     should process a donation destroyed event
2024-02-25T03:20:28.2017128Z     should process a distribution event
2024-02-25T03:20:28.2018203Z   multiple events
2024-02-25T03:20:28.4637191Z     should ignore unusable snapshots
2024-02-25T03:20:28.7231269Z     should handle changing storage location
2024-02-25T03:20:29.0259035Z     should handle intervening audits
2024-02-25T03:20:29.2830556Z     should handle timing correctly
2024-02-25T03:20:29.6821054Z     should process multiple events
2024-02-25T03:20:29.6821710Z 
2024-02-25T03:20:29.6821940Z UiHelper
2024-02-25T03:20:29.6822941Z   optional_data_text
2024-02-25T03:20:29.6824086Z     when the field provided is blank
2024-02-25T03:20:29.6877496Z       should return the text Not-Provided in gray text
2024-02-25T03:20:29.6878535Z     when the field provided is not blank
2024-02-25T03:20:29.6926025Z       should return the content
2024-02-25T03:20:29.6926727Z 
2024-02-25T03:20:29.6927194Z DonationItemizedBreakdownService
2024-02-25T03:20:29.6928170Z   #fetch
2024-02-25T03:20:30.0851472Z     return the list of items donated with distributed
2024-02-25T03:20:30.0852565Z 
2024-02-25T03:20:30.0852892Z SyncNDBNMembers
2024-02-25T03:20:30.0853573Z   .sync
2024-02-25T03:20:30.0854308Z     when the HTTP request does not get a response of 200
2024-02-25T03:20:30.1072970Z       should raise an error regarding the response code
2024-02-25T03:20:30.1073934Z     when the HTTP request is successful
2024-02-25T03:20:30.1074924Z       when no new NDBN Member has been added
2024-02-25T03:20:30.1204570Z         should not add any new NDBN Members
2024-02-25T03:20:30.1205501Z       when there are no exisiting NDBN Member records
2024-02-25T03:20:30.1297446Z         should create the NDBN Member records
2024-02-25T03:20:30.1298149Z       when the account name of a NDBN Member has changed
2024-02-25T03:20:30.1411718Z         should update the account name of the corresponding NDBN Member
2024-02-25T03:20:30.1412676Z 
2024-02-25T03:20:30.1412950Z HistoricalTrendService
2024-02-25T03:20:30.1413571Z   #series
2024-02-25T03:20:30.4549871Z     returns an array of items with their monthly data
2024-02-25T03:20:30.4550530Z 
2024-02-25T03:20:30.4550772Z KitAllocation
2024-02-25T03:20:30.4554650Z   add some examples to (or delete) /home/runner/work/human-essentials/human-essentials/spec/models/kit_allocation_spec.rb (PENDING: Not yet implemented)
2024-02-25T03:20:30.4556501Z   versioning
2024-02-25T03:20:30.4594181Z     is expected to be versioned
2024-02-25T03:20:30.4594706Z 
2024-02-25T03:20:30.4595192Z BroadcastAnnouncement
2024-02-25T03:20:30.4698464Z   is expected to belong to user required: true
2024-02-25T03:20:30.4761666Z   should validate a valid announcement
2024-02-25T03:20:30.4818402Z   is expected to validate that :message cannot be empty/falsy
2024-02-25T03:20:30.4854456Z   is expected to belong to organization optional: true
2024-02-25T03:20:30.4911064Z   should roughly check if link is valid
2024-02-25T03:20:30.4967499Z   should validate a good link
2024-02-25T03:20:30.4968226Z   filter_announcements
2024-02-25T03:20:30.5108144Z     should include only announcements from the passed organization
2024-02-25T03:20:30.5237866Z     shouldn't include expired announcements
2024-02-25T03:20:30.5387331Z     sorts announcements from most recently created to last
2024-02-25T03:20:30.5388300Z   expired?
2024-02-25T03:20:30.5444219Z     should be true if the announcement is expired
2024-02-25T03:20:30.5498640Z     should be false if the announcement has not expired
2024-02-25T03:20:30.5499892Z   versioning
2024-02-25T03:20:30.5535358Z     is expected to be versioned
2024-02-25T03:20:30.5535882Z 
2024-02-25T03:20:30.5536290Z Partners::RequestApprovalService
2024-02-25T03:20:30.5537272Z   #call
2024-02-25T03:20:30.5538547Z     when the partner is not yet waiting for approval and there is no profile error
2024-02-25T03:20:30.5841866Z       does not have an error
2024-02-25T03:20:30.6032955Z     when the partner is not yet waiting for approval and there is a profile error
2024-02-25T03:20:30.6126008Z       should return an error re social media
2024-02-25T03:20:30.6127442Z       should return an error re agency_type (PENDING: Temporarily skipped with xit)
2024-02-25T03:20:30.6128441Z     when the partner is already awaiting approval
2024-02-25T03:20:30.6398791Z       should return an error saying it the partner is already requested approval
2024-02-25T03:20:30.6399981Z     when the partner is not yet awaiting approval
2024-02-25T03:20:30.6684532Z       should send an email notification to the partner's organization
2024-02-25T03:20:30.6976506Z       should set the status on the partner record to awaiting_review
2024-02-25T03:20:30.6977242Z 
2024-02-25T03:20:30.6977488Z Reports::WarehouseReportService
2024-02-25T03:20:30.6978223Z   #report
2024-02-25T03:20:30.8860148Z     should print zero values
2024-02-25T03:20:31.2376491Z     should print unknown warehouse type
2024-02-25T03:20:31.4104707Z     should print unknown square footage
2024-02-25T03:20:31.7647104Z     should print normal values
2024-02-25T03:20:31.7647889Z 
2024-02-25T03:20:31.7648182Z ItemCreateService
2024-02-25T03:20:31.7649309Z   #call
2024-02-25T03:20:31.7650284Z     when there are no issues
2024-02-25T03:20:31.9385383Z       should return an OpenStruct with success? set to true and the item
2024-02-25T03:20:32.1151274Z       should execute the expected methods
2024-02-25T03:20:32.1152204Z     when an issue occurs in transaction
2024-02-25T03:20:32.1152923Z       because the organization_id does not match any Organization
2024-02-25T03:20:32.2883366Z         should return a OpenStruct with an ActiveRecord::RecordNotFound error
2024-02-25T03:20:32.2884483Z       because a inventory item creation failed and raised an error
2024-02-25T03:20:32.4605920Z         should return a OpenStruct with the raised error
2024-02-25T03:20:32.4606506Z       because the item create raised an error
2024-02-25T03:20:32.7256130Z         should return a OpenStruct with the raised error
2024-02-25T03:20:32.7256920Z 
2024-02-25T03:20:32.7257113Z NotifyPartnerJob
2024-02-25T03:20:32.7258299Z   #perform
2024-02-25T03:20:32.7443698Z     is expected to call RequestsConfirmationMailer
2024-02-25T03:20:32.7531499Z     avoids exception when request doesn't exist
2024-02-25T03:20:32.7535297Z     when the request's partner is deactivated
2024-02-25T03:20:32.8260250Z       does not send the confirmation email
2024-02-25T03:20:32.8264798Z 
2024-02-25T03:20:32.8265052Z OrganizationStats
2024-02-25T03:20:32.8266497Z   donation_sites_added method >
2024-02-25T03:20:32.8267217Z     current org is not nil >
2024-02-25T03:20:32.8347320Z       should return actual count of donation sites
2024-02-25T03:20:32.8348167Z     current org is nil >
2024-02-25T03:20:32.8435042Z       should return 0
2024-02-25T03:20:32.8435581Z   locations_with_inventory method >
2024-02-25T03:20:32.8437046Z     current org is not nil + no locations have items >
2024-02-25T03:20:32.8566365Z       should return an empty array
2024-02-25T03:20:32.8572560Z     current org is nil >
2024-02-25T03:20:32.8657173Z       should return an empty array
2024-02-25T03:20:32.8657869Z     current org is not nil + locations have items >
2024-02-25T03:20:32.9034028Z       should return storage location
2024-02-25T03:20:32.9034676Z   partners_added method >
2024-02-25T03:20:32.9038623Z     current org is not nil >
2024-02-25T03:20:32.9075201Z       should return actual count of partners
2024-02-25T03:20:32.9075899Z     current org is nil >
2024-02-25T03:20:32.9111955Z       should return 0
2024-02-25T03:20:32.9112486Z   storage_locations_added method >
2024-02-25T03:20:32.9113533Z     current org is nil >
2024-02-25T03:20:32.9149962Z       should return 0
2024-02-25T03:20:32.9150481Z     current org is not nil >
2024-02-25T03:20:32.9188110Z       should return actual count of locations
2024-02-25T03:20:32.9189836Z 
2024-02-25T03:20:32.9190055Z BarcodeItem
2024-02-25T03:20:32.9191317Z   Organization barcodes
2024-02-25T03:20:32.9380468Z     updates a counter in Item whenever it tracks a new barcode
2024-02-25T03:20:32.9381269Z     validations >
2024-02-25T03:20:32.9508206Z       does not enforce value uniqueness compared with the global scope
2024-02-25T03:20:32.9626577Z       allows multiple barcodes to point at the same item
2024-02-25T03:20:32.9862483Z       does not enforces value uniqueness across organizations
2024-02-25T03:20:33.0010587Z       is valid only with an organization
2024-02-25T03:20:33.0167299Z       enforces value uniqueness within the organization
2024-02-25T03:20:33.0167954Z       item >
2024-02-25T03:20:33.0260075Z         is invalid without an item associated with it
2024-02-25T03:20:33.0260616Z       quantity >
2024-02-25T03:20:33.0353153Z         is not nil
2024-02-25T03:20:33.0444262Z         is not a negative number
2024-02-25T03:20:33.0537134Z         is an integer
2024-02-25T03:20:33.0537619Z       value >
2024-02-25T03:20:33.0627725Z         requires a value
2024-02-25T03:20:33.0628241Z     scopes >
2024-02-25T03:20:33.0740686Z       ->by_value returns the barcode with that value
2024-02-25T03:20:33.2595172Z       ->for_csv_export will accept an organization and provide all barcodes for that org
2024-02-25T03:20:33.2809271Z       #by_item_partner_key returns barcodes that match the partner key
2024-02-25T03:20:33.2810464Z     when searching for a barcode where there is a global and local with the same value
2024-02-25T03:20:33.3109041Z       favors the local barcode
2024-02-25T03:20:33.3109646Z     filters >
2024-02-25T03:20:33.3308736Z       ->item_id shows only barcodes for a specific item_id
2024-02-25T03:20:33.3309219Z     to_h >
2024-02-25T03:20:33.3424133Z       emits a hash for a line_item
2024-02-25T03:20:33.3424732Z   Barcodes of BaseItems ('Global')
2024-02-25T03:20:33.3514049Z     updates a counter in BaseItem whenever it tracks a new barcode
2024-02-25T03:20:33.3514642Z     scopes >
2024-02-25T03:20:33.3516071Z       global
2024-02-25T03:20:33.3674567Z         includes all barcodes, for both base items and regular items
2024-02-25T03:20:33.3675366Z     filters >
2024-02-25T03:20:33.3786461Z       ->by_value returns the barcode with that value
2024-02-25T03:20:33.3939283Z       ->barcodeable_id shows only barcodes for a specific barcodeable_id
2024-02-25T03:20:33.4083504Z       #by_base_item_partner_key returns barcodes that match the partner key
2024-02-25T03:20:33.4084372Z     validations >
2024-02-25T03:20:33.4171798Z       enforces uniqueness in the global scope
2024-02-25T03:20:33.4250786Z       allows multiple barcodes to point at the same base item
2024-02-25T03:20:33.4325828Z       is valid with or without an organization
2024-02-25T03:20:33.4326493Z       value >
2024-02-25T03:20:33.4377102Z         requires a value
2024-02-25T03:20:33.4377611Z       quantity >
2024-02-25T03:20:33.4428679Z         is not a negative number
2024-02-25T03:20:33.4477384Z         is an integer
2024-02-25T03:20:33.4527734Z         is not nil
2024-02-25T03:20:33.4528186Z       item >
2024-02-25T03:20:33.4580100Z         is invalid without an item associated with it
2024-02-25T03:20:33.4580808Z   versioning
2024-02-25T03:20:33.4617013Z     is expected to be versioned
2024-02-25T03:20:33.4617822Z 
2024-02-25T03:20:33.4617988Z ItemCategory
2024-02-25T03:20:33.4619165Z   versioning
2024-02-25T03:20:33.4654688Z     is expected to be versioned
2024-02-25T03:20:33.4655225Z   validations
2024-02-25T03:20:33.4732712Z     is expected to validate that the length of :description is at most 250
2024-02-25T03:20:33.4930302Z     is expected to validate that :name is case-sensitively unique within the scope of :organization_id
2024-02-25T03:20:33.5017135Z     is expected to validate that :name cannot be empty/falsy
2024-02-25T03:20:33.5092328Z     is expected to validate that :organization cannot be empty/falsy
2024-02-25T03:20:33.5093177Z   assocations
2024-02-25T03:20:33.5140246Z     is expected to belong to organization required: true
2024-02-25T03:20:33.5199867Z     is expected to have and belong to many partner_groups
2024-02-25T03:20:33.5234656Z     is expected to have many items
2024-02-25T03:20:33.5235617Z 
2024-02-25T03:20:33.5236134Z View::Inventory
2024-02-25T03:20:33.5238067Z   #quantity_for
2024-02-25T03:20:33.5238770Z     with item id
2024-02-25T03:20:33.5239748Z       with storage location
2024-02-25T03:20:33.6094762Z         should return the quantity at that location
2024-02-25T03:20:33.6095483Z       with no storage location
2024-02-25T03:20:33.6929327Z         should return quantities across all storage locations
2024-02-25T03:20:33.6930317Z     with storage location but no item id
2024-02-25T03:20:33.7739181Z       should return all items at that location
2024-02-25T03:20:33.7739854Z   #storage_location_name
2024-02-25T03:20:33.8573024Z     should return the right name
2024-02-25T03:20:33.8573617Z   #items_for_location
2024-02-25T03:20:33.9407928Z     should return the right values
2024-02-25T03:20:33.9408611Z     with include_omitted_items
2024-02-25T03:20:34.0348556Z       should add items not in the storage location
2024-02-25T03:20:34.0352087Z   .total_inventory
2024-02-25T03:20:34.1238696Z     should return the total quantity
2024-02-25T03:20:34.1239329Z   .items_for_location
2024-02-25T03:20:34.2106814Z     should return the right values
2024-02-25T03:20:34.2107463Z     with include_omitted_items
2024-02-25T03:20:34.2943526Z       should add items not in the storage location
2024-02-25T03:20:34.2944218Z   #total_value_in_dollars
2024-02-25T03:20:34.3792152Z     should return total value across the given location
2024-02-25T03:20:34.3793194Z   #all_items
2024-02-25T03:20:34.4642847Z     should return all items across storage locations
2024-02-25T03:20:34.4643676Z   #storage_locations_for_item
2024-02-25T03:20:34.5479601Z     should return all relevant IDs
2024-02-25T03:20:34.5480262Z 
2024-02-25T03:20:34.5480596Z ApplicationController
2024-02-25T03:20:34.5481801Z   current_partner
2024-02-25T03:20:34.5482581Z     As a partner user
2024-02-25T03:20:34.6007789Z       should return the first partner role
2024-02-25T03:20:34.6008634Z       with a changed current role
2024-02-25T03:20:34.6517902Z         should return the first partner role
2024-02-25T03:20:34.6518560Z     As an org user
2024-02-25T03:20:34.6645921Z       should return nil
2024-02-25T03:20:34.6646571Z   dashboard_path_from_current_role
2024-02-25T03:20:34.6648640Z     As a user without super admin status
2024-02-25T03:20:34.6834868Z       links to the general dashboard
2024-02-25T03:20:34.6835640Z     As a super admin
2024-02-25T03:20:34.7029531Z       links to the admin dashboard
2024-02-25T03:20:34.7030196Z   current_organization
2024-02-25T03:20:34.7030918Z     As a partner user
2024-02-25T03:20:34.7181723Z       should return nil
2024-02-25T03:20:34.7182336Z     As an org user
2024-02-25T03:20:35.0678837Z       should return the first org role
2024-02-25T03:20:35.0679575Z       with a changed current role
2024-02-25T03:20:35.4223875Z         should return the first org role
2024-02-25T03:20:35.4225578Z 
2024-02-25T03:20:35.4225879Z DistributionUpdateService
2024-02-25T03:20:35.4226921Z   call
2024-02-25T03:20:35.5274783Z     replaces a big distribution with a smaller one, resulting in increased stored quantities
2024-02-25T03:20:35.5275881Z   resend_notification?
2024-02-25T03:20:35.6302745Z     changes any distribution content, resulting in resend_notification? = true
2024-02-25T03:20:35.7204918Z     changes the issue_date, resulting in resend_notification? = true
2024-02-25T03:20:35.8108899Z     changes the delivery_method, resulting in resend_notification? = true
2024-02-25T03:20:35.8109727Z 
2024-02-25T03:20:35.8110029Z DistributionItemizedBreakdownService
2024-02-25T03:20:35.8111127Z   #fetch
2024-02-25T03:20:36.1863718Z     should include the break down of items distributed with onhand data
2024-02-25T03:20:36.1864470Z   #fetch_csv
2024-02-25T03:20:36.5552993Z     should output the expected output but in CSV format
2024-02-25T03:20:36.5553602Z 
2024-02-25T03:20:36.5553765Z RequestMailer
2024-02-25T03:20:36.5554587Z   #request_cancel_partner_notification
2024-02-25T03:20:36.5716122Z     should be sent to the partner main email with the correct subject line
2024-02-25T03:20:36.5852642Z     renders the body with correct text with partner information
2024-02-25T03:20:36.5853443Z 
2024-02-25T03:20:36.5853840Z Partners::Profile
2024-02-25T03:20:36.5890943Z   must allow deleting served_areas
2024-02-25T03:20:36.5891781Z   request settings validation for profile
2024-02-25T03:20:36.5892905Z     at least one request type is set to true
2024-02-25T03:20:36.5966516Z       should be valid when enable_quantity_based_requests is true
2024-02-25T03:20:36.6036274Z       should be valid when enable_individual_requests is true
2024-02-25T03:20:36.6107351Z       should be valid when enable_child_based_requests is true
2024-02-25T03:20:36.6107931Z     no settings are set to true
2024-02-25T03:20:36.6157762Z       should not be valid
2024-02-25T03:20:36.6158286Z   versioning
2024-02-25T03:20:36.6191992Z     is expected to be versioned
2024-02-25T03:20:36.6192586Z   client share behaviour
2024-02-25T03:20:36.6193207Z     multiple
2024-02-25T03:20:36.6344336Z       sums the client shares
2024-02-25T03:20:36.6495047Z       is valid if client share sum is 100
2024-02-25T03:20:36.6495720Z     no served areas
2024-02-25T03:20:36.6543592Z       has 0 client share
2024-02-25T03:20:36.6544198Z   social media info validation for profile
2024-02-25T03:20:36.6545626Z     no social media presence and the checkbox isn't checked
2024-02-25T03:20:36.6640078Z       should be valid if media_information is not needed
2024-02-25T03:20:36.6694532Z       should not be valid
2024-02-25T03:20:36.6695215Z     no social media presence and the checkbox is checked
2024-02-25T03:20:36.6751505Z       should be valid
2024-02-25T03:20:36.6752388Z     has social media presence and the checkbox is unchecked
2024-02-25T03:20:36.6822693Z       with just facebook it should be valid
2024-02-25T03:20:36.6895098Z       with just a website it should be valid
2024-02-25T03:20:36.6962847Z       with every social media option it should be valid
2024-02-25T03:20:36.7032121Z       with just twitter it should be valid
2024-02-25T03:20:36.7101298Z       with just instagram it should be valid
2024-02-25T03:20:36.7102080Z   associations
2024-02-25T03:20:36.7144821Z     is expected to have a has_one_attached called proof_of_partner_status
2024-02-25T03:20:36.7180150Z     is expected to have many served_areas
2024-02-25T03:20:36.7217298Z     is expected to have a has_many_attached called documents
2024-02-25T03:20:36.7255889Z     is expected to have a has_one_attached called proof_of_form_990
2024-02-25T03:20:36.7256560Z 
2024-02-25T03:20:36.7256825Z Reports::AdultIncontinenceReportService
2024-02-25T03:20:36.7257438Z   #report
2024-02-25T03:20:36.9094499Z     should report zero values
2024-02-25T03:20:36.9095145Z     with values
2024-02-25T03:20:37.5162098Z       should handle null distribution quantity
2024-02-25T03:20:38.1313574Z       should report normal values
2024-02-25T03:20:38.1314109Z 
2024-02-25T03:20:38.1314343Z Reports::OtherProductsReportService
2024-02-25T03:20:38.1315079Z   #report
2024-02-25T03:20:38.3105911Z     should report zero values
2024-02-25T03:20:38.9210195Z     should report normal values
2024-02-25T03:20:39.0182064Z W, [2024-02-24T19:20:39.017924 #2289]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-02-25T03:20:39.0184259Z W, [2024-02-24T19:20:39.017975 #2289]  WARN -- : [knapsack_pro] Request failed due to:
2024-02-25T03:20:39.0186771Z W, [2024-02-24T19:20:39.017995 #2289]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-02-25T03:20:39.0189288Z W, [2024-02-24T19:20:39.018035 #2289]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-02-25T03:20:39.0193388Z 
2024-02-25T03:20:39.0194346Z Pending: (Failures listed here are expected and do not affect your suite's status)
2024-02-25T03:20:39.0195204Z 
2024-02-25T03:20:39.0196488Z   1) KitAllocation add some examples to (or delete) /home/runner/work/human-essentials/human-essentials/spec/models/kit_allocation_spec.rb
2024-02-25T03:20:39.0197872Z      # Not yet implemented
2024-02-25T03:20:39.0198410Z      # ./spec/models/kit_allocation_spec.rb:16
2024-02-25T03:20:39.0198843Z 
2024-02-25T03:20:39.0199958Z   2) Partners::RequestApprovalService#call when the partner is not yet waiting for approval and there is a profile error should return an error re agency_type
2024-02-25T03:20:39.0201587Z      # Temporarily skipped with xit
2024-02-25T03:20:39.0202050Z      # ./spec/services/partners/request_approval_service_spec.rb:28
2024-02-25T03:20:39.0202405Z 
2024-02-25T03:20:39.0202601Z Finished in 36.54 seconds (files took 8.13 seconds to load)
2024-02-25T03:20:39.0203062Z 503 examples, 0 failures, 2 pending
2024-02-25T03:20:39.0203294Z 
2024-02-25T03:20:39.0203403Z Randomized with seed 64337
2024-02-25T03:20:39.0203596Z 
2024-02-25T03:20:39.5014697Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3759 / 6429 LOC (58.47%) covered.
2024-02-25T03:20:39.9314463Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10685 LOC (0.36%) covered.
