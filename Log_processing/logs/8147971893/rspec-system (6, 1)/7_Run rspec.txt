2024-03-04T22:35:35.0478693Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-04T22:35:35.0479579Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-04T22:35:35.0507671Z shell: /usr/bin/bash -e {0}
2024-03-04T22:35:35.0508030Z env:
2024-03-04T22:35:35.0508367Z   POSTGRES_HOST: localhost
2024-03-04T22:35:35.0508807Z   DATABASE_HOST: localhost
2024-03-04T22:35:35.0509568Z   PG_USERNAME: postgres
2024-03-04T22:35:35.0509933Z   PG_PASSWORD: password
2024-03-04T22:35:35.0510371Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-04T22:35:35.0510796Z   POSTGRES_PORT: 5432
2024-03-04T22:35:35.0511140Z   PGHOST: localhost
2024-03-04T22:35:35.0511537Z   PGUSER: postgres
2024-03-04T22:35:35.0511889Z   RAILS_ENV: test
2024-03-04T22:35:35.0512209Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-04T22:35:35.0512710Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-04T22:35:35.0513128Z   KNAPSACK_PRO_CI_NODE_INDEX: 1
2024-03-04T22:35:35.0513560Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-04T22:35:35.0514182Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-04T22:35:35.0514798Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-04T22:35:35.0515508Z ##[endgroup]
2024-03-04T22:35:40.6195151Z W, [2024-03-04T22:35:40.619111 #2400]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-04T22:35:40.6197791Z W, [2024-03-04T22:35:40.619171 #2400]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-04T22:35:40.6202520Z W, [2024-03-04T22:35:40.619191 #2400]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-04T22:35:40.6207583Z W, [2024-03-04T22:35:40.619224 #2400]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-04T22:35:44.3340625Z W, [2024-03-04T22:35:44.333742 #2400]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-04T22:35:44.3342763Z W, [2024-03-04T22:35:44.333781 #2400]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-04T22:35:44.3346128Z W, [2024-03-04T22:35:44.333794 #2400]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-04T22:35:44.3350495Z W, [2024-03-04T22:35:44.333831 #2400]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-04T22:35:44.3400264Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/adjustments_requests_spec.rb" "spec/requests/admin/partners_requests_spec.rb" "spec/requests/barcode_items_requests_spec.rb" "spec/requests/donations_requests_spec.rb" "spec/requests/partners/children_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-03-04T22:35:52.6550828Z 
2024-03-04T22:35:52.6551789Z Randomized with seed 46530
2024-03-04T22:35:53.5983874Z 
2024-03-04T22:35:53.5984766Z /partners/profiles
2024-03-04T22:35:53.5987512Z   GET #edit
2024-03-04T22:35:53.7324084Z     does not have default radio button value when value is nil
2024-03-04T22:35:53.8249772Z     has "Yes" radio button value when value is true
2024-03-04T22:35:53.9103414Z     displays the partner
2024-03-04T22:35:53.9975956Z     has "No" radio button value when value is false
2024-03-04T22:35:53.9976862Z   PUT #update
2024-03-04T22:35:54.0714576Z     updates the partner and profile
2024-03-04T22:35:54.0716517Z     with no social media
2024-03-04T22:35:54.1793680Z       shows an error
2024-03-04T22:35:54.1794573Z     when updating an existing value to a blank value
2024-03-04T22:35:54.2302264Z       updates the partner profile attribute to a blank value
2024-03-04T22:35:54.2810215Z       does store N/A in the database
2024-03-04T22:35:54.3296994Z       does not update other partner profile attributes to blank
2024-03-04T22:35:54.3297817Z   GET #show
2024-03-04T22:35:54.4016542Z     shows correct values for yes/no buttons
2024-03-04T22:35:54.4519714Z     displays the partner
2024-03-04T22:35:54.4520305Z 
2024-03-04T22:35:54.4520669Z User account management
2024-03-04T22:35:54.4521627Z   when in staging
2024-03-04T22:35:55.6821842Z     should display staging warning
2024-03-04T22:35:56.1339001Z     should not allow the user to change staging credentials
2024-03-04T22:35:56.1339913Z   when not in staging
2024-03-04T22:35:57.0541410Z     should change the email
2024-03-04T22:35:57.8146357Z     should fail when the email is invalid
2024-03-04T22:35:58.6889760Z     should change an user name
2024-03-04T22:35:58.6890764Z 
2024-03-04T22:35:58.6891025Z /partners/children
2024-03-04T22:35:58.6892537Z   GET #index
2024-03-04T22:35:58.7814069Z     should render without any issues
2024-03-04T22:35:58.8310253Z     should export CSV
2024-03-04T22:35:58.8311785Z 
2024-03-04T22:35:58.8312151Z Managing requests
2024-03-04T22:35:58.8314535Z   creating a new quantity request
2024-03-04T22:35:58.8315450Z     GIVEN a partner user is permitted to make a request
2024-03-04T22:35:58.8316976Z       WHEN they create a request properly
2024-03-04T22:35:58.8318670Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-03-04T22:36:01.0882785Z           AND the partner_user can view the details of the created request in a seperate page
2024-03-04T22:36:01.0884327Z       WHEN they create a request with blank lines
2024-03-04T22:36:02.5848313Z         should be created without any issue
2024-03-04T22:36:02.5849524Z       WHEN they create a request completely empty request
2024-03-04T22:36:03.4839021Z         should show an error message with the instructions
2024-03-04T22:36:03.4839842Z       Select Input Tests
2024-03-04T22:36:03.4840447Z         WHEN they reach the page
2024-03-04T22:36:04.3589800Z           should show the proper items in the select box
2024-03-04T22:36:04.3590463Z           WHEN they create a request improperly
2024-03-04T22:36:05.6752717Z             should show the proper items in the select box
2024-03-04T22:36:05.6753736Z       WHEN they create a request with only a comment
2024-03-04T22:36:06.6120618Z         should be created without any issue
2024-03-04T22:36:06.6121571Z   creating a # individuals request
2024-03-04T22:36:06.6122857Z     GIVEN a partner user is permitted to make a request
2024-03-04T22:36:06.6125382Z       WHEN they create a request improperly by not inputting anything
2024-03-04T22:36:07.5167615Z         should show an error message with the instructions
2024-03-04T22:36:07.5168411Z       WHEN they create a request properly
2024-03-04T22:36:07.5169683Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-03-04T22:36:09.5809492Z           AND the partner_user can view the details of the created individuals request in a seperate page
2024-03-04T22:36:09.5810450Z       WHEN they create a request with blank lines
2024-03-04T22:36:10.9334506Z         should be created without any issue
2024-03-04T22:36:10.9335408Z       WHEN they create a request completely empty request
2024-03-04T22:36:11.8434232Z         should show an error message with the instructions
2024-03-04T22:36:11.8435300Z       WHEN they create a request with only a comment
2024-03-04T22:36:12.7827315Z         should be created without any issue
2024-03-04T22:36:12.7828228Z       Select Input Tests
2024-03-04T22:36:12.7829176Z         WHEN they reach the page
2024-03-04T22:36:13.6253914Z           should show the proper items in the select box
2024-03-04T22:36:13.6254864Z           WHEN they create a request improperly
2024-03-04T22:36:14.9424680Z             should show the proper items in the select box
2024-03-04T22:36:14.9426466Z 
2024-03-04T22:36:14.9426841Z Organization management
2024-03-04T22:36:14.9428078Z   while signed in as an organization admin
2024-03-04T22:36:19.5293843Z     can see 'Make user' button for admins
2024-03-04T22:36:20.0496115Z     can re-invite a user to an organization after 7 days
2024-03-04T22:36:21.0002720Z     can re-activate a user in the organization
2024-03-04T22:36:21.9495974Z     can deactivate a user in the organization
2024-03-04T22:36:22.9083778Z     can add a new user to an organization
2024-03-04T22:36:22.9084421Z     Viewing the organization
2024-03-04T22:36:23.4636715Z       can view organization details
2024-03-04T22:36:23.4637589Z     Editing the organization
2024-03-04T22:36:24.9068107Z       can select and deselect Required Partner Fields
2024-03-04T22:36:25.8786192Z       can select if the org shows year-to-date values on the distribution printout
2024-03-04T22:36:26.7096458Z       can set a default storage location on the organization
2024-03-04T22:36:27.6760364Z       can select if the org distributes essentials monthly
2024-03-04T22:36:28.5421442Z       can set a reminder and a deadline day
2024-03-04T22:36:29.7004681Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-03-04T22:36:30.6867538Z       can disable if the org does NOT use single step invite and approve partner process
2024-03-04T22:36:31.6433073Z       can enable if the org uses single step invite and approve partner process
2024-03-04T22:36:32.6048586Z       can select if the org repackages essentials
2024-03-04T22:36:33.4419265Z       can set the NDBN Member ID
2024-03-04T22:36:33.4420178Z   while signed in as a normal user
2024-03-04T22:36:33.9096555Z     cannot see 'Make user' button for admins
2024-03-04T22:36:34.3584235Z     can see summary details about the organization as a user
2024-03-04T22:36:34.3585140Z 
2024-03-04T22:36:34.3585549Z Adjustments
2024-03-04T22:36:34.3586790Z   while signed in
2024-03-04T22:36:34.3588086Z     POST #create
2024-03-04T22:36:34.3589193Z       with valid params
2024-03-04T22:36:34.4195906Z         creates a new Adjustment
2024-03-04T22:36:34.4533990Z         redirects to the #show after created adjustment
2024-03-04T22:36:34.4842512Z         assigns a user id from the current user
2024-03-04T22:36:34.5132193Z         assigns a newly created adjustment as @adjustment
2024-03-04T22:36:34.5133523Z       with invalid params
2024-03-04T22:36:34.5647844Z         re-renders the 'new' template
2024-03-04T22:36:34.6051805Z         assigns a newly created but unsaved adjustment as @adjustment
2024-03-04T22:36:34.6052768Z     GET #show
2024-03-04T22:36:34.6427043Z       is expected to be successful
2024-03-04T22:36:34.6428089Z     GET #new
2024-03-04T22:36:34.6803869Z       is successful
2024-03-04T22:36:34.6804773Z     GET #index
2024-03-04T22:36:34.6805323Z       csv
2024-03-04T22:36:34.7054741Z         is expected to be successful
2024-03-04T22:36:34.7056060Z       html
2024-03-04T22:36:34.7476926Z         is successful
2024-03-04T22:36:34.7478193Z         when filtering by date
2024-03-04T22:36:34.7479306Z           when date parameters are not supplied
2024-03-04T22:36:34.8119788Z             returns all objects
2024-03-04T22:36:34.8120885Z           when date parameters are supplied
2024-03-04T22:36:34.8671777Z             only returns the correct objects
2024-03-04T22:36:34.8673692Z 
2024-03-04T22:36:34.8674023Z StorageLocations
2024-03-04T22:36:34.8675715Z   While signed in
2024-03-04T22:36:34.8677260Z     PUT #deactivate
2024-03-04T22:36:34.8877362Z       discards
2024-03-04T22:36:34.8878089Z       with inventory
2024-03-04T22:36:34.9447173Z         does not discard
2024-03-04T22:36:34.9447812Z     GET #index
2024-03-04T22:36:34.9448809Z       csv
2024-03-04T22:36:35.0456076Z         includes headers followed by alphabetized item names
2024-03-04T22:36:35.0652418Z         succeeds
2024-03-04T22:36:35.0653428Z       html
2024-03-04T22:36:35.1064313Z         succeeds
2024-03-04T22:36:35.1065316Z         with inactive locations
2024-03-04T22:36:35.1487232Z           does not includes the inactive location
2024-03-04T22:36:35.1488074Z           with include_inactive_locations
2024-03-04T22:36:35.1900624Z             includes the inactive location
2024-03-04T22:36:35.1901721Z     Looking at a different organization
2024-03-04T22:36:35.3677837Z       redirects the user to the sign-in page for CRUD actions
2024-03-04T22:36:35.3678736Z     POST #import_csv
2024-03-04T22:36:35.3679275Z       csv file with wrong headers
2024-03-04T22:36:35.3825128Z         redirects
2024-03-04T22:36:35.3958505Z         presents a flash error message
2024-03-04T22:36:35.3959448Z       without a csv file
2024-03-04T22:36:35.4081232Z         presents a flash error message
2024-03-04T22:36:35.4199206Z         redirects to :index
2024-03-04T22:36:35.4199894Z       with a csv file
2024-03-04T22:36:35.4352959Z         presents a flash notice message
2024-03-04T22:36:35.4403822Z         invokes .import_csv
2024-03-04T22:36:35.4550253Z         redirects
2024-03-04T22:36:35.4551249Z     PUT #reactivate
2024-03-04T22:36:35.4715964Z       undiscards
2024-03-04T22:36:35.4716589Z     GET #edit
2024-03-04T22:36:35.8359042Z       returns http success
2024-03-04T22:36:35.8359770Z     GET #new
2024-03-04T22:36:35.8695043Z       returns http success
2024-03-04T22:36:35.8695627Z     GET #inventory
2024-03-04T22:36:35.8696707Z       without any overrides
2024-03-04T22:36:35.9217208Z         returns a collection that only includes items at the storage location
2024-03-04T22:36:35.9217944Z       when also including inactive items
2024-03-04T22:36:35.9834258Z         returns a collection that also includes items that have been deactivated
2024-03-04T22:36:35.9835498Z       when also including omitted items
2024-03-04T22:36:36.0301745Z         contains a collection of ducktyped entries that respond the same
2024-03-04T22:36:36.0774278Z         returns a collection that also includes all items, but with zeroed quantities
2024-03-04T22:36:36.0775525Z     GET #show
2024-03-04T22:36:36.0776280Z       csv
2024-03-04T22:36:36.1234498Z         should be successful
2024-03-04T22:36:36.1235292Z       html
2024-03-04T22:36:36.1877618Z         should return a correct response
2024-03-04T22:36:36.1878464Z         with version date set
2024-03-04T22:36:36.1879417Z           with a version found
2024-03-04T22:36:36.2660748Z             should show the version specified
2024-03-04T22:36:36.2661547Z           with no version found
2024-03-04T22:36:36.3373460Z             should show N/A
2024-03-04T22:36:36.3374389Z     GET #destroy
2024-03-04T22:36:36.3640173Z       redirects to #index
2024-03-04T22:36:36.3640952Z   While not signed in
2024-03-04T22:36:36.3703930Z     redirects the user to the sign-in page for CRUD actions
2024-03-04T22:36:36.3704572Z 
2024-03-04T22:36:36.3704847Z Kit management
2024-03-04T22:36:36.9453013Z   should not display inactive storage locations under allocations
2024-03-04T22:36:37.9693924Z   can create a new kit as a user with the proper quantity
2024-03-04T22:36:39.3746541Z   can allocate and deallocate quantity per storage location from kit index
2024-03-04T22:36:39.3748566Z   when there is not enough quantity of the items contained in the kit on-hand
2024-03-04T22:36:40.5030209Z     will not change quantity amounts when allocating
2024-03-04T22:36:40.5031021Z   when there is no kit quantity
2024-03-04T22:36:41.7052797Z     will not change quantity amounts when deallocating
2024-03-04T22:36:41.7053686Z 
2024-03-04T22:36:41.7053995Z Purchases
2024-03-04T22:36:41.7057557Z   while signed in as a normal user
2024-03-04T22:36:41.7058601Z     When visiting an existing purchase
2024-03-04T22:36:42.2161447Z       does not allow deletion of a purchase
2024-03-04T22:36:42.2162353Z     When visiting the index page
2024-03-04T22:36:42.2163118Z       When filtering on the index page
2024-03-04T22:36:43.1214790Z         User can filter the #index by storage location
2024-03-04T22:36:43.9846742Z         User can filter the #index by vendor
2024-03-04T22:36:43.9847916Z         behaves like Date Range Picker
2024-03-04T22:36:43.9849117Z           when choosing 'Last Month'
2024-03-04T22:36:44.9830190Z             shows only 2 of the records
2024-03-04T22:36:44.9831348Z           when choosing a date range that only includes the previous week
2024-03-04T22:36:45.9793320Z             shows only 1 record
2024-03-04T22:36:45.9794377Z           when choosing 'All Time'
2024-03-04T22:36:46.9768489Z             shows all the records
2024-03-04T22:36:46.9769511Z       In the middle of the year
2024-03-04T22:36:47.7673002Z         User can click to the new purchase form
2024-03-04T22:36:48.4951194Z         User sees purchased date column
2024-03-04T22:36:49.2469199Z         User sees total purchases value
2024-03-04T22:36:49.2470355Z     When creating a new purchase
2024-03-04T22:36:49.7258866Z       should not display inactive storage locations in dropdown
2024-03-04T22:36:49.7259562Z       via manual entry
2024-03-04T22:36:50.9247744Z         User can create vendor from purchase
2024-03-04T22:36:52.0890615Z         multiple line items for the same item type are accepted and combined on the backend
2024-03-04T22:36:52.9635818Z         User can create a purchase using dollars decimal amount
2024-03-04T22:36:54.0468822Z         User can create a purchase IN THE PAST
2024-03-04T22:36:55.0564817Z         Does not include inactive items in the line item fields
2024-03-04T22:36:55.0566051Z         when creating a purchase incorrectly
2024-03-04T22:36:56.0484883Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-03-04T22:36:56.8408912Z           should display failure with error messages
2024-03-04T22:36:56.8409909Z       via barcode entry
2024-03-04T22:36:58.0405276Z         a user can add items that do not yet have a barcode
2024-03-04T22:36:58.9373638Z         User scan same barcode 2 times
2024-03-04T22:36:59.6516845Z         a user can add items via scanning them in by barcode
2024-03-04T22:36:59.6517830Z       Editing purchase
2024-03-04T22:37:00.3329472Z         A user can see purchased_from value
2024-03-04T22:37:00.9519008Z         A user can view another organizations purchase
2024-03-04T22:37:00.9519991Z   while signed in as an organization admin
2024-03-04T22:37:01.8090748Z     allows deletion of a purchase
2024-03-04T22:37:01.8091293Z 
2024-03-04T22:37:01.8091558Z Vendor
2024-03-04T22:37:01.8093351Z   When a user views the index page
2024-03-04T22:37:02.2736450Z     should have the vendor names in alphabetical order
2024-03-04T22:37:02.2737251Z   When vendor have purchases associated with them already
2024-03-04T22:37:02.8305216Z     can have existing vendors show in the #index with some summary stats
2024-03-04T22:37:03.4073754Z     can have a single vendor show semi-detailed stats about purchases
2024-03-04T22:37:03.4074664Z   when editing an existing vendor
2024-03-04T22:37:04.2164765Z     does not update a vendor with empty attributes
2024-03-04T22:37:04.9930204Z     can update the contact info for a vendor as a user
2024-03-04T22:37:04.9930886Z   when creating a new vendor
2024-03-04T22:37:05.7188089Z     cannot add a new vendor instance with empty attributes
2024-03-04T22:37:06.5177015Z     can create a new vendor instance as a user
2024-03-04T22:37:06.5177853Z 
2024-03-04T22:37:06.5178271Z Admin Organization Management
2024-03-04T22:37:06.5180795Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-04T22:37:08.8069565Z     creates a new organization
2024-03-04T22:37:08.8070321Z   While signed in as an Administrative User (super admin)
2024-03-04T22:37:10.0943639Z     can view organization details
2024-03-04T22:37:12.0161132Z     creates a new organization
2024-03-04T22:37:13.1423887Z     filters by organizations by name in organizations index page
2024-03-04T22:37:13.1425046Z 
2024-03-04T22:37:13.1425460Z BarcodeItems
2024-03-04T22:37:13.1427070Z   While signed in
2024-03-04T22:37:13.1431916Z     GET #show
2024-03-04T22:37:13.1432829Z       with a normal barcode item
2024-03-04T22:37:13.2372733Z         returns http success
2024-03-04T22:37:13.2373444Z       with a global barcode item
2024-03-04T22:37:13.2703299Z         returns a 404
2024-03-04T22:37:13.2704373Z     Looking at a different organization
2024-03-04T22:37:13.4529408Z       redirects the user to the sign-in page for CRUD actions
2024-03-04T22:37:13.4530692Z     GET #new
2024-03-04T22:37:13.4898529Z       returns http success
2024-03-04T22:37:13.4899204Z     GET #index
2024-03-04T22:37:13.4899935Z       csv
2024-03-04T22:37:13.5141536Z         is expected to be successful
2024-03-04T22:37:13.5142189Z       html
2024-03-04T22:37:13.5577948Z         is expected to be successful
2024-03-04T22:37:13.5578801Z     DELETE #destroy
2024-03-04T22:37:13.5804393Z       disallows a non-superadmin to delete a global barcode
2024-03-04T22:37:13.7770584Z       disallows a user to delete someone else's barcode
2024-03-04T22:37:13.8078281Z       redirects to the index
2024-03-04T22:37:13.8079380Z     GET #find
2024-03-04T22:37:13.8079981Z       via ajax
2024-03-04T22:37:14.0155174Z         can find a barcode that's universally available
2024-03-04T22:37:14.2233101Z         can find a barcode that is scoped to just this organization
2024-03-04T22:37:14.2233985Z         when it's missing
2024-03-04T22:37:14.4295318Z           returns a 404
2024-03-04T22:37:14.4296105Z     GET #edit
2024-03-04T22:37:14.4297256Z       with a normal barcode item
2024-03-04T22:37:14.4716625Z         returns http success
2024-03-04T22:37:14.4717333Z       with a global barcode item
2024-03-04T22:37:14.5022349Z         returns a 404
2024-03-04T22:37:14.5023272Z 
2024-03-04T22:37:14.5023546Z Profiles
2024-03-04T22:37:14.5024617Z   GET #edit
2024-03-04T22:37:14.6037442Z     returns http success
2024-03-04T22:37:14.6037994Z   POST #update
2024-03-04T22:37:14.6039117Z     when updating an existing value to a blank value
2024-03-04T22:37:14.6494832Z       update partner
2024-03-04T22:37:14.6916811Z       should have blank values
2024-03-04T22:37:14.6917859Z     successful save
2024-03-04T22:37:14.7347946Z       update partner
2024-03-04T22:37:14.7841635Z       redirects to #show
2024-03-04T22:37:14.7842406Z 
2024-03-04T22:37:14.7842766Z Admin::Partners
2024-03-04T22:37:14.7844948Z   When logged in as a super admin
2024-03-04T22:37:14.7845374Z     GET #show
2024-03-04T22:37:14.8415530Z       returns http success
2024-03-04T22:37:14.8416328Z     GET #edit
2024-03-04T22:37:14.8973241Z       returns http success
2024-03-04T22:37:14.8974254Z     PUT #update
2024-03-04T22:37:14.8974677Z       successful save
2024-03-04T22:37:14.9347253Z         redirects
2024-03-04T22:37:14.9710789Z         updates partner
2024-03-04T22:37:14.9711374Z       unsuccessful save due to empty params
2024-03-04T22:37:15.0258065Z         renders #edit template with error message
2024-03-04T22:37:15.0259025Z     GET #index
2024-03-04T22:37:15.0575169Z       returns http success
2024-03-04T22:37:15.0578464Z 
2024-03-04T22:37:15.0578764Z Dashboard
2024-03-04T22:37:15.0580041Z   With a new essentials bank
2024-03-04T22:37:43.0692979Z     displays the getting started guide until the steps are completed
2024-03-04T22:37:43.0694619Z   With an existing essentials bank
2024-03-04T22:37:43.0695569Z     Manufacturer Donations
2024-03-04T22:37:43.6632874Z       has a link to create a new donation
2024-03-04T22:37:43.6635065Z       given 1 Manufacturer donating on 2022-03-03  (unless 'All Time'), 3 during 2022-03-04..2023-11-10, and 1 on 2023-11-11
2024-03-04T22:37:43.6636760Z         filtering to '' (March 4, 2022 - November 10, 2023)
2024-03-04T22:37:45.2638314Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-04T22:37:45.2640308Z       given 1 Manufacturer donating on 2024-02-26  (unless 'All Time'), 6 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T22:37:45.2641336Z         filtering to 'Last 7 Days'
2024-03-04T22:37:47.0910430Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-03-04T22:37:47.0912241Z       given 1 Manufacturer donating on 2024-03-02  (unless 'All Time'), 6 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T22:37:47.0913329Z         filtering to 'Yesterday'
2024-03-04T22:37:49.1292451Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-03-04T22:37:49.1294598Z       given 1 Manufacturer donating on 2024-02-03  (unless 'All Time'), 4 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T22:37:49.1295657Z         filtering to 'Last 30 Days'
2024-03-04T22:37:50.8738333Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-03-04T22:37:50.8740327Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 9 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T22:37:50.8741659Z         filtering to 'This Year'
2024-03-04T22:37:53.2205103Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-04T22:37:53.2207120Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T22:37:53.2208729Z         filtering to 'Last Month'
2024-03-04T22:37:54.8999866Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-03-04T22:37:54.9001416Z       given 1 Manufacturer donating on 2024-03-03  (unless 'All Time'), 5 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T22:37:54.9002334Z         filtering to 'Today'
2024-03-04T22:37:56.7724789Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-03-04T22:37:56.7726913Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 1 during 2000-01-01..2024-03-04, and 1 on 2024-03-05
2024-03-04T22:37:56.7728283Z         filtering to 'All Time'
2024-03-04T22:37:58.2259641Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-03-04T22:37:58.2261271Z       given 1 Manufacturer donating on 2024-02-29  (unless 'All Time'), 1 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T22:37:58.2262325Z         filtering to 'This Month'
2024-03-04T22:37:59.6369204Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-03-04T22:37:59.6372244Z     Inventory Totals
2024-03-04T22:37:59.6373141Z       Summary
2024-03-04T22:38:00.3444070Z         displays the on-hand totals
2024-03-04T22:38:00.3444731Z         when constrained to date range
2024-03-04T22:38:01.4469481Z           does not change
2024-03-04T22:38:01.4475334Z     Purchases
2024-03-04T22:38:02.4288076Z       has a link to create a new purchase
2024-03-04T22:38:02.4289977Z       given 1 Purchase on 2024-02-26  (unless 'All Time'), 3 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T22:38:02.4291267Z         filtering to 'Last 7 Days'
2024-03-04T22:38:03.8448024Z           shows correct 3 Recent Purchase link(s)
2024-03-04T22:38:03.8450068Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T22:38:03.8452064Z         filtering to 'Last Month'
2024-03-04T22:38:05.2136219Z           shows correct 1 Recent Purchase link(s)
2024-03-04T22:38:05.2138778Z       given 1 Purchase on 2024-03-03  (unless 'All Time'), 1 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T22:38:05.2140279Z         filtering to 'Today'
2024-03-04T22:38:06.5793528Z           shows correct 1 Recent Purchase link(s)
2024-03-04T22:38:06.5795438Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T22:38:06.5796813Z         filtering to 'This Year'
2024-03-04T22:38:07.9794127Z           shows correct 3 Recent Purchase link(s)
2024-03-04T22:38:07.9795915Z       given 1 Purchase on 2024-02-29  (unless 'All Time'), 1 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T22:38:07.9797366Z         filtering to 'This Month'
2024-03-04T22:38:09.3835033Z           shows correct 1 Recent Purchase link(s)
2024-03-04T22:38:09.3836732Z       given 1 Purchase on 2024-03-02  (unless 'All Time'), 4 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T22:38:09.3837817Z         filtering to 'Yesterday'
2024-03-04T22:38:10.8646164Z           shows correct 3 Recent Purchase link(s)
2024-03-04T22:38:10.8648053Z       given 1 Purchase on 2022-03-03  (unless 'All Time'), 3 during 2022-03-04..2023-10-18, and 1 on 2023-10-19
2024-03-04T22:38:10.8649408Z         filtering to '' (March 4, 2022 - October 18, 2023)
2024-03-04T22:38:12.3171540Z           shows correct 3 Recent Purchase link(s)
2024-03-04T22:38:12.3174791Z       given 1 Purchase on 2024-02-03  (unless 'All Time'), 1 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T22:38:12.3176042Z         filtering to 'Last 30 Days'
2024-03-04T22:38:13.7191700Z           shows correct 1 Recent Purchase link(s)
2024-03-04T22:38:13.7192999Z     Distributions
2024-03-04T22:38:14.7275010Z       has a link to create a new distribution
2024-03-04T22:38:14.7276829Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T22:38:14.7278148Z         filtering to 'This Year'
2024-03-04T22:38:16.1822708Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-04T22:38:16.1824332Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 2 during 2000-01-01..2024-03-04, and 1 on 2024-03-05
2024-03-04T22:38:16.1825215Z         filtering to 'All Time'
2024-03-04T22:38:17.5566742Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-04T22:38:17.5568354Z       given 1 Distribution on 2024-02-03  (unless 'All Time'), 1 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T22:38:17.5569239Z         filtering to 'Last 30 Days'
2024-03-04T22:38:18.9607198Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-04T22:38:18.9609019Z       given 1 Distribution on 2024-03-02  (unless 'All Time'), 2 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T22:38:18.9610216Z         filtering to 'Yesterday'
2024-03-04T22:38:20.3513169Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-04T22:38:20.3515290Z       given 1 Distribution on 2024-03-03  (unless 'All Time'), 1 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T22:38:20.3516299Z         filtering to 'Today'
2024-03-04T22:38:21.7670209Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-04T22:38:21.7672064Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T22:38:21.7673105Z         filtering to 'Last Month'
2024-03-04T22:38:23.2129195Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-04T22:38:23.2130862Z       given 1 Distribution on 2024-02-29  (unless 'All Time'), 0 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T22:38:23.2131812Z         filtering to 'This Month'
2024-03-04T22:38:26.6800034Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-04T22:38:26.6802481Z       given 1 Distribution on 2024-02-26  (unless 'All Time'), 4 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T22:38:26.6803615Z         filtering to 'Last 7 Days'
2024-03-04T22:38:28.1600745Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-04T22:38:28.1602398Z       given 1 Distribution on 2022-03-03  (unless 'All Time'), 3 during 2022-03-04..2023-12-27, and 1 on 2023-12-28
2024-03-04T22:38:28.1603502Z         filtering to '' (March 4, 2022 - December 27, 2023)
2024-03-04T22:38:29.5825663Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-04T22:38:29.5826703Z     Donations
2024-03-04T22:38:30.4982062Z       has a link to create a new donation
2024-03-04T22:38:30.4983915Z       given 1 Donation on 2024-02-03 (only if a valid date), 1 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T22:38:30.4985038Z         filtering to 'Last 30 Days'
2024-03-04T22:38:31.8729986Z           shows the correct total and 1 Recent Donation link(s)
2024-03-04T22:38:31.8731823Z       given 1 Donation on 2024-02-26 (only if a valid date), 0 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T22:38:31.8732728Z         filtering to 'Last 7 Days'
2024-03-04T22:38:35.2666221Z           shows the correct total and 0 Recent Donation link(s)
2024-03-04T22:38:35.2668138Z       given 1 Donation on 2022-03-03 (only if a valid date), 4 during 2022-03-04..2023-11-08, and 1 on 2023-11-09
2024-03-04T22:38:35.2670122Z         filtering to '' (March 4, 2022 - November 8, 2023)
2024-03-04T22:38:36.8133428Z           shows the correct total and 3 Recent Donation link(s)
2024-03-04T22:38:36.8135358Z       given 1 Donation on 2024-01-31 (only if a valid date), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T22:38:36.8136865Z         filtering to 'Last Month'
2024-03-04T22:38:38.3330203Z           shows the correct total and 3 Recent Donation link(s)
2024-03-04T22:38:38.3332225Z       given 1 Donation on 2024-02-29 (only if a valid date), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T22:38:38.3333547Z         filtering to 'This Month'
2024-03-04T22:38:39.7947124Z           shows the correct total and 2 Recent Donation link(s)
2024-03-04T22:38:39.7949298Z       given 1 Donation on 2024-03-02 (only if a valid date), 4 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T22:38:39.7950682Z         filtering to 'Yesterday'
2024-03-04T22:38:41.3286517Z           shows the correct total and 3 Recent Donation link(s)
2024-03-04T22:38:41.3288272Z       given 1 Donation on 2024-03-03 (only if a valid date), 0 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T22:38:41.3289469Z         filtering to 'Today'
2024-03-04T22:38:44.7111410Z           shows the correct total and 0 Recent Donation link(s)
2024-03-04T22:38:44.7113253Z       given 1 Donation on 2023-12-31 (only if a valid date), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T22:38:44.7114221Z         filtering to 'This Year'
2024-03-04T22:38:46.1329567Z           shows the correct total and 2 Recent Donation link(s)
2024-03-04T22:38:46.1330418Z     Signage
2024-03-04T22:38:49.0291872Z       shows their organization name unless they have a logo set
2024-03-04T22:38:49.0292620Z     Product Drives
2024-03-04T22:38:49.6169460Z       has a widget for product drive summary data
2024-03-04T22:38:49.6171012Z       given 1 Product Drive Donation on 2024-02-29 (unless 'All Time'), 3 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-04T22:38:49.6172050Z         filtering to 'This Month'
2024-03-04T22:38:51.0491622Z           shows the correct total money raised
2024-03-04T22:38:52.5126212Z           shows 3 Recent Donation link(s)
2024-03-04T22:38:53.9859181Z           shows the correct total donations
2024-03-04T22:38:53.9861233Z       given 1 Product Drive Donation on 2022-03-03 (unless 'All Time'), 4 during 2022-03-04..2023-09-21, and 1 on 2023-09-22
2024-03-04T22:38:53.9862791Z         filtering to '' (March 4, 2022 - September 21, 2023)
2024-03-04T22:38:55.4916033Z           shows the correct total donations
2024-03-04T22:38:57.0203885Z           shows 3 Recent Donation link(s)
2024-03-04T22:38:58.4857417Z           shows the correct total money raised
2024-03-04T22:38:58.4859224Z       given 1 Product Drive Donation on 2024-03-03 (unless 'All Time'), 3 during 2024-03-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T22:38:58.4860584Z         filtering to 'Today'
2024-03-04T22:38:59.9178609Z           shows the correct total donations
2024-03-04T22:39:01.3593360Z           shows the correct total money raised
2024-03-04T22:39:02.8046891Z           shows 3 Recent Donation link(s)
2024-03-04T22:39:02.8048973Z       given 1 Product Drive Donation on 2024-02-03 (unless 'All Time'), 3 during 2024-02-04..2024-03-04, and 1 on 2024-03-05
2024-03-04T22:39:02.8050443Z         filtering to 'Last 30 Days'
2024-03-04T22:39:04.2186677Z           shows the correct total donations
2024-03-04T22:39:05.6328852Z           shows the correct total money raised
2024-03-04T22:39:07.0578667Z           shows 3 Recent Donation link(s)
2024-03-04T22:39:07.0580464Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 4 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-04T22:39:07.0581911Z         filtering to 'This Year'
2024-03-04T22:39:08.5031614Z           shows 3 Recent Donation link(s)
2024-03-04T22:39:09.9625536Z           shows the correct total money raised
2024-03-04T22:39:11.4017648Z           shows the correct total donations
2024-03-04T22:39:11.4018469Z       Product drive behaviour with Mixed Donation types
2024-03-04T22:39:12.0677263Z         only counts product drive donations for product drive
2024-03-04T22:39:12.8021914Z         only counts product drive money raised
2024-03-04T22:39:13.5909145Z         only shows product drive donations as product drive donations
2024-03-04T22:39:13.5910538Z       given 1 Product Drive Donation on 2024-03-02 (unless 'All Time'), 3 during 2024-03-03..2024-03-03, and 1 on 2024-03-04
2024-03-04T22:39:13.5911421Z         filtering to 'Yesterday'
2024-03-04T22:39:15.0792407Z           shows the correct total donations
2024-03-04T22:39:16.5558819Z           shows 3 Recent Donation link(s)
2024-03-04T22:39:18.0088759Z           shows the correct total money raised
2024-03-04T22:39:18.0090376Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-04T22:39:18.0091603Z         filtering to 'Last Month'
2024-03-04T22:39:19.4023272Z           shows the correct total money raised
2024-03-04T22:39:20.7781287Z           shows 1 Recent Donation link(s)
2024-03-04T22:39:22.1790031Z           shows the correct total donations
2024-03-04T22:39:22.1791476Z       given 1 Product Drive Donation on 2024-02-26 (unless 'All Time'), 2 during 2024-02-27..2024-03-04, and 1 on 2024-03-05
2024-03-04T22:39:22.1792434Z         filtering to 'Last 7 Days'
2024-03-04T22:39:23.6042670Z           shows 2 Recent Donation link(s)
2024-03-04T22:39:24.9977380Z           shows the correct total donations
2024-03-04T22:39:26.3582846Z           shows the correct total money raised
2024-03-04T22:39:26.3584929Z 
2024-03-04T22:39:26.3586875Z Donations
2024-03-04T22:39:26.3587291Z   while signed in
2024-03-04T22:39:26.3587819Z     GET #edit
2024-03-04T22:39:26.3589755Z       when an finalized audit has been performed on the donated items
2024-03-04T22:39:26.4946258Z         shows a warning
2024-03-04T22:39:26.4946878Z     when no audit has been performed
2024-03-04T22:39:26.5898033Z       doesn't show a warning
2024-03-04T22:39:26.5898983Z     when an non-finalized audit has been performed on the donated items
2024-03-04T22:39:26.7213323Z       does not shows a warning
2024-03-04T22:39:26.7214024Z     GET #index
2024-03-04T22:39:26.7214788Z       csv
2024-03-04T22:39:26.7512605Z         is expected to be successful
2024-03-04T22:39:26.7513199Z       html
2024-03-04T22:39:26.7941924Z         is expected to be successful
2024-03-04T22:39:26.8353362Z         should have the columns source and details
2024-03-04T22:39:26.8354504Z         when given a product drive
2024-03-04T22:39:26.8854356Z           should display Product Drive and the name of the drive
2024-03-04T22:39:26.8855546Z         when given a manufacturer
2024-03-04T22:39:26.9355468Z           should display Manufacturer and the manufacturer name
2024-03-04T22:39:26.9356256Z         when given a donation site
2024-03-04T22:39:26.9854338Z           should display Donation Site and the name of the site
2024-03-04T22:39:26.9855308Z         when given a misc donation
2024-03-04T22:39:27.0315532Z           should display Misc Donation and a truncated comment
2024-03-04T22:39:27.0421852Z W, [2024-03-04T14:39:27.041938 #2455]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-04T22:39:27.0423101Z W, [2024-03-04T14:39:27.041987 #2455]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-04T22:39:27.0425001Z W, [2024-03-04T14:39:27.042006 #2455]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-04T22:39:27.0428069Z W, [2024-03-04T14:39:27.042034 #2455]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-04T22:39:27.0429494Z 
2024-03-04T22:39:27.0429918Z Finished in 3 minutes 34.4 seconds (files took 8.08 seconds to load)
2024-03-04T22:39:27.0430770Z 233 examples, 0 failures
2024-03-04T22:39:27.0431097Z 
2024-03-04T22:39:27.0431280Z Randomized with seed 46530
2024-03-04T22:39:27.0431604Z 
2024-03-04T22:39:27.3362064Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3868 / 6475 LOC (59.74%) covered.
2024-03-04T22:39:27.8462571Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10762 LOC (0.35%) covered.
