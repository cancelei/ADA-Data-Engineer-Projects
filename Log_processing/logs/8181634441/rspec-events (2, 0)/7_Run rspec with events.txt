2024-03-07T01:46:03.4441622Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-07T01:46:03.4442616Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-07T01:46:03.4492767Z shell: /usr/bin/bash -e {0}
2024-03-07T01:46:03.4493187Z env:
2024-03-07T01:46:03.4493469Z   POSTGRES_HOST: localhost
2024-03-07T01:46:03.4493989Z   DATABASE_HOST: localhost
2024-03-07T01:46:03.4494407Z   PG_USERNAME: postgres
2024-03-07T01:46:03.4495078Z   PG_PASSWORD: password
2024-03-07T01:46:03.4495506Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-07T01:46:03.4495927Z   POSTGRES_PORT: 5432
2024-03-07T01:46:03.4496360Z   PGHOST: localhost
2024-03-07T01:46:03.4496710Z   PGUSER: postgres
2024-03-07T01:46:03.4497068Z   RAILS_ENV: test
2024-03-07T01:46:03.4497743Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: ***
2024-03-07T01:46:03.4498229Z   KNAPSACK_PRO_CI_NODE_TOTAL: 2
2024-03-07T01:46:03.4498643Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-03-07T01:46:03.4499204Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-07T01:46:03.4499775Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-07T01:46:03.4500485Z   KNAPSACK_PRO_TEST_FILE_EXCLUDE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-07T01:46:03.4501375Z   EVENTS_READ: true
2024-03-07T01:46:03.4501724Z ##[endgroup]
2024-03-07T01:46:14.0370219Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/models/organization_spec.rb" "spec/models/partner_spec.rb" "spec/models/audit_spec.rb" "spec/services/transfer_destroy_service_spec.rb" "spec/services/distribution_destroy_service_spec.rb" "spec/services/partner_create_service_spec.rb" "spec/models/storage_location_spec.rb" "spec/services/add_role_service_spec.rb" "spec/services/reports/warehouse_report_service_spec.rb" "spec/services/reports/summary_report_service_spec.rb" "spec/models/view/inventory_spec.rb" "spec/services/remove_role_service_spec.rb" "spec/models/transfer_spec.rb" "spec/models/adjustment_spec.rb" "spec/services/distribution_create_service_spec.rb" "spec/jobs/partner_mailer_job_spec.rb" "spec/services/reports/other_products_report_service_spec.rb" "spec/services/exports/export_distributions_csv_service_spec.rb" "spec/services/user_invite_service_spec.rb" "spec/models/purchase_spec.rb" "spec/services/adjustment_create_service_spec.rb" "spec/controllers/distributions_controller_spec.rb" "spec/models/account_request_spec.rb" "spec/models/event_spec.rb" "spec/models/product_drive_participant_spec.rb" "spec/services/exports/export_request_service_spec.rb" "spec/services/donation_itemized_breakdown_service_spec.rb" "spec/jobs/historical_data_cache_job_spec.rb" "spec/services/distributions_by_county_report_service_spec.rb" "spec/services/historical_trend_service_spec.rb" "spec/models/line_item_spec.rb" "spec/models/vendor_spec.rb" "spec/models/partners/family_spec.rb" "spec/queries/items_out_query_spec.rb" "spec/models/donation_site_spec.rb" "spec/services/partners/family_request_create_service_spec.rb" "spec/services/partner_profile_update_service_spec.rb" "spec/services/distribution_reminder_spec.rb" "spec/mailers/user_mailer_spec.rb" "spec/pdfs/distribution_pdf_spec.rb" "spec/queries/items_out_total_query_spec.rb" "spec/services/exports/export_donations_csv_service_spec.rb" "spec/services/partner_invite_service_spec.rb" "spec/services/request_destroy_service_spec.rb" "spec/mailers/requests_confirmation_mailer_spec.rb" "spec/models/partner_group_spec.rb" "spec/models/item_category_spec.rb" "spec/models/users_role_spec.rb" "spec/services/sync_ndbn_members_spec.rb" "spec/models/partners/served_area_spec.rb" "spec/services/requests_total_items_service_spec.rb" "spec/models/base_item_spec.rb" "spec/models/request_spec.rb" "spec/services/deadline_service_spec.rb" "spec/mailers/request_mailer_spec.rb" "spec/models/ndbn_member_spec.rb" "spec/models/partners/child_item_request_spec.rb" "spec/jobs/reminder_deadline_job_spec.rb" "spec/services/donation_create_service_spec.rb" "spec/models/concerns/deadlinable_spec.rb" "spec/models/county_spec.rb" "spec/helpers/ui_helper_spec.rb" "spec/routing/account_requests_routing_spec.rb" "spec/services/service_object_errors_mixin_spec.rb" "spec/controllers/admins_controller_spec.rb"
2024-03-07T01:46:22.8751457Z 
2024-03-07T01:46:22.8752748Z Randomized with seed 43342
2024-03-07T01:46:23.6905679Z 
2024-03-07T01:46:23.6906732Z Partners::Family
2024-03-07T01:46:23.6908438Z   #search_non_archived
2024-03-07T01:46:23.8127143Z     should return non-archived families if zero is passed in
2024-03-07T01:46:23.9004447Z     should return all families if one is passed in
2024-03-07T01:46:23.9005283Z   versioning
2024-03-07T01:46:23.9043017Z     is expected to be versioned
2024-03-07T01:46:23.9043954Z   #guardian_display_name
2024-03-07T01:46:23.9104651Z     should return the guardian's first and last name
2024-03-07T01:46:23.9105895Z   #total_children_count
2024-03-07T01:46:23.9157448Z     should return the family's total children count
2024-03-07T01:46:23.9158317Z   validations
2024-03-07T01:46:23.9244747Z     is expected to validate that :guardian_first_name cannot be empty/falsy
2024-03-07T01:46:23.9319931Z     is expected to validate that :guardian_last_name cannot be empty/falsy
2024-03-07T01:46:23.9395228Z     is expected to validate that :guardian_zip_code cannot be empty/falsy
2024-03-07T01:46:23.9396278Z   associations
2024-03-07T01:46:23.9437687Z     is expected to belong to partner required: true
2024-03-07T01:46:23.9473265Z     is expected to have many authorized_family_members dependent => destroy
2024-03-07T01:46:23.9528060Z     is expected to have many children dependent => destroy
2024-03-07T01:46:23.9528718Z   #create_authorized
2024-03-07T01:46:23.9820345Z     should include authorized family members
2024-03-07T01:46:23.9820974Z 
2024-03-07T01:46:23.9821230Z Event
2024-03-07T01:46:23.9822033Z   #most_recent_snapshot
2024-03-07T01:46:24.2391428Z     should not include an unusable snapshot
2024-03-07T01:46:24.4715303Z     should include the last usable snapshot
2024-03-07T01:46:24.4716133Z 
2024-03-07T01:46:24.4716362Z Audit
2024-03-07T01:46:24.4717600Z   Validations >
2024-03-07T01:46:24.5059568Z     must belong to an organization
2024-03-07T01:46:24.5377847Z     must belong to an organization admin of its organization
2024-03-07T01:46:24.6153568Z     can have line items that has quantity as a positive integer
2024-03-07T01:46:24.6726416Z     cannot have duplicate line items
2024-03-07T01:46:24.7290025Z     can have line items that has quantity as zero
2024-03-07T01:46:24.7836288Z     can not have line items that has quantity as a string that cannot be reduced to an integer
2024-03-07T01:46:24.8389593Z     can not have line items that has quantity as negative integer
2024-03-07T01:46:24.8390558Z   Methods >
2024-03-07T01:46:25.1847272Z     `self.finalized_since?` returns true iff some finalized audit occurred after itemizable created_at that shares item for location(s)
2024-03-07T01:46:25.4140830Z     `self.storage_locations_audited_for` returns only storage_locations that are used for one org
2024-03-07T01:46:25.4142196Z   Scopes >
2024-03-07T01:46:25.4582970Z     `at_location` can filter out audits to a specific location
2024-03-07T01:46:25.4584227Z   behaves like itemizable
2024-03-07T01:46:25.4584714Z     .line_items
2024-03-07T01:46:25.4585388Z       quantities_by_name
2024-03-07T01:46:25.5409937Z         leaves out zero-quantitied items if requested
2024-03-07T01:46:25.6212648Z         returns a hash of items with id, name, and quantity
2024-03-07T01:46:25.6213504Z       sorted
2024-03-07T01:46:25.7324194Z         displays the items, sorted by name
2024-03-07T01:46:25.7325186Z       combine!
2024-03-07T01:46:25.7686633Z         incrementally combines line_items on donations that have already been created
2024-03-07T01:46:25.8242976Z         combines multiple line_items with the same item_id into a single record
2024-03-07T01:46:25.8244209Z       total
2024-03-07T01:46:25.9063300Z         has an item total
2024-03-07T01:46:25.9064037Z     .to_a
2024-03-07T01:46:25.9064990Z       with Flipper flag :deprecate_to_a disabled
2024-03-07T01:46:25.9551508Z         calls line_item_values
2024-03-07T01:46:25.9552347Z       with Flipper flag :deprecate_to_a enabled
2024-03-07T01:46:26.0047282Z         raises an error
2024-03-07T01:46:26.0048141Z   versioning
2024-03-07T01:46:26.0084003Z     is expected to be versioned
2024-03-07T01:46:26.0084736Z 
2024-03-07T01:46:26.0085180Z ProductDriveParticipant
2024-03-07T01:46:26.0086689Z   behaves like provideable
2024-03-07T01:46:26.0087911Z     Validations
2024-03-07T01:46:26.0188058Z       is invalid without an organization
2024-03-07T01:46:26.0246506Z       is invalid unless it has either a contact name or a business name
2024-03-07T01:46:26.0247760Z     geocode
2024-03-07T01:46:26.0306685Z       adds coordinates to the database
2024-03-07T01:46:26.0308015Z     import_csv
2024-03-07T01:46:26.2223331Z       imports from a csv file
2024-03-07T01:46:26.2224390Z   Methods
2024-03-07T01:46:26.2224937Z     volume_by_product_drive
2024-03-07T01:46:26.3806316Z       retrieves the amount of product that has been donated through specific product drive
2024-03-07T01:46:26.3807310Z     volume
2024-03-07T01:46:26.4466711Z       retrieves the amount of product that has been donated by participant
2024-03-07T01:46:26.4467515Z     donation_source_view
2024-03-07T01:46:26.4468275Z       contact name present
2024-03-07T01:46:26.4527462Z         is expected to eq "Contact Name (participant)"
2024-03-07T01:46:26.4528248Z       no contact name
2024-03-07T01:46:26.4583272Z         is expected to be nil
2024-03-07T01:46:26.4584062Z   Validations
2024-03-07T01:46:26.4644489Z     is invalid unless it has either a phone number or an email
2024-03-07T01:46:26.4678545Z     is invalid without an organization
2024-03-07T01:46:26.4679369Z   versioning
2024-03-07T01:46:26.4715009Z     is expected to be versioned
2024-03-07T01:46:26.4715690Z 
2024-03-07T01:46:26.4716121Z BaseItem
2024-03-07T01:46:26.4717567Z   Filtering >
2024-03-07T01:46:26.4718784Z     ->without_kit
2024-03-07T01:46:26.4771414Z       should not include the Kit BaseItem
2024-03-07T01:46:26.4772496Z     ->by_partner_key
2024-03-07T01:46:26.4823836Z       shows the Base Items by partner_key
2024-03-07T01:46:26.4824654Z   Validations >
2024-03-07T01:46:26.4895871Z     is invalid without a uniqueness key
2024-03-07T01:46:26.4941032Z     is invalid without a name
2024-03-07T01:46:26.4985878Z     is invalid without a partner key
2024-03-07T01:46:26.5053992Z     is invalid without a unique name
2024-03-07T01:46:26.5055102Z   Associations >
2024-03-07T01:46:26.5183198Z     keeps count of its associated items
2024-03-07T01:46:26.5184244Z   versioning
2024-03-07T01:46:26.5221425Z     is expected to be versioned
2024-03-07T01:46:26.5222121Z 
2024-03-07T01:46:26.5223574Z DistributionDestroyService
2024-03-07T01:46:26.5224104Z   #call
2024-03-07T01:46:26.5224747Z     when the distribution_id matches no Distribution
2024-03-07T01:46:26.5279804Z       to not be a success
2024-03-07T01:46:26.5280758Z     when the distribution_id does match a Distribution
2024-03-07T01:46:26.5281541Z       and the increase inventory operations fails
2024-03-07T01:46:26.7366097Z         should not delete the Distribution
2024-03-07T01:46:26.9412668Z         should not be successful and have the error message
2024-03-07T01:46:26.9413466Z       and the operations succeed
2024-03-07T01:46:27.1472124Z         should be successful
2024-03-07T01:46:27.3557546Z         should increase the inventory of the storage location
2024-03-07T01:46:27.5556973Z         should destroy the Distribution
2024-03-07T01:46:27.5558186Z       and the destroy! operation fails
2024-03-07T01:46:27.7565004Z         should not delete the Distribution
2024-03-07T01:46:27.9672471Z         should not be successful and have the error message
2024-03-07T01:46:27.9673436Z 
2024-03-07T01:46:27.9673738Z View::Inventory
2024-03-07T01:46:27.9675808Z   .total_inventory
2024-03-07T01:46:28.0534938Z     should return the total quantity
2024-03-07T01:46:28.0536140Z   #storage_location_name
2024-03-07T01:46:28.1423883Z     should return the right name
2024-03-07T01:46:28.1424937Z   #all_items
2024-03-07T01:46:28.2296507Z     should return all items across storage locations
2024-03-07T01:46:28.2297500Z   #total_value_in_dollars
2024-03-07T01:46:28.3181026Z     should return total value across the given location
2024-03-07T01:46:28.3181797Z   #storage_locations_for_item
2024-03-07T01:46:28.4032083Z     should return all relevant IDs
2024-03-07T01:46:28.4032967Z   #quantity_for
2024-03-07T01:46:28.4033605Z     with storage location but no item id
2024-03-07T01:46:28.4886658Z       should return all items at that location
2024-03-07T01:46:28.4887380Z     with item id
2024-03-07T01:46:28.4888268Z       with storage location
2024-03-07T01:46:28.5769642Z         should return the quantity at that location
2024-03-07T01:46:28.5770732Z       with no storage location
2024-03-07T01:46:28.6660187Z         should return quantities across all storage locations
2024-03-07T01:46:28.6661154Z   .items_for_location
2024-03-07T01:46:28.7520345Z     should return the right values
2024-03-07T01:46:28.7521229Z     with include_omitted_items
2024-03-07T01:46:28.8399108Z       should add items not in the storage location
2024-03-07T01:46:28.8400324Z   #items_for_location
2024-03-07T01:46:28.9268922Z     should return the right values
2024-03-07T01:46:28.9269704Z     with include_omitted_items
2024-03-07T01:46:29.0135967Z       should add items not in the storage location
2024-03-07T01:46:29.0136641Z 
2024-03-07T01:46:29.0136922Z RequestMailer
2024-03-07T01:46:29.0137864Z   #request_cancel_partner_notification
2024-03-07T01:46:29.0390203Z     renders the body with correct text with partner information
2024-03-07T01:46:29.0521752Z     should be sent to the partner main email with the correct subject line
2024-03-07T01:46:29.0522682Z 
2024-03-07T01:46:29.0523141Z ItemCategory
2024-03-07T01:46:29.0523970Z   validations
2024-03-07T01:46:29.0652787Z     is expected to validate that :organization cannot be empty/falsy
2024-03-07T01:46:29.0722176Z     is expected to validate that the length of :description is at most 250
2024-03-07T01:46:29.0915007Z     is expected to validate that :name is case-sensitively unique within the scope of :organization_id
2024-03-07T01:46:29.0997587Z     is expected to validate that :name cannot be empty/falsy
2024-03-07T01:46:29.0998284Z   assocations
2024-03-07T01:46:29.1045426Z     is expected to belong to organization required: true
2024-03-07T01:46:29.1106688Z     is expected to have and belong to many partner_groups
2024-03-07T01:46:29.1141572Z     is expected to have many items
2024-03-07T01:46:29.1142489Z   versioning
2024-03-07T01:46:29.1177369Z     is expected to be versioned
2024-03-07T01:46:29.1178116Z 
2024-03-07T01:46:29.1178358Z RequestDestroyService
2024-03-07T01:46:29.1179277Z   #call
2024-03-07T01:46:29.1332830Z     should return an instance of itself
2024-03-07T01:46:29.1333801Z     when the request is already discarded
2024-03-07T01:46:29.1437736Z       should not be successful and have errors
2024-03-07T01:46:29.1438626Z     when there are no validation errors
2024-03-07T01:46:29.1568110Z       should update the status column on the request
2024-03-07T01:46:29.1681352Z       should send a email notification to the partner
2024-03-07T01:46:29.1804295Z       should update the discarded_at column on the request
2024-03-07T01:46:29.1805530Z     when the request_id matches no request
2024-03-07T01:46:29.1842951Z       should not be successful and have errors indicating request id is invalid
2024-03-07T01:46:29.1844369Z     when the request's partner is deactivated
2024-03-07T01:46:29.2107476Z       should have errors
2024-03-07T01:46:29.2108070Z 
2024-03-07T01:46:29.2108396Z Exports::ExportRequestService
2024-03-07T01:46:29.2109510Z   .generate_csv_data
2024-03-07T01:46:29.4173597Z     includes rows for each request with correct columns of item quantity
2024-03-07T01:46:29.6275150Z     includes headers as the first row with ordered item names alphabetically with deleted item included at the end
2024-03-07T01:46:29.6276109Z 
2024-03-07T01:46:29.6276246Z County
2024-03-07T01:46:29.6376977Z   is expected to have many served_areas
2024-03-07T01:46:29.6377951Z   versioning
2024-03-07T01:46:29.6414856Z     is expected to be versioned
2024-03-07T01:46:29.6415340Z 
2024-03-07T01:46:29.6415627Z HistoricalDataCacheJob
2024-03-07T01:46:29.8142926Z   queues the job
2024-03-07T01:46:30.0028879Z   caches the historical data
2024-03-07T01:46:30.0029443Z 
2024-03-07T01:46:30.0030022Z DistributionPdf
2024-03-07T01:46:30.0653806Z   #non_request_data
2024-03-07T01:46:30.1337677Z   #request_data
2024-03-07T01:46:30.1338746Z 
2024-03-07T01:46:30.1338990Z Partner
2024-03-07T01:46:30.1341502Z   associations
2024-03-07T01:46:30.1407251Z     is expected to belong to organization required: true
2024-03-07T01:46:30.1440576Z     is expected to have many requests
2024-03-07T01:46:30.1479409Z     is expected to have many requestable_items through item_categories source => items
2024-03-07T01:46:30.1512197Z     is expected to have many requests
2024-03-07T01:46:30.1548333Z     is expected to have many children through families
2024-03-07T01:46:30.1581691Z     is expected to have many item_categories through partner_group
2024-03-07T01:46:30.1617406Z     is expected to have many families dependent => destroy
2024-03-07T01:46:30.1652842Z     is expected to have many users dependent => destroy
2024-03-07T01:46:30.1686289Z     is expected to have many distributions
2024-03-07T01:46:30.1739093Z     is expected to belong to partner_group optional: true
2024-03-07T01:46:30.1740081Z     primary_user
2024-03-07T01:46:30.2029600Z       should return the first user ever created for a partner
2024-03-07T01:46:30.2030553Z   #csv_export_attributes
2024-03-07T01:46:30.2302782Z     includes contact person information from parnerbase
2024-03-07T01:46:30.2303942Z   #approvable?
2024-03-07T01:46:30.2304609Z     when status is awaiting_review
2024-03-07T01:46:30.2348224Z       should return true
2024-03-07T01:46:30.2348948Z     when status is invited
2024-03-07T01:46:30.2392678Z       should return true
2024-03-07T01:46:30.2393632Z     when status is not invited or awaiting_review
2024-03-07T01:46:30.2481168Z       should return false
2024-03-07T01:46:30.2481862Z   Filters
2024-03-07T01:46:30.2482704Z     by_status
2024-03-07T01:46:30.2886233Z       yields partners with the provided status
2024-03-07T01:46:30.3268395Z       yields deactivated partner when deactivated status provided
2024-03-07T01:46:30.3269704Z   import_csv
2024-03-07T01:46:30.6341587Z     imports partners from a csv file with BOM encodings
2024-03-07T01:46:30.8437352Z     imports partners from a csv file and prevents multiple imports
2024-03-07T01:46:30.8438171Z   #impact_metrics
2024-03-07T01:46:30.8438845Z     when partner has related information
2024-03-07T01:46:30.8958199Z       is expected to eq {:children_served=>4, :families_served=>3, :family_zipcodes=>2, :family_zipcodes_list=>["45612-123", "45612-126"]}
2024-03-07T01:46:30.8959414Z     when partner don't have any related information
2024-03-07T01:46:30.9203118Z       is expected to eq {:children_served=>0, :families_served=>0, :family_zipcodes=>0, :family_zipcodes_list=>[]}
2024-03-07T01:46:30.9204089Z   #profile
2024-03-07T01:46:30.9440479Z     should return the associated Partners::Profile record
2024-03-07T01:46:30.9441351Z   #deactivated?
2024-03-07T01:46:30.9442151Z     when the status is 'deactivated'
2024-03-07T01:46:30.9484442Z       should return true
2024-03-07T01:46:30.9485304Z     when the status is not 'deactivated'
2024-03-07T01:46:30.9526931Z       should return false
2024-03-07T01:46:30.9527740Z   callbacks
2024-03-07T01:46:30.9740200Z     properly downcases email
2024-03-07T01:46:30.9741039Z   versioning
2024-03-07T01:46:30.9777141Z     is expected to be versioned
2024-03-07T01:46:30.9777872Z   #deletable?
2024-03-07T01:46:30.9778736Z     when status is uninvited
2024-03-07T01:46:30.9779710Z       when it has no other associations
2024-03-07T01:46:30.9988476Z         should return true
2024-03-07T01:46:30.9989398Z       when it has a distribution
2024-03-07T01:46:31.0144594Z         should return false
2024-03-07T01:46:31.0145275Z       when it has a profile and users
2024-03-07T01:46:31.0408039Z         should return false
2024-03-07T01:46:31.0408748Z       when it has a request
2024-03-07T01:46:31.0564781Z         should return false
2024-03-07T01:46:31.0565558Z       when it has a profile but no users
2024-03-07T01:46:31.0723658Z         should return true
2024-03-07T01:46:31.0724562Z     when status is not uninvited
2024-03-07T01:46:31.0806430Z       should return false
2024-03-07T01:46:31.0807154Z   changing emails
2024-03-07T01:46:31.1076811Z     should not call the UserInviteService.invite when the partner has status deactivated and the email is changed
2024-03-07T01:46:31.1343817Z     should call the UserInviteService.invite when the partner has status approved and the email is changed
2024-03-07T01:46:31.1609068Z     should call the UserInviteService.invite when the partner has status recertification_required and the email is changed
2024-03-07T01:46:31.1939978Z     should not call the UserInviteService.invite when the partner is changing email to previously used email
2024-03-07T01:46:31.2202850Z     should call the UserInviteService.invite when the partner has status awaiting_review and the email is changed
2024-03-07T01:46:31.2465595Z     should not call the UserInviteService.invite when the partner has status uninvited and the email is changed
2024-03-07T01:46:31.2732819Z     should call the UserInviteService.invite when the partner has status invited and the email is changed
2024-03-07T01:46:31.2734091Z   #quantity_year_to_date
2024-03-07T01:46:31.4555258Z     includes all item quantities from distributions issued during the current year
2024-03-07T01:46:31.6400183Z     does not include quantities from distributions issued during the previous year
2024-03-07T01:46:31.6401308Z   Validations >
2024-03-07T01:46:31.6672910Z     still requires a unique email between organizations
2024-03-07T01:46:31.6905126Z     does not require a unique name between organizations
2024-03-07T01:46:31.7205393Z     requires a unique email that is formatted correctly
2024-03-07T01:46:31.7258285Z     must belong to an organization
2024-03-07T01:46:31.7528429Z     requires a unique name within an organization
2024-03-07T01:46:31.7616080Z     validates the quota is a number but it is not required
2024-03-07T01:46:31.7617644Z   ActiveStorage validation
2024-03-07T01:46:31.7731915Z     validates that attachments are pdf or docs
2024-03-07T01:46:31.7732849Z 
2024-03-07T01:46:31.7733568Z LineItem
2024-03-07T01:46:31.7734527Z   versioning
2024-03-07T01:46:31.7772080Z     is expected to be versioned
2024-03-07T01:46:31.7773064Z   Methods >
2024-03-07T01:46:31.7773813Z     item packages
2024-03-07T01:46:31.7774513Z       #package_count
2024-03-07T01:46:31.7775559Z         has packages
2024-03-07T01:46:31.7961668Z           is expected to eq "1"
2024-03-07T01:46:31.7962500Z         does not have packages
2024-03-07T01:46:31.8086646Z           is expected to be falsy
2024-03-07T01:46:31.8088106Z       #has_packages
2024-03-07T01:46:31.8089379Z         item has package size
2024-03-07T01:46:31.8264251Z           is expected to be truthy
2024-03-07T01:46:31.8265628Z         item has no package size
2024-03-07T01:46:31.8390827Z           is expected to be falsy
2024-03-07T01:46:31.8392423Z     #value_per_line_item
2024-03-07T01:46:31.8393166Z       item has value and quantity
2024-03-07T01:46:31.8575261Z         is expected to eq 25
2024-03-07T01:46:31.8575862Z       item has no value
2024-03-07T01:46:31.8706477Z         is expected to eq 0
2024-03-07T01:46:31.8707409Z   Scopes >
2024-03-07T01:46:31.8708191Z     ->active
2024-03-07T01:46:31.9200456Z       retrieves only those with active status
2024-03-07T01:46:31.9201441Z   Validations >
2024-03-07T01:46:31.9353306Z     requires a quantity
2024-03-07T01:46:31.9448833Z     requires an item
2024-03-07T01:46:32.0384355Z     the quantity must be a valid integer and cannot be 0
2024-03-07T01:46:32.0385054Z   package_count
2024-03-07T01:46:32.0587171Z     is nil if there is no package_size
2024-03-07T01:46:32.0781978Z     is equal to the quanity divided by the package_size
2024-03-07T01:46:32.0782653Z 
2024-03-07T01:46:32.0782898Z Deadlinable
2024-03-07T01:46:32.0783568Z   validations
2024-03-07T01:46:32.0836344Z     validates that reminder day is not the same as deadline day
2024-03-07T01:46:32.0913011Z     is expected to validate that :deadline_day looks like an integer greater than or equal to 1 and less than or equal to 28 as long as it is not nil
2024-03-07T01:46:32.0982465Z     is expected to validate that :reminder_day looks like an integer greater than or equal to 1 and less than or equal to 28 as long as it is not nil
2024-03-07T01:46:32.0984364Z 
2024-03-07T01:46:32.0984732Z Reports::OtherProductsReportService
2024-03-07T01:46:32.0985875Z   #report
2024-03-07T01:46:32.7239374Z     should report normal values
2024-03-07T01:46:32.9131697Z     should report zero values
2024-03-07T01:46:32.9132540Z 
2024-03-07T01:46:32.9133086Z HistoricalTrendService
2024-03-07T01:46:32.9133966Z   #series
2024-03-07T01:46:33.2016969Z     returns an array of items with their monthly data
2024-03-07T01:46:33.2019493Z 
2024-03-07T01:46:33.2019944Z RequestsTotalItemsService
2024-03-07T01:46:33.2020968Z   #calculate
2024-03-07T01:46:33.2023466Z     when provided with requests that have no request items
2024-03-07T01:46:33.2112881Z       is expected to be blank
2024-03-07T01:46:33.2113623Z     when item name is nil
2024-03-07T01:46:33.2238182Z       return Unknown Item
2024-03-07T01:46:33.2238915Z     when the request items is not blank
2024-03-07T01:46:33.2380262Z       return items with correct quantities calculated
2024-03-07T01:46:33.2518226Z       return the names of items correctly
2024-03-07T01:46:33.2518867Z     when provided requests is nil
2024-03-07T01:46:33.2554513Z       is expected to be blank
2024-03-07T01:46:33.2555313Z 
2024-03-07T01:46:33.2555683Z DonationItemizedBreakdownService
2024-03-07T01:46:33.2556512Z   #fetch
2024-03-07T01:46:33.6529452Z     return the list of items donated with distributed
2024-03-07T01:46:33.6530249Z 
2024-03-07T01:46:33.6530611Z Reports::SummaryReportService
2024-03-07T01:46:33.6531693Z   #report
2024-03-07T01:46:33.8275743Z     should report zero values
2024-03-07T01:46:34.2963437Z     should report negative values
2024-03-07T01:46:34.7509597Z     should report positive values
2024-03-07T01:46:34.7510261Z 
2024-03-07T01:46:34.7510558Z Exports::ExportDonationsCSVService
2024-03-07T01:46:34.7511610Z   #generate_csv_data
2024-03-07T01:46:34.8711924Z     should match the expected content for the csv
2024-03-07T01:46:34.8714684Z 
2024-03-07T01:46:34.8715201Z StorageLocation
2024-03-07T01:46:34.8716546Z   Filtering >
2024-03-07T01:46:34.9456332Z     ->containing yields only inventories that have that item
2024-03-07T01:46:34.9548247Z     ->active_locations yields only storage locations that haven't been discarded
2024-03-07T01:46:34.9549351Z   versioning
2024-03-07T01:46:34.9584971Z     is expected to be versioned
2024-03-07T01:46:34.9585718Z   Validations >
2024-03-07T01:46:34.9650665Z     is expected to validate that :address cannot be empty/falsy
2024-03-07T01:46:34.9708830Z     is expected to validate that :organization cannot be empty/falsy
2024-03-07T01:46:34.9769153Z     is expected to validate that :name cannot be empty/falsy
2024-03-07T01:46:34.9770144Z   Methods >
2024-03-07T01:46:34.9771102Z     geocode
2024-03-07T01:46:34.9887629Z       adds coordinates to the database
2024-03-07T01:46:34.9888610Z     size
2024-03-07T01:46:35.0378156Z       returns total quantity of all items in this storage location
2024-03-07T01:46:35.1283819Z     StorageLocation.items_inventoried
2024-03-07T01:46:35.1285524Z       returns a collection of items that are stored within inventories
2024-03-07T01:46:35.1286529Z     csv_export_attributes
2024-03-07T01:46:35.2118691Z       returns an array of storage location attributes, followed by inventory item quantities that are sorted by alphabetized item names
2024-03-07T01:46:35.2119659Z     decrease_inventory
2024-03-07T01:46:35.3132285Z       decreases inventory quantities from an itemizable object
2024-03-07T01:46:35.3133317Z       when there is insufficient inventory available
2024-03-07T01:46:35.3218134Z         does not change inventory quantities if there is an error
2024-03-07T01:46:35.3301395Z         gives informative errors
2024-03-07T01:46:35.3302417Z     increase_inventory
2024-03-07T01:46:35.3303236Z       when providing a new item that does not yet exist
2024-03-07T01:46:35.4361925Z         creates those new inventory items in the storage location
2024-03-07T01:46:35.5516003Z       With existing inventory
2024-03-07T01:46:35.5516732Z         increases inventory quantities from an itemizable object
2024-03-07T01:46:35.5517389Z     import_csv
2024-03-07T01:46:35.5648748Z       imports storage locations from a csv file
2024-03-07T01:46:35.5650019Z     import_inventory
2024-03-07T01:46:35.8767411Z       imports storage locations from a csv file
2024-03-07T01:46:35.8768345Z     inventory_total_value_in_dollars
2024-03-07T01:46:35.8904942Z       returns 0 when there are no items in this storage location
2024-03-07T01:46:35.9387729Z       returns total value of all items in this storage location
2024-03-07T01:46:35.9788259Z       returns a value including cents if the total isn't an even dollar amount
2024-03-07T01:46:35.9788976Z     item_total
2024-03-07T01:46:36.0212512Z       retrieves the total for a single item
2024-03-07T01:46:36.0213671Z   Callbacks >
2024-03-07T01:46:36.0214217Z     before_destroy
2024-03-07T01:46:36.0846355Z       deletes storage locations with no inventory items on it
2024-03-07T01:46:36.1253446Z       does not delete storage locations with inventory items on it
2024-03-07T01:46:36.1254283Z 
2024-03-07T01:46:36.1254544Z Partners::ServedArea
2024-03-07T01:46:36.1331663Z   is expected to belong to partner_profile required: true
2024-03-07T01:46:36.1373805Z   is expected to belong to county required: true
2024-03-07T01:46:36.1531215Z   must only allow integer client shares
2024-03-07T01:46:36.1772491Z   must only allow valid client share values
2024-03-07T01:46:36.1773212Z   versioning
2024-03-07T01:46:36.1812036Z     is expected to be versioned
2024-03-07T01:46:36.1812562Z 
2024-03-07T01:46:36.1812870Z AccountRequestsController
2024-03-07T01:46:36.1813675Z   routing
2024-03-07T01:46:36.1857488Z     routes to #new
2024-03-07T01:46:36.1891517Z     routes to #create
2024-03-07T01:46:36.1891987Z 
2024-03-07T01:46:36.1892240Z ServiceObjectErrorsMixin
2024-03-07T01:46:36.1893294Z   self.included
2024-03-07T01:46:36.1931343Z     should add class methods to the class that include ServiceObjectErrorsMixin
2024-03-07T01:46:36.1932159Z 
2024-03-07T01:46:36.1932623Z ItemsOutTotalQuery
2024-03-07T01:46:36.1933291Z   items_out_total_query
2024-03-07T01:46:36.3054055Z     returns a sum total of all out-flows
2024-03-07T01:46:36.3055037Z 
2024-03-07T01:46:36.3055635Z DistributionReminder
2024-03-07T01:46:36.3056255Z   conditionally sending the emails
2024-03-07T01:46:36.3332037Z     does not send mail for past distributions
2024-03-07T01:46:36.3610410Z     sends mail for future distributions
2024-03-07T01:46:36.3879935Z     does not send mail for future distributions if the partner wants no reminders
2024-03-07T01:46:36.4152759Z     sends mail for future distributions where the partner wants reminders
2024-03-07T01:46:36.4154049Z     when the partner is deactivated
2024-03-07T01:46:36.4430666Z       does not send mail
2024-03-07T01:46:36.4431593Z     when the distribution_id does not match any Distribution
2024-03-07T01:46:36.4474324Z       does not send mail for non existent distributions
2024-03-07T01:46:36.4475011Z 
2024-03-07T01:46:36.4475311Z PartnerMailerJob
2024-03-07T01:46:36.4476416Z   conditionally sending the emails
2024-03-07T01:46:36.6448228Z     does not send mail for past distributions
2024-03-07T01:46:36.9624426Z     sends mail for future distributions immediately
2024-03-07T01:46:36.9626546Z     when the distribution is for a deactivated partner
2024-03-07T01:46:37.1688661Z       does not send the email
2024-03-07T01:46:37.1689331Z 
2024-03-07T01:46:37.1689697Z AdjustmentCreateService
2024-03-07T01:46:37.1690831Z   call
2024-03-07T01:46:37.2467343Z     saves a new adjustment with line items relating to the current (simple case) positive adjustment
2024-03-07T01:46:37.3362683Z     increases handles mixed adjustments to same appropriately (total is negative version)
2024-03-07T01:46:37.4199289Z     increases stored inventory on a positive adjustment
2024-03-07T01:46:37.4849378Z     does not allow inventory to be adjusted below 0
2024-03-07T01:46:37.5648474Z     saves a new adjustment with line items relating to the current (simple case) negative adjustment
2024-03-07T01:46:37.6482738Z     handles adjustments to multiple items
2024-03-07T01:46:37.7230819Z     gives an error if we attempt to adjust inventory below 0
2024-03-07T01:46:37.8699295Z     handles mixed adjustments to same item appropriately (total is positive version)
2024-03-07T01:46:37.9994586Z     decreases stored inventory on a negative adjustment
2024-03-07T01:46:37.9995255Z 
2024-03-07T01:46:37.9995504Z UiHelper
2024-03-07T01:46:37.9996864Z   optional_data_text
2024-03-07T01:46:37.9997688Z     when the field provided is not blank
2024-03-07T01:46:38.0104756Z       should return the content
2024-03-07T01:46:38.0105897Z     when the field provided is blank
2024-03-07T01:46:38.0194969Z       should return the text Not-Provided in gray text
2024-03-07T01:46:38.0195983Z 
2024-03-07T01:46:38.0196235Z Adjustment
2024-03-07T01:46:38.0197853Z   Methods >
2024-03-07T01:46:38.2696147Z     `self.storage_locations_adjusted_for` returns only storage_locations that are used in adjustments for one org
2024-03-07T01:46:38.2697499Z     split_difference
2024-03-07T01:46:38.3441336Z       gracefully handles adjustments with only positive
2024-03-07T01:46:38.4180038Z       returns two adjustment objects
2024-03-07T01:46:38.4953971Z       gracefully handles adjustments with only negative
2024-03-07T01:46:38.4954894Z   versioning
2024-03-07T01:46:38.4998127Z     is expected to be versioned
2024-03-07T01:46:38.4998816Z   Validations >
2024-03-07T01:46:38.5086739Z     must belong to an organization
2024-03-07T01:46:38.5508425Z     allows you to remove all the inventory that exists in the storage location
2024-03-07T01:46:38.5675978Z     allows you to add inventory that doesn't yet exist in the storage location
2024-03-07T01:46:38.5677537Z   behaves like itemizable
2024-03-07T01:46:38.5678291Z     .line_items
2024-03-07T01:46:38.5678811Z       sorted
2024-03-07T01:46:38.6252189Z         displays the items, sorted by name
2024-03-07T01:46:38.6253178Z       quantities_by_name
2024-03-07T01:46:38.6665446Z         leaves out zero-quantitied items if requested
2024-03-07T01:46:38.7053348Z         returns a hash of items with id, name, and quantity
2024-03-07T01:46:38.7054202Z       total
2024-03-07T01:46:38.7448334Z         has an item total
2024-03-07T01:46:38.7448836Z       combine!
2024-03-07T01:46:38.7927039Z         incrementally combines line_items on donations that have already been created
2024-03-07T01:46:38.8338582Z         combines multiple line_items with the same item_id into a single record
2024-03-07T01:46:38.8339399Z     .to_a
2024-03-07T01:46:38.8340457Z       with Flipper flag :deprecate_to_a enabled
2024-03-07T01:46:38.8687916Z         raises an error
2024-03-07T01:46:38.8688578Z       with Flipper flag :deprecate_to_a disabled
2024-03-07T01:46:38.9029416Z         calls line_item_values
2024-03-07T01:46:38.9030173Z   nested line item attributes
2024-03-07T01:46:38.9459917Z     accepts them
2024-03-07T01:46:38.9460730Z   Scopes >
2024-03-07T01:46:38.9637624Z     `at_location` can filter out adjustments to a specific location
2024-03-07T01:46:38.9799780Z     `by_user` can filter out adjustments to a specific user
2024-03-07T01:46:38.9802955Z 
2024-03-07T01:46:38.9803240Z Organization
2024-03-07T01:46:38.9806012Z   earliest reporting year
2024-03-07T01:46:39.1612828Z     is the organization created year if no associated data
2024-03-07T01:46:39.3926161Z     is the year of the earliest of donation, purchase, or distribution if they are earlier
2024-03-07T01:46:39.3927230Z   geocode
2024-03-07T01:46:39.5665368Z     adds coordinates to the database
2024-03-07T01:46:39.5666244Z   .seed_items
2024-03-07T01:46:39.5667082Z     when no organization is provided
2024-03-07T01:46:40.2127322Z       updates all organizations
2024-03-07T01:46:40.2128489Z     when provided with an organization to seed
2024-03-07T01:46:40.5338995Z       loads the base items into Item records
2024-03-07T01:46:40.5339712Z   valid_items
2024-03-07T01:46:40.7149475Z     only shows active valid items
2024-03-07T01:46:40.8868870Z     returns an array of item partner keys
2024-03-07T01:46:40.8869793Z     with invisible items
2024-03-07T01:46:40.9153516Z       only shows active and visible items
2024-03-07T01:46:40.9154844Z   address
2024-03-07T01:46:40.9189801Z     does not add any separators before the city when street is missing
2024-03-07T01:46:40.9224197Z     returns an empty string when the org has no address components
2024-03-07T01:46:40.9258630Z     does not add any separators after street when city, state, and zip are missing
2024-03-07T01:46:40.9291304Z     correctly formats an address string with commas and spaces
2024-03-07T01:46:40.9325556Z     does not add a trailing space when the zip code is missing
2024-03-07T01:46:40.9326570Z   #seed_items
2024-03-07T01:46:41.1276424Z     allows a single base item to be seeded
2024-03-07T01:46:41.3155323Z     allows a collection of items to be seeded
2024-03-07T01:46:41.3155978Z     when given an item that already exists
2024-03-07T01:46:41.5118389Z       gracefully skips the item
2024-03-07T01:46:41.5119848Z     when given an item name that already exists, but with an 'other' partner key
2024-03-07T01:46:41.7048538Z       updates the old item to use the new base item as its base
2024-03-07T01:46:41.7049549Z   validations
2024-03-07T01:46:41.7155249Z     validates that at least one distribution type is enabled
2024-03-07T01:46:41.7219410Z     validates that attachment file size is not higher than 1 MB
2024-03-07T01:46:41.9013771Z     validates that short names are unique
2024-03-07T01:46:41.9086933Z     validates that attachments are png or jpgs
2024-03-07T01:46:41.9088078Z   #assign_attributes_from_account_request
2024-03-07T01:46:41.9264213Z     should assign the proper attributes to the organization
2024-03-07T01:46:41.9265318Z   after_create
2024-03-07T01:46:41.9470069Z     should update the state of the account request
2024-03-07T01:46:41.9471162Z   is_active
2024-03-07T01:46:42.3092137Z     returns active organizations
2024-03-07T01:46:42.3093020Z   versioning
2024-03-07T01:46:42.3131275Z     is expected to be versioned
2024-03-07T01:46:42.3132136Z   total_inventory
2024-03-07T01:46:42.5580663Z     returns a sum total of all inventory at all storage locations
2024-03-07T01:46:42.7324925Z     returns 0 if there is nothing
2024-03-07T01:46:42.7325759Z   default storage location
2024-03-07T01:46:42.7363729Z     returns nil when not set
2024-03-07T01:46:42.7406347Z     associates the default storage location with a storage location
2024-03-07T01:46:42.7407501Z   deadline_day
2024-03-07T01:46:42.7507672Z     can only contain numbers 1-28
2024-03-07T01:46:42.7508434Z   #short_name
2024-03-07T01:46:42.7575293Z     can only contain valid characters
2024-03-07T01:46:42.7576073Z   from_email
2024-03-07T01:46:42.9552752Z     returns admin email when not present
2024-03-07T01:46:43.1482930Z     returns admin email when it's empty
2024-03-07T01:46:43.3276902Z     returns email when present
2024-03-07T01:46:43.5218102Z     returns admin email when it's empty space
2024-03-07T01:46:43.5218968Z   #ordered_requests
2024-03-07T01:46:43.7111285Z     puts active requests before fulfilled requests
2024-03-07T01:46:43.7112244Z     ordering of requests with matching status
2024-03-07T01:46:43.9013179Z       puts the most recently updated request before older requests
2024-03-07T01:46:43.9014159Z   reminder_day
2024-03-07T01:46:43.9178257Z     can only contain numbers 1-28
2024-03-07T01:46:43.9179205Z   Associations >
2024-03-07T01:46:43.9215224Z     is expected to have many users through roles
2024-03-07T01:46:43.9262230Z     is expected to belong to ndbn_member class_name => NDBNMember optional: true
2024-03-07T01:46:43.9298819Z     is expected to have many item_categories
2024-03-07T01:46:43.9299688Z     distributions
2024-03-07T01:46:43.9300278Z       upcoming
2024-03-07T01:46:44.0053952Z         retrieves the distributions scheduled for this week that have not yet happened
2024-03-07T01:46:44.0055349Z     users
2024-03-07T01:46:44.0056062Z       when a organizaton has a user that has two roles
2024-03-07T01:46:44.1974250Z         should returns users without duplications
2024-03-07T01:46:44.1975348Z     items
2024-03-07T01:46:44.1976517Z       .during.bottom
2024-03-07T01:46:46.1918692Z         return 3 least used items
2024-03-07T01:46:48.1921648Z         return just 3 elements
2024-03-07T01:46:48.1922456Z       .other
2024-03-07T01:46:50.1753437Z         returns all items for this organization designated 'other'
2024-03-07T01:46:50.1754425Z       .during.top
2024-03-07T01:46:52.1627294Z         return 3 most used items
2024-03-07T01:46:54.1544054Z         return just 3 elements
2024-03-07T01:46:54.1544925Z       .during
2024-03-07T01:46:56.1588930Z         return ranking of all items
2024-03-07T01:46:56.1596900Z 
2024-03-07T01:46:56.1597337Z NDBNMember
2024-03-07T01:46:56.1598682Z   validations
2024-03-07T01:46:56.1707816Z     is expected to validate that :ndbn_member_id cannot be empty/falsy
2024-03-07T01:46:56.1773866Z     is expected to validate that :account_name cannot be empty/falsy
2024-03-07T01:46:56.1848399Z     is expected to validate that :ndbn_member_id is case-sensitively unique
2024-03-07T01:46:56.1849629Z   versioning
2024-03-07T01:46:56.1884174Z     is expected to be versioned
2024-03-07T01:46:56.1885072Z   #full_name
2024-03-07T01:46:56.1921661Z     should equal the id and the account name
2024-03-07T01:46:56.1922221Z 
2024-03-07T01:46:56.1922683Z RequestsConfirmationMailer
2024-03-07T01:46:56.2242219Z   pairs the right quantities with the right item names
2024-03-07T01:46:56.2431590Z   handles duplicates
2024-03-07T01:46:56.2432558Z   #confirmation_email
2024-03-07T01:46:56.2620343Z     renders the body
2024-03-07T01:46:56.2752272Z     renders the headers
2024-03-07T01:46:56.2753051Z 
2024-03-07T01:46:56.2753361Z UserInviteService
2024-03-07T01:46:56.3835921Z   should invite a user with the partner role
2024-03-07T01:46:56.5784097Z   should create the user without a name with default role
2024-03-07T01:46:56.5784846Z   with a new user
2024-03-07T01:46:56.7747273Z     should create the user with roles
2024-03-07T01:46:56.8011935Z     should create the user without name with role
2024-03-07T01:46:56.8012620Z   with existing user
2024-03-07T01:46:56.8102285Z     should raise an error when reinviting an existing user with the same role
2024-03-07T01:46:57.0115240Z     should add roles to existing user
2024-03-07T01:46:57.0115924Z     with force: true
2024-03-07T01:46:57.0330068Z       should reinvite the user
2024-03-07T01:46:57.0330599Z 
2024-03-07T01:46:57.0330849Z Request
2024-03-07T01:46:57.0332472Z   item data
2024-03-07T01:46:57.0420086Z     coerces item quantity and id to always be an integer before saving
2024-03-07T01:46:57.0421085Z   Enums >
2024-03-07T01:46:57.0421574Z     #status
2024-03-07T01:46:57.0624223Z       scopes
2024-03-07T01:46:57.0624795Z   versioning
2024-03-07T01:46:57.0662070Z     is expected to be versioned
2024-03-07T01:46:57.0662632Z   total_items
2024-03-07T01:46:57.0761702Z     adds the quantity of all items in the request
2024-03-07T01:46:57.0762469Z 
2024-03-07T01:46:57.0762827Z Vendor
2024-03-07T01:46:57.0764086Z   Methods
2024-03-07T01:46:57.0764956Z     volume
2024-03-07T01:46:57.1483547Z       retrieves the amount of product that has been bought from this vendor
2024-03-07T01:46:57.1485164Z   behaves like provideable
2024-03-07T01:46:57.1485664Z     Validations
2024-03-07T01:46:57.1528666Z       is invalid without an organization
2024-03-07T01:46:57.1589197Z       is invalid unless it has either a contact name or a business name
2024-03-07T01:46:57.1590060Z     import_csv
2024-03-07T01:46:57.3447219Z       imports from a csv file
2024-03-07T01:46:57.3448376Z     geocode
2024-03-07T01:46:57.3510079Z       adds coordinates to the database
2024-03-07T01:46:57.3511107Z   versioning
2024-03-07T01:46:57.3546509Z     is expected to be versioned
2024-03-07T01:46:57.3547191Z 
2024-03-07T01:46:57.3547475Z ItemsOutQuery
2024-03-07T01:46:57.3548347Z   items_out_query
2024-03-07T01:46:57.4678704Z     includes distributions, adjustments, transfers among sources
2024-03-07T01:46:57.5836590Z     returns a collection with the fields name, item_id, quantity
2024-03-07T01:46:57.5837676Z 
2024-03-07T01:46:57.5837963Z PartnerCreateService
2024-03-07T01:46:57.5844924Z   #call
2024-03-07T01:46:57.7681086Z     should return an instance of itself
2024-03-07T01:46:57.7682025Z     when the arguments are valid
2024-03-07T01:46:57.9548215Z       should create a new partner record with the organization provided
2024-03-07T01:46:58.3164736Z       should create the associated partner profile data
2024-03-07T01:46:58.3165682Z       but there was an unexpected issue with saving the
2024-03-07T01:46:58.3166497Z         Partners::Profile record
2024-03-07T01:46:58.5009538Z           should not create the partner record for the organization
2024-03-07T01:46:58.6833588Z           should not create the associated partner records
2024-03-07T01:46:58.6834400Z         Partner record
2024-03-07T01:46:58.8686613Z           should not create the partner record for the organization
2024-03-07T01:46:59.0508800Z           should not create the associated partner records
2024-03-07T01:46:59.0509825Z     when the arguments are incorrect
2024-03-07T01:46:59.0510962Z       beacuse the partner_attrs are invalid
2024-03-07T01:46:59.2342491Z         should contain errors related to invalid partner attributes
2024-03-07T01:46:59.2343589Z 
2024-03-07T01:46:59.2343840Z DistributionsController
2024-03-07T01:46:59.2344652Z   While signed in
2024-03-07T01:46:59.2346087Z     PUT #update
2024-03-07T01:46:59.2347438Z       when distribution has items updated for minimum quantity
2024-03-07T01:46:59.3801122Z         redirects with a flash notice and send send_notification
2024-03-07T01:46:59.3802652Z       when distribution causes inventory quantity to be below minimum quantity
2024-03-07T01:46:59.4865542Z         redirects with a flash notice and a flash error
2024-03-07T01:46:59.4866758Z       when distribution causes inventory quantity to be below recommended quantity
2024-03-07T01:46:59.5920509Z         redirects with a flash notice and a flash error
2024-03-07T01:46:59.5921418Z     POST #create
2024-03-07T01:46:59.5922940Z       when line item quantity is not positive
2024-03-07T01:46:59.6444690Z         flashes an error
2024-03-07T01:46:59.6445775Z       multiple line_items that have inventory quantity below recommended quantity
2024-03-07T01:46:59.7383202Z         redirects with a flash notice and a flash alert
2024-03-07T01:46:59.7384387Z       multiple line_items that have inventory quantity below minimum quantity
2024-03-07T01:46:59.8259204Z         redirects with a flash notice and a flash error
2024-03-07T01:46:59.8261731Z       when distribution causes inventory quantity to be below minimum quantity
2024-03-07T01:46:59.8985472Z         redirects with a flash notice and a flash error
2024-03-07T01:46:59.8986161Z 
2024-03-07T01:46:59.8986838Z DistributionByCountyReportService
2024-03-07T01:46:59.8987621Z   get_breakdown
2024-03-07T01:46:59.9866425Z     divides the item numbers and values according to the partner profile
2024-03-07T01:47:00.0593245Z     will have 100% unspecified shows if no served_areas
2024-03-07T01:47:00.2501652Z     handles multiple partners with overlapping service areas properly
2024-03-07T01:47:00.2502846Z 
2024-03-07T01:47:00.2503138Z ReminderDeadlineJob
2024-03-07T01:47:00.2503778Z   #perform
2024-03-07T01:47:00.2744496Z     should queue up reminder deadline emails for all partners that should be reminded
2024-03-07T01:47:00.2745690Z 
2024-03-07T01:47:00.2745958Z DistributionCreateService
2024-03-07T01:47:00.2746636Z   call
2024-03-07T01:47:00.3463026Z     returns a successful object with Scheduled distribution
2024-03-07T01:47:00.4224118Z     replaces a big distribution with a smaller one, resulting in increased stored quantities
2024-03-07T01:47:00.4225403Z     when the line item quantity is not positive
2024-03-07T01:47:00.4736369Z       preserves the RecordInvalid error and is unsuccessful
2024-03-07T01:47:00.4737179Z     partner has send reminders setting set to false
2024-03-07T01:47:00.5494976Z       does not send a PartnerMailer
2024-03-07T01:47:00.5496458Z     partner has send reminders setting set to true
2024-03-07T01:47:00.7189016Z       Sends a PartnerMailer
2024-03-07T01:47:00.7190232Z     when provided with a request ID
2024-03-07T01:47:00.8043632Z       changes the status of the request
2024-03-07T01:47:00.8044677Z       and the request already has a distribution associated with it
2024-03-07T01:47:00.8795528Z         should not be successful
2024-03-07T01:47:00.8796351Z     partner is deactivated
2024-03-07T01:47:00.9577075Z       does not send an email
2024-03-07T01:47:00.9578124Z     when there's multiple line items and one has insufficient inventory
2024-03-07T01:47:01.0240798Z       preserves the Insufficiency error and is unsuccessful
2024-03-07T01:47:01.0242148Z     when there's not sufficient inventory
2024-03-07T01:47:01.0880643Z       preserves the Insufficiency error and is unsuccessful
2024-03-07T01:47:01.0881752Z     when it fails to save
2024-03-07T01:47:01.1417900Z       preserves the error and is unsuccessful
2024-03-07T01:47:01.1418592Z 
2024-03-07T01:47:01.1419372Z TransferDestroyService
2024-03-07T01:47:01.1419980Z   #call
2024-03-07T01:47:01.1421200Z     when an issue occurs in transaction
2024-03-07T01:47:01.1650902Z       because the transfer destroy raised an error
2024-03-07T01:47:01.3427177Z         should return a OpenStruct with the raised error
2024-03-07T01:47:01.3428346Z       because undoing the transfer inventory changes by increasing the inventory of `from` failed
2024-03-07T01:47:01.5299579Z         should return a OpenStruct with the raised error
2024-03-07T01:47:01.5300485Z       because the transfer_id does not match any Transfer
2024-03-07T01:47:01.7140024Z         should return a OpenStruct with an ActiveRecord::RecordNotFound error
2024-03-07T01:47:01.7141324Z       because undoing the transfer inventory changes by decreasing the inventory of `to` failed
2024-03-07T01:47:01.8972285Z         should return a OpenStruct with the raised error
2024-03-07T01:47:01.8973102Z     when there are no issues
2024-03-07T01:47:02.1008634Z       should execute the expected methods
2024-03-07T01:47:02.3059336Z       should return an OpenStruct with success? set to true
2024-03-07T01:47:02.3060210Z     because transfer should not be deleted
2024-03-07T01:47:02.4999613Z       should return an OpenStruct with the raised error
2024-03-07T01:47:02.5000350Z 
2024-03-07T01:47:02.5000561Z PartnerGroup
2024-03-07T01:47:02.5002214Z   versioning
2024-03-07T01:47:02.5092312Z     is expected to be versioned
2024-03-07T01:47:02.5093015Z   Validations >
2024-03-07T01:47:02.5334026Z     does not require a unique name between organizations
2024-03-07T01:47:02.5385234Z     must belong to an organization
2024-03-07T01:47:02.5480846Z     requires a unique name within an organization
2024-03-07T01:47:02.5482093Z     deadline_day && reminder_day must be defined if send_reminders=true
2024-03-07T01:47:02.5531211Z       should not be valid
2024-03-07T01:47:02.5531939Z   DB constraints
2024-03-07T01:47:02.5533078Z     send_reminders IS NOT NULL
2024-03-07T01:47:02.5602993Z       raises error if unmet
2024-03-07T01:47:02.5603572Z     deadline_day <= 28
2024-03-07T01:47:02.5672886Z       raises error if unmet
2024-03-07T01:47:02.5673451Z     reminder_day <= 28
2024-03-07T01:47:02.5744302Z       raises error if unmet
2024-03-07T01:47:02.5744845Z   associations
2024-03-07T01:47:02.5798624Z     is expected to belong to organization required: true
2024-03-07T01:47:02.5836148Z     is expected to have many partners
2024-03-07T01:47:02.5897083Z     is expected to have and belong to many item_categories
2024-03-07T01:47:02.5897962Z 
2024-03-07T01:47:02.5898216Z SyncNDBNMembers
2024-03-07T01:47:02.5901053Z   .sync
2024-03-07T01:47:02.5902421Z     when the HTTP request is successful
2024-03-07T01:47:02.5903467Z       when no new NDBN Member has been added
2024-03-07T01:47:02.6229776Z         should not add any new NDBN Members
2024-03-07T01:47:02.6230583Z       when the account name of a NDBN Member has changed
2024-03-07T01:47:02.6358573Z         should update the account name of the corresponding NDBN Member
2024-03-07T01:47:02.6359567Z       when there are no exisiting NDBN Member records
2024-03-07T01:47:02.6453860Z         should create the NDBN Member records
2024-03-07T01:47:02.6454889Z     when the HTTP request does not get a response of 200
2024-03-07T01:47:02.6498114Z       should raise an error regarding the response code
2024-03-07T01:47:02.6499018Z 
2024-03-07T01:47:02.6499212Z DeadlineService
2024-03-07T01:47:02.6500650Z   #next_deadline
2024-03-07T01:47:02.6501395Z     do from the partner group
2024-03-07T01:47:02.6502471Z       when the deadline is today
2024-03-07T01:47:02.6567022Z         returns a date in the next month
2024-03-07T01:47:02.6567681Z       when the deadline is after today
2024-03-07T01:47:02.6622391Z         returns a date within the current month
2024-03-07T01:47:02.6623261Z       when the deadline is before today
2024-03-07T01:47:02.6677328Z         returns a date in the next month
2024-03-07T01:47:02.6678031Z     from the organization
2024-03-07T01:47:02.6678954Z       when the deadline is before today
2024-03-07T01:47:02.6732452Z         returns a date in the next month
2024-03-07T01:47:02.6733292Z       when the deadline is after today
2024-03-07T01:47:02.6789154Z         returns a date within the current month
2024-03-07T01:47:02.6789985Z       when the deadline is today
2024-03-07T01:47:02.6843393Z         returns a date in the next month
2024-03-07T01:47:02.6844307Z 
2024-03-07T01:47:02.6844534Z UsersRole
2024-03-07T01:47:02.6845888Z   versioning
2024-03-07T01:47:02.6890176Z     is expected to be versioned
2024-03-07T01:47:02.6890860Z   #current_role_for
2024-03-07T01:47:02.6891508Z     for super admin
2024-03-07T01:47:02.7058919Z       should return super admin
2024-03-07T01:47:02.7059647Z     for partner user
2024-03-07T01:47:02.7191345Z       should return partner user
2024-03-07T01:47:02.7193972Z     for org admin
2024-03-07T01:47:02.7395778Z       should return org admin
2024-03-07T01:47:02.7396355Z     for org user
2024-03-07T01:47:02.7525480Z       should return org user
2024-03-07T01:47:02.7527312Z 
2024-03-07T01:47:02.7527628Z AccountRequest
2024-03-07T01:47:02.7665669Z   #confirm!
2024-03-07T01:47:02.7798897Z   #reject!
2024-03-07T01:47:02.7799867Z   associations
2024-03-07T01:47:02.7838783Z     is expected to have one organization class_name => Organization
2024-03-07T01:47:02.7899315Z     is expected to belong to ndbn_member class_name => NDBNMember optional: true
2024-03-07T01:47:02.7900070Z   #processed?
2024-03-07T01:47:02.7900571Z     when the account request has no associated organization
2024-03-07T01:47:02.7997929Z       should return false
2024-03-07T01:47:02.7998629Z     when the account request has a associated organization
2024-03-07T01:47:02.9860282Z       should return true
2024-03-07T01:47:02.9860848Z   #identity_token
2024-03-07T01:47:02.9953804Z     should return a JWT token that contains the id of the account_request_id
2024-03-07T01:47:02.9954578Z     when the account_request is not persisted
2024-03-07T01:47:03.0041981Z       should raise an error
2024-03-07T01:47:03.0042539Z   .get_by_identity_token
2024-03-07T01:47:03.0043855Z     when the identity_token corresponds to an existing AccountRequest
2024-03-07T01:47:03.0136698Z       should return the corresponding AccountRequest
2024-03-07T01:47:03.0137464Z     when the identity_token provided does not match any AccountRequest
2024-03-07T01:47:03.0173013Z       should return nil
2024-03-07T01:47:03.0173632Z   versioning
2024-03-07T01:47:03.0210249Z     is expected to be versioned
2024-03-07T01:47:03.0210710Z   validations
2024-03-07T01:47:03.0352525Z     is expected to validate that :name cannot be empty/falsy
2024-03-07T01:47:03.0470895Z     is expected to validate that :request_details cannot be empty/falsy
2024-03-07T01:47:03.0591453Z     is expected to validate that the length of :request_details is at least 50
2024-03-07T01:47:03.0821172Z     is expected to validate that :email is case-sensitively unique
2024-03-07T01:47:03.0986650Z     is expected to validate that :email cannot be empty/falsy
2024-03-07T01:47:03.1096262Z     is expected not to allow :email to be ‹"not_email"›
2024-03-07T01:47:03.1201581Z     is expected to allow :email to be ‹"mohammed@auer.test"›
2024-03-07T01:47:03.1202568Z     when the email provided is already used by an existing user
2024-03-07T01:47:03.1408308Z       should not allow the email
2024-03-07T01:47:03.1409078Z     when the email provided is already used by an existing organization
2024-03-07T01:47:03.3222187Z       should not allow the email
2024-03-07T01:47:03.3222767Z 
2024-03-07T01:47:03.3223071Z Reports::WarehouseReportService
2024-03-07T01:47:03.3224229Z   #report
2024-03-07T01:47:03.5025010Z     should print zero values
2024-03-07T01:47:03.6850784Z     should print unknown square footage
2024-03-07T01:47:04.0339871Z     should print normal values
2024-03-07T01:47:04.3861786Z     should print unknown warehouse type
2024-03-07T01:47:04.3862384Z 
2024-03-07T01:47:04.3862624Z Partners::ChildItemRequest
2024-03-07T01:47:04.3864175Z   #ordered_item_diaperid
2024-03-07T01:47:04.3995521Z     should return the item_id on the item_request
2024-03-07T01:47:04.3996116Z   associations
2024-03-07T01:47:04.4040695Z     is expected to belong to authorized_family_member optional: true
2024-03-07T01:47:04.4082635Z     is expected to belong to item_request required: true
2024-03-07T01:47:04.4122986Z     is expected to belong to child required: true
2024-03-07T01:47:04.4123498Z   #quantity
2024-03-07T01:47:04.4164533Z     should return the quantity divided by the number of children
2024-03-07T01:47:04.4165094Z   versioning
2024-03-07T01:47:04.4199821Z     is expected to be versioned
2024-03-07T01:47:04.4200415Z 
2024-03-07T01:47:04.4200623Z DonationCreateService
2024-03-07T01:47:04.4201597Z   #call
2024-03-07T01:47:04.4420775Z     should create the donation
2024-03-07T01:47:04.4421673Z 
2024-03-07T01:47:04.4421839Z User
2024-03-07T01:47:04.4423273Z   #role_added
2024-03-07T01:47:04.4786353Z     renders the body correctly
2024-03-07T01:47:04.4787021Z   #send_reset_password_instructions
2024-03-07T01:47:04.4787674Z     user gets an email with instructions
2024-03-07T01:47:04.5668680Z       sends an email with instructions
2024-03-07T01:47:04.5669882Z 
2024-03-07T01:47:04.5670174Z Partners::FamilyRequestCreateService
2024-03-07T01:47:04.5671007Z   #call
2024-03-07T01:47:04.5672213Z     when the arguments are incorrect
2024-03-07T01:47:04.5673489Z       because no family_requests_attributes were defined
2024-03-07T01:47:04.5909370Z         should return the Partners::FamilyRequestCreateService object with an error
2024-03-07T01:47:04.5910407Z       because a unrecognized item_id was provided
2024-03-07T01:47:04.6152283Z         should return the Partners::FamilyRequestCreateService object with an error
2024-03-07T01:47:04.6153124Z     when the arguments are correct
2024-03-07T01:47:04.6153695Z       without children
2024-03-07T01:47:04.6456888Z         should send the correct request payload to the Partners::RequestCreateService and call it
2024-03-07T01:47:04.6458314Z       with children
2024-03-07T01:47:04.7522421Z         should create the appropriate organization Request, Partners::ItemRequest and Partners::ChildItemRequests
2024-03-07T01:47:04.7523463Z 
2024-03-07T01:47:04.7523695Z PartnerProfileUpdateService
2024-03-07T01:47:04.7524225Z   #call
2024-03-07T01:47:04.7525474Z     when there are no pre-existing served areas
2024-03-07T01:47:04.7526277Z       and the new values are correct
2024-03-07T01:47:04.7741909Z         stores the new values and returns success
2024-03-07T01:47:04.7742692Z         and there are other errors in the profile
2024-03-07T01:47:04.7938390Z           does not store the new values and it returns a failure
2024-03-07T01:47:04.7939201Z       and the new values are incorrect
2024-03-07T01:47:04.8120932Z 0
2024-03-07T01:47:04.8131429Z         does not store the new values and returns a failure
2024-03-07T01:47:04.8132467Z     when served area client shares pre-exist
2024-03-07T01:47:04.8133194Z       and the new values are incorrect
2024-03-07T01:47:04.8416456Z         maintains the old values and returns failure
2024-03-07T01:47:04.8417187Z       and the new values are correct
2024-03-07T01:47:04.8418241Z         and there are errors on the profile
2024-03-07T01:47:04.8701276Z           maintains the old values and returns failure
2024-03-07T01:47:04.8702031Z         and there are no other errors
2024-03-07T01:47:04.8993999Z           replaces the old values and returns success
2024-03-07T01:47:04.8996108Z 
2024-03-07T01:47:04.8996435Z Purchase
2024-03-07T01:47:04.8999414Z   behaves like itemizable
2024-03-07T01:47:04.9000681Z     .to_a
2024-03-07T01:47:04.9001503Z       with Flipper flag :deprecate_to_a disabled
2024-03-07T01:47:04.9375144Z         calls line_item_values
2024-03-07T01:47:04.9375722Z       with Flipper flag :deprecate_to_a enabled
2024-03-07T01:47:04.9737181Z         raises an error
2024-03-07T01:47:04.9738573Z     .line_items
2024-03-07T01:47:04.9739526Z       total
2024-03-07T01:47:05.0141163Z         has an item total
2024-03-07T01:47:05.0141954Z       quantities_by_name
2024-03-07T01:47:05.0534153Z         returns a hash of items with id, name, and quantity
2024-03-07T01:47:05.0935403Z         leaves out zero-quantitied items if requested
2024-03-07T01:47:05.0935961Z       sorted
2024-03-07T01:47:05.1493641Z         displays the items, sorted by name
2024-03-07T01:47:05.1494306Z       combine!
2024-03-07T01:47:05.2001790Z         incrementally combines line_items on donations that have already been created
2024-03-07T01:47:05.2420811Z         combines multiple line_items with the same item_id into a single record
2024-03-07T01:47:05.2421630Z   Methods >
2024-03-07T01:47:05.2422954Z     remove
2024-03-07T01:47:05.3060917Z       removes the item from the purchase
2024-03-07T01:47:05.3777323Z       fails gracefully if the item doesn't exist
2024-03-07T01:47:05.3778032Z     storage_view
2024-03-07T01:47:05.4479535Z       returns name of storage location
2024-03-07T01:47:05.4480245Z   Associations >
2024-03-07T01:47:05.4480732Z     items >
2024-03-07T01:47:05.4675708Z       has_many
2024-03-07T01:47:05.4676172Z   Callbacks >
2024-03-07T01:47:05.4962483Z     automatically combines duplicate line_item records when they're created
2024-03-07T01:47:05.5142496Z     inititalizes the issued_at field to default to midnight if it wasn't explicitly set
2024-03-07T01:47:05.5143503Z   Validations >
2024-03-07T01:47:05.5329424Z     is not valid if any category is non-zero but does not add up to the total
2024-03-07T01:47:05.5413129Z     is valid if categories have no values
2024-03-07T01:47:05.5501428Z     is not valid if period supplies is non-zero but no other category is
2024-03-07T01:47:05.5577122Z     must belong to an organization
2024-03-07T01:47:05.5654245Z     requires an inventory (storage location)
2024-03-07T01:47:05.5736843Z     ensures that the issued at is no earlier than 2000
2024-03-07T01:47:05.5820574Z     is valid if all categories add up to total
2024-03-07T01:47:05.6004233Z     is invalid when the line items are invalid
2024-03-07T01:47:05.6091301Z     is not valid if categories do not add up
2024-03-07T01:47:05.6091967Z   Scopes >
2024-03-07T01:47:05.6092529Z     during >
2024-03-07T01:47:05.6334252Z       returns all purchases created between two dates
2024-03-07T01:47:05.6335170Z   versioning
2024-03-07T01:47:05.6371671Z     is expected to be versioned
2024-03-07T01:47:05.6372773Z 
2024-03-07T01:47:05.6372962Z Transfer
2024-03-07T01:47:05.6374998Z   versioning
2024-03-07T01:47:05.6411758Z     is expected to be versioned
2024-03-07T01:47:05.6412347Z   Validations >
2024-03-07T01:47:05.6535014Z     must have storage locations set
2024-03-07T01:47:05.7159799Z     requires that the line items must have sufficient quantity in the inventory
2024-03-07T01:47:05.7239368Z     must belong to an organization
2024-03-07T01:47:05.7485012Z     requires that each line item exists in the inventory
2024-03-07T01:47:05.7600329Z     must have different storage locations
2024-03-07T01:47:05.9513242Z     must only use storage locations that belong to the organization (no hacks!)
2024-03-07T01:47:05.9514164Z   Methods >
2024-03-07T01:47:06.1553576Z     `self.storage_locations_transferred_to` and `..._from` constrains appropriately
2024-03-07T01:47:06.1555074Z   Scopes >
2024-03-07T01:47:06.1778793Z     `to_location` can filter out transfers to a specific location
2024-03-07T01:47:06.2009552Z     `from_location` can filter out transfers from a specific location
2024-03-07T01:47:06.2010773Z   behaves like itemizable
2024-03-07T01:47:06.2011256Z     .to_a
2024-03-07T01:47:06.2011732Z       with Flipper flag :deprecate_to_a disabled
2024-03-07T01:47:06.2386027Z         calls line_item_values
2024-03-07T01:47:06.2386806Z       with Flipper flag :deprecate_to_a enabled
2024-03-07T01:47:06.2748094Z         raises an error
2024-03-07T01:47:06.2748632Z     .line_items
2024-03-07T01:47:06.2749841Z       quantities_by_name
2024-03-07T01:47:06.3270888Z         leaves out zero-quantitied items if requested
2024-03-07T01:47:06.3765612Z         returns a hash of items with id, name, and quantity
2024-03-07T01:47:06.3766539Z       combine!
2024-03-07T01:47:06.4036879Z         incrementally combines line_items on donations that have already been created
2024-03-07T01:47:06.4502712Z         combines multiple line_items with the same item_id into a single record
2024-03-07T01:47:06.4503833Z       sorted
2024-03-07T01:47:06.5188004Z         displays the items, sorted by name
2024-03-07T01:47:06.5188556Z       total
2024-03-07T01:47:06.5662721Z         has an item total
2024-03-07T01:47:06.5663800Z 
2024-03-07T01:47:06.5664115Z PartnerInviteService
2024-03-07T01:47:06.5966950Z   should create invite
2024-03-07T01:47:06.6251931Z   should update the status of the partner to invited
2024-03-07T01:47:06.6252842Z   with force: true
2024-03-07T01:47:06.6612651Z     should send the force setting forward
2024-03-07T01:47:06.6613264Z 
2024-03-07T01:47:06.6613446Z DonationSite
2024-03-07T01:47:06.6614587Z   geocode
2024-03-07T01:47:06.6674828Z     adds coordinates to the database
2024-03-07T01:47:06.6675493Z   import_csv
2024-03-07T01:47:06.8454369Z     imports storage locations from a csv file
2024-03-07T01:47:06.8455481Z   versioning
2024-03-07T01:47:06.8494998Z     is expected to be versioned
2024-03-07T01:47:06.8495625Z   Validations >
2024-03-07T01:47:06.8539891Z     is invalid without an address
2024-03-07T01:47:06.8578519Z     must belong to an organization
2024-03-07T01:47:06.8622659Z     is invalid without a name
2024-03-07T01:47:06.8623398Z 
2024-03-07T01:47:06.8623596Z RemoveRoleService
2024-03-07T01:47:06.8624756Z   #call
2024-03-07T01:47:06.8626048Z     when not enough information provided
2024-03-07T01:47:07.0527870Z       should raise an error
2024-03-07T01:47:07.0528629Z     when the role exists
2024-03-07T01:47:07.2497256Z       should remove the role
2024-03-07T01:47:07.4555647Z       should remove the admin role when removing user role
2024-03-07T01:47:07.6485621Z       should work with a type and ID instead of role ID
2024-03-07T01:47:07.6486910Z     when the role does not exist
2024-03-07T01:47:07.8326483Z       should raise an error
2024-03-07T01:47:07.8327125Z 
2024-03-07T01:47:07.8327622Z Exports::ExportDistributionsCSVService
2024-03-07T01:47:07.8328570Z   #generate_csv_data
2024-03-07T01:47:08.0159731Z     should match the expected content for the csv
2024-03-07T01:47:08.0160625Z     when there are no distributions but the report is requested
2024-03-07T01:47:08.1868091Z       returns a csv with only headers and no rows
2024-03-07T01:47:08.1868839Z     when a new item is added
2024-03-07T01:47:08.3736724Z       should add it to the end of the row
2024-03-07T01:47:08.5531712Z       should show up with a 0 quantity if there are none of this item in any distribution
2024-03-07T01:47:08.5532499Z 
2024-03-07T01:47:08.5532664Z AddRoleService
2024-03-07T01:47:08.5533285Z   #call
2024-03-07T01:47:08.5534358Z     when the role does not yet exist
2024-03-07T01:47:08.7436346Z       works with super admin
2024-03-07T01:47:08.9365300Z       should add the role
2024-03-07T01:47:09.1443646Z       should add the user role when asked to add admin
2024-03-07T01:47:09.3543847Z       works with a partner
2024-03-07T01:47:09.3544936Z     when the role already exists
2024-03-07T01:47:09.5490584Z       should raise an error for super admin
2024-03-07T01:47:09.7447277Z       should raise an error
2024-03-07T01:47:10.1899344Z 
2024-03-07T01:47:10.1899963Z Finished in 47.32 seconds (files took 8.6 seconds to load)
2024-03-07T01:47:10.1900616Z 495 examples, 0 failures
2024-03-07T01:47:10.1900885Z 
2024-03-07T01:47:10.1901049Z Randomized with seed 43342
2024-03-07T01:47:10.1901324Z 
2024-03-07T01:47:10.6860239Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3740 / 6435 LOC (58.12%) covered.
2024-03-07T01:47:11.1209066Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10705 LOC (0.35%) covered.
