2024-03-06T16:35:46.0969065Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-06T16:35:46.0969935Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-06T16:35:46.1019977Z shell: /usr/bin/bash -e {0}
2024-03-06T16:35:46.1020483Z env:
2024-03-06T16:35:46.1020770Z   POSTGRES_HOST: localhost
2024-03-06T16:35:46.1021159Z   DATABASE_HOST: localhost
2024-03-06T16:35:46.1021619Z   PG_USERNAME: postgres
2024-03-06T16:35:46.1021991Z   PG_PASSWORD: password
2024-03-06T16:35:46.1022369Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-06T16:35:46.1022849Z   POSTGRES_PORT: 5432
2024-03-06T16:35:46.1023195Z   PGHOST: localhost
2024-03-06T16:35:46.1023544Z   PGUSER: postgres
2024-03-06T16:35:46.1023939Z   RAILS_ENV: test
2024-03-06T16:35:46.1024305Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-06T16:35:46.1024720Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-06T16:35:46.1025180Z   KNAPSACK_PRO_CI_NODE_INDEX: 1
2024-03-06T16:35:46.1025613Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-06T16:35:46.1026246Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-06T16:35:46.1026820Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-06T16:35:46.1027464Z   EVENTS_READ: true
2024-03-06T16:35:46.1027861Z ##[endgroup]
2024-03-06T16:35:51.7396494Z W, [2024-03-06T16:35:51.739325 #2336]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-06T16:35:51.7398451Z W, [2024-03-06T16:35:51.739376 #2336]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-06T16:35:51.7402257Z W, [2024-03-06T16:35:51.739390 #2336]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-06T16:35:51.7405354Z W, [2024-03-06T16:35:51.739410 #2336]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-06T16:35:56.7363969Z W, [2024-03-06T16:35:56.736060 #2336]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-06T16:35:56.7365739Z W, [2024-03-06T16:35:56.736101 #2336]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-06T16:35:56.7367212Z W, [2024-03-06T16:35:56.736122 #2336]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-06T16:35:56.7370236Z W, [2024-03-06T16:35:56.736164 #2336]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-06T16:35:56.7420773Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/adjustments_requests_spec.rb" "spec/requests/admin/partners_requests_spec.rb" "spec/requests/barcode_items_requests_spec.rb" "spec/requests/donations_requests_spec.rb" "spec/requests/partners/children_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-03-06T16:36:05.1576009Z 
2024-03-06T16:36:05.1576738Z Randomized with seed 57567
2024-03-06T16:36:06.1053263Z 
2024-03-06T16:36:06.1053995Z User account management
2024-03-06T16:36:06.1055087Z   when not in staging
2024-03-06T16:36:17.5446247Z     should fail when the email is invalid
2024-03-06T16:36:18.8269917Z     should change the email
2024-03-06T16:36:19.6961846Z     should change an user name
2024-03-06T16:36:19.6963968Z   when in staging
2024-03-06T16:36:20.1277529Z     should not allow the user to change staging credentials
2024-03-06T16:36:20.5735428Z     should display staging warning
2024-03-06T16:36:20.5736272Z 
2024-03-06T16:36:20.5736564Z Donations
2024-03-06T16:36:20.5737940Z   while signed in
2024-03-06T16:36:20.5738847Z     GET #index
2024-03-06T16:36:20.5739614Z       html
2024-03-06T16:36:20.6478403Z         should have the columns source and details
2024-03-06T16:36:20.6905546Z         is expected to be successful
2024-03-06T16:36:20.6906381Z         when given a product drive
2024-03-06T16:36:20.7442259Z           should display Product Drive and the name of the drive
2024-03-06T16:36:20.7443099Z         when given a misc donation
2024-03-06T16:36:20.7943165Z           should display Misc Donation and a truncated comment
2024-03-06T16:36:20.7944356Z         when given a donation site
2024-03-06T16:36:20.8458422Z           should display Donation Site and the name of the site
2024-03-06T16:36:20.8459608Z         when given a manufacturer
2024-03-06T16:36:20.9009959Z           should display Manufacturer and the manufacturer name
2024-03-06T16:36:20.9010957Z       csv
2024-03-06T16:36:20.9311403Z         is expected to be successful
2024-03-06T16:36:20.9313006Z     when an non-finalized audit has been performed on the donated items
2024-03-06T16:36:21.1011060Z       does not shows a warning
2024-03-06T16:36:21.1011814Z     when no audit has been performed
2024-03-06T16:36:21.2043596Z       doesn't show a warning
2024-03-06T16:36:21.2044595Z     GET #edit
2024-03-06T16:36:21.2045375Z       when an finalized audit has been performed on the donated items
2024-03-06T16:36:21.3478421Z         shows a warning
2024-03-06T16:36:21.3479217Z 
2024-03-06T16:36:21.3479454Z /partners/profiles
2024-03-06T16:36:21.3481153Z   PUT #update
2024-03-06T16:36:21.4125171Z     updates the partner and profile
2024-03-06T16:36:21.4125764Z     with no social media
2024-03-06T16:36:21.5264421Z       shows an error
2024-03-06T16:36:21.5265147Z     when updating an existing value to a blank value
2024-03-06T16:36:21.5787068Z       does not update other partner profile attributes to blank
2024-03-06T16:36:21.6282860Z       does store N/A in the database
2024-03-06T16:36:21.6776535Z       updates the partner profile attribute to a blank value
2024-03-06T16:36:21.6777558Z   GET #edit
2024-03-06T16:36:21.7662684Z     has "No" radio button value when value is false
2024-03-06T16:36:21.8550126Z     does not have default radio button value when value is nil
2024-03-06T16:36:21.9394736Z     displays the partner
2024-03-06T16:36:22.0506660Z     has "Yes" radio button value when value is true
2024-03-06T16:36:22.0511778Z   GET #show
2024-03-06T16:36:22.1354193Z     shows correct values for yes/no buttons
2024-03-06T16:36:22.2167017Z     displays the partner
2024-03-06T16:36:22.2167856Z 
2024-03-06T16:36:22.2168054Z BarcodeItems
2024-03-06T16:36:22.2169510Z   While signed in
2024-03-06T16:36:22.2171158Z     DELETE #destroy
2024-03-06T16:36:22.2784665Z       redirects to the index
2024-03-06T16:36:22.5229558Z       disallows a user to delete someone else's barcode
2024-03-06T16:36:22.5444021Z       disallows a non-superadmin to delete a global barcode
2024-03-06T16:36:22.5444965Z     GET #edit
2024-03-06T16:36:22.5445588Z       with a normal barcode item
2024-03-06T16:36:22.5884883Z         returns http success
2024-03-06T16:36:22.5886033Z       with a global barcode item
2024-03-06T16:36:22.6190166Z         returns a 404
2024-03-06T16:36:22.6192007Z     GET #show
2024-03-06T16:36:22.6193556Z       with a normal barcode item
2024-03-06T16:36:22.6547363Z         returns http success
2024-03-06T16:36:22.6548103Z       with a global barcode item
2024-03-06T16:36:22.6844981Z         returns a 404
2024-03-06T16:36:22.6847029Z     GET #new
2024-03-06T16:36:22.7171528Z       returns http success
2024-03-06T16:36:22.7172284Z     Looking at a different organization
2024-03-06T16:36:22.9004882Z       redirects the user to the sign-in page for CRUD actions
2024-03-06T16:36:22.9005774Z     GET #find
2024-03-06T16:36:22.9006154Z       via ajax
2024-03-06T16:36:23.1107237Z         can find a barcode that is scoped to just this organization
2024-03-06T16:36:23.3171218Z         can find a barcode that's universally available
2024-03-06T16:36:23.3172413Z         when it's missing
2024-03-06T16:36:23.5184201Z           returns a 404
2024-03-06T16:36:23.5184847Z     GET #index
2024-03-06T16:36:23.5185925Z       csv
2024-03-06T16:36:23.5421633Z         is expected to be successful
2024-03-06T16:36:23.5423381Z       html
2024-03-06T16:36:23.5842778Z         is expected to be successful
2024-03-06T16:36:23.5844869Z 
2024-03-06T16:36:23.5845423Z StorageLocations
2024-03-06T16:36:23.5846514Z   While signed in
2024-03-06T16:36:23.5848971Z     GET #edit
2024-03-06T16:36:23.9197951Z       returns http success
2024-03-06T16:36:23.9198674Z     GET #new
2024-03-06T16:36:23.9617575Z       returns http success
2024-03-06T16:36:23.9618192Z     GET #show
2024-03-06T16:36:23.9618729Z       csv
2024-03-06T16:36:24.0153489Z         should be successful
2024-03-06T16:36:24.0154249Z       html
2024-03-06T16:36:24.0852647Z         should return a correct response
2024-03-06T16:36:24.0853760Z         with version date set
2024-03-06T16:36:24.0854396Z           with a version found
2024-03-06T16:36:24.1663631Z             should show the version specified
2024-03-06T16:36:24.1664764Z           with no version found
2024-03-06T16:36:24.2388771Z             should show N/A
2024-03-06T16:36:24.2389906Z     GET #destroy
2024-03-06T16:36:24.2704834Z       redirects to #index
2024-03-06T16:36:24.2705631Z     GET #inventory
2024-03-06T16:36:24.2706513Z       without any overrides
2024-03-06T16:36:24.3280777Z         returns a collection that only includes items at the storage location
2024-03-06T16:36:24.3281952Z       when also including omitted items
2024-03-06T16:36:24.3789188Z         returns a collection that also includes all items, but with zeroed quantities
2024-03-06T16:36:24.4284079Z         contains a collection of ducktyped entries that respond the same
2024-03-06T16:36:24.4285375Z       when also including inactive items
2024-03-06T16:36:24.4967381Z         returns a collection that also includes items that have been deactivated
2024-03-06T16:36:24.4968500Z     POST #import_csv
2024-03-06T16:36:24.4969339Z       with a csv file
2024-03-06T16:36:24.5024757Z         invokes .import_csv
2024-03-06T16:36:24.5215819Z         redirects
2024-03-06T16:36:24.5373581Z         presents a flash notice message
2024-03-06T16:36:24.5374360Z       csv file with wrong headers
2024-03-06T16:36:24.5504496Z         presents a flash error message
2024-03-06T16:36:24.5625846Z         redirects
2024-03-06T16:36:24.5626474Z       without a csv file
2024-03-06T16:36:24.5744316Z         presents a flash error message
2024-03-06T16:36:24.5858644Z         redirects to :index
2024-03-06T16:36:24.5859334Z     PUT #deactivate
2024-03-06T16:36:24.6054305Z       discards
2024-03-06T16:36:24.6054951Z       with inventory
2024-03-06T16:36:24.6522573Z         does not discard
2024-03-06T16:36:24.6523609Z     Looking at a different organization
2024-03-06T16:36:24.8274538Z       redirects the user to the sign-in page for CRUD actions
2024-03-06T16:36:24.8275485Z     PUT #reactivate
2024-03-06T16:36:24.8459334Z       undiscards
2024-03-06T16:36:24.8459951Z     GET #index
2024-03-06T16:36:24.8460750Z       csv
2024-03-06T16:36:24.8651155Z         succeeds
2024-03-06T16:36:24.9650507Z         includes headers followed by alphabetized item names
2024-03-06T16:36:24.9651438Z       html
2024-03-06T16:36:25.0001952Z         succeeds
2024-03-06T16:36:25.0002793Z         with inactive locations
2024-03-06T16:36:25.0367362Z           does not includes the inactive location
2024-03-06T16:36:25.0368310Z           with include_inactive_locations
2024-03-06T16:36:25.0727386Z             includes the inactive location
2024-03-06T16:36:25.0728458Z   While not signed in
2024-03-06T16:36:25.0793069Z     redirects the user to the sign-in page for CRUD actions
2024-03-06T16:36:25.0794014Z 
2024-03-06T16:36:25.0794256Z Admin Organization Management
2024-03-06T16:36:25.0795087Z   While signed in as an Administrative User (super admin)
2024-03-06T16:36:26.4481788Z     can view organization details
2024-03-06T16:36:28.4624785Z     creates a new organization
2024-03-06T16:36:29.5602927Z     filters by organizations by name in organizations index page
2024-03-06T16:36:29.5604006Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-06T16:36:31.4269289Z     creates a new organization
2024-03-06T16:36:31.4270259Z 
2024-03-06T16:36:31.4270559Z Vendor
2024-03-06T16:36:31.4272114Z   When a user views the index page
2024-03-06T16:36:31.8983133Z     should have the vendor names in alphabetical order
2024-03-06T16:36:31.8984062Z   when editing an existing vendor
2024-03-06T16:36:32.6408253Z     can update the contact info for a vendor as a user
2024-03-06T16:36:33.3976393Z     does not update a vendor with empty attributes
2024-03-06T16:36:33.3977163Z   When vendor have purchases associated with them already
2024-03-06T16:36:33.9950066Z     can have existing vendors show in the #index with some summary stats
2024-03-06T16:36:34.5608420Z     can have a single vendor show semi-detailed stats about purchases
2024-03-06T16:36:34.5609219Z   when creating a new vendor
2024-03-06T16:36:35.2697549Z     cannot add a new vendor instance with empty attributes
2024-03-06T16:36:36.0221482Z     can create a new vendor instance as a user
2024-03-06T16:36:36.0222342Z 
2024-03-06T16:36:36.0222801Z Admin::Partners
2024-03-06T16:36:36.0224254Z   When logged in as a super admin
2024-03-06T16:36:36.0225610Z     GET #index
2024-03-06T16:36:36.0587805Z       returns http success
2024-03-06T16:36:36.0588758Z     PUT #update
2024-03-06T16:36:36.0589464Z       unsuccessful save due to empty params
2024-03-06T16:36:36.1141110Z         renders #edit template with error message
2024-03-06T16:36:36.1141914Z       successful save
2024-03-06T16:36:36.1494938Z         redirects
2024-03-06T16:36:36.1869103Z         updates partner
2024-03-06T16:36:36.1869732Z     GET #edit
2024-03-06T16:36:36.2364672Z       returns http success
2024-03-06T16:36:36.2365477Z     GET #show
2024-03-06T16:36:36.2858234Z       returns http success
2024-03-06T16:36:36.2859069Z 
2024-03-06T16:36:36.2859273Z Profiles
2024-03-06T16:36:36.2860520Z   POST #update
2024-03-06T16:36:36.2861497Z     when updating an existing value to a blank value
2024-03-06T16:36:36.3319727Z       update partner
2024-03-06T16:36:36.3750154Z       should have blank values
2024-03-06T16:36:36.3750839Z     successful save
2024-03-06T16:36:36.4186458Z       update partner
2024-03-06T16:36:36.4589266Z       redirects to #show
2024-03-06T16:36:36.4590299Z   GET #edit
2024-03-06T16:36:36.5516241Z     returns http success
2024-03-06T16:36:36.5517148Z 
2024-03-06T16:36:36.5517418Z Managing requests
2024-03-06T16:36:36.5519568Z   creating a # individuals request
2024-03-06T16:36:36.5520611Z     GIVEN a partner user is permitted to make a request
2024-03-06T16:36:36.5522717Z       WHEN they create a request improperly by not inputting anything
2024-03-06T16:36:37.4509915Z         should show an error message with the instructions
2024-03-06T16:36:37.4511042Z       WHEN they create a request completely empty request
2024-03-06T16:36:38.3497165Z         should show an error message with the instructions
2024-03-06T16:36:38.3498213Z       WHEN they create a request with blank lines
2024-03-06T16:36:39.7609555Z         should be created without any issue
2024-03-06T16:36:39.7610513Z       WHEN they create a request properly
2024-03-06T16:36:39.7611950Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-03-06T16:36:41.9326034Z           AND the partner_user can view the details of the created individuals request in a seperate page
2024-03-06T16:36:41.9327491Z       Select Input Tests
2024-03-06T16:36:41.9328135Z         WHEN they reach the page
2024-03-06T16:36:42.7730431Z           should show the proper items in the select box
2024-03-06T16:36:42.7731133Z           WHEN they create a request improperly
2024-03-06T16:36:44.0768924Z             should show the proper items in the select box
2024-03-06T16:36:44.0770089Z       WHEN they create a request with only a comment
2024-03-06T16:36:45.0323295Z         should be created without any issue
2024-03-06T16:36:45.0324416Z   creating a new quantity request
2024-03-06T16:36:45.0325522Z     GIVEN a partner user is permitted to make a request
2024-03-06T16:36:45.0327405Z       WHEN they create a request with blank lines
2024-03-06T16:36:46.3816192Z         should be created without any issue
2024-03-06T16:36:46.3817040Z       WHEN they create a request with only a comment
2024-03-06T16:36:47.3269118Z         should be created without any issue
2024-03-06T16:36:47.3270252Z       WHEN they create a request properly
2024-03-06T16:36:47.3271483Z         THEN a request records will be created and the partner will be notified via flash message on the dashboard
2024-03-06T16:36:49.5433303Z           AND the partner_user can view the details of the created request in a seperate page
2024-03-06T16:36:49.5434180Z       WHEN they create a request completely empty request
2024-03-06T16:36:50.4415879Z         should show an error message with the instructions
2024-03-06T16:36:50.4416639Z       Select Input Tests
2024-03-06T16:36:50.4417229Z         WHEN they reach the page
2024-03-06T16:36:51.3177792Z           should show the proper items in the select box
2024-03-06T16:36:51.3178470Z           WHEN they create a request improperly
2024-03-06T16:36:52.6288484Z             should show the proper items in the select box
2024-03-06T16:36:52.6289947Z 
2024-03-06T16:36:52.6290396Z Kit management
2024-03-06T16:36:53.5387521Z   can create a new kit as a user with the proper quantity
2024-03-06T16:36:54.1027996Z   should not display inactive storage locations under allocations
2024-03-06T16:36:55.5296284Z   can allocate and deallocate quantity per storage location from kit index
2024-03-06T16:36:55.5297524Z   when there is no kit quantity
2024-03-06T16:36:56.6583797Z     will not change quantity amounts when deallocating
2024-03-06T16:36:56.6585293Z   when there is not enough quantity of the items contained in the kit on-hand
2024-03-06T16:36:57.7342355Z     will not change quantity amounts when allocating
2024-03-06T16:36:57.7342887Z 
2024-03-06T16:36:57.7343319Z Adjustments
2024-03-06T16:36:57.7344464Z   while signed in
2024-03-06T16:36:57.7348222Z     GET #index
2024-03-06T16:36:57.7348924Z       csv
2024-03-06T16:36:57.7709065Z         is expected to be successful
2024-03-06T16:36:57.7709810Z       html
2024-03-06T16:36:57.8137645Z         is successful
2024-03-06T16:36:57.8138512Z         when filtering by date
2024-03-06T16:36:57.8139292Z           when date parameters are supplied
2024-03-06T16:36:57.8645687Z             only returns the correct objects
2024-03-06T16:36:57.8646545Z           when date parameters are not supplied
2024-03-06T16:36:57.9138899Z             returns all objects
2024-03-06T16:36:57.9139949Z     GET #show
2024-03-06T16:36:57.9481188Z       is expected to be successful
2024-03-06T16:36:57.9482346Z     POST #create
2024-03-06T16:36:57.9482957Z       with valid params
2024-03-06T16:36:57.9807388Z         creates a new Adjustment
2024-03-06T16:36:58.0072076Z         assigns a user id from the current user
2024-03-06T16:36:58.0345365Z         redirects to the #show after created adjustment
2024-03-06T16:36:58.0703450Z         assigns a newly created adjustment as @adjustment
2024-03-06T16:36:58.0704584Z       with invalid params
2024-03-06T16:36:58.1131757Z         re-renders the 'new' template
2024-03-06T16:36:58.1507621Z         assigns a newly created but unsaved adjustment as @adjustment
2024-03-06T16:36:58.1508519Z     GET #new
2024-03-06T16:36:58.1884477Z       is successful
2024-03-06T16:36:58.1887887Z 
2024-03-06T16:36:58.1888295Z Dashboard
2024-03-06T16:36:58.1889797Z   With an existing essentials bank
2024-03-06T16:36:58.1891274Z     Product Drives
2024-03-06T16:36:58.7520560Z       has a widget for product drive summary data
2024-03-06T16:36:58.7522532Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-06T16:36:58.7524526Z         filtering to 'Last Month'
2024-03-06T16:37:00.1957736Z           shows the correct total money raised
2024-03-06T16:37:03.5587557Z           shows 0 Recent Donation link(s)
2024-03-06T16:37:04.9965376Z           shows the correct total donations
2024-03-06T16:37:04.9967214Z       given 1 Product Drive Donation on 2024-03-05 (unless 'All Time'), 0 during 2024-03-06..2024-03-06, and 1 on 2024-03-07
2024-03-06T16:37:04.9968326Z         filtering to 'Today'
2024-03-06T16:37:06.3056329Z           shows the correct total money raised
2024-03-06T16:37:09.6090349Z           shows 0 Recent Donation link(s)
2024-03-06T16:37:10.9264820Z           shows the correct total donations
2024-03-06T16:37:10.9266025Z       Product drive behaviour with Mixed Donation types
2024-03-06T16:37:11.6310427Z         only counts product drive money raised
2024-03-06T16:37:12.3292406Z         only shows product drive donations as product drive donations
2024-03-06T16:37:13.0299307Z         only counts product drive donations for product drive
2024-03-06T16:37:13.0301203Z       given 1 Product Drive Donation on 2022-03-05 (unless 'All Time'), 3 during 2022-03-06..2023-10-29, and 1 on 2023-10-30
2024-03-06T16:37:13.0302692Z         filtering to '' (March 6, 2022 - October 29, 2023)
2024-03-06T16:37:14.5027338Z           shows the correct total donations
2024-03-06T16:37:15.9576118Z           shows 3 Recent Donation link(s)
2024-03-06T16:37:17.4138923Z           shows the correct total money raised
2024-03-06T16:37:17.4140356Z       given 1 Product Drive Donation on 2024-02-28 (unless 'All Time'), 1 during 2024-02-29..2024-03-06, and 1 on 2024-03-07
2024-03-06T16:37:17.4141596Z         filtering to 'Last 7 Days'
2024-03-06T16:37:18.8039485Z           shows the correct total money raised
2024-03-06T16:37:20.2141755Z           shows the correct total donations
2024-03-06T16:37:21.5936107Z           shows 1 Recent Donation link(s)
2024-03-06T16:37:21.5937951Z       given 1 Product Drive Donation on 2024-03-04 (unless 'All Time'), 4 during 2024-03-05..2024-03-05, and 1 on 2024-03-06
2024-03-06T16:37:21.5939337Z         filtering to 'Yesterday'
2024-03-06T16:37:23.0647061Z           shows the correct total donations
2024-03-06T16:37:24.5494744Z           shows the correct total money raised
2024-03-06T16:37:26.0172471Z           shows 3 Recent Donation link(s)
2024-03-06T16:37:26.0174331Z       given 1 Product Drive Donation on 2024-02-29 (unless 'All Time'), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-06T16:37:26.0175891Z         filtering to 'This Month'
2024-03-06T16:37:27.6352591Z           shows 2 Recent Donation link(s)
2024-03-06T16:37:29.0422409Z           shows the correct total money raised
2024-03-06T16:37:30.4449696Z           shows the correct total donations
2024-03-06T16:37:30.4453526Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 3 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-06T16:37:30.4454633Z         filtering to 'This Year'
2024-03-06T16:37:31.9528683Z           shows 3 Recent Donation link(s)
2024-03-06T16:37:33.4467726Z           shows the correct total money raised
2024-03-06T16:37:34.9228476Z           shows the correct total donations
2024-03-06T16:37:34.9230471Z       given 1 Product Drive Donation on 2024-02-05 (unless 'All Time'), 4 during 2024-02-06..2024-03-06, and 1 on 2024-03-07
2024-03-06T16:37:34.9231802Z         filtering to 'Last 30 Days'
2024-03-06T16:37:36.4185226Z           shows the correct total money raised
2024-03-06T16:37:37.9442863Z           shows the correct total donations
2024-03-06T16:37:39.4755929Z           shows 3 Recent Donation link(s)
2024-03-06T16:37:39.4756790Z     Distributions
2024-03-06T16:37:40.4228631Z       has a link to create a new distribution
2024-03-06T16:37:40.4230307Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 4 during 2000-01-01..2024-03-06, and 1 on 2024-03-07
2024-03-06T16:37:40.4231562Z         filtering to 'All Time'
2024-03-06T16:37:42.0506383Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-06T16:37:42.0508263Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 2 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-06T16:37:42.0509864Z         filtering to 'Last Month'
2024-03-06T16:37:43.4668643Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-06T16:37:43.4670447Z       given 1 Distribution on 2024-03-04  (unless 'All Time'), 0 during 2024-03-05..2024-03-05, and 1 on 2024-03-06
2024-03-06T16:37:43.4671450Z         filtering to 'Yesterday'
2024-03-06T16:37:46.8487796Z           shows the correct total and 0 Recent Distribution link(s)
2024-03-06T16:37:46.8489687Z       given 1 Distribution on 2024-02-05  (unless 'All Time'), 1 during 2024-02-06..2024-03-06, and 1 on 2024-03-07
2024-03-06T16:37:46.8491029Z         filtering to 'Last 30 Days'
2024-03-06T16:37:48.2904733Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-06T16:37:48.2906611Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-06T16:37:48.2908082Z         filtering to 'This Year'
2024-03-06T16:37:49.7029670Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-06T16:37:49.7031273Z       given 1 Distribution on 2024-02-29  (unless 'All Time'), 2 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-06T16:37:49.7032102Z         filtering to 'This Month'
2024-03-06T16:37:51.1116085Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-06T16:37:51.1117931Z       given 1 Distribution on 2024-03-05  (unless 'All Time'), 4 during 2024-03-06..2024-03-06, and 1 on 2024-03-07
2024-03-06T16:37:51.1119366Z         filtering to 'Today'
2024-03-06T16:37:52.5417717Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-06T16:37:52.5419547Z       given 1 Distribution on 2024-02-28  (unless 'All Time'), 4 during 2024-02-29..2024-03-06, and 1 on 2024-03-07
2024-03-06T16:37:52.5420929Z         filtering to 'Last 7 Days'
2024-03-06T16:37:54.1289686Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-06T16:37:54.1291780Z       given 1 Distribution on 2022-03-05  (unless 'All Time'), 4 during 2022-03-06..2024-01-21, and 1 on 2024-01-22
2024-03-06T16:37:54.1293206Z         filtering to '' (March 6, 2022 - January 21, 2024)
2024-03-06T16:37:55.6023902Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-06T16:37:55.6025071Z     Inventory Totals
2024-03-06T16:37:55.6025781Z       Summary
2024-03-06T16:37:56.3281308Z         displays the on-hand totals
2024-03-06T16:37:56.3281878Z         when constrained to date range
2024-03-06T16:37:57.3910964Z           does not change
2024-03-06T16:37:57.3911934Z     Signage
2024-03-06T16:38:00.3010878Z       shows their organization name unless they have a logo set
2024-03-06T16:38:00.3011848Z     Purchases
2024-03-06T16:38:01.1838653Z       has a link to create a new purchase
2024-03-06T16:38:01.1840415Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-06T16:38:01.1841872Z         filtering to 'Last Month'
2024-03-06T16:38:02.6508058Z           shows correct 3 Recent Purchase link(s)
2024-03-06T16:38:02.6509885Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-06T16:38:02.6510774Z         filtering to 'This Year'
2024-03-06T16:38:05.9850401Z           shows correct 0 Recent Purchase link(s)
2024-03-06T16:38:05.9852039Z       given 1 Purchase on 2022-03-05  (unless 'All Time'), 0 during 2022-03-06..2023-12-03, and 1 on 2023-12-04
2024-03-06T16:38:05.9852999Z         filtering to '' (March 6, 2022 - December 3, 2023)
2024-03-06T16:38:09.3239063Z           shows correct 0 Recent Purchase link(s)
2024-03-06T16:38:09.3240482Z       given 1 Purchase on 2024-02-28  (unless 'All Time'), 3 during 2024-02-29..2024-03-06, and 1 on 2024-03-07
2024-03-06T16:38:09.3241591Z         filtering to 'Last 7 Days'
2024-03-06T16:38:10.7819236Z           shows correct 3 Recent Purchase link(s)
2024-03-06T16:38:10.7821128Z       given 1 Purchase on 2024-03-04  (unless 'All Time'), 2 during 2024-03-05..2024-03-05, and 1 on 2024-03-06
2024-03-06T16:38:10.7822427Z         filtering to 'Yesterday'
2024-03-06T16:38:12.2176043Z           shows correct 2 Recent Purchase link(s)
2024-03-06T16:38:12.2177635Z       given 1 Purchase on 2024-02-05  (unless 'All Time'), 4 during 2024-02-06..2024-03-06, and 1 on 2024-03-07
2024-03-06T16:38:12.2178511Z         filtering to 'Last 30 Days'
2024-03-06T16:38:13.7308077Z           shows correct 3 Recent Purchase link(s)
2024-03-06T16:38:13.7309547Z       given 1 Purchase on 2024-03-05  (unless 'All Time'), 4 during 2024-03-06..2024-03-06, and 1 on 2024-03-07
2024-03-06T16:38:13.7310485Z         filtering to 'Today'
2024-03-06T16:38:15.2384205Z           shows correct 3 Recent Purchase link(s)
2024-03-06T16:38:15.2385616Z       given 1 Purchase on 2024-02-29  (unless 'All Time'), 4 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-06T16:38:15.2386713Z         filtering to 'This Month'
2024-03-06T16:38:16.7553122Z           shows correct 3 Recent Purchase link(s)
2024-03-06T16:38:16.7554063Z     Manufacturer Donations
2024-03-06T16:38:17.3237492Z       has a link to create a new donation
2024-03-06T16:38:17.3239803Z       given 1 Manufacturer donating on 2024-02-28  (unless 'All Time'), 1 during 2024-02-29..2024-03-06, and 1 on 2024-03-07
2024-03-06T16:38:17.3241276Z         filtering to 'Last 7 Days'
2024-03-06T16:38:18.7719946Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-03-06T16:38:18.7721891Z       given 1 Manufacturer donating on 2022-03-05  (unless 'All Time'), 1 during 2022-03-06..2024-01-11, and 1 on 2024-01-12
2024-03-06T16:38:18.7723765Z         filtering to '' (March 6, 2022 - January 11, 2024)
2024-03-06T16:38:20.2202546Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-03-06T16:38:20.2204711Z       given 1 Manufacturer donating on 2024-02-29  (unless 'All Time'), 4 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-06T16:38:20.2206085Z         filtering to 'This Month'
2024-03-06T16:38:22.0320143Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-03-06T16:38:22.0322121Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-06T16:38:22.0323450Z         filtering to 'Last Month'
2024-03-06T16:38:23.3802923Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-03-06T16:38:23.3804524Z       given 1 Manufacturer donating on 2024-03-05  (unless 'All Time'), 0 during 2024-03-06..2024-03-06, and 1 on 2024-03-07
2024-03-06T16:38:23.3805545Z         filtering to 'Today'
2024-03-06T16:38:24.7323574Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-03-06T16:38:24.7325530Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 4 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-06T16:38:24.7326605Z         filtering to 'This Year'
2024-03-06T16:38:26.5863893Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-03-06T16:38:26.5865903Z       given 1 Manufacturer donating on 2024-02-05  (unless 'All Time'), 4 during 2024-02-06..2024-03-06, and 1 on 2024-03-07
2024-03-06T16:38:26.5867530Z         filtering to 'Last 30 Days'
2024-03-06T16:38:28.2268155Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-03-06T16:38:28.2269807Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 6 during 2000-01-01..2024-03-06, and 1 on 2024-03-07
2024-03-06T16:38:28.2270680Z         filtering to 'All Time'
2024-03-06T16:38:30.2650644Z           shows the correct total and 7 Top Manufacturer Donation link(s)
2024-03-06T16:38:30.2652364Z       given 1 Manufacturer donating on 2024-03-04  (unless 'All Time'), 8 during 2024-03-05..2024-03-05, and 1 on 2024-03-06
2024-03-06T16:38:30.2653384Z         filtering to 'Yesterday'
2024-03-06T16:38:32.2927458Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-06T16:38:32.2928685Z     Donations
2024-03-06T16:38:33.1838202Z       has a link to create a new donation
2024-03-06T16:38:33.1840081Z       given 1 Donation on 2023-12-31 (only if a valid date), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-06T16:38:33.1841377Z         filtering to 'This Year'
2024-03-06T16:38:34.5962223Z           shows the correct total and 2 Recent Donation link(s)
2024-03-06T16:38:34.5964042Z       given 1 Donation on 2024-03-04 (only if a valid date), 1 during 2024-03-05..2024-03-05, and 1 on 2024-03-06
2024-03-06T16:38:34.5965348Z         filtering to 'Yesterday'
2024-03-06T16:38:35.9671829Z           shows the correct total and 1 Recent Donation link(s)
2024-03-06T16:38:35.9673851Z       given 1 Donation on 2024-02-29 (only if a valid date), 4 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-06T16:38:35.9675295Z         filtering to 'This Month'
2024-03-06T16:38:37.4556542Z           shows the correct total and 3 Recent Donation link(s)
2024-03-06T16:38:37.4558552Z       given 1 Donation on 2024-03-05 (only if a valid date), 2 during 2024-03-06..2024-03-06, and 1 on 2024-03-07
2024-03-06T16:38:37.4559808Z         filtering to 'Today'
2024-03-06T16:38:38.8607417Z           shows the correct total and 2 Recent Donation link(s)
2024-03-06T16:38:38.8609206Z       given 1 Donation on 2022-03-05 (only if a valid date), 2 during 2022-03-06..2023-09-09, and 1 on 2023-09-10
2024-03-06T16:38:38.8610141Z         filtering to '' (March 6, 2022 - September 9, 2023)
2024-03-06T16:38:40.2547728Z           shows the correct total and 2 Recent Donation link(s)
2024-03-06T16:38:40.2549884Z       given 1 Donation on 2024-01-31 (only if a valid date), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-06T16:38:40.2550934Z         filtering to 'Last Month'
2024-03-06T16:38:41.7062795Z           shows the correct total and 3 Recent Donation link(s)
2024-03-06T16:38:41.7064835Z       given 1 Donation on 2024-02-05 (only if a valid date), 1 during 2024-02-06..2024-03-06, and 1 on 2024-03-07
2024-03-06T16:38:41.7066058Z         filtering to 'Last 30 Days'
2024-03-06T16:38:43.0747425Z           shows the correct total and 1 Recent Donation link(s)
2024-03-06T16:38:43.0748846Z       given 1 Donation on 2024-02-28 (only if a valid date), 3 during 2024-02-29..2024-03-06, and 1 on 2024-03-07
2024-03-06T16:38:43.0749758Z         filtering to 'Last 7 Days'
2024-03-06T16:38:44.5091893Z           shows the correct total and 3 Recent Donation link(s)
2024-03-06T16:38:44.5092822Z   With a new essentials bank
2024-03-06T16:39:12.4867965Z     displays the getting started guide until the steps are completed
2024-03-06T16:39:12.4869859Z 
2024-03-06T16:39:12.4870368Z Organization management
2024-03-06T16:39:12.4871861Z   while signed in as an organization admin
2024-03-06T16:39:12.9971616Z     can see 'Make user' button for admins
2024-03-06T16:39:14.0802859Z     can add a new user to an organization
2024-03-06T16:39:15.1272145Z     can re-activate a user in the organization
2024-03-06T16:39:15.6226970Z     can re-invite a user to an organization after 7 days
2024-03-06T16:39:16.6151430Z     can deactivate a user in the organization
2024-03-06T16:39:16.6152352Z     Viewing the organization
2024-03-06T16:39:17.1797007Z       can view organization details
2024-03-06T16:39:17.1797806Z     Editing the organization
2024-03-06T16:39:18.6410278Z       can select and deselect Required Partner Fields
2024-03-06T16:39:19.4739509Z       can set a reminder and a deadline day
2024-03-06T16:39:20.5011748Z       can disable if the org does NOT use single step invite and approve partner process
2024-03-06T16:39:21.4705272Z       can select if the org repackages essentials
2024-03-06T16:39:22.2916057Z       can set the NDBN Member ID
2024-03-06T16:39:23.2927811Z       can enable if the org uses single step invite and approve partner process
2024-03-06T16:39:24.4540817Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-03-06T16:39:25.3136947Z       can set a default storage location on the organization
2024-03-06T16:39:26.2931807Z       can select if the org distributes essentials monthly
2024-03-06T16:39:27.2594296Z       can select if the org shows year-to-date values on the distribution printout
2024-03-06T16:39:27.2595265Z   while signed in as a normal user
2024-03-06T16:39:27.7119634Z     cannot see 'Make user' button for admins
2024-03-06T16:39:28.1547808Z     can see summary details about the organization as a user
2024-03-06T16:39:28.1549361Z 
2024-03-06T16:39:28.1549527Z Purchases
2024-03-06T16:39:28.1551038Z   while signed in as an organization admin
2024-03-06T16:39:29.0293453Z     allows deletion of a purchase
2024-03-06T16:39:29.0293966Z   while signed in as a normal user
2024-03-06T16:39:29.0295319Z     When visiting the index page
2024-03-06T16:39:29.0296340Z       When filtering on the index page
2024-03-06T16:39:29.8448939Z         User can filter the #index by vendor
2024-03-06T16:39:30.6573900Z         User can filter the #index by storage location
2024-03-06T16:39:30.6574443Z         behaves like Date Range Picker
2024-03-06T16:39:30.6575330Z           when choosing a date range that only includes the previous week
2024-03-06T16:39:31.6290020Z             shows only 1 record
2024-03-06T16:39:31.6290689Z           when choosing 'All Time'
2024-03-06T16:39:32.5723962Z             shows all the records
2024-03-06T16:39:32.5724875Z           when choosing 'Last Month'
2024-03-06T16:39:33.5159003Z             shows only 2 of the records
2024-03-06T16:39:33.5160114Z       In the middle of the year
2024-03-06T16:39:34.2315228Z         User sees purchased date column
2024-03-06T16:39:35.0151189Z         User can click to the new purchase form
2024-03-06T16:39:35.7653132Z         User sees total purchases value
2024-03-06T16:39:35.7653808Z     When creating a new purchase
2024-03-06T16:39:36.2340021Z       should not display inactive storage locations in dropdown
2024-03-06T16:39:36.2340847Z       via barcode entry
2024-03-06T16:39:36.9792621Z         a user can add items via scanning them in by barcode
2024-03-06T16:39:37.8661001Z         User scan same barcode 2 times
2024-03-06T16:39:39.0547532Z         a user can add items that do not yet have a barcode
2024-03-06T16:39:39.0548318Z       via manual entry
2024-03-06T16:39:40.0921792Z         User can create vendor from purchase
2024-03-06T16:39:40.9690752Z         User can create a purchase using dollars decimal amount
2024-03-06T16:39:41.9664966Z         Does not include inactive items in the line item fields
2024-03-06T16:39:43.0608448Z         User can create a purchase IN THE PAST
2024-03-06T16:39:44.2423996Z         multiple line items for the same item type are accepted and combined on the backend
2024-03-06T16:39:44.2425090Z         when creating a purchase incorrectly
2024-03-06T16:39:45.2331923Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-03-06T16:39:46.0246258Z           should display failure with error messages
2024-03-06T16:39:46.0247306Z       Editing purchase
2024-03-06T16:39:46.5221465Z         A user can see purchased_from value
2024-03-06T16:39:47.1330858Z         A user can view another organizations purchase
2024-03-06T16:39:47.1331632Z     When visiting an existing purchase
2024-03-06T16:39:47.5791027Z       does not allow deletion of a purchase
2024-03-06T16:39:47.5792034Z 
2024-03-06T16:39:47.5794037Z /partners/children
2024-03-06T16:39:47.5794478Z   GET #index
2024-03-06T16:39:47.6703180Z     should render without any issues
2024-03-06T16:39:47.7234761Z     should export CSV
2024-03-06T16:39:47.7381353Z W, [2024-03-06T08:39:47.737866 #2389]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-06T16:39:47.7383432Z W, [2024-03-06T08:39:47.737913 #2389]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-06T16:39:47.7385673Z W, [2024-03-06T08:39:47.737935 #2389]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-06T16:39:47.7388079Z W, [2024-03-06T08:39:47.737974 #2389]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-06T16:39:47.7390889Z 
2024-03-06T16:39:47.7391528Z Finished in 3 minutes 42.6 seconds (files took 8.18 seconds to load)
2024-03-06T16:39:47.7392362Z 233 examples, 0 failures
2024-03-06T16:39:47.7392675Z 
2024-03-06T16:39:47.7396995Z Randomized with seed 57567
2024-03-06T16:39:47.7397356Z 
2024-03-06T16:39:48.0419681Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3875 / 6488 LOC (59.73%) covered.
2024-03-06T16:39:48.5513936Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10777 LOC (0.35%) covered.
