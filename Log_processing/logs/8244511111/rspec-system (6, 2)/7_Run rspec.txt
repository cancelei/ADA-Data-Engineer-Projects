2024-03-12T06:27:06.8309222Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-12T06:27:06.8310207Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-12T06:27:06.8374727Z shell: /usr/bin/bash -e {0}
2024-03-12T06:27:06.8375129Z env:
2024-03-12T06:27:06.8375431Z   POSTGRES_HOST: localhost
2024-03-12T06:27:06.8375893Z   DATABASE_HOST: localhost
2024-03-12T06:27:06.8376278Z   PG_USERNAME: postgres
2024-03-12T06:27:06.8376702Z   PG_PASSWORD: password
2024-03-12T06:27:06.8377035Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-12T06:27:06.8377455Z   POSTGRES_PORT: 5432
2024-03-12T06:27:06.8377882Z   PGHOST: localhost
2024-03-12T06:27:06.8378221Z   PGUSER: postgres
2024-03-12T06:27:06.8378564Z   RAILS_ENV: test
2024-03-12T06:27:06.8378943Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-12T06:27:06.8379384Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-12T06:27:06.8379799Z   KNAPSACK_PRO_CI_NODE_INDEX: 2
2024-03-12T06:27:06.8380289Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-12T06:27:06.8380838Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-12T06:27:06.8381525Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-12T06:27:06.8382172Z ##[endgroup]
2024-03-12T06:27:12.5325650Z W, [2024-03-12T06:27:12.532195 #2452]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-12T06:27:12.5329338Z W, [2024-03-12T06:27:12.532258 #2452]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:27:12.5331217Z W, [2024-03-12T06:27:12.532277 #2452]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:27:12.5334378Z W, [2024-03-12T06:27:12.532307 #2452]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-12T06:27:15.1251195Z W, [2024-03-12T06:27:15.124791 #2452]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-12T06:27:15.1253360Z W, [2024-03-12T06:27:15.124835 #2452]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:27:15.1256173Z W, [2024-03-12T06:27:15.124849 #2452]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:27:15.1260470Z W, [2024-03-12T06:27:15.124888 #2452]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-12T06:27:15.1313097Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb"
2024-03-12T06:27:23.4552630Z 
2024-03-12T06:27:23.4553623Z Randomized with seed 6677
2024-03-12T06:27:24.3742524Z 
2024-03-12T06:27:24.3743235Z /partners/profiles
2024-03-12T06:27:24.3744722Z   PUT #update
2024-03-12T06:27:24.4504204Z     updates the partner and profile
2024-03-12T06:27:24.4505234Z     with no social media
2024-03-12T06:27:24.5623238Z       shows an error
2024-03-12T06:27:24.5624150Z     when updating an existing value to a blank value
2024-03-12T06:27:24.6139080Z       updates the partner profile attribute to a blank value
2024-03-12T06:27:24.6614263Z       does store N/A in the database
2024-03-12T06:27:24.7089441Z       does not update other partner profile attributes to blank
2024-03-12T06:27:24.7090346Z   GET #show
2024-03-12T06:27:24.7693544Z     shows correct values for yes/no buttons
2024-03-12T06:27:24.8165501Z     displays the partner
2024-03-12T06:27:24.8166387Z   GET #edit
2024-03-12T06:27:24.8957460Z     displays the partner
2024-03-12T06:27:24.9782791Z     has "No" radio button value when value is false
2024-03-12T06:27:25.0606162Z     has "Yes" radio button value when value is true
2024-03-12T06:27:25.1460512Z     does not have default radio button value when value is nil
2024-03-12T06:27:25.1461496Z 
2024-03-12T06:27:25.1461720Z Profiles
2024-03-12T06:27:25.1462290Z   POST #update
2024-03-12T06:27:25.1463161Z     successful save
2024-03-12T06:27:25.2064520Z       redirects to #show
2024-03-12T06:27:25.2503049Z       update partner
2024-03-12T06:27:25.2503883Z     when updating an existing value to a blank value
2024-03-12T06:27:25.2969190Z       should have blank values
2024-03-12T06:27:25.3422485Z       update partner
2024-03-12T06:27:25.3423433Z   GET #edit
2024-03-12T06:27:25.4430124Z     returns http success
2024-03-12T06:27:25.4430643Z 
2024-03-12T06:27:25.4431141Z Vendor
2024-03-12T06:27:25.4433096Z   when creating a new vendor
2024-03-12T06:27:26.9079167Z     can create a new vendor instance as a user
2024-03-12T06:27:27.6311069Z     cannot add a new vendor instance with empty attributes
2024-03-12T06:27:27.6312263Z   when editing an existing vendor
2024-03-12T06:27:28.4051039Z     can update the contact info for a vendor as a user
2024-03-12T06:27:29.1566675Z     does not update a vendor with empty attributes
2024-03-12T06:27:29.1567762Z   When vendor have purchases associated with them already
2024-03-12T06:27:29.7774105Z     can have existing vendors show in the #index with some summary stats
2024-03-12T06:27:30.4083859Z     can have a single vendor show semi-detailed stats about purchases
2024-03-12T06:27:30.4084929Z   When a user views the index page
2024-03-12T06:27:30.8786119Z     should have the vendor names in alphabetical order
2024-03-12T06:27:30.8786753Z 
2024-03-12T06:27:30.8787379Z Kit management
2024-03-12T06:27:31.8596773Z   can create a new kit as a user with the proper quantity
2024-03-12T06:27:32.4732913Z   should not display inactive storage locations under allocations
2024-03-12T06:27:33.9023088Z   can allocate and deallocate quantity per storage location from kit index
2024-03-12T06:27:33.9024320Z   when there is no kit quantity
2024-03-12T06:27:35.0249765Z     will not change quantity amounts when deallocating
2024-03-12T06:27:35.0251393Z   when there is not enough quantity of the items contained in the kit on-hand
2024-03-12T06:27:36.1070668Z     will not change quantity amounts when allocating
2024-03-12T06:27:36.1071697Z 
2024-03-12T06:27:36.1071922Z Managing requests
2024-03-12T06:27:36.1073795Z   creating a # individuals request
2024-03-12T06:27:36.1075061Z     GIVEN a partner user is permitted to make a request
2024-03-12T06:27:36.1076176Z       WHEN a request is built using add and remove buttons
2024-03-12T06:27:36.1077110Z         THEN a request records will be created
2024-03-12T06:27:37.9424630Z           creates the correct request
2024-03-12T06:27:37.9425944Z   creating a new quantity request
2024-03-12T06:27:37.9427604Z     GIVEN a partner user is permitted to make a request
2024-03-12T06:27:37.9428601Z       WHEN a request is built using add and remove buttons
2024-03-12T06:27:37.9429623Z         THEN a request records will be created
2024-03-12T06:27:39.9105129Z           creates the correct request
2024-03-12T06:27:39.9106687Z 
2024-03-12T06:27:39.9107052Z Purchases
2024-03-12T06:27:39.9108477Z   while signed in as a normal user
2024-03-12T06:27:39.9109616Z     When visiting an existing purchase
2024-03-12T06:27:40.3762599Z       does not allow deletion of a purchase
2024-03-12T06:27:40.3763442Z     When visiting the index page
2024-03-12T06:27:40.3764089Z       When filtering on the index page
2024-03-12T06:27:41.2030276Z         User can filter the #index by storage location
2024-03-12T06:27:42.0383834Z         User can filter the #index by vendor
2024-03-12T06:27:42.0384898Z         behaves like Date Range Picker
2024-03-12T06:27:42.0385951Z           when choosing 'Last Month'
2024-03-12T06:27:42.9801881Z             shows only 2 of the records
2024-03-12T06:27:42.9802714Z           when choosing 'All Time'
2024-03-12T06:27:43.9145283Z             shows all the records
2024-03-12T06:27:43.9146367Z           when choosing a date range that only includes the previous week
2024-03-12T06:27:44.8614478Z             shows only 1 record
2024-03-12T06:27:44.8615614Z       In the middle of the year
2024-03-12T06:27:45.6574338Z         User can click to the new purchase form
2024-03-12T06:27:46.4211986Z         User sees total purchases value
2024-03-12T06:27:47.1466667Z         User sees purchased date column
2024-03-12T06:27:47.1467624Z     When creating a new purchase
2024-03-12T06:27:47.6368058Z       should not display inactive storage locations in dropdown
2024-03-12T06:27:47.6369097Z       via barcode entry
2024-03-12T06:27:48.8527828Z         a user can add items that do not yet have a barcode
2024-03-12T06:27:49.6857196Z         User scan same barcode 2 times (FAILED - 1)
2024-03-12T06:27:49.6859341Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-scan-same-barcode-2-times_2024-03-11-23-27-49.551.html[0m
2024-03-12T06:27:49.6862077Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_User-scan-same-barcode-2-times_2024-03-11-23-27-49.551.png[0m
2024-03-12T06:27:50.5382366Z         a user can add items via scanning them in by barcode (FAILED - 2)
2024-03-12T06:27:50.5384901Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_a-user-can-add-items-via-scanning-them-in-by-barcode_2024-03-11-23-27-50.400.html[0m
2024-03-12T06:27:50.5388222Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_a-user-can-add-items-via-scanning-them-in-by-barcode_2024-03-11-23-27-50.400.png[0m
2024-03-12T06:27:50.5390380Z       via manual entry
2024-03-12T06:27:51.5490875Z         Does not include inactive items in the line item fields
2024-03-12T06:27:52.5840673Z         User can create vendor from purchase
2024-03-12T06:27:55.2673038Z         multiple line items for the same item type are accepted and combined on the backend (FAILED - 3)
2024-03-12T06:27:55.2674964Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_multiple-line-items-for-the-same-item-type-are-accepted-and-combined-on-the-backend_2024-03-11-23-27-55.132.html[0m
2024-03-12T06:27:55.2678424Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_multiple-line-items-for-the-same-item-type-are-accepted-and-combined-on-the-backend_2024-03-11-23-27-55.132.png[0m
2024-03-12T06:27:56.1475169Z         User can create a purchase using dollars decimal amount
2024-03-12T06:27:57.2285132Z         User can create a purchase IN THE PAST
2024-03-12T06:27:57.2285796Z         when creating a purchase incorrectly
2024-03-12T06:27:58.0335278Z           should display failure with error messages
2024-03-12T06:27:59.0219004Z           items dropdown is still repopulated even if initial submission doesn't validate
2024-03-12T06:27:59.0220165Z       Editing purchase
2024-03-12T06:27:59.6602388Z         A user can view another organizations purchase
2024-03-12T06:28:00.1625515Z         A user can see purchased_from value
2024-03-12T06:28:00.1626414Z   while signed in as an organization admin
2024-03-12T06:28:01.0936110Z     allows deletion of a purchase
2024-03-12T06:28:01.0939603Z 
2024-03-12T06:28:01.0939950Z Dashboard
2024-03-12T06:28:01.0941646Z   With an existing essentials bank
2024-03-12T06:28:01.0942917Z     Product Drives
2024-03-12T06:28:01.6961267Z       has a widget for product drive summary data
2024-03-12T06:28:01.6963296Z       given 1 Product Drive Donation on 2024-03-04 (unless 'All Time'), 3 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:28:01.6964693Z         filtering to 'Last 7 Days'
2024-03-12T06:28:03.1035535Z           shows the correct total donations
2024-03-12T06:28:04.4979957Z           shows the correct total money raised
2024-03-12T06:28:05.9162347Z           shows 3 Recent Donation link(s)
2024-03-12T06:28:05.9164173Z       given 1 Product Drive Donation on 2024-02-29 (unless 'All Time'), 3 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:28:05.9165701Z         filtering to 'This Month'
2024-03-12T06:28:07.3093150Z           shows 3 Recent Donation link(s)
2024-03-12T06:28:08.7048970Z           shows the correct total donations
2024-03-12T06:28:10.0889027Z           shows the correct total money raised
2024-03-12T06:28:10.0891018Z       given 1 Product Drive Donation on 2024-03-10 (unless 'All Time'), 2 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:28:10.0892329Z         filtering to 'Today'
2024-03-12T06:28:11.4498516Z           shows 2 Recent Donation link(s)
2024-03-12T06:28:12.8067039Z           shows the correct total donations
2024-03-12T06:28:14.1662423Z           shows the correct total money raised
2024-03-12T06:28:14.1664206Z       given 1 Product Drive Donation on 2024-03-09 (unless 'All Time'), 1 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:28:14.1665762Z         filtering to 'Yesterday'
2024-03-12T06:28:15.4879016Z           shows the correct total donations
2024-03-12T06:28:16.8482280Z           shows 1 Recent Donation link(s)
2024-03-12T06:28:18.1861196Z           shows the correct total money raised
2024-03-12T06:28:18.1862840Z       given 1 Product Drive Donation on 2023-12-31 (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:28:18.1863706Z         filtering to 'This Year'
2024-03-12T06:28:19.5172489Z           shows the correct total money raised
2024-03-12T06:28:20.8507933Z           shows 1 Recent Donation link(s)
2024-03-12T06:28:22.1850977Z           shows the correct total donations
2024-03-12T06:28:22.1851995Z       Product drive behaviour with Mixed Donation types
2024-03-12T06:28:22.8784575Z         only counts product drive donations for product drive
2024-03-12T06:28:23.5550318Z         only shows product drive donations as product drive donations
2024-03-12T06:28:24.3198918Z         only counts product drive money raised
2024-03-12T06:28:24.3200968Z       given 1 Product Drive Donation on 2022-03-10 (unless 'All Time'), 0 during 2022-03-11..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:28:24.3202430Z         filtering to '' (March 11, 2022 - February 29, 2024)
2024-03-12T06:28:27.6324445Z           shows 0 Recent Donation link(s)
2024-03-12T06:28:28.9478789Z           shows the correct total money raised
2024-03-12T06:28:30.2804446Z           shows the correct total donations
2024-03-12T06:28:30.2805918Z       given 1 Product Drive Donation on 2024-01-31 (unless 'All Time'), 4 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:28:30.2807177Z         filtering to 'Last Month'
2024-03-12T06:28:31.7084027Z           shows 3 Recent Donation link(s)
2024-03-12T06:28:33.1384908Z           shows the correct total donations
2024-03-12T06:28:34.5575518Z           shows the correct total money raised
2024-03-12T06:28:34.5577374Z       given 1 Product Drive Donation on 2024-02-10 (unless 'All Time'), 4 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:28:34.5578685Z         filtering to 'Last 30 Days'
2024-03-12T06:28:35.9821140Z           shows 3 Recent Donation link(s)
2024-03-12T06:28:37.4388730Z           shows the correct total donations
2024-03-12T06:28:38.8810919Z           shows the correct total money raised
2024-03-12T06:28:38.8811930Z     Purchases
2024-03-12T06:28:39.7864955Z       has a link to create a new purchase
2024-03-12T06:28:39.7866493Z       given 1 Purchase on 2024-01-31  (unless 'All Time'), 0 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:28:39.7867662Z         filtering to 'Last Month'
2024-03-12T06:28:43.2207210Z           shows correct 0 Recent Purchase link(s)
2024-03-12T06:28:43.2208946Z       given 1 Purchase on 2023-12-31  (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:28:43.2210434Z         filtering to 'This Year'
2024-03-12T06:28:44.5504304Z           shows correct 1 Recent Purchase link(s)
2024-03-12T06:28:44.5506064Z       given 1 Purchase on 2024-03-10  (unless 'All Time'), 2 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:28:44.5507288Z         filtering to 'Today'
2024-03-12T06:28:45.9209060Z           shows correct 2 Recent Purchase link(s)
2024-03-12T06:28:45.9210704Z       given 1 Purchase on 2022-03-10  (unless 'All Time'), 3 during 2022-03-11..2024-01-17, and 1 on 2024-01-18
2024-03-12T06:28:45.9212367Z         filtering to '' (March 11, 2022 - January 17, 2024)
2024-03-12T06:28:47.3601647Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:28:47.3603371Z       given 1 Purchase on 2024-02-10  (unless 'All Time'), 4 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:28:47.3604232Z         filtering to 'Last 30 Days'
2024-03-12T06:28:48.8384826Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:28:48.8386225Z       given 1 Purchase on 2024-03-04  (unless 'All Time'), 0 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:28:48.8388215Z         filtering to 'Last 7 Days'
2024-03-12T06:28:52.1398095Z           shows correct 0 Recent Purchase link(s)
2024-03-12T06:28:52.1399460Z       given 1 Purchase on 2024-02-29  (unless 'All Time'), 4 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:28:52.1400582Z         filtering to 'This Month'
2024-03-12T06:28:53.6350842Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:28:53.6352842Z       given 1 Purchase on 2024-03-09  (unless 'All Time'), 4 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:28:53.6353832Z         filtering to 'Yesterday'
2024-03-12T06:28:55.2308286Z           shows correct 3 Recent Purchase link(s)
2024-03-12T06:28:55.2309166Z     Distributions
2024-03-12T06:28:56.1186578Z       has a link to create a new distribution
2024-03-12T06:28:56.1188370Z       given 1 Distribution on 2024-01-31  (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:28:56.1189699Z         filtering to 'Last Month'
2024-03-12T06:28:57.5428794Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:28:57.5430596Z       given 1 Distribution on 2023-12-31  (unless 'All Time'), 1 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:28:57.5432201Z         filtering to 'This Year'
2024-03-12T06:28:58.9707573Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-12T06:28:58.9709676Z       given 1 Distribution on 2024-02-29  (unless 'All Time'), 4 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:28:58.9711627Z         filtering to 'This Month'
2024-03-12T06:29:00.4040485Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:29:00.4042509Z       given 1 Distribution on 2024-03-04  (unless 'All Time'), 3 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:29:00.4044203Z         filtering to 'Last 7 Days'
2024-03-12T06:29:01.8700367Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:29:01.8702242Z       given 1 Distribution on 2024-03-10  (unless 'All Time'), 2 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:29:01.8703679Z         filtering to 'Today'
2024-03-12T06:29:03.2878345Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-12T06:29:03.2880362Z       given 1 Distribution on 2024-02-10  (unless 'All Time'), 2 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:29:03.2881637Z         filtering to 'Last 30 Days'
2024-03-12T06:29:04.7227863Z           shows the correct total and 2 Recent Distribution link(s)
2024-03-12T06:29:04.7229300Z       given 1 Distribution on 1999-12-31  (unless 'All Time'), 1 during 2000-01-01..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:29:04.7230808Z         filtering to 'All Time'
2024-03-12T06:29:06.1169220Z           shows the correct total and 1 Recent Distribution link(s)
2024-03-12T06:29:06.1171069Z       given 1 Distribution on 2022-03-10  (unless 'All Time'), 3 during 2022-03-11..2023-12-11, and 1 on 2023-12-12
2024-03-12T06:29:06.1172665Z         filtering to '' (March 11, 2022 - December 11, 2023)
2024-03-12T06:29:07.5228589Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:29:07.5230693Z       given 1 Distribution on 2024-03-09  (unless 'All Time'), 4 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:29:07.5232248Z         filtering to 'Yesterday'
2024-03-12T06:29:09.0200854Z           shows the correct total and 3 Recent Distribution link(s)
2024-03-12T06:29:09.0201931Z     Signage
2024-03-12T06:29:11.8927690Z       shows their organization name unless they have a logo set
2024-03-12T06:29:11.8928354Z     Manufacturer Donations
2024-03-12T06:29:12.4747162Z       has a link to create a new donation
2024-03-12T06:29:12.4748997Z       given 1 Manufacturer donating on 2023-12-31  (unless 'All Time'), 0 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:29:12.4750367Z         filtering to 'This Year'
2024-03-12T06:29:13.8024841Z           shows the correct total and 2 Top Manufacturer Donation link(s)
2024-03-12T06:29:13.8026804Z       given 1 Manufacturer donating on 1999-12-31  (unless 'All Time'), 5 during 2000-01-01..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:29:13.8028278Z         filtering to 'All Time'
2024-03-12T06:29:15.2984243Z           shows the correct total and 6 Top Manufacturer Donation link(s)
2024-03-12T06:29:15.2986248Z       given 1 Manufacturer donating on 2024-02-10  (unless 'All Time'), 1 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:29:15.2987228Z         filtering to 'Last 30 Days'
2024-03-12T06:29:16.7012935Z           shows the correct total and 3 Top Manufacturer Donation link(s)
2024-03-12T06:29:16.7014903Z       given 1 Manufacturer donating on 2024-01-31  (unless 'All Time'), 3 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:29:16.7016233Z         filtering to 'Last Month'
2024-03-12T06:29:18.3687412Z           shows the correct total and 5 Top Manufacturer Donation link(s)
2024-03-12T06:29:18.3688972Z       given 1 Manufacturer donating on 2022-03-10  (unless 'All Time'), 6 during 2022-03-11..2023-11-03, and 1 on 2023-11-04
2024-03-12T06:29:18.3690106Z         filtering to '' (March 11, 2022 - November 3, 2023)
2024-03-12T06:29:20.2526408Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-03-12T06:29:20.2528437Z       given 1 Manufacturer donating on 2024-02-29  (unless 'All Time'), 6 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:29:20.2529649Z         filtering to 'This Month'
2024-03-12T06:29:22.2107473Z           shows the correct total and 8 Top Manufacturer Donation link(s)
2024-03-12T06:29:22.2109096Z       given 1 Manufacturer donating on 2024-03-09  (unless 'All Time'), 9 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:29:22.2110323Z         filtering to 'Yesterday'
2024-03-12T06:29:24.2896744Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-12T06:29:24.2898465Z       given 1 Manufacturer donating on 2024-03-10  (unless 'All Time'), 9 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:29:24.2899901Z         filtering to 'Today'
2024-03-12T06:29:26.5350341Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-12T06:29:26.5352437Z       given 1 Manufacturer donating on 2024-03-04  (unless 'All Time'), 8 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:29:26.5353316Z         filtering to 'Last 7 Days'
2024-03-12T06:29:28.6911169Z           shows the correct total and 10 Top Manufacturer Donation link(s)
2024-03-12T06:29:28.6912457Z     Donations
2024-03-12T06:29:29.5918466Z       has a link to create a new donation
2024-03-12T06:29:29.5920093Z       given 1 Donation on 2022-03-10 (only if a valid date), 2 during 2022-03-11..2023-10-29, and 1 on 2023-10-30
2024-03-12T06:29:29.5921469Z         filtering to '' (March 11, 2022 - October 29, 2023)
2024-03-12T06:29:30.9787882Z           shows the correct total and 2 Recent Donation link(s)
2024-03-12T06:29:30.9789488Z       given 1 Donation on 2024-02-29 (only if a valid date), 1 during 2024-03-01..2024-03-31, and 1 on 2024-04-01
2024-03-12T06:29:30.9790484Z         filtering to 'This Month'
2024-03-12T06:29:32.3224369Z           shows the correct total and 1 Recent Donation link(s)
2024-03-12T06:29:32.3225885Z       given 1 Donation on 2024-03-10 (only if a valid date), 2 during 2024-03-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:29:32.3227189Z         filtering to 'Today'
2024-03-12T06:29:33.6748541Z           shows the correct total and 2 Recent Donation link(s)
2024-03-12T06:29:33.6750355Z       given 1 Donation on 2023-12-31 (only if a valid date), 2 during 2024-01-01..2024-12-31, and 1 on 2025-01-01
2024-03-12T06:29:33.6751876Z         filtering to 'This Year'
2024-03-12T06:29:35.0501278Z           shows the correct total and 2 Recent Donation link(s)
2024-03-12T06:29:35.0503074Z       given 1 Donation on 2024-01-31 (only if a valid date), 1 during 2024-02-01..2024-02-29, and 1 on 2024-03-01
2024-03-12T06:29:35.0504511Z         filtering to 'Last Month'
2024-03-12T06:29:36.4025466Z           shows the correct total and 1 Recent Donation link(s)
2024-03-12T06:29:36.4027351Z       given 1 Donation on 2024-02-10 (only if a valid date), 1 during 2024-02-11..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:29:36.4028613Z         filtering to 'Last 30 Days'
2024-03-12T06:29:37.7442296Z           shows the correct total and 1 Recent Donation link(s)
2024-03-12T06:29:37.7444152Z       given 1 Donation on 2024-03-04 (only if a valid date), 1 during 2024-03-05..2024-03-11, and 1 on 2024-03-12
2024-03-12T06:29:37.7445403Z         filtering to 'Last 7 Days'
2024-03-12T06:29:39.0917279Z           shows the correct total and 1 Recent Donation link(s)
2024-03-12T06:29:39.0919113Z       given 1 Donation on 2024-03-09 (only if a valid date), 1 during 2024-03-10..2024-03-10, and 1 on 2024-03-11
2024-03-12T06:29:39.0920447Z         filtering to 'Yesterday'
2024-03-12T06:29:40.4624043Z           shows the correct total and 1 Recent Donation link(s)
2024-03-12T06:29:40.4624957Z     Inventory Totals
2024-03-12T06:29:40.4626144Z       Summary
2024-03-12T06:29:41.1511026Z         displays the on-hand totals
2024-03-12T06:29:41.1516643Z         when constrained to date range
2024-03-12T06:29:42.1782737Z           does not change
2024-03-12T06:29:42.1783869Z   With a new essentials bank
2024-03-12T06:30:10.1291093Z     displays the getting started guide until the steps are completed
2024-03-12T06:30:10.1293546Z 
2024-03-12T06:30:10.1293973Z Organization management
2024-03-12T06:30:10.1295587Z   while signed in as a normal user
2024-03-12T06:30:10.6231195Z     cannot see 'Make user' button for admins
2024-03-12T06:30:11.0966698Z     can see summary details about the organization as a user
2024-03-12T06:30:11.0967931Z   while signed in as an organization admin
2024-03-12T06:30:12.0781972Z     can add a new user to an organization
2024-03-12T06:30:13.0378795Z     can deactivate a user in the organization
2024-03-12T06:30:13.5468887Z     can see 'Make user' button for admins
2024-03-12T06:30:14.5042742Z     can re-activate a user in the organization
2024-03-12T06:30:15.0119426Z     can re-invite a user to an organization after 7 days
2024-03-12T06:30:15.0120043Z     Viewing the organization
2024-03-12T06:30:15.5525355Z       can view organization details
2024-03-12T06:30:15.5526218Z     Editing the organization
2024-03-12T06:30:16.4187650Z       can set a default storage location on the organization
2024-03-12T06:30:17.4002277Z       can disable if the org does NOT use single step invite and approve partner process
2024-03-12T06:30:18.4086804Z       can select if the org shows year-to-date values on the distribution printout
2024-03-12T06:30:19.6248134Z       is prompted with placeholder text and a more helpful error message to ensure correct URL format as a user
2024-03-12T06:30:20.6020722Z       can select if the org repackages essentials
2024-03-12T06:30:22.0626742Z       can select and deselect Required Partner Fields
2024-03-12T06:30:22.9268751Z       can set a reminder and a deadline day
2024-03-12T06:30:23.9191354Z       can set the NDBN Member ID
2024-03-12T06:30:24.9181409Z       can select if the org distributes essentials monthly
2024-03-12T06:30:25.8931003Z       can enable if the org uses single step invite and approve partner process
2024-03-12T06:30:25.8931842Z 
2024-03-12T06:30:25.8932981Z Admin::AccountRequestsController
2024-03-12T06:30:25.8934243Z   while signed in as a super admin
2024-03-12T06:30:25.8935612Z     GET #index
2024-03-12T06:30:25.9396084Z       returns success
2024-03-12T06:30:25.9396816Z     POST #reject
2024-03-12T06:30:25.9629306Z       should redirect back on success
2024-03-12T06:30:25.9630500Z     GET #for_rejection
2024-03-12T06:30:25.9631242Z       with a valid token
2024-03-12T06:30:26.0030843Z         should show the request
2024-03-12T06:30:26.0031793Z       with an invalid token
2024-03-12T06:30:26.0288151Z         should show a not found message
2024-03-12T06:30:26.0289518Z 
2024-03-12T06:30:26.0289998Z Events
2024-03-12T06:30:26.0291125Z   When signed in
2024-03-12T06:30:26.0292071Z     GET #index
2024-03-12T06:30:26.5296974Z       should be successful
2024-03-12T06:30:26.5297821Z       with storage location filter
2024-03-12T06:30:27.0202882Z         should not include the other storage location
2024-03-12T06:30:27.0203775Z       with type filter
2024-03-12T06:30:27.5004500Z         should not include the adjustment
2024-03-12T06:30:27.5005439Z       with item filter
2024-03-12T06:30:27.9894588Z         should not include the other item
2024-03-12T06:30:27.9895327Z       with eventable_id
2024-03-12T06:30:28.5928539Z         should only show events from that eventable
2024-03-12T06:30:28.5929164Z       with date filter
2024-03-12T06:30:29.0805917Z         should not include the old donation
2024-03-12T06:30:29.0806586Z   When not signed in
2024-03-12T06:30:29.0980876Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:30:29.0981591Z 
2024-03-12T06:30:29.0981996Z /partners/dashboard
2024-03-12T06:30:29.2002577Z   displays upcoming distributions
2024-03-12T06:30:29.2003430Z   with just partner role
2024-03-12T06:30:29.2486510Z     should not display the switch link
2024-03-12T06:30:29.2487157Z   with both roles
2024-03-12T06:30:29.3025481Z     should include the switch link
2024-03-12T06:30:29.3026364Z   GET #index
2024-03-12T06:30:29.3684555Z     does not display requests in other states
2024-03-12T06:30:29.4405588Z     displays requests that are pending
2024-03-12T06:30:29.4406244Z   BroadcastAnnouncement card
2024-03-12T06:30:29.4973383Z     displays announcements if there are valid ones
2024-03-12T06:30:29.5461336Z     doesn't display announcements from super admins
2024-03-12T06:30:29.5943282Z     doesn't display announcements if there are not valid ones
2024-03-12T06:30:29.5944413Z 
2024-03-12T06:30:29.5944678Z User account management
2024-03-12T06:30:29.5945585Z   when in staging
2024-03-12T06:30:30.0561354Z     should not allow the user to change staging credentials
2024-03-12T06:30:30.5149952Z     should display staging warning
2024-03-12T06:30:30.5150515Z   when not in staging
2024-03-12T06:30:31.4066097Z     should change an user name
2024-03-12T06:30:32.1856036Z     should fail when the email is invalid
2024-03-12T06:30:33.0589709Z     should change the email
2024-03-12T06:30:33.0590633Z 
2024-03-12T06:30:33.0590972Z Admin::Questions
2024-03-12T06:30:33.0592769Z   while signed in as a super admin
2024-03-12T06:30:33.0594278Z     GET #index
2024-03-12T06:30:33.0935988Z       lets the user load the page
2024-03-12T06:30:33.0936804Z     GET #edit
2024-03-12T06:30:33.1484834Z       lets the user load the edit question page
2024-03-12T06:30:33.1485734Z     DELETE #destroy
2024-03-12T06:30:33.1718759Z       lets the user delete questions
2024-03-12T06:30:33.1719735Z     PATCH #update
2024-03-12T06:30:33.1939432Z       lets the user update questions
2024-03-12T06:30:33.1940166Z     GET #new
2024-03-12T06:30:33.2261950Z       lets the user load the new question page
2024-03-12T06:30:33.2263008Z     POST #create
2024-03-12T06:30:33.2467169Z       lets the user create questions
2024-03-12T06:30:33.2467727Z 
2024-03-12T06:30:33.2468009Z Admin Organization Management
2024-03-12T06:30:33.2469438Z   While signed in as an Administrative User (super admin)
2024-03-12T06:30:35.2145292Z     creates a new organization
2024-03-12T06:30:36.2982198Z     filters by organizations by name in organizations index page
2024-03-12T06:30:37.5964184Z     can view organization details
2024-03-12T06:30:37.5965328Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-12T06:30:39.4974809Z     creates a new organization
2024-03-12T06:30:39.4976446Z 
2024-03-12T06:30:39.4976819Z StorageLocations
2024-03-12T06:30:39.4978554Z   While not signed in
2024-03-12T06:30:39.5059882Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:30:39.5060760Z   While signed in
2024-03-12T06:30:39.5061566Z     GET #show
2024-03-12T06:30:39.5062475Z       html
2024-03-12T06:30:39.5771292Z         should return a correct response
2024-03-12T06:30:39.5772404Z         with version date set
2024-03-12T06:30:39.5773047Z           with a version found
2024-03-12T06:30:39.6610100Z             should show the version specified
2024-03-12T06:30:39.6611210Z           with no version found
2024-03-12T06:30:39.7330618Z             should show N/A
2024-03-12T06:30:39.7331578Z       csv
2024-03-12T06:30:39.7783131Z         should be successful
2024-03-12T06:30:39.7783949Z     GET #destroy
2024-03-12T06:30:39.8029051Z       redirects to #index
2024-03-12T06:30:39.8029795Z     POST #import_csv
2024-03-12T06:30:39.8030365Z       without a csv file
2024-03-12T06:30:39.8147596Z         presents a flash error message
2024-03-12T06:30:39.8261209Z         redirects to :index
2024-03-12T06:30:39.8261869Z       with a csv file
2024-03-12T06:30:39.8407066Z         redirects
2024-03-12T06:30:39.8456572Z         invokes .import_csv
2024-03-12T06:30:39.8594471Z         presents a flash notice message
2024-03-12T06:30:39.8595111Z       csv file with wrong headers
2024-03-12T06:30:39.8711657Z         presents a flash error message
2024-03-12T06:30:39.8827784Z         redirects
2024-03-12T06:30:39.8828501Z     Looking at a different organization
2024-03-12T06:30:40.0596411Z       redirects the user to the sign-in page for CRUD actions
2024-03-12T06:30:40.0597426Z     PUT #reactivate
2024-03-12T06:30:40.0877609Z       undiscards
2024-03-12T06:30:40.0878600Z     GET #inventory
2024-03-12T06:30:40.0879138Z       when also including omitted items
2024-03-12T06:30:40.1376213Z         contains a collection of ducktyped entries that respond the same
2024-03-12T06:30:40.1859294Z         returns a collection that also includes all items, but with zeroed quantities
2024-03-12T06:30:40.1860160Z       without any overrides
2024-03-12T06:30:40.2357626Z         returns a collection that only includes items at the storage location
2024-03-12T06:30:40.2358650Z       when also including inactive items
2024-03-12T06:30:40.2992917Z         returns a collection that also includes items that have been deactivated
2024-03-12T06:30:40.2994255Z     PUT #deactivate
2024-03-12T06:30:40.3176202Z       discards
2024-03-12T06:30:40.3176831Z       with inventory
2024-03-12T06:30:40.3582303Z         does not discard
2024-03-12T06:30:40.3582946Z     GET #index
2024-03-12T06:30:40.3583865Z       csv
2024-03-12T06:30:40.4564362Z         includes headers followed by alphabetized item names
2024-03-12T06:30:40.4759657Z         succeeds
2024-03-12T06:30:40.4760505Z       html
2024-03-12T06:30:40.5127817Z         succeeds
2024-03-12T06:30:40.5128541Z         with inactive locations
2024-03-12T06:30:40.5501671Z           does not includes the inactive location
2024-03-12T06:30:40.5502543Z           with include_inactive_locations
2024-03-12T06:30:40.5920985Z             includes the inactive location
2024-03-12T06:30:40.5922143Z     GET #new
2024-03-12T06:30:40.7281966Z       returns http success
2024-03-12T06:30:40.7283070Z     GET #edit
2024-03-12T06:30:40.7623634Z       returns http success
2024-03-12T06:30:40.7624531Z 
2024-03-12T06:30:40.7624880Z BroadcastAnnouncements
2024-03-12T06:30:40.7626665Z   PATCH /update
2024-03-12T06:30:40.7627420Z     with invalid parameters
2024-03-12T06:30:40.8079795Z       does not render a successful response
2024-03-12T06:30:40.8081109Z     with valid parameters
2024-03-12T06:30:40.8286379Z       updates the requested announcement and redirects
2024-03-12T06:30:40.8287383Z   POST /create
2024-03-12T06:30:40.8288042Z     with valid parameters
2024-03-12T06:30:40.8452816Z       creates a new BroadcastAnnouncement then redirects
2024-03-12T06:30:40.8453834Z     with invalid parameters
2024-03-12T06:30:40.8768787Z       does not render a successful response
2024-03-12T06:30:40.9077433Z       does not create a new BroadcastAnnouncement
2024-03-12T06:30:40.9078287Z   GET /new
2024-03-12T06:30:40.9361017Z     renders a successful response
2024-03-12T06:30:40.9361940Z   GET /edit
2024-03-12T06:30:40.9681854Z     render a successful response
2024-03-12T06:30:40.9683004Z   GET /index
2024-03-12T06:30:41.0007673Z     renders a successful response
2024-03-12T06:30:41.0008422Z   DELETE /destroy
2024-03-12T06:30:41.0183530Z     destroys the requested announcement then redirects
2024-03-12T06:30:41.0732341Z W, [2024-03-11T23:30:41.072851 #2488]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-12T06:30:41.0734759Z W, [2024-03-11T23:30:41.072921 #2488]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:30:41.0979034Z W, [2024-03-11T23:30:41.072945 #2488]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:30:41.0981782Z W, [2024-03-11T23:30:41.072976 #2488]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-12T06:30:41.1229134Z 
2024-03-12T06:30:41.1229551Z Failures:
2024-03-12T06:30:41.1229853Z 
2024-03-12T06:30:41.1232644Z   1) Purchases while signed in as a normal user When creating a new purchase via barcode entry User scan same barcode 2 times
2024-03-12T06:30:41.1234371Z      Failure/Error: @__Condition__.wait @__Lock__, timeout
2024-03-12T06:30:41.1235715Z 
2024-03-12T06:30:41.1237415Z      Ferrum::JavaScriptError:
2024-03-12T06:30:41.1238510Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:30:41.1241388Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:33219/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:30:41.1243375Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:30:41.1245947Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:30:41.1247420Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:30:41.1248358Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:30:41.1249170Z 
2024-03-12T06:30:41.1251301Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/capybara/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_barcode_entry_user_scan_same_barcode_2_times_555.png
2024-03-12T06:30:41.1253315Z 
2024-03-12T06:30:41.1253324Z 
2024-03-12T06:30:41.1255054Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `sleep'
2024-03-12T06:30:41.1258405Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `wait'
2024-03-12T06:30:41.1261792Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `ns_wait'
2024-03-12T06:30:41.1265341Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:44:in `block in ns_wait_until'
2024-03-12T06:30:41.1268876Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `loop'
2024-03-12T06:30:41.1272641Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `ns_wait_until'
2024-03-12T06:30:41.1275927Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:87:in `block in wait'
2024-03-12T06:30:41.1279234Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `block in synchronize'
2024-03-12T06:30:41.1282772Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:30:41.1286142Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:30:41.1289297Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:84:in `wait'
2024-03-12T06:30:41.1292235Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:75:in `wait'
2024-03-12T06:30:41.1295236Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:99:in `value!'
2024-03-12T06:30:41.1297922Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/browser/client.rb:42:in `command'
2024-03-12T06:30:41.1300572Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/page.rb:269:in `command'
2024-03-12T06:30:41.1302957Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:109:in `block in call'
2024-03-12T06:30:41.1305619Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/utils/attempt.rb:10:in `with_retry'
2024-03-12T06:30:41.1307990Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:105:in `call'
2024-03-12T06:30:41.1310364Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:97:in `evaluate_on'
2024-03-12T06:30:41.1312338Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:30:41.1313794Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:30:41.1315870Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/browser.rb:179:in `disabled?'
2024-03-12T06:30:41.1318423Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:21:in `command'
2024-03-12T06:30:41.1320878Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:143:in `disabled?'
2024-03-12T06:30:41.1323476Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `block in disabled?'
2024-03-12T06:30:41.1326073Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/base.rb:77:in `synchronize'
2024-03-12T06:30:41.1328587Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `disabled?'
2024-03-12T06:30:41.1331325Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector.rb:431:in `block (2 levels) in <top (required)>'
2024-03-12T06:30:41.1334304Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:14:in `block in initialize'
2024-03-12T06:30:41.1337191Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `instance_exec'
2024-03-12T06:30:41.1339897Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `apply'
2024-03-12T06:30:41.1342636Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:24:in `matches?'
2024-03-12T06:30:41.1345712Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:296:in `block (2 levels) in matches_node_filters?'
2024-03-12T06:30:41.1348646Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `each'
2024-03-12T06:30:41.1351276Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `all?'
2024-03-12T06:30:41.1354333Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `block in matches_node_filters?'
2024-03-12T06:30:41.1357515Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/selector.rb:89:in `with_filter_errors'
2024-03-12T06:30:41.1360384Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:283:in `matches_node_filters?'
2024-03-12T06:30:41.1363459Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:124:in `matches_filters?'
2024-03-12T06:30:41.1366173Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/result.rb:32:in `block in initialize'
2024-03-12T06:30:41.1368484Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:30:41.1370583Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:30:41.1372631Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:30:41.1374660Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:30:41.1375885Z      # 
2024-03-12T06:30:41.1376439Z      #   Showing full backtrace because every line was filtered out.
2024-03-12T06:30:41.1377426Z      #   See docs for RSpec::Configuration#backtrace_exclusion_patterns and
2024-03-12T06:30:41.1378469Z      #   RSpec::Configuration#backtrace_inclusion_patterns for more information.
2024-03-12T06:30:41.1379126Z 
2024-03-12T06:30:41.1380115Z   2) Purchases while signed in as a normal user When creating a new purchase via barcode entry a user can add items via scanning them in by barcode
2024-03-12T06:30:41.1382098Z      Failure/Error: qty = page.find(:xpath, '//input[@id="purchase_line_items_attributes_0_quantity"]').value
2024-03-12T06:30:41.1382963Z 
2024-03-12T06:30:41.1383142Z      Ferrum::JavaScriptError:
2024-03-12T06:30:41.1383909Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:30:41.1385914Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:33219/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:30:41.1387734Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:30:41.1388952Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:30:41.1390152Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:30:41.1391329Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:30:41.1392282Z 
2024-03-12T06:30:41.1394455Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_barcode_entry_a_user_can_add_items_via_scanning_them_in_by_barcode_272.png
2024-03-12T06:30:41.1396591Z 
2024-03-12T06:30:41.1396604Z 
2024-03-12T06:30:41.1397124Z      # ./spec/system/purchase_system_spec.rb:235:in `block (5 levels) in <top (required)>'
2024-03-12T06:30:41.1397882Z 
2024-03-12T06:30:41.1399084Z   3) Purchases while signed in as a normal user When creating a new purchase via manual entry multiple line items for the same item type are accepted and combined on the backend
2024-03-12T06:30:41.1400799Z      Failure/Error: page.find(:css, "#__add_line_item").click
2024-03-12T06:30:41.1401323Z 
2024-03-12T06:30:41.1401516Z      Capybara::ElementNotFound:
2024-03-12T06:30:41.1402074Z        Unable to find css "#__add_line_item"
2024-03-12T06:30:41.1402497Z 
2024-03-12T06:30:41.1404910Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_purchases_while_signed_in_as_a_normal_user_when_creating_a_new_purchase_via_manual_entry_multiple_line_items_for_the_same_item_type_are_accepted_and_combined_on_the_backend_150.png
2024-03-12T06:30:41.1407445Z 
2024-03-12T06:30:41.1407452Z 
2024-03-12T06:30:41.1407958Z      # ./spec/system/purchase_system_spec.rb:172:in `block (5 levels) in <top (required)>'
2024-03-12T06:30:41.1408859Z 
2024-03-12T06:30:41.1409242Z Finished in 3 minutes 17.6 seconds (files took 8.09 seconds to load)
2024-03-12T06:30:41.1410010Z 212 examples, 3 failures
2024-03-12T06:30:41.1410311Z 
2024-03-12T06:30:41.1410461Z Failed examples:
2024-03-12T06:30:41.1410706Z 
2024-03-12T06:30:41.1411878Z rspec ./spec/system/purchase_system_spec.rb:240 # Purchases while signed in as a normal user When creating a new purchase via barcode entry User scan same barcode 2 times
2024-03-12T06:30:41.1414572Z rspec ./spec/system/purchase_system_spec.rb:227 # Purchases while signed in as a normal user When creating a new purchase via barcode entry a user can add items via scanning them in by barcode
2024-03-12T06:30:41.1417652Z rspec ./spec/system/purchase_system_spec.rb:167 # Purchases while signed in as a normal user When creating a new purchase via manual entry multiple line items for the same item type are accepted and combined on the backend
2024-03-12T06:30:41.1419417Z 
2024-03-12T06:30:41.1419591Z Randomized with seed 6677
2024-03-12T06:30:41.1419897Z 
2024-03-12T06:30:41.4368044Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:30:41.4370081Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3735 / 6478 LOC (57.66%) covered.
2024-03-12T06:30:41.5576589Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/admin/account_requests_requests_spec.rb" "spec/requests/admin/questions_spec.rb" "spec/requests/broadcast_announcements_spec.rb" "spec/requests/events_requests_spec.rb" "spec/requests/partners/dashboard_requests_spec.rb" "spec/requests/partners/profiles_requests_spec.rb" "spec/requests/profiles_requests_spec.rb" "spec/requests/storage_locations_requests_spec.rb" "spec/system/account_system_spec.rb" "spec/system/admin/organizations_system_spec.rb" "spec/system/dashboard_system_spec.rb" "spec/system/kit_system_spec.rb" "spec/system/organization_system_spec.rb" "spec/system/partners/managing_requests_system_spec.rb" "spec/system/purchase_system_spec.rb" "spec/system/vendor_system_spec.rb" failed
2024-03-12T06:30:41.9567877Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:30:41.9569272Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10785 LOC (0.35%) covered.
2024-03-12T06:30:41.9835154Z ##[error]Process completed with exit code 1.
