2024-03-12T06:26:41.8482723Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-12T06:26:41.8483608Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-12T06:26:41.8534513Z shell: /usr/bin/bash -e {0}
2024-03-12T06:26:41.8534866Z env:
2024-03-12T06:26:41.8535327Z   POSTGRES_HOST: localhost
2024-03-12T06:26:41.8535682Z   DATABASE_HOST: localhost
2024-03-12T06:26:41.8536054Z   PG_USERNAME: postgres
2024-03-12T06:26:41.8536514Z   PG_PASSWORD: password
2024-03-12T06:26:41.8536890Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-12T06:26:41.8537369Z   POSTGRES_PORT: 5432
2024-03-12T06:26:41.8537692Z   PGHOST: localhost
2024-03-12T06:26:41.8538029Z   PGUSER: postgres
2024-03-12T06:26:41.8538438Z   RAILS_ENV: test
2024-03-12T06:26:41.8538800Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: 
2024-03-12T06:26:41.8539250Z   KNAPSACK_PRO_CI_NODE_TOTAL: 6
2024-03-12T06:26:41.8539666Z   KNAPSACK_PRO_CI_NODE_INDEX: 0
2024-03-12T06:26:41.8540106Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-12T06:26:41.8540740Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-12T06:26:41.8541354Z   KNAPSACK_PRO_TEST_FILE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-12T06:26:41.8541960Z ##[endgroup]
2024-03-12T06:26:47.4703411Z W, [2024-03-12T06:26:47.469990 #2543]  WARN -- : [knapsack_pro] GET https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/last
2024-03-12T06:26:47.4704798Z W, [2024-03-12T06:26:47.470055 #2543]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:26:47.4706386Z W, [2024-03-12T06:26:47.470083 #2543]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:26:47.4710180Z W, [2024-03-12T06:26:47.470128 #2543]  WARN -- : [knapsack_pro] Slow test files fallback behaviour started. We could not connect with Knapsack Pro API to fetch last CI build test files that are needed to determine slow test files. No test files will be split by test cases. It means all test files will be split by the whole test files as if split by test cases would be disabled https://knapsackpro.com/perma/ruby/split-by-test-examples
2024-03-12T06:26:51.2066794Z W, [2024-03-12T06:26:51.206311 #2543]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_distributions/subset
2024-03-12T06:26:51.2068988Z W, [2024-03-12T06:26:51.206358 #2543]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:26:51.2070704Z W, [2024-03-12T06:26:51.206383 #2543]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:26:51.2073328Z W, [2024-03-12T06:26:51.206432 #2543]  WARN -- : [knapsack_pro] Fallback mode started. We could not connect with Knapsack Pro API. Your tests will be executed based on directory names. Read more about fallback mode at https://knapsackpro.com/perma/ruby/fallback-mode
2024-03-12T06:26:51.2123992Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/organization_requests_spec.rb" "spec/requests/partners/individuals_requests_controller_spec.rb" "spec/requests/product_drive_participants_requests_spec.rb" "spec/requests/sessions_requests_spec.rb" "spec/requests/vendors_requests_spec.rb" "spec/system/admin/base_items_system_spec.rb" "spec/system/authorization_system_spec.rb" "spec/system/donation_system_spec.rb" "spec/system/manufacturer_system_spec.rb" "spec/system/partners/family_requests_system_spec.rb" "spec/system/product_drive_system_spec.rb" "spec/system/storage_location_system_spec.rb"
2024-03-12T06:26:59.5906751Z 
2024-03-12T06:26:59.5907565Z Randomized with seed 44298
2024-03-12T06:27:00.5033315Z 
2024-03-12T06:27:00.5034116Z DonationSites
2024-03-12T06:27:00.5035099Z   while signed in
2024-03-12T06:27:00.5035839Z     GET #index
2024-03-12T06:27:00.5036685Z       html
2024-03-12T06:27:00.5740779Z         is expected to be successful
2024-03-12T06:27:00.5741516Z       csv
2024-03-12T06:27:00.5905190Z         is expected to be successful
2024-03-12T06:27:00.5906133Z 
2024-03-12T06:27:00.5906493Z Authorization
2024-03-12T06:27:01.8483849Z   redirects to the dashboard when unauthorized user attempts access
2024-03-12T06:27:02.3726076Z   redirects to the organization dashboard when authorized
2024-03-12T06:27:02.3726768Z 
2024-03-12T06:27:02.3727290Z Sessions
2024-03-12T06:27:02.3727898Z   Sign in as user without logging off as an admin
2024-03-12T06:27:02.3896624Z     cannot access admin dashboard
2024-03-12T06:27:02.4019081Z     properly accesses the organization dashboard
2024-03-12T06:27:02.4019717Z 
2024-03-12T06:27:02.4019914Z Manufacturer
2024-03-12T06:27:03.1776664Z   allows a user to update the contact info for a manufacturer
2024-03-12T06:27:03.9301744Z   allows a user to create a new manufacturer instance
2024-03-12T06:27:04.6309752Z   allows a user to add a new manufacturer instance with empty attributes
2024-03-12T06:27:05.3557168Z   allows a user to update a manufacturer with empty attributes
2024-03-12T06:27:05.3558039Z   When a user views the index page
2024-03-12T06:27:05.8159023Z     alphabetizes the manufacturer names
2024-03-12T06:27:05.8160058Z   When the Manufacturers have donations associated with them already
2024-03-12T06:27:06.4771711Z     shows existing Manufacturers in the #index with some summary stats
2024-03-12T06:27:07.1231818Z     allows single Manufacturers to show semi-detailed stats about donations from that manufacturer
2024-03-12T06:27:07.1232897Z 
2024-03-12T06:27:07.1233128Z Family requests
2024-03-12T06:27:07.1233701Z   filtering children
2024-03-12T06:27:08.0987941Z     user can see a list of children filtered by first_name
2024-03-12T06:27:09.0589834Z     user can see a list of children filtered by guardian name
2024-03-12T06:27:09.0590955Z   for children with different items, from different families
2024-03-12T06:27:10.7866754Z     it creates family requests
2024-03-12T06:27:10.7867594Z 
2024-03-12T06:27:10.7868288Z Partners::IndividualsRequestsController
2024-03-12T06:27:10.7869774Z   POST #create
2024-03-12T06:27:10.8339076Z     does not allow partners not verified
2024-03-12T06:27:10.8786613Z     does not allow deactivated partners
2024-03-12T06:27:10.8787590Z     when a request has an empty row
2024-03-12T06:27:10.9336528Z       is valid
2024-03-12T06:27:10.9337202Z     when the request has invalid inputs
2024-03-12T06:27:11.0031898Z       shows an error
2024-03-12T06:27:11.0032641Z     when a request has only a comment
2024-03-12T06:27:11.0527228Z       is valid
2024-03-12T06:27:11.0528198Z     when the request is valid
2024-03-12T06:27:11.1057413Z       submits the request
2024-03-12T06:27:11.1058415Z     after invalid submission
2024-03-12T06:27:11.1668799Z       has the correct select fields
2024-03-12T06:27:11.1669652Z     when a request is empty
2024-03-12T06:27:11.2165582Z       is invalid
2024-03-12T06:27:11.2167609Z   GET #new
2024-03-12T06:27:11.2555666Z     does not allow partners not verified
2024-03-12T06:27:11.2928989Z     does not allow deactivated partners
2024-03-12T06:27:11.2929847Z     when first reaching the new page
2024-03-12T06:27:11.3363816Z       has the correct select fields
2024-03-12T06:27:11.3364862Z 
2024-03-12T06:27:11.3365312Z Admin::Organizations
2024-03-12T06:27:11.3366889Z   When logged in as a non-admin user
2024-03-12T06:27:11.3368344Z     PUT #update
2024-03-12T06:27:11.3493506Z       redirects
2024-03-12T06:27:11.3494143Z     GET #new
2024-03-12T06:27:11.3610112Z       redirects
2024-03-12T06:27:11.3610688Z     POST #create
2024-03-12T06:27:11.3745145Z       redirects
2024-03-12T06:27:11.3745887Z     GET #index
2024-03-12T06:27:11.3870308Z       redirects
2024-03-12T06:27:11.3871047Z     GET #edit
2024-03-12T06:27:11.3997557Z       redirects
2024-03-12T06:27:11.3998208Z   When logged in as a super admin
2024-03-12T06:27:11.4000310Z     POST #create
2024-03-12T06:27:11.4000991Z       with valid params
2024-03-12T06:27:11.6933837Z         creates an organization and redirects to #index
2024-03-12T06:27:11.6934760Z       with invalid params
2024-03-12T06:27:11.7450521Z         does not create an organization and renders #create with an error message
2024-03-12T06:27:11.7451904Z     DELETE #destroy
2024-03-12T06:27:12.0390629Z       redirects
2024-03-12T06:27:12.0391154Z     GET #edit
2024-03-12T06:27:12.2579149Z       returns http success
2024-03-12T06:27:12.2579914Z     GET #show
2024-03-12T06:27:12.4684467Z       returns http success
2024-03-12T06:27:12.4685140Z     GET #index
2024-03-12T06:27:12.5002664Z       returns http success
2024-03-12T06:27:12.5003683Z     DELETE #destroy
2024-03-12T06:27:12.5004275Z       with a valid organization id
2024-03-12T06:27:12.9192802Z         redirects to #index
2024-03-12T06:27:12.9193775Z     GET #new
2024-03-12T06:27:12.9557230Z       returns http success
2024-03-12T06:27:12.9558191Z       when given a valid account request token in the query parameters
2024-03-12T06:27:13.0203475Z         should render new with pre populate input fields from the account_request
2024-03-12T06:27:13.0204370Z       when given a token that matches a account request that has already been processed
2024-03-12T06:27:13.2318092Z         should render new with a flash error message
2024-03-12T06:27:13.2318965Z     PUT #update
2024-03-12T06:27:13.2509780Z       redirect
2024-03-12T06:27:13.2510553Z     PATCH #update
2024-03-12T06:27:13.2511168Z       with a valid update
2024-03-12T06:27:13.4350245Z         redirects to #index
2024-03-12T06:27:13.4350958Z       with an invalid update
2024-03-12T06:27:13.6396045Z         returns http success
2024-03-12T06:27:13.8618804Z         redirects to #edit with an error message
2024-03-12T06:27:13.8619559Z 
2024-03-12T06:27:13.8619770Z Audits
2024-03-12T06:27:13.8621008Z   while signed in as an organization admin
2024-03-12T06:27:13.8622462Z     GET #edit
2024-03-12T06:27:13.9321404Z       redirects to #index if the status of audit is not `in_progress`
2024-03-12T06:27:14.0019397Z       is successful if the status of audit is `in_progress`
2024-03-12T06:27:14.0020376Z     POST #finalize
2024-03-12T06:27:14.0689570Z       sets the finalize status and saves an event
2024-03-12T06:27:14.0690848Z     GET #new
2024-03-12T06:27:14.1080411Z       is successful
2024-03-12T06:27:14.1081436Z     POST #create
2024-03-12T06:27:14.1082078Z       with invalid params
2024-03-12T06:27:14.1472622Z         re-renders the 'new' template
2024-03-12T06:27:14.2014069Z         re-renders the 'new' template with an error message when an invalid storage location is given
2024-03-12T06:27:14.2390623Z         assigns a newly created but unsaved audit as @audit
2024-03-12T06:27:14.2391839Z       with valid params
2024-03-12T06:27:14.2774448Z         creates a new Audit
2024-03-12T06:27:14.3149195Z         creates a new Audit with status as `confirmed` if `confirm_audit` is passed as a param
2024-03-12T06:27:14.3512438Z         creates a new Audit with status as `in_progress` if `save_progress` is passed as a param
2024-03-12T06:27:14.3875026Z         assigns a newly created audit as @audit
2024-03-12T06:27:14.4288477Z         redirects to the #show after created audit
2024-03-12T06:27:14.4289778Z     GET #index
2024-03-12T06:27:14.4975220Z       is successful
2024-03-12T06:27:14.4976318Z     GET #show
2024-03-12T06:27:14.5519457Z       is successful
2024-03-12T06:27:14.5520180Z     DELETE #destroy
2024-03-12T06:27:14.5521245Z       with valid params
2024-03-12T06:27:14.5882751Z         destroys the audit if the audit's status is `in_progress`
2024-03-12T06:27:14.6225358Z         can not destroy the audit if the audit's status is `finalized`
2024-03-12T06:27:14.6582229Z         destroys the audit if the audit's status is `confirms`
2024-03-12T06:27:14.6583676Z 
2024-03-12T06:27:14.6583905Z /account_requests
2024-03-12T06:27:14.6585497Z   GET #confirmation
2024-03-12T06:27:14.6586578Z     when given a invalid token
2024-03-12T06:27:14.6659566Z       should render a error that says that is code provided is invalid
2024-03-12T06:27:14.6660369Z     when given a token that has already been confirmed
2024-03-12T06:27:14.8442226Z       should render a error that says that is code provided is invalid
2024-03-12T06:27:14.8443763Z     when given a valid token
2024-03-12T06:27:14.8597537Z       should render the confirmation template
2024-03-12T06:27:14.8598322Z   GET #received
2024-03-12T06:27:14.8599077Z     when given a valid token
2024-03-12T06:27:14.8726452Z       should render the received template
2024-03-12T06:27:14.8727375Z     when given a invalid token
2024-03-12T06:27:14.8783398Z       should render a error that says that is code provided is invalid
2024-03-12T06:27:14.8784357Z   GET #confirm
2024-03-12T06:27:14.8784932Z     when given a invalid token
2024-03-12T06:27:14.8839760Z       should render a error that says that is code provided is invalid
2024-03-12T06:27:14.8840674Z     when given a valid token
2024-03-12T06:27:14.9011994Z       should the update confirmed_at on the account_request, queue confirmation email and render confirm template
2024-03-12T06:27:14.9013375Z     when given a token that has already been confirmed
2024-03-12T06:27:15.0974349Z       should render a error that says that is code provided is invalid
2024-03-12T06:27:15.0975525Z   GET #new
2024-03-12T06:27:15.1116285Z     renders a successful response
2024-03-12T06:27:15.1117142Z   POST #create
2024-03-12T06:27:15.1118378Z     with invalid parameters
2024-03-12T06:27:15.1304224Z       does not create a new AccountRequest
2024-03-12T06:27:15.1472820Z       renders a successful response (i.e. to display the 'new' template)
2024-03-12T06:27:15.1474087Z     with valid parameters
2024-03-12T06:27:15.1603578Z       creates a new AccountRequest
2024-03-12T06:27:15.1729280Z       redirects to the created account_request confirmation
2024-03-12T06:27:15.1843195Z       delivers the confirmation email via default queue
2024-03-12T06:27:15.1844067Z 
2024-03-12T06:27:15.1844615Z Base Item Admin
2024-03-12T06:27:15.1846133Z   While signed in as an Administrative User with no organization (super admin no org)
2024-03-12T06:27:15.6881016Z     can view a listing of all Base Items that shows a summary of its sub-items
2024-03-12T06:27:16.1343083Z     can view a single Base Item
2024-03-12T06:27:16.1344143Z     when updating an existing base item
2024-03-12T06:27:16.8676820Z       should fail when updating the name to empty
2024-03-12T06:27:17.6526062Z       should succeed when changing the name
2024-03-12T06:27:17.6526885Z     when creating a new base item
2024-03-12T06:27:18.3580087Z       should fail when creating a new base item with empty attributes
2024-03-12T06:27:19.1372772Z       should succeed when creating a new base item with good data
2024-03-12T06:27:19.1374155Z   While signed in as an Administrative User (super admin)
2024-03-12T06:27:19.5701276Z     can view a single Base Item
2024-03-12T06:27:20.0712959Z     can view a listing of all Base Items that shows a summary of its sub-items
2024-03-12T06:27:20.0713966Z     when creating a new base item
2024-03-12T06:27:20.8858222Z       should succeed when creating a new base item with good data
2024-03-12T06:27:21.5929088Z       should fail when creating a new base item with empty attributes
2024-03-12T06:27:21.5930412Z     when updating an existing base item
2024-03-12T06:27:22.3116121Z       should fail when updating the name to empty
2024-03-12T06:27:23.0990009Z       should succeed when changing the name
2024-03-12T06:27:23.0990912Z   While signed in as a normal user
2024-03-12T06:27:24.4968753Z     should have a normal user not see anything
2024-03-12T06:27:24.4969675Z 
2024-03-12T06:27:24.4970031Z Organizations
2024-03-12T06:27:24.4972085Z   When signed in as a super admin
2024-03-12T06:27:24.4972831Z     POST #demote_to_user
2024-03-12T06:27:24.5409421Z       runs successfully
2024-03-12T06:27:24.5410434Z     PUT #deactivate_user
2024-03-12T06:27:24.5576915Z       redirect after update
2024-03-12T06:27:24.5745648Z       deactivates the user
2024-03-12T06:27:24.5746715Z     PUT #reactivate_user
2024-03-12T06:27:24.5920350Z       redirect after update
2024-03-12T06:27:24.6101922Z       reactivates the user
2024-03-12T06:27:24.6102798Z     POST #promote_to_org_admin
2024-03-12T06:27:24.6326455Z       runs successfully
2024-03-12T06:27:24.6328537Z   While signed in as a normal user
2024-03-12T06:27:24.6329358Z     GET #edit
2024-03-12T06:27:24.6443533Z       is expected to redirect to "/db_1/dashboard"
2024-03-12T06:27:24.6554148Z       is expected to have error
2024-03-12T06:27:24.6554816Z     PATCH #update
2024-03-12T06:27:24.6664618Z       is expected to redirect to "/db_1/dashboard"
2024-03-12T06:27:24.6774118Z       is expected to have error
2024-03-12T06:27:24.6774792Z     GET #show
2024-03-12T06:27:24.7242580Z       load the current organization
2024-03-12T06:27:24.7651659Z       is expected to be successful
2024-03-12T06:27:24.7652620Z   While signed in as an organization admin
2024-03-12T06:27:24.7654054Z     POST #promote_to_org_admin
2024-03-12T06:27:24.7873024Z       runs successfully
2024-03-12T06:27:24.7873842Z     POST #demote_to_user
2024-03-12T06:27:24.8215160Z       runs correctly
2024-03-12T06:27:24.8215851Z     when attempting to access a different organization
2024-03-12T06:27:24.8216536Z       GET #show
2024-03-12T06:27:25.0336089Z         shows your own anyway
2024-03-12T06:27:25.0336880Z       GET #edit
2024-03-12T06:27:25.2407797Z         shows your own anyway
2024-03-12T06:27:25.4512977Z       POST #promote_to_org_admin
2024-03-12T06:27:25.4513674Z         redirects after update
2024-03-12T06:27:25.4514431Z     PUT #deactivate_user
2024-03-12T06:27:25.4683090Z       deactivates the user
2024-03-12T06:27:25.4831507Z       redirect after update
2024-03-12T06:27:25.4832422Z     GET #edit
2024-03-12T06:27:25.5247898Z       is expected to render template matcher "edit"
2024-03-12T06:27:25.5714719Z       initializing the given organization
2024-03-12T06:27:25.6153779Z       is expected to be successful
2024-03-12T06:27:25.6155864Z     PATCH #update
2024-03-12T06:27:25.6333020Z       should be redirect after update
2024-03-12T06:27:25.6522620Z       can update name
2024-03-12T06:27:25.6523486Z       when organization can not be updated
2024-03-12T06:27:25.6994681Z         renders edit template with an error message
2024-03-12T06:27:25.6995671Z     PUT #reactivate_user
2024-03-12T06:27:25.7183758Z       reactivates the user
2024-03-12T06:27:25.7348770Z       redirect after update
2024-03-12T06:27:25.7350157Z 
2024-03-12T06:27:25.7350370Z Donations
2024-03-12T06:27:25.7351850Z   while signed in as an organization admin
2024-03-12T06:27:25.7352747Z     When viewing an existing donation
2024-03-12T06:27:26.5805130Z       allows deletion of a donation
2024-03-12T06:27:26.5806044Z   When signed in as a normal user
2024-03-12T06:27:26.5807570Z     When filtering on the index page
2024-03-12T06:27:27.5037695Z       Filters by product drive participant
2024-03-12T06:27:28.3364060Z       Filter by product drive participant sticks around
2024-03-12T06:27:29.4326929Z       Filters by multiple attributes
2024-03-12T06:27:30.2536219Z       Filters by manufacturer
2024-03-12T06:27:31.0669620Z       Filters by donation site
2024-03-12T06:27:31.8535291Z       Filters by the source
2024-03-12T06:27:32.6364528Z       Filters by storage location
2024-03-12T06:27:33.4571351Z       Filters by product drives
2024-03-12T06:27:33.4572242Z       behaves like Date Range Picker
2024-03-12T06:27:33.4573223Z         when choosing a date range that only includes the previous week
2024-03-12T06:27:34.3609589Z           shows only 1 record
2024-03-12T06:27:34.3610932Z         when choosing 'All Time'
2024-03-12T06:27:35.2958770Z           shows all the records
2024-03-12T06:27:35.2959935Z         when choosing 'Last Month'
2024-03-12T06:27:36.2317678Z           shows only 2 of the records
2024-03-12T06:27:36.2318637Z     When visiting the index page
2024-03-12T06:27:36.9742599Z       should not display inactive storage locations in dropdown
2024-03-12T06:27:37.7453371Z       doesn't die when an inactive item is in a donation
2024-03-12T06:27:38.2083008Z       Displays Total quantity on the index page
2024-03-12T06:27:39.0044984Z       Allows User to click to the new donation form
2024-03-12T06:27:39.0045822Z     When editing an existing donation
2024-03-12T06:27:40.4435174Z       Allows the user to edit a donation
2024-03-12T06:27:42.2697035Z       Does not default a selection if item lookup fails
2024-03-12T06:27:42.2697698Z     When creating a new donation
2024-03-12T06:27:42.7663361Z       should not display inactive storage locations in dropdown
2024-03-12T06:27:42.7664037Z       Via barcode entry
2024-03-12T06:27:43.5993460Z         Updates the line item when the same barcode is scanned twice (FAILED - 1)
2024-03-12T06:27:43.5996260Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Updates-the-line-item-when-the-same-barcode-is-scanned-twice_2024-03-11-23-27-43.466.html[0m
2024-03-12T06:27:43.6001380Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Updates-the-line-item-when-the-same-barcode-is-scanned-twice_2024-03-11-23-27-43.466.png[0m
2024-03-12T06:27:44.4476946Z         Allows User to add items by barcode (FAILED - 2)
2024-03-12T06:27:44.4478552Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Allows-User-to-add-items-by-barcode_2024-03-11-23-27-44.313.html[0m
2024-03-12T06:27:44.4480862Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Allows-User-to-add-items-by-barcode_2024-03-11-23-27-44.313.png[0m
2024-03-12T06:27:45.3595614Z         Allows User to add items that do not yet have a barcode
2024-03-12T06:27:45.3596616Z         When the barcode is a global barcode
2024-03-12T06:27:46.4653800Z           Adds the oldest item it can find for the global barcode (FAILED - 3)
2024-03-12T06:27:46.4656384Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Adds-the-oldest-item-it-can-find-for-the-global-barcode_2024-03-11-23-27-46.331.html[0m
2024-03-12T06:27:46.4658871Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Adds-the-oldest-item-it-can-find-for-the-global-barcode_2024-03-11-23-27-46.331.png[0m
2024-03-12T06:27:46.4660580Z       Via manual entry
2024-03-12T06:27:47.2537357Z         Does not include inactive items in the line item fields
2024-03-12T06:27:48.1316586Z         Allows User to create a donation for a Donation Site source
2024-03-12T06:27:49.0899871Z         Repopulates items dropdown even if initial submission doesn't validate
2024-03-12T06:27:49.9382041Z         User can create a donation using dollars decimal amount for its money raised
2024-03-12T06:27:50.8267207Z         Allows donations to be created IN THE PAST
2024-03-12T06:27:51.5451927Z         Allows User to create a Manufacturer from donation
2024-03-12T06:27:52.6081454Z         Strips extraneous data if the user adds both Donation Site and Product Drive Participant
2024-03-12T06:27:53.5102373Z         Verifies unusually large donation quantities
2024-03-12T06:27:54.3875686Z         Displays nested errors
2024-03-12T06:27:55.2631574Z         Allows User to create a donation with a Miscellaneous source
2024-03-12T06:27:56.1650253Z         Allows User to create a donation for a Manufacturer source
2024-03-12T06:27:58.7641368Z         Ensures Barcode Entry fields have unique ids (FAILED - 4)
2024-03-12T06:27:58.7642818Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Ensures-Barcode-Entry-fields-have-unique-ids_2024-03-11-23-27-58.631.html[0m
2024-03-12T06:27:58.7645533Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Ensures-Barcode-Entry-fields-have-unique-ids_2024-03-11-23-27-58.631.png[0m
2024-03-12T06:27:59.6493101Z         Allows User to create a donation for Purchased Supplies
2024-03-12T06:28:02.3313965Z         Accepts and combines multiple line items for the same item type (FAILED - 5)
2024-03-12T06:28:02.3315659Z   [0;33mHTML screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Accepts-and-combines-multiple-line-items-for-the-same-item-type_2024-03-11-23-28-02.197.html[0m
2024-03-12T06:28:02.3317894Z   [0;33mImage screenshot: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/screenshot_Accepts-and-combines-multiple-line-items-for-the-same-item-type_2024-03-11-23-28-02.197.png[0m
2024-03-12T06:28:03.0774432Z         Allows User to create a Product Drive Participant from donation
2024-03-12T06:28:03.9854050Z         Allows User to create a donation for a ProductDrive Participant source
2024-03-12T06:28:04.6936643Z         Allows User to create a Product Drive from donation
2024-03-12T06:28:04.6937550Z     When viewing an existing donation
2024-03-12T06:28:05.1851672Z       displays donation comment
2024-03-12T06:28:05.6821069Z       does not allow deletion of a donation
2024-03-12T06:28:05.6821693Z       when there is no comment defined
2024-03-12T06:28:06.4720173Z         displays the None provided as the comment
2024-03-12T06:28:06.4721054Z     When donation items have value
2024-03-12T06:28:07.1539864Z       Displays the total value on the index page
2024-03-12T06:28:07.7911307Z       Displays the individual value on the index page
2024-03-12T06:28:08.6574357Z       Displays the total value on the show page
2024-03-12T06:28:08.6575207Z 
2024-03-12T06:28:08.6575518Z Storage Locations
2024-03-12T06:28:08.6577198Z   when viewing the index
2024-03-12T06:28:09.7441757Z     shows totals that are the sum totals of all inputs
2024-03-12T06:28:11.1243766Z     Allows user to deactivate and reactivate storage locations
2024-03-12T06:28:11.6793965Z     Filter list presented to user is in alphabetical order by item name
2024-03-12T06:28:12.4294866Z     Stops a user from deactivating storage locations with inventory
2024-03-12T06:28:13.2964520Z     Allows user to filter discarded storage locations
2024-03-12T06:28:14.5197578Z     User can filter the #index by those that contain certain items
2024-03-12T06:28:14.5198631Z   when creating a new storage location
2024-03-12T06:28:15.5764315Z     User creates a new storage location with optional fields
2024-03-12T06:28:16.3657442Z     User creates a new storage location
2024-03-12T06:28:17.0793157Z     User creates a new storage location with empty attributes
2024-03-12T06:28:17.0794389Z   when editing an existing storage location
2024-03-12T06:28:17.8658534Z     User updates an existing storage location
2024-03-12T06:28:18.6126929Z     User updates an existing storage location with empty name
2024-03-12T06:28:18.6127588Z   when viewing an existing storage location
2024-03-12T06:28:19.2730537Z     Items out (distributions)
2024-03-12T06:28:19.9075537Z     Items in (adjustments)
2024-03-12T06:28:19.9078568Z 
2024-03-12T06:28:19.9078969Z Vendors
2024-03-12T06:28:19.9080219Z   While signed in
2024-03-12T06:28:19.9081969Z     XHR #create
2024-03-12T06:28:19.9441993Z       successful create
2024-03-12T06:28:19.9734040Z       flash error
2024-03-12T06:28:19.9734976Z     GET #edit
2024-03-12T06:28:20.0039648Z       returns http success
2024-03-12T06:28:20.0040444Z     POST #create
2024-03-12T06:28:20.0327305Z       flash error
2024-03-12T06:28:20.0455395Z       successful create
2024-03-12T06:28:20.0456162Z     DELETE #destroy
2024-03-12T06:28:20.0535451Z       does not have a route for this
2024-03-12T06:28:20.0536288Z     Looking at a different organization
2024-03-12T06:28:20.2233130Z       redirects the user to the sign-in page for CRUD actions
2024-03-12T06:28:20.2233996Z     GET #new
2024-03-12T06:28:20.2526209Z       returns http success
2024-03-12T06:28:20.2527329Z     when on vendors index page
2024-03-12T06:28:20.2799436Z       has the correct import type
2024-03-12T06:28:20.2800211Z     GET #index
2024-03-12T06:28:20.2801079Z       csv
2024-03-12T06:28:20.2957127Z         is expected to be successful
2024-03-12T06:28:20.2957916Z       html
2024-03-12T06:28:20.3246646Z         is expected to be successful
2024-03-12T06:28:20.3247344Z     POST #import_csv
2024-03-12T06:28:20.3248373Z       with a csv file
2024-03-12T06:28:20.3284259Z         invokes .import_csv
2024-03-12T06:28:20.3559986Z         presents a flash notice message
2024-03-12T06:28:20.3755433Z         redirects
2024-03-12T06:28:20.3756008Z       csv file with wrong headers
2024-03-12T06:28:20.3876146Z         redirects
2024-03-12T06:28:20.3997478Z         presents a flash error message
2024-03-12T06:28:20.3998198Z       without a csv file
2024-03-12T06:28:20.4111239Z         presents a flash error message
2024-03-12T06:28:20.4228787Z         redirects to :index
2024-03-12T06:28:20.4229516Z     GET #show
2024-03-12T06:28:20.4523973Z       returns http success
2024-03-12T06:28:20.4524862Z   While not signed in
2024-03-12T06:28:20.4581173Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:28:20.4582168Z 
2024-03-12T06:28:20.4582727Z ProductDriveParticipants
2024-03-12T06:28:20.4583481Z   While not signed in
2024-03-12T06:28:20.4642001Z     redirects the user to the sign-in page for CRUD actions
2024-03-12T06:28:20.4642886Z   While signed in
2024-03-12T06:28:20.4644192Z     GET #index
2024-03-12T06:28:20.4645014Z       html
2024-03-12T06:28:20.4960267Z         is expected to be successful
2024-03-12T06:28:20.4960952Z       csv
2024-03-12T06:28:20.5110721Z         is expected to be successful
2024-03-12T06:28:20.5111609Z     GET #edit
2024-03-12T06:28:20.5421864Z       returns http success
2024-03-12T06:28:20.5422771Z     POST #create
2024-03-12T06:28:20.5740177Z       flash error
2024-03-12T06:28:20.5876542Z       successful create
2024-03-12T06:28:20.5877422Z     GET #show
2024-03-12T06:28:20.6177826Z       returns http success
2024-03-12T06:28:20.6178683Z     Looking at a different organization
2024-03-12T06:28:20.7925970Z       redirects the user to the sign-in page for CRUD actions
2024-03-12T06:28:20.7927461Z     GET #new
2024-03-12T06:28:20.8273500Z       returns http success
2024-03-12T06:28:20.8274206Z     XHR #create
2024-03-12T06:28:20.8644174Z       successful create
2024-03-12T06:28:20.8981382Z       flash error
2024-03-12T06:28:20.8982070Z     POST #import_csv
2024-03-12T06:28:20.8983148Z       with a csv file
2024-03-12T06:28:20.9020127Z         invokes .import_csv
2024-03-12T06:28:20.9210765Z         presents a flash notice message
2024-03-12T06:28:20.9389770Z         redirects
2024-03-12T06:28:20.9390601Z       csv file with wrong headers
2024-03-12T06:28:20.9512073Z         presents a flash error message
2024-03-12T06:28:20.9628610Z         redirects
2024-03-12T06:28:20.9629290Z       without a csv file
2024-03-12T06:28:20.9737318Z         presents a flash error message
2024-03-12T06:28:20.9846435Z         redirects to :index
2024-03-12T06:28:20.9847316Z 
2024-03-12T06:28:20.9847549Z Product Drives
2024-03-12T06:28:20.9849448Z   when creating a Virtual Product Drive
2024-03-12T06:28:21.9010731Z     must have the success message
2024-03-12T06:28:22.8182377Z     must have correct attributes
2024-03-12T06:28:23.7227183Z     must create a new virtual Product Drive
2024-03-12T06:28:23.7228191Z   when creating a normal product drive
2024-03-12T06:28:24.4884339Z     must have the success message
2024-03-12T06:28:25.2710097Z     must have correct attributes
2024-03-12T06:28:26.0539364Z     must create a new product drive
2024-03-12T06:28:26.0540484Z   When visiting the index page without parameters
2024-03-12T06:28:26.5579626Z     shows the expected product drives
2024-03-12T06:28:27.0371189Z     shows in descending order of start date
2024-03-12T06:28:27.5183127Z     shows only one virtual product drives
2024-03-12T06:28:27.9975104Z     shows two non-virtual product drives
2024-03-12T06:28:28.4846520Z     Shows the expected filters with the expected values and in alphabetical order for name filter
2024-03-12T06:28:28.4847835Z   when showing a Product Drive with no end date
2024-03-12T06:28:28.9194819Z     must be able to show the product drive
2024-03-12T06:28:28.9386882Z W, [2024-03-11T23:28:28.938449 #2592]  WARN -- : [knapsack_pro] POST https://api-disabled-for-fork.knapsackpro.com/v1/build_subsets
2024-03-12T06:28:28.9388489Z W, [2024-03-11T23:28:28.938505 #2592]  WARN -- : [knapsack_pro] Request failed due to:
2024-03-12T06:28:28.9390292Z W, [2024-03-11T23:28:28.938524 #2592]  WARN -- : [knapsack_pro] #<SocketError: Failed to open TCP connection to api-disabled-for-fork.knapsackpro.com:443 (getaddrinfo: Name or service not known)>
2024-03-12T06:28:28.9392129Z W, [2024-03-11T23:28:28.938554 #2592]  WARN -- : [knapsack_pro] Time execution report was not saved on Knapsack Pro API server due to connection problem.
2024-03-12T06:28:29.1917504Z 
2024-03-12T06:28:29.1918353Z Failures:
2024-03-12T06:28:29.1919188Z 
2024-03-12T06:28:29.1920153Z   1) Donations When signed in as a normal user When creating a new donation Via barcode entry Updates the line item when the same barcode is scanned twice
2024-03-12T06:28:29.1921371Z      Failure/Error: @__Condition__.wait @__Lock__, timeout
2024-03-12T06:28:29.1921724Z 
2024-03-12T06:28:29.1921892Z      Ferrum::JavaScriptError:
2024-03-12T06:28:29.1922767Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:28:29.1924167Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:33527/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:28:29.1925526Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:28:29.1926416Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:28:29.1927279Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:28:29.1928414Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:28:29.1928993Z 
2024-03-12T06:28:29.1930441Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/capybara/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_barcode_entry_updates_the_line_item_when_the_same_barcode_is_scanned_twice_180.png
2024-03-12T06:28:29.1931886Z 
2024-03-12T06:28:29.1931891Z 
2024-03-12T06:28:29.1933020Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `sleep'
2024-03-12T06:28:29.1934999Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `wait'
2024-03-12T06:28:29.1936940Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:53:in `ns_wait'
2024-03-12T06:28:29.1939432Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:44:in `block in ns_wait_until'
2024-03-12T06:28:29.1941505Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `loop'
2024-03-12T06:28:29.1943516Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/abstract_lockable_object.rb:40:in `ns_wait_until'
2024-03-12T06:28:29.1945754Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:87:in `block in wait'
2024-03-12T06:28:29.1947684Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `block in synchronize'
2024-03-12T06:28:29.1950373Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:28:29.1952530Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
2024-03-12T06:28:29.1954422Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/atomic/event.rb:84:in `wait'
2024-03-12T06:28:29.1956253Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:75:in `wait'
2024-03-12T06:28:29.1958052Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/concurrent-ruby-1.2.3/lib/concurrent-ruby/concurrent/concern/obligation.rb:99:in `value!'
2024-03-12T06:28:29.1959622Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/browser/client.rb:42:in `command'
2024-03-12T06:28:29.1961111Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/page.rb:269:in `command'
2024-03-12T06:28:29.1962528Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:118:in `block in call'
2024-03-12T06:28:29.1963985Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/utils/attempt.rb:10:in `with_retry'
2024-03-12T06:28:29.1965503Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:105:in `call'
2024-03-12T06:28:29.1966923Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/ferrum-0.14/lib/ferrum/frame/runtime.rb:97:in `evaluate_on'
2024-03-12T06:28:29.1968037Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:28:29.1968974Z      # /opt/hostedtoolcache/Ruby/3.2.2/x64/lib/ruby/3.2.0/forwardable.rb:240:in `evaluate_on'
2024-03-12T06:28:29.1970160Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/browser.rb:179:in `disabled?'
2024-03-12T06:28:29.1971649Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:21:in `command'
2024-03-12T06:28:29.1973191Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/cuprite-0.15/lib/capybara/cuprite/node.rb:143:in `disabled?'
2024-03-12T06:28:29.1974935Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `block in disabled?'
2024-03-12T06:28:29.1976564Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/base.rb:77:in `synchronize'
2024-03-12T06:28:29.1978059Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/node/element.rb:347:in `disabled?'
2024-03-12T06:28:29.1979674Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector.rb:431:in `block (2 levels) in <top (required)>'
2024-03-12T06:28:29.1981713Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:14:in `block in initialize'
2024-03-12T06:28:29.1983384Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `instance_exec'
2024-03-12T06:28:29.1984971Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/base.rb:59:in `apply'
2024-03-12T06:28:29.1986664Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/filters/node_filter.rb:24:in `matches?'
2024-03-12T06:28:29.1988711Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:296:in `block (2 levels) in matches_node_filters?'
2024-03-12T06:28:29.1990450Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `each'
2024-03-12T06:28:29.1992116Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `all?'
2024-03-12T06:28:29.1993805Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:284:in `block in matches_node_filters?'
2024-03-12T06:28:29.1995609Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/selector/selector.rb:89:in `with_filter_errors'
2024-03-12T06:28:29.1997294Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:283:in `matches_node_filters?'
2024-03-12T06:28:29.1998946Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/queries/selector_query.rb:124:in `matches_filters?'
2024-03-12T06:28:29.2000638Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/capybara-3.40.0/lib/capybara/result.rb:32:in `block in initialize'
2024-03-12T06:28:29.2002026Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:28:29.2003253Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:28:29.2004590Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:28:29.2005796Z      # /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec:in `each'
2024-03-12T06:28:29.2006676Z      # 
2024-03-12T06:28:29.2007163Z      #   Showing full backtrace because every line was filtered out.
2024-03-12T06:28:29.2007825Z      #   See docs for RSpec::Configuration#backtrace_exclusion_patterns and
2024-03-12T06:28:29.2008539Z      #   RSpec::Configuration#backtrace_inclusion_patterns for more information.
2024-03-12T06:28:29.2009259Z 
2024-03-12T06:28:29.2009779Z   2) Donations When signed in as a normal user When creating a new donation Via barcode entry Allows User to add items by barcode
2024-03-12T06:28:29.2010979Z      Failure/Error: expect(page.has_select?("donation_line_items_attributes_0_item_id", selected: @existing_barcode.item.name)).to eq(true)
2024-03-12T06:28:29.2011614Z 
2024-03-12T06:28:29.2233000Z      Ferrum::JavaScriptError:
2024-03-12T06:28:29.2234115Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:28:29.2235687Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:33527/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:28:29.2237682Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:28:29.2238833Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:28:29.2239959Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:28:29.2241086Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:28:29.2241835Z 
2024-03-12T06:28:29.2243798Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_barcode_entry_allows_user_to_add_items_by_barcode_317.png
2024-03-12T06:28:29.2245667Z 
2024-03-12T06:28:29.2245680Z 
2024-03-12T06:28:29.2246172Z      # ./spec/system/donation_system_spec.rb:431:in `block (5 levels) in <top (required)>'
2024-03-12T06:28:29.2246894Z 
2024-03-12T06:28:29.2248024Z   3) Donations When signed in as a normal user When creating a new donation Via barcode entry When the barcode is a global barcode Adds the oldest item it can find for the global barcode
2024-03-12T06:28:29.2250218Z      Failure/Error: expect(page.has_select?("donation_line_items_attributes_0_item_id", selected: @item.name)).to eq(true)
2024-03-12T06:28:29.2251232Z 
2024-03-12T06:28:29.2251461Z      Ferrum::JavaScriptError:
2024-03-12T06:28:29.2252368Z        TypeError: Cannot read properties of null (reading 'click')
2024-03-12T06:28:29.2254441Z            at Object.fill_fields_with_barcode_results (http://127.0.0.1:33527/assets/utils/barcode_items-ee1050c4d1ade4569ef6cfc83d5f4792f67daabaca0ae24f75455737fea0a72b.js:87:47)
2024-03-12T06:28:29.2256429Z            at fire (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:6449)
2024-03-12T06:28:29.2257689Z            at Object.fireWith [as resolveWith] (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:7255)
2024-03-12T06:28:29.2258887Z            at done (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:65284)
2024-03-12T06:28:29.2260060Z            at XMLHttpRequest.<anonymous> (https://ga.jspm.io/npm:jquery@3.6.1/dist/jquery.js:74:67955)
2024-03-12T06:28:29.2260859Z 
2024-03-12T06:28:29.2263297Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_barcode_entry_when_the_barcode_is_a_global_barcode_adds_the_oldest_item_it_can_find_for_the_global_barc_260.png
2024-03-12T06:28:29.2265627Z 
2024-03-12T06:28:29.2265638Z 
2024-03-12T06:28:29.2266140Z      # ./spec/system/donation_system_spec.rb:501:in `block (6 levels) in <top (required)>'
2024-03-12T06:28:29.2266888Z 
2024-03-12T06:28:29.2267786Z   4) Donations When signed in as a normal user When creating a new donation Via manual entry Ensures Barcode Entry fields have unique ids
2024-03-12T06:28:29.2269449Z      Failure/Error: page.find(:css, "#__add_line_item").click
2024-03-12T06:28:29.2269991Z 
2024-03-12T06:28:29.2270186Z      Capybara::ElementNotFound:
2024-03-12T06:28:29.2270752Z        Unable to find css "#__add_line_item"
2024-03-12T06:28:29.2271181Z 
2024-03-12T06:28:29.2273367Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_ensures_barcode_entry_fields_have_unique_ids_484.png
2024-03-12T06:28:29.2275658Z 
2024-03-12T06:28:29.2275671Z 
2024-03-12T06:28:29.2276186Z      # ./spec/system/donation_system_spec.rb:378:in `block (5 levels) in <top (required)>'
2024-03-12T06:28:29.2276917Z 
2024-03-12T06:28:29.2277984Z   5) Donations When signed in as a normal user When creating a new donation Via manual entry Accepts and combines multiple line items for the same item type
2024-03-12T06:28:29.2279906Z      Failure/Error: page.find(:css, "#__add_line_item").click
2024-03-12T06:28:29.2280462Z 
2024-03-12T06:28:29.2280653Z      Capybara::ElementNotFound:
2024-03-12T06:28:29.2281231Z        Unable to find css "#__add_line_item"
2024-03-12T06:28:29.2281675Z 
2024-03-12T06:28:29.2283967Z      [Screenshot Image]: /home/runner/work/human-essentials/human-essentials/tmp/screenshots/failures_r_spec_example_groups_donations_when_signed_in_as_a_normal_user_when_creating_a_new_donation_via_manual_entry_accepts_and_combines_multiple_line_items_for_the_same_item_type_958.png
2024-03-12T06:28:29.2286170Z 
2024-03-12T06:28:29.2286185Z 
2024-03-12T06:28:29.2286684Z      # ./spec/system/donation_system_spec.rb:202:in `block (5 levels) in <top (required)>'
2024-03-12T06:28:29.2287358Z 
2024-03-12T06:28:29.2287662Z Finished in 1 minute 29.35 seconds (files took 8.15 seconds to load)
2024-03-12T06:28:29.2288119Z 226 examples, 5 failures
2024-03-12T06:28:29.2288305Z 
2024-03-12T06:28:29.2288404Z Failed examples:
2024-03-12T06:28:29.2288550Z 
2024-03-12T06:28:29.2289318Z rspec ./spec/system/donation_system_spec.rb:437 # Donations When signed in as a normal user When creating a new donation Via barcode entry Updates the line item when the same barcode is scanned twice
2024-03-12T06:28:29.2290834Z rspec ./spec/system/donation_system_spec.rb:422 # Donations When signed in as a normal user When creating a new donation Via barcode entry Allows User to add items by barcode
2024-03-12T06:28:29.2292479Z rspec ./spec/system/donation_system_spec.rb:494 # Donations When signed in as a normal user When creating a new donation Via barcode entry When the barcode is a global barcode Adds the oldest item it can find for the global barcode
2024-03-12T06:28:29.2294148Z rspec ./spec/system/donation_system_spec.rb:377 # Donations When signed in as a normal user When creating a new donation Via manual entry Ensures Barcode Entry fields have unique ids
2024-03-12T06:28:29.2295691Z rspec ./spec/system/donation_system_spec.rb:197 # Donations When signed in as a normal user When creating a new donation Via manual entry Accepts and combines multiple line items for the same item type
2024-03-12T06:28:29.2296575Z 
2024-03-12T06:28:29.2296676Z Randomized with seed 44298
2024-03-12T06:28:29.2296859Z 
2024-03-12T06:28:29.4926185Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:28:29.4928357Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3673 / 6478 LOC (56.7%) covered.
2024-03-12T06:28:29.6084346Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/requests/account_requests_spec.rb" "spec/requests/admin/organizations_requests_spec.rb" "spec/requests/audits_requests_spec.rb" "spec/requests/donation_sites_requests_spec.rb" "spec/requests/organization_requests_spec.rb" "spec/requests/partners/individuals_requests_controller_spec.rb" "spec/requests/product_drive_participants_requests_spec.rb" "spec/requests/sessions_requests_spec.rb" "spec/requests/vendors_requests_spec.rb" "spec/system/admin/base_items_system_spec.rb" "spec/system/authorization_system_spec.rb" "spec/system/donation_system_spec.rb" "spec/system/manufacturer_system_spec.rb" "spec/system/partners/family_requests_system_spec.rb" "spec/system/product_drive_system_spec.rb" "spec/system/storage_location_system_spec.rb" failed
2024-03-12T06:28:29.9892118Z Stopped processing SimpleCov as a previous error not related to SimpleCov has been detected
2024-03-12T06:28:29.9894751Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10785 LOC (0.35%) covered.
2024-03-12T06:28:30.0158527Z ##[error]Process completed with exit code 1.
