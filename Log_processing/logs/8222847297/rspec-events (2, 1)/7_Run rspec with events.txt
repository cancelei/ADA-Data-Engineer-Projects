2024-03-10T15:02:12.2635667Z ##[group]Run RUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec
2024-03-10T15:02:12.2636652Z [36;1mRUBYOPT='-W:no-deprecated -W:no-experimental' bin/knapsack_pro_rspec[0m
2024-03-10T15:02:12.2687129Z shell: /usr/bin/bash -e {0}
2024-03-10T15:02:12.2687560Z env:
2024-03-10T15:02:12.2688005Z   POSTGRES_HOST: localhost
2024-03-10T15:02:12.2688406Z   DATABASE_HOST: localhost
2024-03-10T15:02:12.2688779Z   PG_USERNAME: postgres
2024-03-10T15:02:12.2689225Z   PG_PASSWORD: password
2024-03-10T15:02:12.2689631Z   POSTGRES_HOST_AUTH_METHOD: trust
2024-03-10T15:02:12.2690324Z   POSTGRES_PORT: 5432
2024-03-10T15:02:12.2690768Z   PGHOST: localhost
2024-03-10T15:02:12.2691132Z   PGUSER: postgres
2024-03-10T15:02:12.2691471Z   RAILS_ENV: test
2024-03-10T15:02:12.2692199Z   KNAPSACK_PRO_TEST_SUITE_TOKEN_RSPEC: ***
2024-03-10T15:02:12.2692629Z   KNAPSACK_PRO_CI_NODE_TOTAL: 2
2024-03-10T15:02:12.2693033Z   KNAPSACK_PRO_CI_NODE_INDEX: 1
2024-03-10T15:02:12.2693577Z   KNAPSACK_PRO_RSPEC_SPLIT_BY_TEST_EXAMPLES: true
2024-03-10T15:02:12.2694153Z   KNAPSACK_PRO_LOG_LEVEL: info
2024-03-10T15:02:12.2694890Z   KNAPSACK_PRO_TEST_FILE_EXCLUDE_PATTERN: {spec/system/**{,/*/**}/*_spec.rb,spec/requests/**{,/*/**}/*_spec.rb}
2024-03-10T15:02:12.2695566Z   EVENTS_READ: true
2024-03-10T15:02:12.2695870Z ##[endgroup]
2024-03-10T15:02:21.6815730Z /opt/hostedtoolcache/Ruby/3.2.2/x64/bin/ruby -I/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/lib:/home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-support-3.12.1/lib /home/runner/work/human-essentials/human-essentials/vendor/bundle/ruby/3.2.0/gems/rspec-core-3.12.2/exe/rspec  --format documentation --format KnapsackPro::Formatters::TimeTracker --default-path spec "spec/events/inventory_aggregate_spec.rb" "spec/models/product_drive_spec.rb" "spec/models/distribution_spec.rb" "spec/services/kit_create_service_spec.rb" "spec/models/kit_spec.rb" "spec/models/partner_spec.rb" "spec/services/distribution_destroy_service_spec.rb" "spec/services/partner_create_service_spec.rb" "spec/services/transfer_destroy_service_spec.rb" "spec/queries/items_in_total_query_spec.rb" "spec/services/reports/warehouse_report_service_spec.rb" "spec/services/reports/children_served_report_service_spec.rb" "spec/models/item_spec.rb" "spec/services/reports/summary_report_service_spec.rb" "spec/controllers/items_controller_spec.rb" "spec/models/request_item_spec.rb" "spec/models/transfer_spec.rb" "spec/models/donation_spec.rb" "spec/services/reports/other_products_report_service_spec.rb" "spec/services/reports/period_supply_report_service_spec.rb" "spec/services/user_invite_service_spec.rb" "spec/services/exports/export_distributions_csv_service_spec.rb" "spec/services/adjustment_create_service_spec.rb" "spec/jobs/partner_mailer_job_spec.rb" "spec/controllers/donations_controller_spec.rb" "spec/mailers/distribution_mailer_spec.rb" "spec/models/barcode_item_spec.rb" "spec/helpers/application_helper_spec.rb" "spec/models/product_drive_participant_spec.rb" "spec/services/exports/export_request_service_spec.rb" "spec/controllers/transfers_controller_spec.rb" "spec/services/distributions_by_county_report_service_spec.rb" "spec/services/partners/fetch_partners_to_remind_now_service_spec.rb" "spec/models/vendor_spec.rb" "spec/services/historical_trend_service_spec.rb" "spec/mailers/account_request_mailer_spec.rb" "spec/queries/items_out_query_spec.rb" "spec/models/user_spec.rb" "spec/services/partner_approval_service_spec.rb" "spec/services/partners/family_request_create_service_spec.rb" "spec/services/inventory_check_service_spec.rb" "spec/models/partners/profile_spec.rb" "spec/mailers/user_mailer_spec.rb" "spec/mailers/custom_devise_mailer_spec.rb" "spec/queries/items_out_total_query_spec.rb" "spec/mailers/partner_mailer_spec.rb" "spec/models/organization_stats_spec.rb" "spec/services/partner_invite_service_spec.rb" "spec/models/partners/authorized_family_member_spec.rb" "spec/services/partners/update_family_spec.rb" "spec/mailers/requests_confirmation_mailer_spec.rb" "spec/services/sync_ndbn_members_spec.rb" "spec/models/users_role_spec.rb" "spec/services/requests_total_items_service_spec.rb" "spec/models/partners/served_area_spec.rb" "spec/jobs/notify_partner_job_spec.rb" "spec/models/request_spec.rb" "spec/models/partners/child_spec.rb" "spec/models/ndbn_member_spec.rb" "spec/helpers/product_drive_helper_spec.rb" "spec/models/role_spec.rb" "spec/controllers/help_controller_spec.rb" "spec/models/concerns/deadlinable_spec.rb" "spec/models/partners/family_request_spec.rb" "spec/helpers/historical_trends_helper_spec.rb" "spec/models/kit_allocation_spec.rb" "spec/models/county_spec.rb" "spec/services/service_object_errors_mixin_spec.rb"
2024-03-10T15:02:30.7100372Z 
2024-03-10T15:02:30.7101294Z Randomized with seed 16735
2024-03-10T15:02:31.5644857Z 
2024-03-10T15:02:31.5645676Z Reports::SummaryReportService
2024-03-10T15:02:31.5646619Z   #report
2024-03-10T15:02:32.0658107Z     should report negative values
2024-03-10T15:02:32.2424894Z     should report zero values
2024-03-10T15:02:32.7462027Z     should report positive values
2024-03-10T15:02:32.7462856Z 
2024-03-10T15:02:32.7463232Z Partners::Child
2024-03-10T15:02:32.7464193Z   associations
2024-03-10T15:02:32.7613304Z     is expected to have many child_item_requests dependent => destroy
2024-03-10T15:02:32.7670862Z     is expected to belong to family required: true
2024-03-10T15:02:32.7672040Z   versioning
2024-03-10T15:02:32.7716199Z     is expected to be versioned
2024-03-10T15:02:32.7716952Z   #display_name
2024-03-10T15:02:32.8210016Z     should return a child's first and last name
2024-03-10T15:02:32.8210738Z 
2024-03-10T15:02:32.8211043Z HistoricalTrendService
2024-03-10T15:02:32.8211571Z   #series
2024-03-10T15:02:33.0967328Z     returns an array of items with their monthly data
2024-03-10T15:02:33.0968057Z 
2024-03-10T15:02:33.0968274Z DonationsController
2024-03-10T15:02:33.0969517Z   calculating total value of multiple donations
2024-03-10T15:02:33.1060435Z     returns zero for an empty array of donations
2024-03-10T15:02:33.2693270Z     works correctly for multiple line items per donation
2024-03-10T15:02:33.2694085Z   calculating total money raised for all donations
2024-03-10T15:02:33.2830533Z     correctly calculates the total
2024-03-10T15:02:33.2870782Z     returns zero for an empty array of donations
2024-03-10T15:02:33.2871503Z   While signed in as a normal user >
2024-03-10T15:02:33.2872778Z     POST#create
2024-03-10T15:02:33.3458675Z       redirects to GET#edit on success
2024-03-10T15:02:33.3745680Z       renders GET#new with error on failure
2024-03-10T15:02:33.3746583Z     GET #new
2024-03-10T15:02:33.3898882Z       returns http success
2024-03-10T15:02:33.3899692Z     PUT#update
2024-03-10T15:02:33.5105124Z       updates storage quantity correctly
2024-03-10T15:02:33.5446227Z       redirects to index after update
2024-03-10T15:02:33.5446834Z       when changing storage location
2024-03-10T15:02:33.6527373Z         updates storage quantity correctly
2024-03-10T15:02:33.6568990Z         rolls back updates if quantity would go below 0
2024-03-10T15:02:33.6569801Z       when removing a line item
2024-03-10T15:02:33.7606742Z         updates storage invetory item quantity correctly
2024-03-10T15:02:33.7607342Z     GET #index
2024-03-10T15:02:33.7762323Z       returns http success
2024-03-10T15:02:33.7763060Z     DELETE #destroy
2024-03-10T15:02:33.7932622Z       redirects to the dashboard path
2024-03-10T15:02:33.7933634Z     GET #edit
2024-03-10T15:02:33.8143774Z       returns http success
2024-03-10T15:02:33.8144540Z     GET #show
2024-03-10T15:02:33.8329624Z       returns http success
2024-03-10T15:02:33.8330556Z   While signed in as an organization admin >
2024-03-10T15:02:33.8331544Z     DELETE #destroy
2024-03-10T15:02:33.8825044Z       redirects to the index
2024-03-10T15:02:33.8825610Z 
2024-03-10T15:02:33.8825893Z NotifyPartnerJob
2024-03-10T15:02:33.8827047Z   #perform
2024-03-10T15:02:33.8926496Z     avoids exception when request doesn't exist
2024-03-10T15:02:33.9144711Z     is expected to call RequestsConfirmationMailer
2024-03-10T15:02:33.9146954Z     when the request's partner is deactivated
2024-03-10T15:02:33.9455920Z       does not send the confirmation email
2024-03-10T15:02:33.9457134Z 
2024-03-10T15:02:33.9457474Z Partner
2024-03-10T15:02:33.9460186Z   callbacks
2024-03-10T15:02:33.9698757Z     properly downcases email
2024-03-10T15:02:33.9699878Z   Filters
2024-03-10T15:02:33.9700400Z     by_status
2024-03-10T15:02:34.0124635Z       yields deactivated partner when deactivated status provided
2024-03-10T15:02:34.0565499Z       yields partners with the provided status
2024-03-10T15:02:34.0566675Z   #approvable?
2024-03-10T15:02:34.0567302Z     when status is awaiting_review
2024-03-10T15:02:34.0616600Z       should return true
2024-03-10T15:02:34.0617414Z     when status is not invited or awaiting_review
2024-03-10T15:02:34.0709332Z       should return false
2024-03-10T15:02:34.0710318Z     when status is invited
2024-03-10T15:02:34.0756057Z       should return true
2024-03-10T15:02:34.0756951Z   #profile
2024-03-10T15:02:34.1016498Z     should return the associated Partners::Profile record
2024-03-10T15:02:34.1017447Z   #deletable?
2024-03-10T15:02:34.1018298Z     when status is uninvited
2024-03-10T15:02:34.1018999Z       when it has a profile and users
2024-03-10T15:02:34.1304709Z         should return false
2024-03-10T15:02:34.1305457Z       when it has a distribution
2024-03-10T15:02:34.1515749Z         should return false
2024-03-10T15:02:34.1517322Z       when it has no other associations
2024-03-10T15:02:34.1630802Z         should return true
2024-03-10T15:02:34.1631408Z       when it has a request
2024-03-10T15:02:34.1790422Z         should return false
2024-03-10T15:02:34.1791513Z       when it has a profile but no users
2024-03-10T15:02:34.1963578Z         should return true
2024-03-10T15:02:34.1964843Z     when status is not uninvited
2024-03-10T15:02:34.2052799Z       should return false
2024-03-10T15:02:34.2053525Z   import_csv
2024-03-10T15:02:34.5374709Z     imports partners from a csv file with BOM encodings
2024-03-10T15:02:34.7588268Z     imports partners from a csv file and prevents multiple imports
2024-03-10T15:02:34.7589268Z   versioning
2024-03-10T15:02:34.7629118Z     is expected to be versioned
2024-03-10T15:02:34.7629882Z   #deactivated?
2024-03-10T15:02:34.7630785Z     when the status is 'deactivated'
2024-03-10T15:02:34.7674461Z       should return true
2024-03-10T15:02:34.7675369Z     when the status is not 'deactivated'
2024-03-10T15:02:34.7718538Z       should return false
2024-03-10T15:02:34.7719262Z   #csv_export_attributes
2024-03-10T15:02:34.8055443Z     includes contact person information from parnerbase
2024-03-10T15:02:34.8056695Z   Validations >
2024-03-10T15:02:34.8365744Z     still requires a unique email between organizations
2024-03-10T15:02:34.8426101Z     must belong to an organization
2024-03-10T15:02:34.8668715Z     does not require a unique name between organizations
2024-03-10T15:02:34.8956295Z     requires a unique email that is formatted correctly
2024-03-10T15:02:34.9043173Z     validates the quota is a number but it is not required
2024-03-10T15:02:34.9312145Z     requires a unique name within an organization
2024-03-10T15:02:34.9313058Z   #impact_metrics
2024-03-10T15:02:34.9314060Z     when partner don't have any related information
2024-03-10T15:02:34.9609889Z       is expected to eq {:children_served=>0, :families_served=>0, :family_zipcodes=>0, :family_zipcodes_list=>[]}
2024-03-10T15:02:34.9611293Z     when partner has related information
2024-03-10T15:02:35.0152891Z       is expected to eq {:children_served=>4, :families_served=>3, :family_zipcodes=>2, :family_zipcodes_list=>["45612-123", "45612-126"]}
2024-03-10T15:02:35.0154274Z   changing emails
2024-03-10T15:02:35.0438702Z     should not call the UserInviteService.invite when the partner has status deactivated and the email is changed
2024-03-10T15:02:35.0732318Z     should not call the UserInviteService.invite when the partner has status uninvited and the email is changed
2024-03-10T15:02:35.1005675Z     should call the UserInviteService.invite when the partner has status approved and the email is changed
2024-03-10T15:02:35.1274856Z     should call the UserInviteService.invite when the partner has status recertification_required and the email is changed
2024-03-10T15:02:35.1555777Z     should call the UserInviteService.invite when the partner has status awaiting_review and the email is changed
2024-03-10T15:02:35.1922757Z     should not call the UserInviteService.invite when the partner is changing email to previously used email
2024-03-10T15:02:35.2206137Z     should call the UserInviteService.invite when the partner has status invited and the email is changed
2024-03-10T15:02:35.2207145Z   #quantity_year_to_date
2024-03-10T15:02:35.4171476Z     does not include quantities from distributions issued during the previous year
2024-03-10T15:02:35.6174264Z     includes all item quantities from distributions issued during the current year
2024-03-10T15:02:35.6175215Z   associations
2024-03-10T15:02:35.6240243Z     is expected to belong to organization required: true
2024-03-10T15:02:35.6280971Z     is expected to have many requestable_items through item_categories source => items
2024-03-10T15:02:35.6317552Z     is expected to have many families dependent => destroy
2024-03-10T15:02:35.6354459Z     is expected to have many requests
2024-03-10T15:02:35.6409390Z     is expected to belong to partner_group optional: true
2024-03-10T15:02:35.6443516Z     is expected to have many children through families
2024-03-10T15:02:35.6479334Z     is expected to have many item_categories through partner_group
2024-03-10T15:02:35.6513386Z     is expected to have many distributions
2024-03-10T15:02:35.6548764Z     is expected to have many users dependent => destroy
2024-03-10T15:02:35.6584926Z     is expected to have many requests
2024-03-10T15:02:35.6585602Z     primary_user
2024-03-10T15:02:35.6890289Z       should return the first user ever created for a partner
2024-03-10T15:02:35.6891237Z   ActiveStorage validation
2024-03-10T15:02:35.7022754Z     validates that attachments are pdf or docs
2024-03-10T15:02:35.7023386Z 
2024-03-10T15:02:35.7023654Z CustomDeviseMailer
2024-03-10T15:02:35.7024585Z   #invitation_instructions
2024-03-10T15:02:35.7025483Z     when partner is invited
2024-03-10T15:02:35.7563334Z       invites to primary user
2024-03-10T15:02:35.7564506Z     when user is invited
2024-03-10T15:02:35.7784303Z       invites to user
2024-03-10T15:02:35.7992164Z       has invite expiration message
2024-03-10T15:02:35.7993066Z     when other partner users invited
2024-03-10T15:02:35.8428208Z       invites to partner user
2024-03-10T15:02:35.8428803Z 
2024-03-10T15:02:35.8429403Z Partners::AuthorizedFamilyMember
2024-03-10T15:02:35.8430139Z   associations
2024-03-10T15:02:35.8476697Z     is expected to have many child_item_requests dependent => nullify
2024-03-10T15:02:35.8523305Z     is expected to belong to family required: true
2024-03-10T15:02:35.8524159Z   versioning
2024-03-10T15:02:35.8565405Z     is expected to be versioned
2024-03-10T15:02:35.8566340Z   #display_name
2024-03-10T15:02:35.8883656Z     should return the family member's first and last name
2024-03-10T15:02:35.8884362Z 
2024-03-10T15:02:35.8884851Z InventoryAggregate
2024-03-10T15:02:35.8885425Z   individual events
2024-03-10T15:02:36.2181646Z     should process a donation destroyed event
2024-03-10T15:02:36.5390844Z     should process a purchase event
2024-03-10T15:02:36.8186246Z     should process a snapshot event
2024-03-10T15:02:37.1422959Z     should process a transfer event
2024-03-10T15:02:37.4959242Z     should process a kit allocation event
2024-03-10T15:02:37.8110454Z     should process a distribution event
2024-03-10T15:02:38.1326768Z     should process an audit event
2024-03-10T15:02:38.5284504Z     should process a kit deallocation event
2024-03-10T15:02:38.8631019Z     should process a distribution destroyed event
2024-03-10T15:02:39.1829823Z     should process a transfer destroy event
2024-03-10T15:02:39.5119240Z     should process a purchase destroyed event
2024-03-10T15:02:39.8028378Z     should process a donation event
2024-03-10T15:02:40.1114329Z     should process an adjustment event
2024-03-10T15:02:40.4014909Z     should process a donation event after a new storage location is created
2024-03-10T15:02:40.4016276Z   validation
2024-03-10T15:02:40.4016698Z     subsequent event is incorrect
2024-03-10T15:02:40.6659740Z       should handle negative quantities
2024-03-10T15:02:40.9831797Z       should add the event to the message
2024-03-10T15:02:40.9832681Z     current event is incorrect
2024-03-10T15:02:41.2246881Z       should raise a bare error
2024-03-10T15:02:41.2247654Z   multiple events
2024-03-10T15:02:41.5026077Z     should handle changing storage location
2024-03-10T15:02:41.8359527Z     should handle intervening audits
2024-03-10T15:02:42.1103317Z     should handle timing correctly
2024-03-10T15:02:42.4086851Z     should ignore unusable snapshots
2024-03-10T15:02:42.8365136Z     should process multiple events
2024-03-10T15:02:42.8365901Z 
2024-03-10T15:02:42.8366171Z HistoricalTrendsHelper
2024-03-10T15:02:42.8367614Z   #last_12_months
2024-03-10T15:02:42.8430072Z     returns the last 12 months starting from Jan when the current month is Dec
2024-03-10T15:02:42.8481493Z     returns the last 12 months starting from July when the current month is June
2024-03-10T15:02:42.8530869Z     returns the last 12 months starting from Feb when the current month is Jan
2024-03-10T15:02:42.8531624Z 
2024-03-10T15:02:42.8532092Z Partners::Profile
2024-03-10T15:02:42.8573562Z   must allow deleting served_areas
2024-03-10T15:02:42.8574638Z   social media info validation for profile
2024-03-10T15:02:42.8575836Z     no social media presence and the checkbox isn't checked
2024-03-10T15:02:42.8644597Z       should not be valid
2024-03-10T15:02:42.8763571Z       should be valid if media_information is not needed
2024-03-10T15:02:42.8764721Z     has social media presence and the checkbox is unchecked
2024-03-10T15:02:42.8846796Z       with just a website it should be valid
2024-03-10T15:02:42.8929867Z       with just twitter it should be valid
2024-03-10T15:02:42.9006705Z       with just facebook it should be valid
2024-03-10T15:02:42.9080207Z       with just instagram it should be valid
2024-03-10T15:02:42.9161285Z       with every social media option it should be valid
2024-03-10T15:02:42.9162788Z     no social media presence and the checkbox is checked
2024-03-10T15:02:42.9227788Z       should be valid
2024-03-10T15:02:42.9228656Z   associations
2024-03-10T15:02:42.9274856Z     is expected to have a has_one_attached called proof_of_partner_status
2024-03-10T15:02:42.9320084Z     is expected to have a has_one_attached called proof_of_form_990
2024-03-10T15:02:42.9358018Z     is expected to have many served_areas
2024-03-10T15:02:42.9404784Z     is expected to have a has_many_attached called documents
2024-03-10T15:02:42.9405858Z   client share behaviour
2024-03-10T15:02:42.9406787Z     no served areas
2024-03-10T15:02:42.9468899Z       has 0 client share
2024-03-10T15:02:42.9469909Z     multiple
2024-03-10T15:02:42.9772328Z       is valid if client share sum is 100
2024-03-10T15:02:42.9954482Z       sums the client shares
2024-03-10T15:02:42.9955779Z   versioning
2024-03-10T15:02:42.9996943Z     is expected to be versioned
2024-03-10T15:02:42.9998354Z   request settings validation for profile
2024-03-10T15:02:42.9999386Z     at least one request type is set to true
2024-03-10T15:02:43.0084310Z       should be valid when enable_individual_requests is true
2024-03-10T15:02:43.0165773Z       should be valid when enable_quantity_based_requests is true
2024-03-10T15:02:43.0240865Z       should be valid when enable_child_based_requests is true
2024-03-10T15:02:43.0241766Z     no settings are set to true
2024-03-10T15:02:43.0292181Z       should not be valid
2024-03-10T15:02:43.0293160Z 
2024-03-10T15:02:43.0294408Z AccountRequestMailer
2024-03-10T15:02:43.0295289Z   #rejection
2024-03-10T15:02:43.0533585Z     should be sent to the correct email address
2024-03-10T15:02:43.0672355Z     should include the rejection reason
2024-03-10T15:02:43.0808905Z     should have the correct subject
2024-03-10T15:02:43.0810059Z     when the account_request_id provided does not match any AccountRequest
2024-03-10T15:02:43.0864414Z       should trigger raise a ActiveRecord::RecordNotFound error
2024-03-10T15:02:43.0865759Z   #approval_request
2024-03-10T15:02:43.1185263Z     should include details of the account request
2024-03-10T15:02:43.1342807Z     should include the admin link to create the new organization from the account request
2024-03-10T15:02:43.1484729Z     should have the correct subject
2024-03-10T15:02:43.1628784Z     should include the admin link to reject the organization
2024-03-10T15:02:43.1758942Z     should be sent to the info@humanessentials.app email address
2024-03-10T15:02:43.1760094Z     when the account_request_id provided does not match any AccountRequest
2024-03-10T15:02:43.1813110Z       should trigger raise a ActiveRecord::RecordNotFound error
2024-03-10T15:02:43.1814267Z   #confirmation
2024-03-10T15:02:43.1948443Z     should be sent to the specified account_request email
2024-03-10T15:02:43.2068898Z     should be from no-reply@humanessentials.app
2024-03-10T15:02:43.2185917Z     should have the correct subject
2024-03-10T15:02:43.2187201Z     Text format
2024-03-10T15:02:43.2301406Z       should include the instruction video link
2024-03-10T15:02:43.2425524Z       should include the staging/demo account information
2024-03-10T15:02:43.2536974Z       should include the button to confirm the request
2024-03-10T15:02:43.2538209Z     HTML format
2024-03-10T15:02:43.2651250Z       should include the staging/demo account information
2024-03-10T15:02:43.2774591Z       should include the instruction video link
2024-03-10T15:02:43.2894163Z       should include the button to confirm the request
2024-03-10T15:02:43.2895278Z     when the account_request_id provided does not match any AccountRequest
2024-03-10T15:02:43.2942622Z       should trigger raise a ActiveRecord::RecordNotFound error
2024-03-10T15:02:43.2943555Z 
2024-03-10T15:02:43.2943836Z PartnerMailerJob
2024-03-10T15:02:43.2944612Z   conditionally sending the emails
2024-03-10T15:02:43.6273932Z     sends mail for future distributions immediately
2024-03-10T15:02:43.8358360Z     does not send mail for past distributions
2024-03-10T15:02:43.8359386Z     when the distribution is for a deactivated partner
2024-03-10T15:02:44.0383047Z       does not send the email
2024-03-10T15:02:44.0383623Z 
2024-03-10T15:02:44.0383908Z PartnerInviteService
2024-03-10T15:02:44.0738421Z   should create invite
2024-03-10T15:02:44.1131083Z   should update the status of the partner to invited
2024-03-10T15:02:44.1132129Z   with force: true
2024-03-10T15:02:44.1511181Z     should send the force setting forward
2024-03-10T15:02:44.1514551Z 
2024-03-10T15:02:44.1515068Z Partners::FamilyRequestCreateService
2024-03-10T15:02:44.1516278Z   #call
2024-03-10T15:02:44.1518405Z     when the arguments are incorrect
2024-03-10T15:02:44.1519432Z       because a unrecognized item_id was provided
2024-03-10T15:02:44.1802362Z         should return the Partners::FamilyRequestCreateService object with an error
2024-03-10T15:02:44.1803604Z       because no family_requests_attributes were defined
2024-03-10T15:02:44.2070056Z         should return the Partners::FamilyRequestCreateService object with an error
2024-03-10T15:02:44.2071247Z     when the arguments are correct
2024-03-10T15:02:44.2072261Z       without children
2024-03-10T15:02:44.2391290Z         should send the correct request payload to the Partners::RequestCreateService and call it
2024-03-10T15:02:44.2392529Z       with children
2024-03-10T15:02:44.3588797Z         should create the appropriate organization Request, Partners::ItemRequest and Partners::ChildItemRequests
2024-03-10T15:02:44.3590000Z 
2024-03-10T15:02:44.3590272Z DistributionByCountyReportService
2024-03-10T15:02:44.3590981Z   get_breakdown
2024-03-10T15:02:44.5436613Z     handles multiple partners with overlapping service areas properly
2024-03-10T15:02:44.6156465Z     will have 100% unspecified shows if no served_areas
2024-03-10T15:02:44.7140618Z     divides the item numbers and values according to the partner profile
2024-03-10T15:02:44.7141468Z 
2024-03-10T15:02:44.7141778Z DistributionDestroyService
2024-03-10T15:02:44.7142416Z   #call
2024-03-10T15:02:44.7143361Z     when the distribution_id matches no Distribution
2024-03-10T15:02:44.7187238Z       to not be a success
2024-03-10T15:02:44.7188195Z     when the distribution_id does match a Distribution
2024-03-10T15:02:44.7189468Z       and the destroy! operation fails
2024-03-10T15:02:44.9286785Z         should not delete the Distribution
2024-03-10T15:02:45.1621425Z         should not be successful and have the error message
2024-03-10T15:02:45.1622669Z       and the increase inventory operations fails
2024-03-10T15:02:45.3715420Z         should not delete the Distribution
2024-03-10T15:02:45.5785178Z         should not be successful and have the error message
2024-03-10T15:02:45.5786011Z       and the operations succeed
2024-03-10T15:02:45.7905994Z         should destroy the Distribution
2024-03-10T15:02:45.9958382Z         should be successful
2024-03-10T15:02:46.2119254Z         should increase the inventory of the storage location
2024-03-10T15:02:46.2119981Z 
2024-03-10T15:02:46.2120214Z TransferDestroyService
2024-03-10T15:02:46.2121157Z   #call
2024-03-10T15:02:46.2122603Z     when an issue occurs in transaction
2024-03-10T15:02:46.2124000Z       because the transfer destroy raised an error
2024-03-10T15:02:46.4079680Z         should return a OpenStruct with the raised error
2024-03-10T15:02:46.4080582Z       because undoing the transfer inventory changes by increasing the inventory of `from` failed
2024-03-10T15:02:46.6013669Z         should return a OpenStruct with the raised error
2024-03-10T15:02:46.6015056Z       because undoing the transfer inventory changes by decreasing the inventory of `to` failed
2024-03-10T15:02:46.7904679Z         should return a OpenStruct with the raised error
2024-03-10T15:02:46.9799509Z       because the transfer_id does not match any Transfer
2024-03-10T15:02:46.9801055Z         should return a OpenStruct with an ActiveRecord::RecordNotFound error
2024-03-10T15:02:46.9802658Z     because transfer should not be deleted
2024-03-10T15:02:47.1649869Z       should return an OpenStruct with the raised error
2024-03-10T15:02:47.1650802Z     when there are no issues
2024-03-10T15:02:47.5224057Z       should return an OpenStruct with success? set to true
2024-03-10T15:02:47.7562944Z       should execute the expected methods
2024-03-10T15:02:47.7563586Z 
2024-03-10T15:02:47.7563818Z ItemsOutTotalQuery
2024-03-10T15:02:47.7564496Z   items_out_total_query
2024-03-10T15:02:47.8759885Z     returns a sum total of all out-flows
2024-03-10T15:02:47.8762130Z 
2024-03-10T15:02:47.8762534Z TransfersController
2024-03-10T15:02:47.8763797Z   While signed in
2024-03-10T15:02:47.8764669Z     GET #show
2024-03-10T15:02:47.9066642Z       returns http success
2024-03-10T15:02:47.9068108Z     Looking at a different organization
2024-03-10T15:02:48.1025564Z       redirects the user to the sign-in page for CRUD actions
2024-03-10T15:02:48.1026467Z     GET #index
2024-03-10T15:02:48.1163735Z       returns http success
2024-03-10T15:02:48.1164471Z       when filtering by date
2024-03-10T15:02:48.1165368Z         when date parameters are supplied
2024-03-10T15:02:48.1538069Z           only returns the correct obejects
2024-03-10T15:02:48.1538991Z         when date parameters are not supplied
2024-03-10T15:02:48.1922295Z           returns all objects
2024-03-10T15:02:48.1923061Z     POST #create
2024-03-10T15:02:48.2078957Z       renders to #new when failing
2024-03-10T15:02:48.2502816Z       redirects to #show when successful
2024-03-10T15:02:48.2503781Z     GET #new
2024-03-10T15:02:48.2652382Z       returns http success
2024-03-10T15:02:48.2653554Z   While not signed in
2024-03-10T15:02:48.2820716Z     redirects the user to the sign-in page for CRUD actions
2024-03-10T15:02:48.2821798Z 
2024-03-10T15:02:48.2822319Z ServiceObjectErrorsMixin
2024-03-10T15:02:48.2822935Z   self.included
2024-03-10T15:02:48.2880866Z     should add class methods to the class that include ServiceObjectErrorsMixin
2024-03-10T15:02:48.2881947Z 
2024-03-10T15:02:48.2882200Z PartnerApprovalService
2024-03-10T15:02:48.2882833Z   #call
2024-03-10T15:02:48.2883582Z     when the arguments are correct
2024-03-10T15:02:48.3217798Z       should send an email notification to the partner
2024-03-10T15:02:48.3555616Z       should have no errors
2024-03-10T15:02:48.3923808Z       should change the partner status to approved
2024-03-10T15:02:48.3924925Z       but a unexpected error occured during the save
2024-03-10T15:02:48.3925802Z         for partner approval
2024-03-10T15:02:48.4214948Z           should have an error with the raised error
2024-03-10T15:02:48.4507173Z           should not change the partner status to approved
2024-03-10T15:02:48.4788980Z           should not send an email notification to the partner
2024-03-10T15:02:48.4790390Z     when the arguments are incorrect
2024-03-10T15:02:48.4791146Z       because the partner is not approvable
2024-03-10T15:02:48.5066004Z         should return the PartnerApprovalService object with an error
2024-03-10T15:02:48.5069027Z 
2024-03-10T15:02:48.5069452Z Exports::ExportRequestService
2024-03-10T15:02:48.5070280Z   .generate_csv_data
2024-03-10T15:02:48.7128066Z     includes rows for each request with correct columns of item quantity
2024-03-10T15:02:48.9180437Z     includes headers as the first row with ordered item names alphabetically with deleted item included at the end
2024-03-10T15:02:48.9181974Z 
2024-03-10T15:02:48.9182271Z AdjustmentCreateService
2024-03-10T15:02:48.9182928Z   call
2024-03-10T15:02:49.0090335Z     increases handles mixed adjustments to same appropriately (total is negative version)
2024-03-10T15:02:49.0718608Z     gives an error if we attempt to adjust inventory below 0
2024-03-10T15:02:49.1611391Z     handles adjustments to multiple items
2024-03-10T15:02:49.2429931Z     saves a new adjustment with line items relating to the current (simple case) positive adjustment
2024-03-10T15:02:49.3375900Z     decreases stored inventory on a negative adjustment
2024-03-10T15:02:49.4281555Z     increases stored inventory on a positive adjustment
2024-03-10T15:02:49.5180059Z     saves a new adjustment with line items relating to the current (simple case) negative adjustment
2024-03-10T15:02:49.5876320Z     does not allow inventory to be adjusted below 0
2024-03-10T15:02:49.6819870Z     handles mixed adjustments to same item appropriately (total is positive version)
2024-03-10T15:02:49.6820570Z 
2024-03-10T15:02:49.6820890Z Reports::ChildrenServedReportService
2024-03-10T15:02:49.6821655Z   #report
2024-03-10T15:02:50.2032567Z     should work with no distribution_quantity
2024-03-10T15:02:50.7191645Z     should report normal values
2024-03-10T15:02:50.9052234Z     should report zero values
2024-03-10T15:02:50.9053100Z 
2024-03-10T15:02:50.9053377Z Transfer
2024-03-10T15:02:50.9054478Z   Scopes >
2024-03-10T15:02:50.9299183Z     `to_location` can filter out transfers to a specific location
2024-03-10T15:02:50.9538124Z     `from_location` can filter out transfers from a specific location
2024-03-10T15:02:50.9539122Z   Validations >
2024-03-10T15:02:50.9622531Z     must belong to an organization
2024-03-10T15:02:50.9752778Z     must have storage locations set
2024-03-10T15:02:50.9877433Z     must have different storage locations
2024-03-10T15:02:51.0160463Z     requires that each line item exists in the inventory
2024-03-10T15:02:51.2068219Z     must only use storage locations that belong to the organization (no hacks!)
2024-03-10T15:02:51.2775315Z     requires that the line items must have sufficient quantity in the inventory
2024-03-10T15:02:51.2776160Z   versioning
2024-03-10T15:02:51.2816119Z     is expected to be versioned
2024-03-10T15:02:51.2817294Z   behaves like itemizable
2024-03-10T15:02:51.2818060Z     .line_items
2024-03-10T15:02:51.2819116Z       total
2024-03-10T15:02:51.3333223Z         has an item total
2024-03-10T15:02:51.3333825Z       combine!
2024-03-10T15:02:51.3830652Z         combines multiple line_items with the same item_id into a single record
2024-03-10T15:02:51.4136960Z         incrementally combines line_items on donations that have already been created
2024-03-10T15:02:51.4138077Z       quantities_by_name
2024-03-10T15:02:51.4670943Z         leaves out zero-quantitied items if requested
2024-03-10T15:02:51.5170249Z         returns a hash of items with id, name, and quantity
2024-03-10T15:02:51.5171521Z       sorted
2024-03-10T15:02:51.5940707Z         displays the items, sorted by name
2024-03-10T15:02:51.5941561Z     .to_a
2024-03-10T15:02:51.5942203Z       with Flipper flag :deprecate_to_a disabled
2024-03-10T15:02:51.6330252Z         calls line_item_values
2024-03-10T15:02:51.6330965Z       with Flipper flag :deprecate_to_a enabled
2024-03-10T15:02:51.6718362Z         raises an error
2024-03-10T15:02:51.6719100Z   Methods >
2024-03-10T15:02:51.8808645Z     `self.storage_locations_transferred_to` and `..._from` constrains appropriately
2024-03-10T15:02:51.8809375Z 
2024-03-10T15:02:51.8809566Z DistributionMailer
2024-03-10T15:02:51.8810285Z   #partner_mailer
2024-03-10T15:02:51.9501236Z     renders the body with organization's email text
2024-03-10T15:02:52.0018713Z     renders the body with distributions text
2024-03-10T15:02:52.0019893Z     with distribution changes
2024-03-10T15:02:52.0629204Z       renders the body with changes that happened in the distribution
2024-03-10T15:02:52.0630058Z     with deliver_method: :delivery
2024-03-10T15:02:52.1211668Z       renders the body with 'delivered' specified
2024-03-10T15:02:52.1848399Z       sends copy of email only to the partner
2024-03-10T15:02:52.1849672Z     with deliver_method: :pick_up
2024-03-10T15:02:52.2525878Z       renders the body with 'picked up' specified
2024-03-10T15:02:52.2526845Z       when parners profile pick_up_email is present
2024-03-10T15:02:52.3158043Z         sends email to the primary contact and partner`s pickup person
2024-03-10T15:02:52.3159058Z         when pickup person happens to be the same as the primary contact
2024-03-10T15:02:52.3812900Z           does not send email twice
2024-03-10T15:02:52.3813906Z   #reminder_email
2024-03-10T15:02:52.3818479Z     HTML format
2024-03-10T15:02:52.4416477Z       renders the body with organization's email text
2024-03-10T15:02:52.4417374Z     with deliver_method: :pick_up
2024-03-10T15:02:52.5019252Z       renders the body with 'pick up' specified
2024-03-10T15:02:52.5020435Z     with deliver_method: :delivery
2024-03-10T15:02:52.5677564Z       renders the body with 'delivery' specified
2024-03-10T15:02:52.5678297Z     Text format
2024-03-10T15:02:52.6249493Z       renders the body with organization's email text
2024-03-10T15:02:52.6251417Z 
2024-03-10T15:02:52.6251717Z HelpController
2024-03-10T15:02:52.6252669Z   While signed in as a normal user >
2024-03-10T15:02:52.6254047Z     GET #show
2024-03-10T15:02:52.6327023Z       does not display help page when the user logs out
2024-03-10T15:02:52.6478888Z       returns http success
2024-03-10T15:02:52.6482003Z 
2024-03-10T15:02:52.6482307Z Partners::UpdateFamily
2024-03-10T15:02:52.6482934Z   #call
2024-03-10T15:02:52.6483590Z     when an error occurs during archiving
2024-03-10T15:02:52.6892911Z       does not archive the family or its children and adds error to the service
2024-03-10T15:02:52.6893698Z     when family has children
2024-03-10T15:02:52.7309119Z       archives the family and its children
2024-03-10T15:02:52.7309880Z 
2024-03-10T15:02:52.7310477Z Reports::OtherProductsReportService
2024-03-10T15:02:52.7311218Z   #report
2024-03-10T15:02:52.9130225Z     should report zero values
2024-03-10T15:02:53.5688937Z     should report normal values
2024-03-10T15:02:53.5689592Z 
2024-03-10T15:02:53.5689807Z KitAllocation
2024-03-10T15:02:53.5693648Z   add some examples to (or delete) /home/runner/work/human-essentials/human-essentials/spec/models/kit_allocation_spec.rb (PENDING: Not yet implemented)
2024-03-10T15:02:53.5695361Z   versioning
2024-03-10T15:02:53.5799332Z     is expected to be versioned
2024-03-10T15:02:53.5799891Z 
2024-03-10T15:02:53.5800188Z UsersRole
2024-03-10T15:02:53.5800521Z   versioning
2024-03-10T15:02:53.5855675Z     is expected to be versioned
2024-03-10T15:02:53.5856483Z   #current_role_for
2024-03-10T15:02:53.5857102Z     for partner user
2024-03-10T15:02:53.6003861Z       should return partner user
2024-03-10T15:02:53.6004606Z     for org admin
2024-03-10T15:02:53.6221275Z       should return org admin
2024-03-10T15:02:53.6222417Z     for super admin
2024-03-10T15:02:53.6398458Z       should return super admin
2024-03-10T15:02:53.6399278Z     for org user
2024-03-10T15:02:53.6555749Z       should return org user
2024-03-10T15:02:53.6556317Z 
2024-03-10T15:02:53.6556847Z Deadlinable
2024-03-10T15:02:53.6557461Z   validations
2024-03-10T15:02:53.6653729Z     is expected to validate that :deadline_day looks like an integer greater than or equal to 1 and less than or equal to 28 as long as it is not nil
2024-03-10T15:02:53.6744686Z     is expected to validate that :reminder_day looks like an integer greater than or equal to 1 and less than or equal to 28 as long as it is not nil
2024-03-10T15:02:53.6797086Z     validates that reminder day is not the same as deadline day
2024-03-10T15:02:53.6798080Z 
2024-03-10T15:02:53.6798607Z Partners::FetchPartnersToRemindNowService
2024-03-10T15:02:53.6799730Z   .fetch
2024-03-10T15:02:53.6800700Z     when there is a partner
2024-03-10T15:02:53.6802017Z       that does NOT have a organization with a global reminder & deadline
2024-03-10T15:02:53.6806308Z         and is a part of a partner group that does have them defined
2024-03-10T15:02:53.6807264Z           that is for today
2024-03-10T15:02:53.7277439Z             should include that partner
2024-03-10T15:02:53.7278130Z             but the partner is deactivated
2024-03-10T15:02:53.7681812Z               should NOT include that partner
2024-03-10T15:02:53.7683020Z           that is not for today
2024-03-10T15:02:53.8048763Z             should NOT include that partner
2024-03-10T15:02:53.8049810Z       that has an organization with a global reminder & deadline
2024-03-10T15:02:53.8050888Z         that is not for today
2024-03-10T15:02:53.8364538Z           should NOT include that partner
2024-03-10T15:02:53.8365291Z         AND a partner group that does have them defined
2024-03-10T15:02:53.8755418Z           should remind based on the partner group instead of the organization level reminder
2024-03-10T15:02:53.8756225Z           but the partner is deactivated
2024-03-10T15:02:53.9207650Z             should NOT include that partner
2024-03-10T15:02:53.9208311Z         that is for today
2024-03-10T15:02:53.9550704Z           should include that partner
2024-03-10T15:02:53.9915077Z           but the partner is deactivated
2024-03-10T15:02:53.9915998Z             should NOT include that partner
2024-03-10T15:02:53.9916747Z           and has send_reminder=false
2024-03-10T15:02:54.0264289Z             should NOT include that partner
2024-03-10T15:02:54.0265400Z 
2024-03-10T15:02:54.0265672Z Vendor
2024-03-10T15:02:54.0267526Z   Methods
2024-03-10T15:02:54.0268188Z     volume
2024-03-10T15:02:54.0962842Z       retrieves the amount of product that has been bought from this vendor
2024-03-10T15:02:54.0963758Z   versioning
2024-03-10T15:02:54.1002623Z     is expected to be versioned
2024-03-10T15:02:54.1003323Z   behaves like provideable
2024-03-10T15:02:54.1004169Z     import_csv
2024-03-10T15:02:54.2823007Z       imports from a csv file
2024-03-10T15:02:54.2824074Z     Validations
2024-03-10T15:02:54.2886672Z       is invalid unless it has either a contact name or a business name
2024-03-10T15:02:54.2920451Z       is invalid without an organization
2024-03-10T15:02:54.2921371Z     geocode
2024-03-10T15:02:54.2973880Z       adds coordinates to the database
2024-03-10T15:02:54.2975042Z 
2024-03-10T15:02:54.2975555Z ItemsController
2024-03-10T15:02:54.2976554Z   While not signed in
2024-03-10T15:02:54.3058373Z     redirects the user to the sign-in page for CRUD actions
2024-03-10T15:02:54.3059446Z   While signed in
2024-03-10T15:02:54.3060032Z     DELETE #destroy
2024-03-10T15:02:54.3321372Z       redirects to #index
2024-03-10T15:02:54.3322325Z     GET #show
2024-03-10T15:02:54.3526260Z       returns http success
2024-03-10T15:02:54.3527348Z     GET #edit
2024-03-10T15:02:54.3714179Z       returns http success
2024-03-10T15:02:54.3714928Z     POST #create
2024-03-10T15:02:54.3715784Z       with valid params
2024-03-10T15:02:54.3920447Z         should accept params with dollar signs, periods, and commas
2024-03-10T15:02:54.4231109Z         should create an item
2024-03-10T15:02:54.4457134Z         should redirect to the item page
2024-03-10T15:02:54.4458066Z       with invalid params
2024-03-10T15:02:54.4618771Z         should show an error
2024-03-10T15:02:54.4619894Z     GET #index
2024-03-10T15:02:54.4826490Z       returns http success
2024-03-10T15:02:54.4827536Z     PATCH #remove_category
2024-03-10T15:02:54.6949767Z       should redirect to the previous category page
2024-03-10T15:02:54.9024009Z       should remove an item's category
2024-03-10T15:02:54.9024884Z     PUT #update
2024-03-10T15:02:54.9025311Z       invisible
2024-03-10T15:02:54.9252243Z         should update visible_to_partners to false
2024-03-10T15:02:54.9252888Z       visible
2024-03-10T15:02:54.9478562Z         should update visible_to_partners to true
2024-03-10T15:02:54.9479642Z     Looking at a different organization
2024-03-10T15:02:55.1361967Z       redirects the user to the sign-in page for CRUD actions
2024-03-10T15:02:55.1363003Z     PATCH #restore
2024-03-10T15:02:55.1363807Z       with an active item
2024-03-10T15:02:55.1605417Z         does nothing
2024-03-10T15:02:55.1606353Z       with another organizations item
2024-03-10T15:02:55.3741820Z         does nothing
2024-03-10T15:02:55.3742768Z       with a soft-deleted item
2024-03-10T15:02:55.3982288Z         re-activates the item
2024-03-10T15:02:55.3983099Z     GET #new
2024-03-10T15:02:55.4111633Z       returns http success
2024-03-10T15:02:55.4112537Z 
2024-03-10T15:02:55.4112961Z Request
2024-03-10T15:02:55.4114234Z   versioning
2024-03-10T15:02:55.4153885Z     is expected to be versioned
2024-03-10T15:02:55.4154602Z   total_items
2024-03-10T15:02:55.4265671Z     adds the quantity of all items in the request
2024-03-10T15:02:55.4266584Z   Enums >
2024-03-10T15:02:55.4267171Z     #status
2024-03-10T15:02:55.4477635Z       scopes
2024-03-10T15:02:55.4478101Z   item data
2024-03-10T15:02:55.4560694Z     coerces item quantity and id to always be an integer before saving
2024-03-10T15:02:55.4561773Z 
2024-03-10T15:02:55.4562035Z RequestsConfirmationMailer
2024-03-10T15:02:55.4870707Z   pairs the right quantities with the right item names
2024-03-10T15:02:55.5062786Z   handles duplicates
2024-03-10T15:02:55.5063772Z   #confirmation_email
2024-03-10T15:02:55.5246260Z     renders the body
2024-03-10T15:02:55.5381291Z     renders the headers
2024-03-10T15:02:55.5382105Z 
2024-03-10T15:02:55.5382367Z Partners::ServedArea
2024-03-10T15:02:55.5631270Z   must only allow valid client share values
2024-03-10T15:02:55.5678379Z   is expected to belong to partner_profile required: true
2024-03-10T15:02:55.5719106Z   is expected to belong to county required: true
2024-03-10T15:02:55.5849990Z   must only allow integer client shares
2024-03-10T15:02:55.5850945Z   versioning
2024-03-10T15:02:55.5885429Z     is expected to be versioned
2024-03-10T15:02:55.5886319Z 
2024-03-10T15:02:55.5886751Z UserInviteService
2024-03-10T15:02:55.8611668Z   should create the user without a name with default role
2024-03-10T15:02:55.8904283Z   should invite a user with the partner role
2024-03-10T15:02:55.8904839Z   with existing user
2024-03-10T15:02:55.9010149Z     should raise an error when reinviting an existing user with the same role
2024-03-10T15:02:56.0932964Z     should add roles to existing user
2024-03-10T15:02:56.0933554Z     with force: true
2024-03-10T15:02:56.1166887Z       should reinvite the user
2024-03-10T15:02:56.1167901Z   with a new user
2024-03-10T15:02:56.1478046Z     should create the user without name with role
2024-03-10T15:02:56.3560800Z     should create the user with roles
2024-03-10T15:02:56.3561438Z 
2024-03-10T15:02:56.3561783Z Reports::WarehouseReportService
2024-03-10T15:02:56.3562609Z   #report
2024-03-10T15:02:56.5379291Z     should print unknown square footage
2024-03-10T15:02:56.8980282Z     should print unknown warehouse type
2024-03-10T15:02:57.0830370Z     should print zero values
2024-03-10T15:02:57.4553103Z     should print normal values
2024-03-10T15:02:57.4554364Z 
2024-03-10T15:02:57.4554797Z Distribution
2024-03-10T15:02:57.4556989Z   behaves like itemizable
2024-03-10T15:02:57.4558286Z     .line_items
2024-03-10T15:02:57.4559447Z       sorted
2024-03-10T15:02:57.5926897Z         displays the items, sorted by name
2024-03-10T15:02:57.5928072Z       quantities_by_name
2024-03-10T15:02:57.6887169Z         returns a hash of items with id, name, and quantity
2024-03-10T15:02:57.7882089Z         leaves out zero-quantitied items if requested
2024-03-10T15:02:57.7882732Z       total
2024-03-10T15:02:57.8888648Z         has an item total
2024-03-10T15:02:57.8889264Z       combine!
2024-03-10T15:02:57.9583191Z         incrementally combines line_items on donations that have already been created
2024-03-10T15:02:58.0080201Z         combines multiple line_items with the same item_id into a single record
2024-03-10T15:02:58.0081326Z     .to_a
2024-03-10T15:02:58.0081917Z       with Flipper flag :deprecate_to_a enabled
2024-03-10T15:02:58.0482514Z         raises an error
2024-03-10T15:02:58.0483427Z       with Flipper flag :deprecate_to_a disabled
2024-03-10T15:02:58.0894453Z         calls line_item_values
2024-03-10T15:02:58.0895085Z   Scopes >
2024-03-10T15:02:58.0895570Z     by_location >
2024-03-10T15:02:58.1458402Z       only returns distributions with given location id
2024-03-10T15:02:58.1459394Z     this_week >
2024-03-10T15:02:58.1460033Z       When it's Tuesday (mid-week)
2024-03-10T15:02:58.2216419Z         includes distributions as early as Monday and as late as upcoming Sunday
2024-03-10T15:02:58.2217358Z       When it's Sunday (end of the week)
2024-03-10T15:02:58.2730307Z         doesn't include distributions past Sunday
2024-03-10T15:02:58.2730946Z     during >
2024-03-10T15:02:58.3478693Z       returns all distributions created between two dates
2024-03-10T15:02:58.3479558Z     by_item_id >
2024-03-10T15:02:58.4898031Z       only returns distributions with given item id
2024-03-10T15:02:58.4898965Z     by_partner >
2024-03-10T15:02:58.5420390Z       only returns distributions with given partner id
2024-03-10T15:02:58.5421106Z   versioning
2024-03-10T15:02:58.5462146Z     is expected to be versioned
2024-03-10T15:02:58.5462819Z   Methods >
2024-03-10T15:02:58.5463372Z     #future?
2024-03-10T15:02:58.5464389Z       when issued_at has not passed
2024-03-10T15:02:58.5754631Z         returns true
2024-03-10T15:02:58.5755223Z       when issued_at has passed
2024-03-10T15:02:58.6109174Z         returns false
2024-03-10T15:02:58.6109819Z     #copy_line_items
2024-03-10T15:02:58.6560360Z       replicates line_items from a donation into a distribution
2024-03-10T15:02:58.6561395Z     #copy_from_request
2024-03-10T15:02:58.6833245Z       copy over relevant request information into the distrubution
2024-03-10T15:02:58.6834272Z     #combine_duplicates
2024-03-10T15:02:58.7267049Z       condenses duplicate line_items if the item_ids match
2024-03-10T15:02:58.7267972Z     #distributed_at
2024-03-10T15:02:58.7799503Z       displays explicit issued_at date
2024-03-10T15:02:58.8087387Z       shows the hour and minutes if it has been provided
2024-03-10T15:02:58.8088560Z   CSV export >
2024-03-10T15:02:58.8089147Z     csv_export_attributes
2024-03-10T15:02:59.2454809Z       returns the set of attributes which define a row in case of distribution export
2024-03-10T15:02:59.2455930Z     for_csv_export >
2024-03-10T15:02:59.5856482Z       filters only to the given filter
2024-03-10T15:02:59.9232158Z       filters only to the given issue time range
2024-03-10T15:03:00.2811303Z       filters only to the given organization
2024-03-10T15:03:00.2812149Z   Callbacks >
2024-03-10T15:03:00.3318275Z     initializes the issued_at field to default to midnight if it wasn't explicitly set
2024-03-10T15:03:00.3319751Z     #before_save
2024-03-10T15:03:00.3320285Z       #reset_shipping_cost
2024-03-10T15:03:00.3320978Z         when delivery_method is other then shipped
2024-03-10T15:03:00.3601349Z           distribution will be created successfully and the shipping_cost will be zero
2024-03-10T15:03:00.3602861Z   Validations >
2024-03-10T15:03:00.3662501Z     requires a partner
2024-03-10T15:03:00.3726665Z     ensures that the issued at is no earlier than 2000
2024-03-10T15:03:00.3920600Z     ensures the associated line_items are invalid with a zero quantity
2024-03-10T15:03:00.4373943Z     ensures the associated line_items are valid
2024-03-10T15:03:00.4413504Z     ensures that any included items are found in the associated storage location
2024-03-10T15:03:00.4470252Z     must belong to an organization
2024-03-10T15:03:00.4522652Z     requires a storage location
2024-03-10T15:03:00.4689152Z     ensures the associated line_items are invalid with a nil quantity
2024-03-10T15:03:00.4690623Z     when delivery method is other then shipped
2024-03-10T15:03:00.4966092Z       allows to save distribution
2024-03-10T15:03:00.4966921Z     when delivery method is shipped
2024-03-10T15:03:00.4967856Z       shipping cost is none negative
2024-03-10T15:03:00.5247738Z         allows to save distribution
2024-03-10T15:03:00.5248945Z       shipping cost is negative
2024-03-10T15:03:00.5315850Z         will not allow to save distribution
2024-03-10T15:03:00.5316682Z 
2024-03-10T15:03:00.5317186Z InventoryCheckService
2024-03-10T15:03:00.5318003Z   call
2024-03-10T15:03:00.5318701Z     alert
2024-03-10T15:03:00.6117145Z       should set the alert
2024-03-10T15:03:00.6117938Z     error
2024-03-10T15:03:00.6957132Z       should set the error
2024-03-10T15:03:00.6958637Z 
2024-03-10T15:03:00.6959156Z Donation
2024-03-10T15:03:00.6960680Z   versioning
2024-03-10T15:03:00.7005072Z     is expected to be versioned
2024-03-10T15:03:00.7005808Z   Associations >
2024-03-10T15:03:00.7006335Z     items >
2024-03-10T15:03:00.7193281Z       has_many
2024-03-10T15:03:00.7194002Z   Validations >
2024-03-10T15:03:00.7256844Z     ensures that the issued at is no earlier than 2000
2024-03-10T15:03:00.7659015Z     is invalid when the line items are invalid
2024-03-10T15:03:00.7660174Z     must belong to an organization
2024-03-10T15:03:00.7660862Z     requires a source from the list of available sources
2024-03-10T15:03:00.7835810Z     requires a product drive participant if the source is 'Product Drive'
2024-03-10T15:03:00.7886036Z     requires an inventory (storage location)
2024-03-10T15:03:00.8004101Z     requires a donation_site if the source is 'Donation Site'
2024-03-10T15:03:00.8174636Z     requires a manufacturer if the source is 'Manufacturer'
2024-03-10T15:03:00.8175531Z   Methods >
2024-03-10T15:03:00.8175815Z     source_view
2024-03-10T15:03:00.8176475Z       details
2024-03-10T15:03:00.8177831Z         manufacturer
2024-03-10T15:03:00.8307169Z           returns manufacturer name
2024-03-10T15:03:00.8307829Z         misc
2024-03-10T15:03:00.8405955Z           returns a truncated comment
2024-03-10T15:03:00.8406615Z         donation site
2024-03-10T15:03:00.8519096Z           returns donation_site name
2024-03-10T15:03:00.8519765Z         product drive
2024-03-10T15:03:00.8645026Z           returns product_drive name
2024-03-10T15:03:00.8645693Z       from a drive
2024-03-10T15:03:00.8646311Z         unknown participant
2024-03-10T15:03:00.8777967Z           returns drive display name
2024-03-10T15:03:00.8778683Z         participant known
2024-03-10T15:03:00.8779182Z           no contact name
2024-03-10T15:03:00.8930979Z             returns drive display name
2024-03-10T15:03:00.8931681Z           contact name present
2024-03-10T15:03:00.9071276Z             returns participant display name
2024-03-10T15:03:00.9072020Z       not from a drive
2024-03-10T15:03:00.9201366Z         returns source
2024-03-10T15:03:00.9201926Z     remove
2024-03-10T15:03:00.9859642Z       removes the item from the donation
2024-03-10T15:03:01.0578614Z       fails gracefully if the item doesn't exist
2024-03-10T15:03:01.1212384Z       works with either an id or an object
2024-03-10T15:03:01.1213065Z     money_raised
2024-03-10T15:03:01.1964625Z       tracks the money raised in a donation
2024-03-10T15:03:01.1965750Z   Scopes >
2024-03-10T15:03:01.1966135Z     during >
2024-03-10T15:03:01.2187165Z       returns all donations created between two dates
2024-03-10T15:03:01.2187734Z     by_source >
2024-03-10T15:03:01.2189100Z       when source is not a symbol
2024-03-10T15:03:01.2189730Z         when source comes from the SOURCES hash
2024-03-10T15:03:01.2383953Z           returns all donations with the provided source
2024-03-10T15:03:01.2384723Z         when source is invalid
2024-03-10T15:03:01.2600245Z           does not throw errors, returns no results
2024-03-10T15:03:01.2601012Z       when source is a symbol
2024-03-10T15:03:01.2601562Z         when source is invalid
2024-03-10T15:03:01.2801101Z           does not throw errors, returns no results
2024-03-10T15:03:01.2801830Z         when source is valid
2024-03-10T15:03:01.3006820Z           allows a symbol as an argument, referencing the SOURCES hash
2024-03-10T15:03:01.3007969Z   SOURCES
2024-03-10T15:03:01.3058556Z     the hash values are immutable
2024-03-10T15:03:01.3104982Z     is a hash that is referenceable by key to avoid 'magic strings'
2024-03-10T15:03:01.3147091Z     the hash is immutable
2024-03-10T15:03:01.3147689Z   behaves like itemizable
2024-03-10T15:03:01.3148862Z     .line_items
2024-03-10T15:03:01.3150063Z       total
2024-03-10T15:03:01.3553104Z         has an item total
2024-03-10T15:03:01.3553691Z       sorted
2024-03-10T15:03:01.4100254Z         displays the items, sorted by name
2024-03-10T15:03:01.4100997Z       quantities_by_name
2024-03-10T15:03:01.4472221Z         returns a hash of items with id, name, and quantity
2024-03-10T15:03:01.4884391Z         leaves out zero-quantitied items if requested
2024-03-10T15:03:01.4885140Z       combine!
2024-03-10T15:03:01.5450677Z         incrementally combines line_items on donations that have already been created
2024-03-10T15:03:01.5938997Z         combines multiple line_items with the same item_id into a single record
2024-03-10T15:03:01.5939923Z     .to_a
2024-03-10T15:03:01.5940885Z       with Flipper flag :deprecate_to_a disabled
2024-03-10T15:03:01.6363436Z         calls line_item_values
2024-03-10T15:03:01.6364047Z       with Flipper flag :deprecate_to_a enabled
2024-03-10T15:03:01.6803309Z         raises an error
2024-03-10T15:03:01.6804042Z   Callbacks >
2024-03-10T15:03:01.7017855Z     automatically combines duplicate line_item records when they're created
2024-03-10T15:03:01.7185800Z     inititalizes the issued_at field to default to midnight if it wasn't explicitly set
2024-03-10T15:03:01.7187685Z 
2024-03-10T15:03:01.7188056Z Item
2024-03-10T15:03:01.7188528Z   default_quantity
2024-03-10T15:03:01.7299133Z     should return 50 if column is not set
2024-03-10T15:03:01.7402923Z     should return the value of on_hand_minimum_quantity if it is set
2024-03-10T15:03:01.7503358Z     should return the value of distribution_quantity if it is set
2024-03-10T15:03:01.7605889Z     should return 0 if on_hand_minimum_quantity is not set
2024-03-10T15:03:01.7606691Z   Methods >
2024-03-10T15:03:01.7607216Z     storage_locations_containing
2024-03-10T15:03:01.8059672Z       retrieves all storage locations that contain an item
2024-03-10T15:03:01.8060263Z     has_history?
2024-03-10T15:03:01.8982168Z       identifies items that have been used previously
2024-03-10T15:03:01.8982829Z     barcodes_for
2024-03-10T15:03:01.9210575Z       retrieves all BarcodeItems associated with an item
2024-03-10T15:03:01.9211210Z     other?
2024-03-10T15:03:01.9359157Z       is true for items that are partner_key 'other'
2024-03-10T15:03:01.9359680Z     destroy
2024-03-10T15:03:01.9551449Z       actually destroys an item that doesn't have history
2024-03-10T15:03:01.9821040Z       only hides an item that has history
2024-03-10T15:03:02.2278329Z       deactivates the kit if it exists
2024-03-10T15:03:02.2278939Z     barcoded_items >
2024-03-10T15:03:02.2659392Z       returns a collection of items that have barcodes associated with them
2024-03-10T15:03:02.2660329Z     #reactivate!
2024-03-10T15:03:02.2660757Z       given an array of item ids
2024-03-10T15:03:02.3150316Z         sets the active trait to true for all of them
2024-03-10T15:03:02.3159887Z       given a single item id
2024-03-10T15:03:02.3503882Z         sets the active trait to true for that item
2024-03-10T15:03:02.3504622Z   versioning
2024-03-10T15:03:02.3611346Z     is expected to be versioned
2024-03-10T15:03:02.3612014Z   distribution_quantity and package size
2024-03-10T15:03:02.3974365Z     have nil values if an empty string is passed
2024-03-10T15:03:02.3974903Z   Assocations >
2024-03-10T15:03:02.4337003Z     is expected to belong to item_category optional: true
2024-03-10T15:03:02.4347200Z   Filtering >
2024-03-10T15:03:02.4749854Z     ->active shows items that are still active
2024-03-10T15:03:02.5032410Z     ->alphabetized retrieves items in alphabetical order
2024-03-10T15:03:02.5329305Z     ->by_size returns all items with the same size, per their BaseItem parent
2024-03-10T15:03:02.5444293Z     can filter
2024-03-10T15:03:02.5444968Z     ->by_partner_key
2024-03-10T15:03:02.5765593Z       filters by partner key
2024-03-10T15:03:02.5766434Z     ->disposable
2024-03-10T15:03:02.6330153Z       returns records associated with disposable diapers
2024-03-10T15:03:02.6331239Z     ->by_base_item
2024-03-10T15:03:02.6545770Z       shows the items for a particular base_item
2024-03-10T15:03:02.8706543Z       can be chained to organization to constrain it to just 1 org's items
2024-03-10T15:03:02.8707915Z     ->cloth_diapers
2024-03-10T15:03:02.9019941Z       returns records associated with disposable diapers
2024-03-10T15:03:02.9020722Z   after update
2024-03-10T15:03:02.9021156Z     when item does not have kit
2024-03-10T15:03:02.9161744Z       does not raise any errors
2024-03-10T15:03:02.9164095Z     when item has the kit
2024-03-10T15:03:03.1280504Z       updates kit name
2024-03-10T15:03:03.1281096Z   Validations >
2024-03-10T15:03:03.1349467Z     requires a Base Item base
2024-03-10T15:03:03.1500831Z     requires a unique name
2024-03-10T15:03:03.1565118Z     must belong to an organization
2024-03-10T15:03:03.1703048Z     requires that items quantity are not a negative number
2024-03-10T15:03:03.1703616Z 
2024-03-10T15:03:03.1703773Z RequestItem
2024-03-10T15:03:03.1704664Z   Methods >
2024-03-10T15:03:03.1705477Z     #from_json
2024-03-10T15:03:03.4340189Z       has the correct quantity
2024-03-10T15:03:03.6927538Z       has the correct name
2024-03-10T15:03:03.9443661Z       has the correct amount on hand for location
2024-03-10T15:03:04.2089672Z       has the correct amount on hand
2024-03-10T15:03:04.2090444Z 
2024-03-10T15:03:04.2090698Z NDBNMember
2024-03-10T15:03:04.2092290Z   validations
2024-03-10T15:03:04.2213636Z     is expected to validate that :ndbn_member_id cannot be empty/falsy
2024-03-10T15:03:04.2300785Z     is expected to validate that :ndbn_member_id is case-sensitively unique
2024-03-10T15:03:04.2386108Z     is expected to validate that :account_name cannot be empty/falsy
2024-03-10T15:03:04.2387199Z   #full_name
2024-03-10T15:03:04.2432082Z     should equal the id and the account name
2024-03-10T15:03:04.2432879Z   versioning
2024-03-10T15:03:04.2475197Z     is expected to be versioned
2024-03-10T15:03:04.2475961Z 
2024-03-10T15:03:04.2476173Z ProductDriveHelper
2024-03-10T15:03:04.2477692Z   #is_virtual
2024-03-10T15:03:04.2479049Z     when the product drive wasn't held virtually
2024-03-10T15:03:04.2542116Z       is expected to eq "No"
2024-03-10T15:03:04.2542778Z     when a product drive was not provided
2024-03-10T15:03:04.2595516Z       with blank argument
2024-03-10T15:03:04.2645601Z       without argument
2024-03-10T15:03:04.2646226Z     when the product drive was held virtually
2024-03-10T15:03:04.2707125Z       is expected to eq "Yes"
2024-03-10T15:03:04.2708870Z 
2024-03-10T15:03:04.2709234Z Exports::ExportDistributionsCSVService
2024-03-10T15:03:04.2710040Z   #generate_csv_data
2024-03-10T15:03:04.4604409Z     should match the expected content for the csv
2024-03-10T15:03:04.4605168Z     when a new item is added
2024-03-10T15:03:04.6583958Z       should add it to the end of the row
2024-03-10T15:03:04.8541973Z       should show up with a 0 quantity if there are none of this item in any distribution
2024-03-10T15:03:04.8543134Z     when there are no distributions but the report is requested
2024-03-10T15:03:05.0386133Z       returns a csv with only headers and no rows
2024-03-10T15:03:05.0386926Z 
2024-03-10T15:03:05.0387109Z User
2024-03-10T15:03:05.0457177Z   has a valid factory
2024-03-10T15:03:05.0457760Z   Validations >
2024-03-10T15:03:05.0675704Z     requires an email that is formatted correctly
2024-03-10T15:03:05.0773536Z     requires a name
2024-03-10T15:03:05.0921358Z     requires a password with a special character and number
2024-03-10T15:03:05.0921970Z   omniauth
2024-03-10T15:03:05.1072028Z     retrieves the user from an omniauth context
2024-03-10T15:03:05.1072629Z   Scopes >
2024-03-10T15:03:05.1073209Z     ->alphabetized
2024-03-10T15:03:05.1477553Z       retrieves users in the correct order
2024-03-10T15:03:05.1478080Z   Scopes >
2024-03-10T15:03:05.1478760Z     ->alphabetized
2024-03-10T15:03:05.1741539Z       retrieves users in the correct order
2024-03-10T15:03:05.1742069Z   Methods >
2024-03-10T15:03:05.1807333Z     discarded?
2024-03-10T15:03:05.1900152Z     #reinvitable?
2024-03-10T15:03:05.2482571Z     #kind
2024-03-10T15:03:05.2573733Z     #invitation_status
2024-03-10T15:03:05.2574301Z   versioning
2024-03-10T15:03:05.2621511Z     is expected to be versioned
2024-03-10T15:03:05.2622270Z 
2024-03-10T15:03:05.2622616Z PartnerCreateService
2024-03-10T15:03:05.2623660Z   #call
2024-03-10T15:03:05.4677215Z     should return an instance of itself
2024-03-10T15:03:05.4677759Z     when the arguments are valid
2024-03-10T15:03:05.6661436Z       should create the associated partner profile data
2024-03-10T15:03:05.8581032Z       should create a new partner record with the organization provided
2024-03-10T15:03:05.8582161Z       but there was an unexpected issue with saving the
2024-03-10T15:03:05.8582904Z         Partner record
2024-03-10T15:03:06.0487934Z           should not create the partner record for the organization
2024-03-10T15:03:06.2446283Z           should not create the associated partner records
2024-03-10T15:03:06.2446916Z         Partners::Profile record
2024-03-10T15:03:06.4458459Z           should not create the partner record for the organization
2024-03-10T15:03:06.6309985Z           should not create the associated partner records
2024-03-10T15:03:06.6310810Z     when the arguments are incorrect
2024-03-10T15:03:06.6311436Z       beacuse the partner_attrs are invalid
2024-03-10T15:03:06.8111344Z         should contain errors related to invalid partner attributes
2024-03-10T15:03:06.8112606Z 
2024-03-10T15:03:06.8112797Z BarcodeItem
2024-03-10T15:03:06.8114264Z   Organization barcodes
2024-03-10T15:03:06.8237989Z     updates a counter in Item whenever it tracks a new barcode
2024-03-10T15:03:06.8238799Z     scopes >
2024-03-10T15:03:07.0265880Z       ->for_csv_export will accept an organization and provide all barcodes for that org
2024-03-10T15:03:07.0389635Z       ->by_value returns the barcode with that value
2024-03-10T15:03:07.0638375Z       #by_item_partner_key returns barcodes that match the partner key
2024-03-10T15:03:07.0639274Z     when searching for a barcode where there is a global and local with the same value
2024-03-10T15:03:07.1009503Z       favors the local barcode
2024-03-10T15:03:07.1012564Z     validations >
2024-03-10T15:03:07.1305818Z       does not enforces value uniqueness across organizations
2024-03-10T15:03:07.1477809Z       is valid only with an organization
2024-03-10T15:03:07.1653530Z       enforces value uniqueness within the organization
2024-03-10T15:03:07.1788845Z       does not enforce value uniqueness compared with the global scope
2024-03-10T15:03:07.1916790Z       allows multiple barcodes to point at the same item
2024-03-10T15:03:07.1917536Z       value >
2024-03-10T15:03:07.2024587Z         requires a value
2024-03-10T15:03:07.2025154Z       item >
2024-03-10T15:03:07.2127921Z         is invalid without an item associated with it
2024-03-10T15:03:07.2128584Z       quantity >
2024-03-10T15:03:07.2234825Z         is not a negative number
2024-03-10T15:03:07.2332282Z         is an integer
2024-03-10T15:03:07.2432201Z         is not nil
2024-03-10T15:03:07.2432886Z     filters >
2024-03-10T15:03:07.2646718Z       ->item_id shows only barcodes for a specific item_id
2024-03-10T15:03:07.2647297Z     to_h >
2024-03-10T15:03:07.2779089Z       emits a hash for a line_item
2024-03-10T15:03:07.2779895Z   Barcodes of BaseItems ('Global')
2024-03-10T15:03:07.2878788Z     updates a counter in BaseItem whenever it tracks a new barcode
2024-03-10T15:03:07.2879416Z     validations >
2024-03-10T15:03:07.2969480Z       is valid with or without an organization
2024-03-10T15:03:07.3058357Z       allows multiple barcodes to point at the same base item
2024-03-10T15:03:07.3151619Z       enforces uniqueness in the global scope
2024-03-10T15:03:07.3152288Z       item >
2024-03-10T15:03:07.3209629Z         is invalid without an item associated with it
2024-03-10T15:03:07.3210327Z       quantity >
2024-03-10T15:03:07.3262260Z         is not a negative number
2024-03-10T15:03:07.3314231Z         is not nil
2024-03-10T15:03:07.3365543Z         is an integer
2024-03-10T15:03:07.3366008Z       value >
2024-03-10T15:03:07.3418399Z         requires a value
2024-03-10T15:03:07.3418884Z     filters >
2024-03-10T15:03:07.3589261Z       ->barcodeable_id shows only barcodes for a specific barcodeable_id
2024-03-10T15:03:07.3710622Z       ->by_value returns the barcode with that value
2024-03-10T15:03:07.3869827Z       #by_base_item_partner_key returns barcodes that match the partner key
2024-03-10T15:03:07.3870824Z     scopes >
2024-03-10T15:03:07.3871260Z       global
2024-03-10T15:03:07.4054849Z         includes all barcodes, for both base items and regular items
2024-03-10T15:03:07.4055738Z   versioning
2024-03-10T15:03:07.4097807Z     is expected to be versioned
2024-03-10T15:03:07.4098463Z 
2024-03-10T15:03:07.4098855Z Partners::FamilyRequest
2024-03-10T15:03:07.4099906Z   Partners::FamilyRequest.new_with_attrs
2024-03-10T15:03:07.4140588Z     creates a new FamilyRequest with attributes
2024-03-10T15:03:07.4141319Z   #items_attributes=
2024-03-10T15:03:07.4181188Z     overrides existing items
2024-03-10T15:03:07.4216906Z     creates instances of Item with correct attributes
2024-03-10T15:03:07.4254203Z     assigns items based on given attributes
2024-03-10T15:03:07.4255253Z 
2024-03-10T15:03:07.4255429Z ProductDrive
2024-03-10T15:03:07.6717402Z   calculates donation quantity by date
2024-03-10T15:03:07.9087081Z   calculates and returns all donated organization item quantities by name and date
2024-03-10T15:03:08.0575980Z   calculates in-kind value
2024-03-10T15:03:08.5920073Z   calculates and returns all donated organization item quantities by category and date
2024-03-10T15:03:08.7438423Z   calculates donation quantity
2024-03-10T15:03:08.7439110Z   versioning
2024-03-10T15:03:08.8948939Z     is expected to be versioned
2024-03-10T15:03:08.8949682Z   donation_source_view
2024-03-10T15:03:09.0582569Z     returns formatted text
2024-03-10T15:03:09.0583160Z   .search_date_range
2024-03-10T15:03:09.2095893Z     is expected to eq {:end_date=>"2019-12-19", :start_date=>"2019-12-17"}
2024-03-10T15:03:09.2096840Z   validations
2024-03-10T15:03:09.3561021Z     is expected not to be valid
2024-03-10T15:03:09.5040754Z     is expected not to be valid
2024-03-10T15:03:09.6510193Z     is expected not to be valid
2024-03-10T15:03:09.6510791Z   distinct_items
2024-03-10T15:03:10.0286228Z     counts the distinct items correctly by given date
2024-03-10T15:03:10.3979606Z     counts the items correctly for 1 donation with multiple items
2024-03-10T15:03:10.7618929Z     counts the distinct items correctly by given category
2024-03-10T15:03:11.1330956Z     doesn't double_count the items if there are two donations for the same item
2024-03-10T15:03:11.5135244Z     counts the distinct items correctly in overlapping donations
2024-03-10T15:03:11.5136587Z   associations
2024-03-10T15:03:11.6091940Z     has_many donations
2024-03-10T15:03:11.7012933Z     has_many product_drive_participants through donations
2024-03-10T15:03:11.7013617Z   scopes
2024-03-10T15:03:11.7014048Z     .within_date_range
2024-03-10T15:03:11.8537819Z       does not include product drive 2
2024-03-10T15:03:11.9987319Z       returns the product drive 1
2024-03-10T15:03:11.9988045Z     .by_item_category_id
2024-03-10T15:03:12.3543609Z       does not return other_name
2024-03-10T15:03:12.7080067Z       returns the product_drive with name some_name
2024-03-10T15:03:12.7080761Z     .by_name
2024-03-10T15:03:12.8596248Z       returns the product_drive with name some_name
2024-03-10T15:03:13.0189473Z       does not return other_name
2024-03-10T15:03:13.0190153Z 
2024-03-10T15:03:13.0190389Z Role
2024-03-10T15:03:13.0238291Z   is expected to accepts_nested_attributes_for :users
2024-03-10T15:03:13.0239006Z   versioning
2024-03-10T15:03:13.0281129Z     is expected to be versioned
2024-03-10T15:03:13.0281646Z   Associations
2024-03-10T15:03:13.0325954Z     is expected to belong to resource optional: true
2024-03-10T15:03:13.0391618Z     is expected to have and belong to many users
2024-03-10T15:03:13.0392304Z   Validations
2024-03-10T15:03:13.0451180Z     is expected to validate that :resource_type is either ‹"Organization"› or ‹"Partner"›
2024-03-10T15:03:13.0452043Z 
2024-03-10T15:03:13.0452213Z SyncNDBNMembers
2024-03-10T15:03:13.0452662Z   .sync
2024-03-10T15:03:13.0453079Z     when the HTTP request is successful
2024-03-10T15:03:13.0453788Z       when the account name of a NDBN Member has changed
2024-03-10T15:03:13.0789003Z         should update the account name of the corresponding NDBN Member
2024-03-10T15:03:13.0789943Z       when there are no exisiting NDBN Member records
2024-03-10T15:03:13.0898489Z         should create the NDBN Member records
2024-03-10T15:03:13.0899405Z       when no new NDBN Member has been added
2024-03-10T15:03:13.1026000Z         should not add any new NDBN Members
2024-03-10T15:03:13.1027220Z     when the HTTP request does not get a response of 200
2024-03-10T15:03:13.1072539Z       should raise an error regarding the response code
2024-03-10T15:03:13.1073278Z 
2024-03-10T15:03:13.1073572Z KitCreateService
2024-03-10T15:03:13.1074526Z   #call
2024-03-10T15:03:13.3039415Z     should return an the instance
2024-03-10T15:03:13.3040275Z     when the parameters provided are invalid
2024-03-10T15:03:13.3041181Z       because the organization_id does not match any Organization
2024-03-10T15:03:13.3094472Z         should have an error on organization_id saying it does not match any Organization
2024-03-10T15:03:13.3095401Z       because the kit_params is invalid for kit creation
2024-03-10T15:03:13.5018683Z         should have errors saying why the kit_params are invalid
2024-03-10T15:03:13.5019548Z     when the parameters are valid
2024-03-10T15:03:13.6981480Z       should create a new Kit
2024-03-10T15:03:13.9069162Z       should create a new Item
2024-03-10T15:03:14.1118159Z       should create the new Item associated with the Kit
2024-03-10T15:03:14.1118988Z       but an unexpected error gets raised
2024-03-10T15:03:14.3107605Z         should have an error that includes the raised error
2024-03-10T15:03:14.5046499Z         should not create a Item
2024-03-10T15:03:14.7152899Z         should not create the Kit
2024-03-10T15:03:14.7153466Z       but the ItemCreationService is unsuccesful
2024-03-10T15:03:14.9226287Z         should not create the Kit
2024-03-10T15:03:15.1232770Z         should not create a Item
2024-03-10T15:03:15.3341164Z         should have an error that includes the error
2024-03-10T15:03:15.3342092Z 
2024-03-10T15:03:15.3342367Z ItemsInTotalQuery
2024-03-10T15:03:15.3343370Z   items_in_total_query
2024-03-10T15:03:15.6469110Z     does not count donations, purchases, adjustments to other storage locations
2024-03-10T15:03:16.2528972Z     counts shared items together
2024-03-10T15:03:16.4815395Z     does not count negative adjustments towards in-flow
2024-03-10T15:03:16.7242477Z     does not count transfers going in the negative direction
2024-03-10T15:03:16.9034348Z     returns a sum total of all in-flows
2024-03-10T15:03:16.9034898Z 
2024-03-10T15:03:16.9035020Z ItemsOutQuery
2024-03-10T15:03:16.9035950Z   items_out_query
2024-03-10T15:03:17.0247063Z     returns a collection with the fields name, item_id, quantity
2024-03-10T15:03:17.1548928Z     includes distributions, adjustments, transfers among sources
2024-03-10T15:03:17.1549631Z 
2024-03-10T15:03:17.1549829Z OrganizationStats
2024-03-10T15:03:17.1550946Z   donation_sites_added method >
2024-03-10T15:03:17.1551685Z     current org is not nil >
2024-03-10T15:03:17.1593243Z       should return actual count of donation sites
2024-03-10T15:03:17.1594027Z     current org is nil >
2024-03-10T15:03:17.1631453Z       should return 0
2024-03-10T15:03:17.1632076Z   locations_with_inventory method >
2024-03-10T15:03:17.1633051Z     current org is nil >
2024-03-10T15:03:17.1670445Z       should return an empty array
2024-03-10T15:03:17.1671199Z     current org is not nil + locations have items >
2024-03-10T15:03:17.2057851Z       should return storage location
2024-03-10T15:03:17.2058573Z     current org is not nil + no locations have items >
2024-03-10T15:03:17.2135998Z       should return an empty array
2024-03-10T15:03:17.2136741Z   partners_added method >
2024-03-10T15:03:17.2137299Z     current org is not nil >
2024-03-10T15:03:17.2174646Z       should return actual count of partners
2024-03-10T15:03:17.2175414Z     current org is nil >
2024-03-10T15:03:17.2208357Z       should return 0
2024-03-10T15:03:17.2208919Z   storage_locations_added method >
2024-03-10T15:03:17.2209851Z     current org is not nil >
2024-03-10T15:03:17.2243208Z       should return actual count of locations
2024-03-10T15:03:17.2243933Z     current org is nil >
2024-03-10T15:03:17.2276531Z       should return 0
2024-03-10T15:03:17.2277278Z 
2024-03-10T15:03:17.2277555Z Reports::PeriodSupplyReportService
2024-03-10T15:03:17.2278364Z   #report
2024-03-10T15:03:17.4102157Z     should report zero values
2024-03-10T15:03:17.4102798Z     with values
2024-03-10T15:03:18.0663395Z       should report normal values
2024-03-10T15:03:18.0664196Z 
2024-03-10T15:03:18.0664364Z Kit
2024-03-10T15:03:18.2835402Z   deactivate and reactivate
2024-03-10T15:03:18.2835871Z   Validations >
2024-03-10T15:03:18.3031989Z     requires at least one item
2024-03-10T15:03:18.3224415Z     must belong to an organization
2024-03-10T15:03:18.3404597Z     is valid as built
2024-03-10T15:03:18.5377873Z     requires a unique name
2024-03-10T15:03:18.5566105Z     requires a name
2024-03-10T15:03:18.5753583Z     can't have negative value
2024-03-10T15:03:18.5754004Z   Value >
2024-03-10T15:03:18.5929307Z     converts dollars to cents
2024-03-10T15:03:18.6099513Z     converts cents to dollars
2024-03-10T15:03:18.6100135Z     .value_per_itemizable
2024-03-10T15:03:18.6572860Z       calculates values from associated items
2024-03-10T15:03:18.6573394Z   Filtering >
2024-03-10T15:03:19.2572518Z     ->alphabetized retrieves items in alphabetical order
2024-03-10T15:03:19.2610425Z     can filter
2024-03-10T15:03:19.2611043Z     ->by_partner_key
2024-03-10T15:03:19.4936173Z       shows the kits for a particular item
2024-03-10T15:03:19.4936902Z   #can_deactivate?
2024-03-10T15:03:19.4937360Z     without inventory items
2024-03-10T15:03:19.6937861Z       should return true
2024-03-10T15:03:19.6938450Z     with inventory
2024-03-10T15:03:19.9235198Z       should return false
2024-03-10T15:03:19.9235791Z   versioning
2024-03-10T15:03:19.9273886Z     is expected to be versioned
2024-03-10T15:03:19.9274485Z 
2024-03-10T15:03:19.9274764Z PartnerMailer
2024-03-10T15:03:19.9276209Z   #application_approved
2024-03-10T15:03:19.9547248Z     renders the body with text that indicates the result and a link to their dashboard
2024-03-10T15:03:19.9792327Z     should be sent to the partner main email with the correct subject line
2024-03-10T15:03:19.9793241Z   #recertification_request
2024-03-10T15:03:20.0047993Z     renders the body with text that indicates to recertify and link to where
2024-03-10T15:03:20.0336705Z     should be sent to the partner main email with the correct subject line
2024-03-10T15:03:20.0337614Z 
2024-03-10T15:03:20.0337862Z ApplicationHelper
2024-03-10T15:03:20.0340223Z   default_title_content
2024-03-10T15:03:20.0341269Z     Organization does not exist
2024-03-10T15:03:20.0399696Z       returns a default name
2024-03-10T15:03:20.0400289Z     Organization exists
2024-03-10T15:03:20.2244738Z       returns the organization's name
2024-03-10T15:03:20.2245474Z   can_administrate?
2024-03-10T15:03:20.2246624Z     User is part of org but not org admin
2024-03-10T15:03:20.2402788Z       cannot administrate
2024-03-10T15:03:20.2403434Z     User is org admin and part of org
2024-03-10T15:03:20.2629734Z       can administrate
2024-03-10T15:03:20.2630406Z     User is org admin and not part of org
2024-03-10T15:03:20.4657617Z       cannot administrate
2024-03-10T15:03:20.4658204Z   step_container_helper
2024-03-10T15:03:20.4661411Z     active_index is less than index
2024-03-10T15:03:20.4721908Z       returns empty string
2024-03-10T15:03:20.4722485Z     active_index is equal to index
2024-03-10T15:03:20.4772108Z       returns active
2024-03-10T15:03:20.4772647Z     active_index is greater than index
2024-03-10T15:03:20.4829955Z       returns done
2024-03-10T15:03:20.4830512Z   flash_class
2024-03-10T15:03:20.4882188Z     returns appropriate class for notice
2024-03-10T15:03:20.4934980Z     returns appropriate class for success
2024-03-10T15:03:20.4998416Z     returns appropriate class for alert
2024-03-10T15:03:20.5057171Z     returns appropriate class for error
2024-03-10T15:03:20.5057836Z   active_class
2024-03-10T15:03:20.5112840Z     Returns the controller name
2024-03-10T15:03:20.5113444Z   confirm_delete_msg
2024-03-10T15:03:20.5168015Z     subs in string
2024-03-10T15:03:20.5169349Z 
2024-03-10T15:03:20.5169562Z ProductDriveParticipant
2024-03-10T15:03:20.5171469Z   Methods
2024-03-10T15:03:20.5172468Z     volume_by_product_drive
2024-03-10T15:03:20.6752317Z       retrieves the amount of product that has been donated through specific product drive
2024-03-10T15:03:20.6753505Z     donation_source_view
2024-03-10T15:03:20.6753983Z       contact name present
2024-03-10T15:03:20.6828924Z         is expected to eq "Contact Name (participant)"
2024-03-10T15:03:20.6829661Z       no contact name
2024-03-10T15:03:20.6903443Z         is expected to be nil
2024-03-10T15:03:20.6904055Z     volume
2024-03-10T15:03:20.7637965Z       retrieves the amount of product that has been donated by participant
2024-03-10T15:03:20.7638855Z   versioning
2024-03-10T15:03:20.7683345Z     is expected to be versioned
2024-03-10T15:03:20.7683962Z   behaves like provideable
2024-03-10T15:03:20.7684602Z     import_csv
2024-03-10T15:03:20.9628375Z       imports from a csv file
2024-03-10T15:03:20.9628905Z     Validations
2024-03-10T15:03:20.9696985Z       is invalid unless it has either a contact name or a business name
2024-03-10T15:03:20.9735064Z       is invalid without an organization
2024-03-10T15:03:20.9735698Z     geocode
2024-03-10T15:03:20.9801801Z       adds coordinates to the database
2024-03-10T15:03:20.9802472Z   Validations
2024-03-10T15:03:20.9840856Z     is invalid without an organization
2024-03-10T15:03:20.9899311Z     is invalid unless it has either a phone number or an email
2024-03-10T15:03:20.9900108Z 
2024-03-10T15:03:20.9900457Z RequestsTotalItemsService
2024-03-10T15:03:20.9901470Z   #calculate
2024-03-10T15:03:20.9902412Z     when provided requests is nil
2024-03-10T15:03:20.9939815Z       is expected to be blank
2024-03-10T15:03:20.9940424Z     when item name is nil
2024-03-10T15:03:21.0067949Z       return Unknown Item
2024-03-10T15:03:21.0070361Z     when provided with requests that have no request items
2024-03-10T15:03:21.0149873Z       is expected to be blank
2024-03-10T15:03:21.0150490Z     when the request items is not blank
2024-03-10T15:03:21.0293599Z       return the names of items correctly
2024-03-10T15:03:21.0430374Z       return items with correct quantities calculated
2024-03-10T15:03:21.0431181Z 
2024-03-10T15:03:21.0431471Z User
2024-03-10T15:03:21.0432874Z   #send_reset_password_instructions
2024-03-10T15:03:21.0433493Z     user gets an email with instructions
2024-03-10T15:03:21.1360966Z       sends an email with instructions
2024-03-10T15:03:21.1361663Z   #role_added
2024-03-10T15:03:21.1720971Z     renders the body correctly
2024-03-10T15:03:21.1721526Z 
2024-03-10T15:03:21.1721859Z County
2024-03-10T15:03:21.1762816Z   is expected to have many served_areas
2024-03-10T15:03:21.1763485Z   versioning
2024-03-10T15:03:21.1799047Z     is expected to be versioned
2024-03-10T15:03:21.4668738Z 
2024-03-10T15:03:21.4671979Z Pending: (Failures listed here are expected and do not affect your suite's status)
2024-03-10T15:03:21.4673005Z 
2024-03-10T15:03:21.4674039Z   1) KitAllocation add some examples to (or delete) /home/runner/work/human-essentials/human-essentials/spec/models/kit_allocation_spec.rb
2024-03-10T15:03:21.4674976Z      # Not yet implemented
2024-03-10T15:03:21.4675338Z      # ./spec/models/kit_allocation_spec.rb:16
2024-03-10T15:03:21.4675634Z 
2024-03-10T15:03:21.4675857Z Finished in 50.76 seconds (files took 8.78 seconds to load)
2024-03-10T15:03:21.4676350Z 615 examples, 0 failures, 1 pending
2024-03-10T15:03:21.4676612Z 
2024-03-10T15:03:21.4676734Z Randomized with seed 16735
2024-03-10T15:03:21.4676944Z 
2024-03-10T15:03:21.8040873Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 3912 / 6485 LOC (60.32%) covered.
2024-03-10T15:03:22.2523030Z Coverage report generated for RSpec to /home/runner/work/human-essentials/human-essentials/coverage. 38 / 10791 LOC (0.35%) covered.
